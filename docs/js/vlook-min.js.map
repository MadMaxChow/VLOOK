{"version":3,"names":["LOG","console","log","apply","arguments","INFO","info","WARN","warn","ERROR","error","DEBUG","V_debugMode","ALERT","m","alert","WINDOW_getHref","gLocation","href","WINDOW_setHref","value","WINDOW_getHash","hash","JQ_addClass","target","className","gUndefined","addClass","JQ_removeClass","removeClass","JQ_removeAttr","attrName","removeAttr","JQ_exchangeClass","oldClassName","newClassName","JS_toString","gNull","toString","JS_parseInt","parseInt","JS_parseFloat","parseFloat","JS_mathRound","Math","round","JS_mathCeil","ceil","JS_decodeURIComponent","uri","result","V_util_isValidURIComponent","gFalse","JS_encodeURI","_","encodeURI","JS_decodeURI","decodeURI","V_ui_fadeShow","c","_visibility_","_visible_","_opacity_","V_ui_fadeHide","_hidden_","V_ui_wrap_kbd","content","V_ui_getCtrlKeyUI","unwrap","short","key","env","os","macOS","V_ui_getShiftKeyUI","V_ui_getAltKeyUI","str","V_ui_getMetaKeyUI","V_ui_getCombKeys","event","ctrlKey","gTrue","shiftKey","altKey","metaKey","V_ui_copyrightInfo","V_ui_div","_v_copyright_","___","_v_transition_all_","V_ui_svgIcon","_icoVLOOK_","_btnFc_","_v_copyright_svg_ico_","_2nbsp_","V_ui_strong","V_ui_a","_httpsPrefix_","_githubVlook_","_VLOOK_","__blank_","V_ver","V_ui_isSmallScreen","jq_Window","oW","gSmallScreenWidth","V_ui_isHidden","_display_","_none_","V_ui_isShowed","V_ui_inHeader","iNavCenter","toc","inHeader","V_ui_tuningScrollTop","anchor","sW","ss","V_length","x","t","iChapterNav","ui","_top_","h","_height_","y","aObj","V_byID","V_attrCSS","_name_","tag","V_util_getTagName","i","_h6_","V_util_getVarVal","_ref_footnote_","V_util_setScrollTop","V_util_getScrollTop","V_not","V_attr","attrValue","op","V_ui_changeDocIcon","iconData","_doc_icon_","rm","$","ap","V_ui_linkIcon","V_util_getImageData","icon","w","color","classValue","extAttr","V_ui_svgIcon2","V_ui_symbol","idValue","V_ui_htmlTag","V_ui_path","d","fill","_fill_","V_ui_openDetails","detailsParent","closest","_details_","open","V_ui_img","alt","src","srcset","loading","_class_","_alt_","_src_","_srcset_","_loading_","_lazy_","_img_","V_ui_iframe","id","name","_iframe_","V_ui_input","type","_id_","_type_","_value_","_input_","V_ui_figure","V_ui_figcaption","V_ui_nav","_nav_","V_ui_aside","V_ui_article","V_ui_header","_header_","V_ui_section","V_ui_divExt","V_ui_var","varName","_strong_","V_ui_span","_span_","V_ui_sub","_sub_","V_ui_sup","_sup_","V_ui_label","_label_","_href_","_target_","V_ui_audio","_audio_","V_ui_video","_video_","V_ui_tg_currentItem","taregt","item","isChildren","V_ui_tg_resetCurrentItem","_v_item_current_","ch","V_ui_set_dataNoMore","items","a","_data_no_more_","V_lang_text67","v_ui_mouseDropIn","mx","pageX","clientX","gDocument","body","scrollLeft","my","pageY","clientY","scrollTop","oL","oT","oH","V_ui_campColor","gradientColors","V_ui_splitColors","count","colorStr","gColor","charAt","u","slice","l","sp","filter","V_ui_formatRGBA","rgb","opacity","V_ui_genGradColorCSS","fade","css","__ac_","V_ui_initI18n","iToolbar","btns","_nav_center_","_data_tips_","V_lang_text6","_doc_lib_","V_lang_text7","_paragraph_nav_","V_lang_text8","_2br_","V_lang_text28","V_lang_text","_br_","_spotlight_","V_lang_text9","_laser_pointer_","V_lang_text10","prev","V_lang_text15","next","V_lang_text16","dt","_document_","_cover_","current","FigureNav_btns","_title_","close","V_lang_text17","iFontStyle","f","_v_font_style_download_","hm","V_ui_moveToCenter","source","r","_auto_","V_util_isMobile","_left_","_right_","V_ui_moveToTarget","V_ui_moveToCorner","corner","_corner_","_bottom_","V_ui_adjustAll","V_ui_processingAdjust","measure","adjust","ContentFolder_adjust","NavHistory_updateUI","MoreDocContent_updateUI","V_ui_adjustHoverStyle","uH","V_ui_bindHover","V_ui_adjustHoverStyle2","_v_btn__o__btn_group_","V_byClass","_v_segment_btn_","_v_resume_reading_","StatusBar_ui","_info_","_doc_lib_toc_","_v_doc_lib_item_","_v_std_code_","_v_tag_","_v_badge_name_","_v_badge_value_","_v_toc_item_","_v_map_item_","_summary_","_v_tbl_row_g_btn_","NavHistory_ui","_div_","cancleParent","on","_mouseEnter_","_t","currentTarget","_hover_","p","_mouseLeave_","tr","V_ui_unbindHover","off","V_ui_initEffectLevel","V_ui_effect","_v_backdrop_blurs_","_enabled_","_v_post_card_","_disabled_","V_ui_addAnimate","attrSet","_v_transition__","V_ui_removeAnimate","V_ui_initHotkey","jq_Document","_keydown_","__showHideNavCenter","FigureNav_ui","_click_","combKeys","code","iSpotlight","disposeHotkey","iLaserPointer","iParagraphNav","WelcomePage_disposeHotkey","FigureNav_disposeHotkey","iInfoTips","iFootnote","LinkTool_disposeHotkey","V_doc_block","activeElement","tagName","_body_","TableCross_disposeHotkey","showed","keyword","input","focus","navigator","clipboard","readText","then","processInput","catch","docLib","enabled","StsColorScheme_ui","StsFontStyle_ui","hide","StsLinkMap_ui","LinkTool_isShowed","LinkTool_hide","tg","Nh_ViewHistory_ui","DOM_body","DOM_b","_failed_","VOM_doc","VOM_d","_idWrite_","VOM_cover","VOM_c","__first_child_","VOM_docTitle","VOM_backcover","VOM_bc","fns","_footnotes_area_","backcover","pr","VOM_dt","_vk_id_doc_title_","V_query_init","__append","params","V_query_params","has","append","queryUrl","URLSearchParams","search","tmpQuery","V_util_getMetaByName","_vlook_query_","queryYaml","queryTheme","V_util_removeQuotes","idName","V_data_read","share","localStorage","getItem","V_util_getUrlWithoutQueryAndHash","V_data_write","setItem","V_data_remove","removeItem","device","mobile","len","V_util_joinNodesText","separator","__getTextNodes","texts","node","contents","e","index","element","nodeType","txt","push","nodesText","join","V_util_countWord","reChinese","reJapanese","reKorean","reLatinLike","reRussian","reArabic","chineseCount","match","japaneseCount","koreanCount","latinLikeCount","russianCount","arabicCount","latin","CJK","total","length","pos","gScrollByJS","V_util_restoreScrollByJS","V_util_sortByAttr","container","itemSet","attr","withText","sort","b","objA","objB","valueA","valueB","detach","appendTo","decodeURIComponent","V_util_getDocTitle","metaName","_mata_","_content_","V_util_getParamVal","pName","get","V_util_getUrlQueryParams","si","queryStr","paramSet","itemCount","V_util_getUrlHash","V_util_getUrlQueryString","V_util_getUrlWithoutHash","queryIdx","hashIdx","V_util_getPath","qi","ti","lastIndexOf","pi","V_util_getTime","Date","getTime","V_util_getExtension","url","parts","split","pop","V_util_getSelectedText","gWindow","getSelection","selection","createRange","text","V_util_clearHtmlQuot","V_util_bindLoadChecker","fig","__loadDefaultOnError","_v_img_lost_","_load_","blockquote","_blockquote_","ExtQuote_uniteColumnsHeightByGroupId","_data_quote_group_","_error_","cp1","_v_cap1_","targetToJump","LinkTool_addToCheckResult","__address_","V_lang_text63","V_util_truncateText","limit","__calcCharsLen","init","step","charCodeAt","frontChars","backChars","V_util_redirectTo","setTimeout","V_util_gotoHash","last","getComputedStyle","documentElement","getPropertyValue","V_util_setVarVal","style","setProperty","V_util_clearTimer","timer","clearTimeout","V_util_getTemplateThemeName","___v_theme__","rA","V_util_getTemplateThemeVersion","_version_","V_util_changeCssVarSet","varSet","flag","tmp","prop","_tagName_","V_util_preventDefault","preventDefault","V_formatting_thousands","V_formatting_decimal","_v_tbl_col_fmt_num_decimal_","V_formatting_percent","_v_tbl_col_fmt_percent_","V_formatting_currency","gRE_CurrencyNoEscape","gRE_CurrencyNoEscape2","_v_tbl_col_fmt_currency_","V_checkSpec","v","V_lang","gToc","_md_toc_","V_lang_text35","V_isNotFigure","iconMode","cardMode","logoMode","_kbd_","V_getSrcValue","_data_src_","V_debounce","func","wait","args","this","V_throttle","lastTime","now","V_init","sw","Stopwatch","st","FontStyle","BgMask","_font_style_","_center_","___v_f__","_style_","fontStyle","_font_","_theme_","ed","Spotlight","LaserPointer","cf","_fold_","ContentFolder_enabled","_off_","_on_","ContentFolder_enabled_table","_table_","ContentFolder_enabled_figure","_figure_","ContentFolder_enabled_codeblock","_codeblock_","ContentFolder_init","ToolTips_init","InfoTips","_info_tips_","NavCenter","ChapterNav","chpNav","_Chapter_","Toolbar","add","_vdl_","clear","counter","segs","setChecked","_toc_","show","toolbar","bindButton","FigureNav_init","MoreDocContent_init","Footnote","_footnote_","NavHistory_init","StatusBar_init","V_initKernel","__onScrolling","MoreDocContent_refresh","hold","focusHeader","iStopwatch","_Document_","_4space_","pp","_v_doc__","V_pageMode","Unpublished_init","CC_init","navOK","NavCenter_init","HeaderAutoNum_initToc","Caption_init","_capgroup_","Caption_groupPreppare","ExtAudio_init","ExtVideo_init","ExtQuote_init","_checkHash_","LinkTool_checkHashMode","LinkTool_checkHashSet","LinkTool_checkHashUI","ExtFigure_init","_cost_","ExtTable_init","TableCross_init","ExtCodeBlock_init","ExtMath_init","ColorCode_init","CodeMagic_init","SupSubMagic_preprocess","Progressbar_init","Footnote_init","BreadcrumbStyle_init","LinkTool_mdToHtml","LinkTool_checkLink","showHandle","adjustHoverStyle","FigureNav_adjustHoverStyle","hasToc","hasIndexItem","hasFigure","figures","hasTable","tables","hasCodeblock","codeblocks","hasFormula","formulas","hasMedia","media","itemName","_formula_","_media_","runMode","_close_","addEventListener","repaint","snap","uC","ck","TableCross_hide","_wheel_","hidden","gIsRunning","gTimer_saveLastPosition","ResumeReading_dispose","disposeScroll","disposeScrollEnd","_scroll_","ExtQuote_uniteColumnsHeight","onmessage","receMessage","data","origin","StsNewVersion_checkOriginCloudFlare","StsNewVersion_checkOriginGitHub","_chkUpdate_","_Invalid_","_new_version_check_time_","gVerFloat","gVer","_yes_","NewVersion_yes","verStr","verStart","_new_version_","NavHistoryList","hashObj","scrollIntoView","gLastHash","browser","Firefox","V_ui_adjustAllDelay","V_initRestyle","Restyler_forTaskList","Restyler_forMermaid","Restyler_forImgZoom","GrayMode_init","__enableGrayMode","date","title","_gray_","StsGray_ui","_v_sts_gray_","_selected_","ToolTips_bind","V_lang_text48","_data_date_","_data_title_","__today","__padZero","getMonth","getDate","grayModeValue","_vlook_gray_mode_","valueSet","language","base","GrayMode_close","bubble","_display_mode_","_icoGray_","V_lang_init","zhSet","full","vlookLang","_vlook__","_lang_","V_lang_custom","textId","buildInTextSet","V_lang_text3","V_lang_text4","_Navigation_","_Spotlight_","_Previous_","_Next_","_Close_","V_lang_text18","V_lang_text22","_footnotes_","V_lang_text38","_Ready_","V_lang_text41","_Font_","_Style_","V_lang_text45","_Mode_","V_lang_text53","V_lang_text54","V_lang_text56","V_lang_text57","V_lang_text58","V_lang_text59","V_lang_text60","V_lang_text65","_history_","V_lang_text66","V_lang_text68","V_lang_text78","V_lang_text81","V_doc_scroll_freeze","_unfreeze_","_freeze_","V_doc_scroll_unfreeze","V_doc_link_adjustExternal","page","dataHref","_data__","dataTarget","_v_tag_link","V_report_submit","loadTimeCost","sd","vlookStatViaGithub","_vlook_stat_github_","vlookStatViaCloudFlare","_vlook_stat_cloudflare_","_vlookAct_","V_devMode","_vlookPagesHost_CloudFlare_","T","sT","lT","reset","pre","slient","msg","stop","WelcomePage_init","mode","WelcomePage_ui","_v_welcome_page_","WelcomePage_button","_v_loading_","WelcomePage_tips","_v_tips_","WelcomePage_finished","WelcomePage_mode","WelcomePage_close","WelcomePage_done","_cursor_","WelcomePage_stopAni","_animation_","WelcomePage_updateCloseButton","_v_btn_","_done_","_wait_","delay","WelcomePage_autoClose","__timeToClose","delaySecs","closeTimer","sec","_startReading_cn_","_startReading_en_","_max_","handled","_Enter_","ContentAssistor_init","__actionWrap","ContentAssistor_lastHover","ContentAssistor_lastContentType","TableWrap_toggle","CodeblockWrap_toggle","__actionCopy","ExtCodeBlock_copyContent","_fig_","_suffixImg_","ExtFigure_copySrc","ContentAssistor_ui","_v_content_assistor_","ContentAssistor_btns_copyContent","_v_btn__n__assistor_","_copy_","ContentAssistor_btns_openInFigureNav","_open_in_figure_nav_","ContentAssistor_btns_tableCross","_table_cross_","ContentAssistor_btns_wrap","_wrap_","ContentAssistor_btns_picInPic","_pic_in_pic_","_line_","_break_","ContentAssistor_hide","FigureNav_show","TableCross_toggle","PicInPic_show","ContentAssistor_bind","contentType","_Copy_","ContentAssistor_show","eW","_svg_","_data_tbl_x_","_true_","TableWrap_isWrap","CodeblockWrap_isWrap","caption","offset","_v_caption_","_v_caption_container_","capWidth","conWidth","_border_right_width_","PicInPic_init","PicInPic_ui_body","_v_pic_in_pic_","PicInPic_ui_content","_v_content_","PicInPic_ui_zoom","_v_pip_btn_","_zoom_","PicInPic_ui_close","pipBtn","PicInPic_ratio","_zoom_in_","_zoom_out_","_icoZoomIn_","_icoZoomOut_","PicInPic_zoom","PicInPic_hide","_min_","__cloneForPicInPic","openAll","RowGroup_openAll","_data_content_folded_","ContentFolder_expand","newClone","clone","_margin_","_border_","_data_fig_num_","img","svg","_v_mermaid_restyler_","RowGroup_reset","RowGroup_closeAll","PicInPic_calcSize","em","pic","PicInPic_fitContentSize","baseW","baseH","PicInPic_size_width","PicInPic_size_height","_width_","__getImgSize","width","height","sourcePadding","_padding_top_","uiPadding","Image","complete","onload","wWithPadding","_transform_origin_","hWithPadding","_transform_","radius","_v_spotlight_","zoom","normal","bigger","lastPos","toggleZoom","select","ColorScheme_scheme","_dark_","_v_spotlight_in_dark_","pointerScope","_v_cursor_laser_","StsPrs_enable","isEnabled","_background_","_transparent_","StsPrs_disable","_Escape_","enable","__showCC","ccObj","_flex_","gVlookCC","_v_cc_","vlook_cc","ccTopLeft","ccTopRight","ccBottomLeft","ccBottomRight","SegmentControl","control","group","segCnt","onChanged","checked","status","__updateIcon","entry","_data_icon_","__checked_","typeName","_data_result_","_for_","typeDesc","change","_function_","checkedItemValue","_checked_","sts","FitWidth_init","FitWidth_ui","_v_fit_width_","_fit_width_","MoreDocContent_ui_before","MoreDocContent_ui_after","_v_nav_history_","_v_view_history_","HistoryList","LinkTool_panelList","LinkTool_show","NavHistory_enable","isNaN","ResumeReading_lastPosition","top","right","gWritePaddingRight","gTransDuration","ResumeReading_init","ResumeReading_ui","_last_position_","restore","__saveLastPosData","ResumeReading_minScrollTop","mask","_v_nav_center_","handle","_v_nav_center_handle_","__keywordBody","_v_search_by_keyword_","TextField","_filter_","lastDisplayType","_float_","snapTimer","_v_segment_","Index_segments","TocIndex","_icoIndexTabToc_","FiguresIndex","_icoIndexTabFigure_","TablesIndex","_icoIndexTabTable_","CodeblocksIndex","_icoIndexTabCodeblock_","FormulasIndex","_icoIndexTabFormula_","MediaIndex","_icoIndexTabMedia_","bindPartner","onChapterChanged","update","placeholder","setIcon","_icoSearch_","onInput","resultNav","hideFilterResult","scrollToCurrent","updateStatus","Index_noneKeyword","Index_filter","onFocus","_actived_","_v_focus_search_","onBlur","pressEnter","onInteractive","adjustClickHash","gotoCover","currentItem","currentHeaderIndex","ToolTips_hide","callback","_block_","afterToggle","left","_v_nav_center_float_","_v_float_card_","_v_nav_center_block_","_margin_left_","_var_write_margin_left_","__v_nav_center_width_","_var_nav_center_hidden_left_","_cssText_","_important_","_var_nav_center_width_","inputing","hideOnError","vlookToc","tocContent","_md_toc__","navToc","each","_outerHTML_","_vlook_toc_","gTocContent","gHideOutlineOver","_outline__","DocLib","_mini_","tocSet","tocSetLength","hasCover","tocAutoCloseLevel","_data_node_","_data_folded_","_false_","disposeFold","tPrevName","_v_chapter_nav_","__prev","tCurrentName","__current_","tNextName","__next_","tDocTitleName","__doc_title_","__text_","adjustEffectLevel","_effect_","posBefore","_data_hash_","gotoHeader","curIdx","_in_start_","inFirstHeader","inDocTitle","headerNum","_data_header_num_","_ArrowLeft_","_ArrowRight_","ParagraphNav","border","cur","_data_id_","_vk_pg__","goto","ParagraphNav_getScreenMiddleElement","_data_pg_idx_","prevPg","nextPg","o","unhold","rect","getBoundingClientRect","pd","_pause_","__calcStep","ParagraphNav_init","_v_pg_nav_mask_border_","__only_child_","_h1_6_","_md_diagram_panel_","is","middleY","innerHeight","quarterY","centerElement","lastElement","bottom","_v_toolbar_","clickEvent","btnGroup","_data_btn_group_","_v_btn_group_","ToolTips_show","btnName","_prs_","resultTop","resultPadding","offsetY","_padding_left_","_padding_right_","ColorScheme_init","__syncScheme","matcher","ColorScheme_adjustScheme","matches","scheme","_color_scheme_","_light_","ColorScheme_auto","mediaQuery","matchMedia","ColorScheme_systemScheme","dark","__setLightIcon","__setDarkIcon","ColorScheme_refresh","force","__alt","__fade_bd","__fade_","__cur","acRed","acOrange","acYellow","acLime","acGreen","acMineral","acOlives","acWine","acAqua","acCyan","acBlue","acSea","acLavender","acVine","acPurple","acRose","acPink","acGold","acBrown","acGray","acWhite","acBlack","acTheme1","acTheme2","__cm__","__pn","__tbl","_variable","_string","__kbd","__kbd_bg","__kbd_reflect","_invert_dark_","_brightness_","__color_","_invert_","__d_bc_","_var_fig_grid__","_color_","__shadow_","_start_","_doc_","_pointer_","_normal_","_text_","_http_","_inner_","__title_","_keyword_","_tag_","_CodeMirror_","_quote_","ExtFigure_adjustColorScheme","FontStyleOption","fonts","fontCount","styleName","styleByTheme","_v_font_style_","statusUI","statusTimer","_v_font_style_restore_","localStyle","_v_font_style_opt_local_","bookStyle","_v_font_style_opt_book_","govStyle","_v_font_style_opt_gov_","sansStyle","_v_font_style_opt_sans_","_VLOOK_Number_","_normal_normal_","_normal_bold_","_VLOOK_Digital_Sans_","_VLOOK_Sans_Mono_","_VLOOK_Sans_","serifStyle","_v_font_style_opt_serif_","_VLOOK_Digital_Serif_","_normal_italic_","_italic_bold_","_VLOOK_Serif_Mono_","_VLOOK_Serif_","_normal_500_","_normal_900_","albbStyle","_v_font_style_opt_albb_","_VLOOK_Albb_","_VLOOK_Albb_DT_Sans_","_VLOOK_Albb_DT_JinBu_","_local_","_book_","_gov_","_sans_","initWebFont","_serif_","_albb_","syncInfo","_v_font_info__","__syncLoadingInfo","currentFontStyle","_nbsp_","_v_font_style_current_","__loadNumberFont","fontName","srcName","loadFont","_Regular","_bold_","_Bold","__LoadDigitalSansFont","_NotoSansMono_","unicodeRange","__LoadDigitalSerifFont","_LuxiMono_","luxiMonoSubName","_Italic","_italic_","__loadSansMonoFont","__loadSerifMonoFont","__loadSansCjkFont","__loadSerifCjkFont","fontWeight500","_Medium","fontWeight900","_Black","__loadAlbbFont","__loadAlbbDtSansFont","__loadAlbbDtJinBuFont","timeOutMsg","button","fontFamily","fontWeight","folderName","srcFontSubName","isExist","woffURL","webfontHostAlt","_woff2_","fontFace","__updateDownloadProgress","fontID","fontSet","readyMsg","loadingMsg","_Loading_","splice","loadedCount","FontFace","weight","display","load","loadedFontFace","values","isHave","done","family","_v_font_style_opt_","varFFm","varFw","varList","__num_","_code_","fontVarList","_v_fontnote_pn_","_v_fontnote_pn_content_","buttonSeeAll","__footer_","_vk_footer_area_","footnotesArea","vkFooterArea","addHashItem","_icoDocLibRef_","_alpha_","insertBefore","nameValue","nameValue2","StsLinkChkResult_ui","_v_link_chk_result_","StsNewVersion_ui","_v_new_version_","_v_color_scheme_","StsDocInfo_ui","_v_doc_info_","StsPrsInfo_ui","_v_prs_info_","_v_status_bar_","StatusBar_handle","__handle_","_v_link_map_","_map_","_v_sts_font_style_","gOnlyLightMode","_mode_","visibleBtn","_last_","NewVersion_init","StsColorScheme_init","LinkTool_init","_link_checker_","DocInfo_countWord","counterResult","readCountPerMin","mins","times","toFixed","tool","StsColorScheme_updateIcons","nextScheme","showBubble","_icoAutoMode_","_icoLightMode_","_icoDarkMode_","ToolTips_isShowed","NewVersion_check","lastCheckTime","latestVer","_check_","frameCloudFlare","document","getElementById","_vlook_chk_update_cloudflare_","frameGitHub","_vlook_chk_update_github_","contentWindow","postMessage","StsNewVersion_checkUrlCloudFlare","StsNewVersion_checkUrlGitHub","_v_check_hash_","_v_link_info_list_","LinkTool_panelHeader","__header_","LinkTool_panelItems","__items_","LinkTool_enabled","headerDup","dups","LinkTool_headerDupReSet","RegExp","substring","LinkTool_headerDupSet","LinkTool_mask","xmd","_xmd_","newExt","_warning_","LinkTool_warningCount","__hash_","LinkTool_errorAnchorCount","LinkTool_errorAddressCount","_tabindex_","_v_link_error_","LinkTool_notFoundHash","_checkCount_","var_iCheck","notFoundCount","btn","_hash_","_item_","_found_","__matchForHeaderDupReSet","__genLinkMap","pageIndex","LinkTool_pageMap","urlParams","hashIndex","LinkTool_disposeNonStandardHash","size","set","__addLinkMapItem","LinkTool_textMap","hashCount","linkToHashSet","cc","overLimit","hashSet","hashSetLen","extLink","checkHash","_icoCheck_","_icoDocLibExt_","_icoDocLibBm_","__addDuplicateChapter","__addErrorHash","headerTextSet","ExtQuote_subTitle","indexOf","newId","_md_toc_item_","hashNoMark","joinedText","_mjx__","newHash","_docLibIdentifier_","LinkTool_addToMap","tocItems","_data_history_","mapItems","historyItems","curType","_data_content_type_","LinkTool_updateDataNoMore","align","af","_v_mask_","closer","_v_mask_close_","_icoMaskCloser_","partner","partnerUI","_z_index_","ContentFolder_limit","ContentFolder_add","ps","ContentFolder_contents","ContentFolder_rebuild","rules","gStyle","cssRules","j","ruleText","selectorText","_expander_","deleteRule","currentSrc","ContentFolder_buildTimers","ContentFolder_checkAndProcess","rebuild","isImg","expanded","_data_content_expanded_","_data_container_","_padding_bottom_","ContentFolder_buildContentExpander","shift","_overflow_x_","_overflow_y_","ContentFolder_rowNumFilter","_v_tbl_row_num_hidden_","tW","_data_ex_label_","newClass","insertRule","_mouseUp_","_overflow_","ToolTips_ui","_v_tool_tips_","tips","follower","ToolTips_aniTimer","ToolTips_continueTimer","ToolTips_lastStyle","space","tipsW","iW","tipsH","iH","ww","wh","waitTime","ToolTips_continueShow","ToolTips_delay","_v_info_tips_","aniTimer","inform","message","_bubble_","targetPos","jQuery","_v_more_doc_content_","_before_","_after_","gScrollEdge","mlValue","_capauto_","Caption_auto","Caption_hideScope","_caphide_","Caption_checkNeedHide","selector","gSelector_CodeBlock","_md_math_container_parents_","gSelector_iframeVideo","selectorSub","_mermaid_","_h1_5_","hx","header","betweenSet","nextUntil","_data_cap_group_","Caption_prefix","typeText","capGroup","num","lastCount","Caption_lastH1","Caption_lastCounter","Caption_actionForTextContent","__genFromLang","lang","__insertCap1","after","bf","captionPrefix","V_doc_counter_table","indexObj","dataForSearch","needHideResult","V_doc_counter_codeblock","V_doc_counter_formula","fcSet","Caption_getCaptions","fc","fc2","Caption_spliter","_first_","_CodeMirror_line_","_vk_id_codeblock_","wrap","_vk_id_tbl_","_vk_id_math_","cap1","xD","has2Captions","_v_cap2_","_data_caption_count_","Caption_actionForMediaContent","V_doc_counter_figure","V_doc_counter_audio","V_doc_counter_video","_vk_id_fig_","_data_fig_type_","_vk_id_audio_","_vk_id_video_","_max_width_","_100pc_","_view_box_","__getCaptionSet","_mark_","captionTagName","hideCaptionSrc","capResult","Caption_parseSyntax","_position_","_absolute_","reg2","reg1","html","test","BreadcrumbStyle_count","mark","_v_breadcrumb_style_","bread","slashOrg","slashTmp","_data_clipboard_text_","BreadcrumbStyle_syntax","Copy_action","stopPropagation","lines","_CodeMirror_code_","lineNum","lineCount","badChars","goodChars","encodeText","codeblock","_unwrap_","supportMarkdown","successCallback","errorCallback","ts","Copy_processing","Copy_lastActionTime","targetName","ClipboardJS","clearSelection","destroy","__disposeUnpubHeader","_del_","tocItem","hr","__genNumContent","lv","diff","HeaderAutoNum_lastLevel","absDiff","abs","HeaderAutoNum_push","HeaderAutoNum_pop","HeaderAutoNum_counter","HeaderAutoNum_toString","metaTpl","_vlook_header_autonum_","HeaderAutoNum_resetTpl","HeaderAutoNum_resetCounter","HeaderAutoNum_parseTocHeaderLevel","__last_child_","prefix","HeaderAutoNum_tpl_prefix","__parseTplItem","HeaderAutoNum_tplSet","HeaderAutoNum_tpl_syntax","HeaderAutoNum_tpl_leftPad","HeaderAutoNum_tpl_format","HeaderAutoNum_tpl_formatOpt","HEADER_AUTONUM_TPL_FORMAT_OPT_MIN","HEADER_AUTONUM_TPL_FORMAT_OPT_SUP","HEADER_AUTONUM_TPL_FORMAT_OPT_NONE","HeaderAutoNum_tpl_suffix","HeaderAutoNum_tpl","tplSet","__formatNum","opt","ns","upperCase","format","HeaderAutoNum_leftPadForDecimal","HeaderAutoNum_decimalToZh","HeaderAutoNum_decimalToAlpha","HeaderAutoNum_decimalToRoman","superLv","numStr","pad","gap","padStr","__numToZh","strArr","reverse","newNum","HeaderAutoNum_zhNum","HeaderAutoNum_zhUnit","__toZhUpperCase","overWan","floor","noWan","numeral","String","fromCharCode","HeaderAutoNum_romanNum","HeaderAutoNum_romanNumArea","__disposeDetailsFolder","quote","V_doc_counter_details","details","summary","_icoDetailsOpen_","_v_svg_details_","_v_rotate45_","dcQuote","ExtQuote_quoteToColoring","Quote_defalutColor","matchedQuoteFold","_data_folding_","parentTag","validColorCode","Color_syntax","ExtQuote_initColumns","ExtList_initColumns","_md_alert_","__hideHr","__groupingColumns","ExtQuote_columnsGroupCount","colCount","prevUntil","ExtQuote_processingUCH","groupId","maxHeight","__initCell","table","colIndex","_thead_","needCheckCellMerge","needCheckColumnFormatting","th","_data_cell_merge_","CellMerge_syntax_row","CellMerge_syntax_col","ColumnFormatting_init","_data_tbl_col_","TableCross_bind","_data_col_too_more_","_tbody_","needCheckRowGroup","td","gUnwrapTableScreenWidth","TableWrap_minWidthTd","_data_row_group_","RowGroup_syntax_tag","_v_tbl_col_fmt_mark_","scroll","CellMerge_dispose","cell","_data_column_fmting_","ColumnFormatting_format","RowGroup_init","_data_folder_","_data_ident_level_","colSpanCount","colSpanCell","lastCell","tblData","tblSpan","tblTd2ThData","rowIndex","needRowSpan","_colspan_","CellMerge_emptyBlankCell","_text_align_","_v_table_","rowSpanCount","rowSpanCell","thSpanFlag","_rowspan_","_vertical_align_","_middle_","foundTd","tblCol","colspan","_data_colspan_","_data_td2th_","rW","_cell_","TableCross_ui","_v_tbl_x_","TableCross_disable","TableCross_enable","TableCross_goto","TableCross_lastTable","contentFolded","_v_tbl_x_cell_","TableCross_lastCell","tblWidth","tblHeight","cellWidth","cellHeight","cornerLeftX","cornerUpY","cornerLeftWidth","cornerUpHeight","cornerRightX","cornerDownY","cornerRightWidth","cornerDownHeight","leftUp","_up_","rightUp","leftDown","_down_","rightDown","__gotoCell","__gotoCellByTr","newTr","arrow","_table_column_","_ArrowDown_","n","_ArrowUp_","trParent","first","_v_tbl_row_g_folder_","sameTable","TableWrap_disable","TableWrap_enable","_white_space_","_pre_wrap_","_v_long_","_data_long_","__cleanBr","parser","doc","textNodes","DOMParser","parseFromString","querySelectorAll","line","textContent","trim","wrapLimit","ColumnFormatting_syntax_checkbox_header","ColumnFormatting_getCells","cells","ColumnFormatting_getTbodyCells","tbodyCells","cellsCSS","_v_tbl_col_fmt_bold_","_v_tbl_col_fmt_em_","thHTML","_v_tbl_col_fmt_chkbox_","ColumnFormatting_removeCheckboxSyntax","ce","ceText","typeFlag","ColumnFormatting_syntax_checkbox","chkStatus","_no_","chkStyle","_un_","rHTML","_icoChkbox__","_data_chk_","_v_tbl_col_fmt_num_","isNumber","ColumnFormatting_coloringNumber","isPercent","coloring","percent","percentValue","bg1","bg2","bgSplit","baseColor","_v_tbl_col_fmt_num_negative_","_linear_gradient_","_min_width_","isCurrency","_v_tbl_col_fmt_num_positive_","syntaxText","_v_tbl_row_g_not_folder_","lastLevel","currentLevel","RowGroup_parentStack","RowGroup_colorStack","RowGroup_spliter","RowGroup_newFolder","RowGroup_ident","RowGroup_lastParent","RowGroup_lastColor","__echoOuterHTML","objectSet","outerHTML","folderRow","RowGroup_folderCount","_data_folder_id_","_data_row_folded_","tdHadIdent","_v_tbl_row_g_identer_","__last_","RowGroup_icoCloser","_v_tbl_row_g_identer_folder_","preClass","preObjs","cloneTd","RowGroup_toggle","RowGroup_open","RowGroup_close","_data_row_open_mode_","_data_parent_folder_id_","level","RowGroup_syntax_tag2Replace","_v_tbl_row_g_sub_","_background_color_","identer","identObj","subRows","folderButton","_v_rotate90_","folder","__transToAudio","audioLike","autoplay","_autoplay_","loop","_loop_","preload","_preload_","audio","__play","self","controls","paused","play","ExtAudio_icon_play","_playing_","pause","_data_pause_","currentTime","writeImg","_mp3_","_m4a_","_ogg_","_wav_","__addToLinkChecker","_controls_","V_doc_counter_audiomini","_vk_id_mini_audio_","__control_","_v_audio_mini_control_","ExtAudio_icon_loading","dur","dur2","_data_duration_","duration","min","minStr","ExtAudio_icon_pause","ExtAudio_icon_stop","_emptied_","ExtAudio_icon_forbidden","_margin_bottom_","__transToVideo","videoLike","video","_ogv_","_mp4_","_webm_","action","lastValue","timerValueChanged","compStatus","onKeyDown","onAction","pressESC","__appendTo","_v_text_field_","__icon_","__action_","_v_text_field_reset_","_icoResetInput_","_composition_","_end_","__checkValueChanged","_v_text_field_focus_","blur","actionHover","setAction","enter","_hover_action_","_placeholder_","FilterResultNavigator","nextItem","eq","holder","_v_toc_body_","_v_index_filter_result_","foldItems","lastHeaderFolder","lastHeaderLevel","lastDocScrollTop","_data_toc_empty_","_v_toc_folder_","_vk_header_","_data_ref_","_icoTocFolded_","folderParent","_data_pid_","__expandUpFolder","gScrollStep","preDis","sTop","sBottom","showFilterResult","matched","_vlookTocItem_","multiMatch","cloneItem","_data_keyword_match_","_data_keywords_","traversal","lastItem","nextAll","btnFolder","hd1","hd2","Index_initUI","Index_updateStatus","Index_add","forSearch","Index_hasIndexItem","Index_show","Index_hide","cap","end","valueForDataHistory","span","needHide","newItem","_v_doc_lib_","iframe","paths","__addDocLibItem","includes","hasTarget","_icoDocLibSelf_","_icoDocLib_","_data_page_","URL","baseURI","delete","re_TargetVDL","docLibValue","_vlook_doc_lib_","curPage","docLibList","reload","cs","newPage","path","__disposeCaption","_v_fig_","__isPostcard","_card_","__initBackground","grid","_data_fig_grid_","__initColorScheme","_darksrc_","_data_dark_src_","_alter_","queryString","darksrc","_data_src_light_","_data_src_dark_","_data_srcset_light_","_darksrcset_","_data_srcset_dark_","__initHighDPI","darksrcset","__transUrlSrcSet","__initPostcard","inBlockquote","_padding_","_box_shadow_","altText","altTextForSearch","titleText","cardBody","fitMax","dual","_v_card_","gMobileScreenWidth","card","__setCardSize","V_doc_counter_postcard","imgH","pureSrc","fileName","suffix","rAfter","sss","isPostcard","V_doc_counter_img","_suffixSvg_","prevFig","undefined","disposeGrid","darkMode","_data_img_fill_","_v_img_invert_dark_","_data_src__","_data_srcset__","ExtFigure_fillSVG","_lineDark","_blockDark","_fig_solid__","_fig_grid__","gridType","darkInvert","svgSets","_v_fig_nav_","_v_fig_nav_btns_","FigureNav_content","_v_fig_content_","FigureNav_figNum","FigureNav_prevFig","FigureNav_nextFig","FigureNav_hide","_mouseDown_","FigureNav_isShowed","FigureNav_display","FigureNav_updateUI","newFig","gResObserver","observe","pageNum","_page_","_checkbox_","indeterminate","zenSelector","_ariaRoledescription_","zenuml","idPrefix","svgIconCount","svgIcon","seqSelector","viewBox","paddingBottom","front","keySys","extSys","actor","tmpText","_rx_","_ry_","_v_actor_","_v_actor_key_sys_","_v_actor_ext_sys_","_textLength_","fragment","g","segType","bgColor","_var_ac_og_","borderColor","titleColor","_var_ac_og_lg_","_var_ac_rd_","_var_ac_rd_lg_","_var_ac_cy_","_var_ac_cy_lg_","_stroke_","fragmentTitle","label","getBBox","nextText","_v_r_b_","TextPhonetic_buildForSup","colorSet","Color_syntaxOld","RainbowTextAndCell_build","QuoteColoring_build","mdAlertText","_icoAlertNote_","_Note_","__tip_","_icoAlertTip_","_Tip_","_icoAlertImportant_","_Important_","_icoAlertWarning_","_Warning_","_icoAlertCaution_","_Caution_","symbol","symbolCount","targetPrev","prevText","wordText","rubyHTML","raw","TextPhonetic_translation","translator","colorCode","Quote_getColor","ColorCode_isEm","__disposeText","obj","solid","ColorTooLight","_background_image_","_box_shadow_none_","_background_clip_","wholeRendering","_data_rb_whole_text_","_data_rb_text_","__disposeUnderline","_border_color_","_border_image_","__disposeMark","_inset_","_text_shadow_","_no_repeat_","__disposeCell","_data_rb_cell_bg_","Badge_getColor","tableCellBgMode","renderTarget","dcTag","dcBadge","_badge_","dcCoating","Tag_defalutColor","Badge_defalutColor","Coating_defalutColor","ColorCode_parse","newColors","stdCount","codeText","Badge_syntax","Badge_build","TextPhonetic_syntaxForCode","TextPhonetic_buildForCode","tip","Coating_build","value2","bName","bValue","bValue2","Tag_syntax","Tag_build","Tag_getColor","Tag_count","_var_d_bc_","badgeName","badgeValue","badgeValue2","varStr","Badge_count","badge","Badge_syntax_variable","_hastwo_","nodeCnt","plainContent","_write_","Progressbar_build","taskList","doneCount","calcValue","Progressbar_count","outlineWidth","_outline_width_","rbTextSet","rbText","autoColor","colorAlt","outlineStyle","Progressbar_getColor","overValue","overWidth","_margin_right_","_outline_style_","Progressbar_defalutColor","__genCoatingBg","charCount","start","_var_d_fc_","hiddenText","Coating_getColor","coatingCount","_v_coating_","_data_coating_tip_","_data_coating_hidden_","_data_coating_showed_","Coating_toggle","Coating_show","Coating_hide","_opened_","VLOOKui_welcomePage","_date_","author","defalutContent","metaContent","_welcome_","_v_doc_logo_","VLOOKui_cc","VLOOKui_checkHash","VLOOKui_iconSet","tagRectX","tagRectTransformRotate","widthHeightRx","_icoNavCenter_","_icoNavHistory_","_icoPrevFig_","_icoPrevChapter_","_icoFolded_","_icoClose_","_icoLinkMap_","_icoSpotlight_","_icoLaserPointer_","_icoParagraphNav_","_icoFontStyle_","_icoOpenInFigureNav_","_icoTableX_","_icoWrapUnwrap_","_icoPicInPic_","_icoCopy_","_icoLoading_","_icoPlay_","_icoPause_","_icoStop_","_icoForbidden_","_icoNewVersion_","_icoLinkError_","VLOOKui_toolbar","VLOOKui_allNav","classSvgChpNav","classTocFilterResult","__body_","_Pause_","VLOOKui_documentNavHistory","_v_float_card2_","VLOOKui_common","previewPath","_notLoaded_","classBtnAssistor","_assistor_","classPinBtn","classTableCross","V_lazyLoading","ext","_data_srcset_","V_lazyLoading_imageFilling","__disposeSvgImageFilling","SVGInject","afterInject","svgObj","onFail","httpMode","canImageFill","Safari","hostname","imgHost","_image_","src2ImageFill","matchRes","srcHost","needImgHost","loadVLOOKui","loadVLOOKplugin","__fork","Chrome","Edge","core","webkit","newRadius","_radius_","_v_r_s_","_v_r_t_","_v_r_tag_","_v_r_c_","___v_color_scheme_","colorScheme","redirect","_count_","_update_","gTotalTimes","gTimes","gThmVer","gThmName","window","location","_address_","_align_","_Arrow_","_cap_","_cap__","_group_","_hide_","__repeat_","_player_","_check_time_","_cloudflare_","__column_","_set_","_data_","_focus_","_folded_","_empty_","_data_fig__","_num_","_folder_","_data_row__","_open_","__mode_","__result_","_coating_","_data_tbl__","_tips_","__child_","_github_","_github_madmaxchow_","_openfontsPages_CloudFlare_","_ico_","_Alert_","_math_","_Search_","_icoIndexTab_","_vlookHost_","_madmaxchowHost_GitHub_","__status_","_index_","__item_","_link_","_md_fences_","_mouse_","_paragraph_","_reset_","_restore_","_toolbar_","_view_","_vlook_stat__","__scheme_","___v_r_","_v_badge__","_search_","_v_toc__","_v_img__","_mask_","_v_rotate_","_v_tbl__","_v_tbl_row__","__identer_","_v_tbl_col_fmt__","prototype","children","remove","empty","find","val","innerWidth","outerWidth","outerHeight","position","parent","parents","prepend","before","replaceWith","toggle","trigger","searchValue","replaceValue","replace","regExpString","re","replaceAll","startsWith","endsWith","toLowerCase","toUpperCase","exp","wrapText","suff","oldValue","newValue","userAgent","trident","presto","gecko","android","iPhone","iPad","browserVer","Windows","iOS","Linux","subset","DPR","devicePixelRatio","silent","devMode","debugMode","ColorCode","IntersectionObserver","entries","observer","forEach","isIntersecting","unobserve","effect","wsMode","styleSheets","ready"],"sources":["../../src/vlook.js"],"sourcesContent":["/**************************************\n *\n * VLOOK™ JS - Typora Plugin\n *\n * V28.0\n * 2025-01-11\n * powered by MAX°孟兆\n *\n * QQ Group: 805502564\n * Telegram Channel: t.me/vlook_markdown\n * email: maxchow@qq.com\n *\n * https://github.com/MadMaxChow/VLOOK\n * https://gitee.com/madmaxchow/VLOOK\n * https://vlook-doc.pages.dev\n *\n *************************************/\n\nlet _ = \"\",\n    ___ = \" \",\n    gVer = \"V28.0\",\n    gThmVer = _,\n    gThmName = _,\n    gUndefined = undefined,\n    gNull = null,\n    gTrue = true,\n    gFalse = false,\n    gTransDuration = 300,\n    gScrollEdge = 20,\n    gScrollStep = 100,\n    gDocument = document,\n    gWindow = window,\n    gLocation = gWindow.location,\n    gScrollByJS = gFalse,\n    gOnlyLightMode = gFalse, // 是否始终使用 Light Mode（仅 Light Mode）\n    gVlookCC = gFalse,\n    gHideOutlineOver = 99,\n    jq_Document = $(gDocument),\n    jq_Window = $(gWindow),\n    gWritePaddingRight = 20, // 取值与 base.less 的 @writePaddingRight 保持一致\n    // ----------\n    iStopwatch = new Stopwatch(), // 初始化计时器\n    gTimes = 0,\n    gTotalTimes = 0,\n    gLastHash = gNull,\n    gIsRunning = gTrue,\n    gTimer_saveLastPosition = gNull,\n    // **********\n    // 修改时须同步修改 media.less 中的同名变量\n    gSmallScreenWidth = 1270,\n    gMobileScreenWidth = 850,\n    gUnwrapTableScreenWidth = 1279, // 1439,\n    // **********\n    gToc = gUndefined, // 文档大纲对象\n    gTocContent = gUndefined, // 文档大纲内容\n    gStyle = gUndefined, // 文档的 style 对象\n    // 以下 _xxx_ 格式变量为字符串\n    _100pc_ = \"100%\",\n    _4space_ = ___+___+___+___,\n    _absolute_ = \"absolute\",\n    _actived_ = \"actived\",\n    __action_ = \"-action\",\n    _address_ = \"address\",\n    __address_ = \"-\" + _address_,\n    _after_ = \"after\",\n    _albb_ = \"albb\",\n    _align_ = \"align\",\n    _alt_ = \"alt\",\n    _alter_ = \"alter\",\n    _alpha_ = \"alpha\",\n    _ariaRoledescription_ = \"aria-roledescription\",\n    _Arrow_ = \"Arrow\",\n    _ArrowLeft_ = _Arrow_ + \"Left\",\n    _ArrowRight_ = _Arrow_ + \"Right\",\n    _ArrowUp_ = _Arrow_ + \"Up\",\n    _ArrowDown_ = _Arrow_ + \"Down\",\n    _assistor_ = \"assistor\",\n    _audio_ = \"audio\",\n    _animation_ = \"animation\",\n    _auto_ = \"auto\",\n    _autoplay_ = _auto_ + \"play\",\n    _background_ = \"background\",\n    _cap_ = \"cap\",\n    _cap__ = \"cap-\",\n    _capauto_ = _cap_ + _auto_,\n    _composition_ = \"composition\",\n    _corner_ = \"corner\",\n    _group_ = \"group\",\n    _capgroup_ = _cap_ + _group_,\n    _hide_ = \"hide\",\n    _caphide_ = _cap_ + _hide_,\n    _color_ = \"color\",\n    __color_ = \"-\" + _color_,\n    _background_color_ = _background_ + __color_,\n    _image_ = \"image\",\n    _background_image_ = _background_ + \"-\" + _image_,\n    _background_clip_ = _background_ + \"-clip\",\n    __repeat_ = \"-repeat\",\n    _position_ = \"position\",\n    _before_ = \"before\",\n    _player_ = \"player\",\n    _width_ = \"width\",\n    _max_ = \"max\",\n    _max_width_ = _max_ + \"-\" + _width_,\n    __blank_ = \"_blank\",\n    _block_ = \"block\",\n    _quote_ = \"quote\",\n    _blockquote_ = _block_ + _quote_,\n    _body_ = \"body\",\n    __body_ = \"-\" + _body_,\n    _bold_ = \"bold\",\n    _book_ = \"book\",\n    _border_ = \"border\",\n    _bottom_ = \"bottom\",\n    _border_bottom_width_ = _border_ + \"-\" + _bottom_ + \"-\" + _width_,\n    _left_ = \"left\",\n    _right_ = \"right\",\n    _radius_ = \"radius\",\n    _border_bottom_left_radius_ = _border_ + \"-\" + _bottom_ + \"-\" + _left_ + \"-\" + _radius_,\n    _border_bottom_right_radius_ = _border_ + \"-\" + _bottom_ + \"-\" + _right_ + \"-\" + _radius_,\n    _border_color_ = _border_ + __color_,\n    _border_image_ = _border_ + \"-\" + _image_,\n    _border_radius_ = _border_ + \"-\" + _radius_,\n    _border_width_ = _border_ + \"-\" + _width_,\n    _border_left_width_ = _border_ + \"-\" + _left_ + \"-\" + _width_,\n    _border_right_width_ = _border_ + \"-\" + _right_ + \"-\" + _width_,\n    _top_ = \"top\",\n    _border_top_width_ = _border_ + \"-\" + _top_ + \"-\" + _width_,\n    _scroll_ = \"scroll\",\n    __shadow_ = \"-shadow\",\n    _box_shadow_ = \"box\" + __shadow_,\n    _none_ = \"none\",\n    _box_shadow_none_ = _box_shadow_ + \":\" + _none_ + \";\",\n    _br_ = \"<br>\",\n    _2br_ = _br_ + _br_,\n    _break_ = \"break\",\n    _brightness_ = \"brightness\",\n    _bubble_ = \"bubble\",\n    _btnFc_ = \"btn-fc\",\n    _card_ = \"card\",\n    _catalog_ = \"catalog\",\n    _center_ = \"center\",\n    _cssText_ = \"cssText\",\n    _Chapter_ = \"Chapter\",\n    _check_ = \"check\",\n    _checkbox_ = _check_ + \"box\",\n    _checked_ = _check_ + \"ed\",\n    __checked_ = \"-\" + _checked_,\n    _check_time_ = _check_ + \"-time\",\n    _hash_ = \"hash\",\n    __hash_ = \"-\" + _hash_,\n    _checkHash_ = _check_ + _hash_,\n    _wrap_ = \"wrap\",\n    _unwrap_ = \"un\" + _wrap_,\n    _update_ = \"update\",\n    _chkUpdate_ = \"chk-\" + _update_,\n    _class_ = \"class\",\n    _click_ = \"click\",\n    _close_ = \"close\",\n    _cloudflare_ = \"cloudflare\",\n    _code_ = \"code\",\n    _codeblock_ = \"codeblock\",\n    __column_ = \"-column\",\n    _colspan_ = \"colspan\",\n    _content_ = \"content\",\n    _controls_ = \"controls\",\n    __control_ = \"-control\",\n    _cursor_ = \"cursor\",\n    __current_ = \"-current\",\n    _copy_rich__ = \"copy-rich-\",\n    _start_ = \"start\",\n    _end_ = \"end\",\n    _cost_ = \"    COST \",\n    _cover_ = \"cover\",\n    _dark_ = \"dark\",\n    _light_ = \"light\",\n    _src_ = \"src\",\n    _set_ = \"set\",\n    _srcset_ = _src_ + _set_,\n    _darksrc_ = _dark_ + _src_,\n    _darksrcset_ = _dark_ + _srcset_,\n    _data_ = \"data\",\n    _data__ = _data_ + \"-\",\n    _date_ = \"date\",\n    _doc_ = \"doc\",\n    _document_ = \"document\",\n    _Document_ = \"Document\",\n    _focus_ = \"focus\",\n    _fold_ = \"fold\",\n    _folded_ = _fold_ + \"ed\",\n    _for_ = \"for\",\n    _formula_ = \"formula\",\n    _found_ = \"found\",\n    _gray_ = \"gray\",\n    _data_btn_group_ = _data__ + \"btn-\" + _group_,\n    _count_ = \"count\",\n    _data_caption_count_ = _data__ + _cap__ + _count_,\n    _toc_ = \"toc\",\n    _empty_ = \"empty\",\n    _data_toc_empty_ = _data__ + _toc_ + \"-\" + _empty_,\n    _cell_ = \"cell\",\n    _data_cell_merge_ = _data__ + + _cell_ + \"-merge\",\n    _data_chk_ = _data__ + \"chk\",\n    _text_ = \"text\",\n    __text_ = \"-\" + _text_,\n    _data_clipboard_text_ = \"data-clipboard\" + __text_,\n    _data_colspan_ = _data__ + \"colspan\",\n    _data_column_fmting_ = \"d\" + __column_ + \"-fmting\",\n    _data_col_too_more_ = _data__ + \"col-too-more\",\n    _data_container_ = _data__ + \"cntr\",\n    _data_content_expanded_ = _data__ + _content_ + \"-expanded\",\n    _data_content_folded_ = _data__ + _content_ + \"-\" + _folded_,\n    _type_ = \"type\",\n    _data_content_type_ = _data__ + _content_ + \"-\" + _type_,\n    _data_default_ = _data__ + \"default\",\n    _label_ = \"label\",\n    _data_ex_label_ = _data__ + \"ex-\" + _label_,\n    _data_extend_ = _data__ + \"extend\",\n    _data_date_ = _data__ + _date_,\n    _fig_ = \"fig\",\n    _data_fig__ = _data__ + _fig_ + \"-\",\n    _num_ = \"num\",\n    _data_fig_num_ = _data_fig__ + _num_,\n    _data_fig_type_ = _data_fig__ + _type_,\n    _data_folded_ = _data__ + _folded_,\n    _folder_ = \"folder\",\n    _data_folder_ = _data__ + _folder_,\n    _data_folder_id_ = _data__ + _folder_ + \"-id\",\n    _data_folding_ = _data__ + \"folding\",\n    _keyword_ = \"keyword\",\n    _data_keywords_ = _data__ + _keyword_ + \"s\",\n    _data_dark_src_ = _data__ + \"darksrc\",\n    _data_duration_ = _data__ + \"duration\",\n    _data_fig_grid_ = _data_fig__ + \"grid\",\n    _h1_5_ = \"h1,h2,h3,h4,h5\",\n    _h1_6_ = _h1_5_ + \",h6\",\n    _data_cap_group_ = _data__ + _cap__ + _group_,\n    _data_hash_ = \"d\" + __hash_,\n    _html_ = \"html\",\n    _header_ = \"header\",\n    __header_ = \"-\" + _header_,\n    __num_ = \"-num\",\n    _data_header_num_ = _data__ + _header_ + __num_,\n    _history_ = \"history\",\n    _data_history_ = _data__ + _history_,\n    __icon_ = \"-icon\",\n    _data_icon_ = \"d\" + __icon_,\n    _data_id_fig_type_ = _data__ + \"id-\" + _fig_ + \"-\" + _type_,\n    _data_keyword_match_ = _data__ + _keyword_ + \"-match\",\n    _data_long_ = _data__ + \"long\",\n    _data_node_ = _data__ + \"node\",\n    _data_no_more_ = _data__ + \"no-more\",\n    _page_ = \"page\",\n    _data_page_ = _data__ + _page_,\n    _data_parent_folder_id_ = _data__ + \"parent-\" + _folder_ + \"-id\",\n    _data_pid_ = _data__ + \"pid\",\n    _data_quote_group_ = _data__ + _quote_ + \"-\" + _group_,\n    _data_ref_ = \"data-ref\",\n    _data_rb_cell_bg_ = _data__ + \"rb-\" + _cell_ + \"-bg\",\n    _data_rb_text_ = _data__ + \"rb\" + __text_,\n    _data_rb_whole_text_ = _data__ + \"rb-whole\" + __text_,\n    _data_row__ = _data__ + \"row-\",\n    _data_row_folded_ = _data_row__ + _folded_,\n    _open_ = \"open\",\n    _mode_ = \"mode\",\n    __mode_ = \"-\" + _mode_,\n    _data_row_open_mode_ = _data_row__ + _open_ + __mode_,\n    _data_src_ = _data__ + _src_,\n    _data_src__ = _data_src_ + \"-\",\n    _data_src_dark_ = _data_src__ + _dark_,\n    _data_src_light_ = _data_src__ + _light_,\n    _data_srcset_ = _data__ + \"srcset\",\n    _data_srcset__ = _data_srcset_ + \"-\",\n    _data_srcset_dark_ = _data_srcset__ + _dark_,\n    _data_srcset_light_ = _data_srcset__ + _light_,\n    _data_td2th_ = _data__ + \"td2th\",\n    _title_ = \"title\",\n    __title_ = \"-\" + _title_,\n    _data_title_ = _data__ + _title_,\n    _data_id_ = _data__ + \"id\",\n    _data_ident_level_ = _data__ + \"ident-level\",\n    _fill_ = \"fill\",\n    _img_ = \"img\",\n    _data_img_fill_ = _data__ + _img_ + \"-\" + _fill_,\n    _pause_ = \"pause\",\n    _data_pause_ = _data__ + _pause_,\n    _data_pg_idx_ = _data__ + \"pg-idx\",\n    __result_ = \"-result\",\n    _data_result_ = _data_ + __result_,\n    _coating_ = \"coating\",\n    _hidden_ = \"hidden\",\n    _data_coating_hidden_ = _data__ + _coating_ + \"-\" + _hidden_,\n    __tip_ = \"-tip\",\n    _data_coating_tip_ = _data__ + _coating_ + __tip_,\n    _data_coating_showed_ = _data__ + _coating_ + \"-showed\",\n    _data_row_group_ = _data_row__ + _group_,\n    _data_tbl__ = _data__ + \"tbl-\",\n    _data_tbl_col_ = _data_tbl__ + \"col\",\n    _data_tbl_x_ = _data_tbl__ + \"x\",\n    _data_th_rpt_ = _data__ + \"th-rpt\",\n    _tips_ = \"tips\",\n    _data_tips_ = _data__ + _tips_,\n    _del_ = \"del\",\n    _details_ = \"details\",\n    _disabled_ = \"disabled\",\n    _display_ = \"display\",\n    _display_mode_ =\"{{\" + _display_ + __mode_ + \"}}\",\n    _div_ = \"div\",\n    _doc_lib_ = _doc_ + \"-lib\",\n    _doc_lib_toc_ = _doc_lib_ + \"-toc\",\n    _doc_icon_ = _doc_ + __icon_,\n    _done_ = \"done\",\n    _copy_ = \"copy\",\n    _Copy_ = \"Copy\",\n    _figure_ = \"figure\",\n    _open_in_figure_nav_ = \"open-in-\" + _figure_ + \"-nav\",\n    _table_ = \"table\",\n    _table_column_ = _table_ + __column_,\n    _table_cross_ = _table_ + \"-cross\",\n    _pic_in_pic_ = \"pic-in-pic\",\n    __doc_title_ = \"-\" + _doc_ + __title_,\n    _effect_ = \"effect\",\n    _enabled_ = \"enabled\",\n    _first_ = \"first\",\n    _last_ = \"last\",\n    _Enter_ = \"Enter\",\n    _emptied_ = \"emptied\",\n    _error_ = \"error\",\n    _Escape_ = \"Escape\",\n    __fade_ = \"-fade\",\n    _failed_ = \"Failed [ \",\n    _false_ = \"false\",\n    _v_fig_ = \"v-\" + _fig_,\n    _fit_width_ = \"fit-\" + _width_,\n    _v_fit_width_ = \"v-\" + _fit_width_,\n    _checkCount_ = _check_ + _count_,\n    _welcome_ = \"welcome\",\n    _v_welcome_page_ = \"v-\" + _welcome_ + \"-\" + _page_,\n    _fig_grid__ = _v_fig_ + \"-grid-\",\n    _fig_solid__ = _v_fig_ + \"-solid-\",\n    _filter_ = \"filter\",\n    __child_ = \"-child\",\n    __first_child_ = \":\" + _first_ + __child_,\n    _flex_ = \"flex\",\n    _float_ = \"float\",\n    _font_ = \"font\",\n    _Font_ = \"Font\",\n    _style_ = \"style\",\n    _font_style_ = _font_ + \"-\" + _style_,\n    __footer_ = \"-footer\",\n    _footnote_ = \"footnote\",\n    _footnotes_ = _footnote_ + \"s\",\n    _footnotes_area_ = _footnotes_ + \"-area\",\n    _freeze_ = \"freeze\",\n    _function_ = \"function\",\n    _gov_ = \"gov\",\n    _h6_ = \"h6\",\n    _height_ = \"height\",\n    _hover_ = \"hover\",\n    _hover_action_ = _hover_ + __action_,\n    _href_ = \"href\",\n    _http_ = \"http\",\n    _httpPrefix_ = _http_ + \"://\",\n    _httpsPrefix_ = _http_ + \"s://\",\n    _github_ = \"github\",\n    _github_madmaxchow_ = \"github.com/MadMaxChow/\",\n    _openfontsPages_CloudFlare_ = _httpsPrefix_ + \"openfonts.pages.dev/\",\n    _VLOOK_ = \"VLOOK\",\n    _githubVlook_ = _github_madmaxchow_ + _VLOOK_,\n    _ico_ = \"ico\",\n    _Alert_ = \"Alert\",\n    _Note_ = \"Note\",\n    _icoAlertNote_ = _ico_ + _Alert_ + _Note_,\n    _Tip_ = \"Tip\",\n    _icoAlertTip_ = _ico_ + _Alert_ + _Tip_,\n    _Important_ = \"Important\",\n    _icoAlertImportant_ = _ico_ + _Alert_ + _Important_,\n    _Warning_ = \"Warning\",\n    _icoAlertWarning_ = _ico_ + _Alert_ + _Warning_,\n    _Caution_ = \"Caution\",\n    _icoAlertCaution_ = _ico_ + _Alert_ + _Caution_,\n    _Mode_ = \"Mode\",\n    _math_ = \"math\",\n    _icoAutoMode_ = _ico_ + \"Auto\" + _Mode_,\n    _icoChkbox__ = _ico_ + \"Chkbox_\",\n    _icoCheck_ = _ico_ + \"Check\",\n    _Close_ = \"Close\",\n    _icoClose_ = _ico_ + _Close_,\n    _icoCopy_ = _ico_ + _Copy_,\n    _icoDarkMode_ = _ico_ + \"Dark\" + _Mode_,\n    _icoDetailsOpen_ = _ico_ + \"DetailsOpen\",\n    _nav_ = \"nav\",\n    _icoNavHistory_ = _ico_ + _nav_ + \"-\" + _history_,\n    _icoDocLib_ = _ico_ + \"DocLib\",\n    _icoDocLibSelf_ = _icoDocLib_ + \"Self\",\n    _icoDocLibBm_ = _icoDocLib_ + \"Bm\",\n    _icoDocLibExt_ = _icoDocLib_ + \"Ext\",\n    _icoDocLibRef_ = _icoDocLib_ + \"Ref\",\n    _icoFolded_ = _ico_ + \"Folded\",\n    _Style_ = \"Style\",\n    _icoFontStyle_ = _ico_ + _Font_ + _Style_,\n    _icoGray_ = _ico_ + \"Gray\",\n    _icoForbidden_ = _ico_ + \"Forbidden\",\n    _icoLaserPointer_ = _ico_ + \"LaserPointer\",\n    _icoLightMode_ = _ico_ + \"Light\" + _Mode_,\n    _icoLinkError_ = _ico_ + \"LinkError\",\n    _icoLinkMap_ =  _ico_ + \"LinkMap\",\n    _Loading_ = \"Loading\",\n    _icoLoading_ = _ico_ + _Loading_,\n    _icoMaskCloser_ = _ico_ + \"MaskCloser\",\n    _icoNavCenter_ = _ico_ + \"NavCenter\",\n    _icoNewVersion_ = _ico_ + \"NewVersion\",\n    _icoOpenInFigureNav_ = _ico_ + \"OpenInFigureNav\",\n    _icoParagraphNav_ = _ico_ + \"ParagraphNav\",\n    _Pause_ = \"Pause\",\n    _icoPause_ = _ico_ + _Pause_,\n    _icoPicInPic_ = _ico_ + \"PicInPic\",\n    _icoPlay_ = _ico_ + \"Play\",\n    _icoPrevFig_ = _ico_ + \"PrevFig\",\n    _icoPrevChapter_ = _ico_ + \"PrevChapter\",\n    _icoResetInput_ = _ico_ + \"ResetInput\",\n    _Search_ = \"Search\",\n    _icoSearch_ = _ico_ + _Search_,\n    _spotlight_ = \"spot\" + _light_,\n    _Spotlight_ = \"Spot\" + _light_,\n    _icoSpotlight_ = _ico_ + _Spotlight_,\n    _icoStop_ = _ico_ + \"Stop\",\n    _icoTableX_ = _ico_ + \"TableX\",\n    _icoTocFolded_ = _ico_ + \"TocFolded\",\n    _icoIndexTab_ = _ico_ + \"IndexTab\",\n    _icoIndexTabToc_ = _icoIndexTab_ + \"Toc\",\n    _icoIndexTabCodeblock_ = _icoIndexTab_ + \"Codeblock\",\n    _icoIndexTabFormula_ = _icoIndexTab_ + \"Formula\",\n    _icoIndexTabFigure_ = _icoIndexTab_ + \"Figure\",\n    _icoIndexTabMedia_ = _icoIndexTab_ + \"Media\",\n    _icoIndexTabTable_ = _icoIndexTab_ + \"Table\",\n    _icoWrapUnwrap_ = _ico_ + \"WrapUnwrap\",\n    _load_ = \"load\",\n    _mermaid_ = \"mermaid\",\n    _loading_ = _load_ + \"ing\",\n    _v_loading_ = \"v-\" + _loading_,\n    _v_long_ = \"v-long\",\n    _vlookHost_ = \"madmaxchow.github.io\",\n    _madmaxchowHost_GitHub_ = _httpsPrefix_ + _vlookHost_,\n    _vlookPagesHost_CloudFlare_ = _httpsPrefix_ + \"vlook-doc.pages.dev\",\n    _vlookAct_ = _vlookHost_ + \"/VLOOK/act/\",\n    _VLOOK_Number_ = _VLOOK_ + \" Number\",\n    _VLOOK_Digital_Sans_ = _VLOOK_ + \" Digital Sans\",\n    _VLOOK_Digital_Serif_ = _VLOOK_ + \" Digital Serif\",\n    _VLOOK_Sans_Mono_ = _VLOOK_ + \" Sans Mono\",\n    _VLOOK_Serif_Mono_ = _VLOOK_ + \" Serif Mono\",\n    _VLOOK_Sans_ = _VLOOK_ + \" Sans\",\n    _VLOOK_Serif_ = _VLOOK_ + \" Serif\",\n    _VLOOK_Albb_ = _VLOOK_ + \" Albb\",\n    _VLOOK_Albb_DT_Sans_ = _VLOOK_ + \" Albb DT-Sans\",\n    _VLOOK_Albb_DT_JinBu_ = _VLOOK_ + \" Albb DT-JinBu\",\n    _NotoSansMono_ = \"NotoSansMono\",\n    _LuxiMono_ = \"LuxiMono\",\n    _icoVLOOK_ = _ico_ + _VLOOK_,\n    _icoZoomIn_ = _ico_ + \"ZoomIn\",\n    _icoZoomOut_ = _ico_ + \"ZoomOut\",\n    _id_ = \"id\",\n    __status_ = \"-status\",\n    _iframe_ = \"iframe\",\n    _imageXicon_ = _image_ + \"/x\" + __icon_,\n    _important_ = \" !important;\",\n    _index_ = \"index\",\n    _inner_ = \"inner\",\n    _input_ = \"input\",\n    _inset_ = \"in\" + _set_,\n    _startReading_cn_ = \"开始阅览\",\n    _startReading_en_ = \"Start Reading\",\n    _in_start_ = \"in-\" + _start_,\n    _Invalid_ = \"Invalid\",\n    _invert_ = \"invert\",\n    _italic_ = \"italic\",\n    _italic_bold_ = \"/\" + _italic_ + \"/\" + _bold_,\n    _item_ = \"item\",\n    __item_ = \"-item\",\n    __items_ = __item_ + \"s\",\n    _kbd_ = \"kbd\",\n    _keydown_ = \"keydown\",\n    _lang_ = \"lang\",\n    _pointer_ = \"pointer\",\n    _laser_pointer_ = \"laser-\" + _pointer_,\n    __last_ = \":\" + _last_,\n    __last_child_ = __last_ + __child_,\n    _last_position_ = _last_ + \"-\" + _position_,\n    _v_resume_reading_ = \"v-resume-reading\",\n    _link_ = \"link\",\n    _link_checker_ = _link_ + \"-\" + _check_ + \"er\",\n    _line_ = \"line\",\n    _linear_gradient_ = \"linear-gradient\",\n    _local_ = \"local\",\n    _loop_ = \"loop\",\n    _lazy_ = \"lazy\",\n    _margin_ = \"margin\",\n    _map_ = \"map\",\n    _margin_bottom_ =_margin_ +  \"-\" + _bottom_,\n    _margin_left_ = _margin_ + \"-\" + _left_,\n    _margin_right_ = _margin_ + \"-\" + _right_,\n    _mark_ = \"mark\",\n    _mata_ = \"meta\",\n    _max_height_ = \"max-\" + _height_,\n    _md_alert_ = \"md-alert\",\n    _md_diagram_panel_ = \"md-diagram-panel\",\n    _md_fences_ = \"md-fences\",\n    _md_math_container_parents_ = \".md-\" + _math_ +\"-\" + _block_ + \", .\" + _md_fences_ + \"-\" + _math_,\n    _media_ = \"media\",\n    _message_ = \"message\",\n    _md_toc_item_ = \"md-toc\" + __item_,\n    _middle_ = \"middle\",\n    _min_ = \"min\",\n    _mindmap_ = \"mindmap\",\n    _mini_ = \"mini\",\n    _min_width_ = \"min-\" + _width_,\n    _mjx__ = \"#mjx-\",\n    _mouse_ = \"mouse\",\n    _down_ = \"down\",\n    _mouseDown_ = _mouse_ + _down_,\n    _up_ = \"up\",\n    _mouseUp_ = _mouse_ + _up_,\n    _mouseEnter_ = _mouse_ + \"enter\",\n    _mouseLeave_ = _mouse_ + \"leave\",\n    _mp3_ = \".mp3\",\n    _mp4_ = \".mp4\",\n    _m4a_ = \".m4a\",\n    _ogg_ = \".ogg\",\n    _ogv_ = \".ogv\",\n    _wav_ = \".wav\",\n    _webm_ = \".webm\",\n    _name_ = \"name\",\n    _nav_center_ = _nav_ + \"-\" + _center_,\n    _Navigation_ = \"Navigation\",\n    _Next_ = \"Next\",\n    __next_ = \"-next\",\n    _version_ = \"version\",\n    _new_version_ = \"new-\" + _version_,\n    _new_version_check_time_ = _new_version_ + \"-\" + _check_time_,\n    _nbsp_ = \"&nbsp;\",\n    _no_ = \"no\",\n    _no_repeat_ = _no_ + __repeat_,\n    _normal_ = \"normal\",\n    _normal_normal_ = \"/\" + _normal_ + \"/\" + _normal_,\n    _normal_bold_ = \"/\" + _normal_ + \"/\" + _bold_,\n    _normal_500_ = \"/\" + _normal_ + \"/500\",\n    _normal_900_ = \"/\" + _normal_ + \"/900\",\n    _normal_italic_ = \"/\" + _italic_ + \"/\" + _normal_,\n    _notLoaded_ = \"⏳\", //\"NOT LOADED\",\n    _off_ = \"off\",\n    _on_ = \"on\",\n    __only_child_ = \":only\" + __child_,\n    _opacity_ = \"opacity\",\n    _opened_ = _open_ + \"ed\",\n    _outerHTML_ = \"outerHTML\",\n    _outline__ = \"outline-\",\n    _outline_style_ = _outline__ + _style_,\n    _outline_width_ = _outline__ + _width_,\n    _overflow_ = \"overflow\",\n    _overflow_x_ = _overflow_ + \"-x\",\n    _overflow_y_ = _overflow_ + \"-y\",\n    _padding_ = \"padding\",\n    _padding_bottom_ = _padding_ + \"-\" + _bottom_,\n    _padding_left_ = _padding_ + \"-\" + _left_,\n    _padding_right_ = _padding_ + \"-\" + _right_,\n    _padding_top_ = _padding_ + \"-top\",\n    _paragraph_ = \"paragraph\",\n    _paragraph_nav_ = _paragraph_ + \"-nav\",\n    _placeholder_ = \"placeholder\",\n    _playing_ = \"playing\",\n    _preload_ = \"preload\",\n    _Previous_ = \"Previous\",\n    _pre_wrap_ = \"pre-\" + _wrap_,\n    __prev = \"-prev\",\n    _prs_ = \"prs\",\n    _Ready_ = \"Ready\",\n    _reset_ = \"re\" + _set_,\n    _restore_ = \"restore\",\n    _ref_footnote_ = \"ref-\" + _footnote_,\n    _rowspan_ = \"rowspan\",\n    _rx_ = \"rx\",\n    _ry_ = \"ry\",\n    _sans_ = \"sans\",\n    _selected_ = \"selected\",\n    _serif_ = \"serif\",\n    _span_ = \"span\",\n    _sub_ = \"sub\",\n    _sup_ = \"sup\",\n    _stroke_ = \"stroke\",\n    _strong_ = \"strong\",\n    _svg_ = \"svg\",\n    _suffixImg_ = \".\" + _img_,\n    _suffixSvg_ = \".\" + _svg_,\n    _summary_ = \"summary\",\n    _tabindex_ = \"tab\" + _index_,\n    _tag_ = \"tag\",\n    _tagName_ = _tag_ + \"Name\",\n    _target_ = \"target\",\n    _tbody_ = \"t\" + _body_,\n    _text_align_ = _text_ + \"-\" + _align_,\n    _textLength_ = _text_ + \"Length\",\n    _text_shadow_ = _text_ + __shadow_,\n    _thead_ = \"thead\",\n    _theme_ = \"theme\",\n    ___v_theme__ = \"--v-\" + _theme_ + \"-\",\n    ___v_f__ = \"--v-f-\",\n    _vlook__ = \"vlook-\",\n    _vlook_header_autonum_ = _vlook__ + \"header-autonum\",\n    _vlook_gray_mode_ = _vlook__ + _gray_ + __mode_,\n    _vlook_toc_ = _vlook__ + _toc_,\n    _vlook_query_ = _vlook__ + \"query\",\n    _vlookTocItem_ = \"#\" + _vlook_toc_ + \">.\" + _md_toc_item_,\n    __spliter_ = \"-spliter\",\n    _toolbar_ = \"toolbar\",\n    _transform_ = \"transform\",\n    _transform_origin_ = _transform_ + \"-origin\",\n    _transparent_ = \"transparent\",\n    _true_ = \"true\",\n    _ttf_ = \"ttf\",\n    _hastwo_ = \"hastwo\",\n    _un_ = \"un\",\n    _unfreeze_ = \"unfreeze\",\n    _vdl_ = \"vdl\",\n    _docLibIdentifier_ = _target_ + \"=\" + _vdl_,\n    _v_cc_ = \"v-cc\",\n    _view_ = \"view\",\n    _v_view_history_ = \"v-\" + _view_ + \"-\" + _history_,\n    _vk_footer_area_ = \"vk-footer-area\",\n    // _vk_footer_area_id_ = \"#\" + _vk_footer_area_,\n    _vk_header_ = \"vk\" + __header_ + \"-\",\n    _vk_id_doc_title_ = \"vk-id\" + __doc_title_,\n    _vk_id_fig_ = \"vk-id-fig\",\n    _vk_id_audio_ = \"vk-id-\" + _audio_,\n    _video_ = \"video\",\n    _vk_id_video_ = \"vk-id-\" + _video_,\n    _vk_id_tbl_ = \"vk-id-tbl\",\n    _vk_id_math_ = \"vk-id-math\",\n    _vk_id_codeblock_ = \"vk-id-\" + _codeblock_,\n    _vk_id_mini_audio_ = \"vk-id-mini-\" + _audio_,\n    _vk_pg__ = \"vk-pg-\",\n    _vlook_doc_lib_ = _vlook__ + _doc_lib_,\n    _vlook_chk_update_cloudflare_ = _vlook__ + _chkUpdate_ + \"-\" + _cloudflare_,\n    _vlook_chk_update_github_ = _vlook__ + _chkUpdate_ + \"-\" + _github_,\n    _vlook_stat__ = _vlook__ + \"stat-\",\n    _vlook_stat_gitee_ = _vlook_stat__ + \"gitee\",\n    _vlook_stat_github_ = _vlook_stat__ + _github_,\n    _vlook_stat_cloudflare_ = _vlook_stat__ + _cloudflare_,\n    __ac_ = \"--ac-\",\n    _var_ac_rd_ = V_ui_var(__ac_ + \"rd\"),\n    _var_ac_rd_lg_ = V_ui_var(__ac_ + \"rd-lg\"),\n    _var_ac_cy_ = V_ui_var(__ac_ + \"cy\"),\n    _var_ac_cy_lg_ = V_ui_var(__ac_ + \"cy-lg\"),\n    _var_ac_og_ = V_ui_var(__ac_ + \"og\"),\n    _var_ac_og_lg_ = V_ui_var(__ac_ + \"og-lg\"),\n    __scheme_ = \"-scheme\",\n    _color_scheme_ = _color_ + __scheme_,\n    ___v_color_scheme_ = \"--v-\" + _color_scheme_,\n    _var_cur_copy_ = \"--cur-\" + _copy_,\n    __d_bc_ = \"--d-bc\",\n    _var_d_bc_ = V_ui_var(__d_bc_),\n    _var_d_fc_ = V_ui_var(\"--d-fc\"),\n    _var_fig_grid__ = \"--\" + _fig_grid__,\n    _var_mark_bg_ = V_ui_var(\"--mark-bg\"),\n    _v_nav_center_ = \"v-nav-\" + _center_,\n    __v_nav_center_width_ = \"--\" + _v_nav_center_ + \"-w\",\n    _var_nav_center_hidden_left_ = \"calc(\" + V_util_getVarVal(__v_nav_center_width_) + \" * -2)\",//\"--\" + _vNavCenter_ + \"-\" + _hidden_ + \"-l\",\n    _var_nav_center_width_ = V_ui_var(__v_nav_center_width_),\n    ___v_r_ = \"--v-r-\",\n    _v_r_b_ = ___v_r_ + \"b\",\n    _var_v_r_b_ = V_ui_var(_v_r_b_),\n    _v_r_c_ = ___v_r_ + \"c\",\n    _v_r_s_ = ___v_r_ + \"s\",\n    _v_r_t_ = ___v_r_ + \"t\",\n    _v_r_tag_ = ___v_r_ + _tag_,\n    _var_tbl_row_alpha_ = V_ui_var(\"--tbl-row-g-alpha\"),\n    _v_actor_ = \"v-actor\",\n    _v_actor_key_sys_ = _v_actor_ + \"-key-sys\",\n    _v_actor_ext_sys_ = _v_actor_ + \"-ext-sys\",\n    _v_audio_mini_control_ = \"v-\" + _audio_ + \"-mini-control\",\n    _v_backdrop_blurs_ = \"v-backdrop-blurs\",\n    _badge_ = \"badge\",\n    _v_badge__ = \"v-\" + _badge_ + \"-\",\n    _v_badge_name_ = _v_badge__ + _name_,\n    _value_ = \"value\",\n    _v_badge_value_ = _v_badge__ + _value_,\n    _v_btn_ = \"v-btn\",\n    _v_btn_group_ = _v_btn_ + \"-\" + _group_,\n    _v_btn__o__btn_group_ = \".\" + _v_btn_ + \",.\" + _v_btn_group_,\n    _v_btn__n__assistor_ = \".\" + _v_btn_ + \".\" + _assistor_,\n    _v_check_hash_ = \"v-\" + _check_ + __hash_,\n    _v_color_scheme_ = \"v-\" + _color_scheme_,\n    _v_content_ = \"v-\" + _content_,\n    _v_content_assistor_ = _v_content_ + \"-\" + _assistor_,\n    _v_card_ = \"v-\" + _card_,\n    _v_cap1_ = \".v-\" + _cap__ + \"1\",\n    _v_cap2_ = \".v-\" + _cap__ + \"2\",\n    _v_caption_container_ = \"v-\" + _cap__ + \"cntr\",\n    _v_caption_ = \"v-caption\",\n    _v_caption__n__mermaid_ = _v_caption_ + \".\" + _mermaid_,\n    _v_chapter_nav_ = \"v-chapter-nav\",\n    _CodeMirror_ = \"CodeMirror\",\n    _CodeMirror_line_ = _CodeMirror_ + \"-line\",\n    _CodeMirror_code_ = _CodeMirror_ + \"-code\",\n    _v_copyright_ = \"v-copyright\",\n    _v_copyright_svg_ico_ = _v_copyright_ + \"-svg-ico\",\n    _v_cursor_laser_ = \"v-\" + _cursor_ + \"-laser\",\n    _v_doc__ = \"v-\" + _doc_ + \"-\",\n    _info_ = \"info\",\n    _v_doc_info_ = _v_doc__ + _info_,\n    _v_prs_info_ = \"v-prs-\" + _info_,\n    _v_doc_lib_ = _v_doc__ + \"lib\",\n    _v_doc_lib_item_ = _v_doc_lib_ + __item_,\n    _v_doc_logo_ = _v_doc__ + \"logo-\",\n    _v_nav_history_ = \"v-\" + _nav_ + \"-\" + _history_,\n    _expander_ = \"expander\",\n    _v_float_card_ = \"v-\" + _float_ + \"-\" + _card_,\n    _v_float_card2_ = _v_float_card_ + \"2\",\n    _v_fig_content_ = _v_fig_ + \"-\" + _content_,\n    _v_fig_nav_ = _v_fig_ + \"-nav\",\n    _v_fig_nav_btns_ = \".\" + _v_fig_nav_ + \"-btns\",\n    _search_ = \"search\",\n    _v_focus_search_ = \"v-\" + _focus_ + \"-\" + _search_,\n    _v_font_info__ = \"v-\" + _font_ + _info_ + \"-\",\n    _v_fontnote_pn_ = \"v-\" + _footnote_ + \"-pn\",\n    _v_fontnote_pn_content_ = _v_fontnote_pn_ + \"-\" + _content_,\n    _v_font_package_ = \"v-\" + _font_ + \"-package\",\n    _v_font_style_ = \"v-\" + _font_style_,\n    _v_font_style_download_ = \"v-\" + _font_style_ + \"-download\",\n    _v_font_style_current_ = \"v-\" + _font_style_ + __current_,\n    _v_font_style_opt_ = \"v-\" + _font_style_ + \"-opt\",\n    _v_font_style_opt_local_ = _v_font_style_opt_ + \"-\" + _local_,\n    _v_font_style_opt_book_ = _v_font_style_opt_ + \"-\" + _book_,\n    _v_font_style_opt_gov_ = _v_font_style_opt_ + \"-\" + _gov_,\n    _v_font_style_opt_sans_ = _v_font_style_opt_ + \"-\" + _sans_,\n    _v_font_style_opt_serif_ = _v_font_style_opt_ + \"-\" + _serif_,\n    _v_font_style_opt_albb_ = _v_font_style_opt_ + \"-\" + _albb_,\n    _v_font_style_restore_ = \"v-\" + _font_style_ + \"-\" + _restore_,\n    _info_tips_ = _info_ + \"-\" + _tips_,\n    __handle_ = \"-handle\",\n    _v_info_tips_ = \"v-\" + _info_tips_,\n    _v_std_code_ = \"v-std-\" + _code_,\n    _v_breadcrumb_style_ = \"v-stepwise\",\n    _v_table_ = \"v-\" + _table_,\n    _v_tag_ = \"v-\" + _tag_,\n    _v_tag_link = _v_tag_ + \"-\" + _link_,\n    _v_tips_ = \"v-\" + _tips_,\n    _v_toc__ = \"v-toc-\",\n    _v_toc_body_ = _v_toc__ + _body_,\n    _v_index_filter_result_ = \"v-\" + _index_ + \"-\" + _filter_ + __result_,\n    _v_nav_center_handle_ = \"v-\" + _nav_center_ + __handle_,\n    _v_tool_tips_ = \"v-tool-\" + _tips_,\n    _v_toolbar_ = \"v-\" + _toolbar_,\n    _invert_dark_ = _invert_ + \"-\" + _dark_,\n    _v_img__ = \"v-\" + _img_ + \"-\",\n    _v_img_lost_ = _v_img__ + \"lost\",\n    _v_img_invert_dark_ = _v_img__ + _invert_dark_,\n    _v_link_chk_result_ = \"v-\" + _link_ + \"-chk\" + __result_,\n    _v_link_error_ = \"v-\" + _link_ + \"-\" + _error_,\n    _v_link_info_list_ = \"v-\" + _link_ + \"-\" + _info_ + \"-list\",\n    _v_link_map_ = \"v-\" + _link_ + \"-map\",\n    _v_map_item_ = \"v-map\" + __item_,\n    _mask_ = \"mask\",\n    _v_mask_ = \"v-\" + _mask_,\n    _v_mask_close_ = _v_mask_ + \"-\" + _close_,\n    _md_toc_ = \"md-toc\",\n    _md_toc__ = _md_toc_ + \"-\",\n    _v_mermaid_restyler_ = \"v-\" + _mermaid_ + \"-restyler\",\n    _v_more_doc_content_ = \"v-more-\" + _doc_ + \"-\" + _content_ + \"-\",\n    _v_nav_center_block_ = _v_nav_center_ + \"-block\",\n    _v_nav_center_float_ = _v_nav_center_ + \"-\" + _float_,\n    _v_new_version_ = \"v-\" + _new_version_,\n    _v_pg_nav_mask_border_ = \"v-pg-nav-\" + _mask_ + \"-\" + _border_,\n    _mask_rect_ = _mask_ + \"-rect\",\n    _v_post_card_ = \"v-post-\" + _card_,\n    _v_pic_in_pic_ = \"v-\" + _pic_in_pic_,\n    _v_pip_btn_ = \"v-pip-btn\",\n    _v_coating_ = \"v-\" + _coating_,\n    _v_rotate_ = \"v-rotate\",\n    _v_rotate45_ = _v_rotate_ + 45,\n    _v_rotate90_ = _v_rotate_ + 90,\n    _v_search_by_keyword_ = \"v-\" + _search_ +\"-by-\" + _keyword_,\n    _v_segment_ = \"v-segment\",\n    _v_segment_btn_ = _v_segment_ + \"-btn\",\n    _v_sts_font_style_ = \"v-sts-\" + _font_style_,\n    _v_sts_gray_ = \"v-sts-\" + _gray_,\n    _v_spotlight_ = \"v-\" + _spotlight_,\n    _v_spotlight_in_dark_ = _v_spotlight_ + \"-in-\" + _dark_,\n    _v_status_bar_ = \"v\" + __status_ + \"-bar\",\n    _v_svg_details_ = \"v-svg-\" + _details_,\n    _v_tbl__ = \"v-tbl-\",\n    _v_tbl_x_ = \".\" + _v_tbl__ + \"x\",\n    _v_tbl_x_cell_ = _v_tbl__ + \"x-\" + _cell_,\n    _v_tbl_row__ = _v_tbl__ + \"row-\",\n    _v_tbl_row_g_folder_ = _v_tbl_row__ + \"g-\" + _folder_,\n    __identer_ = \"-identer\",\n    _v_tbl_row_g_identer_folder_ = _v_tbl_row__ + \"g\" + __identer_ + \"-\" + _folder_,\n    _v_tbl_row_g_not_folder_ = _v_tbl_row__ + \"g-not-\" + _folder_,\n    _v_tbl_row_g_btn_ = \".\" + _v_tbl_row__ + \"g-btn\",\n    _v_tbl_row_num_hidden_ = _v_tbl_row__ + _num_ + \"-\" + _hidden_,\n    _v_tbl_col_fmt__ = _v_tbl__ + \"col-fmt-\",\n    _v_tbl_col_fmt_chkbox_ = _v_tbl_col_fmt__ + \"chkbox\",\n    _v_tbl_col_fmt_bold_ = _v_tbl_col_fmt__ + _bold_,\n    _v_tbl_col_fmt_em_ = _v_tbl_col_fmt__ + \"em\",\n    _v_tbl_col_fmt_mark_ = _v_tbl_col_fmt__ + _mark_,\n    _v_tbl_col_fmt_num_ = _v_tbl_col_fmt__ + _num_,\n    _v_tbl_col_fmt_num_decimal_ = _v_tbl_col_fmt__ + _num_ + \"-decimal\",\n    _v_tbl_col_fmt_num_negative_ = _v_tbl_col_fmt__ + _num_ + \"-negative\",\n    _v_tbl_col_fmt_num_positive_ = _v_tbl_col_fmt__ + _num_ + \"-positive\",\n    _v_tbl_col_fmt_percent_ = _v_tbl_col_fmt__ + \"percent\",\n    _v_tbl_col_fmt_currency_ = _v_tbl_col_fmt__ + \"currency\",\n    _v_tbl_row_g_sub_ = _v_tbl_row__ + \"g-sub\",\n    _v_tbl_row_g_identer_ = _v_tbl_row__ + \"g\" + __identer_,\n    _v_text_field_ = \"v-textfield\",\n    _v_text_field_focus_ = _v_text_field_ + \"-\" + _focus_,\n    _v_text_field_reset_ = _v_text_field_ + \"-\" + _reset_,\n    _v_toc_folder_ = \".\" + _v_toc__ + _folder_,\n    _v_toc_item_ = _v_toc__ + _item_,\n    _v_item_current_ = \"v\" + __item_ + __current_,\n    _v_transition__ = \"v-transition-\",\n    _v_transition_all_ = _v_transition__ + \"all\",\n    _vertical_align_ = \"vertical-\" + _align_,\n    _view_box_ = _view_ + \"Box\",\n    _visible_ = \"visible\",\n    _visibility_ = \"visibility\",\n    _wait_ = \"wait\",\n    _warning_ = \"warning\",\n    _wheel_ = \"wheel\",\n    _white_space_ = \"white-space\",\n    _write_ = \"write\",\n    _idWrite_ = \"#\" + _write_,\n    _woff2_ = \"woff2\",\n    _var_write_margin_left_ = \"var(--v-\" + _write_ + \"-ml)\",//\"calc(\" + _varNavCenterWidth_ + \" + 30px)\",\n    _var_write_margin_left_def_ = \"var(--v-\" + _write_ + \"-ml-def)\",\n    _xmd_ = \"xmd\",\n    _yes_ = \"yes\",\n    _z_index_ = \"z-\" + _index_,\n    _zoom_ = \"zoom\",\n    _zoom_in_ = _zoom_ + \"-in\",\n    _zoom_out_ = _zoom_ + \"-out\",\n    _2nbsp_ = _nbsp_ + _nbsp_;\niStopwatch.st();\n\n// ==================== 内置函数调用简化 ==================== //\n\n// 控制台打印日志\nfunction LOG() {\n    console.log.apply(console, arguments);\n}\n// 控制台打印通知\nfunction INFO() {\n    console.info.apply(console, arguments);\n}\n// 控制台打印警告\nfunction WARN() {\n    console.warn.apply(console, arguments);\n}\n// 控制台打印错误\nfunction ERROR() {\n    console.error.apply(console, arguments);\n}\n// 在 debug 模式下输出调试信息\nfunction DEBUG(...info) {\n    if (V_debugMode) {\n        ERROR(\"| DEBUG INFO |\");\n        WARN(...info);\n    }\n}\n// 弹窗显示信息\nfunction ALERT(m) {\n    alert(m);\n}\n\n// 获得文档 URL\nfunction WINDOW_getHref() {\n    return gLocation.href;\n}\n\n// 设置文档 URL\nfunction WINDOW_setHref(value) {\n    gLocation.href = value;\n}\n\n// 获得文档 URL 的 hash\nfunction WINDOW_getHash() {\n    return gLocation.hash;\n}\n\n// ==================== JQuery 方法调用简化 ==================== //\n\n// 定义 addClass 简化版\nfunction JQ_addClass(target, className) {\n    if (target !== gUndefined)\n        target.addClass(className);\n}\n\n// 定义 removeClass 简化版\nfunction JQ_removeClass(target, className) {\n    if (target !== gUndefined)\n        target.removeClass(className);\n}\n\n// 定义 removeAttr 简化版\nfunction JQ_removeAttr(target, attrName) {\n    if (target !== gUndefined)\n        target.removeAttr(attrName);\n}\n\n// 交替切换不同样式\nfunction JQ_exchangeClass(target, oldClassName, newClassName) {\n    if (target !== gUndefined) {\n        target.removeClass(oldClassName);\n        target.addClass(newClassName);\n    }\n}\n\n// 定义 attr 简化版\n$.prototype.a = function (key, value) {\n    return (value === gUndefined ? this.attr(key) : this.attr(key, value));\n}\n\n// 定义 css 简化版\n$.prototype.c = function (key, value) {\n    return (value === gUndefined ? this.css(key) : this.css(key, value));\n}\n\n// 定义 click 简化版\n$.prototype.ck = function (callback) {\n    this.on(_click_, callback);\n}\n\n// 定义 prev 简化版\n$.prototype.pr = function (value) {\n    return this.prev(value);\n}\n\n// 定义 next 简化版\n$.prototype.n = function (value) {\n    return this.next(value);\n}\n\n// 定义 children 简化版\n$.prototype.ch = function (value) {\n    return this.children(value);\n}\n\n// 定义 remove 简化版\n$.prototype.rm = function (value) {\n    return this.remove(value);\n}\n\n// 定义 empty 简化版\n$.prototype.em = function (value) {\n    return this.empty(value);\n}\n\n// 定义 each 简化版\n$.prototype.e = function (callback) {\n    this.each(callback);\n}\n\n// 定义 find 简化版\n$.prototype.f = function (value) {\n    return this.find(value);\n}\n\n// 定义 html 简化版\n$.prototype.hm = function (value) {\n    return (value === gUndefined ? this.html(): this.html(value));\n}\n\n// 定义 val 简化版\n$.prototype.v = function (value) {\n    return (value === gUndefined ? this.val() : this.val(value));\n}\n\n// 定义 width 简化版\n$.prototype.w = function () {\n    return this.width();\n}\n\n// 定义 innerWidth 简化版\n$.prototype.iW = function () {\n    return this.innerWidth();\n}\n\n// 定义 outerWidth 简化版\n$.prototype.oW = function (flag = gFalse) {\n    return this.outerWidth(flag);\n}\n\n// 定义 height 简化版\n$.prototype.h = function () {\n    return this.height();\n}\n\n// 定义 innerHeight 简化版\n$.prototype.iH = function () {\n    return this.innerHeight();\n}\n\n// 定义 outerHeight 简化版\n$.prototype.oH = function (flag = gFalse) {\n    return this.outerHeight(flag);\n}\n\n// 定义 offset 简化版\n$.prototype.o = function () {\n    return this.offset();\n}\n\n// 定义 offset().left 简化版\n$.prototype.oL = function () {\n    return this.offset().left;\n}\n\n// 定义 offset().top 简化版\n$.prototype.oT = function () {\n    return (this.offset() === gUndefined ? 0 : this.offset().top);\n}\n\n// 定义 position 简化版\n$.prototype.pos = function () {\n    return this.position();\n}\n\n// 定义 parent 简化版\n$.prototype.p = function () {\n    return this.parent();\n}\n\n// 定义 parents 简化版\n$.prototype.ps = function (value) {\n    return this.parents(value);\n}\n\n// 定义 append 简化版\n$.prototype.ap = function (value) {\n    return this.append(value);\n}\n\n// 定义 prepend 简化版\n$.prototype.pp = function (value) {\n    return this.prepend(value);\n}\n\n// 定义 after 简化版\n$.prototype.af = function (value) {\n    return this.after(value);\n}\n\n// 定义 before 简化版\n$.prototype.bf = function (value) {\n    return this.before(value);\n}\n\n// 定义 replaceWith 简化版（outerHTML）\n$.prototype.rW = function (value) {\n    return this.replaceWith(value);\n}\n\n// 定义 text 简化版\n$.prototype.t = function (value) {\n    return (value === gUndefined ? this.text() : this.text(value));\n}\n\n// 定义 toggle 简化版\n$.prototype.tg = function (value) {\n    this.toggle(value);\n}\n\n// 定义 trigger 简化版\n$.prototype.tr = function (value) {\n    this.trigger(value);\n}\n\n// 定义 unbind(\"click\") 简化版\n$.prototype.uC = function () {\n    return this.off(_click_);\n}\n\n// 定义 unbind(\"hover\") 简化版\n$.prototype.uH = function () {\n    return this.off(_mouseEnter_).off(_mouseLeave_);\n}\n\n// ==================== JavaScript 方法调用简化 ==================== //\n\n// 定义 match 简化版\nString.prototype.m = function (value) {\n    return this.match(value);\n}\n\n// 定义 replace 简化版\nString.prototype.r = function (searchValue, replaceValue) {\n    return this.replace(searchValue, replaceValue);\n}\n\n// 定义 replaceAll 简化版\nString.prototype.rA = function (regExpString, value) {\n    const re = new RegExp(regExpString, \"g\");\n    return this.replaceAll(re, value);\n}\n\n// 去掉字符串中的英文句号 .\nString.prototype.xD = function () {\n    return this.replaceAll(/\\./g, _);\n}\n\n// 定义 trim 简化版\nString.prototype.x = function () {\n    return this.trim();\n}\n\n// 定义 startsWith 简化版\nString.prototype.sW = function (value) {\n    return this.startsWith(value);\n}\n\n// 定义 endsWith 简化版\nString.prototype.eW = function (value) {\n    return this.endsWith(value);\n}\n\n// 定义 indexOf 简化版\nString.prototype.i = function (value) {\n    return this.indexOf(value);\n}\n\n// 定义 toLowerCase 简化版\nString.prototype.l = function () {\n    return this.toLowerCase();\n}\n\n// 定义 toUpperCase 简化版\nString.prototype.u = function () {\n    return this.toUpperCase();\n}\n\n// 定义 substring 简化版\nString.prototype.ss = function (start, end) {\n    return this.substring(start, end);\n}\n\n// 定义 split 简化版\nString.prototype.sp = function (exp) {\n    return this.split(exp);\n}\n\n// 定义 toString 简化版\nfunction JS_toString(value) {\n    if (value === gUndefined || value === gNull)\n        return value;\n    return value.toString();\n}\n\n// 定义 parseInt 简化版\nfunction JS_parseInt(value) {\n    return parseInt(value);\n}\n\n// 定义 parseFloat 简化版\nfunction JS_parseFloat(value) {\n    return parseFloat(value);\n}\n\n// 定义 Math.round 简化版\nfunction JS_mathRound(value) {\n    return Math.round(value);\n}\n\n// 定义 Math.ceil 简化版\nfunction JS_mathCeil(value) {\n    return Math.ceil(value);\n}\n\n// 定义 decodeURIComponent 简化版\nfunction JS_decodeURIComponent(uri) {\n    let result = V_util_isValidURIComponent(uri);\n    if (result !== gFalse)\n        return result;\n    return uri;\n}\n\n// 定义 encodeURI 简化版\nfunction JS_encodeURI(uri) {\n    return (uri === gUndefined ? _ : encodeURI(uri));\n}\n\n// 定义 decodeURI 简化版\nfunction JS_decodeURI(uri) {\n    return (uri === gUndefined ? _ : decodeURI(uri));\n}\n\n// ========================================\n// 定义 VLOOK UI 包\nlet V_ui_effect = 0, // 0: 无动效\n    V_ui_processingAdjust= gFalse;\n\n/**\n * 淡入显示\n * @param target 目标对象\n */\nfunction V_ui_fadeShow(target) {\n    if (target === gUndefined)\n        return;\n\n    target.c(_visibility_, _visible_)\n        .c(_opacity_, 1);\n}\n\n/**\n * 淡出隐藏\n * @param target 目标对象\n */\nfunction V_ui_fadeHide(target) {\n    if (target === gUndefined)\n        return;\n\n    target.c(_visibility_, _hidden_)\n        .c(_opacity_, 0);\n}\n\n// --- 保留备用 ---\n// --- 目前通过调整父级元素（ body, content ）的 overflow 属性解决 ---\n/**\n * 停止滚动事件，在指定对象滚动到顶部、底部后冒泡到其他对象\n * @param target 滚动内容对象\n */\n// function V_ui_stopScrollPropagation(target) {\n//     target[0].addEventListener(_wheel_, (event) => {\n//         let scrollTop = V_util_getScrollTop(target),\n//             isAtTop = (scrollTop === 0),\n//             isAtBottom = (Math.round(scrollTop + target.oH()) >= Math.round(target[0].scrollHeight));\n\n//         // 如果到达顶部或底部，阻止默认的滚动行为\n//         if ((isAtTop && event.deltaY < 0) || (isAtBottom && event.deltaY > 0))\n//             V_util_preventDefault(event);\n//     });\n// }\n\n/**\n * 用 <kdb> 标签包裹内容\n * @param content 被包裹的内容\n */\nfunction V_ui_wrap_kbd(content) {\n    return \"<kbd>\" + content + \"</kbd>\"\n}\n\n/**\n * 获得当前 OS 环境下的 Ctrl 键 UI 元素\n */\nfunction V_ui_getCtrlKeyUI(unwrap, short) {\n    let key = short ? \"⌃\"\n        : (env.os.macOS ? \"⌃ control\" : \"⌃ Ctrl\");\n    return unwrap ? key : V_ui_wrap_kbd(key);\n}\n\n/**\n * 获得当前 OS 环境下的 Shift 键 UI 元素\n */\nfunction V_ui_getShiftKeyUI(unwrap, short) {\n    let key = short ? \"⇧\" : \"⇧ shift\";\n    return unwrap ? key : V_ui_wrap_kbd(key);\n}\n\n/**\n * 获得当前 OS 环境下的 Alt / Option 键 UI 元素\n */\nfunction V_ui_getAltKeyUI(unwrap, short) {\n    let str = env.os.macOS\n        ? (short ? \"⌥\" : \"⌥ option\") : \"Alt\";\n    return unwrap ? str : V_ui_wrap_kbd(str);\n}\n\n/**\n * 获得当前 OS 环境下的 Windows / Command 键 UI 元素\n */\nfunction V_ui_getMetaKeyUI(unwrap, short) {\n    let str = env.os.macOS\n        ? (short ? \"⌘\" : \"⌘ command\") : \"Win\";\n    return unwrap ? str : V_ui_wrap_kbd(str);\n}\n\n/**\n * 获取组合键组合的描述\n * @param event 事件对象\n */\nfunction V_ui_getCombKeys(event) {\n    return (event.ctrlKey ? V_ui_getCtrlKeyUI(gTrue) : _)\n        + (event.shiftKey ? V_ui_getShiftKeyUI(gTrue) : _)\n        + (event.altKey ? V_ui_getAltKeyUI(gTrue) : _)\n        + (event.metaKey ? V_ui_getMetaKeyUI(gTrue) : _);\n}\n\n/**\n * 获得 VLOOK 与技术支持信息内容\n * @returns string VLOOK 与技术支持信息内容\n */\nfunction V_ui_copyrightInfo() {\n    return V_ui_div(_, _v_copyright_ +___+ _v_transition_all_,\n        V_ui_svgIcon(_icoVLOOK_, 20, 20, _btnFc_, _v_copyright_svg_ico_)\n        + _2nbsp_\n        + 'Published with ' + V_ui_strong(V_ui_a(_, _httpsPrefix_ + _githubVlook_, _VLOOK_, __blank_))\n        + '™ (V28.0) &amp; ' + V_ui_strong(V_ui_a(_, _httpsPrefix_ + \"www.typora.io\", \"Typora\", __blank_)) + '.' + _2nbsp_\n        + 'Support: ' + V_ui_strong(V_ui_a(_, _httpsPrefix_ + \"qm.qq.com/cgi-bin/qm/qr?k=oB8wpFG_4SEMf1CL9qVy-jMw0CMfSwff&jump_from=webapi\", \"QQ Group\"))\n        + ' / ' + V_ui_strong(V_ui_a(_, 'mailto:67870144@qq.com?subject=Feedback%20about%20VLOOK%20' + V_ver + '&body=Hi,%0D%0A%0D%0A====================%0D%0A%0D%0A' + JS_encodeURI(env.info(gTrue)), \"Email\")) + '.'\n    );\n}\n\n/**\n * 判断是否为小屏\n */\nfunction V_ui_isSmallScreen() {\n    return jq_Window.oW() <= gSmallScreenWidth;\n}\n\n/**\n * 判断是否已隐藏\n */\nfunction V_ui_isHidden(target) {\n    return target !== gUndefined\n        && (target.c(_display_) === _none_ || target.c(_visibility_) === _hidden_ || target.c(_opacity_) === \"0\");\n}\n\n/**\n * 判断是否已显示\n */\nfunction V_ui_isShowed(target) {\n    return !V_ui_isHidden(target);\n}\n\n/**\n * 判断是否在任意章节中（不包括封面）\n */\nfunction V_ui_inHeader() {\n    return iNavCenter.toc.inHeader();\n}\n\n/**\n * 微调页内跳转后的滚动条位置\n * @param anchor 锚点名称，不含 #，如含 # 会自动过滤\n */\nfunction V_ui_tuningScrollTop(anchor) {\n    if (anchor !== gUndefined && anchor.sW(\"#\"))\n        anchor = anchor.ss(1, V_length(anchor));\n    if (anchor === gUndefined || V_length(anchor.x()) === 0 || anchor.sW(\"#\"))\n        return;\n\n    let t = JS_parseInt(iChapterNav.ui.c(_top_)),\n        h = JS_parseInt(iChapterNav.ui.c(_height_)),\n        y = 10,\n        aObj = V_byID(JS_decodeURI(anchor) + \",a\" + V_attrCSS(_name_, anchor)),\n        tag = V_util_getTagName(aObj);\n\n    // 判断是否为 h1-6\n    if (\"h1h2h3h4h5h6\".i(tag) > -1) {\n        y += (tag === _h6_)\n            ? (t + h + 16)\n            : (aObj.h() + 10 + (JS_parseInt(tag.ss(1, 2)) - 1) * 6);\n        y -= JS_parseInt(V_util_getVarVal(\"--v-top-margin\"));\n    }\n    // 从底部脚注列表回到脚注位置\n    else if (anchor.sW(_ref_footnote_))\n        y += 70;\n    // 其他情况\n    else\n        y += t + h;\n    // 微调滚动位置\n    V_util_setScrollTop(V_util_getScrollTop() - y);\n}\n\n/**\n * 生成 jQuery / CSS 选择器 :not() 的内容\n * @param value 属性值\n */\nfunction V_not(value) {\n    return \":not(\" + value + \")\";\n}\n\n/**\n * 生成 HTML 标签属性与值内容（指定关系运算符）\n * @param attrName 属性名称\n * @param attrValue 属性值\n */\nfunction V_attr(attrName, attrValue) {\n    return attrName + '=\"' + attrValue + '\"';\n}\n\n/**\n * 生成 jQuery / CSS 选择器的属性与值内容\n * @param attrName 属性名称\n * @param attrValue 属性值\n * @param op 关系运算符，不指定时默认为 =，可添加指定前缀，如 * ^ !\n */\nfunction V_attrCSS(attrName, attrValue, op) {\n    if (op === gUndefined)\n        op = \"=\";\n    else\n        op += \"=\";\n    attrValue = (attrValue !== gUndefined) ? op + '\"' + attrValue + '\"': _;\n    return \"[\" + attrName + attrValue + \"]\";\n}\n\n// 内嵌的流媒体平台选择器\nlet gSelector_iframeVideo = _iframe_ + V_attrCSS(_src_, \"bilibili.com/\" + _player_, \"*\") + \",\" + _iframe_ + V_attrCSS(_src_, \"douyin.com/\" + _player_, \"*\") + \",\" + _iframe_ + V_attrCSS(_src_, \"ixigua.com/\" + _iframe_, \"*\") + \",\" + _iframe_ + V_attrCSS(_src_, \"qq.com/txp/\" + _iframe_, \"*\") + \",\" + _iframe_ + V_attrCSS(_src_, \"youtube.com/embed\", \"*\");\n\n/**\n * 修改文档的图标（即用于收藏夹、标签栏的图标）\n * @param iconData 图标数据，url(\"data:image/png:xxxx\") 中的双引号内的内容\n */\nfunction V_ui_changeDocIcon(iconData) {\n    V_byID(_doc_icon_).rm();\n    $(\"head\").ap(V_ui_linkIcon(_doc_icon_, V_util_getImageData(iconData)));\n}\n\n/**\n * 生成 SVG 图标\n * @param icon 图标资源集标识\n * @param w 图标宽度\n * @param h 图标高度\n * @param color 内置图标样式 v-svg-ico-xxx 标识：light / dark / alpha / ...\n * @param classValue 扩展补充的 class 样式\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n */\nfunction V_ui_svgIcon(icon, w, h, color, classValue, extAttr) {\n    // 生成 class 内容\n    classValue = (classValue !== gUndefined && V_length(classValue) > 0) ? ___+ classValue : _;\n    // 生成扩展的属及值\n    extAttr = (extAttr !== gUndefined && V_length(extAttr) > 0) ? ___+ extAttr : _;\n    return '<svg ' + _width_ + '=\"' + w + 'px\" ' + _height_ + '=\"' + h + 'px\" class=\"v-svg-small-ico' + classValue + '\"' + extAttr + '>'\n        + '<use class=\"v-svg-ico-' + color + '\" xlink:href=\"#' + icon + '\">'\n        + '</use></svg>';\n}\nfunction V_ui_svgIcon2(icon, w, h) {\n    return '<svg ' + _width_ + '=\"' + w + 'px\" ' + _height_ + '=\"' + h + 'px\">'\n        + '<use xlink:href=\"#' + icon + '\">'\n        + '</use></svg>';\n}\n\n/**\n * 生成 svg 的 symbol 标签（不用于嵌套）\n * @param idValue id 属性值\n * @param content 标签的内容\n */\nfunction V_ui_symbol(idValue, content) {\n    return V_ui_htmlTag(\"symbol\", idValue, _, _, content);\n}\n\n/**\n * 生成 svg 的 path 标签\n * @param d d 属性的内容\n * @param fill fill 属性的内容\n * @returns\n */\nfunction V_ui_path(d, fill) {\n    fill = (fill !== gUndefined && V_length(fill) > 0) ? ___+ V_attr(_fill_, fill) : _;\n    return '<path d=\"' + d + '\"' + fill + '/>';\n}\n\n/**\n * 展开 details ，或父级元素为 details\n * @param target 目标对象\n */\nfunction V_ui_openDetails(target) {\n    if (target === gUndefined)\n        return;\n\n    // 针对任一父级元素为 details 的情况\n    let detailsParent = target.closest(_details_);\n    if (V_length(detailsParent) > 0 && !detailsParent[0].open)\n        detailsParent[0].open = gTrue;\n\n    // 如果为 details 则未展开，则自动展开\n    if (V_util_getTagName(target) === _details_ && !target[0].open)\n        target[0].open = gTrue;\n}\n\n/**\n * 生成 img 标签\n * @param classValue class 属性值\n * @param alt alt 属性值\n * @param src src 属性值\n * @param srcset srcset 属性值\n * @param loading loading 属性值\n */\nfunction V_ui_img(classValue, alt, src, srcset, loading) {\n    classValue = (classValue !== gUndefined && V_length(classValue) > 0) ? ___+ V_attr(_class_, classValue) : _;\n    alt = (alt !== gUndefined && V_length(alt) > 0) ? ___+ V_attr(_alt_, alt) : _;\n    src = (src !== gUndefined && V_length(src) > 0) ? ___+ V_attr(_src_, src) : _;\n    srcset = (srcset !== gUndefined && V_length(srcset) > 0) ? ___+ V_attr(_srcset_, srcset) : _;\n    loading = (loading !== gUndefined && V_length(loading) > 0) ? ___+ V_attr(_loading_, _lazy_) : _;\n    return '<' + _img_ + classValue + alt + src + srcset + loading + '>';\n}\n\n/**\n * 生成 iframe 标签\n * @param id id 属性值\n * @param name name 属性值\n * @param loading loading 属性值\n */\nfunction V_ui_iframe(id, name, loading) {\n    name = (name !== gUndefined && V_length(name) > 0) ? ___+ V_attr(_name_, name) : _;\n    loading = (loading !== gUndefined && V_length(loading) > 0) ? ___+ V_attr(_loading_, _lazy_) : _;\n    return V_ui_htmlTag(_iframe_, id, _, name + loading, _);\n}\n\n/**\n * 生成 input 标签\n * @param id id 属性值\n * @param name name 属性值\n * @param type type 属性值\n * @param value value 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n */\nfunction V_ui_input(id, name, type, value, extAttr) {\n    id = (id !== gUndefined && V_length(id) > 0) ? ___+ V_attr(_id_, id) : _;\n    name = (name !== gUndefined && V_length(name) > 0) ? ___+ V_attr(_name_, name) : _;\n    type = (type !== gUndefined && V_length(type) > 0) ? ___+ V_attr(_type_, type) : _;\n    value = (value !== gUndefined && V_length(value) > 0) ? ___+ V_attr(_value_, value) : _;\n    extAttr = (extAttr !== gUndefined && V_length(extAttr) > 0) ? ___+ extAttr : _;\n    return '<' + _input_ + id + name + type + value + extAttr + ' />';\n}\n\n/**\n * 生成 figure 标签\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n*/\nfunction V_ui_figure(classValue, extAttr, content) {\n    return V_ui_htmlTag(\"figure\", _, classValue, extAttr, content);\n}\n\n/**\n * 生成 figcaption 标签\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n*/\nfunction V_ui_figcaption(classValue, extAttr, content) {\n    return V_ui_htmlTag(\"figcaption\", _, classValue, extAttr, content);\n}\n\n/**\n * 生成 nav 标签\n * @param idValue id 属性值\n * @param classValue class 属性值\n * @param content 标签的内容\n */\nfunction V_ui_nav(idValue, classValue, content) {\n    return V_ui_htmlTag(_nav_, idValue, classValue, _, content);\n}\n\n/**\n * 生成 aside 标签\n * @param idValue id 属性值\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_aside(idValue, classValue, extAttr, content) {\n    return V_ui_htmlTag(\"aside\", idValue, classValue, extAttr, content);\n}\n\n/**\n * 生成 article 标签\n * @param idValue id 属性值\n * @param classValue class 属性值\n * @param content 标签的内容\n */\nfunction V_ui_article(idValue, classValue, content) {\n    return V_ui_htmlTag(\"article\", idValue, classValue, _, content);\n}\n\n/**\n * 生成 header 标签\n * @param idValue id 属性值\n * @param classValue class 属性值\n * @param content 标签的内容\n */\nfunction V_ui_header(idValue, classValue, content) {\n    return V_ui_htmlTag(_header_, idValue, classValue, _, content);\n}\n\n/**\n * 生成 section 标签\n * @param idValue id 属性值\n * @param classValue class 属性值\n * @param content 标签的内容\n */\nfunction V_ui_section(idValue, classValue, content) {\n    return V_ui_htmlTag(\"section\", idValue, classValue, _, content);\n}\n\n/**\n * 生成 div 标签\n * @param idValue id 属性值\n * @param classValue class 属性值\n * @param content 标签的内容\n */\nfunction V_ui_div(idValue, classValue, content) {\n    return V_ui_htmlTag(\"div\", idValue, classValue, _, content);\n}\n\n/**\n * 生成 div 标签\n * @param idValue id 属性值\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_divExt(idValue, classValue, extAttr, content) {\n    return V_ui_htmlTag(\"div\", idValue, classValue, extAttr, content);\n}\n\n/**\n * 生成 CSS 变量\n * @param varName 变量名称\n */\nfunction V_ui_var(varName) {\n    return 'var(' + varName+ ')';\n}\n\n/**\n * 生成 strong 标签\n * @param content 标签的内容\n */\nfunction V_ui_strong(content) {\n    return V_ui_htmlTag(_strong_, _, _, _, content);\n}\n\n/**\n * 生成 span 标签\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_span(classValue, extAttr, content) {\n    return V_ui_htmlTag(_span_, _, classValue, extAttr, content);\n}\n\n/**\n * 生成 sub 标签\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_sub(classValue, extAttr, content) {\n    return V_ui_htmlTag(_sub_, _, classValue, extAttr, content);\n}\n\n/**\n * 生成 sup 标签\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_sup(classValue, extAttr, content) {\n    return V_ui_htmlTag(_sup_, _, classValue, extAttr, content);\n}\n\n/**\n * 生成 label 标签\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_label(classValue, extAttr, content) {\n    return V_ui_htmlTag(_label_, _, classValue, extAttr, content);\n}\n\n/**\n * 生成 link icon 标签\n * @param idValue id 属性值\n * @param href href 的内容\n */\nfunction V_ui_linkIcon(idValue, href) {\n    return \"<\" + _link_ + \" rel='icon' id='\" + idValue + \"' href='\" + href + \"'/>\";\n}\n\n/**\n * 生成 a 标签\n * @param idValue id 属性值\n * @param href href 属性值\n * @param content 标签的内容\n * @param target href 属性值\n */\nfunction V_ui_a(idValue, href, content, target) {\n    href = (href !== gUndefined && V_length(href) > 0) ? ___+ V_attr(_href_, href): _;\n    target = (target !== gUndefined && V_length(target) > 0) ? ___+ V_attr(_target_, target) : _;\n    return V_ui_htmlTag(\"a\", idValue, _, href + target, content);\n}\n\n/**\n * 生成 audio 标签\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_audio(extAttr, content) {\n    return V_ui_htmlTag(_audio_, _, _, extAttr, content);\n}\n\n/**\n * 生成 video 标签\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_video(extAttr, content) {\n    return V_ui_htmlTag(_video_, _, _, extAttr, content);\n}\n\n/**\n * 生成 html 的标签\n * @param tag 标签名称，如：strong, div, span 等\n * @param idValue id 属性值\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_htmlTag(tag, idValue, classValue, extAttr, content) {\n    // 标签的 id 属性\n    idValue = (idValue !== gUndefined && V_length(idValue) > 0) ? ___+ V_attr(_id_, idValue) : _;\n    // 标签的 class 属性\n    classValue = (classValue !== gUndefined && V_length(classValue) > 0) ? ___+ V_attr(_class_, classValue) : _;\n    // 标签的扩展属性与取值\n    extAttr = (extAttr !== gUndefined && V_length(extAttr) > 0) ? ___+ extAttr : _;\n    // 标签的内容\n    if (content === gUndefined)\n        content = _;\n    return '<' + tag + idValue + classValue + extAttr + '>' + content + '</' + tag + '>';\n}\n\n/**\n * 切换当前选择的条目样式\n * @param taregt 条目集合的父元素对象\n * @param item 新的当前条目对象\n * @param isChildren 指定的 target 是子元素，默认为 false\n */\nfunction V_ui_tg_currentItem(taregt, item, isChildren = gFalse) {\n    V_ui_tg_resetCurrentItem(taregt, isChildren);\n    JQ_addClass(item, _v_item_current_);\n}\n\n/**\n * 重置当前选择条目的样式\n * @param taregt 条目集合的父元素对象\n * @param isChildren 指定的 target 是子元素，默认为 false\n */\nfunction V_ui_tg_resetCurrentItem(taregt, isChildren = gFalse) {\n    JQ_removeClass(isChildren\n            ? taregt\n            : taregt.ch(\".\" + _v_item_current_),\n        _v_item_current_);\n}\n\n/**\n * 设置 d-no-more 属性值\n * @param target 目标对象\n * @param items 记录集\n */\nfunction V_ui_set_dataNoMore(target, items) {\n    // 以下的 ·–·–· 是莫尔斯电码（Morse Code）中用于表示结束或没有更多内容的信号是 “AR”\n    target.a(_data_no_more_, V_length(items) > 0 ? \"· – · – ·\" : \"( \" + V_lang_text67() + \" )\");\n}\n\n/**\n * 判断鼠标当前位置是否落在指定对象的区域范围内\n * @param target 指定对象\n * @param event 事件对象\n */\nfunction v_ui_mouseDropIn(target, event) {\n    if (target === gUndefined)\n        return false;\n    let mx = event.pageX || event.clientX + gDocument.body.scrollLeft,\n        my = event.pageY || event.clientY + gDocument.body.scrollTop;\n    return !(mx <= target.oL() || mx >= (target.oL() + JS_parseInt(target.oW()))\n        || my <= target.oT() || my >= (target.oT() + JS_parseInt(target.oH())));\n}\n\n/**\n * 将预置颜色标识转换为驼峰格式\n * @param color 预置的颜色标识\n */\nfunction V_ui_campColor(color) {\n    // 渐变色\n    if (V_length(color) > 3) {\n        let gradientColors = V_ui_splitColors(color),\n            count = V_length(gradientColors),\n            colorStr = _, gColor;\n        for (let i = 0; i < count; i++) {\n            gColor = gradientColors[i];\n            colorStr += gColor.charAt(0).u() + gColor.slice(1);\n        }\n        return colorStr;\n    }\n    // 单色\n    return color.charAt(0).u() + color.slice(1);\n}\n\n/**\n * 拆分渐变的预置颜色标识\n * @param color 预置的颜色标识\n * @return Array[] 颜色标识数组\n */\nfunction V_ui_splitColors(color) {\n    let gradientColors = color.l().sp(/(\\S{2})/i);\n    return gradientColors.filter(item => item !== _);\n}\n\n/**\n * 格式化颜色为 rgba 格式\n * @param rgb RGB 颜色分量数组\n * @param opacity 透明度，0:透明，1:不透明\n */\nfunction V_ui_formatRGBA(rgb, opacity) {\n    return \"rgba(\" + rgb[0] + \",\" + rgb[1] + \",\" + rgb[2] + \",\" + opacity + \")\";\n}\n\n/**\n * 生成文本渐变色 CSS 代码\n * @param gradientColors 渐变色色号内容，如：RdBuYe\n * @param fade 透明度子标识\n */\nfunction V_ui_genGradColorCSS(gradientColors, fade) {\n    let css = _,\n        count = V_length(gradientColors),\n        color = _;\n    for (let i = 0; i < count; i++) {\n        color = gradientColors[i];\n        css += V_ui_var(__ac_ + color + fade);\n        if (i < count - 1)\n            css += \",\";\n    }\n    return css;\n}\n\n/**\n * 初始 UI 国际化\n */\nfunction V_ui_initI18n() {\n    iToolbar.btns[_nav_center_].a(_data_tips_, V_lang_text6() + \"\\n\" + V_ui_sub(_, _, V_ui_wrap_kbd(\"O\")));\n\n    iToolbar.btns[_doc_lib_].a(_data_tips_, V_lang_text7() + \"\\n\" + V_ui_sub(_, _, V_ui_wrap_kbd(\"L\")));\n\n    iToolbar.btns[_paragraph_nav_].a(_data_tips_, V_lang_text8() + \"\\n\" + V_ui_sub(_, _, V_ui_wrap_kbd(\"J\") + \" , \" + V_ui_wrap_kbd(\"K\"))\n        + V_ui_sup(_, _, _2br_ + V_lang_text28() + V_lang_text(33, [\n            \"切换步长大小\",\n            \" to switch the step size\"\n        ]) + _br_ + V_ui_wrap_kbd(\"⌃ Ctrl\") + \" / \" + V_ui_wrap_kbd(\"⇧ shift\")));\n\n    iToolbar.btns[_spotlight_].a(_data_tips_, V_lang_text9() + \"\\n\" + V_ui_sub(_, _, V_ui_wrap_kbd(\"S\"))\n        + V_ui_sup(_, _, _2br_ + V_lang_text(33, [\n            \"切换聚光灯大小\",\n            \"Toggle the size of the spotlight\"\n        ]) + _br_ + V_ui_wrap_kbd(\"⇧ Shift\")));\n\n    iToolbar.btns[_laser_pointer_].a(_data_tips_, V_lang_text10() + \"\\n\" + V_ui_sub(_, _, V_ui_wrap_kbd(\"P\")));\n\n    iChapterNav.prev.ui.a(_data_tips_, V_ui_wrap_kbd(\"←\") +___+ V_lang_text15());\n\n    iChapterNav.next.ui.a(_data_tips_, V_lang_text16() +___+ V_ui_wrap_kbd(\"→\"));\n\n    iChapterNav.dt.a(_data_tips_, V_lang_text(13, [\n        \"回到封面\",\n        \"Go back to the \" + _document_ +___+ _cover_\n    ]));\n\n    iChapterNav.current.ui.a(_data_tips_, V_lang_text(14, [\n        \"回到本章的开始\",\n        \"Go back to the beginning of this chapter\"\n    ]));\n\n    FigureNav_btns.prev.a(_title_, \"[ ← ] \" + V_lang_text15());\n\n    FigureNav_btns.next.a(_title_, V_lang_text16() + \" [ → ]\");\n\n    FigureNav_btns.close.a(_title_, \"[ ESC ] \" + V_lang_text17());\n\n    iFontStyle.ui.f(\".\" + _v_font_style_download_).hm(V_lang_text(19, [\n        \"若无法连接互联网加载在线版本字体，建议将字体直接下载到本地\",\n        \"If you cannot connect to the Internet to load the online version of the font, it is recommended to download the font directly to the local\"\n    ]) + \" (\" + V_ui_a(_, \"https://pan.baidu.com/s/1TSHwjuOOpR8UM08Fs8vOxg?pwd=9981\", V_lang_text(20, [\n        \"主站链接\",\n        \"Primary link\"\n    ])) + \" | \" + V_ui_a(_, \"https://drive.google.com/file/d/1EkWwYtGBovdH53fF3fubLYPgKle3JrRR/view?usp=sharing\", V_lang_text(21, [\n        \"备用链接\",\n        \"Secondary link\"\n    ])) + \")\");\n}\n\n/**\n * 移动到中间\n * @param source 源对象\n */\nfunction V_ui_moveToCenter(source) {\n    let l = (jq_Window.w() - source.oW()) / 2,\n        r = _auto_;\n    if (V_util_isMobile()) { // 移动端\n        l = 10;\n        r = 10;\n    }\n\n    source.c(_left_, l)\n        .c(_right_, r)\n        .c(_top_, (jq_Window.h() - source.h()) / 2);\n}\n\n/**\n * 移动到中间\n * @param source 源对象\n * @param target 目标对象\n */\nfunction V_ui_moveToTarget(source, target) {\n    let l = target.oL(),\n        w = JS_parseInt(source.oW());\n    if (l + w + 10 > jq_Window.w())\n        l = jq_Window.w() - w - 10;\n\n    source.c(_left_, l)\n        .c(_top_, target.oT() - V_util_getScrollTop() + target.h() + 10);\n}\n\n/**\n * 移动到指定的角\n * @param source 源对象\n * @param corner corner1:左上角，corner2:右上角，corner3:右下角，corner4:左下角\n */\nfunction V_ui_moveToCorner(source, corner) {\n    if (corner === _corner_ + \"3\") {\n        source.c(_right_, 20)\n            .c(_bottom_, 50);\n    }\n}\n\n/**\n * 进行文档导航相关的 UI 元素的适配处理\n */\nfunction V_ui_adjustAll() {\n    if (V_ui_processingAdjust)\n        return;\n\n    V_ui_processingAdjust = gTrue;\n\n    if (iNavCenter.adjust())\n        ContentFolder_adjust();\n    iChapterNav.adjust();\n\n    let measure = iToolbar.adjust();\n    // 适配相关的 UI\n    NavHistory_updateUI(measure);\n    MoreDocContent_updateUI();\n\n    V_ui_processingAdjust = gFalse;\n}\n\n/**\n * 模拟等待页面完成跳转后，再进行导航中心布局自适应处理\n */\n// function V_ui_adjustAllDelay() {\nlet V_ui_adjustAllDelay = V_debounce(() => { // 以防抖方式执行\n    // setTimeout(() => {\n        V_ui_adjustAll();\n        ExtQuote_uniteColumnsHeight();\n    // }, 500);\n// }\n}, 500);\n\n/**\n * 根据设备类型自适应 hover 样式（单个）\n */\nfunction V_ui_adjustHoverStyle(target) {\n    // 移动设备时解绑样式事件\n    if (V_util_isMobile())\n        target.uH();\n    // 非移动设备时绑定样式事件\n    else\n        V_ui_bindHover(target);\n}\n\n/**\n * 根据设备类型自适应 hover 样式（多个）\n */\nfunction V_ui_adjustHoverStyle2() {\n    // 移动设备时解绑样式事件\n    if (V_util_isMobile()) {\n        $(_v_btn__o__btn_group_).uH();\n        V_byClass(_v_segment_btn_).uH();\n        V_byClass(_v_resume_reading_).uH();\n        StatusBar_ui.ch(V_not(V_attrCSS(_class_, \"-\" + _info_, \"*\"))).uH();\n        V_byID(_doc_lib_toc_ + \">.\" + _v_doc_lib_item_).uH();\n        V_byClass(_v_std_code_).uH();\n        V_byClass(_v_tag_).uH();\n        V_byClass(_v_badge_name_).uH();\n        V_byClass(_v_badge_value_).uH();\n        V_byClass(_v_toc_item_).uH();\n        V_byClass(_v_map_item_).uH();\n        $(_summary_).uH();\n        $(_v_tbl_row_g_btn_).uH();\n    }\n    // 非移动设备时绑定样式事件\n    else {\n        // 所有常规按钮 hover 事件处理\n        V_ui_bindHover($(_v_btn__o__btn_group_));\n        // 所有导航中心分段控制按钮 hover 事件处理\n        V_ui_bindHover(V_byClass(_v_segment_btn_));\n        V_ui_bindHover(V_byClass(_v_resume_reading_));\n        // 状态栏上的按钮\n        V_ui_bindHover(NavHistory_ui.ch(_div_));\n        V_ui_bindHover(StatusBar_ui.ch(V_not(V_attrCSS(_class_, \"-\" + _info_, \"*\"))));\n        // 文库按钮 hover 事件处理\n        V_ui_bindHover(V_byID(_doc_lib_toc_ + \">.\" + _v_doc_lib_item_));\n        // 代码、标签类 hover 事件处理\n        V_ui_bindHover(V_byClass(_v_std_code_));\n        V_ui_bindHover(V_byClass(_v_tag_));\n        V_ui_bindHover(V_byClass(_v_badge_name_));\n        V_ui_bindHover(V_byClass(_v_badge_value_), gTrue);\n        V_ui_bindHover(V_byClass(_v_toc_item_));\n        V_ui_bindHover(V_byClass(_v_doc_lib_item_));\n        V_ui_bindHover(V_byClass(_v_map_item_));\n        V_ui_bindHover($(_summary_));\n        V_ui_bindHover($(_v_tbl_row_g_btn_));\n    }\n}\n\n/**\n * 为对象绑定 mouseenter 和 mouseleave 事件\n * @param target 目标对象\n * @param cancleParent 是否临时模拟取消父元素的 hover 处理（即 mouseenter 和 mouseleave）\n */\nfunction V_ui_bindHover(target, cancleParent) {\n    target.on(_mouseEnter_, (event) => {\n        let _t = $(event.currentTarget);\n        JQ_addClass(_t, _hover_);\n        if (cancleParent)\n            JQ_removeClass(_t.p(), _hover_);\n    }).on(_mouseLeave_, (event) => {\n        let _t = $(event.currentTarget);\n        JQ_removeClass(_t, _hover_);\n        if (cancleParent)\n            _t.p().tr(_mouseEnter_);\n    });\n}\n\n/**\n * 为对象取消 hover 事件绑定\n * @param target 目标对象\n */\nfunction V_ui_unbindHover(target) {\n    target.off(_mouseEnter_).off(_mouseLeave_);\n}\n\n/**\n * 初始化动效处理\n */\nfunction V_ui_initEffectLevel() {\n    // 动效等级为 2 或更高级时才开启毛玻璃动效（如遮罩、插图浏览器背景）\n    if (V_ui_effect >= 2)\n        JQ_addClass(V_byClass(_v_backdrop_blurs_), _enabled_);\n\n    // 以下动效等级为 1 或更高级时才开启\n    // 开启后会影响图片剪影的 hover 效果（会有闪烁）\n    // V_ui_addAnimate($(\"a \" + _kbd_ + \",a \" + _img_));\n\n    // 针对移动端进行微调\n    if (V_util_isMobile()) {\n        JQ_removeClass(V_byClass(_v_backdrop_blurs_), _enabled_);\n        JQ_addClass(V_byClass(_v_post_card_ + \".\" + _hover_), _disabled_);\n    }\n}\n\n/**\n * 为指定对象添加过渡动画\n * @param t 目标对象\n * @param css 应用的属性，不指定时默认为 “all”\n */\nfunction V_ui_addAnimate(t, css) {\n    if (V_ui_effect >= 1) {\n        if  (css === gUndefined)\n            JQ_addClass(t, _v_transition_all_);\n        else {\n            let attrSet = css.sp(___);\n            for (let i = 0; i < V_length(attrSet); i++)\n                JQ_addClass(t, _v_transition__ + attrSet[i]);\n        }\n    }\n}\n\n/**\n * 为指定对象移除过渡动画\n * @param t 目标对象\n * @param css 应用的属性，不指定时默认为 “all”\n */\nfunction V_ui_removeAnimate(t, css) {\n    if  (css === gUndefined)\n        JQ_removeClass(t, _v_transition_all_);\n    else {\n        let attrSet = css.sp(___);\n        for (let i = 0; i < V_length(attrSet); i++)\n            JQ_removeClass(t, _v_transition__ + attrSet[i]);\n    }\n}\n\n/**\n * 初始化热键\n */\nfunction V_ui_initHotkey() {\n    // 键盘按下事件\n    jq_Document.on(_keydown_, (event) => {\n        const // code = event.code,//event.keyCode || event.which || event.charCode,\n            key = event.key,\n            combKeys = V_ui_getCombKeys(event);\n\n        DEBUG(`CombKeys[${combKeys}] key[${key}] code[${event.code}]`);\n\n        // 热键操作处理\n        iSpotlight.disposeHotkey(key, combKeys, event);\n        iLaserPointer.disposeHotkey(key, combKeys, event);\n        iParagraphNav.disposeHotkey(key, combKeys, event);\n        WelcomePage_disposeHotkey(key, combKeys, event);\n        FigureNav_disposeHotkey(key, combKeys, event);\n        iNavCenter.disposeHotkey(key, combKeys, event);\n        iFontStyle.disposeHotkey(key, combKeys, event);\n        iInfoTips.disposeHotkey(key, combKeys, event);\n        iFootnote.disposeHotkey(key, combKeys, event);\n        LinkTool_disposeHotkey(key, combKeys, event);\n\n        // 文档的热键操作处理，只在文档为当前焦点且没有弹层时才有效\n        if (V_doc_block || gDocument.activeElement.tagName.l() !== _body_)\n            return;\n\n        // 无表格启用十字光标时\n        if (!TableCross_disposeHotkey(key, combKeys, event))\n            // 逐章导航热键操作处理\n            iChapterNav.disposeHotkey(key, combKeys, event);\n\n        let handled = gFalse;\n        if (V_length(combKeys) === 0) {\n            switch (key) {\n                case 'n': // N 显示/隐藏导航中心\n                case 'N':\n                    __showHideNavCenter();\n                    handled = gTrue;\n                    break;\n                case '/': // / 导航中心搜索\n                    // 与 Firefox 的 / 快捷键会存在冲突\n                    // 所以针对 Firefox，快捷键为 Ctrl + / 或 Cmd + /\n                    // 阻止默认的浏览器行为\n                    if (!iNavCenter.showed) {\n                        __showHideNavCenter();\n                    }\n                    iNavCenter.keyword.input.focus();\n\n                    // 自动读取并粘贴剪粘板的文本内容\n                    navigator.clipboard.readText().then((value) => {\n                            iNavCenter.keyword.processInput(value);\n                        }).catch((value) => {\n                            ERROR(\"GET CLIPBOARD FAILED：\", value);\n                        });\n                    handled = gTrue;\n                    break;\n                case 'l': // L 文库\n                case 'L':\n                    if (iNavCenter.docLib !== gUndefined && iNavCenter.docLib.enabled)\n                        iToolbar.btns[_doc_lib_].tr(_click_);\n                    handled = gTrue;\n                    break;\n                case 'd': // D Light / Dark Mode\n                case 'D': // D Light / Dark Mode\n                    StsColorScheme_ui.tr(_click_);\n                    handled = gTrue;\n                    break;\n                case 'a': // A 字体风格\n                case 'A':\n                    if (V_ui_isHidden(iFontStyle.ui))\n                        StsFontStyle_ui.tr(_click_);\n                    else\n                        iFontStyle.hide();\n                    handled = gTrue;\n                    break;\n                case 'm': // M 链接地图\n                case 'M':\n                    if (V_ui_isShowed(StsLinkMap_ui) && !LinkTool_isShowed())\n                        StsLinkMap_ui.tr(_click_);\n                    else\n                        LinkTool_hide.hide();\n                    handled = gTrue;\n                    break;\n                case 'j': // J,K 段落漫游\n                case 'J':\n                case 'k': // J,K 段落漫游\n                case 'K':\n                    if (!iParagraphNav.enabled) {\n                        iSpotlight.hide();\n                        iLaserPointer.hide();\n                        iParagraphNav.tg();\n                        handled = gTrue;\n                    }\n                    break;\n                case 'p': // P 激活笔\n                case 'P':\n                    iParagraphNav.hide();\n                    iSpotlight.hide();\n                    iLaserPointer.tg();\n                    handled = gTrue;\n                    break;\n                case 's': // S 聚光灯\n                case 'S':\n                    iParagraphNav.hide();\n                    iLaserPointer.hide();\n                    iSpotlight.tg();\n                    handled = gTrue;\n                    break;\n                case 'h': // H 历史\n                case 'H':\n                    Nh_ViewHistory_ui.tr(_click_);\n                    handled = gTrue;\n                    break;\n            }\n        }\n\n        function __showHideNavCenter() {\n            if (V_ui_isShowed(FigureNav_ui))\n                return;\n            iToolbar.btns[_nav_center_].tr(_click_);\n        }\n    });\n}\n// 定义 VLOOK UI 包\n// ========================================\n\nINFO(\"=== Load \" + _Document_ + \" ===\");\n\n// 定义 UI 元素\nlet iToolbar = gUndefined,\n    iNavCenter = gUndefined,\n    iChapterNav = gUndefined,\n    iParagraphNav = gUndefined,\n    iSpotlight = gUndefined,\n    iLaserPointer = gUndefined,\n    iFontStyle = gUndefined,\n    iFigNav = gUndefined,\n    iInfoTips = gUndefined,\n    iFootnote = gUndefined;\n\n// ==================== 文档对象模型 ==================== //\n\n// 文档的 html 对象\nlet DOM_h = gUndefined;\nfunction DOM_html() {\n    if (DOM_h === gUndefined) {\n        DOM_h = $(_html_);\n        if (V_length(DOM_h) === 0) {\n            DOM_h = gUndefined;\n            ERROR(_failed_ + \"DOM.html ]\");\n        }\n    }\n    return DOM_h;\n}\n\n// 文档的 body 对象\nlet DOM_b = gUndefined;\nfunction DOM_body() {\n    if (DOM_b === gUndefined) {\n        DOM_b = $(_body_);\n        if (V_length(DOM_b) === 0) {\n            DOM_b = gUndefined;\n            ERROR(_failed_ + \"DOM.\" + _body_ + \" ]\");\n        }\n    }\n    return DOM_b;\n}\n\n// ==================== VLOOK 对象模型 ==================== //\n\n// 定义 Markdown 导出为 HTML 的内容对象 (#write)\nlet VOM_d = gUndefined;\nfunction VOM_doc() {\n    if (VOM_d === gUndefined) {\n        VOM_d = $(_idWrite_);\n        if (V_length(VOM_d) === 0) {\n            VOM_d = gUndefined;\n            ERROR(_failed_ + \"VOM.doc ]\");\n        }\n    }\n    return VOM_d;\n}\n\n// 封面对象\nlet VOM_c = gUndefined;\nfunction VOM_cover() {\n    if (VOM_c === gUndefined) {\n        VOM_c = $(_idWrite_ + \">pre.md-meta-block\" + __first_child_ + \"+\" + _h6_ + \",\" + _idWrite_ + \">\" + _h6_ + __first_child_);\n        if (V_length(VOM_c) === 0) {\n            VOM_c = gUndefined;\n            if (VOM_docTitle() === gUndefined)\n                WARN(_failed_ + \"VOM.c ], maybe no cover: \" + WINDOW_getHref());\n        }\n    }\n    return VOM_c;\n}\n\n// 封底对象\nlet VOM_bc = gUndefined;\nfunction VOM_backcover() {\n    // 注意该方法调用，必须在 #vk-footer-area 的位置调整前完成\n    if (VOM_bc === gUndefined) {\n        let fns = V_byClass(_footnotes_area_);\n        if (fns !== gUndefined) {\n            let backcover = fns.pr(),\n                tagName = V_util_getTagName(backcover);\n            if (tagName === \"h1\")\n                VOM_bc = backcover;\n        }\n        else {\n            VOM_bc = gUndefined;\n            WARN(_failed_ + \"VOM.bc ], maybe no backcover\");\n        }\n    }\n    return VOM_bc;\n}\n\n// 文档标题对象（无封面模式）\nlet VOM_dt = gUndefined;\nfunction VOM_docTitle() {\n    if (VOM_dt === gUndefined) {\n        VOM_dt = V_byID(_vk_id_doc_title_);\n        if (V_length(VOM_dt) === 0) {\n            VOM_dt = gUndefined;\n            WARN(_failed_ + \"VOM.dt ] \" + WINDOW_getHref());\n        }\n    }\n    return VOM_dt;\n}\n\n// ==================== 通用方法 ==================== //\n\n/**\n * 在元素前后以指定的前缀和后缀文本进行包裹\n * @param pre 前缀文本\n * @param suff 后缀文本\n*/\n$.prototype.wrapText = function (pre, suff) {\n    this.hm(pre + this.hm() + suff);\n}\n\n/**\n * 替换 innerHTML 的内容\n * @param exp 用于匹配内容的正则表达式\n * @param value 将匹配的内容替换成该内容\n*/\n$.prototype.rHTML = function (exp, value) {\n    this.hm(this.hm().replace(exp, value));\n}\n\n/**\n * 从指定内容开始，替换之后的匹配的内容\n * @param str 从指定内容出现的位置开始进行替换\n * @param oldValue 被替换的内容\n * @param newValue 用于替换的新内容\n */\nString.prototype.rAfter = function (str, oldValue, newValue) {\n    let T = this,\n        i = T.i(str);\n    if (i > -1) {\n        let pre = T.ss(0, i),\n            suff = T.ss(i, V_length(T));\n        return pre + suff.r(oldValue, newValue);\n    }\n    return this;\n};\n\n/**\n * 判断是否为数值型\n */\nString.prototype.isNumber = function () {\n    return /^([-+])*\\d+(\\.\\d+)?$/.test(this);\n}\n\n/**\n * 判断是否为百分数\n */\nString.prototype.isPercent = function () {\n    return /^([-+])*\\d+(\\.\\d+)?%$/.test(this);\n}\n\n/**\n * 判断是否为货币型\n */\nString.prototype.isCurrency = function () {\n    return /^(\\D{1,3} )([-+])*\\d+(\\.\\d+)?$/.test(this);\n}\n\n/**\n * 环境信息类\n */\nconst env = {\n    /*\n    Windows 平台样例：\n        - (Chrome) Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36\n        - (Edge) Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.102 Safari/537.36 Edge/18.18362\n        - (Firefox) Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:69.0) Gecko/20100101 Firefox/69.0\n\n    macOS 平台样例：\n        - (Safari) Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.2 Safari/605.1.15\n        - (Chrome) Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36\n        - (Edge) Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.0.0 Safari/537.36 Edg/113.0.1774.35\n        - (Firefox) Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:69.0) Gecko/20100101 Firefox/69.0\n\n    iPhone 样例：\n        - (Safari) Mozilla/5.0 (iPhone; CPU iPhone OS 15_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.2 Mobile/15E148 Safari/604.1\n        - (Chrome) Mozilla/5.0 (iPhone; CPU iPhone OS 15_02 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/97.0.04692.72 Mobile/15E148 Safari/604.1\n        - (Edge) Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1 Edg/113.0.0.0\n        - (Firefox) Mozilla/5.0 (iPhone; CPU iPhone OS 15_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/40.2 Mobile/15E148 Safari/605.1.15\n        // 以下情况建议暂按以内核为判断标准 //\n        - (QQ) Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148 QQ/8.9.75.613 V1_IPH_SQ_8.9.75_1_APP_A Pixel/1125 MiniAppEnable SimpleUISwitch/0 StudyMode/0 CurrentMode/0 CurrentFontScale/1.000000 QQTheme/1000 AppId/537172547 Core/WKWebView Device/Apple(iPhone XS) NetType/WIFI QBWebViewType/1 WKType/1\n        - (微信) Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148 MicroMessenger/8.0.40(0x18002830) NetType/WIFI Language/zh_CN\n        - (钉钉) Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/20G75 AliApp(DingTalk/7.0.50) com.laiwang.DingTalk/31322509 Channel/201200 language/zh-Hans-CN UT4Aplus/0.0.6 WK\n\n    iPad 平板样例：\n        - (iPad mini) Mozilla/5.0 (iPad; CPU OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1\n        - (iPad Air) Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Safari/605.1.15\n        - (iPad Pro) Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Safari/605.1.15\n\n    Android 平板样例：\n        - (Galaxy Z Fold) Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/129.0.0.0 Mobile Safari/537.36\n\n    Windows 平板样例：\n        - (Surface Pro 7) Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/116.0.0.0 Safari/537.36\n        - (Surface Duo) Mozilla/5.0 (Linux; Android 11.0; Surface Duo) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/129.0.0.0 Mobile Safari/537.36\n        - (Asus Zenbook Fold) Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\n    */\n\n    // 浏览器内核信息\n    core : function () {\n        const u = navigator.userAgent;\n        return {\n            trident: u.i(\"Trident\") > -1, // IE内核\n            presto: u.i(\"Presto\") > -1, // Opera内核\n            webkit: u.i(\"AppleWebKit\") > -1, // 苹果、谷歌内核\n            gecko: u.i(\"Gecko\") > -1 && u.i(\"KHTML\") === -1 // 火狐内核\n        };\n    }(),\n\n    // 设备信息\n    device : function () {\n        const u = navigator.userAgent;\n        return {\n            mobile: u.i(\"Mobile\") > -1, // 是否为移动终端\n            android: u.i(\"Android\") > -1 || u.i(\"Linux\") > -1, // android 终端或者 UC 浏览器\n            iPhone: u.i(\"iPhone\") > -1, // 是否为 iPhone 或者 QQHD 浏览器\n            iPad: u.i(\"iPad\") > -1 // 是否 iPad\n        };\n    }(),\n\n    // 浏览器类型\n    browser : function () {\n        const u = navigator.userAgent;\n        return {\n            Chrome: (u.i(\"Chrome\") > -1 && u.i(\"Edg\") < 0) || u.i(\"CriOS\") > -1, // Chrome 浏览器\n            Firefox: u.i(\"Firefox\") > -1 || u.i(\"FxiOS\") > -1, // Firefox 浏览器\n            Safari: u.i(\"Safari\") > -1 && (u.i(\"Chrome\") < 0 || u.i(\"CriOSc\") < 0 || u.i(\"Edg\") < 0 || u.i(\"FxiOS\") < 0), // Safari 浏览器\n            Edge: u.i(\"Edg\") > -1 // Edge 浏览器\n        };\n    }(),\n\n    // 浏览器版本信息\n    browserVer : function () {\n        const u = navigator.userAgent;\n        return {\n            Chrome: u.m(/Chrome\\/[\\d.]+/gi) ? u.m(/Chrome\\/[\\d.]+/gi)[0].m(/\\d+/)[0] : 0, // Chrome 浏览器版本\n            Firefox: u.m(/Firefox\\/[\\d.]+/gi) ? u.m(/Firefox\\/[\\d.]+/gi)[0].m(/\\d+/)[0] : 0, // Firefox 浏览器版本\n            Safari: u.m(/Version\\/[\\d.]+.+Safari\\/[\\d.]+/gi) ? u.m(/Version\\/[\\d.]+.+Safari\\/[\\d.]+/gi)[0].m(/\\d+/)[0] : 0, // Safari 浏览器版本\n            Edge: u.m(/Edg\\/[\\d.]+/gi) ? u.m(/Edg\\/[\\d.]+/gi)[0].m(/\\d+/)[0] : 0 // Edge 浏览器版本\n        };\n    }(),\n\n    // 操作系统信息\n    os : function () {\n        const u = navigator.userAgent;\n        return {\n            Windows: /windows|win32|win64/i.test(u), // 是否为 Windows 平台\n            macOS: /macintosh/i.test(u), // 是否为 macOS 平台\n            iOS: /iphone os/i.test(u), // 是否为 iOS 平台\n            Linux: /linux/i.test(u) // 是否为 Linux 平台\n        };\n    }(),\n\n    // 语言信息\n    language : function () {\n        const lang = navigator.language;\n        return {\n            full: lang.l(),\n            base: lang.ss(0, 2),\n            subset: lang.ss(3, V_length(lang))\n        };\n    }(),\n\n    // 显示信息\n    display : function () {\n        return {\n            DPR : gWindow.devicePixelRatio\n        };\n    }(),\n\n    /**\n     * 打印环境信息\n     * @param silent 是否为静默模式，静默模式只反馈环境信息值，不打印到控制台\n     * @returns string 环境信息\n     */\n    info : function (silent = gFalse) {\n        let info = \"::: Environmental :::\\n\",\n            r = info;\n        if (!silent) LOG(info);\n\n        info = \"    ├ Lang    [\"\n            + env.language.base + \"/\" + env.language.full\n            + \", \" + (V_lang_custom !== gUndefined\n                ? V_lang_custom\n                : (V_lang > -1\n                    ? [\"zh\", \"en\"][V_lang]\n                    : _none_))\n            + \"]\\n\";\n        r += info;\n        if (!silent) LOG(info);\n\n        info = \"    ├ Device  [\"\n            + (env.device.mobile ? \"Mobile\" : _)\n            + (env.device.android ? \"/Android\" : _)\n            + (env.device.iPhone ? \"/iPhone\" : _)\n            + (env.device.iPad ? \"/iPad\" : _)\n            + \"]\\n\";\n        r += info;\n        if (!silent) LOG(info);\n\n        info = \"    ├ OS      \" +\n            (env.os.macOS ? \"[macOS]\"\n                : (env.os.Windows ? \"[Windows]\"\n                    : (env.os.iOS ? \"[iOS]\"\n                        : (env.os.Linux ? \"[Linux]\" : \"[Others]\"))))\n            + \"\\n\";\n        r += info;\n        if (!silent) LOG(info);\n\n        info = \"    ├ Browser [\"\n            + (env.browser.Chrome ? \"Chrome / \" + env.browserVer.Chrome : _)\n            + (env.browser.Firefox ? \"Firefox / \" + env.browserVer.Firefox : _)\n            + (env.browser.Safari ? \"Safari / \" + env.browserVer.Safari : _)\n            + (env.browser.Edge ? \"Edge / \" + env.browserVer.Edge : _)\n            + \"]\\n\";\n        r += info;\n        if (!silent) LOG(info);\n\n        info = \"    ├ Core    [\"\n            + (env.core.gecko ? \"Gecko\" : _)\n            + (env.core.presto ? \"Presto\" : _)\n            + (env.core.trident ? \"Trident\" : _)\n            + (env.core.webkit ? \"WebKit\" : _)\n            + \"]\\n\";\n        r += info;\n        if (!silent) LOG(info);\n\n        info = \"    ├ DPR     [\"\n            + env.display.DPR\n            + \"]\\n\"; // Device Pixel Ratio\n        r += info;\n        if (!silent) LOG(info);\n\n        info = \"    ├ Plugin  [\"\n            + gVer\n            + (V_devMode ? \"<DEV>\" : \"-RELEASED\" )\n            + \"]\\n\"; // 插件版本\n        r += info;\n        if (!silent) LOG(info);\n\n        info = \"    ├ Theme   [\"\n            + (gThmName = V_util_getTemplateThemeName())\n            + \" / \" + (gThmVer = V_util_getTemplateThemeVersion())\n            + \"]\\n\"; // 文档主题\n        r += info;\n        if (!silent) LOG(info);\n\n        info = \"    └ Type    [\"\n            + V_pageMode\n            + \"]\\n\"; // VLOOK 插件运行类型\n        r += info;\n        if (!silent) LOG(info);\n\n        info = navigator.userAgent + \"\\n\";\n        r += info;\n        if (!silent) LOG(info);\n\n        return r;\n    },\n\n    /**\n     * 屏幕上显示环境信息、Mermaid 信息等\n     **/\n    show : function (source) {\n        let info = env.info()\n            + \"\\n----------\\nPowered by MAX°孟兆\\n\";\n        console.log(info);\n        Copy_action(source, info, gFalse);\n        ALERT(info);\n    }\n};\n\n// ==================== VLOOK 关键信息类 ==================== //\n\nlet V_ver = gVer, // VLOOK 版本信息\n    V_devMode = devMode, // 开发模式\n    V_debugMode = debugMode, // 调试模式\n    V_pageMode = _max_, // 页面模式：max, pro, mini\n    V_query_params = new URLSearchParams(); // VLOOK 的调校参数\n    //V_params_yaml = gNull; // VLOOK 文档的 YAML\n\n// 定义 vlook-query 预置选项及其调校参数初始化\nfunction V_query_init() {\n    // 优先级 1\n    // 读取 URL Query 中的内容\n    let queryUrl = new URLSearchParams(gLocation.search);\n    __append(queryUrl);\n\n    // 优先级 2\n    // 读取 YAML 中定义的 vlook-query 预置选项内容\n    let tmpQuery = V_util_getMetaByName(_vlook_query_),\n        queryYaml = new URLSearchParams((tmpQuery === gUndefined ? _ : tmpQuery));\n    __append(queryYaml);\n\n    // 优先级 3\n    // 读取主题配套的 vlook-query 预置选项内容\n    tmpQuery = V_util_removeQuotes(V_util_getVarVal(\"--\" + _vlook_query_).x());\n    let queryTheme = new URLSearchParams((tmpQuery === gUndefined ? _ : tmpQuery));\n    __append(queryTheme);\n\n    // 添加指定来源的调校参数（不重复的）\n    function __append(params) {\n        if (V_length(JS_toString(params)) > 0) {\n            for (let [key, value] of params) {\n                if (!V_query_params.has(key)) {\n                    V_query_params.append(key, value);\n                }\n            }\n        }\n    }\n}\n// ========================================\n\n// ========================================\n// 定义 VLOOK 检索对象实例\n// 以 id 进行检索\nfunction V_byID(idName) {\n    return $(\"#\" + idName);\n}\n\n// 以 className 进行检索\nfunction V_byClass(className) {\n    return $(\".\" + className);\n}\n// ========================================\n\n// ========================================\n// 定义 VLOOK 本地数据读/写\n\n/**\n * 读取数据\n * @param key 键名\n * @param share 是否为同域名所有页面共享的键值，默认为不共享\n */\nfunction V_data_read(key, share) {\n    return localStorage.getItem((share ? _ : V_util_getUrlWithoutQueryAndHash(WINDOW_getHref()) + \"-\")\n        + key);\n}\n\n/**\n * 写入数据\n * @param key 键名\n * @param value 键值\n * @param share 是否为同域名所有页面共享的键值，默认为不共享\n */\nfunction V_data_write(key, value, share) {\n    localStorage.setItem((share ? _ : V_util_getUrlWithoutQueryAndHash(WINDOW_getHref()) + \"-\")\n        + key, value);\n}\n\n/**\n * 删除数据\n * @param key 键名\n * @param share 是否为同域名所有页面共享的键值，默认为不共享\n */\nfunction V_data_remove(key, share) {\n    return localStorage.removeItem(\n        (share\n            ? _\n            : V_util_getUrlWithoutQueryAndHash(WINDOW_getHref()) + \"-\")\n        + key);\n}\n\n// ========================================\n\n// ========================================\n// 定义 VLOOK 工具包\n\n// 判断是否为移动端\nfunction V_util_isMobile() {\n    return env.device.mobile;\n}\n\n/**\n * 去掉指定内容中的前后的引号\n * @param content 指定内容\n */\nfunction V_util_removeQuotes(content) {\n    if (content === gUndefined)\n        return gUndefined;\n    let  len ;\n    if ((len = V_length(content)) > 2)\n        return content.ss(1, len - 1);\n    return content;\n}\n\n/**\n * 获取指定对象的所有子元素（及其子元素）的文本内容\n * @param target 指定对象\n * @param separator 子元素间添加指定分隔符\n */\nfunction V_util_joinNodesText(target, separator) {\n    let nodesText = [];\n    __getTextNodes(nodesText, target);\n    return (V_length(nodesText) > 0 ? nodesText.join(separator) : _);\n\n    function __getTextNodes(texts, node) {\n        $(node).contents().e((index, element) => {\n            // 处理文本节点\n            if (element.nodeType === 3) {\n                let txt = $(element).t().x();\n                if (V_length(txt) > 0)\n                    texts.push(txt); // 添加非空文本\n            }\n            // 处理元素节点\n            else if (element.nodeType === 1)\n                __getTextNodes(texts, element); // 递归处理嵌套元素\n        });\n    }\n}\n\n/**\n * 统计文本内容的字数（单词数）\n * @param content 文本内容\n * @return result.total - 总字数；result.latin - 非中日韩字数；result.CJK - 中日韩字数\n */\nfunction V_util_countWord(content) {\n        // 匹配中文字符\n    let reChinese = /[\\u4e00-\\u9fa5]/g,\n        // 匹配日文字符\n        reJapanese = /[\\u3040-\\u30ff\\u31f0-\\u31ff\\uFF66-\\uFF9F]/g,\n        // 匹配韩文字符\n        reKorean = /[\\uac00-\\ud7af]/g,\n        // 使用 Unicode 字符类匹配拉丁语系的完整单词（包括英文、法文、西班牙文等）\n        reLatinLike = /\\b[\\p{L}\\p{M}\\p{N}]+\\b/gu,\n        // 匹配俄文单词和数字\n        reRussian = /[\\u0400-\\u04FF]+/g,\n        // 匹配阿拉伯语字符和数字\n        reArabic = /[\\u0600-\\u06FF]+/g;\n\n    let chineseCount = V_length(content.match(reChinese) || []),\n        japaneseCount = V_length(content.match(reJapanese) || []),\n        koreanCount = V_length(content.match(reKorean) || []),\n        latinLikeCount = V_length(content.match(reLatinLike) || []),\n        russianCount = V_length(content.match(reRussian) || []),\n        arabicCount = V_length(content.match(reArabic) || []);\n\n    let latin = latinLikeCount + russianCount + arabicCount,\n        CJK = chineseCount + japaneseCount + koreanCount;\n    return {\n        latin: latin,\n        CJK: CJK,\n        total: latin + CJK\n    };\n}\n\n/**\n * 获得当前滚动条位置\n * @param source 指定对象，不指定是默认为 document\n */\nfunction V_util_getScrollTop(source) {\n    return (source === gUndefined ? jq_Document.scrollTop() : source.scrollTop());\n}\n\n/**\n * 获取对象的 length 值\n * @param source 源对象\n */\nfunction V_length(source) {\n    return (source === gUndefined || source === gNull) ? 0 : source.length;\n}\n\n// 恢复 gScrollByJS 初始值\nlet V_util_restoreScrollByJS = V_debounce(() => { // 以防抖控制方式执行\n    gScrollByJS = gFalse;\n}, 1000);\n\n/**\n * 设置滚动条位置\n * @param pos 滚动位置\n * @param source 指定的对象，不指定是默认为 document\n */\nfunction V_util_setScrollTop(pos, source) {\n    // 标记为程序触发的滚动\n    gScrollByJS = gTrue;\n\n    // 自动滚动至目标位置\n    source === gUndefined ? jq_Document.scrollTop(pos) : source.scrollTop(pos);\n\n    // 恢复标记\n    V_util_restoreScrollByJS();\n}\n\n/**\n * 对内容按指定属性值进行排序\n * @param container 内容的容器对象\n * @param itemSet 需要进行排序的对象集合\n * @param attr 需要进行排序控制的属性名\n * @param withText 是否联合文本内容参与排序\n */\nfunction V_util_sortByAttr(container, itemSet, attr, withText) {\n    itemSet.sort((a, b) => {\n        let objA = $(a),\n            objB = $(b),\n            valueA = objA.a(attr),\n            valueB = objB.a(attr);\n        // 联合文本内容参与排序\n        if (withText) {\n            valueA += objA.t();\n            valueB += objB.t();\n        }\n        // 以下以是以字符的 unicode 编码进行比较\n        // 用 localeCompare 进行比较的话，存在不同国家或地区的排序结果不同\n        return (valueA < valueB) ? -1 : (valueA > valueB) ? 1 : 0;\n    });\n    // 按重新排序的节点进行显示\n    itemSet.e((index, element) => {\n        $(element).detach().appendTo(container);\n    });\n}\n\n/**\n * 对 URI 进行解码\n * @param uri\n * @returns 解码失败侧返回 false，成功则返回解码后的内容\n */\nfunction V_util_isValidURIComponent(uri) {\n    let result = _;\n    try {\n        // 尝试解码 URI 组件\n        result = decodeURIComponent(uri);\n        return result;\n    } catch (e) {\n        // 解码出现错误，说明 URI 不合法\n        return false;\n    }\n}\n\n/**\n * 获取 HTML 文档标题\n */\nfunction V_util_getDocTitle() {\n    return jq_Document.a(_title_);\n}\n\n/**\n * 获取 HTML <meta> 标签的内容\n * @param metaName 指定 meta 的名称\n * @returns 指定 meta 的内容\n */\nfunction V_util_getMetaByName(metaName) {\n    let content = $(_mata_ + V_attrCSS(_name_, metaName)).a(_content_);\n    return ((content === gUndefined || V_length(content) === 0 || content === \"${\" + metaName + \"}\") ? gUndefined : content);\n}\n\n/**\n * to-do: removed\n *\n * 获取启动参数的值\n * @param pName 启动参数名称\n * @returns string 启动参数的值，如果没有找到则返回 null\n */\nfunction V_util_getParamVal(pName) {\n    return V_query_params.get(pName);\n}\n\n/**\n * 获取 URL 中的参数数组\n * @param u 完整的 URL 内容\n */\nfunction V_util_getUrlQueryParams(u) {\n    if (u === gUndefined)\n        return {};\n\n    let h = u.i(\"#\");\n    u = h > -1 ? u.ss(0, h) : u; // 只截取 URL 中 # 前的内容\n\n    let si = u.i(\"?\"),\n        queryStr = u.ss(si > -1 ? si + 1 : V_length(u), V_length(u)), // 获取url中\"?\"符后的字串\n        paramSet = {}, // 保存参数数据的对象\n        itemSet = (V_length(queryStr) > 0) ? queryStr.sp(\"&\") : [], // 取得每一个参数项,\n        item = gNull,\n        itemCount = V_length(itemSet);\n\n    // 将所有参数拆解至数组中\n    for (let i = 0; i < itemCount; i++) {\n        item = itemSet[i].sp(\"=\");\n        paramSet[JS_decodeURIComponent(item[0])] = JS_decodeURIComponent(item[1]);\n    }\n    return paramSet;\n}\n\n/**\n * 获取 URL 中的锚点\n * @param u 完整的 URL 内容\n */\nfunction V_util_getUrlHash(u) {\n    if (u === gUndefined)\n        return _;\n\n    let i = u.i(\"#\");\n    return i > -1 ? u.ss(i, V_length(u)) : _;\n}\n\n/**\n * 获取 URL 中的参数字符串\n * @param u 完整的 URL 内容\n */\nfunction V_util_getUrlQueryString(u) {\n    if (u === gUndefined)\n        return _;\n\n    let i = u.i(\"?\");\n    return i > -1 ? u.ss(i + 1, V_length(u)) : _;\n}\n\n/**\n * 获取 URL 中的不含锚点的部分\n * @param u 完整的 URL 内容\n */\nfunction V_util_getUrlWithoutHash(u) {\n    if (u === gUndefined)\n        return _;\n\n    let i = u.i(\"#\");\n    return i > -1 ? u.ss(0, i) : u;\n}\n\n/**\n * 获取 URL 中的不含锚点、参数的部分\n * @param u 完整的 URL 内容\n */\nfunction V_util_getUrlWithoutQueryAndHash(u) {\n    if (u === gUndefined)\n        return _;\n\n    let queryIdx = u.i('?');\n    if (queryIdx > -1)\n        u = u.ss(0, queryIdx);\n    else {\n        let hashIdx = u.i('#');\n        if (hashIdx > -1)\n            u = u.ss(0, hashIdx);\n    }\n    return u;\n}\n\n/**\n * 获得 URL 中的路径部分\n * @param u URL 地址\n */\nfunction V_util_getPath(u) {\n    let qi = u.i(\"?\"),\n        ti = u.ss(0, qi).lastIndexOf(\"/\"),\n        pi = ti === -1 ? 0 : ti;\n    return u.ss(0, pi + 1);\n}\n\n/**\n * 获得当前时间\n */\nfunction V_util_getTime() {\n    return new Date().getTime();\n}\n\n/**\n * 获取扩展名\n * @param url 文件名\n * @returns 带 \".\" 的扩展名\n */\nfunction V_util_getExtension(url) {\n    const parts = url.split('.');\n    return parts.length > 1 ? \".\" + parts.pop().split('?')[0] : ''; // 移除查询参数部分\n}\n\n/**\n * 获得当前页面拖选的文本\n */\nfunction V_util_getSelectedText() {\n    if (gWindow.getSelection)\n        return JS_toString(gWindow.getSelection());\n    else if (gDocument.selection && gDocument.selection.type !== \"Control\")\n        return gDocument.selection.createRange().text;\n    return _;\n}\n\n/**\n * 清理 HTML 中的单、双引号\n * @param text 原始文本\n * @return String 清理后的文本\n */\nfunction V_util_clearHtmlQuot(text) {\n    if (V_length(text) === 0)\n        return _;\n    return text.r(/'/g, _)\n        .r(/\"/g, _);\n}\n\n/**\n * 绑定加载失败处理\n * @param fig 插图对象\n */\nfunction V_util_bindLoadChecker(fig) {\n    let src = fig.a(_src_);\n    fig.on(_load_, () => {\n        // 对引用块分栏内的图片重新进行统一高度处理\n        let blockquote = fig.closest(_blockquote_);\n        if (V_length(blockquote) > 0)\n            ExtQuote_uniteColumnsHeightByGroupId(blockquote.a(_data_quote_group_));\n    });\n\n    // 图片无法加载时加载默认图片\n    fig.on(_error_, (event) => {\n        // 将无法加载的图片信息添加到链接检查器\n        let cp1 = fig.p().f(_v_cap1_).hm(),\n            targetToJump = fig.p();\n        // 非插图（无题注），则按普通的 img 来处理\n        if (cp1 === gUndefined) {\n            cp1 = fig.a(_alt_);\n            targetToJump = fig;//.a(_id_);\n        }\n        // 对 alt 也为空时\n        if (cp1 === gUndefined)\n            cp1 = fig.a(_src_);\n        // 添加无效链接项\n        LinkTool_addToCheckResult(_error_ + __address_, targetToJump,\n            V_ui_label(_, _, V_lang_text63()) + cp1);\n\n        __loadDefaultOnError($(event.currentTarget));\n    });\n\n    // 强制重新加载一次以触发error事件\n    fig.a(_src_, src);\n\n    /**\n     * 加载默认图片\n     * @param target 目标 img 对象\n     */\n    function __loadDefaultOnError(target) {\n        // 将 alt 替换为 title 避免无法指定 width、height 属性\n        JQ_removeAttr(target, _alt_);\n        JQ_removeAttr(target, _title_);\n        JQ_addClass(target, _v_img_lost_);\n    }\n}\n\n/**\n * 处理并返回省略后的文本\n * @param text 原始文本\n * @param limit 头、尾长度限制\n * @return String 省略后的文本\n */\nfunction V_util_truncateText(text, limit) {\n    let len = V_length(text);\n    if (len <= limit)\n        return text;\n\n    // 遍历字符串，计算指定字符的总数，中文字符按 2 个字符计算\n    let frontChars = __calcCharsLen(0, 1),\n        backChars = __calcCharsLen(len - 1, -1);\n\n    // 计算要保留的前面和最后的字符的数量\n    frontChars = (frontChars > limit ? Math.ceil(frontChars / 2) : frontChars);\n    backChars = (backChars > limit ? Math.ceil(backChars / 2) : backChars);\n\n    // 截取字符串并添加省略号\n    return text.ss(0, frontChars) + '...' + text.ss(len - backChars - 1, len - 1);\n\n    /**\n     * 计算指定长度字符的总数，中文字符按 2 个字符计算\n     * @param init 初始值\n     * @param step 步长\n     */\n    function __calcCharsLen(init, step) {\n        let count = 0,\n            i = init;\n        while (count < limit) {\n            count += (text.charCodeAt(i) > 255 ? 2 : 1)\n            i += step;\n        }\n        return count;\n    }\n}\n\n/**\n * 重定位至锚点\n * @return boolean true：已进行重定向，false：无须进行重定向\n */\nfunction V_util_redirectTo() {\n    let hash = WINDOW_getHash();\n    // 如果 URL 带锚点\n    if (V_length(hash) > 0 && hash !== \"#\" + _vk_id_doc_title_) {\n        LOG(\"    ↩ Redirect to h: \" + JS_decodeURI(hash));\n        WINDOW_setHref(\"#\"); // 强制先清空当前 hash\n        WINDOW_setHref(hash);\n        // 若最后访问的锚点与本次相同，则强制进行一次微调\n        setTimeout(() => {\n            V_ui_tuningScrollTop(hash);\n        }, 300);\n        return gTrue;\n    }\n    return gFalse;\n}\n\n/**\n * 跳转至页内锚点，并自动进行位置微调适配\n */\nfunction V_util_gotoHash(hash) {\n    let last = JS_decodeURI(WINDOW_getHash());\n    WINDOW_setHref(hash);\n    // 若前后锚点一样，则会导致不会触发 hashchange 事件，须强制进行一次微调\n    if (last === JS_decodeURI(hash))\n        V_ui_tuningScrollTop(hash);\n}\n\n/**\n * 获取 CSS 变量值\n * @param varName CSS 变量名\n */\nfunction V_util_getVarVal(varName) {\n    return getComputedStyle(gDocument.documentElement).getPropertyValue(varName);\n}\n\n/**\n * 设置 CSS 变量值\n * @param varName CSS 变量名\n * @param value CSS 变量值\n */\nfunction V_util_setVarVal(varName, value) {\n    gDocument.documentElement.style.setProperty(varName, value);\n}\n\n/**\n * 获取 CSS 变量值中的图片数据，即 url(\"data:image/png:xxxx\") 中双引号内的数据\n * @param varName CSS 变量名\n */\nfunction V_util_getImageData(varName) {\n    return (varName === gUndefined ? _ : varName.ss(5, V_length(varName) - 2));\n}\n\n/**\n * 取消计时器，注意调用时要将结果赋值给同名的传入参数\n * @param timer 要取消的计时器对象\n */\nfunction V_util_clearTimer(timer) {\n    clearTimeout(timer);\n    return gNull;\n}\n\n/**\n * 获取 HTML 文档使用的模板主题\n */\nfunction V_util_getTemplateThemeName() {\n    return V_util_getVarVal(___v_theme__ + _name_).rA('\"', _).x();\n}\n/**\n * 获取 HTML 文档使用的模板主题\n */\nfunction V_util_getTemplateThemeVersion() {\n    return V_util_getVarVal(___v_theme__ + _version_).rA('\"', _).x();\n}\n\n/**\n * 批量修改指定的 CSS 变量集\n * @param varSet 变量数组\n * @param flag 修改为指定变量集的标识\n */\nfunction V_util_changeCssVarSet(varSet, flag) {\n    // 生成目标颜色方案值列表\n    let tmp = [];\n    if (flag !== gUndefined) {\n        for (let i = 0, len = V_length(varSet); i < len; i++) {\n            tmp.push(V_util_getVarVal(varSet[i] + \"-\" + flag));\n        }\n    }\n    // 遍历所有变量实现 ColorScheme 切换\n    for (let i = 0, len = V_length(varSet); i < len; i++) {\n        if (flag !== gUndefined)\n            V_util_setVarVal(varSet[i], tmp[i]);\n        else\n            V_util_setVarVal(varSet[i], 0);\n    }\n}\n\n/**\n * 获取 HTML 标签名称\n * @param target 标签对象\n */\nfunction V_util_getTagName(target) {\n    let tagName = (target === gUndefined ? _ : target.prop(_tagName_));\n    return (tagName === gUndefined ? _ : tagName.l());\n}\n\n/**\n * 阻止默认事件行为\n * @param event 事件对象\n */\nfunction V_util_preventDefault(event) {\n    event.preventDefault();\n}\n\n// 定义 VLOOK 工具 包\n// ========================================\n\n// ========================================\n// 通用的格式化操作\n/**\n * 添加千位符\n * @param str 需要进行格式化的目标字符串\n * @returns string 格式化后的字符串\n */\nfunction V_formatting_thousands(str) {\n    return str.r(/(\\d)(?=(\\d{3})+(\\.\\d+)*(\\D)*$)/g, \"$1,\");\n}\n\n/**\n * 对小数部分进行格式化\n * @param str 需要进行格式化的目标字符串\n * @returns string 格式化后的字符串\n */\nfunction V_formatting_decimal(str) {\n    return str.r(/\\.(\\d+)/, \".\" + V_ui_span(_v_tbl_col_fmt_num_decimal_, _, \"$1\"));\n}\n\n/**\n * 对百分号进行格式化\n * @param str 需要进行格式化的目标字符串\n * @returns string 格式化后的字符串\n */\nfunction V_formatting_percent(str) {\n    return str.r(/%</, V_ui_span(_v_tbl_col_fmt_percent_, _, \" %\") + \"<\");\n}\n\nlet gRE_CurrencyNoEscape = new RegExp(\"<\\\\/\" + _span_ + \"><\" + _span_ + \">([$])<\\\\/\" + _span_ + \"><\" + _span_ + \">\", _),\n    gRE_CurrencyNoEscape2 = new RegExp(\">([$])<\\\\/\" + _span_ + \"><\" + _span_ + \">\", _);\n/**\n * 对货币符号进行格式化\n * @param str 需要进行格式化的目标字符串\n * @returns string 格式化后的字符串\n */\nfunction V_formatting_currency(str) {\n    // 对于存在转义符号 $ 时（与 Markdown 的数学公式格式冲突，所以一般会写成 \\$）\n    // 先将其处理成不存在转义的标准形式，如：HK$\n    str = str.r(gRE_CurrencyNoEscape, \"$1\");\n    str = str.r(gRE_CurrencyNoEscape2, \">$1\");\n    // 因 html() 中含有 > 字符，所以替换的内容中须进行 > 的前后拼接调整\n    return str.r(/>([a-z$¥￥]{0,3})\\s/i, \">\" + V_ui_span(_v_tbl_col_fmt_currency_, _, \"$1\"));\n}\n// ========================================\n\n// ========================================\n// 检查文档结构是否符合 VLOOK 规范程度\nfunction V_checkSpec () {\n    let v = gTrue,\n        c = [\n            \"因以下原因无法激活 VLOOK™ 插件：\\n\\n\",\n            \"The VLOOK™ plugin cannot be activated for the following reasons:\\n\\n\"\n            ][V_lang];\n\n    // 只支持由 Typora 导出的 HTML 文件\n    if (DOM_body().a(_class_).i(\"typora-export\") === -1) {\n        c += [\n            \"• 只支持由 Typora 导出的 HTML 文件\\n\",\n            \"• Only HTML files exported by Typora are supported\\n\"\n            ][V_lang];\n        v = gFalse;\n    }\n\n    // 缺少目录\n    gToc = V_byClass(_md_toc_);//V_by_Class(_vMdToc_);\n    if (V_length(gToc) === 0) {\n        c += [\n            \"• 缺少 [TOC], 这是 GFM 标准的「目录」语法\\n\",\n            '• Missing [TOC], the GFM standard \"' + V_lang_text35() + '\"\\n'\n            ][V_lang];\n    }\n\n    // 存在不符合规范的情况\n    if (!v) {\n        c += [\n            \"\\n建议参考推荐的文档模板或示例：\",\n            \"\\nIt is recommended to refer to the suggested \" + _document_ + \" templates or samples:\"\n        ][V_lang] + \"\\nreleased/samples/*.md\";\n\n        ALERT(c);\n        return gFalse;\n    }\n\n    // 符合规范\n    return gTrue;\n}\n// ========================================\n\n/**\n * 判断是否属于插图\n * @param hash 插图路径的锚点\n * @param container img 对象的父级元素\n * @returns boolean true：不属于插图，false：属于插图\n */\nfunction V_isNotFigure(hash, container) {\n    let iconMode = hash.i(\"#icon\") > -1,\n        cardMode = hash.i(\"#card\") > -1,\n        logoMode = hash.i(\"#logo\") > -1;\n    return (iconMode || cardMode || logoMode || (container !== gUndefined && V_util_getTagName(container) === _kbd_));\n}\n\n/**\n * 获取对象的 src 属性值（同时兼容「懒加载」模式）\n * @param target 对象\n * @returns src 或 data-src 的值\n */\nfunction V_getSrcValue(target) {\n    let src = target.a(_src_);\n    // 针对「懒加载」，从 data-src 获取\n    return (src === gUndefined ? target.a(_data_src_) : src);\n}\n\n/**\n * 通用的防抖控制\n * @param func 要执行相关处理的函数\n * @param wait 延时执行的时长\n */\nfunction V_debounce(func, wait) {\n    let timer;\n    return function (...args) {\n        clearTimeout(timer);\n        timer = setTimeout(() => func.apply(this, args), wait);\n    };\n}\n\n/**\n * 通用的限流控制\n * @param func 要执行相关处理的函数\n * @param wait 执行间隔的时长\n */\nfunction V_throttle(func, wait) {\n    let lastTime = 0;\n    return function (...args) {\n        const now = Date.now();\n        if (now - lastTime >= wait) {\n            lastTime = now;\n            func.apply(this, args);\n        }\n    };\n}\n\n/**\n * 初始化关键组件实例\n */\nfunction V_init() {\n    let sw = new Stopwatch();\n    sw.st();\n    iFontStyle = new FontStyle(new BgMask(_font_style_, _center_), V_util_getVarVal(___v_f__ + _style_));\n    if (iFontStyle === gFalse)\n        ALERT(_failed_ + \"iFntThm ]\");\n    else {\n        let fontStyle = V_util_getParamVal(_font_); // 调校参数指定\n        // 如调校参数指定为 theme ，则清空同域名配置中保存的配置数据\n        if (fontStyle !== gNull && fontStyle === _theme_)\n            V_data_remove(_font_style_, gTrue);\n        // 如调校参数无指定，再检查在同域名配置中是否有指定\n        else if (fontStyle === gNull) {\n            fontStyle = V_data_read(_font_style_, gTrue);\n            fontStyle = (fontStyle === gNull ? gUndefined: fontStyle);\n        }\n        // 初始化\n        iFontStyle.init(fontStyle);\n    }\n    sw.ed(\"    ├ Font Style: \");\n\n    // ==================== UI====================\n\n    // 聚光灯\n    sw.st();\n    iSpotlight = new Spotlight(180);\n    if (iSpotlight === gFalse)\n        ALERT(_failed_ + \"iSpotlight ]\");\n    sw.ed(\"    ├ Spotlight: \");\n\n    // 激光笔\n    iLaserPointer = new LaserPointer();\n    if (iLaserPointer === gFalse)\n        ALERT(_failed_ + \"iPter ]\");\n    sw.ed(\"    ├ LaserPointer: \");\n\n    // 长内容折叠\n    sw.st();\n    let cf = V_util_getParamVal(_fold_);\n    ContentFolder_enabled = (cf !== _off_);\n    // 指定对象（table,figure,codeblock）启用的处理\n    if (cf !== gNull && cf !== _on_ && cf !== _off_) {\n        ContentFolder_enabled_table = (cf.i(_table_) > -1);\n        ContentFolder_enabled_figure = (cf.i(_figure_) > -1);\n        ContentFolder_enabled_codeblock = (cf.i(_codeblock_) > -1);\n    }\n    ContentFolder_init();\n    sw.ed(\"    ├ Content Folding: \");\n\n    // 工具提示\n    ToolTips_init();\n\n    // 弹窗信息提示\n    iInfoTips = new InfoTips(new BgMask(_info_tips_, _center_));\n    if (V_length(iInfoTips) === 0)\n        ALERT(_failed_ + \"iInfoTips ]\");\n\n    // 导航中心\n    sw.st();\n    iNavCenter = new NavCenter(new BgMask(_nav_center_, _left_, gTrue), V_util_getParamVal(_nav_));\n    if (iNavCenter === gFalse)\n        ALERT(_failed_ + \"iNavCenter ]\");\n    sw.ed(\"    ├ Nav Center: \");\n\n    // 逐章导航\n    sw.st();\n    iChapterNav = new ChapterNav(iNavCenter);\n    if (iChapterNav === gFalse)\n        ALERT(_failed_ + \"iChapNav ]\");\n    else {\n        // 添加关联组件\n        iNavCenter.chpNav = iChapterNav;\n    }\n    sw.ed(\"    ├ \" + _Chapter_ + \" Nav: \");\n\n    // 工具栏\n    sw.st();\n    iToolbar = new Toolbar();\n    if (iToolbar === gFalse)\n        ALERT(_failed_ + \"iTb ]\");\n    else {\n        // 导航中心按钮\n        iToolbar.add(_nav_center_, () => {\n            // 针对当前只显示了文库的处理\n            if (iNavCenter.keyword.input.v() === _vdl_) {\n                iNavCenter.keyword.clear();\n                // 小屏时仍正常切换显示大纲\n                if (V_ui_isSmallScreen())\n                    iNavCenter.tg();\n                return;\n            }\n\n            iNavCenter.tg();\n        });\n\n        // 文库\n        iToolbar.add(_doc_lib_, () => {\n            if (iNavCenter.docLib === gUndefined)\n                return;\n\n            if (iNavCenter.docLib.counter > 1) {\n                if (!iNavCenter.showed)\n                    iNavCenter.tg();\n                // 选中目录分段\n                iNavCenter.segs.setChecked(_toc_);\n                // 设置关键字搜索的内容\n                iNavCenter.keyword.processInput(_vdl_);\n            }\n            else\n                iNavCenter.docLib.show(_, _);\n        });\n\n        // 段落漫游\n        iToolbar.add(_paragraph_nav_, () => {\n            iLaserPointer.hide();\n            iSpotlight.hide();\n            iParagraphNav.tg();\n        });\n\n        // 聚光灯\n        iToolbar.add(_spotlight_, () => {\n            iLaserPointer.hide();\n            iParagraphNav.hide();\n            iSpotlight.tg();\n        });\n\n        // 激光笔\n        iToolbar.add(_laser_pointer_, () => {\n            iSpotlight.hide();\n            iParagraphNav.hide();\n            iLaserPointer.tg()\n        });\n\n        // 添加关联组件\n        iNavCenter.toolbar = iToolbar;\n        iSpotlight.toolbar = iToolbar;\n        iLaserPointer.toolbar = iToolbar;\n\n        // 绑定选择字体风格的工具栏按钮\n        iFontStyle.bindButton(iToolbar.btns[_font_style_]);\n    }\n    sw.ed(\"    ├ Toolbar: \");\n\n    // 插图浏览器\n    FigureNav_init();\n\n    // ----------------------------------------\n    sw.st();\n\n    // 文档更多内容栏遮罩栏\n    MoreDocContent_init();\n\n    // 脚注\n    iFootnote = new Footnote(new BgMask(_footnote_, _bottom_, gTrue));\n    if (iFootnote === gFalse)\n        ALERT(_failed_ + \"iFootnote ]\");\n\n    // 导航历史\n    NavHistory_init();\n\n    // 状态栏\n    StatusBar_init();\n\n    sw.ed(\"    └ Misc: \");\n}\n\n/**\n * 初始化 VLOOK 核心模块\n */\nfunction V_initKernel() {\n    // ----------------------------------------\n    // 加载本文档主题配套的 Logo 图标\n    iStopwatch.st(\"* \" + _Document_ + \" Logo\");\n    V_ui_changeDocIcon(V_util_getVarVal(\"--thm-fav-logo-lg\"));\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 无封面时的处理\n    if (VOM_cover() === gUndefined) {\n        // 添加文档大标题\n        VOM_doc().pp(V_ui_div(_vk_id_doc_title_, _v_doc__ + _title_ +___+ V_pageMode, V_util_getDocTitle()));\n    }\n\n    // ----------------------------------------\n    // 初始化国际化 UI\n    iStopwatch.st(\"* UI i18n\");\n    V_ui_initI18n();\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 处理标记不发布的内容\n    // 在所有扩展语法处理前执行\n    if (V_util_getParamVal(\"unpub\") !== _off_)\n        Unpublished_init();\n\n    // ----------------------------------------\n    // 初始化封面四角配置\n    iStopwatch.st(\"* VLOOK CC: \");\n    CC_init();\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 初始化 导航中心、章节导航 数据\n    iStopwatch.st(\"* NavCenter\");\n    let navOK = NavCenter_init();\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 自动生成可通过 DOM 引用块的目录自动编号\n    HeaderAutoNum_initToc();\n\n    // ----------------------------------------\n    // 初始化题注生成器\n    Caption_init();\n    // 指定按章节分组编号时的预处理\n    if (V_util_getParamVal(_capgroup_) !== _off_) {\n        iStopwatch.st(\"* Caption preprocess: \");\n        Caption_groupPreppare();\n        iStopwatch.ed(_4space_);\n    }\n\n    // ----------------------------------------\n    // 初始化音频数据\n    iStopwatch.st(\"* Audio: \");\n    ExtAudio_init();\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 初始化视频数据\n    iStopwatch.st(\"* Video: \");\n    ExtVideo_init();\n    iStopwatch.ed(_4space_);\n\n    // ========================================\n    // 初始化引用块\n    // 须在 ExtFigure 处理前，避免引用块折叠处理中，对其内含有 svg 颜色替换处理导致 DOM 冲突而失效\n    iStopwatch.st(\"* Quote: \");\n    ExtQuote_init();\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 检查 hash 集\n    if (V_util_getParamVal(_checkHash_) === \"1\") {\n        LinkTool_checkHashMode = gTrue;\n        // 检查 hash 集\n        if (LinkTool_checkHashSet())\n            LinkTool_checkHashUI.show();\n    }\n\n    // ----------------------------------------\n    // 初始化插图数据\n    iStopwatch.st(\"* Figure: \");\n    ExtFigure_init();\n    iStopwatch.ed(_cost_);\n\n    // ----------------------------------------\n    // 初始化表格\n    iStopwatch.st(\"* Table: \");\n    ExtTable_init();\n    iStopwatch.ed(_cost_);\n\n    TableCross_init();\n\n    // ----------------------------------------\n    // 初始化代码块\n    iStopwatch.st(\"* Code Block: \");\n    ExtCodeBlock_init();\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 初始化公式\n    iStopwatch.st(\"* Math: \");\n    ExtMath_init();\n    iStopwatch.ed(_4space_);\n\n    // ========================================\n    // 对 Code Magic 处理\n    // 注意：须在 ExtQuote 初始化之后执行\n    // 包括了：标签、引用块着色、刮刮卡、文字注音等\n    iStopwatch.st(\"* Code & Xscript °Magic: \");\n    ColorCode_init();\n    CodeMagic_init();\n    SupSubMagic_preprocess();\n    Progressbar_init();\n    iStopwatch.ed(_4space_);\n    // ========================================\n\n    // ----------------------------------------\n    // 增强脚注\n    iStopwatch.st(\"* Foot Note: \");\n    Footnote_init();\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 带格式复制\n    iStopwatch.st(\"* Rich Copy: \");\n    Copy_init();\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 分步分级处理\n    iStopwatch.st(\"* Stepwise: \");\n    BreadcrumbStyle_init();\n    iStopwatch.ed(_4space_);\n\n    // 对 VLOOK UI 统一样式适配处理\n    V_ui_adjustHoverStyle2();\n\n    // 主要针对小屏情况，完成表格初始化后进行适配\n    // 如果不是小屏，则由 adjustAll 触发\n    ContentFolder_adjust();\n\n    // ----------------------------------------\n    // 检查页内链接坏链\n    // 因涉及对 xmd 的处理，需要在文库处理之前（DocLib）进行\n    iStopwatch.st(\"* Check Hash Link: \");\n    LinkTool_mdToHtml();\n    LinkTool_checkLink();\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 界面适配\n    iStopwatch.st(\"* Adjust NavCenter/ChapterNav/FigureNav/Toolbar/StatusBar\");\n    if (navOK) {\n        if (!V_util_isMobile())\n            iNavCenter.showHandle();\n\n        V_ui_adjustAll();\n\n        // 根据设备类型自适应 hover 样式\n        iNavCenter.toc.adjustHoverStyle();\n        iChapterNav.adjustHoverStyle();\n        FigureNav_adjustHoverStyle();\n    }\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 文档没有任何可索引的对象时，默认不显示导航中心\n    let hasToc = iNavCenter.toc.hasIndexItem(),\n        hasFigure = iNavCenter.figures.hasIndexItem(),\n        hasTable = iNavCenter.tables.hasIndexItem(),\n        hasCodeblock = iNavCenter.codeblocks.hasIndexItem(),\n        hasFormula = iNavCenter.formulas.hasIndexItem(),\n        hasMedia = iNavCenter.media.hasIndexItem();\n    if (!hasToc && !hasFigure && !hasTable && !hasMedia && !hasCodeblock)\n        iNavCenter.runMode = _close_;\n    // 默认选择首个不为空的索引分类\n    else {\n        let itemName = _toc_;\n        if (hasToc)\n            itemName = _toc_;\n        else if (hasFigure)\n            itemName = _figure_;\n        else if (hasTable)\n            itemName = _table_;\n        else if (hasFormula)\n            itemName = _formula_;\n        else if (hasCodeblock)\n            itemName = _codeblock_;\n        else if (hasMedia)\n            itemName = _media_;\n\n        iNavCenter.segs.setChecked(itemName);\n    }\n\n    // ----------------------------------------\n    iStopwatch.st(\"* Binding Event\");\n    // --------------------------------------------------\n    // 绑定文档鼠标移动事件，聚光灯跟随鼠标移动\n    gDocument.addEventListener(\"mousemove\", (event) => {\n        iSpotlight.repaint(event);\n        iNavCenter.snap(event);\n    });\n\n    // to-do\n    // mmMindmap_init();\n\n    // --------------------------------------------------\n    // 绑定文档的单击事件\n    jq_Document.uC().ck(() => {\n        TableCross_hide();\n    });\n\n    // --------------------------------------------------\n    // 绑定文档的鼠标滚轮事件\n    gDocument.addEventListener(_wheel_, () => {\n        // 忽略处理，提升性能\n        return false;\n    }, false);\n\n    // --------------------------------------------------\n    // 添加可见性变化事件监听器，即监控非当前窗口和当前窗口之间的切换\n    gDocument.addEventListener('visibilitychange', () => {\n        // 页面不可见时，暂停递归调用\n        if (gDocument.hidden) {\n            gIsRunning = false;\n            gTimer_saveLastPosition = V_util_clearTimer(gTimer_saveLastPosition);\n        }\n        // 页面可见时，继续递归调用\n        else {\n            if (!gIsRunning) {\n                gIsRunning = true;\n                // 恢复保存最后浏览位置的功能\n                ResumeReading_dispose(gTrue);\n            }\n        }\n    });\n\n    // --------------------------------------------------\n    // 页面滚动处理\n    function __onScrolling() {\n        let scrollTop = V_util_getScrollTop();\n\n        // 显示或隐藏文档更多内容遮罩栏\n        MoreDocContent_refresh(scrollTop);\n\n        // 根据屏幕大小进行不同的适配控制\n        if (scrollTop > 0)\n            V_ui_adjustAll();\n        else // 针对人工方式快速滚动到屏幕顶部后，用延时处理，避免无法识别是否在封面的情况\n            setTimeout(() => {\n                V_ui_adjustAll();\n            }, 100);\n\n        // 用户操作触发的页面滚动，且段落漫游已开启时的处理\n        if (iParagraphNav !== gUndefined)\n            iParagraphNav.hold();\n\n        // 由于涉及到章节导航栏数据更新等不同逻辑处理，执行频率由 focusHeader 内进行控制\n        iNavCenter.toc.focusHeader(scrollTop);\n    }\n\n    let disposeScroll = V_throttle(__onScrolling, 2000), // 以限流控制方式调用\n        disposeScrollEnd = V_debounce(__onScrolling, 100); // 以防抖控制方式调用\n\n    // 绑定文档滚动、页面滚动事件\n    jq_Document.on(_scroll_, () => {\n        // 滚动限流控制执行\n        disposeScroll();\n        // 滚动后延时再执行一次\n        disposeScrollEnd();\n    });\n\n    // --------------------------------------------------\n    // 绑定窗口大小缩放事件\n    jq_Window.on(\"resize\", V_debounce(() => { // 以防抖控制方式执行\n        // 缩放过程不处理，只在缩放操作结束后再延时执行\n        TableCross_hide();\n        iNavCenter.toc.focusHeader();\n        V_ui_adjustAll();\n        ExtQuote_uniteColumnsHeight();\n    }, 1000));\n\n    // --------------------------------------------------\n    // 接收消息数据\n    gWindow.onmessage = function(event) {\n        // 校验新版本检查结果消息合法性\n        let receMessage = JS_toString(event.data);\n        // 用于模拟测试使用\n        // receMessage = \"chk-update:yes,latest:27.1\";\n        // receMessage = \"chk-update:yes\";\n        // receMessage = \"chk-update:no\";\n        LOG(\"<- \" + event.origin + \"\\n\" + receMessage);\n        if ((event.origin !== StsNewVersion_checkOriginCloudFlare\n            || event.origin !== StsNewVersion_checkOriginGitHub)\n            && (!receMessage.sW(_chkUpdate_) || receMessage.length > 50)) {\n                ERROR(_Invalid_ + \" data from \" + event.origin);\n                ERROR(\"[\" + receMessage.length + \"]\", receMessage);\n            return;\n        }\n\n        // 用于模拟测试使用\n        // receMessage = \"chk-update:yes,latest:26.2\";\n        // receMessage = \"chk-update:no,latest:26.2\";\n        // receMessage = \"chk-update:yes\";\n        // 处理新版本检查结果\n        V_data_write(_new_version_check_time_, V_util_getTime(), gTrue);\n        let gVerFloat = gVer.ss(1, gVer.length);\n        if (receMessage.i(\":\" + _yes_) > -1) {\n            NewVersion_yes();\n            let verStr = \"latest:\",\n                verStart = receMessage.i(verStr);\n            // 从 27.0 开始启用的新格式数据\n            if (verStart > -1) {\n                V_data_write(_new_version_,\n                    receMessage.ss(verStart + V_length(verStr), receMessage.length),\n                    gTrue);\n            }\n            // 兼容旧格式数据\n            else\n                V_data_write(_new_version_, JS_parseFloat(gVerFloat) + 0.01, gTrue);\n        }\n        else\n            V_data_write(_new_version_, gVerFloat, gTrue);\n    };\n\n    // --------------------------------------------------\n    // 监听页内锚点链接跳转\n    // 注意：同一个锚点连续点击不会触发该事件\n    jq_Window.on(\"hashchange\", () => {\n        let hash = WINDOW_getHash(),\n            anchor = hash.ss(1, V_length(hash));\n        if (V_length(anchor.x()) === 0 || anchor.sW(\"#\"))\n            return;\n\n        // 添加到导航历史\n        NavHistoryList.add(hash);\n\n        // 对于上标锚点在 details 内的处理（主要针对移动端的兼容性处理）\n        let hashObj = $(V_attrCSS(_id_, hash.ss(1, V_length(hash))));\n        if (V_length(hashObj) > 0) {\n            // 展开 details\n            V_ui_openDetails(hashObj);\n            hashObj[0].scrollIntoView();\n        }\n\n        // 页内位置改变后，微调滚动条位置\n        if (gLastHash === gNull || gLastHash !== hash) {\n            // 其中对于 Firefox 若不延时微调会存在微调无效的情况\n            setTimeout(() => {\n                V_ui_tuningScrollTop(JS_decodeURI(anchor));\n            }, env.browser.Firefox ? 300 : 0);\n        }\n        gLastHash = hash;\n\n        // 若导航中心没有显示，则强制进行延时适配处理（如从封面直接到指定章节）\n        if (!iNavCenter.showed)\n            V_ui_adjustAllDelay();\n    });\n\n    iStopwatch.ed(_4space_);\n}\n\n/**\n * 初始化须在页面 body 显示后才能执行的部分\n */\nfunction V_initRestyle() {\n    let sw = new Stopwatch();\n\n    // ----------------------------------------\n    // 重置任务清单样式\n    sw.st();\n    Restyler_forTaskList();\n    sw.ed(\"    ├ TaskList: \");\n\n    // ----------------------------------------\n    // 重置脚本化图表样式，须在以上页面内容恢复显示后再处理\n    sw.st();\n    Restyler_forMermaid();\n    sw.ed(\"    └ Mermaid: \");\n\n    // ----------------------------------------\n    // 检查是否使用了 Typora 的图片缩放功能\n    Restyler_forImgZoom();\n    sw.ed(\"    └ Img Zoom: \");\n}\n\n// ========================================\n// 灰色模式 Gray Mode\n\n/**\n * 初始化 Gray Mode\n */\nlet StsGray_ui = gUndefined;\nfunction GrayMode_init() {\n    // 先判断是否通过 query 参数临时停用\n    if (V_util_getParamVal(_gray_) === _off_)\n        return;\n\n    // 获取需要增加的日期集合\n    let grayModeValue = V_util_getMetaByName(_vlook_gray_mode_);\n    // 文档无指定灰色模式配置时，尝试取主题配套的 vlook-gray-mode 预置选项内容\n    if (grayModeValue === gUndefined)\n        grayModeValue = V_util_removeQuotes(V_util_getVarVal(\"--\" + _vlook_gray_mode_).x());\n\n    // 用于调试\n    // grayModeValue = __today(new Date()) + \":测试;12-13:国家公祭日@zh;04-05:清明节@zh,ko\";\n    if (V_length(grayModeValue.x()) === 0)\n        return;\n\n    let valueSet = grayModeValue.sp(\";\");\n    for (let i = 0; i < V_length(valueSet); i++) {\n        let item = valueSet[i].m(/^((\\d{2}-\\d{2}):([^@]+))?(@([a-zA-Z,]{2,}))?$/);\n        // 格式不匹配则忽略\n        if (item === gNull)\n            continue;\n\n        // 匹配指定的语言环境，为空则表示不限制语言\n        if (item[5] === gUndefined || item[5].l().i(env.language.base) > -1) {\n            // 获取当前日期\n            if (item[2] === __today(new Date())) {\n                // 启用\n                __enableGrayMode(item[2], item[3]);\n                break;\n            }\n        }\n    }\n\n    // 启用「灰色模式」\n    function __enableGrayMode(date, title) {\n        // 添加 灰色模式 样式\n        JQ_addClass(DOM_body(), _gray_);\n\n        StsGray_ui = V_byClass(_v_sts_gray_);\n        // 灰色模式 选中样式\n        JQ_addClass(StsGray_ui, _selected_);\n\n        ToolTips_bind(StsGray_ui, V_lang_text17() +___+ V_lang_text48());\n\n        // 设置灰色模式数据\n        StsGray_ui.a(_data_date_, date);\n        StsGray_ui.a(_data_title_, title);\n        StsGray_ui.uC().ck(() => {\n            iInfoTips.hide();\n            JQ_removeClass(DOM_body(), _gray_);\n        });\n    }\n\n    // 返回今天的日期（短格式），如：10-01\n    function __today(date) {\n        return __padZero(date.getMonth() + 1) + \"-\" + __padZero(date.getDate())\n    }\n\n    // 月份、日期前补零对齐\n    function __padZero(value) {\n        return value < 10 ? `0${value}` : value;\n    }\n}\n\n/**\n * 临时关闭 Gray Mode\n */\nfunction GrayMode_close() {\n    // 当前启用了「灰色模式」的处理\n    if (DOM_body().a(_class_).i(_gray_) > -1) {\n        iInfoTips.bubble(\n            V_ui_strong(\n                V_lang_text(87, [\n                    \"今天是\",\n                    \"Today is\"\n                ]) + _2nbsp_ + StsGray_ui.a(_data_title_) + \" (\" + StsGray_ui.a(_data_date_) + \")\"\n            ) + _2br_\n            + V_lang_text(88, [\n                \"本页面今天会以 \" + _display_mode_ + \" 显示\",\n                \"This page will be displayed in \" + _display_mode_ + \" today\"\n            ]).r(_display_mode_, V_ui_strong(V_lang_text48())) + \"<hr>\"\n            + V_ui_sub(_, _,\n                V_ui_svgIcon(_icoGray_, 20, 20, _theme_)\n                +___+ V_lang_text(89, [\n                    \"点击下面该按钮可临时关闭\",\n                    \"Click the button below to temporarily turn it off\"\n                ])\n            )\n            , 5000, _corner_ + \"3\");\n    }\n}\n// 灰色模式 Gray Mode\n// ========================================\n\n// ========================================\n// 定义 VLOOK 语言类\nlet V_lang = -1,\n    V_lang_custom = gUndefined;\n\n/**\n * 初始化语言\n */\nfunction V_lang_init() {\n    switch (env.language.base) {\n        case \"zh\":\n            V_lang = 0; // 简体中文\n            break;\n        default:\n            V_lang = 1; // 英语（默认）\n    }\n\n    // 通过 meta 指定的语言包\n    // 先尝试匹配语种子集\n    let zhSet = env.language.full;\n    if (zhSet === \"zh-tw\" || zhSet === \"zh-mo\") // 台湾、澳门统一使用香港版本繁体\n        zhSet = \"zh-hk\";\n    let vlookLang = V_util_getMetaByName(_vlook__ + _lang_ + \"-\" + zhSet);\n    // 子集为空时，再尝试匹配主语种\n    if (vlookLang === gUndefined)\n        vlookLang = V_util_getMetaByName(_vlook__ + _lang_ + \"-\" + env.language.base);\n    if (vlookLang !== gUndefined)\n        V_lang_custom = vlookLang;\n}\n\n/**\n * 获得适配当前语言的 UI 文本\n * @param buildInTextSet 内置的中英文本\n * @param textId 文本标识，主要作为指定语言包时进行匹配，如：1、97，对应语言包中的 text1、text97\n */\nfunction V_lang_text(textId, buildInTextSet) {\n    if (V_lang_custom === gUndefined)\n        return buildInTextSet[V_lang];\n\n    let text = V_util_getMetaByName(\"vk-\" + V_lang_custom + textId);\n    return text === gUndefined\n        ? buildInTextSet[V_lang]\n        : text;\n}\n\n// 获取语言 ID 3 内容\nfunction V_lang_text3() {\n    return V_lang_text(3, [\n        \"链接地图\",\n        \"Link Map\"\n    ]);\n}\n// 获取语言 ID 4 内容\nfunction V_lang_text4() {\n    return V_lang_text(4, [\n        \"已启用\",\n        \"Enabled\"\n    ]);\n}\n// 获取语言 ID 6 内容\nfunction V_lang_text6() {\n    return V_lang_text(6, [\n        \"导航中心\",\n        _Navigation_ + \" Center\"\n    ]);\n}\n// 获取语言 ID 7 内容\nfunction V_lang_text7() {\n    return V_lang_text(7, [\n        \"浏览文库\",\n        _Document_ + \" Library\"\n    ]);\n}\n// 获取语言 ID 8 内容\nfunction V_lang_text8() {\n    return V_lang_text(8, [\n        \"段落漫游\",\n        \"Paragraph Roaming\"\n    ]);\n}\n// 获取语言 ID 9 内容\nfunction V_lang_text9() {\n    return V_lang_text(8, [\n        \"聚光灯\",\n        _Spotlight_\n    ]);\n}\n// 获取语言 ID 10 内容\nfunction V_lang_text10() {\n    return V_lang_text(10, [\n        \"激光笔\",\n        \"Laser Pointer\"\n    ]);\n}\n// 获取语言 ID 15 内容\nfunction V_lang_text15() {\n    return V_lang_text(15, [\n        \"前一个\",\n        _Previous_\n    ]);\n}\n// 获取语言 ID 16 内容\nfunction V_lang_text16() {\n    return V_lang_text(16, [\n        \"后一个\",\n        _Next_\n    ]);\n}\n// 获取语言 ID 17 内容\nfunction V_lang_text17() {\n    return V_lang_text(17, [\n        \"关闭\",\n        _Close_\n    ]);\n}\n// 获取语言 ID 18 内容\nfunction V_lang_text18() {\n    return V_lang_text(18, [\n        \"公式\",\n        \"Formel\"\n    ]);\n}\n// 获取语言 ID 22 内容\nfunction V_lang_text22() {\n    return V_lang_text(22, [\n        \"所有脚注\",\n        \"All \" + _footnotes_\n    ]);\n}\n// 获取语言 ID 28 内容\nfunction V_lang_text28() {\n    return V_lang_text(28, [\n        \"按住\",\n        \"Press and hold\"\n    ]);\n}\n// 获取语言 ID 35 内容\nfunction V_lang_text35() {\n    return V_lang_text(35, [\n        \"目录\",\n        \"Table of Contents\"\n    ]);\n}\n// 获取语言 ID 38 内容\nfunction V_lang_text38() {\n    return V_lang_text(38, [\n        \"已就绪\",\n        _Ready_\n    ]);\n}\n// 获取语言 ID 41 内容\nfunction V_lang_text41() {\n    return V_lang_text(41, [\n        \"字体风格\",\n        _Font_ + \" \" + _Style_\n    ]);\n}\n// 获取语言 ID 45 内容\nfunction V_lang_text45() {\n    return V_lang_text(45, [\n        \"外观\",\n        \"Appearance\"\n    ]);\n}\n// 获取语言 ID 48 内容\nfunction V_lang_text48() {\n    return V_lang_text(48, [\n        \"灰色模式\",\n        \"Gray \" + _Mode_\n    ]);\n}\n// 获取语言 ID 53 内容\nfunction V_lang_text53() {\n    // ⚠\n    return \"‼️ \" + V_lang_text(53, [\n        \"重复的标题名称\",\n        \"Duplicate \" + _Chapter_ + \" Name\"\n    ]);\n}\n// 获取语言 ID 54 内容\nfunction V_lang_text54() {\n    return \"🚫 \" + V_lang_text(54, [\n        \"无效页内链接\",\n        _Invalid_ + \" Inner Link\"\n    ]);\n}\n// 获取语言 ID 56 内容\nfunction V_lang_text56() {\n    return V_lang_text(56, [\n        \"表\",\n        \"Table\"\n    ]);\n}\n// 获取语言 ID 57 内容\nfunction V_lang_text57() {\n    return V_lang_text(57, [\n        \"代码块\",\n        \"Code Block\"\n    ]);\n}\n// 获取语言 ID 58 内容\nfunction V_lang_text58() {\n    return V_lang_text(58, [\n        \"图\",\n        \"Figure\"\n    ]);\n}\n// 获取语言 ID 59 内容\nfunction V_lang_text59() {\n    return V_lang_text(59, [\n        \"音频\",\n        \"Audio\"\n    ]);\n}\n// 获取语言 ID 60 内容\nfunction V_lang_text60() {\n    return V_lang_text(60, [\n        \"视频\",\n        \"Video\"\n    ]);\n}\n// 获取语言 ID 63 内容\nfunction V_lang_text63() {\n    // 🚫\n    return \"❌ \" + V_lang_text(63, [\n        \"无效的资源地址\",\n        _Invalid_ + \" resource address\"\n    ]);\n}\n// 获取语言 ID 65 内容\nfunction V_lang_text65() {\n    return V_lang_text(65, [\n        \"导航历史\",\n        _Navigation_ +___+ _history_\n    ]);\n}\n// 获取语言 ID 66 内容\nfunction V_lang_text66() {\n    return V_lang_text(66, [\n        \"是空的\",\n        \" is empty\"\n    ]);\n}\n// 获取语言 ID 67 内容\nfunction V_lang_text67() {\n    return V_lang_text(67, [\n        \"未找到\",\n        \"Not found\"\n    ]);\n}\n// 获取语言 ID 68 内容\nfunction V_lang_text68() {\n    return V_lang_text(68, [\n        \"明信片\",\n        \"Postcard\"\n    ]);\n}\n// 获取语言 ID 78 内容\nfunction V_lang_text78() {\n    return V_lang_text(78, [\n        \"继续上次的阅读\",\n        \"Resume Reading\"\n    ]);\n}\n// 获取语言 ID 81 内容\nfunction V_lang_text81() {\n    return V_lang_text(81, [\n        \"异常的链接 / 地址\",\n        \"Invalid link / address\"\n    ]);\n}\n// 定义 V.lang\n// ========================================\n\n// ========================================\n// 文档类\nlet V_doc_block = gFalse; // 当前文档是否被模态窗口阻塞\n\n/**\n * 冻结文档滚动\n */\nfunction V_doc_scroll_freeze() {\n    // 暂停段落漫游\n    iParagraphNav.hold();\n    // 切换文档滚动控制\n    JQ_exchangeClass(DOM_body(), _unfreeze_, _freeze_);\n}\n\n/**\n * 解冻文档滚动\n */\nfunction V_doc_scroll_unfreeze() {\n    JQ_exchangeClass(DOM_body(), _freeze_, _unfreeze_);\n}\n\n// 内容计数器\nlet V_doc_counter_img = 0, // 图片总数\n    V_doc_counter_figure = 0, // 插图总数\n    V_doc_counter_postcard = 0, // 明信片数量\n    V_doc_counter_table = 0, // 表格总数\n    V_doc_counter_codeblock = 0, // 代码块总数\n    V_doc_counter_formula = 0, // 公式总数\n    V_doc_counter_audio = 0, // 非 mini 模式音频总数\n    V_doc_counter_audiomini = 0, // mini 模式音频总数\n    V_doc_counter_video = 0, // 视频总数\n    V_doc_counter_details = 0; // 详情总数\n\n/**\n * 初始化外部链接（如：http://、https://、ftp://、站内链接等）\n */\nfunction V_doc_link_adjustExternal() {\n    $(\"a\" + V_not(V_attrCSS(_href_, \"#\", \"^\"))).e((index, element) => {\n        let a = $(element),\n            href = a.a(_href_);\n        // 跳过指定类型链接\n        if (href === gUndefined || href.x() === _ || href.sW(\"?\")) // ? 开头的如 ?target=vdl\n            return gTrue;\n\n        // 为其添加 target 参数\n        a.a(_target_, a.a(_href_));\n\n        // 如果指定关闭文库，则所有外部链接都自动添加同名参数\n        if (iNavCenter.docLib !== gUndefined && iNavCenter.docLib.off) {\n            let page = V_util_getUrlWithoutQueryAndHash(href),\n                queryStr = V_util_getUrlQueryString(href),\n                hash = V_util_getUrlHash(href);\n            // 添加同名参数\n            queryStr += ((V_length(queryStr) > 0 ? \"&\" : _) + \"vdl=off\");\n            a.a(_href_, page + \"?\" + queryStr + hash);\n        }\n    });\n\n    // 处理带链接的标签（标签链接）\n    $(\"a>:is(.\" + _v_tag_ + \",.\" + _v_badge_name_ + \")\").e((index, element) => {\n        let a = $(element).p(),\n            dataHref = _data__ + _href_,\n            dataTarget = _data__ + _target_;\n\n        // 对链接的属性处理\n        a.a(dataHref, a.a(_href_));\n        a.a(dataTarget, a.a(_target_));\n        JQ_removeAttr(a, _href_);\n        JQ_removeAttr(a, _target_);\n\n        // 添加独立的打开链接的入口\n        a.pp(V_ui_span(_v_tag_link, _, \"→ \" + V_lang_text(86, [\n            \"点击这里打开链接\",\n            \"Click here to open the link\"\n        ])));\n\n        // 转移链接事件处理\n        a.ch(\".\" + _v_tag_link).uC().ck(() => {\n            gWindow.open(a.a(dataHref), a.a(dataTarget), \"noopener,noreferrer\");\n        });\n    });\n\n}\n// ========================================\n\n// ========================================\n// 定义 VLOOK 埋点数据统计\n// 上报事件的累计次数，用于标识不同的上报事件 iframe 的 id\nlet V_report_count =  0;\n\n/**\n * 提交统计数据\n */\nfunction V_report_submit(loadTimeCost) {\n    // 基本信息：VLOOK\n    let sd = \"?p=vlook\"\n        + \"&ver=\" + V_ver\n        + \"&thm=\" + V_util_getTemplateThemeName()\n        + \"&url=\" + WINDOW_getHref();\n\n    if (1 === 2) {\n        sd += \"&d=\" + (V_util_isMobile() ? \"mob\" : _) // 设备类型\n            + \"&dpr=\" + env.display.DPR; // DPR\n\n        // 信息：OS\n        sd += \"&os=\";\n        if (env.os.macOS)\n            sd += \"macOS\";\n        else if (env.os.Windows)\n            sd += \"Windows\";\n        else if (env.os.iOS)\n            sd += \"iPhone\";\n        else if (env.os.Linux)\n            sd += \"iPhone\";\n        else\n            sd += \"others\";\n\n        // 浏览器及版本\n        sd += \"&b=\";\n        if (env.browser.Edge)\n            sd += \"edge&bv=\" + env.browserVer.Edge;\n        else if (env.browser.Chrome)\n            sd += \"chrome&bv=\" + env.browserVer.Chrome;\n        else if (env.browser.Firefox)\n            sd += \"firefox&bv=\" + env.browserVer.Firefox;\n        else if (env.browser.Safari)\n            sd += \"safari&bv=\" + env.browserVer.Safari;\n        else\n            sd += \"others&bv=\";\n\n        // 浏览器的颜色方案\n        sd += \"&cs=\" + V_util_getVarVal(___v_color_scheme_).rA('\"', _).x();\n\n        sd += \"&lang=\" + V_lang // 浏览器语言\n            + \"&size=\" + V_length(VOM_doc().t()) // 文档大小\n            + \"&time=\" + loadTimeCost; // 加载文档时间\n\n        // 插图数据：图片\n        sd += \"&\" + _img_ + \"=\" + V_length(V_byClass(_v_fig_))\n            + \"&\" + _img_ + \"-fold=\" + V_length($(\"p\" + V_attrCSS(_data_container_, _img_) + V_attrCSS(_data_content_folded_, _true_)))\n            + \"&\" + _img_ + \"-fill=\" + V_length($(_img_ + V_not(V_attrCSS(_data_img_fill_))))\n            + \"&\" + _img_ + \"-\" + _invert_ + \"=\" + V_length($(_img_ + V_attrCSS(_data_dark_src_, _invert_)))\n            + \"&\" + _img_ + \"-alter=\" + V_length($(_img_ + V_attrCSS(_data_dark_src_, _alter_)))\n            + \"&\" + _img_ + \"-cap1=\" + V_length($(_div_ + V_attrCSS(_id_, _vk_id_fig_, \"^\") + V_attrCSS(_data_id_fig_type_, _img_) +___+ _v_cap1_))\n            + \"&\" + _img_ + \"-cap2=\" + V_length($(_div_ + V_attrCSS(_id_, _vk_id_fig_, \"^\") + V_attrCSS(_data_id_fig_type_, _img_) +___+ _v_cap2_));\n\n        // 插图数据：Mermaid\n        let mermaid = V_byClass(_md_diagram_panel_);\n        sd += \"&mm=\" + V_length(mermaid)\n            + \"&mm-fold=\" + V_length($(_div_ + V_attrCSS(_data_container_, _svg_) + V_attrCSS(_data_content_folded_, _true_)))\n            + \"&mm-cap1=\" + V_length($(_div_ + V_attrCSS(_id_, _vk_id_fig_, \"^\") + V_attrCSS(_data_id_fig_type_, _svg_) +___+ _v_cap1_))\n            + \"&mm-cap2=\" + V_length($(_div_ + V_attrCSS(_id_, _vk_id_fig_, \"^\") + V_attrCSS(_data_id_fig_type_, _svg_) +___+ _v_cap2_));\n\n        // 音频数据\n        sd += \"&audio=\" + V_length($(_audio_))\n            + \"&mm-cap1=\" + V_length($(_div_ + V_attrCSS(_id_, _vk_id_audio_, \"^\") +___+ _v_cap1_))\n            + \"&mm-cap2=\" + V_length($(_div_ + V_attrCSS(_id_, _vk_id_audio_, \"^\") +___+ _v_cap2_));\n\n        // 视频数据\n        sd += \"&video=\" + V_length($(_video_))\n            + \"&mm-cap1=\" + V_length($(_div_ + V_attrCSS(_id_, _vk_id_video_, \"^\") +___+ _v_cap1_))\n            + \"&mm-cap2=\" + V_length($(_div_ + V_attrCSS(_id_, _vk_id_video_, \"^\") +___+ _v_cap2_));\n\n        // 图片细分：Mermaid 图\n        let pie = 0,\n            flow = 0,\n            flowSTART = 0,\n            flowINIT = 0,\n            state = 0,\n            seq = 0,\n            classD = 0,\n            gantt = 0;\n        mermaid.e((index, element) => {\n            let _t = $(element);\n            if (V_length(_t.f(\"g.legend\")) > 0)\n                pie++; // 饼图\n            else if (V_length(_t.f(\"g.output g.nodes\")) > 0) {\n                flow++; // 流程图\n                if (V_length(_t.f(\"g.output g.nodes g#START.node\")) > 0)\n                    flowSTART++; // VLOOK 标准的流程图\n                else if (V_length(_t.f(\"g.output g.nodes g#INIT.node\")) > 0)\n                    flowINIT++; // VLOOK 标准的状态机图\n            }\n            else if (V_length(_t.f(\"g.stateGroup\")) > 0)\n                state++; // 状态机图（原生）\n            else if (V_length(_t.f(\"g rect.actor\")) > 0)\n                seq++; // 顺序图\n            else if (V_length(_t.f(\"g.classGroup\")) > 0)\n                classD++; // 类图\n            else if (V_length(_t.f(\"g rect.section\")) > 0)\n                gantt++; // 甘特图\n        });\n        sd += \"&mm-pie=\" + pie\n            + \"&mm-flow=\" + flow\n            + \"&mm-flow-S=\" + flowSTART\n            + \"&mm-flow-I=\" + flowINIT\n            + \"&mm-state=\" + state\n            + \"&mm-seq=\" + seq\n            + \"&mm-class=\" + classD\n            + \"&mm-gantt=\" + gantt;\n\n        // 表格数据\n        sd += \"&tbl=\" + V_length($(_table_))\n            + \"&tbl-fold=\" + V_length($(_figure_ + V_attrCSS(_data_container_, _table_) + V_attrCSS(_data_content_folded_, _true_)))\n            + \"&tbl-cap1=\" + V_length($(_div_ + V_attrCSS(_id_, _vk_id_tbl_) +___+ _v_cap1_))\n            + \"&tbl-cap2=\" + V_length($(_div_ + V_attrCSS(_id_, _vk_id_tbl_) +___+ _v_cap2_));\n\n        // 表格列格式数据\n        let fmBold = 0,\n            fmEm = 0,\n            fmUnderline = 0,\n            fmMark = 0,\n            fmDel = 0,\n            fmChk = 0,\n            fmNum = 0;\n        $(_table_ + V_attrCSS(_data_column_fmting_, _true_)).e((index, element) => {\n            let _t = $(element);\n            if (V_length(_t.f(_thead_ + \" .\" + _v_tbl_col_fmt_bold_)) > 0)\n                fmBold++;\n            if (V_length(_t.f(_thead_ + \" .\" + _v_tbl_col_fmt_em_)) > 0)\n                fmEm++;\n            if (V_length(_t.f(_thead_ + \" u\")) > 0)\n                fmUnderline++;\n            if (V_length(_t.f(_thead_ + \" .\" + _v_tbl_col_fmt_mark_)) > 0)\n                fmMark++;\n            if (V_length(_t.f(_thead_ +___+ _del_)) > 0)\n                fmDel++;\n            if (V_length(_t.f(_thead_ + \" .\" + _v_tbl_col_fmt_chkbox_)) > 0)\n                fmChk++;\n            if (V_length(_t.f(_thead_ + \" .\" + _v_tbl_col_fmt_num_)) > 0)\n                fmNum++;\n        });\n        sd += \"&tbl-fm-b=\" + fmBold\n            + \"&tbl-fm-em=\" + fmEm\n            + \"&tbl-fm-u=\" + fmUnderline\n            + \"&tbl-fm-m=\" + fmMark\n            + \"&tbl-fm-d=\" + fmDel\n            + \"&tbl-fm-chk=\" + fmChk\n            + \"&tbl-fm-num=\" + fmNum;\n\n        // 带单元格合并的表格数\n        sd += \"&tbl-\" + _cell_ + \"-merge=\" + V_length($(_table_ + V_attrCSS(_data_cell_merge_, _true_)));\n\n        // 带行折叠的表格数\n        sd += \"&tbl-row-group=\" + V_length($(_table_ + V_attrCSS(_data_row_group_, _true_)));\n\n        // 代码块数据\n        sd += \"&cb=\" + V_length(V_byClass(_md_fences_))\n            + \"&cb-fold=\" + V_length($(\"p\" + V_attrCSS(_data_container_, _codeblock_) + V_attrCSS(_data_content_folded_, _true_)))\n            + \"&cb-cap1=\" + V_length($(_div_ + V_attrCSS(_id_, _vk_id_codeblock_) +___+ _v_cap1_))\n            + \"&cb-cap2=\" + V_length($(_div_ + V_attrCSS(_id_, _vk_id_codeblock_) +___+ _v_cap2_));\n\n        // 标签数据\n        sd += \"&\" + _tag_ + \"=\" + V_length($(_code_ + V_attrCSS(_class_, _v_tag_)))\n            + \"&\" + _badge_ + \"=\" + V_length($(_code_ + V_attrCSS(_class_, _v_badge_name_)));\n\n        // 引用块折叠数据\n        sd += \"&dt=\" + V_length($(_details_));\n\n        // 脚注数据\n        sd += \"&fn=\" + V_length(V_byClass(\"md-\" + _footnote_));\n    }\n\n    // 提交统计数据\n    let vlookStatViaGithub = $(_iframe_ + V_attrCSS(_name_, _vlook_stat_github_)),\n        vlookStatViaCloudFlare = $(_iframe_ + V_attrCSS(_name_, _vlook_stat_cloudflare_));\n\n    vlookStatViaGithub.a(_src_, _httpsPrefix_ + _vlookAct_ + (V_devMode ? \"dev-\" : _) + \"stat-github.html\" + sd);\n    DEBUG(\"STAT DATA (GitHub):\", vlookStatViaGithub.a(_src_));\n\n    if (!V_devMode) {\n        vlookStatViaCloudFlare.a(_src_, _vlookPagesHost_CloudFlare_ + \"/act/\" + (V_devMode ? \"dev-\" : _) + \"stat-cloudflare.html\" + sd);\n        DEBUG(\"STAT DATA (CloudFlare):\", vlookStatViaCloudFlare.a(_src_));\n    }\n}\n// 定义 VLOOK 埋点数据统计\n// ========================================\n\n// ==================== 处理耗时计时器类 ==================== //\n\n/**\n * 构造函数\n */\nfunction Stopwatch() {\n    let T = this;\n    T.sT = gNull; // 重置后的初始时间\n    T.lT = gNull; // 每次中间计时的初始时间\n\n    /**\n     * 重置计时器\n     */\n    T.reset = function () {\n        T.sT = V_util_getTime();\n    }\n\n    /**\n     * 一次中间计时开始\n     */\n    T.st = function (target) {\n        if (target !== gUndefined)\n            LOG(target);\n        T.lT = V_util_getTime();\n    }\n\n    /**\n     * 一次中间计时结束\n     * @param pre 输出内容前缀\n     * @param slient 是否为静默模式，true：是\n     */\n    T.ed = function (pre, slient) {\n        let c = V_util_getTime() - T.lT;\n        // 非静默模式时，输出计时结果\n        if (!slient) {\n            let msg = pre + \"⏱ \" + c + \" ms\";\n            if (c < 300)\n                INFO(msg);\n            else if (c < 500)\n                WARN(msg);\n            else\n                ERROR(msg);\n        }\n        return c;\n    }\n\n    /**\n     * 计时器结束\n     */\n    T.stop = function () {\n        return V_util_getTime() - T.sT;\n    }\n\n    // 初始化计时器\n    T.reset();\n}\n\n// ==================== 欢迎页 ==================== //\n\nlet WelcomePage_ui = gUndefined, // 欢迎页主界面\n    WelcomePage_button = gUndefined, // 关闭欢迎页按钮\n    WelcomePage_tips = gUndefined, // 欢迎信息\n    WelcomePage_finished = gFalse, // 是否已加载\n    WelcomePage_mode = \"auto\"; // 模式\n\n/**\n * 构造函数\n * @param mode 欢迎页显示模式\n */\nfunction WelcomePage_init(mode) {\n    WelcomePage_ui = V_byClass(_v_welcome_page_); // 欢迎页主界面\n    WelcomePage_button = V_byClass(_v_welcome_page_ + \">.\" + _v_loading_); // 关闭欢迎页按钮\n    WelcomePage_tips = V_byClass(_v_welcome_page_ + \">.\" + _v_tips_); // 欢迎信息\n    WelcomePage_finished = gFalse; // 是否已加载\n    WelcomePage_mode = mode; // 模式\n\n    // 初始执行\n    if (WelcomePage_mode === _off_)\n        WelcomePage_close();\n    else\n        V_ui_fadeShow(WelcomePage_ui);\n}\n\n/**\n * 完成所有内容加载后调用\n */\nfunction WelcomePage_done() {\n    // 关闭欢迎页事件\n    WelcomePage_button.uC().ck(() => {\n        WelcomePage_close();\n    });\n\n    WelcomePage_ui.c(_cursor_, \"default\");\n    WelcomePage_stopAni();\n\n    WelcomePage_tips.c(_animation_, _none_);\n\n    WelcomePage_updateCloseButton(gNull);\n    JQ_addClass(WelcomePage_button, _v_btn_ + \"-\" + _done_);\n\n    WelcomePage_finished = gTrue;\n\n    // 模式：wait\n    if (WelcomePage_mode === _wait_)\n        JQ_addClass(WelcomePage_button, _wait_);\n    // 模式：auto、指定秒数\n    else {\n        let delay = (WelcomePage_mode === _auto_\n            ? 0 // 模式：auto，延时自动关闭\n            : JS_parseInt(WelcomePage_mode)); // 模式：指定秒数\n        // 控制秒数上限\n        if (delay > 10)\n            delay = 10;\n        // 秒数有效时才处理\n        if (delay >= 0)\n            WelcomePage_autoClose(delay);\n    }\n}\n\n/**\n * 自动延时关闭\n * @param delay VLOOK Query 调校参数指定的延时自动关闭秒数\n */\nfunction WelcomePage_autoClose(delay) {\n    let delaySecs = delay,\n        closeTimer = gNull;\n\n    __timeToClose();\n\n    // 关闭倒计时\n    function __timeToClose() {\n        WelcomePage_updateCloseButton(delaySecs);\n        delaySecs--;\n        if (delaySecs < 0) { // 倒计时结束\n            closeTimer = V_util_clearTimer(closeTimer);\n            WelcomePage_close();\n        }\n        else\n            closeTimer = setTimeout(__timeToClose, 1000);\n    }\n}\n\n/**\n * 更新关闭按钮\n * @param sec 显示倒计时的秒数\n */\nfunction WelcomePage_updateCloseButton(sec) {\n    WelcomePage_button.hm(V_lang_text(23, [\n        _startReading_cn_,\n        _startReading_en_\n        ]) + (sec === gNull ? _ : ___+ V_ui_span(_, _, \"(\" + sec + \"s)\")));\n}\n\n/**\n * 停止加载时的呼吸动画\n */\nfunction WelcomePage_stopAni() {\n    WelcomePage_tips.c(_animation_, _none_);\n}\n\n/**\n * 关闭欢迎页\n */\nfunction WelcomePage_close() {\n    WelcomePage_ui.hide();\n    V_doc_scroll_unfreeze();\n\n    // 关闭「灰色模式」\n    if (V_pageMode === _max_)\n        GrayMode_close();\n}\n\n/**\n * 处理热键操作\n * @param key 非功能键键\n * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n * @param event 事件对象\n */\nfunction WelcomePage_disposeHotkey(key, combKeys, event) {\n    if (!WelcomePage_finished || V_ui_isHidden(WelcomePage_ui))\n        return;\n\n    let handled = gFalse;\n    if (V_length(combKeys) === 0) {\n        switch (key) {\n            case _Enter_: // 关闭欢迎页\n                WelcomePage_close();\n                handled = gTrue;\n                break;\n        }\n    }\n\n    // 如果事件已处理，则禁止双重操作\n    if (handled)\n        V_util_preventDefault(event);\n}\n\n// ==================== 内容助手类 ==================== //\n\nlet ContentAssistor_ui = gUndefined,\n    ContentAssistor_btns_openInFigureNav = gUndefined, // 插图浏览器中打开\n    ContentAssistor_btns_copyContent = gUndefined, // 复制内容\n    ContentAssistor_btns_tableCross = gUndefined, // 表格阅读模式（十字光标）\n    ContentAssistor_btns_wrap = gUndefined, // 表格、代码块换行、不换行\n    ContentAssistor_btns_picInPic = gUndefined, // 「画中画」\n    // 最后显示新标签打开按钮的内容（插图/表格等\n    ContentAssistor_lastTarget = gUndefined, // 用于代码、标签\n    ContentAssistor_lastHover = gUndefined,\n    ContentAssistor_lastContentType = gUndefined;\n\nfunction ContentAssistor_init() {\n    ContentAssistor_ui = V_byClass(_v_content_assistor_);\n    ContentAssistor_btns_copyContent = $(_v_btn__n__assistor_ + \".\" + _copy_); // 复制内容\n    ContentAssistor_btns_openInFigureNav = $(_v_btn__n__assistor_ + \".\" + _open_in_figure_nav_); // 插图浏览器中打开\n    ContentAssistor_btns_tableCross = $(_v_btn__n__assistor_ + \".\" + _table_cross_); // 表格阅读模式（十字光标）\n    ContentAssistor_btns_wrap = $(_v_btn__n__assistor_ + \".\" + _wrap_); // 表格、代码块换行、不换行\n    ContentAssistor_btns_picInPic = $(_v_btn__n__assistor_ + \".\" + _pic_in_pic_); // 「画中画」\n\n    ToolTips_bind(ContentAssistor_btns_openInFigureNav, V_lang_text(24, [\n        \"全屏显示\",\n        \"Full screen\"\n    ]));\n\n    ToolTips_bind(ContentAssistor_btns_tableCross, V_lang_text(25, [\n        \"阅读模式\",\n        \"Reading \" + _Mode_\n    ]));\n\n    ToolTips_bind(ContentAssistor_btns_wrap,  V_lang_text(26, [\n        \"换行 / 不换行\",\n        \"Line \" + _break_ + \" / No \" + _line_ +___+ _break_\n    ]));\n\n    ToolTips_bind(ContentAssistor_btns_picInPic, V_lang_text(27, [\n        \"画中画\",\n        \"Picture in picture\"\n    ]));\n\n    ContentAssistor_ui.on(_mouseLeave_, (event) => {\n        if (!v_ui_mouseDropIn(ContentAssistor_lastHover, event))\n            ContentAssistor_hide();\n    });\n\n    /**\n     * 初始化内容助手\n     */\n    // 在插图浏览器中打开\n    ContentAssistor_btns_openInFigureNav.uC().ck(() => {\n        ContentAssistor_hide();\n        FigureNav_show();\n    });\n\n    // 开/关：表格阅读模式（十字光标）\n    ContentAssistor_btns_tableCross.uC().ck(() => {\n        TableCross_toggle();\n    });\n\n    // 开/关：表格、代码块的换行、不换行\n    ContentAssistor_btns_wrap.uC().ck(() => {\n        __actionWrap();\n    });\n\n    // 复制\n    ToolTips_bind(ContentAssistor_btns_copyContent);\n    ContentAssistor_btns_copyContent.uC().ck((event) => {\n        __actionCopy($(event.currentTarget), event);\n    });\n\n    // 画中画\n    ContentAssistor_btns_picInPic.uC().ck(() => {\n        PicInPic_show();\n    });\n\n    // 处理【换行、不换行】\n    function __actionWrap() {\n        if (ContentAssistor_lastHover === gUndefined)\n            return;\n\n        // 表格\n        if (ContentAssistor_lastContentType === _table_)\n            TableWrap_toggle();\n        // 代码块\n        else if (ContentAssistor_lastContentType === _codeblock_)\n            CodeblockWrap_toggle();\n    }\n\n    // 处理【复制】操作\n    function __actionCopy(target, event) {\n        if (ContentAssistor_lastHover === gUndefined)\n            return;\n\n        // 代码块\n        if (ContentAssistor_lastContentType === _codeblock_)\n            ExtCodeBlock_copyContent(target, event);\n        // 图片插图\n        else if (ContentAssistor_lastContentType === _fig_ + _suffixImg_)\n            ExtFigure_copySrc(target, event);\n    }\n}\n\n/**\n * 绑定对象的 hover 行为\n * @param target 目标对象\n * @param contentType 内容类型：Figure/Table/CodeBlock\n */\nfunction ContentAssistor_bind(target, contentType) {\n    // 鼠标悬停时事件处理\n    target.on(_mouseEnter_, () => {\n        if (ContentAssistor_btns_copyContent === gUndefined)\n            return;\n\n        V_ui_removeAnimate(ContentAssistor_ui);\n\n        ContentAssistor_lastHover = target;\n        ContentAssistor_lastContentType = contentType;\n\n        if (contentType === _codeblock_) {\n            ContentAssistor_btns_copyContent.a(_data_tips_, V_lang_text(30, [\n                \"复制代码\",\n                _Copy_ + \" code\"\n            ]));\n        }\n        else if (contentType === _fig_ + _suffixImg_) {\n            ContentAssistor_btns_copyContent.a(_data_tips_, V_lang_text(31, [\n                \"复制图片地址\",\n                _Copy_ + \" image link\"\n            ]));\n        }\n\n        ContentAssistor_show();\n    }).on(_mouseLeave_, (event) => {\n        if (!v_ui_mouseDropIn(ContentAssistor_lastHover, event))\n            ContentAssistor_hide();\n    });\n}\n\n/**\n * 显示指定内容的内容助手\n */\nfunction ContentAssistor_show() {\n    if (ContentAssistor_lastHover === gUndefined)\n        return;\n\n    // 圆角重置样式\n    JQ_removeClass(ContentAssistor_btns_copyContent, _enabled_);\n    JQ_removeClass(ContentAssistor_btns_openInFigureNav, _enabled_);\n    JQ_removeClass(ContentAssistor_btns_tableCross, _enabled_);\n    JQ_removeClass(ContentAssistor_btns_wrap, _enabled_);\n    JQ_removeClass(ContentAssistor_btns_picInPic, _enabled_);\n\n    // 插图\n    if (ContentAssistor_lastContentType.sW(_fig_)) {\n        // 图片插图：svg\n        if (ContentAssistor_lastContentType.eW(_svg_)) {\n            // 在插图浏览器中打开\n            JQ_addClass(ContentAssistor_btns_openInFigureNav, _enabled_);\n        }\n        // 图片插图：非 svg\n        else {\n            // 复制\n            JQ_addClass(ContentAssistor_btns_copyContent, _enabled_);\n            // 在插图浏览器中打开\n            JQ_addClass(ContentAssistor_btns_openInFigureNav, _enabled_);\n        }\n        // 画中画\n        JQ_addClass(ContentAssistor_btns_picInPic, _enabled_);\n    }\n    // 表格\n    else if (ContentAssistor_lastContentType === _table_) {\n        // 阅读模式\n        JQ_addClass(ContentAssistor_btns_tableCross, _enabled_);\n        if (ContentAssistor_lastHover.a(_data_tbl_x_) === _true_)\n            JQ_addClass(ContentAssistor_btns_tableCross, _selected_);\n        else\n            JQ_removeClass(ContentAssistor_btns_tableCross, _selected_);\n        // 换行、不换行\n        JQ_addClass(ContentAssistor_btns_wrap, _enabled_);\n        if (TableWrap_isWrap(ContentAssistor_lastHover))\n            JQ_addClass(ContentAssistor_btns_wrap, _selected_);\n        else\n            JQ_removeClass(ContentAssistor_btns_wrap, _selected_);\n        // 画中画\n        JQ_addClass(ContentAssistor_btns_picInPic, _enabled_);\n    }\n    // 代码块\n    else if (ContentAssistor_lastContentType === _codeblock_) {\n        // 复制\n        JQ_addClass(ContentAssistor_btns_copyContent, _enabled_);\n        // 换行、不换行\n        JQ_addClass(ContentAssistor_btns_wrap, _enabled_);\n        if (CodeblockWrap_isWrap())\n            JQ_removeClass(ContentAssistor_btns_wrap, _selected_);\n        else\n            JQ_addClass(ContentAssistor_btns_wrap, _selected_);\n        // 画中画\n        JQ_addClass(ContentAssistor_btns_picInPic, _enabled_);\n    }\n    // 公式\n    else if (ContentAssistor_lastContentType === _formula_) {\n        // 画中画\n        JQ_addClass(ContentAssistor_btns_picInPic, _enabled_);\n    }\n\n    // ----------------------------------------\n    // 计算助手显示的位置\n    let caption = ContentAssistor_lastHover.p(),\n        className = caption.a(_class_),\n        container = caption.p(),\n        offset = 0;\n    // 对于存在横向滚动的情况时，须计算其偏移量用来位置调整\n    if (className !== gUndefined && className.i(_v_caption_) > -1\n        && container !== gUndefined) {\n            className = container.a(_class_);\n            if (className !== gUndefined && className.i(_v_caption_container_) > -1) {\n                let capWidth = JS_parseInt(caption.w()),\n                    conWidth = JS_parseInt(container.w());\n                if (capWidth > conWidth)\n                    offset = capWidth - conWidth + 1;\n            }\n    }\n    // 显示\n    let w = JS_parseInt(ContentAssistor_lastHover.oW())\n        - JS_parseInt(ContentAssistor_lastHover.c(_border_right_width_));\n    ContentAssistor_ui.c(_left_, ContentAssistor_lastHover.oL()\n            + w\n            - ContentAssistor_ui.w()\n            - offset - 5)\n        .c(_top_, ContentAssistor_lastHover.oT() + 5);\n\n    // 须延时后再执行显示，让以上代码先完成\n    setTimeout(() => {\n        V_ui_addAnimate(ContentAssistor_ui);\n        V_ui_fadeShow(ContentAssistor_ui);\n    }, 100);\n}\n\n/**\n * 隐藏内容辅助动作按钮\n */\nfunction ContentAssistor_hide() {\n    V_ui_fadeHide(ContentAssistor_ui);\n}\n\n// ==================== 画中画类 ==================== //\n\nlet PicInPic_ui_body = gUndefined,\n    PicInPic_ui_content = gUndefined,\n    PicInPic_ui_zoom = gUndefined,\n    PicInPic_ui_close = gUndefined;\n\nlet PicInPic_ratio = 0.75;\n\nlet PicInPic_size_width = 0,\n    PicInPic_size_height = 0;\n\n/**\n * 初始化画中画\n */\nfunction PicInPic_init() {\n    PicInPic_ui_body = V_byClass(_v_pic_in_pic_);\n    PicInPic_ui_content = PicInPic_ui_body.ch(\".\" + _v_content_);\n    PicInPic_ui_zoom = V_byClass(_v_pip_btn_ + \".\" + _zoom_);\n    PicInPic_ui_close = V_byClass(_v_pip_btn_ + \".\" + _close_);\n\n    // 缩放事件处理\n    PicInPic_ui_zoom.uC().ck((event) => {\n        let _t = $(event.currentTarget),\n            pipBtn = V_byClass(_v_pip_btn_);\n        if (PicInPic_ratio === 1) {\n            PicInPic_ratio = 0.75;\n            JQ_exchangeClass(pipBtn, _zoom_in_, _zoom_out_);\n            _t.hm(V_ui_svgIcon(_icoZoomIn_, 16, 16, _theme_));\n        }\n        else {\n            PicInPic_ratio = 1;\n            JQ_exchangeClass(pipBtn, _zoom_out_, _zoom_in_);\n            _t.hm(V_ui_svgIcon(_icoZoomOut_, 16, 16, _theme_));\n        }\n        PicInPic_zoom();\n    });\n\n    PicInPic_ui_close.uC().ck(() => {\n        PicInPic_hide();\n    });\n\n    PicInPic_ui_body.on(_mouseEnter_, () => {\n        // 高度过小时调整操作按钮位置\n        if (PicInPic_ui_body.h() < 30) {\n            JQ_addClass(PicInPic_ui_zoom, _min_);\n            JQ_addClass(PicInPic_ui_close, _min_);\n        }\n        else {\n            JQ_removeClass(PicInPic_ui_zoom, _min_);\n            JQ_removeClass(PicInPic_ui_close, _min_);\n        }\n        V_ui_fadeShow(PicInPic_ui_zoom);\n        V_ui_fadeShow(PicInPic_ui_close);\n    }).on(_mouseLeave_, () => {\n        V_ui_fadeHide(PicInPic_ui_zoom);\n        V_ui_fadeHide(PicInPic_ui_close);\n    });\n}\n\n/**\n * 显示画中画\n */\nfunction PicInPic_show() {\n    let source = ContentAssistor_lastHover;\n    PicInPic_calcSize();\n\n    // 清空原有内容（除关闭按钮）\n    PicInPic_ui_content.em();\n\n    // 为画中画进行克隆处理\n    let pic = __cloneForPicInPic(source);\n\n    // 缩放并显示\n    PicInPic_zoom();\n    PicInPic_ui_body.show();\n\n    // 根据内容调整画中画的展示\n    PicInPic_fitContentSize(pic);\n    V_util_setScrollTop(0, PicInPic_ui_content);\n\n    /**\n     * 为画中画进行克隆处理\n     * @param source 源对象\n     */\n    function __cloneForPicInPic (source) {\n        let openAll = gFalse,\n            tagName = V_util_getTagName(source);\n        // 针对表格的处理\n        if (tagName === _table_) {\n            // 先展开所有行分组\n            openAll = RowGroup_openAll(source, _auto_);\n            // 再展开长内容\n            let container = source.p().p();\n            if (container.a(_data_content_folded_) === _true_)\n                ContentFolder_expand(container);\n        }\n\n        // 将来源对象的内容进行克隆\n        let newClone = source.clone();\n        newClone.c(_margin_, 0)\n            .c(_border_, 0);\n        // 移除插图编号数据，避免存在重复对象\n        JQ_removeAttr(newClone, _data_fig_num_);\n        PicInPic_ui_content.ap(newClone);\n\n        // 针对插图的处理\n        let img = (tagName === _svg_),\n            svg = tagName === _svg_;\n        if (img || svg) {\n            JQ_removeAttr(newClone, _data_fig_num_);\n            if (svg)\n                JQ_addClass(newClone, _v_mermaid_restyler_);\n        }\n\n        // 对展开了所有行分组的表格进行克隆后的干净处理\n        if (openAll) {\n            RowGroup_reset(newClone); // 重置、切断\n            RowGroup_closeAll(source, _auto_); // 全部收起\n        }\n\n        return newClone;\n    }\n}\n\n/**\n * 隐藏画中画\n */\nfunction PicInPic_hide() {\n    PicInPic_ui_body.hide();\n}\n\n/**\n * 计算画中画建议的基准尺寸\n */\nfunction PicInPic_calcSize() {\n    // 计算基准大小\n    let baseW = 550,\n        baseH = 350,\n        w = jq_Window.w() / 2.5,\n        h = jq_Window.h() / 3;\n    PicInPic_size_width = w < baseW ? baseW : w;\n    PicInPic_size_height = h < baseH ? baseH : h;\n    PicInPic_ui_body.c(_width_, PicInPic_size_width)\n        .c(_height_, PicInPic_size_height);\n}\n\n/**\n * 调整画中画的基准大小，以适应内容的实际大小\n */\nfunction PicInPic_fitContentSize(source) {\n    // 宽度\n    let tagName = V_util_getTagName(source),\n        w = source.w(),\n        h = source.h(),\n        sourcePadding = JS_parseInt(source.c(_padding_top_)) * 2,\n        uiPadding = JS_parseInt(PicInPic_ui_body.c(_padding_top_)) * 2;\n\n    // 针对图片尺寸的兼容性处理（部分浏览器不使用该处理尺寸不正常，如：Firefox）\n    if (tagName === _svg_) {\n        let img = new Image();\n        img.src = source.a(_src_);\n        if (img.complete)\n            __getImgSize(img);\n        else\n            img.onload = function () {\n                __getImgSize(img);\n            }\n    }\n\n    // 宽度\n    let wWithPadding = w + sourcePadding;\n    if (w > 0 && wWithPadding < PicInPic_size_width) {\n        PicInPic_size_width = w;\n        PicInPic_ui_body.c(_width_, wWithPadding)\n            .c(_transform_origin_, PicInPic_size_width + \"px \" + PicInPic_size_height + \"px\");\n    }\n\n    // 高度\n    h = source.h(); // 重新获得画中画最新高度\n    let hWithPadding = h + uiPadding + sourcePadding;\n    if (h > 0 && hWithPadding < PicInPic_size_height) {\n        // 针对会进行等比缩放的对象进行高度微调\n        if ((tagName === _svg_ || tagName === _svg_)\n            && h > source.h()) {\n                h = source.h();\n                hWithPadding = h + uiPadding + sourcePadding;\n        }\n        PicInPic_size_height = h;\n        PicInPic_ui_body.c(_height_, hWithPadding)\n            .c(_transform_origin_, PicInPic_size_width + \"px \" + PicInPic_size_height + \"px\");\n    }\n\n    /**\n     * 获得 img 对象的实际长宽\n     * @param img img 对象\n     */\n    function __getImgSize(img) {\n        w = img.width;\n        h = img.height;\n    }\n}\n\n/**\n * 放大、缩放显示\n */\nfunction PicInPic_zoom() {\n    V_ui_removeAnimate(PicInPic_ui_zoom);\n    V_ui_removeAnimate(PicInPic_ui_close);\n\n    PicInPic_ui_body.c(_transform_, \"scale(\" + PicInPic_ratio + \")\")\n        .c(_transform_origin_, PicInPic_size_width + \"px \" + PicInPic_size_height + \"px\");\n\n    setTimeout(() => {\n        V_ui_addAnimate(PicInPic_ui_zoom);\n        V_ui_addAnimate(PicInPic_ui_close);\n    }, 100);\n}\n\n// ==================== 聚光灯类 ==================== //\n\n/**\n * 构造函数\n * @param radius 半径大小\n */\nfunction Spotlight(radius) {\n    let T = this;\n    T.ui = V_byClass(_v_spotlight_);\n    T.r = radius; // 聚光灯半径\n    T.zoom = {\n        normal: radius, // 标准大半径\n        bigger: radius * 1.4, // 放大的半径\n    };\n    T.lastPos = {\n        x : -1,\n        y : -1\n    };\n\n    T.toolbar = gUndefined; // 联动的工具栏\n\n    /**\n     * 切换聚光灯的不同大小\n     */\n    T.toggleZoom = function () {\n        if (V_ui_isHidden(T.ui))\n            return;\n\n        T.r = T.r < T.zoom.bigger\n            ? T.zoom.bigger\n            : T.zoom.normal;\n\n        T.repaint();\n    }\n\n    /**\n     * 使用聚光灯模式\n     */\n    T.show = function () {\n        T.toolbar.select(_spotlight_);\n\n        // 在 Dark Mode 时先添加微调的样式\n        if (ColorScheme_scheme === _dark_)\n            JQ_addClass(VOM_doc(), _v_spotlight_in_dark_);\n\n        T.mode = \"S\";\n        T.ui.show();\n        JQ_removeClass($(T.pointerScope), _v_cursor_laser_);\n        T.repaint();\n\n        iInfoTips.bubble(V_lang_text9(), 2000);\n\n        StsPrs_enable(T.toolbar.btns[_spotlight_], V_lang_text9());\n    }\n\n    /**\n     * 刷新聚光灯的显示\n     * @param event window.event 鼠标事件对象\n     */\n    T.repaint = function (event) {\n        // 记录鼠标最新位置，避免通过快捷键显示时无法在鼠标位置正常渲染\n        if (event !== gUndefined) {\n            if (event.clientX !== gUndefined)\n                T.lastPos.x = event.clientX;\n            if (event.clientY !== gUndefined)\n                T.lastPos.y = event.clientY;\n        }\n\n        // 未启用则跳过\n        if (!T.isEnabled())\n            return;\n\n        // 聚光灯模式\n        T.ui.c(_background_, \"radial-gradient(circle at \"\n            + T.lastPos.x + \"px \" + T.lastPos.y + \"px,\"\n            + _transparent_ +___+ T.r + \"px,\"\n            + V_ui_formatRGBA([0, 0, 0], 0.4) + (T.r + 5) + \"px,\" + V_ui_formatRGBA([0, 0, 0], 0.9) + \"900px)\");\n    }\n\n    /**\n     * 是否已显示\n     */\n    T.isEnabled = function () {\n        return V_ui_isShowed(T.ui);\n    }\n\n    /**\n     * 切换聚光灯的开关\n     */\n    T.tg = function () {\n        // 已打开，则关闭\n        if (T.isEnabled()) {\n            T.hide();\n        }\n        // 未打开，则打开\n        else {\n            T.show();\n            return gTrue;\n        }\n        return gFalse;\n    }\n\n    /**\n     * 隐藏聚光灯\n     */\n    T.hide = function () {\n        JQ_removeClass(T.toolbar.btns[_spotlight_], _selected_);\n        JQ_removeClass(VOM_doc(), _v_spotlight_in_dark_);\n        T.ui.hide();\n        StsPrs_disable();\n    }\n\n    /**\n     * 处理热键操作\n     * @param key 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (key, combKeys, event) {\n        if (V_doc_block)\n            return;\n\n        let handled = gFalse;\n        switch (key) {\n            case 'Shift':\n                T.toggleZoom();\n                handled = gTrue;\n                break;\n            case _Escape_:\n                if (V_length(combKeys) === 0 && T.isEnabled()) {\n                    T.hide();\n                    handled = gTrue;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            V_util_preventDefault(event);\n    }\n}\n\n// ==================== 激光笔类 ==================== //\n\n/**\n * 构造函数\n */\n function LaserPointer() {\n    let T = this;\n    T.toolbar = gUndefined; // 联动的工具栏\n\n    T.enable = gFalse;\n\n    // 激光笔模式时鼠标形状影响的范围\n    T.pointerScope = \"body *\";\n\n    /**\n     * 使用激光笔\n     */\n    T.show = function () {\n        T.toolbar.select(_laser_pointer_);\n\n        T.enable = gTrue;\n        JQ_addClass($(T.pointerScope), _v_cursor_laser_);\n\n        iInfoTips.bubble(V_lang_text10(),\n            2000);\n\n        StsPrs_enable(T.toolbar.btns[_laser_pointer_], V_lang_text10());\n    }\n\n    /**\n     * 是否已显示\n     */\n    T.isEnabled = function () {\n        return T.enable;\n    }\n\n    /**\n     * 切换激活笔开关\n     */\n    T.tg = function () {\n        // 已打开，则关闭\n        if (T.isEnabled()) {\n            T.hide();\n        }\n        // 未打开，则打开\n        else {\n            T.show();\n            return gTrue;\n        }\n        return gFalse;\n    }\n\n    /**\n     * 隐藏激活笔\n     */\n    T.hide = function () {\n        T.enable = gFalse;\n        JQ_removeClass(T.toolbar.btns[_laser_pointer_], _selected_);\n        JQ_removeClass($(T.pointerScope), _v_cursor_laser_);\n        StsPrs_disable();\n    }\n\n    /**\n     * 处理热键操作\n     * @param key 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (key, combKeys, event) {\n        if (V_doc_block)\n            return;\n\n        let handled = gFalse;\n        if (V_length(combKeys) === 0) {\n            switch (key) {\n                case _Escape_:\n                    if (T.isEnabled()) {\n                        T.hide();\n                        handled = gTrue;\n                    }\n                    break;\n            }\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            V_util_preventDefault(event);\n    }\n}\n\n// ==================== VLOOK CC （封面四角）处理 ==================== //\n\nfunction CC_init() {\n    gVlookCC = (V_length(V_util_getVarVal(\"--v-vlook-cc\")) > 0);\n    if (!gVlookCC || VOM_cover() === gUndefined)\n        return;\n\n    let _v_cc_ = \"v-cc\",\n        vlook_cc = \"vlook-cc\",\n        ccTopLeft = V_util_getMetaByName(vlook_cc + \"-\" + _top_ + \"-\" + _left_),\n        ccTopRight =  V_util_getMetaByName(vlook_cc + \"-\" + _top_ + \"-\" + _right_),\n        ccBottomLeft = V_util_getMetaByName(vlook_cc + \"-\" + _bottom_ + \"-\" + _left_),\n        ccBottomRight = V_util_getMetaByName(vlook_cc + \"-\" + _bottom_ + \"-\" + _right_);\n    if (ccTopLeft !== gUndefined)\n        __showCC(V_byClass(_v_cc_ + \".\" + _top_ + \".\" + _left_), ccTopLeft);\n    if (ccTopRight !== gUndefined)\n        __showCC(V_byClass(_v_cc_ + \".\" + _top_ + \".\" + _right_), ccTopRight);\n    if (ccBottomLeft !== gUndefined)\n        __showCC(V_byClass(_v_cc_ + \".\" + _bottom_ + \".\" + _left_), ccBottomLeft);\n    if (ccBottomRight !== gUndefined)\n        __showCC(V_byClass(_v_cc_ + \".\" + _bottom_ + \".\" + _right_), ccBottomRight);\n\n    function __showCC(ccObj, content) {\n        ccObj.hm(V_ui_div(_, _, content));\n        ccObj.c(_display_, _flex_);\n    }\n}\n\n\n// ==================== 分段控制器类 ==================== //\n\n/**\n * @param control 控件 UI 对象\n * @param group 分段控制器分组标识\n */\nfunction SegmentControl(control, group) {\n    let T = this;\n    T.ui = control;\n    T.group = group;\n\n    T.last = gUndefined;\n    T.segs = [];\n    T.segCnt = 0;\n\n    T.onChanged = gUndefined;\n\n    /**\n     * 添加分段\n     * @param target 分段对应的组件\n     * @param icon 分段使用的图标标识\n     * @param checked 是否为默认选中\n     * @param status 默认状态\n     */\n    T.add = function (target, icon, checked, status) {\n        let name = target.typeName();\n        T.segCnt++;\n        T.segs[name] = target;\n\n        // 新增段的 UI\n        let id = T.group + \"-\" + name,\n            ui = V_ui_input(id, T.group, \"radio\", name, 'onfocus=\"this.blur()\"' + (status ? ___ : ___+ _data_result_ + '=\"' + _none_ + '\"' + (checked ? ' checked' : _)))\n                + V_ui_label(_v_segment_btn_ +___+ name, V_attr(_for_, id) +___+ V_attr(_data_icon_, icon) +___+ V_attr(_title_, target.typeDesc()),\n                    V_ui_svgIcon(icon, 16, 16, _dark_)\n                );\n\n        T.ui.ap(ui);\n        target.ui.entry = T.ui.ch(\".\" + _v_segment_btn_ + \".\" + name);\n\n        // 指定为默认选项\n        if (checked) {\n            T.last = target;\n            __updateIcon(gTrue);\n        }\n\n        // 为新添加的段绑定事件\n        T.ui.f(_input_ + \"#\" + id).change((event) => {\n            // 隐藏切换前选择的组件\n            T.last.hide();\n            __updateIcon(gFalse);\n            // 显示最新选择的组件\n            T.last = T.segs[$(event.currentTarget).v()];\n            __updateIcon(gTrue);\n\n            T.last.show();\n\n            typeof(T.onChanged) === _function_ && T.onChanged(name);\n        });\n\n        return T.segs[name];\n\n        /**\n         * 更新分段的图标\n         * @param checked 是否为选择状态\n         */\n        function __updateIcon(checked) {\n            T.last.ui.entry.hm(V_ui_svgIcon(T.last.ui.entry.a(_data_icon_)\n                + (checked ? __checked_ : _) , 16, 16, _dark_));\n        }\n    }\n\n    /**\n     * 获得当前选中的分段\n     * @returns string 当前选中的分段\n     */\n    T.checkedItemValue = function () {\n        return T.ui.f(_input_ + V_attrCSS(_name_, T.group) + \":\" + _checked_).v();\n    }\n\n    /**\n     * 选中指定的分段\n     * @param name 分段的名称，如：catalog, figure, table, codeblock, media\n     */\n    T.setChecked = function (name) {\n        V_byID(T.group + \"-\" + name).tr(_click_);\n        T.sts(name, gTrue);\n    }\n\n    /**\n     * 获得、设置指定分段的状态\n     * @returns 无 value 时，返回指定分段的状态\n     */\n    T.sts = function (typeName, value) {\n        let id = T.group + \"-\" + typeName;\n        if (value === gUndefined)\n            return T.ui.f(_input_ + V_attrCSS(_id_, id)).a(_data_result_);\n\n        if (value)\n            JQ_removeAttr(T.ui.f(_input_ + V_attrCSS(_id_, id)), _data_result_);\n        else\n            T.ui.f(_input_ + V_attrCSS(_id_, id)).a(_data_result_, _none_);\n    }\n}\n\n// ==================== write 适应宽度 ==================== //\n\nlet FitWidth_ui = gUndefined;\n\nfunction FitWidth_init() {\n    FitWidth_ui = V_byClass(_v_fit_width_);\n\n    V_ui_addAnimate(FitWidth_ui);\n    iNavCenter.adjust();\n\n    // 点击切换适应宽度\n    FitWidth_ui.uC().ck(() => {\n        if (FitWidth_ui.a(_class_).i(_enabled_) === -1) {\n            JQ_addClass(FitWidth_ui, _enabled_);\n            JQ_addClass(VOM_doc(), _fit_width_);\n            JQ_addClass(MoreDocContent_ui_before, _fit_width_);\n            JQ_addClass(MoreDocContent_ui_after, _fit_width_);\n        }\n        else {\n            JQ_removeClass(FitWidth_ui, _enabled_);\n            JQ_removeClass(VOM_doc(), _fit_width_);\n            JQ_removeClass(MoreDocContent_ui_before, _fit_width_);\n            JQ_removeClass(MoreDocContent_ui_after, _fit_width_);\n        }\n    });\n}\n\n// ==================== 文档导航/文档浏览历史类 ==================== //\n\nlet NavHistory_ui = gUndefined,\n    NavHistoryList = gUndefined,\n    Nh_ViewHistory_ui = gUndefined;\n\nfunction NavHistory_init() {\n    NavHistory_ui = V_byClass(_v_nav_history_);\n    Nh_ViewHistory_ui = V_byClass(_v_view_history_);\n\n    ToolTips_bind(Nh_ViewHistory_ui, V_lang_text65() + _br_ + V_ui_sub(_, _, V_ui_wrap_kbd(\"H\")));\n\n    NavHistoryList = new HistoryList(this, gTrue);\n\n    Nh_ViewHistory_ui.uC().ck(() => {\n        if (V_ui_isHidden(LinkTool_panelList))\n            LinkTool_show(_history_);\n    });\n\n    // ----------\n    // 页面模式非 max（如文库）\n    if (V_pageMode !== _max_)\n        NavHistory_ui.hide();\n}\n\n/**\n * 启用导航历史入口\n */\nfunction NavHistory_enable() {\n    JQ_addClass(Nh_ViewHistory_ui, _enabled_);\n    if (!isNaN(ResumeReading_lastPosition))\n        NavHistoryList.add(ResumeReading_lastPosition.toString());\n}\n\n/**\n * 更新导航历史 UI\n * @param measure 参考的度量信息\n */\nfunction NavHistory_updateUI(measure) {\n    setTimeout(() => {\n        let top = 70, // 与 .v-resume-reading 中的取值同步\n            right = gWritePaddingRight; // 与 .v-resume-reading 中的取值同步\n\n        if (measure !== gNull) {\n            top = measure.t + 10;\n            // 非移动端要显示聚光灯、激活笔等内容，要进行高度修正\n            if (!V_util_isMobile())\n                top += JS_parseInt(iToolbar.ui.c(_height_));\n            // 对于工具栏不是展开，或是在小屏时的微调\n            if (measure.r <= gWritePaddingRight || V_ui_isSmallScreen()) {\n                top -= 10;\n                right = measure.r + measure.p;\n            }\n            // 针对移动端\n            if (V_util_isMobile())\n                top = measure.t + 10;\n        }\n\n        NavHistory_ui.c(_top_, top);\n        NavHistory_ui.c(_right_, right);\n\n        // 根据动画开启情况进行适配\n    }, V_ui_effect >= 2 ? gTransDuration / 2 : 0);\n}\n\n// ==================== 继续上次的阅读类 ==================== //\n\nlet ResumeReading_ui = gUndefined,\n    ResumeReading_lastPosition = gUndefined,\n    ResumeReading_minScrollTop = 1000;\n\nfunction ResumeReading_init() {\n    ResumeReading_ui = V_byClass(_v_resume_reading_);\n    ResumeReading_lastPosition = JS_parseInt(V_data_read(_last_position_));\n    // 有上次阅读位置信息时\n    if (!isNaN(ResumeReading_lastPosition))\n        ResumeReading_ui.c(_display_, _flex_);\n    // 无上次阅读位置信息时\n    else\n        JQ_addClass(Nh_ViewHistory_ui, _enabled_);\n\n    // 点击跳转\n    ResumeReading_ui.uC().ck(() => {\n        V_util_setScrollTop(ResumeReading_lastPosition);\n\n        ResumeReading_ui.hide();\n        NavHistory_enable();\n\n        if (!iNavCenter.showed)\n            V_ui_adjustAllDelay();\n    });\n}\n\n/**\n * 处理最后浏览的位置\n * @param restore 是否从非当前窗口恢复后的调用\n */\nfunction ResumeReading_dispose(restore) {\n    if (V_pageMode !== _max_)\n        return;\n\n    // 不是恢复显示时才处理\n    if (!restore && ResumeReading_lastPosition !== gNull) {\n        NavHistory_updateUI(iToolbar.adjust());\n        setTimeout(() => {\n            ResumeReading_ui.hide();\n            NavHistory_enable();\n        }, 6000);\n    }\n\n    __saveLastPosData();\n\n    // 保存最后浏览位置的数据\n    function __saveLastPosData() {\n        if (!gIsRunning)\n            return;\n\n        let scrollTop = V_util_getScrollTop();\n        // 与最后保存的不一致则保存\n        if (scrollTop > ResumeReading_minScrollTop && V_data_read(_last_position_) !== scrollTop) {\n            V_data_write(_last_position_, scrollTop);\n            DEBUG(\"LAST POSITION:\", scrollTop);\n        }\n\n        // 自动定时保存最后浏览位置\n        gTimer_saveLastPosition = setTimeout(() => {\n            __saveLastPosData();\n        }, 5000);\n    }\n}\n\n// ==================== 导航中心类 ==================== //\n\n/**\n * 构造函数\n * @param mask 遮罩对象\n * @param runMode 关闭模式\n */\nfunction NavCenter(mask, runMode = _auto_) {\n    let T = this;\n    T.ui = V_byClass(_v_nav_center_); // 导航中心主界面\n    T.handle = V_byClass(_v_nav_center_handle_); // 导航中心引导把手\n\n    // 关键字搜索\n    T.__keywordBody = V_byClass(_v_search_by_keyword_);\n    T.keyword = new TextField(T.__keywordBody, \"toc-\" + _filter_ + \"-nav-\" + _center_, gTrue);\n\n    T.runMode = (runMode === gNull) ? _auto_ : runMode; // 导航中心运行方式\n    T.lastDisplayType = _float_; // 最后一次的显示方式（float/block）\n    T.showed = gFalse; // 是否已显示\n\n    T.width = T.ui.w(); // 导航中心宽度\n\n    T.chpNav = gUndefined; // 联动的章节导航栏\n    T.toolbar = gUndefined; // 联动的工具栏\n\n    T.snapTimer = gNull; // 鼠标在边缘悬停计时器\n\n    // 索引内容分类选择\n    T.segs = new SegmentControl(V_byClass(_v_segment_+ \".toc\"), \"toc-segment\");\n    Index_segments = T.segs;\n\n    T.docLib = gUndefined;\n\n    // 目录索引组件\n    T.toc = T.segs.add(new TocIndex(this, gFalse), _icoIndexTabToc_, gTrue, gFalse);\n    // 插图索引组件\n    T.figures = T.segs.add(new FiguresIndex(this, gTrue), _icoIndexTabFigure_, gFalse, gFalse);\n    // 表格索引组件\n    T.tables = T.segs.add(new TablesIndex(this, gTrue), _icoIndexTabTable_, gFalse, gFalse);\n    // 代码块索引组件\n    T.codeblocks = T.segs.add(new CodeblocksIndex(this, gTrue), _icoIndexTabCodeblock_, gFalse, gFalse);\n    // 公式索引组件\n    T.formulas = T.segs.add(new FormulasIndex(this, gTrue), _icoIndexTabFormula_, gFalse, gFalse);\n    // 多媒体索引组件\n    T.media = T.segs.add(new MediaIndex(this, gTrue), _icoIndexTabMedia_, gFalse, gFalse);\n\n    // 遮罩\n    T.mask = mask;\n    T.mask.bindPartner(this, T.ui);\n\n    V_ui_addAnimate(T.handle);\n\n    /**\n     * 当前章节变化事件\n     */\n    T.toc.onChapterChanged = function () {\n        // 更新逐章导航内容\n        if (T.chpNav !== gUndefined)\n            T.chpNav.update();\n    }\n\n    /**\n     * 当切换不同分段后的处理\n     * @param name 分段标识\n     */\n    T.segs.onChanged = function (name) {\n        let str = V_lang_text35();\n        if (name === _figure_)\n            str = V_lang_text58() + \" / \" + V_lang_text68();\n        else if (name === _table_)\n            str = V_lang_text56();\n        else if (name === _codeblock_)\n            str = V_lang_text57();\n        else if (name === _media_)\n            str = V_lang_text59() + \" / \" + V_lang_text60();\n        else if (name === _formula_)\n            str = V_lang_text18();\n        str += \" / ...\";\n        T.keyword.placeholder(str);\n    }\n\n    // 关键字输入组件属性设置\n    T.keyword.setIcon(V_ui_svgIcon(_icoSearch_, 16, 16, _dark_));\n\n    T.keyword.placeholder(V_lang_text35() + \" / ...\");\n\n    // 绑定输入框事件处理\n\n    T.keyword.onInput = function (value) {\n        // 先重置\n        T.toc.resultNav.reset();\n        T.figures.resultNav.reset();\n        T.tables.resultNav.reset();\n        T.tables.resultNav.reset();\n        T.media.resultNav.reset();\n        T.codeblocks.resultNav.reset();\n        T.formulas.resultNav.reset();\n\n        // 无输入内容\n        if (V_length(value.x()) === 0) {\n            // 对目录的处理\n            T.toc.ui.result.em();\n            if (T.segs.checkedItemValue() === T.toc.typeName())\n                T.toc.ui.body.show();\n            T.toc.hideFilterResult();\n            T.toc.scrollToCurrent();\n            T.toc.updateStatus();\n            // 对 插图、表格、多媒体、代码块 的处理\n            Index_noneKeyword(T.figures);\n            Index_noneKeyword(T.tables);\n            Index_noneKeyword(T.codeblocks);\n            Index_noneKeyword(T.formulas);\n            Index_noneKeyword(T.media);\n        }\n        // 有输入内容\n        else {\n            let valueSet = value.x().l().sp(/\\s+/);\n            // 对目录的处理\n            T.toc.filter(valueSet);\n            // 对 插图、表格、代码块、多媒体 的处理\n            Index_filter(T.figures, valueSet);\n            Index_filter(T.tables, valueSet);\n            Index_filter(T.codeblocks, valueSet);\n            Index_filter(T.formulas, valueSet);\n            Index_filter(T.media, valueSet);\n        }\n    }\n\n    T.keyword.onFocus = function () {\n        if (T.lastDisplayType !== _float_) {\n            JQ_addClass(VOM_doc(), _actived_);\n            let search = V_byClass(_v_focus_search_);\n            JQ_addClass(search, _actived_);\n        }\n    }\n\n    T.keyword.onBlur = function () {\n        JQ_removeClass(VOM_doc(), _actived_);\n        JQ_removeClass(V_byClass(_v_focus_search_), _actived_);\n    }\n\n    // 绑定输入框事件处理\n    T.keyword.pressEnter = function () {\n        T.keyword.input.focus();\n    }\n\n    /**\n     * 触发互动事件\n     */\n    T.onInteractive = function () {\n        T.adjustClickHash();\n    }\n\n    /**\n     * 跳转回文档封面\n     */\n    T.gotoCover = function () {\n        V_util_setScrollTop(0);\n        // 有封面 模式时处理\n        if (VOM_cover() !== gUndefined) {\n            if (T.toc.currentItem !== gUndefined) {\n                V_ui_tg_resetCurrentItem(T.toc.currentItem, gTrue);\n                T.toc.currentHeaderIndex = -1;\n            }\n            V_ui_adjustAll();\n        }\n        // 无封面 模式时处理\n        else {\n            ToolTips_hide();\n        }\n    }\n\n    /**\n     * 适配锚点击事件\n     */\n    T.adjustClickHash = function () {\n        if (T.lastDisplayType === _float_)\n            T.hide(_auto_);\n    }\n\n    /**\n     * 显示/隐藏导航中心\n     * @param callback 显示/隐藏导航中心后执行回调函数\n     */\n    T.tg = function (callback) {\n        // 导航中心已显示\n        if (T.showed)\n            T.hide(_close_);\n        // 导航中心未显示\n        else {\n            T.runMode = _auto_;\n            // 在封面，或小屏\n            if (!V_ui_inHeader() || V_ui_isSmallScreen()) {\n                T.show(_float_);\n            }\n            // 在章节内，非小屏\n            else {\n                // 导航中心运行模式为 auto 时，自动显示导航中心\n                if (T.runMode === _auto_)\n                    T.show(_block_);\n            }\n        }\n\n        typeof(callback) === _function_ && callback();\n        T.afterToggle();\n    }\n\n    /**\n     * 显示导航中心\n     * @param lastDisplayType float: 以浮动形式显示，block: 以占位形式显示\n     * @returns boolean true: 需要处理显示，false: 已显示，无须重复处理\n     */\n    T.show = function (lastDisplayType) {\n        // 已显示，或在以动画显示过程中\n        if (V_pageMode !== _max_ || T.showed || T.ui.oL() > -T.width) {\n            return gFalse;\n        }\n\n        let left = gWritePaddingRight;\n        T.ui.c(_left_, left);\n        T.handle.hide();\n        JQ_removeClass(T.handle, _enabled_);\n\n        T.lastDisplayType = lastDisplayType;\n        // 以「占位方式」显示导航中心\n        if (T.lastDisplayType === _block_) {\n            // 占位方式的样式设置\n            JQ_removeClass(T.ui, _v_nav_center_float_);\n            JQ_removeClass(T.ui, _v_float_card_);\n            JQ_addClass(T.ui, _v_nav_center_block_);\n\n            // 更新工具栏导航中心按钮图标\n            if (!V_util_isMobile())\n                T.toolbar.select(_nav_center_);\n\n            VOM_doc().c(_margin_left_, _var_write_margin_left_);\n            MoreDocContent_updateUI();\n\n            // 因为从切换为占位显示后，会影响文档内容布局，所以须调整随大小变化的内容\n            if (!T.showed) {\n                setTimeout(() => {\n                    // 重定位至当前锚点\n                    V_util_redirectTo();\n                    // 统一同组的分栏引用块的高度\n                    ExtQuote_uniteColumnsHeight();\n                }, 300);\n            }\n        }\n        // 以「浮动方式」显示导航中心\n        else if (T.lastDisplayType === _float_) {\n            // 浮动方式的样式设置\n            JQ_removeClass(T.ui, _v_nav_center_block_);\n            JQ_addClass(T.ui, _v_nav_center_float_);\n            JQ_addClass(T.ui, _v_float_card_);\n\n            // 在移动端屏宽较小时，如：\n            // 手机 iPhone 12 Pro 为 390\n            // 手机 iPhone 6/7/8 Plus、iPhone 14 Pro Max 为 414\n            if (jq_Window.w() <= 425) // 与 CSS @media screen and (max-width: 850px) 同步修改\n                V_util_setVarVal(__v_nav_center_width_, jq_Window.w() - left * 2 + \"px\");\n\n            // 显示联动的遮罩\n            T.mask.show();\n        }\n\n        T.showed = gTrue;\n        return gTrue;\n    }\n\n    /**\n     * 隐藏导航中心\n     * @param runMode 导航中心的运行模式（auto/close）\n     * @returns boolean true: 需要处理隐藏，false: 已显示，无须重复处理\n     */\n    T.hide = function (runMode = _auto_) {\n        // 已隐藏，或在以动画隐藏过程中\n        if (!T.showed || T.ui.oL() < 10)\n            return gFalse;\n\n        // 若最后一次显示以是「占位方式」显示\n        if (T.lastDisplayType === _block_) {\n            // 更新运行模式\n            T.runMode = runMode;\n\n            // 统一同组的分栏引用块的高度\n            ExtQuote_uniteColumnsHeight();\n\n            // 更新工具栏导航中心按钮图标\n            if (!V_util_isMobile())\n                JQ_removeClass(T.toolbar.btns[_nav_center_], _selected_);\n        }\n\n        T.ui.c(_left_, _var_nav_center_hidden_left_);\n\n        // 恢复不挤压文档正文区\n        VOM_doc().c(_cssText_, _margin_left_ + \":\" + _auto_ + _important_);\n        MoreDocContent_updateUI(VOM_doc());\n\n        T.mask.hide();\n\n        // 非移动设备时显示把手\n        if (!V_util_isMobile())\n            T.showHandle();\n\n        T.showed = gFalse;\n\n        return gTrue;\n    }\n\n    /**\n     * 导航中心根据规则进行布局的自适应处理\n     * @returns boolean true: 需要处理显示/隐藏，false: 已显示/隐藏，无须重复处理\n     */\n    T.adjust = function () {\n        let result = gFalse;\n\n        // 根据导航中心宽度更新相关界面组件的样式\n        if (V_pageMode === _max_)\n            VOM_doc().c(_cssText_, _margin_left_ + \":\" + _auto_ + _important_);\n        if (T.showed && T.lastDisplayType === _block_) {\n            VOM_doc().c(_margin_left_, _var_write_margin_left_);\n            MoreDocContent_updateUI();\n        }\n\n        T.width = T.ui.w();\n\n        // 在封面，或为小屏\n        if (!V_ui_inHeader() || V_ui_isSmallScreen()) {\n            // 自动隐藏导航中心\n            result = T.hide(_auto_);\n\n            // 根据最新窗口大小调整收起位置\n            T.ui.c(_left_, _var_nav_center_hidden_left_);\n\n            // 更新工具栏导航中心按钮图标\n            if (!V_util_isMobile())\n                JQ_removeClass(T.toolbar.btns[_nav_center_], _selected_);\n        }\n        // 不在封面\n        else {\n            // 导航中心运行模式为 auto 时，自动显示导航中心\n            if (T.runMode === _auto_) {\n                // 以占位方式显示导航中心\n                result = T.show(_block_);\n\n                // 根据最新窗口大小调整导航中心宽度\n                T.ui.c(_width_, _var_nav_center_width_);\n\n                // 更新工具栏导航中心按钮图标\n                if (!V_util_isMobile())\n                    T.toolbar.select(_nav_center_);\n            }\n        }\n        return result;\n    }\n\n    /**\n     * 显示导航中心引导把手\n     */\n    T.showHandle = function () {\n        if (V_pageMode !== _max_)\n            return;\n\n        T.handle.c(_top_, (jq_Window.h() - T.handle.h()) / 2);\n        T.handle.show();\n        JQ_addClass(T.handle, _enabled_);\n    }\n\n    /**\n     * 鼠标位置变化对导航中心处理\n     */\n    T.snap = function (event) {\n        // 已显示则跳过\n        if (T.showed || V_util_isMobile())\n            return;\n\n        // 鼠标离左边缘小于指定值时\n        let h = jq_Window.h();\n        if (event.clientY > (h * 0.3) && event.clientY < (h * 0.7) && event.clientX <= gWritePaddingRight) {\n            if (T.snapTimer !== gNull)\n                return;\n\n            JQ_addClass(T.handle, _hover_);\n\n            // 延时（模拟悬停一定时间）以浮动方式显示导航中心\n            T.snapTimer = setTimeout(() => {\n                JQ_removeClass(T.handle, _hover_);\n                T.show(_float_);\n            }, 1000);\n        }\n        else {\n            // 未显示导航中心前离开边缘则取消显示\n            if (T.snapTimer !== gNull) {\n                T.snapTimer = V_util_clearTimer(T.snapTimer);\n                JQ_removeClass(T.handle, _hover_);\n            }\n        }\n    }\n\n    /**\n     * 显示/隐藏导航中心，并进行关联处理\n     */\n     T.afterToggle = function () {\n        if (iNavCenter.lastDisplayType === _block_)\n            ContentFolder_adjust();\n    }\n\n    /**\n     * 处理热键操作\n     * @param key 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (key, combKeys, event) {\n        // 文档库热键操作\n        if (T.docLib !== gUndefined)\n            T.docLib.disposeHotkey(key, combKeys, event);\n\n        if (V_ui_isHidden(T.ui))\n            return;\n\n        let handled = gFalse;\n        if (V_length(combKeys) === 0) {\n            switch (key) {\n                case _Escape_:\n                    if (!T.keyword.inputing && T.showed && T.lastDisplayType === _float_) {\n                        T.hide();\n                        handled = gTrue;\n                    }\n                    break;\n            }\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            V_util_preventDefault(event);\n    }\n}\n\n/**\n * 导航中心初始化\n */\nfunction NavCenter_init() {\n    // 没有生成目录\n    if (V_length(gToc) === 0) {\n        NavCenter.hideOnError();\n        return gFalse;\n    }\n\n    // 转换到生成的 <nav> 下\n    let vlookToc = gToc.clone(gFalse), // false 指不复制子元素\n        tocContent = gToc.ch(\".\" + _md_toc__ + _content_),\n        navToc = $(V_ui_nav(_, _, _));\n    // 克隆属性数据\n    $.each(tocContent.prop(\"attributes\"), (index, element) => {\n        navToc.attr(element.name, element.value);\n    });\n    navToc.hm(tocContent.hm());\n    vlookToc.hm(navToc.prop(_outerHTML_));\n\n    // 移除原目录数据，避免同名 DOM\n    gToc.rm();\n    // 将复制的目录进行唯一性标识\n    vlookToc.f(\".\" + _md_toc__ + _content_).a(_id_, _vlook_toc_);\n    iNavCenter.toc.ui.body.ap(vlookToc);\n\n    V_ui_set_dataNoMore(vlookToc, vlookToc);\n\n    gTocContent = V_byID(_vlook_toc_);\n    gToc = gTocContent.p(); // 更新引用块\n    // 检查目录内容情况\n    if (V_length(gTocContent) === 0) {\n        NavCenter.hideOnError();\n        return gFalse;\n    }\n\n    // 获取主题中强制控制，对大于指定层级的标题都不显示\n    gHideOutlineOver = JS_parseInt(V_util_getVarVal(\"--v-\" + _hide_ + \"-\" + _outline__ + \"over\"));\n\n    // 文库\n    iNavCenter.docLib = new DocLib(new BgMask(_doc_lib_, _top_), iNavCenter);\n    // 当前文档不是 mini 类型（文库类文档一般为 mini 类型）\n    if (V_pageMode !== _mini_) {\n        // 文库\n        if (iNavCenter.docLib === gUndefined)\n            ALERT(_failed_ + \"iDocLib ]\");\n        else\n            iNavCenter.docLib.init();\n    }\n    // 根据文库配置显示入口\n    if (iNavCenter.docLib !== gUndefined && iNavCenter.docLib.enabled)\n        iToolbar.btns[_doc_lib_].c(_display_, \"flex\");\n\n    // 有 Typora 生成的原始目录节点，针对 VLOOK 的封面规则进行调整\n    let tocSet = gTocContent.ch(\".\" + _md_toc__+ \"h1,.\" + _md_toc__+ \"h2,.\" + _md_toc__+ \"h3,.\" + _md_toc__+ \"h4,.\" + _md_toc__+ \"h5,.\" + _md_toc__+ \"h6\"),\n        tocSetLength = V_length(tocSet),\n        hasCover = (VOM_cover() !== gUndefined);\n    tocSet.e((index, element) => {\n        let _t = $(element);\n        // 只处理 h1～h5 的目录节点\n        if (_t.a(_class_).i(_md_toc_ + \"-h6\") === -1) {\n            if (hasCover) { // 文档有封面时\n                if (index < tocSetLength - 1) // 未到最后一个元素\n                    iNavCenter.toc.add(_t);\n                else // 最后一个 h1 为封底，移除\n                    _t.rm();\n            }\n            else\n                iNavCenter.toc.add(_t);\n        }\n        // 移除无效的目录节点（如：封面、封底、普通的 h6 节点）\n        else\n            _t.rm();\n    });\n\n    // 不指定打开，则默认收起所有含子章节的 h1 章节\n    let tocAutoCloseLevel = V_util_getParamVal(_toc_);\n    tocAutoCloseLevel = (tocAutoCloseLevel !== gNull) ? JS_parseInt(tocAutoCloseLevel) : 1;\n    if (tocAutoCloseLevel >= 1 && tocAutoCloseLevel <=5) {\n        gTocContent.ch(\".\" + _md_toc__ + \"h\" + tocAutoCloseLevel + V_attrCSS(_data_node_, 1) + V_attrCSS(_data_folded_, _false_)).e((index, element) => {\n            iNavCenter.toc.disposeFold($(element).a(_id_), \"c\", gTrue);\n        });\n    }\n\n    return gTrue;\n}\n\n/**\n * 隐藏导航中心（异常情况使用）\n */\nNavCenter.hideOnError = function () {\n    iNavCenter.hide();\n    ERROR(WINDOW_getHref(), [\n        \"文档中没有找到目录信息，请用 Typora 最新版本导出，并应用最新 VLOOK™ 插件\",\n        \"No [TOC] information was found in the \" + _document_ + \", export it with the latest version of Typora and apply the latest VLOOK™ plug-in.\"\n    ][V_lang]);\n}\n\n// ==================== 逐章导航类 ==================== //\n\n/**\n * 构造函数\n */\nfunction ChapterNav() {\n    let T = this,\n        tPrevName = _v_chapter_nav_ + __prev,\n        tCurrentName = _v_chapter_nav_ + __current_,\n        tNextName = _v_chapter_nav_ + __next_,\n        tDocTitleName = _v_chapter_nav_ + __doc_title_;\n\n    // 逐章导航面板主界面\n    T.ui = V_byClass(_v_chapter_nav_ + _);\n\n    T.prev = {\n        ui : V_byClass(tPrevName), // 前一章界面\n        text: V_byClass(_v_chapter_nav_ + __prev + __text_), // 前一章文本界面\n    };\n\n    T.current = {\n        ui : V_byClass(tCurrentName), // 当前章节界面\n    };\n\n    T.next = {\n        ui : V_byClass(tNextName), // 后一章界面\n        text : V_byClass(_v_chapter_nav_ + __next_ + __text_), // 后一章文本界面\n    };\n\n    // 文档标题\n    T.dt = V_byClass(tDocTitleName);\n    T.dt.t(V_util_getDocTitle());\n\n    if (V_pageMode !== _max_)\n        T.ui.hide();\n\n    /**\n     * 初始化动效\n     */\n    T.adjustEffectLevel = function (target) {\n        // 因 CSS 的 transition 不变动渐变背景过渡效果，须通过增/减不同的预置样式实现过渡效果\n        if (V_ui_effect >= 1) {\n            JQ_addClass(V_byClass(target), _effect_);\n            V_ui_addAnimate(V_byClass(target + \".effect\"));\n        }\n        else {\n            JQ_exchangeClass(V_byClass(target), _effect_, \"noeffect\");\n        }\n    }\n    // 初始化动效\n    T.adjustEffectLevel(tPrevName);\n    T.adjustEffectLevel(tCurrentName);\n    T.adjustEffectLevel(tNextName);\n    T.adjustEffectLevel(tDocTitleName);\n\n    /**\n     * 跳转至前一章节\n     */\n    T.prev.ui.uC().ck(() => {\n        ToolTips_hide();\n\n        let posBefore = V_util_getScrollTop();\n        if (T.prev.text.a(_data_hash_) === _cover_)\n            iNavCenter.gotoCover();\n        else\n            iNavCenter.toc.gotoHeader(T.prev.text);\n\n        // 如跳转距离较小时（连续章节标题的情况），则强制往前跳一段，以跳过部分连续章节标题的位置\n        if (posBefore - V_util_getScrollTop() < 10)\n            V_util_setScrollTop(posBefore - 100);\n\n        // 自适应页面内容显示\n        iNavCenter.toc.focusHeader();\n    });\n\n    /**\n     * 回到封面\n     */\n    T.dt.uC().ck((event) => {\n        ToolTips_hide();\n        if ($(event.currentTarget).a(_disabled_) === gUndefined)\n            iNavCenter.gotoCover();\n    });\n\n    /**\n     * 跳转至当前章节\n     */\n    T.current.ui.uC().ck(() => {\n        ToolTips_hide();\n        iNavCenter.toc.gotoHeader(T.current.ui);\n    });\n\n    /**\n     * 跳转至后一章节\n     */\n    T.next.ui.uC().ck(() => {\n        ToolTips_hide();\n        iNavCenter.toc.gotoHeader(T.next.text);\n\n        // 自适应页面内容显示\n        iNavCenter.toc.focusHeader();\n    });\n\n    /**\n     * 更新逐章导航栏 UI 及数据\n     */\n    T.update = function () {\n        let curIdx = iNavCenter.toc.currentHeaderIndex;\n\n        // ----------------------------------------\n        // 更新「上一章」导航内容\n        if (curIdx > 0) {\n            T.prev.ui.show();\n            T.prev.ui.c(_display_, _block_);\n            T.prev.text.t(V_byID(iNavCenter.toc.h[curIdx - 1]).t());\n            T.prev.text.a(_data_hash_, iNavCenter.toc.h[curIdx - 1]);\n\n            // 无封面 模式时处理\n            if (VOM_cover() === gUndefined) {\n                JQ_removeClass(T.dt, _in_start_);\n                JQ_removeAttr(T.dt, _disabled_);\n                T.adjustEffectLevel(tDocTitleName);\n                ToolTips_bind(T.dt, _, _center_);\n            }\n        }\n        // 当前章节为第 1 章时特殊处理，设置为「封面」\n        else if (iNavCenter.toc.inFirstHeader()) {\n            T.prev.text.t(V_lang_text(1, [\n                \"文档封面\",\n                _Document_ +___+ _cover_\n            ]));\n            T.prev.text.a(_data_hash_, _cover_);\n        }\n        // 无封面 模式时对「文档标题」章节的特殊处理\n        else if (iNavCenter.toc.inDocTitle()) {\n            T.prev.ui.hide();\n            T.current.ui.hide();\n            // 调整为在文档开始位置时的样式\n            JQ_removeClass(T.dt, \"noeffect effect hover\");\n            JQ_addClass(T.dt, _in_start_);\n            T.dt.a(_disabled_, _true_);\n            V_ui_unbindHover(T.dt);\n        }\n\n        // ----------------------------------------\n        // 更新「当前章节」导航内容\n        if (iNavCenter.toc.currentItem !== gUndefined) {\n            // 无封面 模式\n            if (iNavCenter.toc.inDocTitle())\n                T.current.ui.hide();\n            else\n                T.current.ui.show();\n\n            let headerNum = iNavCenter.toc.currentItem.a(_data_header_num_);\n            if (headerNum === gUndefined)\n                headerNum = _;\n            T.current.ui.hm(V_ui_span(_, _, headerNum) + ___\n                + iNavCenter.toc.currentItem.a(_title_));\n            T.current.ui.a(_data_hash_, iNavCenter.toc.h[curIdx]);\n        }\n\n        // ----------------------------------------\n        // 更新「下一章」导航内容\n        if (curIdx < V_length(iNavCenter.toc.h) - 1) {\n            T.next.ui.show();\n            T.next.text.t(V_byID(iNavCenter.toc.h[curIdx + 1]).t());\n            T.next.text.a(_data_hash_, iNavCenter.toc.h[curIdx + 1]);\n        }\n        else\n            T.next.ui.hide();\n    }\n\n    /**\n     * 显示逐章导航栏\n     */\n    T.show = function () {\n        // 若已显示则直接退出\n        if (V_pageMode !== _max_)\n            return;\n\n        JQ_addClass(T.ui, _v_float_card_);\n\n        T.ui.c(_top_, V_ui_isSmallScreen() ? 0 : 10);\n        T.ui.show();\n    }\n\n    /**\n     * 隐藏逐章导航栏\n     */\n    T.hide = function () {\n        // 若已隐藏则直接退出\n        if (JS_parseInt(T.ui.c(_top_)) < 0)\n            return;\n\n        JQ_removeClass(T.ui, _v_float_card_);\n        T.ui.c(_top_, -50);\n        T.ui.hide();\n    }\n\n    /**\n     * 逐章导航栏自适应显示\n     */\n    T.adjust = function () {\n        // 在封面时，隐藏逐章导航栏\n        if (!V_ui_inHeader()) {\n            T.hide();\n\n            // 初始化前 / 后章节数据\n            T.prev.text.a(_data_hash_, _cover_);\n            T.next.text.a(_data_hash_, iNavCenter.toc.h[0]);\n        }\n        // 不在封面时，显示逐章导航栏\n        else {\n            T.show();\n            T.update();\n        }\n    }\n\n    /**\n     * 逐章导航导航按钮在不同终端的适配处理\n     */\n    T.adjustHoverStyle = function () {\n        // 移动设备时解绑样式事件\n        if (V_util_isMobile()) {\n            T.prev.ui.uH();\n            T.current.ui.uH();\n            T.next.ui.uH();\n        }\n        // 非移动设备时绑定样式事件\n        else {\n            // 上一章\n            ToolTips_bind(T.prev.ui, _, _auto_);\n            // 文档标题\n            ToolTips_bind(T.dt, _, _center_);\n            // 当前章节\n            ToolTips_bind(T.current.ui, _, _center_);\n            // 下一章\n            ToolTips_bind(T.next.ui, _, _right_);\n        }\n    }\n\n    /**\n     * 处理热键操作\n     * @param key 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (key, combKeys, event) {\n        if (V_doc_block)\n            return;\n\n        let handled = gFalse;\n        if (V_length(combKeys) === 0) {\n            switch (key) {\n                case _ArrowLeft_: // left\n                case ',':\n                    T.prev.ui.tr(_click_);\n                    handled = gTrue;\n                    break;\n                case _ArrowRight_: // right\n                case '.':\n                    T.next.ui.tr(_click_);\n                    handled = gTrue;\n                    break;\n            }\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            V_util_preventDefault(event);\n    }\n}\n\n// ==================== 段落漫游类 ==================== //\n\n/**\n * 构造函数\n */\nfunction ParagraphNav() {\n    let T = this;\n    T.count = 0; // 段的总数量\n    T.curIdx = -1; // 当前段索引号\n    T.enabled = gFalse; // 是否段落漫游激活\n\n    T.toolbar = gUndefined; // 联动的工具栏\n    T.border = gUndefined;\n\n    /**\n     * 返回当前段落\n     */\n    T.cur = function () {\n        if (T.curIdx === -1)\n            return gUndefined;\n        return $(V_attrCSS(_data_id_, _vk_pg__ + T.curIdx));\n    }\n\n    /**\n     * 切换段落漫游开关\n     * @returns boolean true：开启，false：关闭\n     */\n    T.tg = function (target) {\n        T.enabled = !T.enabled;\n        if (T.enabled) {\n            iInfoTips.bubble(V_lang_text8(), 2000);\n\n            T.toolbar.select(_paragraph_nav_);\n            T.border.show();\n\n            StsPrs_enable(T.toolbar.btns[_paragraph_nav_], V_lang_text8());\n            T.goto(ParagraphNav_getScreenMiddleElement());\n\n            if (target !== gUndefined)\n                T.goto(target);\n            return gTrue;\n        }\n        else {\n            T.hide();\n        }\n        return gFalse;\n    }\n\n    /**\n     * 添加段落\n     */\n    T.add = function (item) {\n        item.a(_data_id_, _vk_pg__ + T.count);\n        item.a(_data_pg_idx_, T.count);\n        T.count++;\n\n        // 单击内容块处理\n        item.uC().ck(() => {\n            if (iParagraphNav.enabled)\n                T.goto(item);\n        });\n    }\n\n    /**\n     * 上一个段\n     * @param step 跳转的步长\n     * @returns boolean 跳转结果，true：成功，false：失败\n     */\n    T.prevPg = function (step) {\n        if (!T.enabled || step === 0)\n            return gFalse;\n\n        // 未到首段\n        if (T.curIdx > 0) {\n            T.curIdx = T.curIdx - step;\n\n            if (T.curIdx < 0)\n                T.curIdx = 0;\n\n            // 如果目标内容块 item 跳转失败，则再尝试上一个\n            if (!T.goto(0))\n                T.prevPg(1);\n\n            return gTrue;\n        }\n        return gFalse\n    }\n\n    /**\n     * 下一个段\n     * @param step 跳转的步长\n     * @returns boolean 跳转结果，true：成功，false：失败\n     */\n    T.nextPg = function (step) {\n        if (!T.enabled || step === 0)\n            return gFalse;\n\n        // 未到末段\n        if (T.curIdx < T.count - 1) {\n            T.curIdx = T.curIdx + step;\n\n            // 跳转 step 后修正超出最大值的情况\n            if (T.curIdx > T.count - 1)\n                T.curIdx = T.count - 1;\n\n            // 如果目标内容块 item 跳转失败，则再尝试下一个\n            if (!T.goto(0))\n                T.nextPg(1);\n\n            return gTrue;\n        }\n        return gFalse;\n    }\n\n    /**\n     * 跳到指定的内容块\n     * @param target 跳转的目标。0: 指定跳到上/下一个位置，非0: 指定的目标位置\n     */\n    T.goto = function (target) {\n        // 初始化目标段\n        let item = (target === 0)\n            ? T.cur()\n            : target;\n\n        // 若目标聚焦块为空（可能是对象已在其他处理过程中被删除）、不可视等情况\n        // 则返回跳转失败\n        if (item === gUndefined || V_ui_isHidden(item) || item.o() === gUndefined)\n            return gFalse;\n\n        // 添加高亮样式\n        T.curIdx = JS_parseInt(item.a(_data_pg_idx_));\n\n        T.unhold();\n\n        // 或目标段不在当前窗口显示区域内，则跳转到对应位置\n        let height = item.h() * 2 + 120;\n        // let height = item.h() * 3;\n        if (item.oT() !== 0\n            && ((item.oT() - height) < V_util_getScrollTop()\n            || (item.oT() + height) > (V_util_getScrollTop() + jq_Window.h()))) {\n                V_util_setScrollTop(item.oT() - 120); // 120 为离窗口顶部的距离\n                // V_util_setScrollTop(item.oT() - jq_Window.h() / 4);\n        }\n\n        // 展开 details\n        V_ui_openDetails(item);\n\n        // 更新遮罩位置、大小\n        let rect = item[0].getBoundingClientRect(),\n            pd = 10, // 留白宽度\n            w = rect.width + pd,\n            h = rect.height + pd;\n        // 遮罩边框\n        T.border.c(_left_, item.oL() - pd/2);\n        T.border.c(_top_, item.oT() - pd/2);\n        T.border.c(_width_, w);\n        T.border.c(_height_, h);\n\n        return gTrue; // 返回跳转成功\n    }\n\n    /**\n     * 隐藏当前段落的高亮样式\n     */\n    T.hide = function () {\n        JQ_removeClass(T.toolbar.btns[_paragraph_nav_], _selected_);\n        T.enabled = gFalse;\n        StsPrs_disable();\n        T.border.hide();\n    }\n\n    /**\n     * 临时挂起\n     */\n    T.hold = function () {\n        if (T.enabled && !gScrollByJS)\n            JQ_addClass(T.border, _pause_);\n    }\n\n    /**\n     * 取消临时挂起\n     */\n    T.unhold = function () {\n        T.border.show();\n        JQ_removeClass(T.border, _pause_);\n    }\n\n    /**\n     * 处理热键操作\n     * @param key 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (key, combKeys, event) {\n        if (!T.enabled)\n            return;\n\n        let handled = gFalse;\n        switch (key) {\n            case 'j': // J\n            case 'J':\n                TableCross_hide();\n                T.nextPg(__calcStep());\n                handled = gTrue;\n                break;\n            case 'k': // K\n            case 'K':\n                TableCross_hide();\n                T.prevPg(__calcStep());\n                handled = gTrue;\n                break;\n            case _Escape_:\n                if (V_length(combKeys) === 0 && T.enabled) {\n                    T.hide();\n                    handled = gTrue;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            V_util_preventDefault(event);\n\n        // 计算步长\n        function __calcStep() {\n            // j 或 k 单键时\n            if (V_length(combKeys) === 0)\n                return 1;\n            // 配合 shift 双键时\n            if (event.shiftKey)\n                return 10;\n            // 配合 ctrl 或 command 双键时\n            if (event.metaKey || event.ctrlKey)\n                return 5;\n            return 0;\n        }\n    }\n}\n\n/**\n * 初始化段落漫游模式\n */\nfunction ParagraphNav_init() {\n    iParagraphNav = new ParagraphNav();\n    // 添加关联组件\n    iParagraphNav.toolbar = iToolbar;\n    iParagraphNav.border = V_byID(_v_pg_nav_mask_border_);\n\n    // 先清理多余的段落标签\n    $(\"li>p\" + __only_child_).contents().unwrap();\n\n    // 初始化\n    $(_h1_6_ + \",ul>li,\" + _details_ + \",ol>li,p\" + V_attrCSS(_class_, _md_toc__ + _content_, \"!\") + \",figure,.md-alert,.\" + _md_diagram_panel_ + \",.MathJax_SVG_Display\").e((index, element) => {\n        let item = $(element);\n        // 跳过不可见元素、子元素有嵌套 p 的情况，如li > p\n        if (item.is(\":\" + _visible_)\n            && (V_length(item.ch(\"p\")) === 0 && V_length(item.t().x()) > 0 || V_util_getTagName(item) === _details_)) {\n            iParagraphNav.add(item);\n        }\n    });\n}\n\n/**\n * 获取显示在屏幕中间位置的元素\n */\nfunction ParagraphNav_getScreenMiddleElement() {\n    let middleY = gWindow.innerHeight / 2,  // 获取屏幕中心的中线坐标\n        quarterY = middleY / 2, // 获取屏幕高度的 1/4 坐标\n        centerElement = gNull,\n        lastElement = gNull;\n\n    // 遍历所有支持段落漫游的对象\n    $(_idWrite_ + \">\" + V_attrCSS(_data_id_, _vk_pg__, \"^\")).e((index, element) => {\n        let rect = element.getBoundingClientRect();\n        // 检查元素的上边缘和下边缘是否跨越屏幕中心点\n        if ((rect.top <= middleY && rect.bottom >= middleY) // 跨中线的对象\n            || (rect.top <= (quarterY) && rect.bottom >= (quarterY)) // 不跨中线，但跨 1/4 线\n            || (rect.top >= (quarterY) && rect.bottom <= (middleY)) // 不跨中线，但在 1/4 线与中线之间\n            || rect.top >= middleY) { // 中线后的对象\n            centerElement = element;\n            return gFalse;\n        }\n        lastElement = element;\n    });\n    if (centerElement === gNull)\n        centerElement = lastElement;\n\n    return $(centerElement);\n}\n\n// ==================== 工具栏类 ==================== //\n\n/**\n * 构造函数\n */\nfunction Toolbar() {\n    let T = this;\n    T.ui = V_byClass(_v_toolbar_); // 工具栏主界面\n    T.btns = []; // 工具栏按钮集\n\n    if (V_pageMode !== _max_)\n        T.ui.hide();\n\n    V_ui_addAnimate(T.ui);\n\n    /**\n     * 添加按钮\n     * @param name 按钮标识\n     * @param clickEvent 按钮点击事件回调函数\n     */\n    T.add = function (name, clickEvent) {\n        T.btns[name] = V_byClass(_v_btn_ + \".\" + name);\n\n        T.btns[name].uC().ck(() => {\n            ToolTips_hide();\n            typeof(clickEvent) === _function_ && clickEvent();\n        });\n\n        V_ui_addAnimate(T.btns[name]);\n\n        // 对 mouseenter 和 mouseleave 事件处理\n        T.btns[name].on(_mouseEnter_, (event) => {\n            let _t = $(event.currentTarget),\n                btnGroup = _t.a(_data_btn_group_);\n            if (btnGroup !== gUndefined)\n                JQ_addClass(V_byClass(_v_btn_group_ + \".\" + btnGroup), _hover_);\n            ToolTips_show(_t, _auto_);\n        }).on(_mouseLeave_, (event) => {\n            let btnGroup = $(event.currentTarget).a(_data_btn_group_);\n            if (btnGroup !== gUndefined)\n                JQ_removeClass(V_byClass(_v_btn_group_ + \".\" + btnGroup), _hover_);\n            ToolTips_hide();\n        });\n    }\n\n    /**\n     * 对指定按钮设置为选中状态\n     * @param btnName 按钮标识\n     */\n    T.select = function (btnName) {\n        let group = T.btns[btnName].a(_data_btn_group_);\n        if (group !== gUndefined) {\n            for (let i = 0; i < V_length(T.btns); i++) {\n                if (T.btns[i].a(_data_btn_group_) === group)\n                    JQ_removeClass(T.btns[i], _selected_);\n            }\n        }\n        JQ_addClass(T.btns[btnName], _selected_);\n    }\n\n    /**\n     * 自适应显示工具栏\n     */\n    T.adjust = function () {\n        if (V_pageMode !== _max_)\n            return null;\n\n        // 移动端下隐藏不必要的功能入口\n        if (V_util_isMobile())\n            V_byClass(_v_btn_group_ + \".\" + _prs_).hide();\n\n        let resultTop = 0,\n            resultPadding = 0;\n\n        // 如果是小屏，或在封面\n        if (V_ui_isSmallScreen() || !V_ui_inHeader()) {\n            let offsetY = 0;\n            // 小屏\n            if (V_ui_isSmallScreen()) {\n                resultPadding = 0;\n                resultTop = 50 + offsetY;\n                T.ui.c(_padding_left_, resultPadding)\n                    .c(_padding_right_, resultPadding)\n                    .c(_top_, resultTop);\n            }\n\n            // 调整工具栏样式\n            JQ_removeClass(T.ui, _v_float_card_);\n            JQ_addClass(T.ui, _cover_);\n\n            // 为去掉工具栏背景的按钮添加浮动样式\n            JQ_addClass(T.ui.ch(_v_btn__o__btn_group_), _v_float_card_);\n            JQ_addClass(T.ui.ch(_v_btn__o__btn_group_), _float_);\n\n            // 大屏，回到封面及最开始位置进行二次调整\n            if (!V_ui_isSmallScreen()\n                && !V_ui_inHeader()) {\n                resultPadding = 10;\n                if (V_util_getScrollTop() <= 5) {\n                    resultTop = gWritePaddingRight;\n                    T.ui.c(_padding_left_, resultPadding)\n                        .c(_padding_right_, resultPadding)\n                        .c(_top_, resultTop);\n                }\n                else {\n                    resultTop = 0;\n                    T.ui.c(_padding_left_, resultPadding)\n                        .c(_padding_right_, resultPadding)\n                        .c(_top_, resultTop);\n                }\n            }\n            else {\n                // 小屏，在非封面位置进行二次调整\n                if (V_ui_isSmallScreen() && V_ui_inHeader()) {\n                    resultPadding = 0;\n                    resultTop = 50 + offsetY;\n                    T.ui.c(_padding_left_, resultPadding)\n                        .c(_padding_right_, resultPadding)\n                        .c(_top_, resultTop);\n                }\n                else {\n                    resultPadding = 10;\n                    // 小屏，在封面及最开始位置进行二次调整\n                    if (V_util_getScrollTop() <= 5) {\n                        resultTop = gWritePaddingRight;\n                        T.ui.c(_padding_left_, resultPadding)\n                            .c(_padding_right_, resultPadding)\n                            .c(_top_, resultTop);\n                    }\n                    // 小屏，在封面位置进行二次调整\n                    else {\n                        resultTop = 0;\n                        T.ui.c(_padding_left_, resultPadding)\n                            .c(_padding_right_, resultPadding)\n                            .c(_top_, resultTop);\n                    }\n                }\n            }\n        }\n        // 宽屏，且不在封面\n        else {\n            if (T.ui.oT() === 0)\n                return;\n\n            // 调整工具栏样式\n            JQ_removeClass(T.ui, _cover_);\n            JQ_addClass(T.ui, _v_float_card_);\n\n            resultPadding = 10;\n            resultTop = 10;\n            T.ui.c(_padding_left_, resultPadding)\n                .c(_padding_right_, resultPadding)\n                .c(_top_, resultTop);\n            // 为增加了工具栏按钮的背景去掉浮动样式\n            JQ_removeClass(T.ui.ch(_v_btn__o__btn_group_), _v_float_card_);\n            JQ_removeClass(T.ui.ch(_v_btn__o__btn_group_), _float_);\n        } // else\n        T.ui.show();\n\n        // 返回结果集（因为在启用动画时无法实时获得最终度量信息，需要以结果方式直接返回）\n        return {\n            t: resultTop,\n            l: JS_parseInt(T.ui.c(_left_)),\n            r: JS_parseInt(T.ui.c(_right_)),\n            p: resultPadding\n        };\n    }\n}\n\n// ==================== 颜色方案类 ==================== //\n\nlet ColorScheme_auto = gTrue, // 是否为 auto 模式\n    ColorScheme_systemScheme = _light_,\n    ColorScheme_scheme = _light_; // 当前颜色方案，auto/light/dark\n\n/**\n * 初始化\n */\nfunction ColorScheme_init() {\n    let scheme = V_data_read(_color_scheme_, gTrue);\n    if (scheme !== gNull && (scheme === _light_ || scheme === _dark_))\n        ColorScheme_auto = gFalse;\n\n    // 监听系统的 Color Scheme 变化\n    const mediaQuery = gWindow.matchMedia(\"(prefers-\" + _color_scheme_ + \":\" + _dark_ + \")\");\n    mediaQuery.addEventListener(\"change\", __syncScheme);\n\n    // 初始化\n    ColorScheme_systemScheme = mediaQuery.matches ? _dark_ : _light_;\n    ColorScheme_scheme = ColorScheme_systemScheme;\n\n    // 根据系统 Color Scheme 变化进行适配更新颜色方案\n    function __syncScheme(matcher) {\n        ColorScheme_adjustScheme(matcher.matches);\n    }\n}\n\n// 根据系统 Color Scheme 变化进行适配更新图标\nfunction ColorScheme_adjustScheme(dark) {\n    ColorScheme_systemScheme = dark ? _dark_ : _light_;\n    if (!ColorScheme_auto)\n        return;\n\n    if (dark) {\n        __setDarkIcon();\n        ColorScheme_scheme = _dark_;\n    }\n    else {\n        __setLightIcon();\n        ColorScheme_scheme = _light_;\n    }\n\n    ColorScheme_refresh();\n\n    // 在 Light Mode 时的文档图标\n    function __setLightIcon() {\n        if (LinkTool_checkHashMode)\n            return;\n        // 浏览器中显示的文档图标\n        V_ui_changeDocIcon(V_util_getVarVal(\"--thm-fav-logo-lg\"));\n    }\n\n    // 在 Dark Mode 时的文档图标\n    function __setDarkIcon() {\n        if (LinkTool_checkHashMode)\n            return;\n        // 浏览器中显示的文档图标\n        V_ui_changeDocIcon(V_util_getVarVal(\"--thm-fav-logo-dk\"));\n    }\n}\n\n/**\n * 根据指定的颜色方案对文档进行刷新\n * @param force 是否强制指定，如应用于根据调校参数指定\n */\nfunction ColorScheme_refresh(force) {\n    if (!force && ColorScheme_auto) {\n        V_data_remove(_color_scheme_, gTrue);\n        ColorScheme_scheme = ColorScheme_systemScheme;\n    }\n    else if (!force)\n        V_data_write(_color_scheme_, ColorScheme_scheme, gTrue);\n\n    // 批量修改颜色方案相关的 CSS 变量为指定的新值\n    let __alt = \"-a\",\n        __fade_bd = __fade_ + \"-bd\",\n        __cur = \"--cur-\",\n        // ---\n        acRed = __ac_ + \"rd\",\n        acOrange = __ac_ + \"og\",\n        acYellow = __ac_ + \"ye\",\n        acLime = __ac_ + \"lm\",\n        acGreen = __ac_ + \"gn\",\n        acMineral = __ac_ + \"mn\",\n        acOlives = __ac_ + \"ol\",\n        acWine = __ac_ + \"wn\",\n        acAqua = __ac_ + \"aq\",\n        acCyan = __ac_ + \"cy\",\n        acBlue = __ac_ + \"bu\",\n        acSea = __ac_ + \"se\",\n        acLavender = __ac_ + \"la\",\n        acVine = __ac_ + \"vn\",\n        acPurple = __ac_ + \"pu\",\n        acRose = __ac_ + \"ro\",\n        acPink = __ac_ + \"pk\",\n        acGold = __ac_ + \"gd\",\n        acBrown = __ac_ + \"bn\",\n        acGray = __ac_ + \"gy\",\n        acWhite = __ac_ + \"wt\",\n        acBlack = __ac_ + \"bk\",\n        acTheme1 = __ac_ + \"t1\",\n        acTheme2 = __ac_ + \"t2\",\n        // ---\n        __cm__ = \"--cm-\";\n\n    let __pn = \"--pn\",\n        __tbl = \"--tbl-\",\n        _variable = \"variable\",\n        _string = \"string\",\n        __kbd = \"--kbd\",\n        __kbd_bg = __kbd + \"-bg\",\n        __kbd_reflect = __kbd + \"-reflect\";\n    V_util_changeCssVarSet([\n        \"--v-\" + _invert_dark_,\n        \"--v-\" + _brightness_ + \"-\" + _dark_,\n        \"--v-\" + _selected_ + __color_,\n        \"--\" + _img_ + \"-bd-\" + _invert_,\n        __d_bc_,\n        \"--d-bi\",\n        \"-\" + __fade_ + \"-r\",\n        \"-\" + __fade_ + \"-g\",\n        \"-\" + __fade_ + \"-b\",\n        \"--d-fc\",\n        \"--\" + _fig_ + \"-solid-bg\",\n        _var_fig_grid__ + \"l\",\n        _var_fig_grid__ + \"b\",\n        _var_fig_grid__ + \"l-\" + _invert_,\n        _var_fig_grid__ + \"b-\" + _invert_,\n        __pn + \"-c\",\n        __pn + \"-c-a\",\n        __pn + __fade_ + \"-r\",\n        __pn + __fade_ + \"-g\",\n        __pn + __fade_ + \"-b\",\n        \"--\" + _blockquote_ + \"-bg\",\n        \"--a-\" + _color_,\n        \"--a-\" + _hover_ + __color_,\n        \"--\" + _mark_ + \"-bg\",\n        __tbl + \"row-g-alpha\",\n        \"--toc-h-num-\" + _color_,\n        \"--h-f\",\n        \"--h-box\" + __shadow_,\n        \"--h-bg-\" + _start_,\n        \"--h-bg-end\",\n        \"--code-bg\",\n        \"--std-code\" + __shadow_,\n        \"--rb-code\" + __shadow_,\n        \"--v-fl-sd\",\n        \"--v-fl-i-sd\",\n        \"--c-blk-bg\",\n        __kbd_bg,\n        __kbd_reflect,\n        __kbd + __shadow_,\n        __kbd_bg + \"-i\",\n        __kbd_reflect + \"-i\",\n        __kbd + __shadow_ + \"-i\",\n        \"--\" + _doc_ + __shadow_,\n        __cur + _pointer_,\n        __cur + _copy_ + \"-\" + _normal_,\n        __cur + _copy_ + \"-as-md\",\n        __cur + _text_,\n        __cur + \"laser\",\n        __cur + \"md\",\n        __cur + \"doclib\",\n        __cur + _http_,\n        __cur + \"https\",\n        __cur + \"email\",\n        __cur + \"docment\",\n        __cur + \"archive\",\n        __cur + \"risk\",\n        __cur + _inner_,\n        acRed,\n        acRed + __alt,\n        acRed + __fade_,\n        acRed + __fade_bd,\n        acRed + __title_,\n        acOrange,\n        acOrange + __alt,\n        acOrange + __fade_,\n        acOrange + __fade_bd,\n        acOrange + __title_,\n        acYellow,\n        acYellow + __alt,\n        acYellow + __fade_,\n        acYellow + __fade_bd,\n        acYellow + __title_,\n        acLime,\n        acLime + __alt,\n        acLime + __fade_,\n        acLime + __fade_bd,\n        acLime + __title_,\n        acGreen,\n        acGreen + __alt,\n        acGreen + __fade_,\n        acGreen + __fade_bd,\n        acGreen + __title_,\n        acMineral,\n        acMineral + __alt,\n        acMineral + __fade_,\n        acMineral + __fade_bd,\n        acMineral + __title_,\n        acOlives,\n        acOlives + __alt,\n        acOlives + __fade_,\n        acOlives + __fade_bd,\n        acOlives + __title_,\n        acWine,\n        acWine + __alt,\n        acWine + __fade_,\n        acWine + __fade_bd,\n        acWine + __title_,\n        acAqua,\n        acAqua + __alt,\n        acAqua + __fade_,\n        acAqua + __fade_bd,\n        acAqua + __title_,\n        acCyan,\n        acCyan + __alt,\n        acCyan + __fade_,\n        acCyan + __fade_bd,\n        acCyan + __title_,\n        acBlue,\n        acBlue + __alt,\n        acBlue + __fade_,\n        acBlue + __fade_bd,\n        acBlue + __title_,\n        acSea,\n        acSea + __alt,\n        acSea + __fade_,\n        acSea + __fade_bd,\n        acSea + __title_,\n        acLavender,\n        acLavender + __alt,\n        acLavender + __fade_,\n        acLavender + __fade_bd,\n        acLavender + __title_,\n        acVine,\n        acVine + __alt,\n        acVine + __fade_,\n        acVine + __fade_bd,\n        acVine + __title_,\n        acPurple,\n        acPurple + __alt,\n        acPurple + __fade_,\n        acPurple + __fade_bd,\n        acPurple + __title_,\n        acRose,\n        acRose + __alt,\n        acRose + __fade_,\n        acRose + __fade_bd,\n        acRose + __title_,\n        acPink,\n        acPink + __alt,\n        acPink + __fade_,\n        acPink + __fade_bd,\n        acPink + __title_,\n        acGold,\n        acGold + __alt,\n        acGold + __fade_,\n        acGold + __fade_bd,\n        acGold + __title_,\n        acBrown,\n        acBrown + __alt,\n        acBrown + __fade_,\n        acBrown + __fade_bd,\n        acBrown + __title_,\n        acGray,\n        acGray + __alt,\n        acGray + __fade_,\n        acGray + __fade_bd,\n        acGray + __title_,\n        acWhite,\n        acWhite + __alt,\n        acWhite + __fade_,\n        acWhite + __fade_bd,\n        acWhite + __title_,\n        acBlack,\n        acBlack + __alt,\n        acBlack + __fade_,\n        acBlack + __fade_bd,\n        acBlack + __title_,\n        acTheme1,\n        acTheme1 + __alt,\n        acTheme1 + __fade_,\n        acTheme1 + __fade_bd,\n        acTheme1 + __title_,\n        acTheme2,\n        acTheme2 + __alt,\n        acTheme2 + __fade_,\n        acTheme2 + __fade_bd,\n        acTheme2 + __title_,\n        __cm__ + _keyword_,\n        __cm__ + _variable,\n        __cm__ + _variable + \"-2\",\n        __cm__ + _variable + \"-3\",\n        __cm__ + _tag_,\n        __cm__ + \"attribute\",\n        __cm__ + _CodeMirror_ + \"-\" + _cursor_,\n        __cm__ + _string,\n        __cm__ + _string + \"-2\",\n        __cm__ + \"comment\",\n        __cm__ + _header_,\n        __cm__ + _quote_,\n        __cm__ + \"hr\",\n        __cm__ + \"link\",\n        __cm__ + \"negative\",\n        __cm__ + \"positive\",\n        __cm__ + _mata_,\n        __cm__ + \"bulidin\",\n        __cm__ + \"bracket\",\n        __cm__ + \"atom\",\n        __cm__ + \"number\"\n    ], (ColorScheme_scheme === _dark_) ? \"dk\" : \"lg\");\n\n    // 针对 Dark Mode 进行适配处理\n    ExtFigure_adjustColorScheme(gTrue);\n}\n\n// ==================== 字体风格选项、选择器类 ==================== //\n\nlet webfontHostAlt = _openfontsPages_CloudFlare_ + \"/\";\n// let webfontHostAlt = _vlookOriginGitHub_ + \"/openfonts/\";\n// let webfontHostAlt = _httpsPrefix_ + \"madmaxchow.gitee.io/openfonts/\";\n// let webfontHostAlt = _httpsPrefix_ + \"cdn.jsdelivr.net/gh/MadMaxChow/openfonts@master/\";\n\n/**\n * 构造函数\n * @param ui 选项的 UI\n * @param fonts 字体集数组\n */\nfunction FontStyleOption(ui, fonts) {\n    let T = this;\n    T.ui = ui;\n    T.fonts = fonts;\n    T.fontCount = V_length(T.fonts);\n}\n\n/**\n * 构造函数\n * @param mask 遮罩对象\n * @param styleName 默认的字体风格\n */\nfunction FontStyle(mask, styleName) {\n    let T = this;\n    T.styleByTheme = styleName; // 主题配套字体风格\n    T.style = styleName; // 当前字体风格\n    T.ui = V_byClass(_v_font_style_); // 字体风格切换选择界面\n\n    T.statusUI = gUndefined;\n    T.statusTimer = gNull;\n\n    T.restore = V_byClass(_v_font_style_restore_);\n\n    // 字体风格选项：系统默认\n    T.localStyle = new FontStyleOption(V_byClass(_v_font_style_opt_local_), []);\n    // 字体风格选项：Book 书香里\n    T.bookStyle = new FontStyleOption(V_byClass(_v_font_style_opt_book_), []);\n    // 字体风格选项：Gov 公文风\n    T.govStyle = new FontStyleOption(V_byClass(_v_font_style_opt_gov_), []);\n    // 字体风格选项：Sans 小清新\n    T.sansStyle = new FontStyleOption(V_byClass(_v_font_style_opt_sans_), [\n            _VLOOK_Number_ + _normal_normal_, _VLOOK_Number_ + _normal_bold_, //_VLOOK_Number_ + _normal_italic_,\n            _VLOOK_Digital_Sans_ + _normal_normal_, //_VLOOK_Digital_Sans_ + _normal_500_,\n            _VLOOK_Digital_Sans_ + _normal_bold_, //_VLOOK_Digital_Sans_ + _normal_900_,\n            _VLOOK_Sans_Mono_ + _normal_normal_, //_VLOOK_Sans_Mono_ + _normal_500_,\n            _VLOOK_Sans_Mono_ + _normal_bold_, //_VLOOK_Sans_Mono_ + _normal_900_,\n            _VLOOK_Sans_ + _normal_normal_, _VLOOK_Sans_ + _normal_bold_//, _VLOOK_Sans_ + _normal_900_\n            ]);\n    // 字体风格选项：Serif 文艺范\n    T.serifStyle = new FontStyleOption(V_byClass(_v_font_style_opt_serif_), [\n            _VLOOK_Number_ + _normal_normal_, _VLOOK_Number_ + _normal_bold_, //_VLOOK_Number_ + _normal_italic_,\n            _VLOOK_Digital_Serif_ + _normal_normal_, _VLOOK_Digital_Serif_ + _normal_bold_, _VLOOK_Digital_Serif_ + _normal_italic_, _VLOOK_Digital_Serif_ + _italic_bold_,\n            _VLOOK_Serif_Mono_ + _normal_normal_, _VLOOK_Serif_Mono_ + _normal_bold_, _VLOOK_Serif_Mono_ + _normal_italic_, _VLOOK_Serif_Mono_ + _italic_bold_,\n            _VLOOK_Serif_ + _normal_500_, _VLOOK_Serif_ + _normal_900_,\n            _VLOOK_Sans_Mono_ + _normal_normal_,//_VLOOK_Sans_Mono_ + _normal_500_,\n            _VLOOK_Sans_Mono_ + _normal_bold_, //_VLOOK_Sans_Mono_ + _normal_900_,\n            _VLOOK_Sans_ + _normal_normal_, _VLOOK_Sans_ + _normal_bold_//, _VLOOK_Sans_ + _normal_900_\n        ]);\n    // 字体风格选项：活力派\n    T.albbStyle = new FontStyleOption(V_byClass(_v_font_style_opt_albb_), [\n            _VLOOK_Number_ + _normal_normal_, _VLOOK_Number_ + _normal_bold_, //_VLOOK_Number_ + _normal_italic_,\n            _VLOOK_Sans_Mono_ + _normal_normal_, //_VLOOK_Sans_Mono_ + _normal_500_,\n            _VLOOK_Albb_ + _normal_normal_, _VLOOK_Albb_ + _normal_bold_,\n            _VLOOK_Albb_DT_Sans_ + _normal_normal_,\n            _VLOOK_Albb_DT_JinBu_ + _normal_normal_\n        ]);\n    // 遮罩\n    T.mask = mask;\n    T.mask.bindPartner(this, T.ui);\n\n    V_ui_addAnimate(T.ui);\n\n    // 恢复为主题配套的字体风格\n    T.restore.uC().ck(() => {\n        V_data_remove(_font_style_, gTrue);\n        T.apply(T.styleByTheme, gTrue);\n        T.hide();\n    });\n\n    // 绑定各字体风格选项事件\n    T.localStyle.ui.uC().ck(() => {\n        T.apply(_local_);\n        T.hide();\n    });\n    T.bookStyle.ui.uC().ck(() => {\n        T.apply(_book_);\n        T.hide();\n    });\n    T.govStyle.ui.uC().ck(() => {\n        T.apply(_gov_);\n        T.hide();\n    });\n    T.sansStyle.ui.uC().ck(() => {\n        T.apply(_sans_);\n        T.initWebFont();\n        T.hide();\n    });\n    T.serifStyle.ui.uC().ck(() => {\n        T.apply(_serif_);\n        T.initWebFont();\n        T.hide();\n    });\n    T.albbStyle.ui.uC().ck(() => {\n        T.apply(_albb_);\n        T.initWebFont();\n        T.hide();\n    });\n\n    /**\n     * 初始化\n     * @param style 可选。强制指定的字体风格\n     */\n    T.init = function (style) {\n        // 有指定强制字体风格，同时指定的字体风格合法且与文档配套的不一致，则进行处理\n        if (style !== gUndefined\n            && style.m(/^(local|book|gov|sans|serif|albb)$/i) !== gNull\n            && style !== T.style) {\n                T.style = style;\n                T.apply(T.style);\n        }\n\n        LOG(\"_____ FONT STYLE (\" + T.style + \") _____ \");\n\n        T.syncInfo();\n\n        T.initWebFont();\n\n        // 对于本地字体风格的状态，直接为就绪\n        $(\":is(.\" + _v_font_info__ + _local_\n            + \",.\" + _v_font_info__ + _book_\n            + \",.\" + _v_font_info__ + _gov_ + \") > \" + _span_).t(\"✅ \" + V_lang_text38());\n    }\n\n    /**\n     * 同频显示当前选择字体风格的加载信息\n     */\n    T.syncInfo = function () {\n        // 使用自定义字体风格时的处理\n        T.statusUI = V_byClass(_v_font_style_current_);\n\n        JQ_removeClass(T.statusUI, _done_);\n\n        // ----------\n        // 页面模式 max\n        if (V_pageMode === _max_) {\n            // 读取高度信息，强制浏览器重新计算元素的样式，后面重新添加 done 样式时能确保动画重新触发\n            T.statusUI.h();\n            T.statusUI.c(_display_, _flex_);\n\n            __syncLoadingInfo();\n        }\n\n        // 同步显示当前选择字体风格的加载信息\n        function __syncLoadingInfo() {\n            let currentFontStyle = V_byClass(_v_font_info__ + T.style);\n            T.statusUI.hm(V_lang_text41() + _nbsp_ + currentFontStyle.hm());\n            // 已完成加载\n            if (currentFontStyle.a(_class_).i(_done_) > -1) {\n                JQ_addClass(T.statusUI, _done_);\n                T.statusTimer = V_util_clearTimer(T.statusTimer);\n            }\n            else {\n                T.statusTimer = setTimeout(() => {\n                    __syncLoadingInfo();\n                }, 2000);\n            }\n        }\n    }\n\n    /**\n     * 初始化 WebFont\n     */\n    T.initWebFont = function () {\n        let fontWeight500 = 500,\n            fontWeight900 = 900,\n            _Regular = \"-Regular\",\n            _Medium = \"-Medium\",\n            _Bold = \"-Bold\",\n            _Black = \"-Black\",\n            _Italic = \"-Italic\";\n        let unicodeRange = \"U+0021-002F,\" // !\"#$%&'()*+,-./（不含空格）\n            + \"U+0030-0039,\" // 0123456789\n            + \"U+003A-0040,\" // :;<=>?@\n            + \"U+005B-0060,\" // [\\]^_`\n            + \"U+007B-007E\"; // {|}~\n        let timeOutMsg = \"❌ \" + V_lang_text(39, [\"超时\", \"Timeout\"]);\n\n        if (T.style === _local_) {\n            // 动态加载字体 VLOOK Number\n            __loadNumberFont();\n        }\n        else if (T.style === _sans_) {\n            // 动态加载字体 VLOOK Number\n            __loadNumberFont();\n            // 动态加载字体 VLOOK Digital Sans\n            __LoadDigitalSansFont();\n            // 动态加载字体 VLOOK Sans Mono\n            __loadSansMonoFont();\n            // 动态加载字体 VLOOK Sans\n            __loadSansCjkFont();\n\n            // 对 Sans 字体风格的加载超时检测\n            setTimeout(() => {\n                if (V_length(T.sansStyle.fonts) > 0)\n                    V_byClass(_v_font_info__ + \"sans > \" + _span_).t(timeOutMsg);\n            }, 1000 * 60 * 20); // 20 分钟后进行超时检测\n        }\n        else if (T.style === _serif_) {\n            // 动态加载字体 VLOOK Number\n            __loadNumberFont();\n            // 动态加载字体 VLOOK Digital Serif\n            __LoadDigitalSerifFont();\n            // 动态加载字体 VLOOK Serif Mono\n            __loadSerifMonoFont();\n            // 动态加载字体 VLOOK Serif\n            __loadSerifCjkFont();\n\n            // 动态加载字体 VLOOK Sans Mono\n            __loadSansMonoFont();\n            // 动态加载字体 VLOOK Sans\n            __loadSansCjkFont();\n\n            // 对 Serif 字体风格的加载超时检测\n            setTimeout(() => {\n                if (V_length(T.serifStyle.fonts) > 0)\n                    V_byClass(_v_font_info__ + \"serif > \" + _span_).t(timeOutMsg);\n            }, 600000); // 10 分钟后进行超时检测\n        }\n        else if (T.style === _albb_) {\n            // 动态加载字体 VLOOK Number\n            __loadNumberFont();\n\n            // 动态加载字体 VLOOK Sans Mono\n            __loadSansMonoFont();\n\n            // 动态加载字体 VLOOK Albb\n            __loadAlbbFont()\n            // 动态加载字体 VLOOK Albb DT-Sans\n            __loadAlbbDtSansFont();\n            // 动态加载字体 VLOOK Albb DT-JinBu\n            __loadAlbbDtJinBuFont();\n\n            // 对 Albb 字体风格的加载超时检测\n            setTimeout(() => {\n                if (V_length(T.albbStyle.fonts) > 0)\n                    V_byClass(_v_font_info__ + \"albb > \" + _span_).t(timeOutMsg);\n            }, 600000); // 10 分钟后进行超时检测\n        }\n\n        // 动态加载字体 VLOOK Number\n        function __loadNumberFont() {\n            let fontName = _VLOOK_Number_,\n                srcName = \"Altinn-DIN\";\n            T.loadFont(fontName, _normal_, _normal_, srcName, srcName + _Regular);\n            T.loadFont(fontName, _normal_, _bold_, srcName, srcName + _Bold);\n        }\n\n        // 动态加载字体 VLOOK Digital Sans\n        function __LoadDigitalSansFont() {\n            let fontName = _VLOOK_Digital_Sans_,\n                srcName = _NotoSansMono_;\n            T.loadFont(fontName, _normal_, _normal_, srcName, srcName + _Regular, unicodeRange);\n            T.loadFont(fontName, _normal_, _bold_, srcName, srcName + _Bold, unicodeRange);\n        }\n\n        // 动态加载字体 VLOOK Digital Serif\n        function __LoadDigitalSerifFont() {\n            let fontName = _VLOOK_Digital_Serif_,\n                srcName = _LuxiMono_;\n            let luxiMonoSubName = srcName + _Italic;\n            T.loadFont(fontName, _normal_, _normal_, srcName, srcName + _Regular, unicodeRange);\n            T.loadFont(fontName, _normal_, _bold_, srcName, srcName + _Bold, unicodeRange);\n            T.loadFont(fontName, _italic_, _normal_, srcName, luxiMonoSubName + _Regular, unicodeRange);\n            T.loadFont(fontName, _italic_, _bold_, srcName, luxiMonoSubName + _Bold, unicodeRange);\n        }\n\n        // 动态加载字体 VLOOK Sans Mono\n        function __loadSansMonoFont() {\n            let fontName = _VLOOK_Sans_Mono_,\n                srcName = _NotoSansMono_;\n            T.loadFont(fontName, _normal_, _normal_, srcName, srcName + _Regular);\n            T.loadFont(fontName, _normal_, _bold_, srcName, srcName + _Bold);\n        }\n\n        // 动态加载字体 VLOOK Serif Mono\n        function __loadSerifMonoFont() {\n            let fontName = _VLOOK_Serif_Mono_,\n                srcName = _LuxiMono_;\n            let luxiMonoSubName = srcName + _Italic;\n            T.loadFont(fontName, _normal_, _normal_, srcName, srcName + _Regular);\n            T.loadFont(fontName, _normal_, _bold_, srcName, srcName + _Bold);\n            T.loadFont(fontName, _italic_, _normal_, srcName, luxiMonoSubName + _Regular);\n            T.loadFont(fontName, _italic_, _bold_, srcName, luxiMonoSubName + _Bold);\n        }\n\n        // 动态加载字体 VLOOK Sans\n        function __loadSansCjkFont() {\n            let fontName = _VLOOK_Sans_,\n                srcName = \"NotoSansCJKsc\";\n            T.loadFont(fontName, _normal_, _normal_, srcName, srcName + _Regular);\n            T.loadFont(fontName, _normal_, _bold_, srcName, srcName + _Bold);\n        }\n\n        // 动态加载字体 VLOOK Serif\n        function __loadSerifCjkFont() {\n            let fontName = _VLOOK_Serif_,\n                srcName = \"NotoSerifCJKsc\";\n            T.loadFont(fontName, _normal_, fontWeight500, srcName, srcName + _Medium);\n            T.loadFont(fontName, _normal_, fontWeight900, srcName, srcName + _Black);\n        }\n\n        // 动态加载字体 VLOOK Albb\n        function __loadAlbbFont() {\n            let fontName = _VLOOK_Albb_,\n                srcName = \"AlibabaPuHuiTi\";\n            T.loadFont(fontName, _normal_, _normal_, srcName, srcName + _Regular);\n            T.loadFont(fontName, _normal_, _bold_, srcName, srcName + _Bold);\n        }\n\n        // 动态加载字体 VLOOK Albb DT-Sans\n        function __loadAlbbDtSansFont() {\n            let //fontName = _VLOOK_Albb_DT_Sans_,\n                srcName = \"DingTalk\";\n            T.loadFont(_VLOOK_Albb_DT_Sans_, _normal_, _normal_, srcName, srcName + \"-Sans\");\n        }\n\n        // 动态加载字体 VLOOK Albb DT-JinBu\n        function __loadAlbbDtJinBuFont() {\n            let //fontName = _VLOOK_Albb_DT_JinBu_,\n                srcName = \"DingTalk\";\n            T.loadFont(_VLOOK_Albb_DT_JinBu_, _normal_, _normal_, srcName, srcName + \"-JinBuTi\");\n        }\n    }\n\n    /**\n     * 绑定选择字体风格操作按钮\n     * @param button 绑定的工具栏按钮\n     */\n    T.bindButton = function (button) {\n        T.button = button; // 绑定的工具栏按钮\n    }\n\n    /**\n     * 加载自定义字体\n     * @param fontFamily 自定义字体名称\n     * @param fontStyle 字体样式\n     * @param fontWeight 字重\n     * @param folderName 字体目录名称\n     * @param srcFontSubName 字体源子名称\n     * @param unicodeRange 指定应用的字符范围\n     */\n    T.loadFont = function (fontFamily, fontStyle, fontWeight, folderName, srcFontSubName, unicodeRange) {\n        if (gDocument.fonts && !T.isExist(fontFamily, fontStyle, fontWeight)) {\n            let woffURL = \"url('\" + webfontHostAlt + folderName + \"-\" + _woff2_ + \"/\" + srcFontSubName + \".\" + _woff2_ + \"') format('\" + _woff2_ + \"')\",\n                fontFace;\n            // 有指定字符范围\n            if (unicodeRange === gUndefined) {\n                fontFace = new FontFace(fontFamily,\n                    ((_woff2_ !== gUndefined) ? woffURL : _), {\n                        style: fontStyle,\n                        weight: fontWeight,\n                        display: \"swap\"\n                    });\n            }\n            // 无指定字符范围\n            else {\n                fontFace = new FontFace(fontFamily,\n                    ((_woff2_ !== gUndefined) ? woffURL : _), {\n                        style: fontStyle,\n                        weight: fontWeight,\n                        display: \"swap\",\n                        unicodeRange: \"U+0030-0039\"\n                    });\n            }\n\n            // 指定字体加载完成后回调函数\n            fontFace.load().then((loadedFontFace) => {\n                gDocument.fonts.add(loadedFontFace);\n\n                let fontID = fontFamily + \"/\" + fontStyle + \"/\" + fontWeight;\n                LOG(\"↓↓↓ FONT LOADED ↓↓↓\");\n                LOG(fontID);\n\n                // --------------------\n                // 更新「小清新」风格字体包下载进度\n                __updateDownloadProgress(fontID, _sans_, T.sansStyle);\n\n                // --------------------\n                // 更新「文艺范」风格字体包下载进度\n                __updateDownloadProgress(fontID, _serif_, T.serifStyle);\n\n                // --------------------\n                // 更新「活力派」风格字体包下载进度\n                __updateDownloadProgress(fontID, _albb_, T.albbStyle);\n            });\n\n            // 更新字体下载进度\n            function __updateDownloadProgress(fontID, style, fontSet) {\n                let readyMsg = \"✅ \" + V_lang_text38(),\n                    loadingMsg = V_lang_text(40, [\"加载中\", _Loading_]);\n\n                // 剔除已下载的字体字形\n                for (let i = 0; i < V_length(fontSet.fonts); i++) {\n                    if (fontSet.fonts[i] === fontID) {\n                        fontSet.fonts.splice(i, 1);\n                        break;\n                    }\n                }\n\n                // 计算进度\n                let loadedCount = fontSet.fontCount - V_length(fontSet.fonts),\n                    status = V_byClass(_v_font_info__ + style + \" > \" + _span_);\n\n                // 未加载完成\n                if (loadedCount < fontSet.fontCount)\n                    status.t(loadingMsg + \" (\" + JS_mathRound(loadedCount / fontSet.fontCount * 100) + \"%)\");\n                // 已加载完成\n                else {\n                    status.t(readyMsg);\n                    JQ_addClass(status.p(), _done_);\n                }\n            }\n        }\n    }\n\n    /**\n     * 检测指定自定义字体是否已加载\n     * @param fontFamily 自定义字体名称\n     * @param fontStyle 字体样式\n     * @param fontWeight 字重\n     */\n    T.isExist = function (fontFamily, fontStyle, fontWeight) {\n        let values = gDocument.fonts.values(),\n            isHave = gFalse,\n            item = values.next();\n\n        while (!item.done && !isHave) {\n            let fontFace = item.value;\n            if (fontFace.family === fontFamily\n                && fontFace.style === fontStyle\n                && fontFace.weight === fontWeight) {\n                    isHave = gTrue;\n                    LOG(\"///// FONT IS EXIST /////\");\n                    LOG(fontFamily + \"/\" + fontStyle + \"/\" + fontWeight);\n            }\n            item = values.next();\n        }\n        return isHave;\n    }\n\n    /**\n     * 显示字体风格选择器\n     */\n    T.show = function () {\n        // 如果有保存的配置，则显示 恢复 按钮\n        T.restore.c(_display_, V_data_read(_font_style_, gTrue) !== gNull ? _block_ : _none_);\n\n        T.mask.show();\n        V_ui_moveToCenter(T.ui);\n        T.ui.show();\n\n        LOG(\"'\" + T.style + \"'\");\n\n        JQ_removeClass(V_byClass(_v_font_style_opt_ + \">img\"), _selected_);\n        JQ_addClass(V_byClass(_v_font_style_opt_ + \"-\"  + T.style), _selected_);\n    }\n\n    /**\n     * 显示/隐藏字体风格选择器\n     */\n    T.tg = function () {\n        if (V_ui_isShowed(T.ui)) {\n            T.hide();\n        }\n        else {\n            T.show();\n        }\n    }\n\n    /**\n     * 隐藏字体风格选择器\n     */\n    T.hide = function () {\n        T.ui.hide();\n        T.mask.hide();\n    }\n\n    /**\n     * 应用指定字体风格\n     * @param styleName 指定应用的字体风格（local/book/gov/sans/serif/albb），不指定则以为当前字体风格\n     * @param restore 是否为恢复模式\n     */\n    T.apply = function (styleName, restore) {\n        // 修正无指定样式的情况\n        if (styleName === gUndefined)\n            styleName = T.style;\n\n        T.style = styleName;\n        if (restore !== gTrue)\n            V_data_write(_font_style_, styleName, gTrue);\n\n        // 涉及的 CSS 变量名称列表\n        let varFFm = ___v_f__ + \"fm\",\n            varFw = ___v_f__ + \"w\";\n        const varList = [\n            varFFm + __title_,\n            varFFm + \"-subtitle\",\n            varFFm + \"-h\",\n            varFFm + __text_,\n            varFFm + \"-bd\",\n            varFFm + \"-key\",\n            varFFm + __num_,\n            varFFm + \"-\" + _tag_,\n            varFFm + \"-\" + _code_,\n            varFw + \"-bd\",\n            varFw + __title_,\n            varFw + __text_\n        ];\n        // 生成目标字体风格变量值列表\n        let fontVarList = [];\n        for (let i = 0, len = V_length(varList); i < len; i++) {\n            fontVarList.push(V_util_getVarVal(varList[i] + \"-\" + T.style));\n        }\n        // 遍历所有变量实现字体风格的切换\n        for (let i = 0, len = V_length(varList); i < len; i++) {\n            V_util_setVarVal(varList[i], fontVarList[i]);\n        }\n\n        T.syncInfo();\n    }\n\n    /**\n     * 处理热键操作\n     * @param key 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (key, combKeys, event) {\n        if (V_ui_isHidden(T.ui))\n            return;\n\n        let handled = gFalse;\n        if (V_length(combKeys) === 0) {\n            switch (key) {\n                case _Escape_:\n                    if (V_ui_isShowed(T.ui)) {\n                        T.hide();\n                        handled = gTrue;\n                    }\n                    break;\n            }\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            V_util_preventDefault(event);\n    }\n}\n\n// ==================== 脚注类 ==================== //\n\n/**\n * 构造函数\n * @param mask 遮罩对象\n */\nfunction Footnote(mask) {\n    let T = this;\n    T.ui = V_byClass(_v_fontnote_pn_); // 脚注主界面\n    T.content = V_byClass(_v_fontnote_pn_content_); // 脚注内容区\n\n    T.buttonSeeAll = V_byClass(_v_fontnote_pn_ + __footer_); // 查看所有脚注按钮\n    T.buttonSeeAll.uC().ck(() => {\n        T.hide();\n        // 跳转至所有脚注区域\n        WINDOW_setHref(\"#\" + _vk_footer_area_);\n    });\n\n    // 遮罩\n    T.mask = mask;\n    T.mask.bindPartner(this, T.ui);\n\n    /**\n     * 显示脚注弹层\n     */\n    T.show = function () {\n        // 显示关联的遮罩\n        T.mask.show();\n        T.ui.show();\n    }\n\n    /**\n     * 隐藏脚注弹层\n     */\n    T.hide = function () {\n        T.ui.hide();\n        T.mask.hide();\n    }\n\n    /**\n     * 处理热键操作\n     * @param key 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (key, combKeys, event) {\n        if (V_ui_isHidden(T.ui))\n            return;\n\n        let handled = gFalse;\n        if (V_length(combKeys) === 0) {\n            switch (key) {\n                case _Escape_:\n                    if (V_ui_isShowed(T.ui)) {\n                        T.hide();\n                        handled = gTrue;\n                    }\n                    break;\n            }\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            V_util_preventDefault(event);\n    }\n}\n\n/**\n * 初始化脚注\n */\nfunction Footnote_init() {\n    // 将 Typora 的脚注调整到封底前，VLOOK 规范的文档中最后一个 <h6> 是封底\n    let footnotesArea = V_byClass(_footnotes_area_);\n    if (V_length(footnotesArea) === 0)\n        return;\n\n    // 有脚注时，在文库中添加直达「所有脚注」的入口\n    let vkFooterArea = V_byID(_vk_footer_area_);\n    if (V_length(vkFooterArea) > 0 && iNavCenter.docLib !== gUndefined)\n        iNavCenter.docLib.addHashItem(V_ui_svgIcon(_icoDocLibRef_, 20, 18, _alpha_),\n            V_lang_text22(), _vk_footer_area_);\n\n    // 有封面 模式\n    if (VOM_backcover() !== gUndefined)\n        footnotesArea.insertBefore(VOM_backcover());\n    // 无封面 模式\n    else\n        VOM_doc().ap(footnotesArea);\n\n    // 将 VLOOK 生成的脚注区锚点调整到生成 HTML 后的实际位置\n    vkFooterArea.insertBefore(footnotesArea);\n\n    // 移除默认的跳转属性\n    let a = $(\"a\" + V_attrCSS(_name_, _ref_footnote_, \"^\")\n        + \",a\" + V_attrCSS(_id_, _ref_footnote_, \"^\"));\n    JQ_removeAttr(a, _href_);\n    // 将脚注角标的事件替换为指定的处理事件\n    a.uC().ck((event) => {\n        // 获取脚注【返回】链接对应的脚注原文信息\n        let _t = $(event.currentTarget),\n            nameValue = _t.a(_name_),\n            nameValue2 = \"df\" + _ref_footnote_,\n            target = $(\"a\" + V_attrCSS(_name_, \"df\" + nameValue)\n                + \",a\" + V_attrCSS(_id_, \"df\" + nameValue)).p().clone();\n\n        // 更新脚注弹层内容区\n        iFootnote.content.hm(target);\n        // 移除默认的返回链接\n        target.f(\"a\" + V_attrCSS(_name_, nameValue2, \"^\")\n            + \",a\" + V_attrCSS(_id_, nameValue2, \"^\")).rm();\n\n        // 显示脚注弹层\n        iFootnote.show();\n    });\n}\n\n// ==================== 带格式的复制处理类 ==================== //\n\n// let Copyer_rich_ui_start = gUndefined,\n//     Copyer_rich_ui_end = gUndefined;\n\n// function Copyer_init() {\n//     let ui = V_ui_div(\"copy-rich-start\", _, _)\n//         + V_ui_div(\"copy-rich-end\", _, _);\n\n//     V_byClass(_footnotes_area_).bf(ui);\n//     Copyer_rich_ui_start = V_byID(\"copy-rich-start\");\n//     Copyer_rich_ui_end = V_byID(\"copy-rich-end\");\n// }\n\n// /**\n//  * 处理复制操作\n//  * @param event 事件对象\n//  */\n// function Copyer_actionForRich(event) {\n//     // 针对选中的内容进行处理\n//     const selection = window.getSelection();\n//     if (selection.rangeCount > 0 && Copyer_rich_ui_start !== gUndefined) {\n//         let range = selection.getRangeAt(0),\n//             selectedContent = range.cloneContents();\n\n//         // 将临时添加到 #write 内以正确匹配样式后再进行处理\n//         Copyer_rich_ui_start.af($(selectedContent));\n\n//         // 递归处理子元素\n//         let childSet = Copyer_rich_ui_start.nextUntil('#copy-rich-end'),\n//             htmlContent = _,\n//             textContent = _;\n//         for (let child of childSet) {\n//             __convertStylesToInline(child);\n//             htmlContent += child.outerHTML;\n//             textContent += child.textContent;\n//         }\n\n//         // 将完成内联样式处理的内容写入到 clipboard\n//         event.clipboardData.setData(_text_ + \"/\" + _html_, htmlContent);\n//         event.clipboardData.setData(_text_ + \"/plain\", textContent);\n\n//         // 延迟移除临时复制标记内的内容，确保粘贴前内容完整\n//         setTimeout(() => {\n//             let removeStart = gFalse;\n//             Copyer_rich_ui_start.p().contents().each(function () {\n//                 // 如果当前节点是复制开始标记，开始删除\n//                 if (this === Copyer_rich_ui_start[0])\n//                     removeStart = gTrue;\n//                 // 如果当前节点在复制开始与结束标记之间，且是文本或元素节点，则删除\n//                 else if (removeStart && this !== Copyer_rich_ui_end[0]) {\n//                     if (this.nodeType === Node.TEXT_NODE || this.nodeType === Node.ELEMENT_NODE)\n//                         $(this).rm();\n//                 }\n//                 // 如果当前节点是复制结束标记，停止删除\n//                 else if (this === Copyer_rich_ui_end[0])\n//                     removeStart = gFalse;\n//             });\n\n//             Copyer_processing = gFalse;\n//         }, 1000);\n//     }\n\n//     // 转换内联样式\n//     function __convertStylesToInline(element) {\n//         let computedStyles = window.getComputedStyle(element),\n//             inlineStyle = _,\n//             propertyList = [\n//                 // 字体相关\n//                 _font_family_,\n//                 _font_size_,\n//                 _font_weight_,\n//                 _font_style_,\n//                 _line_height_,\n//                 _text_transform_,\n//                 _letter_spacing_,\n//                 // 颜色、背景\n//                 _color_,\n//                 _background_color_,\n//                 _background_image_,\n//                 _background_clip_,\n//                 // 阴影\n//                 _box_shadow_,\n//                 _text_shadow_,\n//                 // 边框\n//                 _border_,\n//                 _border_left_,\n//                 _border_right_,\n//                 _border_top_,\n//                 _border_bottom_,\n//                 _border_radius_,\n//                 // 对齐\n//                 _text_align_,\n//                 _justify_content_,\n//                 _align_items_,\n//                 _vertical_align_,\n//                 // 大小、布局\n//                 _padding_,\n//                 _margin_,\n//                 _min_width_,\n//                 _max_width_,\n//                 _word_break_,\n//                 _white_space_,\n//                 _display_,\n//                 _position_\n//             ];\n\n//         for (let i = 0; i < V_length(propertyList); i++)\n//             inlineStyle += __genInlineStyle(computedStyles, propertyList[i]);\n\n//         // 处理伪元素\n//         // const pseudoBefore = window.getComputedStyle(element, '::before');\n//         // const pseudoAfter = window.getComputedStyle(element, '::after');\n\n//         // if (pseudoBefore.content !== _none_) {\n//         //     inlineStyle += `::before { content: ${pseudoBefore.content}; } `;\n//         // }\n//         // if (pseudoAfter.content !== _none_) {\n//         //     inlineStyle += `::after { content: ${pseudoAfter.content}; } `;\n//         // }\n\n//         // 设置内联样式\n//         element.setAttribute(_style_, inlineStyle);\n\n//         // 递归处理子元素\n//         for (let child of element.children)\n//             __convertStylesToInline(child);\n//     }\n\n//     // 生成指定属性名的内联样式内容\n//     function __genInlineStyle(style, propertyName) {\n//         let value = V_util_getComputedStyleValue(style, propertyName),\n//             inlineStyle = _;\n//         if (value) inlineStyle = `${propertyName}: ${value}; `;\n//         return inlineStyle;\n//     }\n// }\n\n// ==================== 状态栏类 ==================== //\n\nlet StatusBar_ui = gUndefined,\n    StatusBar_handle = gUndefined,\n    StatusBar_items = []; // 状态栏条目集\n\nlet StsLinkChkResult_ui = gUndefined,\n    StsNewVersion_ui = gUndefined,\n    StsColorScheme_ui = gUndefined,\n    StsDocInfo_ui = gUndefined,\n    StsPrsInfo_ui = gUndefined,\n    StsLinkMap_ui = gUndefined,\n    StsFontStyle_ui = gUndefined;\n/**\n * 构造函数\n */\nfunction StatusBar_init() {\n    StsLinkChkResult_ui = V_byClass(_v_link_chk_result_); // 检查结果\n    StsNewVersion_ui = V_byClass(_v_new_version_);\n    StsColorScheme_ui = V_byClass(_v_color_scheme_);\n    StsDocInfo_ui = V_byClass(_v_doc_info_);\n    StsPrsInfo_ui = V_byClass(_v_prs_info_);\n\n    // 点击演示工具信息栏事件处理\n    StsPrsInfo_ui.uC().ck(() => {\n       iParagraphNav.hide();\n       iSpotlight.hide();\n       iLaserPointer.hide();\n    });\n\n    StatusBar_ui = V_byClass(_v_status_bar_);\n    V_ui_addAnimate(StatusBar_ui.f(_div_));\n\n    // 控制隐藏、显示的按钮\n    StatusBar_handle = V_byClass(_v_status_bar_ + __handle_);\n    StatusBar_handle.uC().ck(() => {\n        // 进行隐藏\n        if (parseInt(StatusBar_ui.c(_right_)) > 0) {\n            StatusBar_ui.c(_right_, \"-\" + (StatusBar_ui.w() - StatusBar_handle.w() + 2) + \"px\");\n            JQ_addClass(StatusBar_handle, _hidden_);\n        }\n        // 进行显示\n        else {\n            StatusBar_ui.c(_right_, gWritePaddingRight);\n            JQ_removeClass(StatusBar_handle, _hidden_);\n        }\n    });\n\n    // ----------\n    // 功能入口：链接地图\n    StsLinkMap_ui = V_byClass(_v_link_map_);\n    ToolTips_bind(StsLinkMap_ui, V_lang_text3() + _br_ + V_ui_sub(_, _, V_ui_wrap_kbd(\"M\")));\n    StsLinkMap_ui.uC().ck(() => {\n        if (V_ui_isHidden(LinkTool_panelList))\n            LinkTool_show(_map_);\n    });\n\n    // ----------\n    // 功能入口：字体风格\n    StsFontStyle_ui = V_byClass(_v_sts_font_style_);\n    ToolTips_bind(StsFontStyle_ui, V_lang_text41() + _br_ + V_ui_sub(_, _, V_ui_wrap_kbd(\"A\")));\n    StsFontStyle_ui.uC().ck(() => {\n        iFontStyle.tg();\n    });\n\n    // ----------\n    // 功能入口：Light / Dark Mode 切换\n    // 页面模式非 max（如文库），中仅支持 Light Mode 时不显示\n\n    // 如没有指定仅支持 Light Mode 时才进行自动适配 Dark Mode 的处理\n    gOnlyLightMode = (V_length(V_util_getVarVal(\"--v-only-\" + _light_ + \"-\" + _mode_)) > 0);\n    if (V_pageMode !== _max_ || gOnlyLightMode)\n        StsColorScheme_ui.hide();\n\n    // 页面模式非 max（如文库），或为移动端时的处理\n    if (V_pageMode !== _max_ || V_util_isMobile()) {\n        StsDocInfo_ui.hide();\n        StsLinkChkResult_ui.hide();\n        StsFontStyle_ui.hide();\n\n        // 过滤掉不可见的元素\n        let visibleBtn = StatusBar_ui.ch().filter(function () {\n            return $(this).c(_display_) !== _none_;\n        });\n        // 给最后一个元素添加指定样式\n        JQ_addClass(visibleBtn.last(), _last_);\n    }\n\n    // 状态栏相关的其他初始化处理\n    NewVersion_init();\n    StsColorScheme_init();\n    LinkTool_init(new BgMask(_link_checker_, _right_, gTrue));\n}\n\n// ==================== 文档信息类 ==================== //\n\nlet DocInfo_enabled = gTrue;\n\n/**\n * 统计字数\n */\nfunction DocInfo_countWord() {\n    if (!DocInfo_enabled)\n        return;\n\n    // 统计每种语言匹配到的词汇数量\n    let counterResult = V_util_countWord(VOM_doc().t());\n\n    // 计算阅读时长\n    let readCountPerMin = 200,\n        mins = counterResult.total < readCountPerMin ? 1 : JS_parseInt(counterResult.total / readCountPerMin),\n        times = mins +___+ V_lang_text(42, [\n            \"分钟\",\n            \"minute(s)\"\n        ]);\n    if (mins > 60)\n        times = (mins / 60).toFixed(1) +___+ V_lang_text(43, [\n            \"小时\",\n            \"hour(s)\"\n        ]);\n\n    ToolTips_bind(StsDocInfo_ui, V_ui_strong(times)\n        + V_ui_sub(_, _,\n            _br_ + V_formatting_thousands(JS_toString(counterResult.CJK)) +___+ V_lang_text(11, [\n                    \"中日韩\",\n                    \"CJK\"\n                ])\n            + _br_ + V_formatting_thousands(JS_toString(counterResult.latin)) +___+ V_lang_text(12, [\n                    \"非中日韩\",\n                    \"Non-CJK\"\n                ])\n        ));\n\n    StsDocInfo_ui.hm(V_formatting_thousands(JS_toString(counterResult.total)) +___+ V_lang_text(44, [\n        \"字\",\n        \"words\"\n    ]));\n}\n\n// ==================== 演示工具信息类 ==================== //\n\n// 启用演示工具栏显示\nfunction StsPrs_enable(tool, text) {\n    StsPrsInfo_ui.hm(\n        V_ui_label(_, _, tool.hm() + text + _2nbsp_ + \"•\" + _2nbsp_ + V_lang_text4() + _2nbsp_ + \"•\" + _2nbsp_  + V_ui_wrap_kbd(\"ESC\") + V_lang_text17())\n    );\n    JQ_addClass(StsPrsInfo_ui, _selected_);\n\n    // 更新演示工具栏提示信息\n    ToolTips_bind(StsPrsInfo_ui, tool.a(_data_tips_));\n}\n\n// 关闭演示工具栏显示\nfunction StsPrs_disable() {\n    JQ_removeClass(StsPrsInfo_ui, _selected_);\n}\n\n// ==================== 状态栏的颜色模式类 ==================== //\n\n/**\n * 构造函数\n */\nfunction StsColorScheme_init() {\n    ToolTips_bind(StsColorScheme_ui, V_lang_text45() + _br_ + V_ui_sub(_, _, V_ui_wrap_kbd(\"D\")));\n\n    StsColorScheme_updateIcons();\n\n    StsColorScheme_ui.uC().ck(() => {\n        if (gOnlyLightMode)\n            return;\n\n        // 根据系统当前的 color scheme，确定不同模式切换的顺序\n        let nextScheme = (ColorScheme_systemScheme === _light_ ? _dark_ : _light_ )\n        // 切换不同模式\n        if (ColorScheme_auto) {\n            ColorScheme_auto = gFalse;\n            ColorScheme_scheme = nextScheme;\n        }\n        else if (ColorScheme_scheme === nextScheme) {\n            ColorScheme_auto = gFalse;\n            ColorScheme_scheme = ColorScheme_systemScheme;\n        }\n        else if (ColorScheme_scheme === ColorScheme_systemScheme) {\n            ColorScheme_auto = gTrue;\n            ColorScheme_scheme = nextScheme;\n        }\n\n        StsColorScheme_updateIcons(gTrue);\n        ColorScheme_refresh();\n    });\n}\n\n/**\n * 更新按钮图标\n * @param showBubble 是否显示泡泡提示\n */\nfunction StsColorScheme_updateIcons(showBubble) {\n    let icon = _icoAutoMode_,\n        info = V_lang_text45() + \" - \",\n        mode;\n\n    // 不是 auto 模式时\n    if (!ColorScheme_auto) {\n        // 切换到匹配的当前模式的图标\n        if (ColorScheme_scheme === _light_) {\n            icon = _icoLightMode_;\n            mode = V_lang_text(91, [\n                \"浅色\",\n                \"Light\"\n            ]);\n        }\n        else if (ColorScheme_scheme === _dark_) {\n            icon = _icoDarkMode_;\n            mode = V_lang_text(92, [\n                \"深色\",\n                \"Dark\"\n            ]);\n        }\n        JQ_addClass(StsColorScheme_ui, _selected_);\n    }\n    // 针对 auto 模式\n    else {\n        JQ_removeClass(StsColorScheme_ui, _selected_);\n        mode = V_lang_text(90, [\n            \"跟随系统\",\n            \"Automatically\"\n        ]);\n    }\n\n    // 更新提示\n    ToolTips_bind(StsColorScheme_ui, info + V_ui_strong(mode) + _br_ + V_ui_sub(_, _, V_ui_wrap_kbd(\"D\")));\n    // 工具栏提示没有显示时，则显示泡泡信息\n    if (showBubble && !ToolTips_isShowed())\n        iInfoTips.bubble(info + V_ui_strong(mode), 2000, _corner_ + \"3\");\n\n    // 调整模式切换按钮图标\n    StsColorScheme_ui.hm(V_ui_svgIcon(icon, 20, 20, _dark_));\n}\n\n// ==================== 状态栏的检查新版本类 ==================== //\n\nlet StsNewVersion_checkOriginCloudFlare = _vlookPagesHost_CloudFlare_, //\"https://vlook-doc.pages.dev\",\n    StsNewVersion_checkUrlCloudFlare = StsNewVersion_checkOriginCloudFlare + \"/act/\" + _chkUpdate_ + \".html?ts=\" + V_util_getTime(),\n    StsNewVersion_checkOriginGitHub = _madmaxchowHost_GitHub_,\n    StsNewVersion_checkUrlGitHub = StsNewVersion_checkOriginGitHub + \"/VLOOK/act/\" + _chkUpdate_ + \".html?ts=\" + V_util_getTime();\n/**\n * 构造函数\n */\nfunction NewVersion_init() {\n    ToolTips_bind(StsNewVersion_ui, _VLOOK_ + \"™ \" + V_lang_text(36, [\n        \"- 已推出新版本，请更新！\",\n        \"- A new version has been released, please update!\"\n    ]));\n    StsNewVersion_ui.uC().ck(() => {\n        gWindow.open(_httpsPrefix_ + _githubVlook_ + \"/releases\", \"github-vlook\");\n    });\n}\n\n/**\n * 检查新版本\n */\nfunction NewVersion_check() {\n    let lastCheckTime = V_data_read(_new_version_check_time_, gTrue),\n        latestVer = V_data_read(_new_version_, gTrue);\n    // 用于模拟测试使用\n    // gVer = \"V25.0\";\n    // 在检查周期内时，直接读取本地数据\n    if (lastCheckTime !== gNull\n        && (V_util_getTime() - JS_parseInt(lastCheckTime)) < (1000 * 3600 * 24 * 7)) { // 检查周期为 7 天 (1000 * 3600 * 24 * 7)\n        if (latestVer > gVer.ss(1, gVer.length))\n            NewVersion_yes();\n        WARN(\"-> (\" + _local_ +___+ _check_ + \") Lastest \" + _version_, latestVer);\n        return;\n    }\n\n    // ----------\n    // 超出检查周期后才向服务端发起新的检查\n    let frameCloudFlare = document.getElementById(_vlook_chk_update_cloudflare_),\n        frameGitHub = document.getElementById(_vlook_chk_update_github_);\n\n    // 等待窗口打开完成后发送消息\n    frameCloudFlare.onload = function () {\n        LOG(\"-> \" + StsNewVersion_checkOriginCloudFlare);\n        frameCloudFlare.contentWindow.postMessage(gVer, StsNewVersion_checkOriginCloudFlare);\n    }\n    frameGitHub.onload = function() {\n        LOG(\"-> \" + StsNewVersion_checkOriginGitHub);\n        frameGitHub.contentWindow.postMessage(gVer, StsNewVersion_checkOriginGitHub);\n    }\n\n    // 设置检查更新的 src ，触发进行新版本检查\n    frameCloudFlare.src = StsNewVersion_checkUrlCloudFlare;\n    frameGitHub.src = StsNewVersion_checkUrlGitHub;\n\n    // 检查结果的接收通过 window.onmessage 进行处理\n}\n\n/**\n * 显示新版本提示\n */\nfunction NewVersion_yes() {\n    JQ_addClass(StsNewVersion_ui, _enabled_);\n}\n\n// ==================== 链接检查器类 ==================== //\n\nlet LinkTool_checkHashUI = gUndefined,\n    LinkTool_checkHashMode = gFalse,\n    LinkTool_panelList = gUndefined,\n    LinkTool_panelHeader = gUndefined,\n    LinkTool_panelItems = gUndefined,\n    LinkTool_enabled = gTrue,\n    LinkTool_warningCount = 0,\n    LinkTool_errorAnchorCount = 0,\n    LinkTool_errorAddressCount = 0,\n    LinkTool_headerDupSet = [], // 文本\n    LinkTool_headerDupReSet = [], // 正则表达式\n    LinkTool_pageMap = {},\n    LinkTool_textMap = {},\n    LinkTool_mask = gUndefined;\n\n/**\n * 构造函数\n */\nfunction LinkTool_init(mask) {\n    LinkTool_checkHashUI = V_byClass(_v_check_hash_);\n    LinkTool_panelList = V_byClass(_v_link_info_list_); // 坏链主界面\n    LinkTool_panelHeader = V_byClass(_v_link_info_list_ + __header_);\n    LinkTool_panelItems = V_byClass(_v_link_info_list_ + __items_); // 坏链内容列表\n    LinkTool_enabled = gTrue;\n\n    // 读取指定允许重复的章节标题预置选项\n    let headerDup = V_util_getMetaByName(_vlook__ + \"header-dup\");\n    if (headerDup !== gUndefined) {\n        // 直接使用分号进行分割，是由于导出的标题会自动过滤掉标点符号\n        // 所以一般导出后的 HTML 不会存在标题内容中还含有标点符号的冲突\n        let dups = headerDup.x().sp(\";\");\n        for (let i = 0; i < dups.length; i++) {\n            // 正则表达式\n            if (dups[i].sW(\"/\") && dups[i].eW(\"/\"))\n                LinkTool_headerDupReSet.push(new RegExp(dups[i].substring(1, dups[i].length - 1)));\n            // 文本\n            else\n                LinkTool_headerDupSet.push(dups[i]);\n        }\n    }\n\n    ToolTips_bind(StsLinkChkResult_ui, V_lang_text81());\n    StsLinkChkResult_ui.uC().ck(() => {\n        if (V_ui_isHidden(LinkTool_panelList))\n            LinkTool_show(_checked_);\n    });\n\n    // 遮罩\n    LinkTool_mask = mask;\n    LinkTool_mask.bindPartner(() => {\n        LinkTool_hide()\n    }, LinkTool_panelList);\n\n    // 滚动事件处理\n    LinkTool_panelItems.on(_scroll_, () => {\n        let scrollTop = V_util_getScrollTop(LinkTool_panelItems);\n        // 滚出了顶部则显示顶部渐变条\n        if (V_ui_isHidden(LinkTool_panelHeader) && scrollTop > 10)\n            LinkTool_panelHeader.show()\n        // 否则隐藏\n        else if (scrollTop <= 10)\n            LinkTool_panelHeader.hide()\n    });\n}\n\n/**\n * 将 .md 的链接转换为 .html 链接（或指定后缀）\n */\nfunction LinkTool_mdToHtml() {\n    let xmd = V_util_getParamVal(_xmd_),\n        newExt = \".html\";\n\n    // 全局配置，禁用转换，则停止\n    if (xmd === _off_)\n        return;\n\n    // 全局配置，指定转换的后缀\n    if (xmd !== gNull)\n        newExt = \".\" + xmd;\n\n    $(\"a\" + V_attrCSS(_href_, \".md\", \"*\")).e((index, element) => {\n        let _t = $(element),\n            href = _t.a(_href_),\n            xmd = V_util_getUrlQueryParams(href)[_xmd_];\n\n        // 单个链接指定禁用转换，则停止\n        if (xmd === _off_)\n            return gTrue;\n\n        // 单个链接指定转换的后缀\n        if (xmd !== gUndefined)\n            _t.a(_href_, href.r(\".md\", \".\" + xmd));\n        else // 默认的全局后缀\n            _t.a(_href_, href.r(\".md\", newExt));\n    });\n}\n\n/**\n * 添加检查结果条目\n * @param type 类型：warning、error\n * @param targetToJump 目标对象\n * @param content 内容\n */\nfunction LinkTool_addToCheckResult(type, targetToJump, content) {\n    let id = gUndefined;\n    if (type === _warning_) {\n        LinkTool_warningCount++;\n        id = \"vk-\" + _warning_ + __hash_ + LinkTool_warningCount;\n    }\n    else if (type === _error_ + __hash_) {\n        LinkTool_errorAnchorCount++;\n        id = \"vk-\" + _error_ + __hash_ + LinkTool_errorAnchorCount;\n    }\n    else if (type === _error_ + __address_) {\n        LinkTool_errorAddressCount++;\n        id = \"vk-\" + _error_ + __address_ + LinkTool_errorAddressCount;\n    }\n    // 异常涉及的对象无 id 属性时添加，用于后续能跳转至该位置\n    if (targetToJump.a(_id_) === gUndefined)\n        targetToJump.a(_id_, id);\n\n    let item = $(V_ui_span(_v_toc_item_, V_attr(_data_hash_, \"#\" + targetToJump.a(_id_)), content));\n    V_ui_addAnimate(item);\n    JQ_addClass(item, type);\n\n    // 添加链接异常样式及属性\n    JQ_addClass($(item.a(_data_hash_)).a(_tabindex_, 0), _v_link_error_);\n    // 添加节点\n    LinkTool_panelItems.ap(item);\n\n    // 刷新状态栏对应的按钮 UI\n    JQ_addClass(StsLinkChkResult_ui, type);\n\n    V_ui_adjustHoverStyle(item);\n    item.uC().ck(() => {\n        V_ui_tg_currentItem(LinkTool_panelItems, item);\n\n        // 如果没有拖选的文本，则继续\n        if (V_util_getSelectedText() === _) {\n            V_util_gotoHash(item.a(_data_hash_));\n            LinkTool_hide();\n        }\n    });\n}\n\n/**\n * 检查链接\n * @param hash 锚点\n */\nfunction LinkTool_notFoundHash(hash) {\n    return (!hash.sW(\"#\")\n        && V_length($(_idWrite_ + \" #\" + hash + \",\"\n            + _idWrite_ + \" a\" + V_attrCSS(_name_, hash))) === 0);\n}\n\n/**\n * 检查来自 query 参数中的 hash 集合\n */\nfunction LinkTool_checkHashSet() {\n    let count = V_util_getParamVal(_checkCount_);\n    if (count === gNull)\n        return false;\n\n    // 设置文档图标：检查中\n    let var_iCheck = \"--i-check\";\n    V_ui_changeDocIcon(V_util_getVarVal(var_iCheck + \"ing\"));\n\n    count = JS_parseInt(count);\n\n    // 检查当前文档中是否有指定的 hash 集\n    let hash = _,\n        info = V_lang_text67() +___,\n        notFoundCount = 0;\n    for (let i = 1; i <= count; i++) {\n        hash = V_util_getParamVal(_hash_ + i);\n        // 没有找到\n        if (hash !== gNull && LinkTool_notFoundHash(hash)) {\n            notFoundCount++;\n            LinkTool_checkHashUI.ap(V_ui_div(_, _item_,\n                V_ui_label(_, _, info + notFoundCount + \" #\") + hash));\n        }\n    }\n\n    // 所有 hash 都能在当前文档中找到\n    let btn;\n    if (notFoundCount === 0) {\n        // 设置文档图标：检查通过\n        V_ui_changeDocIcon(V_util_getVarVal(var_iCheck + \"-passed\"));\n\n        JQ_addClass(LinkTool_checkHashUI, \"all-\" + _found_)\n        LinkTool_checkHashUI.ap(V_ui_div(_, \"all-\" + _found_, V_lang_text(47, [\n            \"检查通过\",\n            \"Hash check passed\"\n            ])));\n        // 关闭标签页\n        btn = $(V_ui_div(_, _v_check_hash_ + \"-re\" + _check_, V_lang_text17()));\n    }\n    // 部分 hash 不存在\n    else {\n        // 设置文档图标：检查不通过\n        V_ui_changeDocIcon(V_util_getVarVal(var_iCheck + \"-failed\"));\n\n        JQ_addClass(LinkTool_checkHashUI, \"not-\" + _found_)\n        // 重新检查\n        btn = $(V_ui_div(_, _v_check_hash_ + \"-re\" + _check_, V_lang_text(49, [\n            \"已修订，重新检查\",\n            \"Hash check failed\"\n            ])));\n    }\n\n    // 添加操作按钮（根据以上不同检查结果生成）\n    LinkTool_checkHashUI.ap(btn);\n    V_ui_adjustHoverStyle(btn);\n    btn.uC().ck(() => {\n        gWindow.close();\n    });\n\n    // 关闭检查结果 UI\n    btn = $(V_ui_div(_, _v_check_hash_ + \"-\" + _close_, V_lang_text(23, [\n        _startReading_cn_,\n        _startReading_en_\n        ])));\n    LinkTool_checkHashUI.ap(btn);\n    V_ui_adjustHoverStyle(btn);\n    btn.uC().ck(() => {\n        LinkTool_checkHashUI.hide();\n    });\n\n    return true;\n}\n\n/**\n * 检查链接\n */\nfunction LinkTool_checkLink() {\n    if (!LinkTool_enabled)\n        return;\n\n    // --------------------\n    // 标题内容检查\n    let headerTextSet = [];\n    $(_idWrite_ + \" :is(\" + _h1_6_ + V_not(__first_child_) + \"),\"\n        + _idWrite_ +___+ _blockquote_ + ExtQuote_subTitle + \",\"\n        + _idWrite_ +___+ _summary_).e((index, element) => {\n        let _t = $(element),\n            text = _t.t().x();\n\n        // 跳过无效的标题\n        if (_t.c(_visibility_) === _hidden_)\n            return;\n\n        // 是否有重复标题\n        if (headerTextSet.indexOf(text) === -1)\n            headerTextSet.push(text);\n        // 重复标题的处理\n        else {\n            if (LinkTool_headerDupSet.indexOf(text) === -1 // 文本匹配\n                && !__matchForHeaderDupReSet(text)) // 正则表达式匹配\n                    __addDuplicateChapter(_t);\n        }\n\n        // --------------------\n        // 标题转换为 id 的检查并修正：去掉 id 中的标点符号（不符合锚点相关规范）\n        let id = _t.a(_id_);\n        if (id !== gUndefined) {\n            let newId = LinkTool_disposeNonStandardHash(id);\n            if (V_length(newId) < V_length(_t.a(_id_)) || newId !== id) {\n                // 更新为规范的 id\n                _t.a(_id_, newId);\n                WARN(\"Fixed \" + _header_ + \" id '\" + _t.t() + \"' id:\\n#\" + id + \" --> #\" + newId);\n            }\n        }\n    });\n\n    // 检查所有页内链接对应的锚点是否都存在\n    $(_idWrite_ + \" a, .\" + _md_toc_item_ + \" a\").e((index, element) => {\n        let _t = $(element),\n            text = _t.t().x(),\n            title = _t.a(_title_),\n            href = _t.a(_href_),\n            page = V_util_getUrlWithoutHash(href),\n            hash = V_util_getUrlHash(href),\n            hashNoMark = _;\n\n        // 获取指定对象的所有子元素（及其子元素）的文本内容\n        let joinedText = V_util_joinNodesText(_t, \" • \");\n        if (V_length(joinedText) > 0)\n            text = joinedText;\n\n        // 忽略无效数据\n        // 对于 href=\"#\" 的情况，在 Typora 1.6.x 开始的版本需要考虑，因为 Typora 生成的 HTML 会自动过滤无效的页内链接，直接用 # 代替\n        if (href === gUndefined)\n            return gTrue;\n\n        // --------------------\n        // 链接内容检查并修正：去掉锚点中的标点符号（不符合锚点相关规范）\n        if (hash !== gUndefined && !href.sW(_mjx__)) {\n            hashNoMark = hash.ss(1, V_length(hash));\n            if (V_length(hashNoMark) > 0) {\n                let newHash = LinkTool_disposeNonStandardHash(hashNoMark);\n                if (V_length(newHash) < V_length(hashNoMark) || newHash !== hashNoMark) {\n                    // 更新为规范的 hash\n                    hash = \"#\" + newHash;\n                    // 更新并重新获取 href 的值\n                    _t.a(_href_, V_util_getUrlWithoutHash(href) + hash);\n                    href = _t.a(_href_);\n\n                    WARN(\"Fixed link [\" + _t.t() + \"](#\" + hashNoMark + \") hash:\\n#\" + hashNoMark + \" --> \" + href);\n                }\n            }\n        }\n\n        // --------------------\n        // 页内链接\n        // 以 #mjx- 开始的链接为行间公式的页内引用块，会导致 jQuery 的正则表达式解析错误，须跳过\n        if (href === \"#\")\n            __addErrorHash(_t, hash);\n        else if (href.sW(\"#\") && !href.sW(_mjx__)) {\n            // 检索是否存在与该内链对应的锚点\n            let anchor = href.ss(1, V_length(href));\n            // 没有检索到对应的锚点\n            if (LinkTool_notFoundHash(anchor))\n                __addErrorHash(_t, href);\n        }\n\n        // --------------------\n        // 将外部链接添加到链接地图中\n        // 在链接内容检查前执行，目的是获得原始的 hash 信息便于出错时查找修正\n        if (V_length(page) > 0 && !page.sW(\"?\")\n            && page.i(_docLibIdentifier_) === -1\n            && !page.sW(\"mailto:\")) {\n            if (title !== gUndefined)\n                title = title.x();\n            if (V_length(text) === 0 && V_length(title) > 0)\n                text = title;\n            LinkTool_addToMap(text, page, hashNoMark);\n        }\n    });\n\n    // --------------------\n    // 生成链接地图\n    __genLinkMap();\n\n    // 对无锚点的站内链接、外部链接进行分类排序\n    V_util_sortByAttr(LinkTool_panelItems,\n        LinkTool_panelItems.f(\".\" + _v_map_item_ + \":is(.a,.b)\"), _class_, gTrue);\n\n    // 以正则表达式进行重复标题检查\n    function __matchForHeaderDupReSet(text) {\n        for (let i = 0; i < LinkTool_headerDupReSet.length; i++) {\n            if (text.m(LinkTool_headerDupReSet[i]) !== gNull)\n                return gTrue;\n        }\n        return gFalse;\n    }\n\n    // 生成链接地图\n    function __genLinkMap() {\n        let pageIndex = 0;\n        for (let page in LinkTool_pageMap) {\n            pageIndex++;\n\n            // 生成外部页面需要被检查的 hash 对应的 query 参数\n            let urlParams = new URLSearchParams(),\n                hashIndex = 0;\n            urlParams.append(_checkHash_, 0); // 初始检查 hash 的标记\n            for (let i = 0; i < V_length(LinkTool_pageMap[page]); i++) {\n                let h = LinkTool_pageMap[page][i];\n                if (V_length(h) > 0) {\n                    hashIndex++;\n                    urlParams.append(_hash_ + hashIndex, LinkTool_disposeNonStandardHash(h));\n                }\n            }\n\n            // 生成外部页面的目标链接，用于检查对应 hash 是否存在\n            if (urlParams.size > 1) {\n                urlParams.append(_checkCount_, hashIndex);\n                urlParams.set(_checkHash_, 1); // 更新检查 hash 的标记\n                urlParams.append(\"ws\", 0);\n                __addLinkMapItem(LinkTool_textMap[page][0], pageIndex, page, urlParams, hashIndex);\n            }\n            else {\n                __addLinkMapItem(LinkTool_textMap[page][0], pageIndex, page, _, 0);\n            }\n        }\n    }\n\n    // 添加一条链接地图记录\n    function __addLinkMapItem(text, pageIndex, page, urlParams, hashCount) {\n        // 生成直达各锚点的入口\n        let linkToHashSet = _,\n            cc = 0;\n        for (let [key, value] of urlParams) {\n            if (key.sW(_hash_)) {\n                let h = \"#\" + value;\n                linkToHashSet += (++cc > 1 ? _nbsp_+_nbsp_ : _) + V_ui_a(key, page + h, h, page);\n            }\n        }\n\n        let // 超出长度上限时显示的内容\n            overLimit = V_ui_label(_, _, hashCount + V_lang_text(50, [\n                \"超出 URL 最大长度\",\n                \"Maximum URL length exceeded\"\n            ])),\n            // 未超出长度上限，且有锚点时，则生成检查入口\n            hashSet = JS_toString(urlParams),\n            hashSetLen = V_length(hashSet),\n            extLink = (page.i(\"://\") > -1),\n            checkHash = (hashSetLen > 0 ?\n                V_ui_label(_, _, V_ui_strong(hashCount) +___+ V_lang_text(51, [\"个锚点\", \"Hash\"])\n                    + V_ui_a(_, page + (page.i(\"?\") > -1 ? \"&\" : \"?\") + hashSet,\n                            V_ui_svgIcon(_icoCheck_, 12, 14, _theme_) +___+ V_lang_text(52, [\"检查锚点\", \"Check Hash\"]),\n                    __blank_))\n                : _),\n\n            // 生成最终的条目内容\n            item = $(V_ui_div(_v_map_item_ + pageIndex,\n                    // 以下 a, b 是用于对无锚点的站内链接、外部链接进行分类排序\n                    _v_map_item_ +___+ (!extLink && hashCount === 0 ? \"a\" : extLink ? \"b\" : _),\n                    V_ui_div(_, _,\n                        (!extLink\n                            ? V_ui_svgIcon(_icoDocLibBm_, 20, 18, _alpha_) // 站内链接图标\n                            : V_ui_svgIcon(_icoDocLibExt_, 20, 20, _alpha_) // 站外链接图标\n                        ) + _nbsp_\n                        // 页面或链接的直达链接\n                        + V_ui_a(_, page,\n                            // 页面或链接入口\n                            (V_length(text) > 0\n                                ? (V_length(linkToHashSet) > 0\n                                    ? V_lang_text(82, [\"页面\", \"Page\"]) : text)\n                                : V_lang_text(83, [\"链接\", \"Link\"])), page)\n                        // 检查锚点的链接\n                        + (V_length(page) + hashSetLen > 8000\n                                ? overLimit\n                                : checkHash)\n                    )\n                    // 页面或链接内容\n                    + (V_length(linkToHashSet) > 0 ? _br_ : _)\n                    + V_ui_span(_, _, JS_decodeURIComponent(page))\n                    // 直达锚点的链接\n                    + linkToHashSet\n                ));\n\n        V_ui_addAnimate(item);\n        V_ui_adjustHoverStyle(item);\n\n        item.f(\"a\").uC().ck(() => {\n            V_ui_tg_currentItem(LinkTool_panelItems, item);\n        });\n\n        // 有锚点的添加到前面\n        if (hashCount > 0)\n            LinkTool_panelItems.pp(item);\n        // 无锚点的添加到后面\n        else\n            LinkTool_panelItems.ap(item);\n    }\n\n    // 添加一条警示记录：重复名称章节标题\n    function __addDuplicateChapter(aObj) {\n        LinkTool_addToCheckResult(_warning_, aObj,\n            V_ui_label(_, _, V_lang_text53()) + aObj.t());\n    }\n\n    // 添加一条错误记录：无效的页内链接记录\n    function __addErrorHash(aObj, hash) {\n        LinkTool_addToCheckResult(_error_ + __hash_, aObj,\n            V_ui_label(_, _, V_lang_text54()) + aObj.t()\n                + \" (\" + hash + \")\");\n    }\n}\n\n/**\n * 处理不规范的 hash 内容\n * @param hash 要处理的 hash\n */\nfunction LinkTool_disposeNonStandardHash(hash) {\n    // 将空格转换为连字符\n    hash = hash.r(/\\s/g, \"-\").l();\n    hash = hash.r(/^~~(.+)~~$/g, \"$1\");\n    // 对标点符号进行转换处理\n    return hash.r(/\\p{P}|\\+/gu, (p) => {\n        if (p === \"-\") return \"-\";\n        else if (p === \"–\") return \"--\";\n        else if (p === \"—\") return \"---\";\n        return _;\n      });\n}\n\n/**\n * 添加到链接地图\n * @param text 链接文本\n * @param page 页面地址（不含 hash）\n * @param hashNoMark 页面 hash（不含 #）\n */\nfunction LinkTool_addToMap(text, page, hashNoMark) {\n    // 如果键不存在，创建一个空数组用于保存内容\n    if (!(page in LinkTool_pageMap)) {\n        LinkTool_pageMap[page] = [];\n        LinkTool_textMap[page] = [];\n        LinkTool_textMap[page].push(text);\n    }\n\n    // 向对应键的数组中添加内容，重复的 hash 不添加\n    if (LinkTool_pageMap[page].indexOf(hashNoMark) === -1)\n        LinkTool_pageMap[page].push(hashNoMark);\n}\n\n/**\n * 是否已显示\n * @returns boolean\n */\nfunction LinkTool_isShowed() {\n    return LinkTool_panelList.c(_display_) !== _none_;\n}\n\n/**\n * 显示链接面板\n * @param type 显示的内容，checked: 链接检查结果；map: 链接地图\n */\nfunction LinkTool_show(type) {\n    // 获取不同条目的对象\n    let tocItems = LinkTool_panelList.f(\".\" + _v_toc_item_ + V_not(V_attrCSS(_data_history_))),\n        mapItems = LinkTool_panelList.f(\".\" + _v_map_item_),\n        historyItems = LinkTool_panelList.f(\".\" + _v_toc_item_ + V_attrCSS(_data_history_));\n\n    let curType = LinkTool_panelList.a(_data_content_type_);\n    LinkTool_panelList.a(_data_content_type_, type);\n\n    // 当前显示的不是指定的内容类型才进行处理\n    // 已知问题：如果打开后才被添加的条目，不切换不同的类型时不会刷新显示\n    if (curType === gUndefined || curType !== type) {\n        // 显示当前页面页内链接的检查结果\n        if (type === _checked_) {\n            LinkTool_panelList.a(_data_title_, V_lang_text81());\n            mapItems.hide();\n            historyItems.hide();\n            LinkTool_updateDataNoMore(tocItems);\n            tocItems.show();\n        }\n        // 显示链接地图\n        else if (type === _map_) {\n            LinkTool_panelList.a(_data_title_, V_lang_text3());\n            tocItems.hide();\n            historyItems.hide();\n            LinkTool_updateDataNoMore(mapItems);\n            mapItems.show();\n        }\n        // 显示导航历史\n        else if (type === _history_) {\n            LinkTool_panelList.a(_data_title_, V_lang_text65());\n            tocItems.hide();\n            mapItems.hide();\n            LinkTool_updateDataNoMore(historyItems);\n            historyItems.show();\n        }\n    }\n\n    // 显示面板\n    LinkTool_panelList.show();\n    LinkTool_mask.show();\n}\n\n/**\n * 更新面板条目提示信息\n * @param items 条目集\n */\nfunction LinkTool_updateDataNoMore(items) {\n    V_ui_set_dataNoMore(LinkTool_panelItems, items);\n}\n\n/**\n * 隐藏坏链列表\n */\nfunction LinkTool_hide() {\n    LinkTool_panelList.hide()\n    LinkTool_mask.hide();\n\n    V_doc_scroll_unfreeze();\n}\n\n/**\n * 处理热键操作\n * @param key 非功能键键\n * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n * @param event 事件对象\n */\nfunction LinkTool_disposeHotkey(key, combKeys, event) {\n    if (V_ui_isHidden(LinkTool_panelList))\n        return;\n\n    let handled = gFalse;\n    if (V_length(combKeys) === 0) {\n        switch (key) {\n            case _Escape_:\n                if (LinkTool_isShowed()) {\n                    LinkTool_hide();\n                    handled = gTrue;\n                }\n                break;\n        }\n    }\n\n    // 如果事件已处理，则禁止双重操作\n    if (handled)\n        V_util_preventDefault(event);\n}\n\n// ==================== 背景遮罩类 ==================== //\n\n/**\n * 构造函数\n * @param id 标识\n * @param align 扩展样式：left / right / bottom / center\n * @param close 是否显示关闭提示器\n */\nfunction BgMask(id, align, close) {\n    let T = this;\n    T.style = align;\n\n    VOM_doc().af(V_ui_div(_, _v_mask_ +___+ (align !== gUndefined ? align +___ : _) + id +___+ _v_backdrop_blurs_,\n        V_ui_copyrightInfo()));\n\n    // 根据动效等级初始化遮罩样式\n    V_ui_initEffectLevel();\n\n    T.ui = V_byClass(_v_mask_ + \".\" + id);\n    T.closer = gUndefined;\n\n    // 生成关闭提示器\n    if (close !== gNull && close) {\n        T.ui.ap(V_ui_div(_, _v_mask_close_ +___+ T.style,\n            V_ui_svgIcon(_icoMaskCloser_, 16, 60, _light_)));\n        T.closer = T.ui.ch(\".\" + _v_mask_close_);\n    }\n\n    T.partner = gUndefined;\n    T.partnerUI = gUndefined;\n\n    /**\n     * 绑定联动对象\n     * @param partner 联动对象\n     * @param ui 联动对象的 UI\n     */\n    T.bindPartner = function (partner, ui) {\n        T.partner = partner;\n        T.partnerUI = ui;\n    }\n\n    /**\n     * 显示遮罩\n     */\n    T.show = function () {\n        // 冻结滚动\n        V_doc_scroll_freeze();\n        V_doc_block = gTrue;\n\n        // 总是在 target 下显示\n        T.ui.c(_z_index_, T.partnerUI.c(_z_index_) - 1);\n\n        // 对「关闭」提示器的处理\n        if (T.closer !== gUndefined) {\n            // 默认是 style = left 的位置\n            let offset = 30,\n                x = JS_parseInt(T.partnerUI.c(_left_)) + T.partnerUI.w() + offset,\n                y = JS_parseInt(T.partnerUI.c(_top_)) + (T.partnerUI.h() - T.closer.h()) / 2;\n            // 对齐方式 left / right 的处理\n            if (T.style === _left_ || T.style === _right_) {\n                T.closer.c(_left_, T.style === _right_\n                        ? JS_parseInt(T.partnerUI.c(_left_)) - T.closer.w() - offset\n                        : x);\n            }\n            // 对齐方式 bottom 的处理\n            else if (T.style === _bottom_) {\n                y = JS_parseInt(T.partnerUI.c(_bottom_)) + T.partnerUI.h() + offset;\n                T.closer.c(_bottom_, y + 20);\n            }\n        }\n\n        // 绑定 VLOOK logo 的点击事件\n        T.ui.f(\".\" + _v_copyright_ + \" .\" + _v_copyright_svg_ico_).uC().ck((event) => {\n            env.show($(event.currentTarget));\n        });\n\n        // 点击遮罩隐藏联动对象\n        T.ui.uC().ck((event) => {\n            if (event.target.tagName === \"A\")\n                return;\n\n            // 取消冻结滚动\n            V_doc_scroll_unfreeze();\n            // 隐藏联动对应\n            if (typeof(T.partner) === _function_)\n                 T.partner();\n            else\n                T.partner.hide();\n\n            T.hide();\n        });\n\n        T.ui.show();\n    }\n\n    /**\n     * 隐藏遮罩\n     */\n    T.hide = function () {\n        // 取消冻结滚动\n        V_doc_scroll_unfreeze();\n        V_doc_block = gFalse;\n\n        T.ui.hide();\n    }\n}\n\n// ==================== 长内容折叠类 ==================== //\n\nlet ContentFolder_enabled = gTrue,\n    ContentFolder_enabled_table = gTrue,\n    ContentFolder_enabled_figure = gTrue,\n    ContentFolder_enabled_codeblock = gTrue,\n    ContentFolder_limit = V_devMode ? 300 : 640, // 内容须折叠的高度限值\n    ContentFolder_contents = [], // 须进行折叠判断和处理的内容集\n    ContentFolder_buildTimers = [],\n    ContentFolder_rowNumFilter = _table_ +___+ _tbody_ + \" tr\";\n\nfunction ContentFolder_init() {\n    if (!ContentFolder_enabled)\n        return;\n    // 更新 CSS 对应高度限制变量\n    V_util_setVarVal(\"--v-ex-limit\", ContentFolder_limit + \"px\");\n}\n\n/**\n * 添加内容\n */\nfunction ContentFolder_add(content, type) {\n    // 跳过不启用折叠，或任意父级元素是引用块折叠的情况\n    if (!ContentFolder_enabled\n        || V_length(content.ps(_blockquote_ + \",\" + _details_)) > 0) {\n        return;\n    }\n\n    if (type === _table_ && ContentFolder_enabled_table === gFalse)\n        return;\n    if (type === _figure_ && ContentFolder_enabled_figure === gFalse)\n        return;\n    if (type === _codeblock_ && ContentFolder_enabled_codeblock === gFalse)\n        return;\n\n    ContentFolder_contents.push(content);\n}\n\n/**\n * 适配内容展开操作区\n */\nlet ContentFolder_adjust = V_debounce(() => { // 以防抖方式执行\n    if (!ContentFolder_enabled)\n        return;\n\n    // 提前中断未完成的处理\n    if (V_length(ContentFolder_buildTimers) > 0) {\n        for (let i = 0, len = V_length(ContentFolder_buildTimers); i < len; i++) {\n            V_util_clearTimer(ContentFolder_buildTimers.shift());\n        }\n    }\n    // 重新开始构建内容展开操作区\n    ContentFolder_rebuild();\n}, 1000);\n\n/**\n * 重建部分内容展开操作区，主要是 img, table, .md-fences 等会因导航中心的显示/关闭\n * 导致文档宽度变化而引起的内容高度也跟随变化的情况\n * 如在不显示导航中心时因宽度较变，高度等比变高，或高度反而变短\n * 会导致应该显示展开操作区即不显示，或不应显示却显示的情况\n */\nfunction ContentFolder_rebuild() {\n    if (!ContentFolder_enabled)\n        return;\n\n    // 遍历每个规则\n    let rules = gStyle.cssRules || gStyle.rules;\n    for (let j = V_length(rules) - 1; j >= 0; j--) {\n        // 检查是否是要删除的规则\n        let ruleText = rules[j].selectorText;\n        if (ruleText !== gUndefined && ruleText.i(\n                \".\" + _v_caption_container_ + \".\" + _expander_ + \".id-\") > -1)\n                gStyle.deleteRule(j);\n    }\n\n    // 重建需要重建的部分\n    for (let i = 0, len = V_length(ContentFolder_contents); i < len; i++) {\n        // 对类 img 长内容\n        if (V_util_getTagName(ContentFolder_contents[i]).sW(\"i\")) {\n            // 创建一个Image对象，实现图片的预下载\n            let img = new Image();\n            // 获得图片实际加载的 src（针对 img 指定 srcset, darksrc, darksrcset 的情况）\n            img.src = ContentFolder_contents[i].get(0).currentSrc;\n            // 如果图片已经存在于浏览器缓存，直接处理\n            if (img.complete)\n                ContentFolder_buildTimers.push(\n                    setTimeout(() => {\n                        ContentFolder_checkAndProcess(ContentFolder_contents[i], gTrue, i);\n                    }, 100)\n                );\n            // 等待图片下载完成后再处理\n            else\n                img.onload = function () {\n                    ContentFolder_checkAndProcess(ContentFolder_contents[i], gTrue, i);\n                }\n        }\n        // 非 img 类长内容\n        else {\n            // 设置按不同时间间隔执行，减少在处理数量过多时，会阻塞 UI\n            ContentFolder_buildTimers.push(\n                setTimeout(() => {\n                    ContentFolder_checkAndProcess(ContentFolder_contents[i], gTrue, i);\n                }, 100)\n            );\n        }\n    }\n}\n\n/**\n * 检测内容是否过长，过长则进行处理。适用于「插图、表格、代码块」等\n * @param target 折叠的目标对象\n * @param rebuild 本次折叠是否属于重建的（如在页面加载后，由于页面正文区宽度变化后调用时属于重建）\n * @param i 折叠内容序号\n */\nfunction ContentFolder_checkAndProcess(target, rebuild, i) {\n    if (!ContentFolder_enabled)\n        return;\n\n    let container = target.p(),\n        tagName = V_util_getTagName(target),\n        isImg = tagName.sW(\"i\");\n\n    // 重建时已生成题注，所以实际容器对象与初始化时第一次构建会不同\n    if (rebuild)\n        container = container.p();\n\n    // 已被点击展开过了，在重建时则跳过\n    let expanded = container.a(_data_content_expanded_);\n    if (expanded === _true_) {\n        ContentFolder_buildTimers.shift();\n        return;\n    }\n\n    // 针对 img 内容，进行父容器的正确性处理\n    if (isImg) {\n        // 图像若加载晚于 img 的题注生成，其父容器则题注而不是 VLOOK 标识的 img 父容器\n        if (container.a(_data_container_) === gUndefined)\n            container = container.p();\n    }\n\n    // 初始化折叠配置\n    container.a(_data_content_folded_, _false_); // 未折叠\n    container.a(_data_content_expanded_, _false_); // 已被点击扩展了\n    container.c(_height_, _auto_);\n    // 针对 Mermaid 图表，不添加会导致出现滚动条\n    if (tagName.sW(\"s\"))\n        container.c(_padding_bottom_, \"10px\");\n\n    let h = JS_parseInt(target.oH());\n    // 高度超出折叠要求高度时进行折叠\n    if (h > ContentFolder_limit) {\n        // 构建内容展开操作区\n        ContentFolder_buildContentExpander(target, container, tagName, i);\n    }\n\n    ContentFolder_buildTimers.shift();\n}\n\n/**\n * 构建内容展开操作区\n * @param target 为目标对象创建展开操作区（如 table）\n * @param container 指定对象所属的容器（如 table 的容器为父元素 figure）\n * @param tagName target 的 HTML 标签名\n * @param i 折叠内容序号\n */\nfunction ContentFolder_buildContentExpander(target, container, tagName, i) {\n    if (!ContentFolder_enabled)\n        return;\n\n    // 设置为已折叠\n    container.a(_data_content_folded_, _true_);\n\n    // 表格 <table>、Mermaid <svg> 图表的特性处理\n    if (tagName.sW(\"t\") || tagName.sW(\"s\")) {\n        container.c(_height_, ContentFolder_limit)\n            .c(_overflow_x_, _auto_) // 可横向滚动\n            .c(_overflow_y_, _hidden_);\n    }\n    // 非表格，非 Mermaid 图表的处理\n    else {\n        container.c(_height_, ContentFolder_limit)\n            .c(_overflow_y_, _hidden_);\n    }\n\n    let w = JS_mathCeil(JS_parseFloat(container.c(_width_)));\n\n    // 如果处理对象为表格，先隐藏表格行号，find 过滤器的内容与对应的 css 要同步更新\n    if (V_length(container.f(_table_)) > 0)\n        JQ_addClass(container.f(ContentFolder_rowNumFilter), _v_tbl_row_num_hidden_);\n\n    // 重新适配展开操作区尺寸\n    let tW = JS_mathCeil(JS_parseFloat(target.c(_width_)));\n    if (w > tW)\n        w = tW;\n\n    container.a(_data_ex_label_, V_lang_text(55, [\n        \"显示全部\",\n        \"Show all\"\n    ]) + \" ▼\");\n    let newClass = \".\" + _v_caption_container_ + \".\" + _expander_\n        + \".id-\" + i + \"::before{\" + _width_ + \":\" + w + \"px;}\";\n    gStyle.insertRule(newClass, 0);\n    JQ_addClass(container, _expander_ + \" id-\" + i);\n\n    container.a(_data_content_type_, tagName);\n\n    // 展开按钮 click 事件处理\n    container.on(_mouseUp_, () => {\n        ContentFolder_expand(container);\n    });\n}\n\n/**\n * 展开被折叠的内容\n * @param container 点击的按钮所在父元素\n */\nfunction ContentFolder_expand(container) {\n    if (!ContentFolder_enabled)\n        return;\n\n    let tagName = container.a(_data_content_type_);\n\n    // 移除内容展开操作区\n    JQ_removeClass(container, _expander_);\n\n    // 展开对应的内容\n    container.a(_data_content_folded_, _false_);\n    container.a(_data_content_expanded_, _true_);\n    container.c(_height_, _auto_);\n    // 针对表格 <table>、Mermaid <svg> 图表增加滚动属性\n    if (tagName.sW(\"t\") || tagName.sW(\"s\"))\n        container.c(_overflow_, _auto_);\n    // 非表格、非 Mermaid 图表的处理\n    else\n        container.c(_overflow_y_, \"initial\");\n\n    // 如果处理对象为表格，恢复显示表格行号，find 过滤器的的内容与对应的 css 要同步更新\n    if (V_length(container.f(_table_)) > 0)\n        JQ_removeClass(container.f(ContentFolder_rowNumFilter), _v_tbl_row_num_hidden_);\n}\n\n// ==================== 工具提示信息类 ==================== //\n\nlet ToolTips_ui = gUndefined,\n    ToolTips_continueShow = gFalse, // 是否激活持续显示\n    ToolTips_lastStyle = gUndefined,\n    ToolTips_aniTimer = gNull,\n    ToolTips_continueTimer = gNull,\n    ToolTips_delay = 1000;\n\n/**\n * 构造函数\n */\nfunction ToolTips_init() {\n    ToolTips_ui = V_byClass(_v_tool_tips_);\n\n    V_ui_addAnimate(ToolTips_ui, _opacity_);\n}\n\n/**\n * 绑定操作相关事件\n * @param target 对象\n * @param tips 提示内容\n * @param align 对齐方式，auto/center/right\n */\nfunction ToolTips_bind(target, tips, align) {\n    if (tips !== gUndefined && V_length(tips.x()) > 0)\n        target.a(_data_tips_, tips);\n\n    if (align === gUndefined)\n        align = _auto_;\n\n    V_ui_bindHover(target);\n\n    target.on(_mouseEnter_, () => {\n        ToolTips_show(target, align);\n    }).on(_mouseLeave_, () => {\n        ToolTips_hide();\n    });\n}\n\n/**\n * 显示工具提示信息\n *\n * @param follower 提示的目标元素\n * @param align 强制指定工具提示的水平对齐方式（auto/left/center/right）\n * @param classValue 指定微调的样式\n */\nfunction ToolTips_show(follower, align, classValue) {\n    if (V_util_isMobile())\n        return;\n\n    ToolTips_ui.hm(follower.a(_data_tips_));\n\n    // 强制取消最后一次延时显示的处理\n    ToolTips_aniTimer = V_util_clearTimer(ToolTips_aniTimer);\n    // 强制取消隐藏后指定时间内取消持续显示的处理\n    ToolTips_continueTimer = V_util_clearTimer(ToolTips_continueTimer);\n\n    ToolTips_lastStyle = classValue;\n\n    const space = 10,\n        tipsW = ToolTips_ui.iW(),\n        tipsH = ToolTips_ui.iH(),\n        ww = jq_Window.w() - space,\n        wh = jq_Window.h() - space;\n    let left = follower.oL(),\n        top = follower.oT() - V_util_getScrollTop(),\n        width = follower.iW(),\n        height = follower.iH();\n\n    JQ_removeClass(ToolTips_ui, _top_ +___+ _bottom_ +___+ _center_ +___+ _right_);\n\n    // 指定对齐方式或提示超出屏幕\n    if (align !== _auto_ || (left + tipsW) > ww) {\n        // 对齐方式: right\n        JQ_addClass(ToolTips_ui, _right_);\n        left = follower.oL() - tipsW + width;\n        // 右侧顶边，则微调\n        if (left + tipsW >= ww)\n            left = left - space;\n\n        // 对齐方式: center\n        if (align === _center_) {\n            JQ_removeClass(ToolTips_ui, _right_);\n            JQ_addClass(ToolTips_ui, _center_);\n            left = follower.oL() + (width - tipsW) / 2;\n        }\n    }\n    // 左侧顶边，则微调\n    if (left <= 0)\n        left = space;\n\n    if (ToolTips_lastStyle !== gUndefined)\n        JQ_addClass(ToolTips_ui, ToolTips_lastStyle);\n\n    if (top + height + tipsH + space < wh) {\n        JQ_addClass(ToolTips_ui, _top_);\n        top = top + height + space;\n    }\n    else {\n        JQ_addClass(ToolTips_ui, _bottom_);\n        top = top - tipsH - space;\n    }\n    ToolTips_ui.c(_left_, left).c(_top_, top);\n\n    // 延时，或立即显示提示\n    let waitTime = (ToolTips_continueShow) ? 0 : ToolTips_delay;\n    ToolTips_aniTimer = setTimeout(() => {\n        ToolTips_continueShow = gTrue; // 一旦显示后，激活持续显示\n        V_ui_fadeShow(ToolTips_ui);\n\n    }, waitTime);\n}\n\n/**\n * 工具提示当前是否显示\n */\nfunction ToolTips_isShowed() {\n    return ToolTips_ui.c(_visibility_) === _visible_;\n}\n\n/**\n * 隐藏工具提示\n */\nfunction ToolTips_hide() {\n    // 隐藏后在指定时间内取消持续显示\n    ToolTips_continueTimer = V_util_clearTimer(ToolTips_continueTimer);\n    ToolTips_continueTimer = setTimeout(() => {\n        ToolTips_continueShow = gFalse;\n    }, ToolTips_delay);\n\n    // 强制取消最后一次延时显示的处理\n    ToolTips_aniTimer = V_util_clearTimer(ToolTips_aniTimer);\n    V_ui_fadeHide(ToolTips_ui);\n\n    if (ToolTips_lastStyle !== gUndefined)\n        JQ_removeClass(ToolTips_ui, ToolTips_lastStyle);\n}\n\n// ==================== 弹层提示信息类 ==================== //\n\n/**\n * 构造函数\n * @param mask 遮罩对象\n */\nfunction InfoTips(mask) {\n    let T = this;\n    T.ui = V_byClass(_v_info_tips_);\n    T.aniTimer = gNull;\n\n    // 绑定点击事件\n    T.ui.uC().ck = function () {\n        T.hide();\n    }\n\n    // 遮罩\n    T.mask = mask;\n    T.mask.bindPartner(this, T.ui);\n\n    /**\n     * 显示通知信息\n     * @param message 提示内容\n     * @param delay 延时指定 ms 时间后自动关闭提示\n     * @param mask 是否显示遮罩\n     * @param target 事件源，不为空时则跟随显示\n     */\n    T.inform = function (message, delay, mask, target) {\n        T.show(message, delay, mask, \"inform\", target);\n    }\n\n    /**\n     * 显示泡泡信息\n     * @param message 提示内容\n     * @param delay 延时指定 ms 时间后自动关闭提示\n     * @param pos 显示位置。如果为事件源对象，则表示跟随其位置；如果为 corner3 ，则表示对应的角落；为空时则表示默认居中\n     */\n    T.bubble = function (message, delay, pos) {\n        T.show(message, delay, gFalse, _bubble_, pos);\n    }\n\n    /**\n     * 显示错误信息\n     * @param message 提示内容\n     * @param delay 延时指定 ms 时间后自动关闭提示\n     * @param mask 是否显示遮罩\n     * @param target 事件源，不为空时则跟随显示\n     */\n    T.error = function (message, delay, mask, target) {\n        T.show(message, delay, mask, _error_, target);\n    }\n\n    /**\n     * 显示通知提示信息\n     * @param message 提示内容\n     * @param delay 延时指定 ms 时间后自动关闭提示\n     * @param mask 是否显示遮罩\n     * @param type 类型。info/error\n     * @param targetPos 事件源/位置，如果为事件源对象，则表示跟随其位置；如果为 corner3 ，则表示对应的角落；为空时则表示默认居中\n     */\n    T.show = function (message, delay, mask, type, targetPos) {\n        T.aniTimer = V_util_clearTimer(T.aniTimer);\n\n        T.ui.hm(message);\n\n        // 先重置为默认值\n        JQ_removeClass(T.ui, _error_);\n        JQ_removeClass(T.ui, _bubble_);\n        T.ui.c(_left_, _)\n            .c(_top_, _)\n            .c(_width_, _)\n            .c(_height_, _)\n            .c(_right_, _auto_)\n            .c(_bottom_, _auto_)\n\n        if (type === _error_)\n            JQ_addClass(T.ui, _error_);\n        else if (type === _bubble_)\n            JQ_addClass(T.ui, _bubble_);\n\n        // 有指定显示位置时\n        if (targetPos !== gUndefined) {\n            // 跟随事件目标对象显示\n            if (targetPos instanceof jQuery)\n                V_ui_moveToTarget(T.ui, targetPos);\n            // 在指定的角显示\n            else if (targetPos.sW(_corner_))\n                V_ui_moveToCorner(T.ui, targetPos);\n        }\n        // 居中显示\n        else\n            V_ui_moveToCenter(T.ui);\n\n        T.ui.show();\n\n        // 延时后自动关闭\n        if (delay !== gNull) {\n            T.aniTimer = setTimeout(() => {\n                    T.hide();\n                }, delay);\n        }\n\n        // 显示遮罩\n        if (mask)\n            T.mask.show();\n    }\n\n    /**\n     * 隐藏弹窗信息\n     */\n    T.hide = function () {\n        T.ui.hide();\n        T.mask.hide();\n    }\n\n    /**\n     * 处理热键操作\n     * @param key 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (key, combKeys, event) {\n        if (V_ui_isHidden(T.ui))\n            return;\n\n        let handled = gFalse;\n        if (V_length(combKeys) === 0) {\n            switch (key) {\n                case _Escape_:\n                    if (V_ui_isShowed(T.ui)) {\n                        T.hide();\n                        handled = gTrue;\n                    }\n                    break;\n            }\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            V_util_preventDefault(event);\n    }\n}\n\n// ==================== 文档更多内容遮罩栏 ==================== //\n\nlet MoreDocContent_ui_before = gUndefined,\n    MoreDocContent_ui_after = gUndefined;\n/**\n * 构造函数\n */\nfunction MoreDocContent_init() {\n    MoreDocContent_ui_before = V_byClass(_v_more_doc_content_ + _before_);\n    MoreDocContent_ui_after = V_byClass(_v_more_doc_content_ + _after_);\n    JQ_addClass(MoreDocContent_ui_before, V_pageMode);\n    JQ_addClass(MoreDocContent_ui_after, V_pageMode);\n}\n\n/**\n * 刷新显示更多内容遮罩栏\n * @param scrollTop 文档当前滚动位置，如果为空则自动获取\n */\nfunction MoreDocContent_refresh(scrollTop) {\n    if (scrollTop === gUndefined)\n        scrollTop = V_util_getScrollTop();\n\n    // 顶部 before UI\n    if (scrollTop > gScrollEdge) {\n        if (MoreDocContent_ui_before.c(_display_) === _none_)\n            MoreDocContent_ui_before.show();\n    }\n    else\n        MoreDocContent_ui_before.hide();\n\n    // 底部 after UI\n    if ((scrollTop + jq_Window.h()) > (jq_Document.h() - gScrollEdge))\n        MoreDocContent_ui_after.hide();\n    else {\n        if (MoreDocContent_ui_after.c(_display_) === _none_)\n            MoreDocContent_ui_after.show();\n    }\n}\n\n/**\n * 根据 write 动态更新遮罩栏 UI\n */\nfunction MoreDocContent_updateUI() {\n    // 值为 auto 时进行实际像素计算\n    let mlValue = VOM_doc()[0].getBoundingClientRect().left;\n\n    if (MoreDocContent_ui_before.a(_class_).i(_fit_width_) === -1) {\n        MoreDocContent_ui_before.c(_margin_left_, mlValue);\n        MoreDocContent_ui_after.c(_margin_left_, mlValue);\n    }\n}\n\n// ==================== 题注生成器类 ==================== //\n\nlet Caption_spliter = \"  \", // \", \"\n    Caption_lastH1 = [], // 用于按章节分组编号时，指定对应题注类型最后的一级章节号\n    Caption_lastCounter = [], // 用于按章节分组编号，指定对应题注类型最后的计数器\n    Caption_auto = gTrue, // 是否启用自动生成题注\n    Caption_hideScope = _; // 是否隐藏指定内容类型的题注\n\n// 初始化题注生成器\nfunction Caption_init() {\n    // 无指定题注内容时，是否自动生成\n    if (V_util_getParamVal(_capauto_) === _off_)\n        Caption_auto = gFalse;\n\n    // 指定隐藏的题注内容类型\n    Caption_hideScope = V_util_getParamVal(_caphide_);\n    if (Caption_hideScope === gNull)\n        Caption_hideScope = _;\n    else\n        // 将 figure 转换为题注生成器对应的子项类型\n        Caption_hideScope = Caption_hideScope.r(_figure_, _img_ + \",\" + _svg_);\n}\n\n/**\n * 判断指定内容类型的题注是否要隐藏\n * @param typeName 类型名称，table, img, svg, codeblock, formula 等\n */\nfunction Caption_checkNeedHide(typeName) {\n    return Caption_hideScope.i(typeName) > -1 ? _hidden_ : _;\n}\n\n/**\n * 题注预处理，用于给需要生成题注的对象标记归属的一级章节\n */\nfunction Caption_groupPreppare() {\n    let selector = _img_ + \",.\" + _md_diagram_panel_ + \",\" + _table_ + \",.\" + gSelector_CodeBlock + \",\" + _md_math_container_parents_ + \",\" + gSelector_iframeVideo,\n        selectorSub = _img_ + \",\" + _svg_ + \"[id^='\" + _mermaid_ + \"'],\" + _table_ + \",.\" + gSelector_CodeBlock + \",\" + _md_math_container_parents_ + \",\"+ gSelector_iframeVideo;\n    $(_idWrite_ + \">:is(\" + _h1_5_ + \")\").e((index, hx) => {\n        let header = $(hx),\n            betweenSet = header.nextUntil(_h1_5_);\n        betweenSet.filter(selector).add(\n            betweenSet.f(selectorSub)).e((index, element) => {\n                if (header.a(_data_header_num_))\n                    $(element).a(_data_cap_group_, header.a(_data_header_num_).x());\n        });\n    });\n}\n\n/**\n * 生成题注前缀内容\n * @param target 需要添加题注的对象\n * @param typeText 题注类型文本，如: 表、图\n * @param counter 题注类型计数器\n */\nfunction Caption_prefix(target, typeText, counter) {\n    let capGroup = target.a(_data_cap_group_),\n        num,\n        lastCount = 0;\n\n    // 指定按章节分组编号\n    if (capGroup !== gUndefined) {\n        if (Caption_lastH1[typeText] !== capGroup) {\n            Caption_lastH1[typeText] = capGroup;\n            Caption_lastCounter[typeText] = counter - 1;\n        }\n\n        lastCount = Caption_lastCounter[typeText];\n    }\n    // 不按章节分组编号\n    else\n        capGroup = _;\n\n    num = counter - lastCount;\n    // 有分组编号数据时处理\n    if (V_length(capGroup) > 0) {\n        if (num === 1)\n            num = _;\n        else\n            capGroup = capGroup + \"-\";\n    }\n\n    return typeText +___+ capGroup + num;\n}\n\n/**\n * 生成题注\n * @param target 需要添加题注的对象\n * @param typeName 题注类型名称\n */\nfunction Caption_actionForTextContent(target, typeName) {\n    let captionPrefix = Caption_prefix(target, V_lang_text56(), V_doc_counter_table),\n        caption,\n        indexObj = gUndefined,\n        anchor,\n        dataForSearch,\n        lang = _, // 代码块语言\n        needHideResult = Caption_checkNeedHide(typeName);\n\n    // 代码块 codeblock\n    if (typeName.sW(\"c\")) {\n        lang = target.a(_lang_).x();\n        indexObj = iNavCenter.codeblocks;\n        captionPrefix = Caption_prefix(target, V_lang_text57(), V_doc_counter_codeblock);\n    }\n    // 表格 table\n    else if (typeName.sW(\"t\")) {\n        indexObj = iNavCenter.tables;\n    }\n    // 公式 formula\n    else if (typeName.sW(\"f\")) {\n        indexObj = iNavCenter.formulas;\n        captionPrefix = Caption_prefix(target, V_lang_text18(), V_doc_counter_formula);\n    }\n\n    // // 尝试获得带题注语法的内容\n    let fcSet = Caption_getCaptions(target.p().pr(), typeName);\n    let fc = fcSet[0], // 第 1 题注\n        fc2 = fcSet[1]; // 第 2 题注\n    captionPrefix = V_ui_span(_, _, captionPrefix + Caption_spliter);\n\n    // 无指定的题注内容时\n    if (fc == gNull || V_length(fc.x()) === 0) {\n        // 指定不自动生成题注，则跳过\n        if (!Caption_auto)\n            return;\n\n        // 则取其部分内容作为自动题注内容\n        fc = _;\n        // 表格，并过滤掉列格式相关语法标识内容\n        if (typeName.sW(\"t\")) {\n            fc = target.f(\"thead>tr:\" + _first_).t().x().r(/(==|:|[Y?]|\\[ ?]|## )/ig, _);\n            fc = V_util_truncateText(fc, 10);\n        }\n        // 代码块\n        else if (typeName.sW(\"c\")) {\n            // 若没有指定题注，则用 lang 属性的内容作为题注\n            if (V_length(lang) > 0)\n                fc = __genFromLang();\n            else {\n                fc = target.f(\".\" + _CodeMirror_line_).t().x();\n                // 省略中间内容处理\n                fc = V_util_truncateText(fc, 10);\n            }\n        }\n        // 公式\n        else if (typeName.sW(\"f\")) {\n            fc = target.t().x();\n            fc = V_util_truncateText(fc, 10);\n        }\n    }\n\n    // 代码块 codeblock\n    if (typeName.sW(\"c\")) {\n        anchor = _vk_id_codeblock_ + V_doc_counter_codeblock;\n        target.wrap(V_ui_div(anchor, _v_caption_ +___+ needHideResult +___+ _codeblock_));\n        dataForSearch = target.f(\".\" + _CodeMirror_line_).t();\n    }\n    // 表格 table\n    else if (typeName.sW(\"t\")) {\n        anchor = _vk_id_tbl_ + V_doc_counter_table;\n        target.wrap(V_ui_div(anchor, _v_caption_ +___+ needHideResult +___+ _table_));\n        dataForSearch = target.t();\n    }\n    // 公式 math\n    else if (typeName.sW(\"f\")) {\n        anchor = _vk_id_math_ + V_doc_counter_formula;\n        target.wrap(V_ui_div(anchor, _v_caption_ +___+ needHideResult +___+ _formula_));\n        dataForSearch = target.t();\n    }\n\n    caption = captionPrefix + fc;\n\n    let cap1 = V_ui_figcaption(_v_cap1_.xD(),\n            (V_length(lang) > 0 ? V_attr(_lang_, \" (\" + lang + \")\") : _), caption),\n        has2Captions = (fc2 != gNull && V_length(fc2) > 0); // 计算题注数量\n    // 有两个题注时\n    if (has2Captions) {\n        // 第 1 题注\n        __insertCap1(cap1);\n        // 第 2 题注\n        target.af(V_ui_figcaption(_v_cap2_.xD(), _, fc2));\n        target.p().a(_data_caption_count_, 2);\n    }\n    // 单题注时\n    else {\n        // 对于公式，在下方插入\n        if (typeName.sW(\"f\"))\n            __insertCap1(cap1, gTrue);\n        // 其他，在上方插入\n        else\n            __insertCap1(cap1);\n    }\n\n    // ----------------------------------------\n    // 添加到对应的内容索引\n    if (indexObj !== gUndefined) {\n        dataForSearch += has2Captions ? fc2 : _;\n        V_byID(anchor).a(_data_title_, caption);\n        indexObj.add(caption, anchor, dataForSearch);\n    }\n\n    // 从属性 lang 生成题注内容\n    function __genFromLang() {\n        let result = lang.u();\n        lang = _;\n        JQ_removeAttr(target, _lang_);\n        return result;\n    }\n\n    // 在上方插入第 1 题注\n    function __insertCap1(content, after) {\n        if (after === gTrue)\n            target.af(content);\n        else\n            target.bf(content);\n    }\n}\n\n/**\n * 针对插图（img、mermaid）生成题注\n * @param target 需要添加题注的对象\n * @param tagName 添加题注的目标对象的 HTML 标签名称\n */\nfunction Caption_actionForMediaContent(target, tagName) {\n    // 指定不自动生成题注，则跳过\n    if (!Caption_auto)\n        return;\n\n    let fc = target.a(_alt_), // 默认尝试获取图片的 alt 内容作为题注内容\n        fc2 = target.a(_title_), // 默认尝试获得图片的 title 作为第二题注内容\n        indexObj = iNavCenter.figures,\n        anchor,\n        dataForSearch = _,\n        needHideResult = Caption_checkNeedHide(tagName);\n\n    let fcSet = gNull;\n    // 若图片 alt 无内容，则尝试获取前面段落（如<p>、<h6>）作为第 1、2 题注的内容\n    if (fc == gNull || V_length(fc.x()) === 0) {\n        fcSet = Caption_getCaptions(target.p().pr(), tagName);\n        if (fcSet[0] !== gNull)\n            fc = fcSet[0];\n        else {\n            // 使用图片的文件名作为题注\n            if (tagName.sW(\"i\")) {\n                let src = target.a(_src_);\n                fc = V_util_getUrlWithoutQueryAndHash(src.ss(src.lastIndexOf('/') + 1));\n            }\n        }\n        if (fcSet[1] !== gNull)\n            fc2 = fcSet[1];\n    }\n\n    // 插图（img、mermaid）题注前缀\n    let caption,\n        captionPrefix = Caption_prefix(target, V_lang_text58(), V_doc_counter_figure);\n    // 音频题注 audio\n    if (tagName.sW(\"a\")) {\n        indexObj = iNavCenter.media;\n        captionPrefix = Caption_prefix(target, V_lang_text59(), V_doc_counter_audio);\n    }\n    // 视频频题注 video\n    else if (tagName.sW(\"v\")) {\n        indexObj = iNavCenter.media;\n        captionPrefix = Caption_prefix(target, V_lang_text60(), V_doc_counter_video);\n    }\n\n    // 无指定的题注内容时\n    if (fc == gNull || V_length(fc.x()) === 0) {\n        // 同时指定不自动生成题注，则跳过\n        if (!Caption_auto)\n            return;\n\n        fc = _;\n        // 则取其部分内容作为自动题注内容\n        if (tagName.sW(\"s\")) // Mermaid SVG\n            fc = target.f(\"g\").t().x();\n        // 省略中间内容处理\n        fc = V_util_truncateText(fc.x(), 10);\n    }\n    captionPrefix = V_ui_span(_, _, captionPrefix + Caption_spliter);\n    caption = captionPrefix + fc;\n\n    // 为插图（mermaid）增加题注 <svg>\n    if (tagName.sW(\"s\")) {\n        anchor = _vk_id_fig_ + V_doc_counter_figure;\n        // 针对 Mermaid 插图，添加额外的类，用于打印前后处理时直接定位 Mermaid 插图的题注\n        target.wrap(V_ui_divExt(anchor, _v_caption_ +___+ needHideResult +___+ _mermaid_, V_attr(_data_fig_type_, tagName)));\n        dataForSearch += target.f(_div_ + \",\" + _span_ + \",tspan,\" + _text_).t();\n    }\n    // 为插图（img）增加题注 <img>\n    else if (tagName.sW(\"i\")) {\n        anchor = _vk_id_fig_ + V_doc_counter_figure;\n        target.wrap(V_ui_divExt(anchor, _v_caption_ +___+ needHideResult, V_attr(_data_fig_type_ , tagName)));\n        dataForSearch += target.a(_src_);\n    }\n    // 为音频增加题注 <audio>\n    else if (tagName.sW(\"a\")) {\n        anchor = _vk_id_audio_ + V_doc_counter_audio;\n        target.wrap(V_ui_divExt(anchor, _v_caption_ +___+ needHideResult, V_attr(_data_fig_type_, tagName)));\n        dataForSearch += target.a(_src_);\n    }\n    // 为视频增加题注 <video>\n    else if (tagName.sW(\"v\")) {\n        anchor = _vk_id_video_ + V_doc_counter_video;\n        target.wrap(V_ui_divExt(anchor, _v_caption_ +___+ needHideResult\n            + (tagName.eW(_iframe_) ? ___+ _iframe_ : _), // 内嵌视频的情况\n            V_attr(_data_fig_type_, tagName)));\n    }\n\n    let cap1 = V_ui_figcaption(_v_cap1_.xD(), _, caption),\n        has2Captions = (fc != gNull && fc2 != gNull && V_length(fc2) > 0); // 计算题注数量\n    // 有两个题注时\n    if (has2Captions) {\n        // 第 1 题注\n        __insertCap1(cap1);\n        // 第 2 题注\n        target.af(V_ui_figcaption(_v_cap2_.xD(), _, fc2));\n        target.p().a(_data_caption_count_, 2);\n    }\n    // 单题注时\n    else {\n        // 对于插图，在下方插入\n        if (tagName.sW(\"i\") || tagName.sW(\"s\"))\n            __insertCap1(cap1, gTrue);\n        // 其他，在上方插入\n        else\n            __insertCap1(cap1);\n    }\n\n    // ----------------------------------------\n    // 添加到对应的内容索引\n    if (indexObj !== gUndefined) {\n        dataForSearch += has2Captions ? fc2 : _;\n        V_byID(anchor).a(_data_title_, caption);\n        indexObj.add(caption, anchor, dataForSearch);\n    }\n\n    // ----------------------------------------\n    // 修正在 SVG 插图套上题注后的自适应尺寸 <svg>\n    if (tagName.sW(\"s\")) {\n        if (target.a(_height_) !== _none_ || target.c(_height_) !== _none_) { // 有指定高度的\n            JQ_removeAttr(target, _height_);\n            target.c(_height_, _);\n        }\n\n        // 调整SVG插图，尽量按其真实插图的大小显示，超出浏览器宽度的，则左右滚动浏览\n        let style = gUndefined;\n        if (target.c(_max_width_) !== _none_) // CSS 中指定了最大宽度\n            target.p().c(_width_, target.c(_max_width_));\n        else if ((style = target.a(_style_)) !== gUndefined && style.i(_width_) > -1) // 通过 style 指定了宽度\n            target.p().c(_width_, target.c(_width_));\n        else if (target.a(_width_) !== _100pc_) // 指定了 width 属性，且不为 100%\n            target.p().c(_width_, JS_parseInt(target.a(_width_)) + 4); // 4 为两边 border 的宽度\n        else if (target.a(_view_box_) !== _none_) // 指定 width 为 100% 的情况\n            target.p().c(_width_, target.a(_view_box_).sp(___)[2] + \"px\");\n        else\n            target.p().c(_width_, _100pc_);\n    }\n\n    // 在上方插入第 1 题注\n    function __insertCap1(content, after) {\n        if (after === gTrue)\n            target.af(content);\n        else\n            target.bf(content);\n    }\n}\n\n/**\n * 返回插图、表格、代码块上方的题注\n * @param caption 潜在的题注内容对象\n * @param tagName 添加题注的目标对象的 HTML 标签名称\n */\nfunction Caption_getCaptions(caption, tagName) {\n    let fcSet = [], // 题注集\n        captionTagName = V_util_getTagName(caption),\n        hideCaptionSrc = gFalse; // 是否隐藏题注源\n\n    let capResult = Caption_parseSyntax(caption);\n    // 双题注\n    if (capResult[1] === 2) {\n        fcSet = __getCaptionSet(caption, 2, capResult[0]);\n        hideCaptionSrc = gTrue;\n    }\n    // 单题注\n    else if (capResult[1] === 1) {\n        fcSet = __getCaptionSet(caption, 1, capResult[0]);\n        fcSet[1] = gNull;\n        hideCaptionSrc = gTrue;\n    }\n    // 无题注语法，但由有 h1-h6 引导\n    else if (captionTagName.sW(\"h\")) {\n        fcSet[0] = caption.t().x();\n        fcSet[1] = gNull;\n        // 不能直接隐藏，会影响页内链接跳转至该位置\n        // 设置为不可见，并调整位置布局实现隐藏效果，同时不影响跳转\n        if (captionTagName === _h6_) { // 只针对 h6，h1-h5不隐藏\n           caption.c(_visibility_, _hidden_)\n                .c(_position_, _absolute_);\n        }\n    }\n\n    // 若成功匹配出题注，且内容不是 <img> 则隐藏原始内容\n    if (hideCaptionSrc && (!tagName.sW(\"i\") || capResult[0] === 200))\n        caption.rm();\n\n    return fcSet;\n\n\n\n    /**\n     * 返回题注数据数组\n     * @param target 题注数据的目标对象\n     * @param count 题注数量\n     * @param type 题注语法类型，100：标准，200：简化语法\n     * @returns [] [0] 为第 1 个题注，[1] 为第 2 个题注\n     */\n    function __getCaptionSet(target, count, type) {\n        let fcSet = [];\n        // 标准语法\n        if (type === 100) {\n            let text = target.t().x();\n            fcSet[0] = text.ss(2, text.i(\"]\", 2));\n            if (count === 2) // \"▲ \" +\n                fcSet[1] = text.ss(text.i(']\"', 2) + 2, V_length(text) - 1);\n        }\n        // 简化语法\n        else if (type === 200) {\n            if (count === 2) // \"▲ \" +\n                fcSet[1] = target.f(_mark_ + \">em\").t().x();\n            target.f(_mark_ + \">em\").rm();\n            fcSet[0] = target.t().x();\n        }\n        return fcSet;\n    }\n}\n\n/**\n * 解析并返回匹配的题注数量\n * @param target 题注语法内容对象\n * @returns [] [0] 语法类型, [1] 题注数量\n */\nfunction Caption_parseSyntax(target) {\n    let reg2 = /^!\\[.+]\".+\"$/, // 有 2 个题注\n        reg1 = /^!\\[.+]$/, // 只有 1 个题注\n        html = _;\n    // 标准语法，双题注\n    if (reg2.test(target.t().x()))\n        return [100, 2]; // 100: 标准语法\n    // 标准语法，单题注\n    else if (reg1.test(target.t().x()))\n        return [100, 1]; // 100: 标准语法\n    // 简化的新语法\n    else if ((html = target.hm()) !== gUndefined) {\n        if (html.sW(\"<em><mar\") && html.eW(\"/em>\")) {\n            if (html.i(\"/em></mark>\") === -1)\n                return [200, 1]; // 200: 简化语法\n            else\n                return [200, 2]; // 200: 简化语法\n        }\n    }\n    return [0, 0]; // 无题注\n}\n\n// ==================== 分步分级类 ==================== //\n\nlet BreadcrumbStyle_count = 0,\n    // 匹配面包屑内容中的指定分隔符号，但不包括 HTML 标签内的内容\n    BreadcrumbStyle_syntax = /(\\s*(\\/|\\\\|▸|▶︎|(&gt;)|(-&gt;)|→)\\s*)(?![^<>]*>)/g;\n\n/**\n * 初始如化分步分级处理\n */\nfunction BreadcrumbStyle_init() {\n    // 对所有分步分级元素进行样式优化\n    $(_idWrite_ + \" em>\" + _mark_ + __only_child_ + \">\" + _span_ + __first_child_).e((index, element) => {\n        BreadcrumbStyle_count++;\n        let _t = $(element),\n            mark = _t.p();\n        mark.unwrap(); // 解包 em\n        // 添加新包\n        mark.wrap(V_ui_span(_v_breadcrumb_style_ + \" id-\" + BreadcrumbStyle_count, _, _));\n        _t.unwrap(); // 解包 mark\n\n        // ------ 正式开始处理 ------\n        let bread = _t.p(), // 获得添加新包后的新父级元素\n            slashOrg = \"</\",\n            slashTmp = \"<___slash___\",\n            html = bread.hm().rA(slashOrg, slashTmp);\n\n        // 生成原始内容\n        bread.a(_data_clipboard_text_, bread.t());\n        // 将目标内容替换为指定标签进行样式优化\n        html = html.rA(BreadcrumbStyle_syntax, V_ui_label(_, _, ___));\n        bread.hm(html.rA(slashTmp, slashOrg));\n\n        // 点击事件处理\n        bread.uC().ck((event) => {\n            let _t = $(event.currentTarget);\n            Copy_action(_t, _t.a(_data_clipboard_text_), gFalse);\n        });\n    });\n\n    // 避免与 BreadcrumbStyle 处理中的多层触发\n    $(_idWrite_ + \" .\" + _v_breadcrumb_style_ + \" a\").ck((event) => {\n        event.stopPropagation(); // 停止事件冒泡\n    });\n}\n\n// ==================== 代码块增强类 ==================== //\n\n/**\n * 初始化代码块\n */\nlet gSelector_CodeBlock = _md_fences_ + V_not(V_attrCSS(_lang_, _math_));\nfunction ExtCodeBlock_init() {\n    // 遍历所有代码块\n    V_byClass(gSelector_CodeBlock).e((index, element) => {\n        let _t = $(element);\n\n        // 绑定内容助手\n        ContentAssistor_bind(_t, _codeblock_);\n\n        // 折叠长代码块\n        ContentFolder_add(_t, _codeblock_);\n\n        // 生成代码块插图题注（行数 > 1 的才进行处理）\n        V_doc_counter_codeblock++;\n        // 外套一个 <figure> 标签，用于内容折叠时与插图、表格的 DOM 结构一致\n        _t.wrap(V_ui_figure(_v_caption_container_, V_attr(_data_container_, _codeblock_)));\n\n        // 先根据题注语法生成题注\n        Caption_actionForTextContent(_t, _codeblock_);\n    });\n}\n\n/**\n * 复制代码块内容\n * @param source 内容源对象\n */\nfunction ExtCodeBlock_copyContent(source) {\n    let content = _,\n        lines = ContentAssistor_lastHover.ch().f(\".\" + _CodeMirror_code_ + \" .\" + _CodeMirror_line_),\n        lineNum = 0,\n        lineCount = V_length(lines),\n        // 用于清除或转换特殊字符\n        badChars = [\n            \"%E2%80%8B\", // ZERO WIDTH SPACE \\u200b\n            \"%C2%A0\", // NO-BREAK SPACE \\u00A0\n            \"%0A\" // NO-BREAK SPACE \\u0A\n        ],\n        goodChars = [\n            _, // 替换 ZERO WIDTH SPACE\n            \"%20\", // for NO-BREAK SPACE\n            _ // for NO-BREAK SPACE\n        ];\n\n    // 逐行读取代码\n    lines.e((index, element) => {\n        lineNum++;\n        let encodeText = JS_encodeURI($(element).t());\n        // 清除或转换特殊字符\n        for (let i = 0; i < V_length(badChars); i++) {\n            if (encodeText.i(badChars[i]) > -1)\n                encodeText = encodeText.rA(badChars[i], goodChars[i]);\n        }\n        content += JS_decodeURI(encodeText) + (lineNum < lineCount ? \"\\n\" : _);\n    });\n\n    Copy_action(source, content, gTrue);\n}\n\n// ==================== 代码块换行、不换行类 ==================== //\n\n/**\n * 切换代码块换行、不换行开关\n */\nfunction CodeblockWrap_toggle() {\n    let codeblock = ContentAssistor_lastHover;\n    // 已开启，则关闭\n    if (CodeblockWrap_isWrap(codeblock)) {\n        JQ_removeClass(ContentAssistor_btns_wrap, _selected_);\n        JQ_removeClass(codeblock, _unwrap_);\n    }\n    // 未开启，则开启\n    else {\n        JQ_addClass(ContentAssistor_btns_wrap, _selected_);\n        JQ_addClass(codeblock, _unwrap_);\n    }\n}\n\n/**\n * 判断代码块是否启用了换行\n */\nfunction CodeblockWrap_isWrap() {\n    return ContentAssistor_lastHover.a(_class_).i(_unwrap_) > -1;\n}\n\n// ==================== 公式增强类 ==================== //\n\n/**\n * 初始化公式\n */\nfunction ExtMath_init() {\n    // 遍历所有代码块\n    $(_md_math_container_parents_).e((index, element) => {\n        let _t = $(element);\n\n        // 绑定内容助手\n        ContentAssistor_bind(_t, _formula_);\n\n        // 生成代码块插图题注（行数 > 1 的才进行处理）\n        V_doc_counter_formula++;\n        // 外套一个 <figure> 标签，用于内容折叠时与插图、表格的 DOM 结构一致\n        _t.wrap(V_ui_figure(_v_caption_container_, V_attr(_data_container_, _formula_)));\n\n        // 先根据题注语法生成题注\n        Caption_actionForTextContent(_t, _formula_);\n    });\n}\n\n// ==================== 复制处理类 ==================== //\n\nlet Copy_lastActionTime = 0,\n    Copy_processing = gFalse,\n    Copy_modeTimer = gNull;\n    // 带格式复制\n    // Copy_rich_ui = gUndefined,\n    // Copy_rich_ui_start = gUndefined,\n    // Copy_rich_ui_end = gUndefined;\n\n// 初始化\nfunction Copy_init() {\n    // let ui = V_ui_div(_copy_rich_start_, _, _)\n    //         + V_ui_div(_copy_rich_end_, _, _)\n    //         + V_ui_div(_, \"v-write\", _);\n    // DOM_body().ap(ui);\n    // Copy_rich_ui = V_byClass(\"v-write\");\n    // Copy_rich_ui_start = V_byID(_copy_rich_start_);\n    // Copy_rich_ui_end = V_byID(_copy_rich_end_);\n}\n\n/**\n * 执行复制\n * @param source 触发复制的对象\n * @param content 要复制的内容\n * @param supportMarkdown 是否支持复制为 Markdown\n * @param successCallback 复制成功后的回调函数\n * @param errorCallback 复制失败后的回调函数\n */\nfunction Copy_action(source, content, supportMarkdown, successCallback, errorCallback) {\n    // 控制两次复制操作的时间间隔（同时也是解决嵌套情况下的复制失效问题）\n    let ts = V_util_getTime();\n    if (Copy_processing || ts - Copy_lastActionTime < 200)\n        return;\n    Copy_lastActionTime = ts;\n    Copy_processing = gTrue;\n\n    // 将要复制的内容赋予给 clipboard.js 指定的对象属性 data-clipboard-text\n    let targetName = \".\" + source.a(_class_).rA(___, \".\");\n    // 测试用 DEBUG(targetName);\n    $(targetName).a(_data_clipboard_text_, content);\n    DEBUG($(targetName).a(_data_clipboard_text_));\n\n    // 创建 clipboard.js 对象用于实现复制\n    let clipboard = new ClipboardJS(targetName);\n\n    // 复制成功事件\n    clipboard.on(\"success\", (event) => {\n        // 显示复制成功提示\n        iInfoTips.bubble(V_lang_text(62, [\n                \"已复制\",\n                \"Copied\"\n            ]), 2000, source);\n        event.clearSelection();\n\n        typeof(successCallback) === _function_ && successCallback();\n\n        // 销毁处理已有对象，避免多次监听\n        clipboard.destroy();\n\n        Copy_processing = gFalse;\n    });\n    // 复制失败事件\n    clipboard.on(_error_, () => {\n        // 显示复制失败提示\n        iInfoTips.error(V_ui_strong(V_lang_text(37, [\n            \"抱歉～暂不支持在该浏览器中复制\",\n            \"I'm very sorry~ I don't support copying in this browser\"\n        ])), 3000, gFalse, source);\n\n        typeof(errorCallback) === _function_ && errorCallback();\n\n        // 销毁处理已有对象，避免多次监听\n        clipboard.destroy();\n        Copy_processing = gFalse;\n    });\n}\n\n/**\n * 处理带格式复制的操作\n */\n// async function Copy_actionForRich() {\n//     // 针对选中的内容进行处理\n//     const selection = window.getSelection();\n//     if (selection.rangeCount > 0 && Copy_rich_ui_start !== gUndefined) {\n//         let range = selection.getRangeAt(0),\n//             selectedContent = range.cloneContents();\n\n//         // 将临时添加到 #write 内以正确匹配样式后再进行处理\n//         Copy_rich_ui.a(_id_, \"write\");\n//         Copy_rich_ui.c(_width_, VOM_doc().c(_width_));\n//         Copy_rich_ui.ap($(selectedContent));\n\n//         // 递归处理子元素\n//         __convertStylesToInline(Copy_rich_ui[0]);\n\n//         // 将完成内联样式处理的内容写入到 clipboard\n//         try {\n//             let clipboardItem = new ClipboardItem({\n//                 \"text/html\": new Blob([Copy_rich_ui.hm()], { type: _text_ + \"/\" + _html_ }),\n//                 \"text/plain\": new Blob([Copy_rich_ui.t()], { type: _text_ + \"/plain\" }) // 提供纯文本作为备用\n//             });\n//             // 使用 Clipboard API 写入剪贴板\n//             await navigator.clipboard.write([clipboardItem]);\n//             iInfoTips.bubble(V_lang_text(62, [\n//                 \"已复制\",\n//                 \"Copied\"\n//             ]), 2000);\n//             // LOG(\"源格式的内容已复制到剪贴板\");\n//         } catch (err) {\n//             ALERT([\n//                 \"源格式的内容复制失败：\",\n//                 \"Failed to copy content in source format: \"\n//             ][V_lang] + err);\n//         }\n\n//         // 延迟移除临时复制标记内的内容，确保粘贴前内容完整\n//         setTimeout(() => {\n//             // 清除临时内容\n//             Copy_rich_ui.ch().rm();\n//             Copy_processing = gFalse;\n//         }, 1000);\n//     }\n\n//     // 转换内联样式\n//     function __convertStylesToInline(element) {\n//         let _t = $(element);\n//         if (V_length(_t.ch()) === 0 && V_length(_t.t().x()) === 0) {\n//             element.setAttribute(_style_, _display_+\":\"+_none_);\n//             return;\n//         }\n\n//         let computedStyles = window.getComputedStyle(element),\n//             inlineStyle = _,\n//             propertyList = [\n//                 // 字体相关\n//                 _font_family_,\n//                 _font_size_,\n//                 _font_weight_,\n//                 _font_style_,\n//                 _line_height_,\n//                 _text_transform_,\n//                 _letter_spacing_,\n//                 // 颜色、背景\n//                 _color_,\n//                 _background_color_,\n//                 _background_image_,\n//                 _background_clip_,\n//                 _background_repeat_,\n//                 _background_position_,\n//                 // 阴影\n//                 _box_shadow_,\n//                 _text_shadow_,\n//                 // 边框\n//                 _border_,\n//                 _border_left_,\n//                 _border_right_,\n//                 _border_top_,\n//                 _border_bottom_,\n//                 _border_radius_,\n//                 // 对齐\n//                 _text_align_,\n//                 _justify_content_,\n//                 _align_items_,\n//                 _vertical_align_,\n//                 // 大小、布局\n//                 // _left_,\n//                 // _width_,\n//                 _padding_,\n//                 _margin_,\n//                 _min_width_,\n//                 _max_width_,\n//                 _word_break_,\n//                 _white_space_,\n//                 _overflow_,\n//                 _overflow_wrap_,\n//                 _display_,\n//                 _position_,\n//                 _z_index_\n//             ];\n\n//         for (let i = 0; i < V_length(propertyList); i++)\n//             inlineStyle += __genInlineStyle(computedStyles, propertyList[i]);\n\n//         // 处理伪元素\n//         // const pseudoBefore = window.getComputedStyle(element, '::before');\n//         // const pseudoAfter = window.getComputedStyle(element, '::after');\n\n//         // if (pseudoBefore.content !== _none_) {\n//         //     inlineStyle += `::before { content: ${pseudoBefore.content}; } `;\n//         // }\n//         // if (pseudoAfter.content !== _none_) {\n//         //     inlineStyle += `::after { content: ${pseudoAfter.content}; } `;\n//         // }\n\n//         // 设置内联样式\n//         element.setAttribute(_style_, inlineStyle);\n\n//         // 递归处理子元素\n//         for (let child of element.children)\n//             __convertStylesToInline(child);\n//     }\n\n//     // 生成指定属性名的内联样式内容\n//     function __genInlineStyle(style, propertyName) {\n//         let value = V_util_getComputedStyleValue(style, propertyName),\n//             inlineStyle = _;\n//         if (value) inlineStyle = `${propertyName}:${value};`;\n//         return inlineStyle;\n//     }\n// }\n\n// ==================== 标记不发布的内容类 ==================== //\n\nfunction Unpublished_init() {\n    // --------------------\n    // 指定的引用块（小标题、折叠）\n    $(_idWrite_ +___+ _blockquote_ + ExtQuote_subTitle + \">\" + _del_ + \",\"\n    + _idWrite_ +___+ _blockquote_ + \">h6\" + __first_child_ + \">\" + _del_).e((index, element) => {\n        let _t = $(element).p(),\n            tagName = V_util_getTagName(_t),\n            target = gUndefined;\n\n        if (tagName.sW(\"h6\")) // h6, 扩展语法在生成 detail 前\n            target = _t.p();\n        else if (tagName.sW(\"st\") || tagName.sW(\"ma\")) // strong, mark\n            target = _t.p().p();\n\n        if (target !== gUndefined) {\n            let hr = target.prev();\n            // 先移除前置的可以移除的 hr\n            if (V_util_getTagName(hr) === \"hr\")\n                hr.rm();\n            // 移除目标对象\n            target.rm();\n        }\n    });\n\n    // --------------------\n    // 指定的章节\n    for (let i = 1; i <= 6; i++)\n        __disposeUnpubHeader(i);\n\n    // --------------------\n    // 表格指定列\n    // 在表格列格式化处理的 ColumnFormatting_format() 中进行\n\n    /**\n     * 处理指定分级章节不发布内容的处理\n     * @param headerNum 指定要遍历的章节等级\n     */\n    function __disposeUnpubHeader(headerNum) {\n        $(_idWrite_ + \">h\" + headerNum + \">\" + _del_).e((index, element) => {\n            let _t = $(element).p(),\n                id = _t.a(_id_);\n            WARN(`Remove unpub. ${_header_}: ${_t.t()} (#${id})`);\n\n            // 移除目录大纲中的节点\n            V_byClass(_md_toc_item_ + \">a\" + V_attrCSS(_href_, \"#\" + id)).e((index, element) => {\n                let tocItem = $(element);\n                if (tocItem !== gUndefined)\n                    tocItem = tocItem.p();\n                tocItem.rm();\n            });\n\n            // 移除正文中指定的章节及子章节的内容，直到下一个同级，或更高等级章节\n            _t.nextUntil(\n                \"h\" + (headerNum === 1\n                    ? 1 // 一级章节\n                    : (headerNum - 1) + \",h\" + headerNum)\n                + \",.\" + _footnotes_area_).rm(); // 比指定章节等级更高一级的，及当前等级章节\n            // 移除自身\n            _t.rm();\n        });\n    }\n}\n\n// ==================== 章节标题自动编号增强类 ==================== //\n\nlet HeaderAutoNum_counter = [],\n    HeaderAutoNum_lastLevel = 1,\n    // 自定义的自动编号格式模板（可只指定任意 h1~h6）\n    HeaderAutoNum_tpl = \"h1{{###. }},h2{{### }},h3{{### }},h4{{### }},h5{{### }},h6{{#none# }}\",\n    // 默认的自动编号格式模板\n    HeaderAutoNum_tplSet = HeaderAutoNum_tpl.sp(\",\"),\n    HeaderAutoNum_tpl_syntax = /h([1-6]){{(.*)(#(0*)(#|zh|ZH|alpha|ALPHA|roman|ROMAN|none)(-min|-sup)?#)(.*)}}/,\n    HeaderAutoNum_tpl_leftPad = [_, _, _, _, _, _],\n    HeaderAutoNum_tpl_format = [\"#\", \"#\", \"#\", \"#\", \"#\", \"#\"], // 编号格式\n    HeaderAutoNum_tpl_formatOpt = [0, 0, 0, 0, 0, 0], // 特殊格式选项\n    HeaderAutoNum_tpl_prefix = [_, _, _, _, _, _], // 前缀\n    HeaderAutoNum_tpl_suffix = [_, _, _, _, _, _]; // 后缀\n\n// 特殊格式选项\nconst HEADER_AUTONUM_TPL_FORMAT_OPT_NONE = 0, // 无\n    HEADER_AUTONUM_TPL_FORMAT_OPT_MIN = 1, // -min\n    HEADER_AUTONUM_TPL_FORMAT_OPT_SUP = 2; // -sup\n\n/**\n * 初始化章节目录自动编号\n */\nfunction HeaderAutoNum_initToc() {\n    let metaTpl = V_util_getMetaByName(_vlook_header_autonum_);\n    // 文档无指定自动编号格式模板时，尝试取主题配套的自动编号格式模板\n    if (metaTpl === gUndefined)\n        metaTpl = V_util_removeQuotes(V_util_getVarVal(\"--\" + _vlook_header_autonum_).x());\n    // 没有目录大纲，同时没有通过预置选项、主题配置指定自动编号格式模板，则跳过\n    // if (V_length(gTocContent) === 0 || metaTpl === gUndefined)\n    if (metaTpl === gUndefined)\n        return;\n\n    // 重置自动编号格式模板\n    HeaderAutoNum_resetTpl(metaTpl);\n\n    // 对目录大纲内的章节条目进行处理\n    if (V_length(gTocContent) > 0) {\n        HeaderAutoNum_resetCounter();\n        gTocContent.ch(\".\" + _md_toc_item_).e((index, element) => {\n            let item = $(element);\n            V_ui_addAnimate(item);\n            __genNumContent(item,\n                HeaderAutoNum_parseTocHeaderLevel(item.a(_class_)));\n        });\n    }\n\n    // 对文档中的章节条目进行处理（不包括封底）\n    HeaderAutoNum_resetCounter();\n    VOM_doc().ch(\"h1\" + V_not(__last_child_) + \",h2,h3,h4,h5\").e((index, element) => {\n        let item = $(element);\n        __genNumContent(item,\n            HeaderAutoNum_parseTocHeaderLevel(V_util_getTagName(item)));\n    });\n\n    // 对文档中的 h6 章节条目进行处理（不包括封面）\n    HeaderAutoNum_resetCounter();\n    VOM_doc().ch(_h6_ + V_not(__first_child_)).e((index, element) => {\n        let prefix = (HeaderAutoNum_tpl_prefix[5]),\n            result;\n        if ((result = prefix.m(/var\\((--.+)\\)/)) !== gNull)\n            prefix = V_util_getVarVal(result[1]).rA('\"', _);\n        $(element).a(_data_header_num_, prefix);\n    });\n\n    // 生成标题编号\n    function __genNumContent(item, lv) {\n        let diff = lv - HeaderAutoNum_lastLevel,\n            absDiff = Math.abs(diff);\n        // 当前层级比上一层级低\n        if (diff > 0) {\n            for (let i = 0; i < absDiff; i++)\n                HeaderAutoNum_push();\n        }\n        // 当前层级比上一层级高\n        else if (diff < 0) {\n            for (let i = 0; i < absDiff; i++)\n                HeaderAutoNum_pop();\n        }\n        // 当前层级与上一层级一样\n        else {\n            HeaderAutoNum_counter[HeaderAutoNum_lastLevel - 1]++;\n        }\n\n        item.a(_data_header_num_, HeaderAutoNum_toString());\n    }\n}\n\n/**\n * 进入下一级的处理\n */\nfunction HeaderAutoNum_push() {\n    HeaderAutoNum_lastLevel++;\n    HeaderAutoNum_counter[HeaderAutoNum_lastLevel - 1] = 1;\n}\n\n/**\n * 返回上一级的处理\n */\nfunction HeaderAutoNum_pop() {\n    HeaderAutoNum_counter[HeaderAutoNum_lastLevel - 1] = 0;\n    HeaderAutoNum_lastLevel--;\n    HeaderAutoNum_counter[HeaderAutoNum_lastLevel - 1]++;\n}\n\n/**\n * 重置自动编号计数器\n */\nfunction HeaderAutoNum_resetCounter() {\n    HeaderAutoNum_counter = [0, 0, 0, 0, 0, 0];\n    HeaderAutoNum_lastLevel = 1;\n}\n\n/**\n * 根据自动编号格式模板重新重置 h1~h6 自动编号格式\n * @param metaTpl 格式模板内容\n */\nfunction HeaderAutoNum_resetTpl(metaTpl) {\n    // 判断是否有指定自定义自动编号模板\n    if (metaTpl === gUndefined)\n        return;\n    HeaderAutoNum_tpl = metaTpl;\n    // ！！！不要删除！！！用于测试效果\n    // HeaderAutoNum_tpl = \"h1{{###. }},h2{{### }},h3{{### }},h4{{### }},h5{{### }}\";\n    // HeaderAutoNum_tpl = \"h1{{第#zh#章 }}\";\n    // HeaderAutoNum_tpl = \"h1{{第#zh#章 }},h2{{Chapter #alpha# }},h5{{### }},h4{{### - }},h3{{§ ###}}\";\n    // HeaderAutoNum_tpl = \"h1{{第#zh#章 }},h2{{步骤 #000## }}\";\n    // HeaderAutoNum_tpl = \"h6{{X ### }}\";\n    // HeaderAutoNum_tpl = \"h1{{###. }},h2{{### }}\";\n    // HeaderAutoNum_tpl = \"h1{{#none#}},h2{{#none#}},h3{{### }},h4{{### }},h5{{#ALPHA-min# }}\";\n\n    if (V_length(HeaderAutoNum_tpl) === 0)\n        return;\n\n    // 对自动编号格式模板内容进行处理\n    let tplSet = HeaderAutoNum_tpl.sp(\",\"),\n        lv;\n    for (let i = 0; i < V_length(tplSet); i++) {\n        lv = tplSet[i].ss(1, 2);\n        if (!isNaN(lv))\n            HeaderAutoNum_tplSet[lv - 1] = tplSet[i].x();\n    }\n\n    // 解析自定义编码格式模板内容\n    __parseTplItem(0); // h1\n    __parseTplItem(1); // h2\n    __parseTplItem(2); // h3\n    __parseTplItem(3); // h4\n    __parseTplItem(4); // h5\n    __parseTplItem(5); // h6\n\n    // 解析模板条目\n    function __parseTplItem(lv) {\n        let result;\n        if ((result = HeaderAutoNum_tplSet[lv].m(HeaderAutoNum_tpl_syntax)) !== gNull\n            && V_length(result) === 8) {\n                HeaderAutoNum_tpl_prefix[lv] = result[2];\n                HeaderAutoNum_tpl_leftPad[lv] = result[4];\n                HeaderAutoNum_tpl_format[lv] = result[5];\n                HeaderAutoNum_tpl_formatOpt[lv] =\n                    (result[6] === \"-min\") ? HEADER_AUTONUM_TPL_FORMAT_OPT_MIN\n                    : (result[6] === \"-sup\") ? HEADER_AUTONUM_TPL_FORMAT_OPT_SUP\n                    : HEADER_AUTONUM_TPL_FORMAT_OPT_NONE;\n                HeaderAutoNum_tpl_suffix[lv] = result[7];\n        }\n    }\n}\n\n/**\n * 将当前层级信息转换为字符串\n */\nfunction HeaderAutoNum_toString() {\n    let lv = HeaderAutoNum_lastLevel - 1,\n        superLv = (lv > 0) ? lv - 1 : -1,\n        opt = HeaderAutoNum_tpl_formatOpt[lv],\n        numStr = _;\n\n    // 若指定了特殊的格式选项\n    if (opt > HEADER_AUTONUM_TPL_FORMAT_OPT_NONE) {\n        if (opt === HEADER_AUTONUM_TPL_FORMAT_OPT_SUP && superLv >= 0)\n            numStr =  __formatNum(superLv, opt) + \".\";\n        numStr += __formatNum(lv, opt);\n        // 结束并返回\n        return HeaderAutoNum_tpl_prefix[lv]\n            + numStr\n            + HeaderAutoNum_tpl_suffix[lv];\n    }\n\n    // 没有指定特殊的格式选项\n    let str = 0;\n    for (let i = 0; i < HeaderAutoNum_lastLevel; i++) {\n        str = __formatNum(i, false);\n        numStr += str;\n        if (i < lv && V_length(str) > 0)\n            numStr += \".\";\n    }\n\n    return HeaderAutoNum_tpl_prefix[lv]\n        + numStr\n        + HeaderAutoNum_tpl_suffix[lv];\n\n    /**\n     * 指定层级的编号进行格式化\n     * @param i 层级\n     * @param opt 特殊格式选项\n     */\n    function __formatNum(i, opt) {\n        let ns = _,\n            counter = HeaderAutoNum_counter[i],\n            upperCase = (HeaderAutoNum_tpl_format[i].ss(0, 1).m(/[A-Z]/) !== gNull),\n            format = HeaderAutoNum_tpl_format[i].l();\n\n        // 十进制数字\n        if (format === \"#\")\n            ns = (HeaderAutoNum_lastLevel === 1)\n                // 针对 h1\n                ? HeaderAutoNum_leftPadForDecimal(counter, i)\n                // 针对 h2~h5\n                : (i === 0 // 第1段\n                    ? JS_toString(counter) // 针对 第1段 强制变为数字（避免出现左侧补 0 的情况）\n                    : HeaderAutoNum_leftPadForDecimal(counter, i))\n        // 中文数字\n        else if (format === \"zh\") {\n            ns = (HeaderAutoNum_lastLevel === 1)\n                // 针对 h1\n                ? HeaderAutoNum_decimalToZh(counter, upperCase)\n                // 针对 h2~h5\n                : HeaderAutoNum_leftPadForDecimal(counter, i);\n        }\n        // 英文字母\n        else if (format === _alpha_) {\n            ns = (HeaderAutoNum_lastLevel === 1 || opt > HEADER_AUTONUM_TPL_FORMAT_OPT_NONE)\n                // 针对 h1\n                ? HeaderAutoNum_decimalToAlpha(counter, upperCase)\n                // 针对 h2~h5\n                : HeaderAutoNum_leftPadForDecimal(counter, i);\n        }\n        // 罗马数字\n        else if (format === \"roman\") {\n            ns = (HeaderAutoNum_lastLevel === 1 || opt > HEADER_AUTONUM_TPL_FORMAT_OPT_NONE)\n                // 针对 h1\n                ? HeaderAutoNum_decimalToRoman(counter, upperCase)\n                // 针对 h2~h5\n                : HeaderAutoNum_leftPadForDecimal(counter, i);\n        }\n        else if (format === _off_)\n            ns = _;\n        return ns;\n    }\n}\n\n/**\n * 解析 Typora 生成的目录大纲节点样式名称对应的目录层级（h1~h6）\n * @param value 包含 h1~h6 的标识内容，如：md-toc-h1、h1 等\n * @returns number 目录层级：1~6\n */\nfunction HeaderAutoNum_parseTocHeaderLevel(value) {\n    let lv = value.m(/(h([1-5]))/)[2];\n    return isNaN(lv) ? 0 : JS_parseInt(lv);\n}\n\n/**\n * 左侧补 0\n * @param value 当前值\n * @param lv 级别\n * @returns\n */\nfunction HeaderAutoNum_leftPadForDecimal(value, lv) {\n    let pad = V_length(HeaderAutoNum_tpl_leftPad[lv]),\n        gap = pad - V_length(JS_toString(value)),\n        padStr = _;\n    if (gap > 0) {\n        for (let i = 0; i < gap; i++)\n            padStr += 0;\n    }\n    return padStr + value;\n}\n\n// 算法参考：https://blog.csdn.net/lavendersue/article/details/81066091\nlet HeaderAutoNum_zhNum = [\"零\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\", \"七\", \"八\", \"九\"], // 数字\n    HeaderAutoNum_zhUnit = [_, \"十\", \"百\", \"千\", \"万\"]; // 单位，最大支持 99,999,999\n/**\n * 数字格式转换：十进制 to 中文\n * @param num 十进制数字\n * @param upperCase 是否使用大写\n */\nfunction HeaderAutoNum_decimalToZh(num, upperCase) {\n    let overWan = Math.floor(num / 10000),\n        noWan = num % 10000;\n    if (V_length(JS_toString(noWan)) < 4)\n        noWan = \"0\" + noWan;\n\n    let numeral = overWan ? __numToZh(overWan) + \"万\" + __numToZh(noWan) : __numToZh(num);\n    // 对于 10－19 的特殊处理\n    if (num >= 10 && num <= 19)\n        numeral = numeral.r(\"一十\", \"十\");\n    return upperCase ? __toZhUpperCase(numeral) : numeral;\n\n    // 阿拉伯数字转换为中文数字\n    function __numToZh(value) {\n        let strArr = JS_toString(value).sp(_).reverse();\n        let newNum = _;\n        for (let i = 0; i < V_length(strArr); i++) {\n          newNum = (\n            (i === 0 && strArr[i] === 0) ? _\n            : (i > 0 && strArr[i] === 0 && strArr[i - 1] === 0 ? _\n            : HeaderAutoNum_zhNum[strArr[i]] + (strArr[i] === 0 ? HeaderAutoNum_zhUnit[0] : HeaderAutoNum_zhUnit[i])\n            ))\n            + newNum;\n        }\n        return newNum;\n    }\n\n    // 将中文数字转换为大写\n    function __toZhUpperCase(value) {\n        return value.rA(/一/g, \"壹\")\n            .rA(/二/g, \"贰\")\n            .rA(/三/g, \"叁\")\n            .rA(/四/g, \"肆\")\n            .rA(/五/g, \"伍\")\n            .rA(/六/g, \"陆\")\n            .rA(/七/g, \"柒\")\n            .rA(/八/g, \"捌\")\n            .rA(/九/g, \"玖\")\n            .rA(/十/g, \"拾\")\n            .rA(/百/g, \"佰\")\n            .rA(/千/g, \"仟\");\n    }\n}\n\n/**\n * 数字格式转换：十进制 to 英文字母\n * @param value 十进制数字\n * @param upperCase 是否使用大写\n */\nfunction HeaderAutoNum_decimalToAlpha(value, upperCase) {\n    let numeral = _;\n    while (value > 0) {\n        let m = value % 26\n        if (m === 0)\n            m = 26;\n        numeral = String.fromCharCode(64 + JS_parseInt(m)) + numeral;\n        value = (value - m) / 26;\n    }\n    return upperCase ? numeral : numeral.l();\n}\n\n// 罗马数字参考：https://baike.baidu.com/item/%E7%BD%97%E9%A9%AC%E6%95%B0%E5%AD%97/772296\n// 算法参考：https://www.mianshigee.com/note/detail/180314zvm/\nlet HeaderAutoNum_romanNum = [\"M\", \"CM\", \"D\", \"CD\", \"C\", \"XC\", \"L\", \"XL\", \"X\", \"IX\", \"V\", \"IV\", \"I\"], // 罗马数字\n    HeaderAutoNum_romanNumArea = [1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1]; // 进位区间\n/**\n * 数字格式转换：十进制 to 罗马\n * @param value 十进制数字\n * @param upperCase 是否使用大写\n */\nfunction HeaderAutoNum_decimalToRoman(value, upperCase) {\n    if (value <= 0 || value >= 4000)\n       return value;\n    let numeral = _;\n    for (let i = 0; i < V_length(HeaderAutoNum_romanNum); i++) {\n       while (value >= HeaderAutoNum_romanNumArea[i]) {\n          value -= HeaderAutoNum_romanNumArea[i];\n          numeral += HeaderAutoNum_romanNum[i];\n       }\n    }\n    return upperCase ? numeral : numeral.l();\n}\n\n// ==================== 引用块增强类 ==================== //\n\nlet ExtQuote_columnsGroupCount = 0,\n    ExtQuote_processingUCH = gFalse,\n    ExtQuote_quoteToColoring = gFalse,\n    ExtQuote_subTitle = \">:is(p\" + __first_child_ + \",p\" + __first_child_ + \"+p)>:is(\" + _strong_ + \",\" + _mark_ + \")\" + __only_child_;\n\n/**\n * 初始化引用块以实现折叠支持\n */\nfunction ExtQuote_init() {\n    // 初始化引用块着色的默认颜色标识\n    let dcQuote = V_util_getParamVal(_quote_);\n    if (dcQuote !== gNull) {\n        if (dcQuote !== _off_) {\n            ExtQuote_quoteToColoring = gTrue;\n            Quote_defalutColor = dcQuote;\n            Quote_defalutColor_withoutEm = dcQuote.ss(0, 2);\n        }\n    }\n\n    // 遍历所有引用块、详情\n    $(_blockquote_).e((index, element) => {\n        let _t = $(element),\n            matchedQuoteFold = gFalse;\n        // ====================\n        // 处理引用块折叠（details）\n        _t.ch(_h6_ + __first_child_).e((i, e) => {\n            let details = __disposeDetailsFolder($(e));\n            if (details)\n                _t = details;\n            matchedQuoteFold = true;\n        });\n\n        // 存在折叠，则标识，不参与分栏引用块的统一高度处理\n        if (matchedQuoteFold) {\n            _t.a(_data_folding_, _true_);\n            if (V_util_getTagName(_t.p()) === _blockquote_)\n                _t.p().a(_data_folding_, _true_);\n        }\n        // ====================\n\n        // ====================\n        // 为引用小标题添加锚点\n        // 配合前置的 LinkTool_vlookHashComform() 进行\n        _t.f(ExtQuote_subTitle).e((i, e) => {\n            let title = $(e);\n            title.a(_id_, LinkTool_disposeNonStandardHash(title.t()));\n        });\n        // ====================\n\n        // --------------------\n        // 默认引用块，转换为引用块着色\n        let parentTag = V_util_getTagName(_t.p());\n\n        // 跳过列表内、引用块内的嵌套引用块\n        if (parentTag === \"li\" || parentTag === _blockquote_ || parentTag === _details_)\n            return gTrue;\n        let validColorCode = gFalse;\n        // 判断引用块内是否包含了引用块着色语法\n        // 针对新语法\n        _t.f(\">p>em\" + __only_child_ + \">sub\" + __only_child_).e((index, element) => {\n            let _t = $(element);\n            // 颜色标签独占一行的情况下才被视为是对引用块、详情的颜色标识\n            if (_t.t().m(Color_syntax) !== gNull) {\n                validColorCode = gTrue;\n                return gFalse;\n            }\n        });\n\n        // 引用块内不包含引用块着色语法的，则模拟指定默认的着色语法\n        if (ExtQuote_quoteToColoring && !validColorCode)\n            _t.ap(\"<p><em>\" + V_ui_sub(_, _, Quote_defalutColor) + \"</em></p>\");\n    });\n\n    // 针对分栏引用块进行初始化\n    ExtQuote_initColumns();\n\n    // 针对分栏列表进行初始化\n    ExtList_initColumns();\n\n    /**\n     * 对 details 折叠进行处理\n     * @param target 带约定 details 折叠的对象\n     * @returns object 成功匹配并处理\n     */\n    function __disposeDetailsFolder(target) {\n        let quote = target.p();\n        // 生成 details\n        quote.wrap('<' + _details_ +___+ V_attr(_id_, V_doc_counter_details) + '></' + _details_ + '>');\n        // 取消 h6，并生成 summary\n        target.unwrap().wrap(\"<\" + _summary_ + \" \" + V_attr(_id_, target.a(_id_)) + \"></\" + _summary_ + \">\");\n        // 删除无用对象\n        target.ch().unwrap();\n\n        // 获取生成的 detail 实例\n        let details = $(_details_ + \"#\" + V_doc_counter_details),\n            summary = details.ch(_summary_);\n        summary.pp(V_ui_svgIcon(_icoDetailsOpen_, 18, 18, _dark_, _v_svg_details_));\n\n        let icon = summary.ch(\".\" + _v_svg_details_);\n        V_ui_addAnimate(icon);\n        // 跟踪切换事件\n        details.on(\"toggle\", (event) => {\n            // 自动调整高度\n            summary.ps(_blockquote_ + V_attrCSS(_data_quote_group_)).p().c(_height_, _auto_);\n            summary.p().c(_height_, _auto_);\n\n            if (event.currentTarget.open)\n                JQ_addClass(icon, _v_rotate45_);\n            else\n                JQ_removeClass(icon, _v_rotate45_);\n        });\n\n        V_doc_counter_details++;\n        return details;\n    }\n}\n\n/**\n * 对分栏引用块进行初始化\n */\nfunction ExtQuote_initColumns() {\n    // 针对分栏引用块进行修正\n    $(\"hr + \" + _blockquote_ + \",hr + \" + _details_ + \",hr + .\" + _md_alert_).e((index, element) => {\n        ExtQuote_columnsGroupCount++;\n        let _t = $(element),\n            hr = _t.pr(),\n            colCount = 0;\n\n        // ----------------------------------------\n        // 隐藏标识分栏的 <hr>\n        __hideHr(hr);\n        colCount = V_length(hr.prevUntil(V_not(\"hr\"))) + 2; // 计算分栏数量\n        // 有更多的 <hr> 则进行处理\n        if (colCount > 2) {\n            __hideHr(hr.prevUntil(V_not(\"hr\")));\n        }\n\n        // 隐藏标识分栏的 <hr>\n        function __hideHr(target) {\n            target.c(_visibility_, _hidden_)\n                .c(_margin_, 0)\n                .c(_border_, 0);\n        }\n\n        // ----------------------------------------\n        // 对分栏按组进行初始处理\n        __groupingColumns(_t);\n        _t.nextUntil(V_not(_blockquote_ + \",\" + _details_ + \",.\" + _md_alert_)).e((index, element) => {\n            if (colCount > 0) {\n                __groupingColumns($(element));\n            }\n        });\n\n        // 进行分组标识\n        function __groupingColumns(quote) {\n            // 若为带折叠的引用块，则跳过\n            if (quote.a(_data_folding_))\n                return;\n\n            quote.a(_data_quote_group_, ExtQuote_columnsGroupCount);\n            colCount--;\n        }\n    });\n}\n\n/**\n * 对文档内所有分栏，按组为单位进行统一高度处理\n */\nfunction ExtQuote_uniteColumnsHeight() {\n    if (ExtQuote_processingUCH)\n        return;\n\n    ExtQuote_processingUCH = gTrue;\n    for (let i = 1; i <= ExtQuote_columnsGroupCount; i++)\n        ExtQuote_uniteColumnsHeightByGroupId(i);\n    ExtQuote_processingUCH = gFalse;\n}\n\n/**\n * 对指定组的分栏进行统一高度处理\n * @param groupId 分栏组 id\n */\nfunction ExtQuote_uniteColumnsHeightByGroupId(groupId) {\n    if (groupId === gUndefined)\n        return;\n\n    // 找出同一组中最大的高度\n    let maxHeight = 0,\n        quote = $(_blockquote_ + V_attrCSS(_data_quote_group_, groupId) + \",\"\n            + _details_ + V_attrCSS(_data_quote_group_, groupId) + \",.\"\n            + _md_alert_ + V_attrCSS(_data_quote_group_, groupId));\n    quote.e((index, element) => {\n        let _t = $(element);\n        _t.c(_height_, _auto_);\n        // 没有被小屏强制适配为不分栏时才处理\n        if (_t.c(_display_) !== _block_) {\n            let height = JS_parseInt(_t.oH());\n            if (height > maxHeight)\n                maxHeight = height;\n        }\n    });\n\n    // 没有被小屏强制适配为不分栏时才处理\n    if (quote.c(_display_) !== _block_ && maxHeight > 0) {\n        // 将同一组中最大的高度\n        quote.c(_height_, maxHeight);\n    }\n}\n\n// ==================== 列表增强类 ==================== //\n\n/**\n * 对分栏列表进行初始化\n */\nfunction ExtList_initColumns() {\n    // 针对分栏列表进行修正\n    $(\"hr+ul,hr+ol\").e((index, element) => {\n        let _t = $(element),\n            hr = _t.pr();\n\n        // ----------------------------------------\n        // 隐藏标识分栏的 <hr>\n        hr.c(_display_, _none_);\n        let colCount = V_length(hr.prevUntil(V_not(\"hr\"))) + 2; // 计算分栏数量\n        if (colCount > 2) // 有更多的 <hr>\n            hr.prevUntil(V_not(\"hr\")).c(_display_, _none_);\n    });\n}\n\n// ==================== 表格增强类 ==================== //\n\n/**\n * 初始化表格数据\n */\nfunction ExtTable_init() {\n    let sw = new Stopwatch();\n\n    // ----------------------------------------\n    // 表格预处理\n    sw.st();\n    $(_table_).e((index, element) => {\n        let _t = $(element),\n            container = _t.p();\n\n        V_doc_counter_table++;\n\n        // 绑定内容助手\n        ContentAssistor_bind(_t, _table_);\n\n        // 表格自定义属性数据\n        container.a(_data_container_, _table_);\n        JQ_addClass(container, _v_caption_container_);\n\n        // 表格滚动事件\n        container.scroll(() => {\n            TableCross_hide();\n        });\n\n        // 表格单元格初始化处理\n        __initCell(_t);\n\n        // 折叠长表格\n        ContentFolder_add(_t, _table_);\n        // 先根据题注语法生成题注\n        Caption_actionForTextContent(_t, _table_);\n    }); // table\n    sw.ed(\"    ├ Prepare: \");\n\n    // ----------------------------------------\n    // 表格单元格合并\n    sw.st();\n    $(_table_ + V_attrCSS(_data_cell_merge_, _true_)).e((index, element) => {\n        let _t = $(element);\n        CellMerge_dispose(_t);\n\n        // 合并后，针对列头纵向合并的情况二次执行列格式处理\n        _t.f(_thead_ + \">tr>th\").e((i, e) => {\n            let cell = $(e);\n            ColumnFormatting_init(_t, cell, cell.t());\n        });\n    });\n    sw.ed(\"    ├ Merge: \");\n\n    // ----------------------------------------\n    // 对表格单元格初始化处理中标识为带列格式的表格，进行列格式化处理\n    sw.st();\n    $(_table_ + V_attrCSS(_data_column_fmting_, _true_)).e((index, element) => {\n        ColumnFormatting_format($(element));\n    });\n    sw.ed(\"    ├ Column Format: \");\n\n    // ----------------------------------------\n    // 表格行折叠\n    sw.st();\n    $(_table_ + V_attrCSS(_data_row_group_, _true_)).e((index, element) => {\n        let _t = $(element);\n        RowGroup_init(_t);\n\n        // 修正行分组的首个单元格的缩进\n        _t.f(\"tr\" + V_attrCSS(_data_folder_, _true_)).e((i, e) => {\n            let td = $(e).ch(\"td:\" + _first_);\n            if (td.a(_data_ident_level_) !== gUndefined)\n                td.c(_padding_left_, \".5em\");\n        });\n    });\n    sw.ed(\"    ├ Row Group: \");\n\n    /**\n     * 表格单元格初始化\n     * @param table 表格对象\n     */\n    function __initCell(table) {\n        // 遍历表格「列头」行\n        let colIndex = 0;\n        table.f(_thead_ + \">tr\").e((index, element) => {\n            colIndex = 0;\n            let needCheckCellMerge = gTrue,\n                needCheckColumnFormatting = gTrue;\n            // ----------------------------------------\n            // 遍历单元格\n            $(element).f(\"th\").e((i, e) => {\n                let th = $(e),\n                    text = th.t();\n\n                // ---------- 表格排版增强预处理 ----------\n                // 检测是否带合并单元格语法\n                if (needCheckCellMerge\n                    && table.a(_data_cell_merge_) !== _true_\n                    && (CellMerge_syntax_row.test(text)\n                    || CellMerge_syntax_col.test(text))) {\n                        // 将表格标识为带合并单元格语法\n                        table.a(_data_cell_merge_, _true_);\n                        needCheckCellMerge = gFalse;\n                }\n                // 检测是否带列格式语法\n                if (needCheckColumnFormatting) {\n                    if (ColumnFormatting_init(table, th, text))\n                        needCheckColumnFormatting = gFalse;\n                }\n\n                // ----------------------------------------\n                // 添加列号标识，用于列格式化时使用\n                th.a(_data_tbl_col_, \"tbl-\" + V_doc_counter_table + \"-\" + colIndex);\n                colIndex++;\n\n                // ---------- 非列头的单元格阅读模式（十字光标）处理 ----------\n                // 鼠标点击单元格时显示阅读模式（十字光标）\n                TableCross_bind(table, th);\n            });\n        });\n\n        // 标记该表格列太多，用于匹配是否换行、不换行的自动版式\n        if (colIndex >= 7)\n            table.a(_data_col_too_more_, colIndex);\n\n        // ----------------------------------------\n        // 遍历表格「非列头」行\n        table.f(_tbody_ + \">tr\").e((index, element) => {\n            let colIndex = 0,\n                needCheckCellMerge = gTrue,\n                needCheckRowGroup = gTrue;\n\n            // ----------------------------------------\n            // 遍历单元格\n            $(element).f(\"td\").e((i, e) => {\n                let td = $(e),\n                    text = td.t();\n\n                // 对于屏幕较小时，调整单元格的最大宽度处理\n                if (jq_Window.oW() <= gUnwrapTableScreenWidth)\n                    TableWrap_minWidthTd(table, td);\n\n                // ---------- 表格排版增强预处理 ----------\n                // 检测是否带合并单元格语法\n                if (needCheckCellMerge\n                    && table.a(_data_cell_merge_) !== _true_\n                    && (CellMerge_syntax_row.test(text)\n                    || CellMerge_syntax_col.test(text))) {\n                        // 将表格标识为带合并单元格语法\n                        table.a(_data_cell_merge_, _true_);\n                        needCheckCellMerge = gFalse;\n                }\n                // 检测是否带行折叠语法\n                if (needCheckRowGroup\n                    && colIndex === 0 // 只检测第 1 列\n                    && table.a(_data_row_group_) !== _true_\n                    && RowGroup_syntax_tag.test(text)) {\n                        // 将表格标识为带行折叠语法\n                        table.a(_data_row_group_, _true_);\n                        needCheckRowGroup = gFalse;\n                }\n                // 对于单元格的内容，都以 <mark> 标签包裹的，则转换为单元格的样式\n                // 同时转换后，在 Table.columnFormatting 的 init 处理中对应添加对应的过滤条件\n                if (/^<ma.+rk>$/.test(td.hm())) {\n                    td.ch().ch().unwrap(); // 解包 <mark>\n                    JQ_addClass(td, _v_tbl_col_fmt_mark_);\n                }\n\n                // 添加列号标识，用于列格式化时使用\n                td.a(_data_tbl_col_, \"tbl-\" + V_doc_counter_table + \"-\" + colIndex);\n                colIndex++;\n\n                // ---------- 列头的单元格阅读模式（十字光标）处理 ----------\n                // 鼠标点击单元格时显示阅读模式（十字光标）\n                TableCross_bind(table, td);\n            }); // find(th, td)\n        }); // find(tr)\n    }\n}\n\n// ==================== 表格单元格合并类 ==================== //\n\n// 单元格合并语法\nlet CellMerge_syntax_row = /^(:)$/, // 行，纵向合并\n    CellMerge_syntax_col = /^(==)$/ // 列，横向合并\n\n/**\n * 表格单元格合并\n * @param table 要进行单元格合并处理的表格对象\n */\nfunction CellMerge_dispose(table) {\n    let colSpanCount = 0,\n        colSpanCell = gNull,\n        colIndex = 0,\n        colCount = 0,\n        lastCell = gNull,\n        tblData = [],\n        tblSpan = [],\n        tblTd2ThData = [],\n        rowIndex = 0,\n        needRowSpan = gFalse;\n\n    // 遍历表格行\n    table.f(\"tr\").e((index, element) => {\n        tblData[rowIndex] = [];\n        tblSpan[rowIndex] = [];\n        let tr = $(element);\n        tr.f(\"td,th\").e((i, e) => {\n            let cell = $(e);\n\n            // --- 行合并：预处理（纵向） ---\n            // 克隆表格对象\n            tblData[rowIndex][colIndex] = cell;\n            tblSpan[rowIndex][colIndex] = 0;\n            if (CellMerge_syntax_row.test(cell.t())) {\n                tblSpan[rowIndex][colIndex] = 1;\n                needRowSpan = gTrue;\n            }\n            colIndex++;\n            colCount++;\n\n            // --- 列合并（横向） ---\n            // 是列合并标识\n            if (CellMerge_syntax_col.test(cell.t())) {\n                colSpanCount++;\n                cell.rm();\n                if (colSpanCount === 1)\n                    colSpanCell = lastCell;\n            }\n            // 不是列合并标识，则进行最近列标识数据进行处理\n            else {\n                if (colSpanCount > 0 && colSpanCell !== gUndefined) {\n                    colSpanCell.a(_colspan_, colSpanCount + 1);\n                    CellMerge_emptyBlankCell(colSpanCell);\n                    colSpanCell.c(_text_align_, _center_);\n                }\n                // 对于不是合并标识时，也清空无内容的单元格\n                else\n                    CellMerge_emptyBlankCell(cell);\n                colSpanCount = 0;\n            }\n            lastCell = cell;\n        }); // find(td, th)\n\n        // 如果列合并了所有列，且内容为空，则取消表格行号等样式\n        if (colCount === colSpanCount + 1 && V_length(tr.t().x()) === 0) {\n            JQ_addClass(tr, _v_table_ + \"-colspan-all\");\n        }\n\n        // 列间合并：对于最后一列的补充处理\n        if (colSpanCount > 0 && colSpanCell !== gUndefined) {\n            colSpanCell.a(_colspan_, colSpanCount + 1);\n            CellMerge_emptyBlankCell(colSpanCell);\n            colSpanCell.c(_text_align_, _center_);\n        }\n        colSpanCount = 0;\n\n        rowIndex++;\n        colIndex = 0;\n        colCount = 0;\n    }); // tr\n\n    rowIndex = 0;\n\n    // --- 行间合并（纵向）---\n    if (needRowSpan) {\n        tblTd2ThData = [];\n        // 列式遍历（从左到右）\n        for (let c = 0, len = V_length(tblSpan[0]); c < len; c++) {\n            let rowSpanCount = 0,\n                rowSpanCell = gNull;\n            let r = 0,\n                thSpanFlag = gFalse;\n\n            // 列式遍历（从上到下）\n            while (r < V_length(tblSpan)) {\n                if (tblSpan[r][c] === 1) { // 要合并\n                    rowSpanCount++;\n                    if (rowSpanCell === gNull) {\n                        rowSpanCell = tblData[r - 1][c];\n                    }\n                    // 记录最大列头行合并深度\n                    if (r === 1)\n                        thSpanFlag = gTrue;\n                    if (thSpanFlag)\n                        tblTd2ThData[V_length(tblTd2ThData)] = tblData[r][c].p();\n                    tblData[r][c].rm(); // 移除要被合并的单元格\n\n                    // 后接的单元格会变成第 1 列，但不需要预留表格行号显示的空间\n                    if (c + 1 < V_length(tblSpan[r]))\n                        tblData[r][c + 1].c(_padding_left_, V_util_getVarVal(\"--tbl-cell-padding\"));\n                } else {\n                    thSpanFlag = gFalse;\n                    // 单元格行合并\n                    if (rowSpanCount > 0 && rowSpanCell !== gNull) {\n                        rowSpanCell.a(_rowspan_, rowSpanCount + 1);\n                        CellMerge_emptyBlankCell(rowSpanCell);\n                        rowSpanCell.c(_vertical_align_, _middle_);\n                        rowSpanCount = 0;\n                        rowSpanCell = gNull;\n                    }\n                }\n                r++;\n            } // while\n\n            // 行合并：对于最后一行的补充处理\n            if (rowSpanCount > 0 && rowSpanCell !== gNull) {\n                rowSpanCell.a(_rowspan_, rowSpanCount + 1);\n                CellMerge_emptyBlankCell(rowSpanCell);\n                rowSpanCell.c(_vertical_align_, _middle_);\n            }\n        } // for\n\n        // 处理列头的纵向合并\n        for (let i = 0, len = V_length(tblTd2ThData); i < len; i++) {\n            tblData[0][0].p().p().ap(tblTd2ThData[i]);\n            // 将 thead 内的 td 标签转换为 th\n            let foundTd = gFalse;\n            tblTd2ThData[i].f(\"td\").e((index, element) => {\n                foundTd = gTrue;\n                // 暂存 td 的属性数据\n                let td = $(element),\n                    style = td.a(_style_),\n                    tblCol = td.a(_data_tbl_col_),\n                    classValue = td.a(_class_),\n                    colspan = td.a(_data_colspan_);\n                // 将 td 转换为 th 标签\n                td.a(_data_td2th_, _true_);\n                td.rW(td.prop(_outerHTML_).rA(\"<td \", \"<th \"));\n                // 将暂存的 td 的属性数据，恢复到新标签中\n                td.p().a(_style_, style);\n                td.p().a(_data_tbl_col_, tblCol);\n                td.p().a(_class_, classValue);\n                td.p().a(_data_colspan_, colspan);\n            });\n            // 对被从 td 转换为 th 单元格，重新绑定：鼠标点击单元格时显示阅读模式（十字光标）\n            if (foundTd) {\n                tblTd2ThData[i].f(\"th\" + V_attrCSS(_data_td2th_)).e((index, element) => {\n                    TableCross_bind(table, $(element));\n                });\n            }\n        }\n    } // if\n\n    needRowSpan = gFalse;\n}\n\n/**\n * 清空单元格内容（无内容情况下清空空格 &nbsp;）\n * @param cell 表格单元格对象\n */\nfunction CellMerge_emptyBlankCell(cell) {\n    // 无子元素，或内容只有一个空格的情况\n    if (cell.t().x() === _ || V_length(cell) === 0) {\n        cell.hm(_);\n        JQ_addClass(cell, \"v-\" + _empty_ + \"-\" + _cell_);\n    }\n}\n\n// ==================== 表格阅读模式（十字光标）类 ==================== //\n\nlet TableCross_ui = gUndefined,\n    TableCross_lastTable = gUndefined, // 最后/当前显示阅读模式（十字光标）的表格\n    TableCross_lastCell = gUndefined; // 最后/当前显示阅读模式（十字光标）的表格单元格\n\nfunction TableCross_init() {\n    TableCross_ui = $(_v_tbl_x_);\n    V_ui_addAnimate(TableCross_ui);\n}\n\n/**\n * 切换表格阅读模式（十字光标）开关\n */\nfunction TableCross_toggle() {\n    let table = ContentAssistor_lastHover;\n    // 已打开，则关闭\n    if (table !== gUndefined && table.a(_data_tbl_x_) === _true_)\n        TableCross_disable(table);\n    // 未打开，则打开\n    else\n        TableCross_enable(table);\n}\n\n// 打开表格阅读模式（十字光标）\nfunction TableCross_enable(table) {\n    table.a(_data_tbl_x_, _true_);\n    JQ_addClass(ContentAssistor_btns_tableCross, _selected_);\n\n    // 默认从表体第 1 行第 1 个单元格开始\n    TableCross_goto(table, table.f(\"tbody>tr:first-child>td:first-child\"));\n}\n\n// 关闭表格阅读模式（十字光标）\nfunction TableCross_disable(table) {\n    if (table === gUndefined)\n        table = TableCross_lastTable;\n    if (table !== gUndefined) {\n        table.a(_data_tbl_x_, _false_);\n        TableCross_lastTable = gUndefined;\n    }\n    JQ_removeClass(ContentAssistor_btns_tableCross, _selected_);\n    TableCross_hide();\n}\n\n/**\n * 绑定单元格，鼠标点击单元格时显示阅读模式（十字光标）\n * @param table 单元格所属表格对象\n * @param cell 单元格对象\n */\nfunction TableCross_bind(table, cell) {\n    cell.uC().ck(() => {\n        TableCross_goto(table, cell);\n    });\n}\n\n/**\n * 跳转至指定单元格\n * @param table 单元格所属表格对象\n * @param cell 单元格对象\n */\nfunction TableCross_goto(table, cell) {\n    if (table.a(_data_tbl_x_) !== _true_ || Copy_processing)\n        return;\n\n    // 首次点击，先强制移除动画\n    if (TableCross_lastTable === gUndefined)\n        V_ui_removeAnimate(TableCross_ui);\n\n    // 同一单元格不重复处理\n    // to-do: 开启后会导致同一单元格第 1 次点击后就失效\n    // if (TableCross_lastCell === cell)\n    //     return;\n\n    let container = table.p().p(),\n        contentFolded = container.a(_data_content_folded_);\n    // 跳过被折叠表格\n    if (contentFolded === _true_)\n        return;\n\n    // 若点击同时也触发了「代码 / 标签」的复制\n    if (!Copy_processing)\n        event.stopPropagation(); // 停止事件冒泡，避免与其他事件的处理冲突（如：document.click）\n\n    TableCross_hide(gTrue);\n    JQ_addClass(cell, _v_tbl_x_cell_);\n\n    TableCross_lastCell = cell;\n    TableCross_lastTable = table;\n\n    let tblWidth = JS_parseInt(table.c(_width_)),\n        tblHeight = JS_parseInt(table.c(_height_));\n\n    let cellWidth = JS_parseInt(cell.c(_width_)),\n        cellHeight = JS_parseInt(cell.c(_height_)),\n        cornerLeftX = table.oL(),\n        cornerUpY = table.oT(),\n        cornerLeftWidth = cell.oL() - table.oL(),\n        cornerUpHeight = cell.oT() - table.oT(),\n        cornerRightX = cell.oL()  + cellWidth,\n        cornerDownY = cell.oT() + cellHeight,\n        cornerRightWidth = tblWidth - cornerLeftWidth - cellWidth,\n        cornerDownHeight = tblHeight - cornerUpHeight - cellHeight;\n\n    // 左上角\n    let leftUp = $(_v_tbl_x_ + \".\" + _left_ + \"-\" + _up_);\n    leftUp.c(_left_, cornerLeftX)\n        .c(_top_, cornerUpY)\n        .c(_width_, cornerLeftWidth)\n        .c(_height_, cornerUpHeight)\n        .c(_z_index_, 9);\n\n    // 右上角\n    let rightUp = $(_v_tbl_x_ + \".\" + _right_ + \"-\" + _up_);\n    rightUp.c(_left_, cornerRightX)\n        .c(_top_, cornerUpY)\n        .c(_width_, cornerRightWidth)\n        .c(_height_,  cornerUpHeight)\n        .c(_z_index_, 9);\n\n    // 左下角\n    let leftDown = $(_v_tbl_x_ + \".\" + _left_ + \"-\" + _down_);\n    leftDown.c(_left_, cornerLeftX)\n        .c(_top_, cornerDownY)\n        .c(_width_, cornerLeftWidth)\n        .c(_height_, cornerDownHeight)\n        .c(_z_index_, 9);\n\n    // 右下角\n    let rightDown = $(_v_tbl_x_ + \".\" + _right_ + \"-\" + _down_);\n    rightDown.c(_left_, cornerRightX)\n        .c(_top_, cornerDownY)\n        .c(_width_, cornerRightWidth)\n        .c(_height_, cornerDownHeight)\n        .c(_z_index_, 9);\n\n    // 须延时后再执行显示，让以上代码先完成\n    setTimeout(() => {\n        // 针对不同表格之间点击强制移除动画后的恢复\n        V_ui_addAnimate(TableCross_ui);\n        V_ui_fadeShow(leftUp);\n        V_ui_fadeShow(rightUp);\n        V_ui_fadeShow(leftDown);\n        V_ui_fadeShow(rightDown);\n    }, 50);\n}\n\n/**\n * 处理热键操作\n * @param key 非功能键键\n * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n * @param event 事件对象\n */\nfunction TableCross_disposeHotkey(key, combKeys, event) {\n    if (TableCross_lastTable === gUndefined || TableCross_lastCell === gUndefined)\n        return gFalse;\n\n    let handled = gFalse,\n        newTr = gUndefined;\n    // 以下未考虑在有单元格合并情况下的处理\n    if (V_length(combKeys) === 0) {\n        switch (key) {\n            case _ArrowLeft_: // left\n                __gotoCell(TableCross_lastCell.pr());\n                handled = gTrue;\n                break;\n            case _ArrowRight_: // right\n                __gotoCell(TableCross_lastCell.n());\n                handled = gTrue;\n                break;\n            case _ArrowUp_: // up\n                // 查找上一行\n                newTr = TableCross_lastCell.p().pr();\n                if (V_length(newTr) === 0) {\n                    let trParent = TableCross_lastCell.p().p();\n                    if (V_util_getTagName(trParent) === _tbody_)\n                        newTr = trParent.pr().ch().last();\n                }\n                // 有上一行时的处理\n                __gotoCellByTr(newTr, _ArrowUp_);\n                handled = gTrue;\n                break;\n            case _ArrowDown_: // down\n                // 查找下一行\n                newTr = TableCross_lastCell.p().n();\n                if (V_length(newTr) === 0) {\n                    let trParent = TableCross_lastCell.p().p();\n                    if (V_util_getTagName(trParent) === _thead_)\n                        newTr = trParent.n().ch().first();\n                }\n                // 有下一行时的处理\n                __gotoCellByTr(newTr, _ArrowDown_);\n                handled = gTrue;\n                break;\n            case _Enter_: // Enter\n                if (TableCross_lastCell.a(_class_).i(_v_tbl_row_g_folder_) > -1) {\n                    // 临时保存\n                    let tmp = TableCross_lastTable;\n                    TableCross_lastCell.ch(_v_tbl_row_g_btn_).tr(_click_);\n                    // 恢复最后选择的样式（因为在上面模拟鼠标触发时会关闭）\n                    TableCross_lastTable = tmp;\n                    __gotoCell(TableCross_lastCell);\n                    handled = gTrue;\n                }\n                break;\n            case _Escape_:\n                // 表格为阅读模式时，则退出\n                if (V_ui_isShowed(TableCross_ui)) {\n                    TableCross_disable();\n                    handled = gTrue;\n                }\n                break;\n        }\n    }\n\n    // 移动到指定的 cell 对象位置\n    function __gotoCell(cell) {\n        if (V_length(cell) > 0) {\n            TableCross_goto(TableCross_lastTable, cell);\n        }\n    }\n    // 移动到新一行上对应 cell 对象的新位置\n    function __gotoCellByTr(newTr, arrow) {\n        if (V_length(newTr) > 0) {\n            // 对于表格行分组（未展开时）\n            if (newTr.c(_display_) === _table_column_)\n                // 尝试再寻找下一个常规行（遍历）\n                __gotoCellByTr((arrow === _ArrowDown_) ? newTr.n() : newTr.pr(), arrow);\n            // 常规行\n            else\n                __gotoCell(newTr.ch(V_attrCSS(_data_tbl_col_, TableCross_lastCell.a(_data_tbl_col_))));\n        }\n    }\n\n    // 如果事件已处理，则禁止双重操作\n    if (handled)\n        V_util_preventDefault(event);\n\n    return handled;\n}\n\n/**\n * 隐藏表格阅读模式（十字光标）\n * @param sameTable true: 同一个表格内的情况，false: 不同表格\n */\nfunction TableCross_hide(sameTable) {\n    if (TableCross_lastCell === gUndefined)\n        return;\n\n    if (sameTable) {\n        JQ_removeClass(TableCross_lastCell, _v_tbl_x_cell_);\n        return;\n    }\n\n    JQ_removeClass(TableCross_lastCell, _v_tbl_x_cell_);\n    V_ui_fadeHide(TableCross_ui);\n    TableCross_lastTable = gUndefined;\n}\n\n// ==================== 表格换行、不换行类 ==================== //\n\n/**\n * 切换表格换行、不换行开关\n */\nfunction TableWrap_toggle() {\n    let table = ContentAssistor_lastHover;\n    // 已开启，则关闭\n    if (TableWrap_isWrap())\n        TableWrap_disable(table);\n    // 未开启，则开启\n    else\n        TableWrap_enable(table);\n}\n\n/**\n * 判断表格是否启用了换行\n */\nfunction TableWrap_isWrap() {\n    return ContentAssistor_lastHover.c(_white_space_) === _pre_wrap_;\n}\n\n// 开启表格换行\nfunction TableWrap_enable(table) {\n    table.f(\"td.\" + _v_long_).e((index, element) => {\n        let _t = $(element);\n        _t.a(_data_long_, gTrue);\n        JQ_removeClass(_t, _v_long_);\n    });\n\n    JQ_addClass(ContentAssistor_btns_wrap, _selected_);\n    JQ_removeClass(table, _unwrap_);\n    JQ_addClass(table, _wrap_);\n}\n\n// 关闭表格换行（即不换行）\nfunction TableWrap_disable(table) {\n    table.f(\"td\" + V_attrCSS(_data_long_, gTrue)).e((index, element) => {\n        let _t = $(element);\n        JQ_addClass(_t, _v_long_);\n        JQ_removeAttr(_t, _data_long_);\n    });\n\n    JQ_removeClass(ContentAssistor_btns_wrap, _selected_);\n    JQ_removeClass(table, _wrap_);\n    JQ_addClass(table, _unwrap_);\n\n    // 关闭表格换行、不换行后的处理\n    table.f(_tbody_ + \">tr\").e((index, element) => {\n        // ----------------------------------------\n        // 遍历单元格\n        $(element).f(\"td\").e((i, e) => {\n            // 对于字符过多时调整单元格宽度\n            TableWrap_minWidthTd(table, $(e));\n        });\n    });\n}\n\n// 关闭表格换行、不换行后的处理\nfunction TableWrap_minWidthTd(table, td) {\n    // 表格列数不超指定上限时，不处理\n    if (table.a(_data_col_too_more_) === gUndefined)\n        return;\n\n    let text = td.t(),\n        wrapLimit = 20; // 单元格内单行字数上限（不含标点符号）\n\n    if (table.c(_white_space_) !== _pre_wrap_ && V_length(text) > wrapLimit) {\n        let lines = __cleanBr(td.hm());\n        // 按行处理\n        for (let i = 1; i < V_length(lines); i++) {\n            let counterResult = V_util_countWord(lines[i]);\n            // 只处理字符过多的行\n            if (counterResult.latin * 2 + counterResult.CJK > wrapLimit) {\n                JQ_addClass(td, _v_long_);\n                break;\n            }\n        }\n    }\n\n    // 过滤掉 <br> 标签\n    function __cleanBr(text) {\n        const parser = new DOMParser(), // 创建 DOMParser 实例\n            doc = parser.parseFromString(text, \"text/html\"), // 将文本解析为 DOM 文档\n            textNodes = doc.querySelectorAll(V_not(\"br\") + \" *\"), // 获取所有文本节点\n            lines = []; // 将文本节点的内容按换行符分割\n        for (let node of textNodes) {\n            let line = node.textContent.trim();\n            if (line)\n                lines.push(line);\n        }\n        return lines;\n    }\n}\n\n// ==================== 表格列格式化类 ==================== //\n\nlet ColumnFormatting_syntax_checkbox_header = /\\[ ?] ?/; // 复选框列头格式语法\nlet ColumnFormatting_syntax_checkbox = /(^((\\[[x-]])|[Yy?？])(\\s.+)*)/; // 复选框列内单元格格式语法\n\n/**\n * 初始化\n * @param table 表格对象\n * @param cell 单元格对象\n * @param text 单元格文本内容\n */\nfunction ColumnFormatting_init(table, cell, text) {\n    if (table.a(_data_column_fmting_) !== _true_\n        && (V_length(cell.f(\":is(\" + _strong_ + \",em,u,\" + _mark_ + \",\" + _del_ + \")\" + __only_child_)) > 0 // 普通列格式\n        || cell.c(_text_align_) === _right_ // 右对齐表示使用数值格式\n        || ColumnFormatting_syntax_checkbox_header.test(text))) { // 复选框列格式\n            // 将表格标识为带列格式语法\n            table.a(_data_column_fmting_, _true_);\n            return gTrue; // 匹配到列格式\n    }\n    return gFalse; // 未匹配到列格式\n}\n\n/**\n * 返回表格内所有非合并的同列单元格对象集合\n * @param table 表格格对象\n * @param th 列头单元格对象\n * @param cells 集合变量\n */\nfunction ColumnFormatting_getCells(table, th, cells) {\n    if (cells === gUndefined)\n        cells = table.f(V_attrCSS(_data_colspan_, _true_, \"!\") + V_attrCSS(_data_tbl_col_, th.a(_data_tbl_col_)));\n    return cells;\n}\n\n/**\n * 返回表格 tbody 内的同列单元格对象集合\n * @param table 表格格对象\n * @param th 列头单元格对象\n * @param tbodyCells 集合变量，为 gUndefined 则重新生成\n */\nfunction ColumnFormatting_getTbodyCells(table, th, tbodyCells) {\n    if (tbodyCells === gUndefined)\n        tbodyCells = table.f(\"td\" + V_attrCSS(_data_tbl_col_, th.a(_data_tbl_col_)));\n    return tbodyCells;\n}\n\n/**\n * 列格式化\n * @param table 表格对象\n */\nfunction ColumnFormatting_format(table) {\n    table.f(_thead_ + \" th\").e((index, element) => {\n        let th = $(element),\n            cells = gUndefined,\n            tbodyCells = gUndefined,\n            cellsCSS = _;\n\n        // 粗体\n        if (V_length(th.ch(_strong_ + __only_child_)) > 0) {\n            cells = ColumnFormatting_getCells(table, th, cells);\n            cellsCSS += _v_tbl_col_fmt_bold_ +___;\n        }\n\n        // 斜体\n        if (V_length(th.f(\"em\" + __only_child_)) > 0) {\n            cells = ColumnFormatting_getCells(table, th, cells);\n            cellsCSS += _v_tbl_col_fmt_em_ +___;\n        }\n\n        // 高亮\n        let thHTML = th.hm();\n        if (thHTML.sW(\"<mar\") && thHTML.eW(\"rk>\") // <mark>...</mark>\n            || th.a(_class_) !== gUndefined\n            && th.a(_class_).i(_v_tbl_col_fmt_mark_) > -1) {\n                $(V_attrCSS(_data_tbl_col_, th.a(_data_tbl_col_))).f(_mark_).ch().unwrap();\n                cells = ColumnFormatting_getCells(table, th, cells);\n                cellsCSS += _v_tbl_col_fmt_mark_ +___;\n        }\n\n        // 批量添加以上列的常规样式\n        if (cells !== gUndefined && V_length(cellsCSS) > 0)\n            JQ_addClass(cells, cellsCSS);\n\n        // 删除线\n        if (V_length(th.ch(_del_ + __first_child_)) > 0) {\n            // 删除对应的列\n            th.rm();\n            ColumnFormatting_getTbodyCells(table, th, tbodyCells).rm();\n        }\n\n        // 复选框\n        if (ColumnFormatting_syntax_checkbox_header.test(th.t())) {\n            cells = ColumnFormatting_getCells(table, th, cells);\n            JQ_addClass(cells, _v_tbl_col_fmt_chkbox_);\n\n            // 删除列头的复选框语法\n            ColumnFormatting_removeCheckboxSyntax(th, ColumnFormatting_syntax_checkbox_header);\n\n            tbodyCells = ColumnFormatting_getTbodyCells(table, th, tbodyCells);\n\n            tbodyCells.e((i, e) => {\n                let ce = $(e),\n                    ceText = ce.t().x(),\n                    typeFlag = ceText.m(ColumnFormatting_syntax_checkbox),\n                    chkStatus = _no_,\n                    chkStyle = _dark_;\n\n                typeFlag = (typeFlag !== gNull) ? typeFlag[2] : _;\n\n                // 跳过横向合并的单元格\n                if (ce.a(_colspan_) !== gUndefined)\n                    return gTrue;\n\n                // 移除单元格的复选框语法内容\n                ColumnFormatting_removeCheckboxSyntax(ce, typeFlag);\n\n                // 指定为 yes - 已选择\n                if (typeFlag === \"[x]\" || typeFlag.l() === \"y\") {\n                    chkStatus = _yes_;\n                    chkStyle = _theme_;\n                }\n                // 指定为 un - 不确定选择\n                else if (typeFlag === \"[-]\" || typeFlag === \"?\" || typeFlag === \"？\") {\n                    chkStatus = _un_;\n                    chkStyle = _theme_;\n                }\n                // 无指定\n                else\n                    ce.rHTML(_nbsp_, _);\n\n                // 添加复选框样式（有指定的内容，或单元内容为空时才添加）\n                if (V_length(typeFlag) > 0 || V_length(ceText) === 0)\n                    ce.pp(V_ui_svgIcon(_icoChkbox__ + chkStatus, 14, 14, chkStyle, _, V_attr(_data_chk_, chkStatus)));\n                else\n                    // 添加差异化的文本颜色\n                    ce.pp(\"<em>\" + V_ui_sub(_, _, \"Gy\") + \"</em>\");\n            });\n        }\n\n        // 数值格式\n        if (th.c(_text_align_).sW(\"r\")) {\n            tbodyCells = ColumnFormatting_getTbodyCells(table, th, tbodyCells);\n            // 设置为等宽字体\n            JQ_addClass(tbodyCells, _v_tbl_col_fmt_num_);\n            // 数值格式化处理\n            tbodyCells.e((i, e) => {\n                let ce = $(e),\n                    text = ce.t();\n                // 内容为数值\n                if (text.isNumber()) {\n                    // 添加千位符\n                    ce.hm(V_formatting_decimal( // 添加千位符\n                        V_formatting_thousands(ce.hm()))); // 对小数进行格式化处理\n                    // 根据正负号进行着色处理\n                    ColumnFormatting_coloringNumber(ce, text, gTrue);\n                }\n                // 内容为百分数\n                else if (text.isPercent()) {\n                    // 对小数进行处理\n                    ce.hm(V_formatting_percent( // 对小数进行处理\n                        V_formatting_decimal(ce.hm()))); // 对百分数进行格式化处理\n                    // 根据正负号进行着色处理\n                    let coloring = ColumnFormatting_coloringNumber(ce, text, gTrue),\n                        percent = text.r(/(-|\\+|\\s)/g, _),\n                        percentValue = JS_mathRound(percent.r(\"%\", _)),\n                        bg1 = V_ui_var(__ac_ + \"wt\" + __fade_), // V_ui_formatRGBA(percentBg, 0.1),//\"rgba(128, 128, 128, 0.1)\",\n                        bg2 = V_ui_var(__ac_ + \"t1\" + __fade_), // V_ui_formatRGBA(percentBg, 0.4),//\"rgba(128, 128, 128, 0.4)\",\n                        bgSplit = V_ui_var(__ac_ + \"t1\"); // V_ui_formatRGBA(percentBg, 0.8);//\"rgba(128, 128, 128, 0.8)\";\n\n                    // 对有着色的进行渐变颜色调整\n                    if (coloring) {\n                        let baseColor = ce.a(_class_).i(_v_tbl_col_fmt_num_negative_) > -1 ? \"gn\" : \"rd\";\n                        bg1 = V_ui_var(__ac_ + \"wt\" + __fade_);\n                        bg2 = V_ui_var(__ac_ + baseColor + __fade_);\n                        bgSplit = V_ui_var(__ac_ + baseColor);\n                    }\n                    // 根据百分比生成渐变背景色、最小宽度\n                    ce.c(_background_, _linear_gradient_ + \"(90deg,\" + bg1 + \" 0%,\" + bg2 +___+ (percentValue > 1 ? percentValue - 1 : 0)\n                        + \"%,\" + bgSplit +___+ percent\n                        + \",\" + _transparent_ +___+ percent + \")\")\n                            .c(_min_width_, \"100px\");\n                    // 对 +/- 符号进行处理\n                    ce.hm(ce.hm().r(\">+\", \">▴ \").r(\">-\", \">▾ \"));\n                }\n                // 内容为货币\n                else if (text.isCurrency()) {\n                    // 对货币符号进行格式货\n                    ce.hm(V_formatting_decimal( // 对货币符号进行格式货\n                        V_formatting_thousands( // 添加千位符\n                            V_formatting_currency(ce.hm())))); // 对小数进行格式化处理\n                    // 根据正负号进行着色处理\n                    ColumnFormatting_coloringNumber(ce, text, gFalse);\n                }\n            });\n        } // 数值格式\n\n        // 标识单元格是否为横向合并，横向合并的单元不应用列格式\n        if (th.a(_colspan_) !== gUndefined)\n            th.a(_data_colspan_, _true_);\n        else\n            th.a(_data_colspan_, _false_);\n    });\n}\n\n/**\n * 根据数值的正、负号进行着色处理\n * @param target 着色的对象\n * @param text 依据的数值文本\n * @param mode 正负号位置模式，true：在开头，false: 在任意位置\n * @returns boolean 着色结果，true：有着色，false：没有着色\n */\nfunction ColumnFormatting_coloringNumber(target, text, mode) {\n    // 正、负号在文本的开头\n    if (mode) {\n        if (text.sW(\"-\")) {\n            JQ_addClass(target, _v_tbl_col_fmt_num_negative_);\n            return gTrue;\n        }\n        else if (text.sW(\"+\")) {\n            JQ_addClass(target, _v_tbl_col_fmt_num_positive_);\n            return gTrue;\n        }\n    }\n    // 正、负号在文本的任意位置\n    else {\n        if (text.i(\"-\") > -1) {\n            JQ_addClass(target, _v_tbl_col_fmt_num_negative_);\n            return gTrue;\n        }\n        else if (text.i(\"+\") > -1) {\n            JQ_addClass(target, _v_tbl_col_fmt_num_positive_);\n            return gTrue;\n        }\n    }\n    return gFalse;\n}\n\n/**\n * 移除复选框的语法内容\n * @param target 目标单元格对象\n * @param syntaxText 要移除的语法内容\n */\nfunction ColumnFormatting_removeCheckboxSyntax(target, syntaxText) {\n    target.rHTML(syntaxText, _);\n}\n\n// ==================== 表格行分组/折叠类 ==================== //\n\nlet RowGroup_folderCount = 0, // 折叠行内行分组类型的数量\n    RowGroup_syntax_tag = /^>+(\\s)./, // 用于匹配行折叠语法\n    RowGroup_syntax_tag2Replace = /(&gt;)+(\\s)/, // 用于匹配将行折叠语法替换为指定字符\n    RowGroup_spliter = \"> \", // 行折叠语法与内容的分隔标识\n    RowGroup_parentStack = [], // 上级行的堆栈\n    RowGroup_colorStack = [], // 不同分组的背景颜色堆栈\n    // 表格折叠行图标：已收起\n    RowGroup_icoCloser = V_ui_svgIcon(_icoFolded_, 16, 16, _theme_);\n\n/**\n * 初始化\n * @param table 表格对象\n */\nfunction RowGroup_init(table) {\n    // 若不是在新标签打开的，将第 1 列的设置缩进样式\n    JQ_addClass(table.f(V_attrCSS(_data_tbl_col_, \"-0\", \"$\")), _v_tbl_row_g_not_folder_);\n\n    let lastLevel = 0, // 上一个缩进等级\n        currentLevel = 0; // 当前缩进等级\n\n    // 遍历所有行的第 1 个单元格\n    table.f(\"td\" + __first_child_).e((index, element) => {\n        let td = $(element),\n            tr = td.p(),\n            text = td.t();\n\n        // 判断每行的首列，是否有行折叠标识\n        // 没有则进入下一个循环\n        if (!RowGroup_syntax_tag.test(text)) {\n            lastLevel = 0;\n            RowGroup_parentStack.length = 0;\n            RowGroup_colorStack.length = 0;\n            return gTrue;\n        }\n\n        // 从语法中获得当前缩进等级\n        currentLevel = text.i(RowGroup_spliter) + 1;\n        // 当前等级比上一次等级要深\n        if (currentLevel > lastLevel) {\n            lastLevel = currentLevel;\n            // 设置为新的行分组\n            RowGroup_newFolder(tr);\n            // 设置为行缩进行\n            RowGroup_ident(tr, td, currentLevel);\n        }\n        // 当前等级比上一次等级要浅\n        else {\n            // 获得等级差进行\n            let count = lastLevel - currentLevel;\n            // 获得当前行对应的上级行\n            if (count > 0) {\n                for (let i = 0; i < count; i++) {\n                    RowGroup_parentStack.pop();\n                    RowGroup_colorStack.pop();\n                }\n            }\n\n            lastLevel = currentLevel;\n            // 设置为行缩进行\n            RowGroup_ident(tr, td, currentLevel);\n        }\n    });\n}\n\n/**\n * 获得最近一个分组行分组对象\n */\nfunction RowGroup_lastParent() {\n    return RowGroup_parentStack[V_length(RowGroup_parentStack) - 1];\n}\n\n/**\n * 获得最近一个分组颜色对象\n */\nfunction RowGroup_lastColor() {\n    return RowGroup_colorStack[V_length(RowGroup_colorStack) - 1];\n}\n\n/**\n * 设置为新的行分组\n * @param tr 对应的行对象\n */\nfunction RowGroup_newFolder(tr) {\n    let folderRow = tr.pr();\n    RowGroup_folderCount++;\n\n    // 将当前行分组的 id 入栈\n    RowGroup_parentStack.push(RowGroup_folderCount);\n\n    // 设置折叠行分组的属性\n    folderRow.a(_data_folder_id_, RowGroup_folderCount);\n    folderRow.a(_data_folder_, _true_);\n    folderRow.a(_data_row_folded_, _true_);\n\n    // 获得折叠行分组首个单元格\n    let td = folderRow.ch(\"td:\" + _first_),\n        tdHadIdent = td.f(\".\" + _v_tbl_row_g_identer_ + __last_);\n\n    // 设置折叠控件样式\n    if (V_length(tdHadIdent) > 0)\n        tdHadIdent.af(V_ui_span(_v_tbl_row_g_btn_.xD(), _, RowGroup_icoCloser));\n    else\n        td.pp(V_ui_label(_v_tbl_row_g_btn_.xD(), _, RowGroup_icoCloser));\n\n    V_ui_addAnimate(td.f(_v_tbl_row_g_btn_ + \">\" + _svg_));\n    // 调整折叠行的缩进样式\n    JQ_removeClass(td, _v_tbl_row_g_not_folder_);\n    JQ_addClass(td, _v_tbl_row_g_folder_);\n    JQ_addClass(tdHadIdent, _v_tbl_row_g_identer_folder_);\n\n    // 添加代表目录的括号及样式\n    // 重新组合生成新的单元格内容，以支持原始带格式的单元格内容\n    let preClass = \".\" + _v_tbl_row_g_identer_ + \",\" + _v_tbl_row_g_btn_,\n        preObjs = td.f(preClass),\n        cloneTd = td.clone();\n    cloneTd.ch(preClass).rm();\n    td.hm(__echoOuterHTML(preObjs) +___+ cloneTd.hm());\n\n    // 设置展开、收起事件\n    td.ch(_v_tbl_row_g_btn_).ck((event) => {\n        RowGroup_toggle(folderRow, event);\n    });\n\n    /**\n     * 遍历获得指定对象集合的所有 outerHTML 内容\n     * @param objectSet 对象集合\n     * @returns String\n     */\n    function __echoOuterHTML(objectSet) {\n        let outerHTML = _;\n        objectSet.e((index, element) => {\n            outerHTML += $(element).prop(_outerHTML_);\n        });\n        return outerHTML;\n    }\n}\n\n/**\n * 展开、收起表格行分组下的表格行\n * @param folderRow 折叠按钮所在的表格行对象\n * @param event 事件对象\n */\nfunction RowGroup_toggle(folderRow, event) {\n    // 取消事件冒泡，用于避免显示表格的阅读模式（十字光标）\n    event.stopPropagation();\n\n    // 处理行分组的打开、关闭\n    if (folderRow.a(_data_row_folded_).sW(\"t\"))\n        RowGroup_open(folderRow);\n    else\n        RowGroup_close(folderRow);\n\n    // 隐藏表格的阅读模式（十字光标）\n    TableCross_hide();\n}\n\n/**\n * 展开所有表格行分组\n * @param table 指定的表格对象\n * @param mode 指定打开模式。auto：系统自动打开\n * @returns boolean 处理结果。true: 已展开，false: 不符合展开条件\n */\nfunction RowGroup_openAll(table, mode) {\n    if (table.a(_data_row_group_) !== _true_)\n        return gFalse;\n\n    table.f(_v_tbl_row_g_btn_).e((index, element) => {\n        let folderRow = $(element).p().p();\n        if (folderRow.a(_data_row_folded_) === _true_)\n            RowGroup_open(folderRow, mode);\n    });\n    return gTrue;\n}\n\n/**\n * 收起全部表格行分级\n * @param table 指定的表格对象\n * @param mode 指定处理范围。auto：关闭被自动打开的，不指定时默认全部关闭\n * @returns boolean 处理结果。true: 已展开，false: 不符合展开条件\n */\nfunction RowGroup_closeAll(table, mode) {\n    if (table.a(_data_row_group_) !== _true_)\n        return gFalse;\n\n    // 只对第一级的行分组进行处理，非第一级的行分级为 span.v-tbl-row-g-btn\n    table.f(_label_ + _v_tbl_row_g_btn_).e((index, element) => {\n        let folderRow = $(element).p().p();\n        LOG(mode, folderRow.a(_data_row_open_mode_), folderRow.a(_data_row_folded_));\n        if (mode === _auto_) {\n            if (folderRow.a(_data_row_open_mode_) === _auto_ && folderRow.a(_data_row_folded_) === _false_)\n                RowGroup_close(folderRow);\n        }\n        else {\n            if (folderRow.a(_data_row_folded_) !== _true_)\n                RowGroup_close(folderRow);\n        }\n    });\n    return gTrue;\n}\n\n/**\n * 重置清空表格中的行分组相关信息\n * @param target 目标表格\n */\nfunction RowGroup_reset(target) {\n    JQ_removeAttr(target, _data_row_group_);\n    JQ_removeAttr(target.f(\"tr\" + V_attrCSS(_data_parent_folder_id_)), _data_parent_folder_id_);\n}\n\n/**\n * 设置为缩进行\n * @param tr 对应的行对象\n * @param td 对应的行的首个单元格\n * @param level 缩进层级\n */\nfunction RowGroup_ident(tr, td, level) {\n    // 统一缩进节点符号转换，尾行在完成的有处理后再进行修正\n    td.rHTML(RowGroup_syntax_tag2Replace, _);\n\n    // 设置被折叠行的属性\n    tr.a(_data_parent_folder_id_, RowGroup_lastParent());\n    // 设置缩进样式\n    td.a(_data_ident_level_, level);\n    // 调整样式\n    JQ_removeClass(td, _v_tbl_row_g_not_folder_);\n    JQ_addClass(td, _v_tbl_row_g_sub_);\n    // 设置被折叠行的背景色\n    tr.c(_background_color_, RowGroup_lastColor());\n\n    // 生成缩进占位元素\n    for (let i = 0; i < level; i++) {\n        let identer = td.f(\".\" + _v_tbl_row_g_identer_ + __last_),\n            identObj = V_ui_label(_v_tbl_row_g_identer_, _);\n        if (V_length(identer) > 0)\n            identer.af(identObj);\n        else\n            td.pp(identObj);\n    }\n\n    // 隐藏被折叠的行\n    tr.c(_display_, _table_column_);\n}\n\n/**\n * 展开表格行分组\n * @param folderRow 行分组对象\n * @param mode 指定打开模式。auto：系统自动打开\n */\nfunction RowGroup_open(folderRow, mode) {\n    // 处理展开行分组\n    let id = folderRow.a(_data_folder_id_),\n        table = folderRow.p().p(),\n        subRows = table.f(\"tr\" + V_attrCSS(_data_parent_folder_id_, id)),\n        folderButton = folderRow.ch(\"td:\" + _first_).ch(_v_tbl_row_g_btn_ + __last_);\n\n    folderRow.a(_data_row_folded_, _false_);\n    if (mode !== gUndefined)\n        folderRow.a(_data_row_open_mode_, mode);\n    JQ_addClass(folderButton.ch(_svg_), _v_rotate90_);\n    subRows.c(_display_, _);\n}\n\n/**\n * 折叠表格行分组\n * @param folderRow 行分组对象\n */\nfunction RowGroup_close(folderRow) {\n    // 处理折叠行分组\n    let id = folderRow.a(_data_folder_id_),\n        subRows = $(\"tr\" + V_attrCSS(_data_parent_folder_id_, id)),\n        folderButton = folderRow.ch(\"td:\" + _first_).ch(_v_tbl_row_g_btn_ + __last_);\n\n    folderRow.a(_data_row_folded_, _true_);\n    JQ_removeAttr(folderRow, _data_row_open_mode_);\n    JQ_removeClass(folderButton.ch(_svg_), _v_rotate90_);\n\n    // 折叠所有子行（包括行分组）\n    subRows.e((index, element) => {\n        let tr = $(element),\n            folder = tr.a(_data_folder_);\n        if (folder === _true_)\n            RowGroup_close(tr);\n        tr.c(_display_, _table_column_);\n    });\n}\n\n// ==================== 音频增强类 ==================== //\n\nlet ExtAudio_icon_loading = V_ui_svgIcon(_icoLoading_, 16, 16, _light_),\n    ExtAudio_icon_play = V_ui_svgIcon(_icoPlay_, 16, 16, _light_),\n    ExtAudio_icon_pause = V_ui_svgIcon(_icoPause_, 16, 16, _light_),\n    ExtAudio_icon_stop = V_ui_svgIcon(_icoStop_, 16, 16, _light_),\n    ExtAudio_icon_forbidden = V_ui_svgIcon(_icoForbidden_, 16, 16, _light_);\n\n/**\n * 初始化音频数据\n */\nfunction ExtAudio_init() {\n    // 支持指定类型的音频，以及支持带参数的 URL\n    let writeImg = _idWrite_ +___+ _img_;\n    $(writeImg + V_attrCSS(_src_, _mp3_, \"$\") + \",\" + writeImg + V_attrCSS(_src_, _m4a_, \"$\") + \",\" + writeImg + V_attrCSS(_src_, _ogg_, \"$\") + \",\" + writeImg + V_attrCSS(_src_, _wav_, \"$\") + \",\"\n    + writeImg + V_attrCSS(_src_, _mp3_ + \"?\", \"*\") + \",\" + writeImg + V_attrCSS(_src_, _m4a_ + \"?\", \"*\") + \",\" + writeImg + V_attrCSS(_src_, _ogg_ + \"?\", \"*\") + \",\" + writeImg + V_attrCSS(_src_, _wav_ + \"?\", \"*\") ).e((index, element) => {\n        let audioLike = $(element),\n            audio = gUndefined,\n            src = audioLike.a(_src_),\n            container = audioLike.p(),\n            params = V_util_getUrlQueryParams(src);\n\n        // 指定为 mini 模式（扩展的自定义控件）\n        if (params[_controls_] === _mini_) {\n            V_doc_counter_audiomini++;\n\n            // 将 URL 为音频资源的 img 标签转换为 audio\n            audio = __transToAudio(audioLike, src);\n            // 设置 audio id 用于自定义 mini 控件\n            audio.a(_id_, _vk_id_mini_audio_ + V_doc_counter_audiomini);\n\n            // 添加音频播放 mini 控件\n            audio.af(V_ui_divExt(_vk_id_mini_audio_ + V_doc_counter_audiomini + __control_, _v_audio_mini_control_,\n                V_attr(_data_title_, _mini_ +___+ _audio_ +___+ V_doc_counter_audiomini), _));\n\n            // 开始加载音频\n            audio.on(_load_+_start_, (event) => {\n                let controls = V_byID($(event.currentTarget).a(_id_) + __control_);\n                JQ_addClass(controls, _v_audio_mini_control_);\n                JQ_addClass(controls, _loading_);\n                controls.hm(ExtAudio_icon_loading);\n            });\n\n            // 音频就绪可以开始播放\n            audio.on(\"canplay\", (event) => {\n                let controls = V_byID($(event.currentTarget).a(_id_) + __control_);\n                JQ_removeClass(controls, _loading_);\n\n                // 绑定点击事件\n                controls.uC().ck((event) => {\n                    __play(event.currentTarget, audio[0]);\n                });\n                controls.hm(ExtAudio_icon_play);\n                controls.a(_data_pause_, params[_pause_]);\n\n                // 须显示持续时长\n                let dur = params[\"duration\"];\n                if (dur === _true_) {\n                    let dur2 = audio.a(_data_duration_);\n                    if (dur2 !== _true_) {\n                        // 计算音频时长\n                        let duration = audio[0].duration,\n                            min = Math.floor(duration / 60),\n                            sec = Math.floor(duration -  min * 60);\n                        let minStr = min > 0 ? min + \"′\" : _;\n                        audio.n().af(\" <sup \" + V_attrCSS(_class_, \"v-duration\") + \">\" + minStr + sec + \"″</sup>\");\n                        audio.a(_data_duration_, _true_);\n                    }\n                }\n            });\n\n            // 正在播放\n            audio.on(_playing_, (event) => {\n                let controls = V_byID($(event.currentTarget).a(_id_) + __control_),\n                    pause = controls.a(_data_pause_);\n\n                JQ_addClass(controls, _v_audio_mini_control_)\n                JQ_addClass(controls, _playing_);\n\n                // 支持暂停播放\n                if (pause !== _true_) {\n                    controls.hm(ExtAudio_icon_pause);\n                }\n                // 不支持暂停播放，暂时即结束\n                else {\n                    controls.hm(ExtAudio_icon_stop);\n                    audio.currentTime = 0; // 播放都是从头开始\n                }\n            });\n\n            // 播放结束后恢复按钮状态\n            audio.on(\"ended\", (event) => {\n                let controls = V_byID($(event.currentTarget).a(_id_) + __control_);\n                controls.hm(ExtAudio_icon_play);\n                JQ_removeClass(controls, _playing_);\n            });\n\n            // 故障或不可用\n            audio.on(_emptied_, (event) => {\n                let id = $(event.currentTarget).a(_id_) + __control_,\n                    controls = V_byID(id);\n                JQ_removeClass(controls, _loading_);\n                controls.hm(ExtAudio_icon_forbidden);\n                JQ_addClass(controls, _v_audio_mini_control_);\n                JQ_addClass(controls, _disabled_);\n                // 将无法加载的音频信息添加到链接检查器\n                __addToLinkChecker(audio.p());\n            });\n\n            // 加载错误\n            audio.on(_error_, () => {\n                audio.tr(_emptied_);\n            });\n\n            // 鼠标 mouseenter 和 mouseleave 事件\n            audio.on(_mouseEnter_, (event) => {\n                let _t =  $(event.currentTarget);\n                if (_t.a(_class_).i(_disabled_) === -1)\n                    JQ_addClass(_t, _hover_);\n            }).on(_mouseLeave_, (event) => {\n                JQ_removeClass($(event.currentTarget), _hover_);\n            });\n        }\n        // 标准控件模式\n        else {\n            V_doc_counter_audio++;\n\n            // 确保 video 有独立的父容器，一般情况下 Typora 导出的为 <p>\n            if (V_util_getTagName(container) !== \"p\") {\n                audioLike.wrap(\"<p></p>\");\n                container = audioLike.p();\n            }\n            // 设置容器样式数据，用于折叠内容时使用\n            container.a(_data_container_, _audio_);\n            JQ_addClass(container, _v_caption_container_);\n\n            // 先根据题注语法生成题注\n            Caption_actionForMediaContent(audioLike, _audio_);\n\n            // 将 URL 为音频资源的 img 标签转换为 audio\n            audio = __transToAudio(audioLike, src);\n            // 设置 audio 为标准控件\n            audio.a(_controls_, _controls_);\n\n            // 若有第 2 题注，则微调样式\n            if (V_length(audio.n(_v_cap2_)) > 0)\n                audio.c(_margin_bottom_, \"-10px\");\n\n            // 故障或不可用\n            audio.on(_emptied_, () => {\n                // 将无法加载的音频信息添加到链接检查器\n                __addToLinkChecker(audio.p());\n            });\n\n            // 加载错误\n            audio.on(_error_, () => {\n                audio.tr(_emptied_);\n            });\n        }\n\n        /**\n         * 将无效音频源的信息添加到链接检查器\n         *\n         * @param targetToJump 坏链对象\n         */\n        function __addToLinkChecker(targetToJump) {\n            let title = targetToJump.a(_data_title_);\n            if (title === gUndefined)\n                title = targetToJump.a(_src_);\n\n            // 将无法加载的音频信息添加到链接检查器\n            LinkTool_addToCheckResult(_error_ + __address_, targetToJump,\n                V_ui_label(_, _, V_lang_text63()) + title);//targetToJump.a(_dataTitle_));\n        }\n    });\n\n    /**\n     * 转换为 audio 标签\n     * @param audioLike 类 audio 标签（即 src 为音频的 img 标签)\n     * @param src 音频 URL\n     */\n    function __transToAudio(audioLike, src) {\n        let tips = [\n            \"不支持音频标签\",\n            \"Not support audio \" + _tag_\n            ][V_lang];\n\n        // 对 audio 标签的属性进行支持\n        let autoplay = V_util_getUrlQueryParams(src)[_autoplay_],\n            loop = V_util_getUrlQueryParams(src)[_loop_],\n            preload = V_util_getUrlQueryParams(src)[_preload_];\n\n        // 将 URL 为音频资源的 img 标签转换为 audio\n        audioLike.wrap(V_ui_audio(V_attr(_src_, src), tips));\n        let audio = audioLike.p();\n        // 移除图片 img 标签\n        audioLike.rm();\n\n        // 设置 audio 属性\n        if (autoplay !== gUndefined) audio.a(_autoplay_, _autoplay_);\n        if (loop !== gUndefined) audio.a(_loop_, _loop_);\n        if (preload !== gUndefined) audio.a(_preload_, _auto_);\n\n        return audio;\n    }\n\n    /**\n     * 播放音频\n     * @param self 自定义的播放控件对象\n     * @param audio 音频的 JavaScript 对象\n     */\n    function __play(self, audio) {\n        let controls = $(self);\n\n        // 已暂停、未播放\n        if (audio.paused) {\n            audio.play();\n        }\n        // 播放中\n        else {\n            controls.hm(ExtAudio_icon_play);\n            JQ_removeClass(controls, _playing_);\n            audio.pause();\n\n            // 不支持暂时播放时，暂时即结束\n            if (controls.a(_data_pause_) === gUndefined)\n                audio.currentTime = 0; // 播放都是从头开始\n        }\n    }\n}\n\n// ==================== 音频增强类 ==================== //\n\n/**\n * 初始化音频数据\n */\nfunction ExtVideo_init() {\n    // 支持指定类型的音频，以及支持带参数的 URL\n    let writeImg = _idWrite_ +___+ _img_;\n    $(writeImg + V_attrCSS(_src_, _ogv_, \"$\") + \",\" + writeImg + V_attrCSS(_src_, _mp4_, \"$\") + \",\" + writeImg + V_attrCSS(_src_, _webm_, \"$\") + \",\"\n        + writeImg + V_attrCSS(_src_, _ogv_ + \"?\", \"*\") + \",\" + writeImg + V_attrCSS(_src_, _mp4_ + \"?\", \"*\") + \",\" + writeImg + V_attrCSS(_src_, _webm_ + \"?\", \"*\") + \",\"\n        + gSelector_iframeVideo.r(/\\[src\\*=/g, \"[data-src*=\") // 针对 lazyLoading 后的 src 属性变化\n    ).e((index, element) => {\n        let videoLike = $(element),\n            tagName = V_util_getTagName(videoLike),\n            video = gUndefined,\n            src = videoLike.a(_src_),\n            container = videoLike.p();\n        V_doc_counter_video++;\n\n        // 确保 video 有独立的父容器，一般情况下 Typora 导出的为 <p>\n        if (V_util_getTagName(container) !== \"p\") {\n            videoLike.wrap(\"<p></p>\");\n            container = videoLike.p();\n        }\n        // 设置容器样式数据，用于折叠内容时使用\n        container.a(_data_container_, _video_);\n        JQ_addClass(container, _v_caption_container_);\n\n        // 先根据题注语法生成题注\n        Caption_actionForMediaContent(videoLike, _video_\n            + (tagName === _iframe_ ? _iframe_ : _));\n\n        // 不处理常规视频以外的标签（如内嵌的 iframe）\n        if (tagName !== _img_)\n            return;\n\n        // 将 URL 为音频资源的 img 标签转换为 video\n        video = __transToVideo(videoLike, src);\n\n        // 故障或不可用\n        video.on(_emptied_, () => {\n            let targetToJump = video.p(),\n                title = targetToJump.a(_data_title_);\n            if (title === gUndefined)\n                title = targetToJump.a(_src_);\n\n            // 将无法加载的音频信息添加到链接检查器\n            LinkTool_addToCheckResult(_error_ + __address_, targetToJump,\n                V_ui_label(_, _, V_lang_text63()) + title);\n            });\n\n        // 加载错误\n        video.on(_error_, () => {\n            video.tr(_emptied_);\n        });\n    });\n\n    /**\n     * 转换为 video 标签\n     * @param videoLike 类 video 标签（即 src 为视频的 img 标签)\n     * @param src 视频 URL\n     */\n    function __transToVideo(videoLike, src) {\n        let tips = [\n            \"不支持视频标签\",\n            \"Not support video \" + _tag_\n            ][V_lang];\n\n        // 对 video 标签的属性进行支持\n        let autoplay = V_util_getUrlQueryParams(src)[_autoplay_],\n            loop = V_util_getUrlQueryParams(src)[_loop_],\n            preload = V_util_getUrlQueryParams(src)[_preload_],\n            width = V_util_getUrlQueryParams(src)[_width_],\n            height = V_util_getUrlQueryParams(src)[_height_];\n\n        // 将 URL 为音频资源的 img 标签转换为 video\n        videoLike.wrap(V_ui_video(V_attr(_src_, src), tips));\n        let video = videoLike.p();\n        // 移除图片 img 标签\n        videoLike.rm();\n\n        // 设置 video 为标准控件\n        video.a(_controls_, _controls_);\n\n        // 设置 video 属性\n        if (autoplay !== gUndefined) video.a(_autoplay_, _autoplay_);\n        if (loop !== gUndefined) video.a(_loop_, _loop_);\n        if (preload !== gUndefined) video.a(_preload_, _auto_);\n        if (width !== gUndefined) video.a(_width_, width);\n        if (height !== gUndefined) video.a(_height_, height);\n\n        return video;\n    }\n}\n\n// ==================== 文本输入框类 ==================== //\n\n/**\n * 构造函数\n * @param target 须在其后添加文本输入组件的目标对象\n * @param id 对象标识\n * @param append 添加模式。true：作为子元素添加，false：作为兄弟元素添加\n */\nfunction TextField(target, id, append) {\n    let T = this;\n    // 文本输入框属性\n    T.ui = gUndefined;\n    T.icon = gUndefined;\n    T.input = gUndefined;\n    T.reset = gUndefined;\n    T.action = gUndefined;\n\n    T.lastValue = _;\n    T.timerValueChanged = gNull;\n\n    T.inputing = gFalse;\n    T.compStatus = gUndefined;\n\n    // 文本输入框事件\n    T.onInput = gUndefined;\n    T.onFocus = gUndefined;\n    T.onBlur = gUndefined;\n    T.onKeyDown = gUndefined;\n    T.onAction = gUndefined;\n    T.pressEnter = gUndefined;\n    T.pressESC = gUndefined;\n\n    /**\n     * 将文本输入框实例添加到指定对象之后\n     * @param target 指定对象\n     * @param id 添加到目标对象的 id 值\n     * @param append true: 添加，false: 插入\n     */\n    T.__appendTo = function (target, id, append) {\n        // 文本输入框 UI\n        let ui = V_ui_div(_, _v_text_field_ +___+ id,\n                    V_ui_div(_, _v_text_field_ + __icon_)\n                    + V_ui_input(_, _, _text_)\n                    + V_ui_div(_, _v_text_field_ + __action_)\n                    + V_ui_div(_, _v_text_field_reset_, V_ui_svgIcon(_icoResetInput_, 16, 16, _alpha_))\n                );\n        if (append) {\n            target.ap(ui);\n            T.ui = target.ch(\".\" + _v_text_field_ + \".\" + id);\n        }\n        else {\n            target.af(ui);\n            T.ui = target.p().ch(\".\" + _v_text_field_ + \".\" + id);\n        }\n\n        // 获得实例的各关键对象\n        T.input = T.ui.ch(_input_);\n        T.reset = T.ui.ch(\".\" + _v_text_field_reset_);\n\n        /**\n         * 绑定开始中文输入事件\n         */\n        T.input.on(_composition_ + _start_, () => {\n            T.compStatus = _start_;\n        });\n        /**\n         * 绑定结束中文输入事件\n         */\n        T.input.on(_composition_ + _end_, () => {\n            T.compStatus = _end_;\n        });\n\n        /**\n         * 绑定文本获得焦点事件\n         */\n        T.input.focus(() => {\n            T.inputing = gTrue; // 标记为输入中的状态\n\n            JQ_addClass(T.ui, _v_text_field_focus_);\n            __checkValueChanged();\n\n            // 针对输入中文的情况，若输入了新的内容则进行查询\n            function __checkValueChanged() {\n                // 针对输入中文的情况，以及若输入了新的内容再进行查询\n                if (T.compStatus !== gUndefined && T.compStatus !== _start_ && T.lastValue !== T.input.v()) {\n                    T.timerValueChanged = V_util_clearTimer(T.timerValueChanged);\n                    T.lastValue = T.input.v();\n                    T.processInput();\n                }\n                // 非中文输入的情况，以及若输入了新的内容再进行查询\n                else if (T.compStatus === gUndefined || (T.compStatus === _end_ && T.lastValue !== T.input.v())) {\n                    T.lastValue = T.input.v();\n                    T.processInput();\n                }\n\n                // 流控处理，以固定时间间隔处理输入内容\n                T.timerValueChanged = setTimeout(__checkValueChanged, 500);\n            }\n            // 触发外部重定义事件\n            typeof(T.onFocus) === _function_ && T.onFocus();\n        });\n\n        /**\n         * 绑定文本失去焦点事件\n         */\n        T.input.blur(() => {\n            T.inputing = gFalse; // 标记为非输入中的状态\n\n            JQ_removeClass(T.ui, _v_text_field_focus_);\n\n            T.timerValueChanged = V_util_clearTimer(T.timerValueChanged);\n\n            // 触发外部重定义事件\n            typeof(T.onBlur) === _function_ && T.onBlur();\n        });\n\n        /**\n         * 绑定键盘按下事件\n         */\n        T.input.on(_keydown_, (event) => {\n            let key = event.key,//event.keyCode || event.which || event.charCode,\n                value = T.input.v(),\n                combKeys = V_ui_getCombKeys(event);\n\n            let handled = gFalse;\n            if (V_length(combKeys) === 0) {\n                switch (key) {\n                    case _Enter_:\n                        if (T.action !== gUndefined)\n                            T.action.tr(_click_);\n                        handled = gTrue;\n                        typeof(T.pressEnter) === _function_ && T.pressEnter(value);\n                        break;\n                    case _Escape_:\n                        // 无内容时则取消取点，退出编辑，键盘事件则由导航中心的键盘事件进行响应\n                        if (V_length(value) === 0)\n                            T.input.blur();\n                        // 有内容则清空内容等待重新输入\n                        else\n                            T.reset.tr(_click_);\n                        handled = gTrue;\n                        typeof(T.pressESC) === _function_ && T.pressESC();\n                        break;\n                }\n            }\n\n            // 如果事件已处理，则禁止双重操作\n            if (handled)\n                V_util_preventDefault(event);\n\n            // 触发外部重定义事件\n            typeof(T.onKeyDown) === _function_ && T.onKeyDown(value, key);\n        });\n\n        /**\n         * 绑定重置输入内容按钮\n         */\n        T.reset.uC().ck(() => {\n            T.processInput(_);\n            // 清空后保持输入焦点\n            JQ_removeClass(T.reset, _enabled_);\n\n            if (T.action !== gUndefined && T.action.a(_class_).i(_enabled_) !== -1) {\n                JQ_removeClass(T.action, _enabled_);\n                V_ui_unbindHover(T.action);\n            }\n        });\n    }\n\n    /**\n     * 处理文本框输入的内容\n     * @param value 如不指定则使用文本框的值，如指定值则用指定值作为输入并作为文本框中的值\n     */\n    T.processInput = function (value) {\n        if (value === gUndefined)\n            value = T.input.v().x();\n        else {\n            value = value.x();\n            T.input.v(value);\n        }\n\n        if (value === _) {\n            JQ_removeClass(T.reset, _enabled_);\n\n            // 无内容时移除样式\n            if (T.action !== gUndefined && T.action.a(_class_).i(_enabled_) !== -1) {\n                JQ_removeClass(T.action, _enabled_);\n                V_ui_unbindHover(T.action);\n            }\n        }\n        else {\n            JQ_addClass(T.reset, _enabled_);\n\n            // 有内容时移除样式\n            if (T.action !== gUndefined && T.action.a(_class_).i(_enabled_) === -1) {\n                JQ_addClass(T.action, _enabled_);\n                T.action.on(_mouseEnter_, () => {\n                    T.actionHover(gTrue);\n                }).on(_mouseLeave_, () => {\n                    T.actionHover(gFalse);\n                });\n            }\n        }\n        // 触发外部重定义事件\n        typeof(T.onInput) === _function_ && T.onInput(value);\n    }\n\n    /**\n     * 清空输入框内容\n     */\n    T.clear = function () {\n        T.reset.tr(_click_);\n    }\n\n    /**\n     * 开启输入框前图标\n     * @param icon 图标\n     */\n    T.setIcon = function (icon) {\n        T.icon = T.ui.ch(\".\" + _v_text_field_ + __icon_);\n        T.icon.hm(icon);\n        T.icon.c(_visibility_, _visible_);\n    }\n\n    /**\n     * 开启动作按钮\n     * @param icon 按钮图标\n     */\n    T.setAction = function (icon) {\n        T.action = T.ui.ch(\".\" + _v_text_field_ + __action_);\n        T.action.hm(icon);\n        T.action.show();\n\n        T.action.on(_mouseEnter_, () => {\n            T.actionHover(gTrue);\n        }).on(_mouseLeave_, () => {\n            T.actionHover(gFalse);\n        });\n        T.action.uC().ck(() => {\n            let value = T.input.v();\n            // 输入内容不为空\n            if (V_length(value) > 0)\n                T.input.select();\n\n            // 触发外部重定义事件\n            typeof(T.onAction) === _function_ && T.onAction(value);\n        });\n    }\n\n    /**\n     * 动作按钮鼠标 hover 处理\n     * @param enter true: 鼠标光标进入，false: 鼠标光标离开\n     */\n    T.actionHover = function (enter) {\n        if (enter) {\n            JQ_addClass(T.action, _hover_);\n            if (T.action.a(_class_).i(_enabled_) !== -1)\n                JQ_addClass(T.ui, _hover_action_);\n        }\n        else {\n            JQ_removeClass(T.action, _hover_);\n            JQ_removeClass(T.ui, _hover_action_);\n        }\n    }\n\n    /**\n     * 设置提示文本\n     * @param text 提示文本\n     */\n    T.placeholder = function (text) {\n        T.input.a(_placeholder_, text);\n    }\n\n    /**\n     * 显示文本输入框\n     */\n    T.show = function () {\n        T.ui.show();\n    }\n\n    /**\n     * 隐藏文本输入框\n     */\n    T.hide = function () {\n        T.ui.hide();\n    }\n\n    // 生成控件\n    T.__appendTo(target, id, append);\n}\n\n// ==================== 过滤结果导航器类 ==================== //\n\nfunction FilterResultNavigator(result) {\n    let T = this;\n    T.index = 0;\n    T.result = result;\n\n    T.nextItem = function () {\n        if (V_ui_isHidden(T.result))\n            return;\n\n        let set = T.result.ch(\":\" + _visible_),\n            item = set.eq(T.index);\n        T.index++;\n        if (T.index >= V_length(set))\n            T.index = 0;\n        return item;\n    }\n\n    T.reset = function () {\n        T.index = 0;\n    }\n}\n\n// ==================== 导航中心【目录】组件类 ==================== //\n\n/**\n * 构造函数\n * @param holder 关联的上级容器\n * @param hidden 是否默认为隐藏\n */\nfunction TocIndex(holder, hidden) {\n    let T = this;\n    T.ui = {\n        entry : V_byClass(_v_segment_btn_ + \".\" + _toc_), // 入口\n        body : V_byClass(_v_toc_body_), // 目录索引内容\n        result : V_byClass(_v_index_filter_result_ + \".\" + _toc_) // 过滤结果面板\n    }\n\n    T.holder = holder;\n\n    T.h = []; // 目录集\n    // 针对无封面的情况\n    if (VOM_cover() === gUndefined)\n        T.h.push(_vk_id_doc_title_);\n\n    T.currentHeaderIndex = -1; // 当前章节在目录集中的索引\n    T.currentItem = gUndefined; // 当前章节对象\n\n    T.foldItems = []; // 非叶子章节集\n    T.lastHeaderFolder = gUndefined; // 上一个非叶子章节\n    T.lastHeaderLevel = 0; // 上一个章节的层级\n\n    T.lastDocScrollTop = 0; // 记录最后一次文档滚动位置\n\n    T.resultNav = new FilterResultNavigator(T.ui.result); // 过滤结果导航器\n\n    // 当前章节变化事件\n    T.onChapterChanged = gUndefined;\n\n    // 更新无目录情况下的提示信息\n    T.ui.body.a(_data_toc_empty_, \"( \" + V_lang_text35() + V_lang_text66() + \" )\\n\\n\"\n        + V_lang_text(46, [\n            \"在第一个一级标题前添加 [TOC] 以生成目录\",\n            \"Add [TOC] before the first first-level heading to generate it\"\n        ]));\n\n    /**\n     * 返回 Toc 组件类型名称\n     */\n    T.typeName = function () {\n        return _toc_;\n    }\n\n    /**\n     * 返回 Toc 组件类型描述\n     */\n    T.typeDesc = function () {\n        return V_lang_text35();\n    }\n\n    /**\n     * 是否有目录索引项目\n     */\n    T.hasIndexItem = function () {\n        return (V_length(T.ui.body.ch()) > 0);\n    }\n\n    /**\n     * 根据设备类型自适应hover样式\n     */\n    T.adjustHoverStyle = function () {\n        if (V_util_isMobile()) // 移动设备时解绑样式事件\n            $(_v_toc_folder_).uH();\n        else // 非移动设备时绑定样式事件\n            V_ui_bindHover($(_v_toc_folder_));\n    }\n\n    /**\n     * 添加目录节点\n     * @param item 由 Typora 生成的 [TOC] 目录节点\n     */\n    T.add = function (item) {\n        T.holder.segs.sts(this.typeName(), gTrue);\n\n        // 将章节记录到目录集中\n        let a = item.ch(\"a\"),\n            href = a.a(_href_);\n\n        // 只处理主题指定不被隐藏的标题 / 大纲范围\n        if (HeaderAutoNum_parseTocHeaderLevel(item.a(_class_)) <= gHideOutlineOver)\n            T.h.push(LinkTool_disposeNonStandardHash(href.ss(1, V_length(href))));\n\n        // 自定义目录节点元数据\n        item.a(_id_, _vk_header_ + item.a(_data_ref_)); // 添加id属性\n        item.a(_data_node_, 0); // 添加节点类型：0:叶子节点, 1:目录节点\n        item.a(_data_folded_, _false_); // 添加节点状态：true:收起, false:展开\n        item.a(_title_, a.t().x());\n\n        // 使用完 <a> 的内容后，将章节中的链接文字提到链接外，用于实现长章节内容截断的 CSS 新式\n        a.af(a.t());\n        a.t(_);\n\n        V_ui_adjustHoverStyle(item);\n        // 点击目录节点事件\n        item.uC().ck(() => {\n            // 跳转至对应的页内锚点\n            let hash = V_byID(item.a(_id_)).ch(\"a\").a(_href_);\n            V_util_gotoHash(hash);\n\n            // 触发锚点点击事件\n            typeof(T.holder.onInteractive) === _function_ && T.holder.onInteractive();\n        });\n\n        // -----------------------------------\n        // 目录非叶子章节的折叠功能实现\n        // 所有目录节点都添加 folding 空白控件备用\n        $(V_ui_div(\"fd-\" + _vk_header_ + item.a(_data_ref_), _v_toc_folder_.xD(), _nbsp_)).insertBefore(item.f(\"a\"));\n\n        // 记录所有非叶子节点的folder控件\n        let lv = HeaderAutoNum_parseTocHeaderLevel(item.a(_class_));\n        if (T.lastHeaderFolder !== gUndefined) {\n            // 当前节点比上一个节点层级低，则上一节点为可折叠的节点\n            if (lv > T.lastHeaderLevel) {\n                // 将最近一个子目录节点折叠控件入栈\n                T.foldItems.push(T.lastHeaderFolder);\n\n                // 为非叶子的章节添加折叠图标\n                let folder = T.lastHeaderFolder.hm(V_ui_svgIcon(_icoTocFolded_, 16, 16, _theme_, _v_rotate90_)),\n                    folderParent = folder.p();\n                folderParent.a(_data_node_, 1); // 0:叶子, 1:目录\n                folderParent.a(_data_folded_, _false_); // true:收起， false:展开\n\n                // 折叠控件事件\n                V_ui_addAnimate(folder.ch(_svg_));\n                folder.uC().ck((event) => {\n                    event.stopPropagation(); // 停止事件冒泡\n\n                    let id = $(event.currentTarget).p().a(_id_);\n                    T.disposeFold(id, (V_byID(id).a(_data_folded_).sW(\"t\")) ? \"e\" : \"c\", gTrue);\n                });\n            }\n            // 右当前节点比上一个节点层级高，则视为从下级回到上级\n            // 并将最近一个子目录节点折叠控件出栈\n            else if (lv < T.lastHeaderLevel)\n                T.foldItems.pop();\n\n            // 设置当前节点的父级信息\n            if (V_length(T.foldItems) > 0)\n                item.a(_data_pid_, T.foldItems[V_length(T.foldItems) - 1].p().a(_id_));\n        }\n\n        // 更新最后处理的folder控件\n        T.lastHeaderFolder = $(\"#fd-\" + _vk_header_ + item.a(_data_ref_));\n        T.lastHeaderLevel = lv;\n    }\n\n    /**\n     * 页面滚动时根据页面当前的位置，高亮对应目录中的章节\n     */\n    T.focusHeader = function (scrollTop) {\n        // ----------------------------------------\n        // 控制执行频率，避免处理过快影响性能\n        if (scrollTop === gUndefined)\n            scrollTop = V_util_getScrollTop();\n        if (Math.abs(scrollTop - T.lastDocScrollTop) < gScrollStep)\n            return;\n\n        T.lastDocScrollTop = scrollTop;\n\n        // ----------------------------------------\n        // 寻找文档当前显示的章节\n        // 默认为最后一章\n        let curIdx = V_length(T.h) - 1;\n        for (let i = 0, len = V_length(T.h); i < len; i++) {\n            let anchor = (!env.browser.Firefox)\n                    ? T.h[i] // 非 Firefox 浏览器\n                    : JS_decodeURI(T.h[i]), // Firefox 浏览器\n                target = V_byID(JS_decodeURI(anchor));\n            // 将最近一个章节从文档可视空间上方滚出的章节定义为「当前章节」\n            if ((target.oT() - V_util_getScrollTop()) > (target.h() * 3)) {\n                curIdx = i - 1;\n                break;\n            }\n        }\n\n        // 章节没有变化则直接退出\n        if (T.currentHeaderIndex === curIdx)\n            return;\n\n        // 章节有变化，并记录\n        T.currentHeaderIndex = curIdx;\n\n        // 当前文档位置在实际内容章节中时\n        if (T.inHeader()) {\n            // ----------------------------------------\n            // 更新目录内当前节点的样式\n            // 更新「当前章节」的样式\n            let item = V_byID(_vlook_toc_ + \" a\" + V_attrCSS(_href_, \"#\" + T.h[curIdx])).p();\n            V_ui_tg_currentItem(T.currentItem, item, gTrue);\n            T.currentItem = item;\n\n            // 若当前目录节点被折叠隐藏，则向上展开父级目录节点\n            if (V_ui_isHidden(T.currentItem))\n                __expandUpFolder(T.currentItem.a(_data_pid_));\n\n            // 导航中心内容自动滚动当前章节所在位置\n            T.scrollToCurrent();\n        }\n\n        // 触发当前章节变化事件\n        typeof(T.onChapterChanged) === _function_ && T.onChapterChanged();\n\n        /**\n         * 向上展开父级目录\n         * @param id 父级目录 id 值\n         */\n        function __expandUpFolder(id) {\n            // 展开\n            T.disposeFold(id, \"e\", gTrue);\n            // 若未到 h1（即第一级目录），则继续向上展开\n            let item = V_byID(id),\n                tagName = item.prop(_tagName_); // 注意！无法使用 V_util_getTagName ，会导致调用溢出\n            if (tagName !== gUndefined && tagName.l() !== \"h1\")\n                __expandUpFolder(item.a(_data_pid_));\n        }\n    }\n\n    /**\n     * 导航中心内容自动滚动到当前章节所在位置\n     */\n    T.scrollToCurrent = function () {\n        if (T.currentItem === gUndefined || T.currentItem.pos() === gUndefined)\n            return;\n\n        // 根据当前节点情况，目录内的可视空间自动滚动该节点所在位置\n        const preDis = T.currentItem.h() * 3, // 用于目录节点触动滚动的大小\n            sTop = V_util_getScrollTop(T.ui.body), // 目录内当前滚动位置\n            sBottom = sTop + T.ui.body.h(); // 当前可视空间中位于目录底部的位置\n\n        // 若当前节点在可视区域的上方，则滚动到该节点的位置\n        if (T.currentItem.pos().top < sTop)\n            V_util_setScrollTop(T.currentItem.pos().top, T.ui.body);\n        // 若当前节点在可视区域的下方，则滚动到该节点的位置\n        else if (T.currentItem.pos().top > (sBottom - preDis))\n            V_util_setScrollTop(T.currentItem.pos().top - T.ui.body.h() + preDis, T.ui.body);\n    }\n\n    /**\n     * 文档当前位置是否在章节内\n     */\n    T.inHeader = function () {\n        return T.currentHeaderIndex > -1;\n    }\n\n    /**\n     * 当前章节为第 1 章时特殊处理（有封面模式时）\n     */\n    T.inFirstHeader = function () {\n        return (VOM_cover() !== gUndefined && T.currentHeaderIndex === 0);\n    }\n\n    /**\n     * 当前文档位置位于文档标题（无封面模式时）\n     */\n    T.inDocTitle = function () {\n        return (VOM_cover() === gUndefined && T.currentHeaderIndex === 0);\n    }\n\n    /**\n     * 按关键字过滤\n     * @param value 过滤的关键字内容\n     * @returns boolean true - 有匹配的结果，false - 无匹配的结果\n     */\n    T.filter = function (value) {\n        if (V_length(value) === 0)\n            return gFalse;\n\n        if (T.holder.segs.checkedItemValue() === T.typeName())\n            T.showFilterResult();\n\n        let matched = gFalse;\n        T.ui.result.em();\n        // 遍历目录节点进行关键字匹配\n        $(_vlookTocItem_).e((index, element) => {\n            let item = $(element),\n                data = item.a(_data_header_num_) + item.a(_title_),\n                multiMatch = gTrue;\n\n            // 进行多关键字的 and 匹配\n            for (let i = 0; i < V_length(value); i++) {\n                if (data.l().i(value[i]) === -1) {\n                    multiMatch = gFalse;\n                    break;\n                }\n            }\n            if (multiMatch) {\n                // 匹配结果后，从目录节点中复制节点并移除不必要的样式和内容\n                let cloneItem = item.clone();\n\n                V_ui_addAnimate(cloneItem);\n                JQ_addClass(cloneItem, _v_toc_item_);\n                JQ_removeClass(cloneItem, _md_toc_item_ +___+ _md_toc__ + \"h1 \" + _md_toc__ + \"h2 \" + _md_toc__ + \"h3 \" + _md_toc__ + \"h4 \" + _md_toc__ + \"h5\");\n                cloneItem.ch(_v_toc_folder_).rm();\n                cloneItem.pp(V_ui_span(_, _, cloneItem.a(_data_header_num_)));\n                cloneItem.show();\n                cloneItem.a(_data_keyword_match_, _true_);\n\n                V_ui_adjustHoverStyle(cloneItem);\n\n                // 绑定同源的点击事件\n                cloneItem.uC().ck((event) => {\n                    V_ui_tg_currentItem(T.ui.result, $(event.currentTarget));\n                    item.tr(_click_);\n                });\n\n                // 将匹配的节点添加到过滤结果中\n                T.ui.result.ap(cloneItem);\n                Index_segments.sts(T.typeName(), gTrue);\n                matched = gTrue;\n            }\n        });\n\n        // 对文库节点进行匹配\n        gToc.f(\".\" + _v_doc_lib_item_).e((index, element) => {\n            let item = $(element),\n                data = item.t() + item.a(_data_keywords_);\n            if (data.l().i(value) > -1) {\n                // 匹配结果后，从目录节点中复制节点并移除不必要的样式和内容\n                let cloneItem = item.clone();\n                cloneItem.show();\n                cloneItem.a(_data_keyword_match_, _true_);\n\n                // 绑定同源的相关事件\n                cloneItem.uC().ck(() => {\n                    item.tr(_click_);\n                });\n                ToolTips_bind(cloneItem);\n                V_ui_bindHover(cloneItem);\n\n                // 将匹配的节点添加到过滤结果中\n                T.ui.result.ap(cloneItem);\n                matched = gTrue;\n            }\n        });\n\n        // 匹配结果为空\n        if (!matched) {\n            T.ui.result.em();\n            V_ui_set_dataNoMore(T.ui.result, []);\n            Index_segments.sts(T.typeName(), gFalse);\n        }\n        else\n            V_ui_set_dataNoMore(T.ui.result, [_]);\n\n        return matched;\n    }\n\n    /**\n     * 更新所属分段状态\n     */\n    T.updateStatus = function () {\n        if (V_length($(_vlookTocItem_)) > 0)\n            T.holder.segs.sts(this.typeName(), gTrue);\n        else\n            T.holder.segs.sts(this.typeName(), gFalse);\n    }\n\n    /**\n     * 显示目录索引组件\n     */\n    T.show = function () {\n        if (V_length(T.holder.keyword.input.v()) > 0) {\n            T.ui.body.hide();\n            T.showFilterResult();\n        }\n        else {\n            T.ui.body.show();\n            T.hideFilterResult();\n        }\n    }\n\n    /**\n     * 隐藏目录索引组件\n     */\n    T.hide = function () {\n        T.ui.body.hide();\n        T.hideFilterResult();\n    }\n    if (hidden) T.hide();\n\n    /**\n     * 显示过滤结果\n     */\n    T.showFilterResult = function () {\n        T.ui.body.hide();\n        T.ui.result.show();\n    }\n\n    /**\n     * 隐藏过滤结果\n     */\n    T.hideFilterResult = function () {\n        T.ui.result.hide();\n    }\n\n    /**\n     * 跳转至指定章节\n     */\n    T.gotoHeader = function (target) {\n        V_util_gotoHash(\"#\" + target.a(_data_hash_));\n    }\n\n    /**\n     * 处理展开或收起指定章节下的子章节\n     * @param id 对象的id值\n     * @param action 执行动作（c: collect, e: expand）\n     * @param traversal 是否遍历子元素\n     */\n    T.disposeFold = function (id, action, traversal) {\n        let lastItem = gNull,\n            item = V_byID(id),\n            itemSet = item.nextAll(),\n            btnFolder = $(\"#fd-\" + id);\n\n        // 更新折叠控件图标\n        if (action === \"e\") {\n            item.a(_data_folded_, _false_);\n            JQ_addClass(btnFolder.ch(_svg_), _v_rotate90_);\n        }\n        else {\n            item.a(_data_folded_, _true_);\n            JQ_removeClass(btnFolder.ch(_svg_), _v_rotate90_);\n        }\n\n        // 将指定节点后的所有节点进行处理\n        for (let i = 0, len = V_length(itemSet); i < len; i++) {\n            let item = $(itemSet[i]);\n            // 对前后节点层级不一致的处理\n            if (lastItem !== gNull) {\n                const hd1 = HeaderAutoNum_parseTocHeaderLevel(item.a(_class_));\n                const hd2 = HeaderAutoNum_parseTocHeaderLevel(lastItem.a(_class_));\n                if (hd1 > hd2) // 当前节点层级大于上一个节点的层级，继续\n                    continue;\n                else if (hd1 < hd2) // 当前节点层级小于上一个节点的层级，终止\n                    break;\n            }\n\n            // 如果是目录节点，同时是已展开，且执行动作为「收起」，才进行递归调用展开子节点\n            if (traversal\n                && item.a(_data_node_) === \"1\"\n                && item.a(_data_folded_).sW(\"f\")\n                && action === \"c\") {\n                    item.a(_data_folded_, _true_);\n                    // 递归处理\n                    T.disposeFold(item.a(_id_), action, traversal);\n            }\n\n            // 收起 / 展开\n            item.c(_display_, (action === \"c\") ? _none_ : _block_);\n            lastItem = item;\n        }\n    }\n}\n\n// ==================== 导航中心分类索引通用类 ==================== //\n\nlet Index_segments = gUndefined;\n\n/**\n * 初始化 UI\n * @param indexObj 目标对象\n */\nfunction Index_initUI(indexObj) {\n    let ui = indexObj.ui;\n    V_ui_addAnimate(ui.entry);\n\n    // 生成提示信息 UI\n    V_ui_set_dataNoMore(ui.result, []);\n}\n\n/**\n * 无输入关键字的处理\n * @param indexObj 目标对象\n */\nfunction Index_noneKeyword(indexObj) {\n    let ui = indexObj.ui,\n        items = ui.result.ch(\".\" + _v_toc_item_);\n    items.show();\n    if (V_length(items) > 0) {\n        items.a(_data_keyword_match_, _true_);\n        Index_updateStatus(indexObj);\n    }\n    V_ui_set_dataNoMore(ui.result, items);\n}\n\n/**\n * 更新所属分段状态\n * @param indexObj 目标对象\n */\nfunction Index_updateStatus(indexObj) {\n    Index_segments.sts(indexObj.typeName(),\n        V_length(indexObj.ui.result.ch(\".\" + _v_toc_item_ + V_attrCSS(_data_keyword_match_))) > 0);\n}\n\n/**\n * 添加索引项目\n * @param indexObj 目标对象\n * @param text 显示的文本\n * @param anchor 锚点\n * @param forSearch 用于搜索时检索的内容\n */\nfunction Index_add(indexObj, text, anchor, forSearch) {\n    Index_segments.sts(indexObj.typeName(), gTrue);\n\n    let ui = indexObj.ui;\n    V_ui_set_dataNoMore(ui.result, [_]);\n\n    let item = $(V_ui_span(_v_toc_item_,\n                    V_attr(_data_keywords_, V_util_clearHtmlQuot((forSearch === gUndefined || V_length(forSearch.x()) === 0) ? _ : forSearch)),\n                    text));\n    ui.result.ap(item);\n    V_ui_addAnimate(item);\n    item.uC().ck(() => {\n        V_ui_tg_currentItem(ui.result, item);\n\n        V_util_gotoHash(\"#\" + anchor);\n\n        // 触发锚点点击事件\n        typeof(indexObj.holder.onInteractive) === _function_ && indexObj.holder.onInteractive();\n    });\n}\n\n/**\n * 按关键字过滤\n * @param indexObj 目标对象\n * @param value 过滤的关键字内容\n * @returns boolean true - 有匹配的结果，false - 无匹配的结果\n */\nfunction Index_filter(indexObj, value) {\n    if (V_length(value) === 0) {\n        Index_segments.sts(indexObj.typeName(), gFalse);\n        return gFalse;\n    }\n\n    // 清空索引列表项\n    let ui = indexObj.ui;\n    ui.result.ch().hide();\n\n    JQ_removeAttr(ui.result.ch(), _data_keyword_match_);\n    JQ_removeAttr(ui.result, _data_no_more_);\n\n    V_ui_tg_resetCurrentItem(ui.result);\n\n    // 遍历目录节点进行关键字匹配\n    let matched = gFalse;\n    ui.result.ch(\".\" + _v_toc_item_).e((index, element) => {\n        let item = $(element),\n            dataForSearch = item.a(_data_keywords_),\n            multiMatch = gTrue;\n        // 进行多关键字的 and 匹配\n        for (let i = 0; i < V_length(value); i++) {\n            if (item.t().l().i(value[i]) === -1\n                && (dataForSearch !== gUndefined && dataForSearch.l().i(value[i]) === -1)) {\n                multiMatch = gFalse;\n                break;\n            }\n        }\n        if (multiMatch) {\n                item.show();\n                item.a(_data_keyword_match_, _true_);\n                Index_segments.sts(indexObj.typeName(), gTrue);\n                matched = gTrue;\n        }\n    });\n\n    // 匹配结果为空\n    if (!matched) {\n        V_ui_set_dataNoMore(ui.result, []);\n        Index_segments.sts(indexObj.typeName(), gFalse);\n    }\n    else {\n        V_ui_set_dataNoMore(ui.result, [_]);\n    }\n\n    return matched;\n}\n\n/**\n * 是否有对应的索引项目\n * @param indexObj 目标对象\n */\nfunction Index_hasIndexItem(indexObj) {\n    return (V_length(indexObj.ui.result.ch(_span_)) > 0);\n}\n\n/**\n * 显示索引组件\n * @param indexObj 目标对象\n */\nfunction Index_show(indexObj) {\n    indexObj.ui.result.show();\n}\n\n/**\n * 隐藏索引组件\n * @param indexObj 目标对象\n */\nfunction Index_hide(indexObj) {\n    indexObj.ui.result.hide();\n}\n\n// ==================== 导航中心【插图】组件类 ==================== //\n\n/**\n * 构造函数\n * @param holder 关联的上级容器\n * @param hidden 是否默认为隐藏\n */\nfunction FiguresIndex(holder, hidden) {\n    let T = this;\n    T.ui = {\n        entry : V_byClass(_v_segment_btn_ + \".\" + _figure_), // 入口\n        result : V_byClass(_v_index_filter_result_ + \".\" + _figure_) // 过滤结果面板\n    };\n\n    T.holder = holder;\n\n    T.resultNav = new FilterResultNavigator(T.ui.result); // 过滤结果导航器\n\n    // 关键字输入组件属性设置\n    Index_initUI(this);\n\n    /**\n     * 返回 Figure 组件类型名称\n     */\n    T.typeName = function () {\n        return _figure_;\n    }\n\n    /**\n     * 返回 Figure 组件类型描述\n     */\n    T.typeDesc = function () {\n        return V_lang_text58() + \" / \" + V_lang_text68();\n    }\n\n    /**\n     * 是否有图片索引项目\n     */\n    T.hasIndexItem = function () {\n        return Index_hasIndexItem(this);\n    }\n\n    /**\n     * 初始化插图索引\n     * @param text 显示的文本\n     * @param anchor 锚点\n     * @param forSearch 用于搜索时检索的内容\n     */\n    T.add = function (text, anchor, forSearch) {\n        Index_add(this, text, anchor, forSearch);\n    }\n\n    /**\n     * 更新所属分段状态\n     */\n    T.updateStatus = function () {\n        Index_updateStatus(this);\n    }\n\n    /**\n     * 显示插图组件\n     */\n    T.show = function () {\n        Index_show(this);\n    }\n\n    /**\n     * 隐藏插图组件\n     */\n    T.hide = function () {\n        Index_hide(this);\n    }\n    if (hidden) T.hide();\n}\n\n// ==================== 导航中心【表格】组件类 ==================== //\n\n/**\n * 构造函数\n * @param holder 关联的上级容器\n * @param hidden 是否默认为隐藏\n */\nfunction TablesIndex(holder, hidden) {\n    let T = this;\n    T.ui = {\n        entry : V_byClass(_v_segment_btn_ + \".\" + _table_), // 入口\n        result : V_byClass(_v_index_filter_result_ + \".\" + _table_) // 过滤结果面板\n    };\n\n    T.holder = holder;\n\n    T.resultNav = new FilterResultNavigator(T.ui.result); // 过滤结果导航器\n\n    // 关键字输入组件属性设置\n    Index_initUI(this);\n\n    /**\n     * 返回 Table 组件类型名称\n     */\n    T.typeName = function () {\n        return _table_;\n    }\n\n    /**\n     * 返回 Table 组件类型描述\n     */\n    T.typeDesc = function () {\n        return V_lang_text56();\n    }\n\n    /**\n     * 是否有表格索引项目\n     */\n    T.hasIndexItem = function () {\n        return Index_hasIndexItem(this);\n    }\n\n    /**\n     * 初始化表格索引\n     * @param text 显示的文本\n     * @param anchor 锚点\n     * @param forSearch 用于搜索时检索的内容\n     */\n    T.add = function (text, anchor, forSearch) {\n        Index_add(this, text, anchor, forSearch);\n    }\n\n    /**\n     * 更新所属分段状态\n     */\n    T.updateStatus = function () {\n        Index_updateStatus(this);\n    }\n\n    /**\n     * 显示表格组件\n     */\n    T.show = function () {\n        Index_show(this);\n    }\n\n    /**\n     * 隐藏表格组件\n     */\n    T.hide = function () {\n        Index_hide(this);\n    }\n    if (hidden) T.hide();\n}\n\n// ==================== 导航中心【多媒体】组件类 ==================== //\n\n/**\n * 构造函数\n * @param holder 关联的上级容器\n * @param hidden 是否默认为隐藏\n */\nfunction MediaIndex(holder, hidden) {\n    let T = this;\n    T.ui = {\n        entry : V_byClass(_v_segment_btn_ + \".\" + _media_), // 入口\n        result : V_byClass(_v_index_filter_result_ + \".\" + _media_) // 过滤结果面板\n    };\n\n    T.holder = holder;\n\n    T.resultNav = new FilterResultNavigator(T.ui.result); // 过滤结果导航器\n\n    // 关键字输入组件属性设置\n    Index_initUI(this);\n\n    /**\n     * 返回 Media 组件类型名称\n     */\n    T.typeName = function () {\n        return _media_;\n    }\n\n    /**\n     * 返回 Media 组件类型描述\n     */\n    T.typeDesc = function () {\n        return V_lang_text59() + \" / \" + V_lang_text60();\n    }\n\n    /**\n     * 是否有多媒体索引项目\n     */\n    T.hasIndexItem = function () {\n        return Index_hasIndexItem(this);\n    }\n\n    /**\n     * 初始化多媒体索引\n     * @param text 显示的文本\n     * @param anchor 锚点\n     * @param forSearch 用于搜索时检索的内容\n     */\n    T.add = function (text, anchor, forSearch) {\n        Index_add(this, text, anchor, forSearch);\n    }\n\n    /**\n     * 更新所属分段状态\n     */\n    T.updateStatus = function () {\n        Index_updateStatus(this);\n    }\n\n    /**\n     * 显示多媒体组件\n     */\n    T.show = function () {\n        Index_show(this);\n    }\n\n    /**\n     * 隐藏多媒体组件\n     */\n    T.hide = function () {\n        Index_hide(this);\n    }\n    if (hidden) T.hide();\n}\n\n// ==================== 导航中心【代码块】组件类 ==================== //\n\n/**\n * 构造函数\n * @param holder 关联的上级容器\n * @param hidden 是否默认为隐藏\n */\nfunction CodeblocksIndex(holder, hidden) {\n    let T = this;\n    T.ui = {\n        entry : V_byClass(_v_segment_btn_ + \".\" + _codeblock_), // 入口\n        result : V_byClass(_v_index_filter_result_ + \".\" + _codeblock_) // 过滤结果面板\n    };\n\n    T.holder = holder;\n\n    T.resultNav = new FilterResultNavigator(T.ui.result); // 过滤结果导航器\n\n    // 关键字输入组件属性设置\n    Index_initUI(this);\n\n    /**\n     * 返回 Codeblock 组件类型名称\n     */\n    T.typeName = function () {\n        return _codeblock_;\n    }\n\n    /**\n     * 返回 Codeblock 组件类型描述\n     */\n    T.typeDesc = function () {\n        return V_lang_text57();\n    }\n\n    /**\n     * 是否有代码块索引项目\n     */\n    T.hasIndexItem = function () {\n        return Index_hasIndexItem(this);\n    }\n\n    /**\n     * 初始化代码块索引\n     * @param text 显示的文本\n     * @param anchor 锚点\n     * @param forSearch 用于搜索时检索的内容\n     */\n    T.add = function (text, anchor, forSearch) {\n        Index_add(this, text, anchor, forSearch);\n    }\n\n    /**\n     * 更新所属分段状态\n     */\n    T.updateStatus = function () {\n        Index_updateStatus(this);\n    }\n\n    /**\n     * 显示代码块组件\n     */\n    T.show = function () {\n        Index_show(this);\n    }\n\n    /**\n     * 隐藏代码块组件\n     */\n    T.hide = function () {\n        Index_hide(this);\n    }\n    if (hidden) T.hide();\n}\n\n// ==================== 导航中心【公式】组件类 ==================== //\n\n/**\n * 构造函数\n * @param holder 关联的上级容器\n * @param hidden 是否默认为隐藏\n */\nfunction FormulasIndex(holder, hidden) {\n    let T = this;\n    T.ui = {\n        entry : V_byClass(_v_segment_btn_ + \".\" + _formula_), // 入口\n        result : V_byClass(_v_index_filter_result_ + \".\" + _formula_) // 过滤结果面板\n    };\n\n    T.holder = holder;\n\n    T.resultNav = new FilterResultNavigator(T.ui.result); // 过滤结果导航器\n\n    // 关键字输入组件属性设置\n    Index_initUI(this);\n\n    /**\n     * 返回 Formula 组件类型名称\n     */\n    T.typeName = function () {\n        return _formula_;\n    }\n\n    /**\n     * 返回 Formula 组件类型描述\n     */\n    T.typeDesc = function () {\n        return V_lang_text18();\n    }\n\n    /**\n     * 是否有公式索引项目\n     */\n    T.hasIndexItem = function () {\n        return Index_hasIndexItem(this);\n    }\n\n    /**\n     * 初始化公式索引\n     * @param text 显示的文本\n     * @param anchor 锚点\n     * @param forSearch 用于搜索时检索的内容\n     */\n    T.add = function (text, anchor, forSearch) {\n        Index_add(this, text, anchor, forSearch);\n    }\n\n    /**\n     * 更新所属分段状态\n     */\n    T.updateStatus = function () {\n        Index_updateStatus(this);\n    }\n\n    /**\n     * 显示公式组件\n     */\n    T.show = function () {\n        Index_show(this);\n    }\n\n    /**\n     * 隐藏公式组件\n     */\n    T.hide = function () {\n        Index_hide(this);\n    }\n    if (hidden) T.hide();\n}\n\n// ==================== 导航历史的组件类 ==================== //\n\n/**\n * 构造函数\n */\nfunction HistoryList() {\n    let T = this;\n    T.ui = V_byClass(_v_link_info_list_ + __items_);\n\n    /**\n     * 添加导航历史记录\n     * @param hash 页内锚点链接\n     */\n    T.add = function (hash) {\n        if (hash === gUndefined || hash === \"#\" || V_length(hash.x()) === 0)\n            return;\n\n        // 对由 VLOOK 生成的页内锚点，对其显示的条目文本进行处理\n        let content = gUndefined,\n            anchor = hash.ss(1, V_length(hash)),\n            type = _,\n            lastPos = -1;\n        // 插图/表格/多媒体/代码块索引\n        if (anchor.sW(\"vk-id\"))\n            content = $(hash).a(_data_title_);\n        // 错误的内链 vk-error...\n        else if (anchor.sW(\"vk-\" + _error_ + __hash_)) {\n            content = V_ui_label(_, _, V_lang_text54()) + $(hash).t() + \" (\" + $(hash).a(_href_) + \")\";\n            type = ___+ _error_ + __hash_;\n        }\n        else if (anchor.sW(\"vk-\" + _error_ + __address_)) {\n            let cap = $(hash).ch(_v_cap1_);\n            content = V_ui_label(_, _, V_lang_text63())\n                + V_ui_span(_, _, cap.ch(_span_).t()) // 题注的内容\n                + cap.clone().ch().rm().end().t(); // 纯文本元素的内容\n            type = ___+ _error_ + __address_;\n        }\n        // 重复的标题 vk-warning...\n        else if (anchor.sW(\"vk-wa\")) {\n            content = V_ui_label(_, _, V_lang_text53()) + $(hash).t();\n            type = ___+ _warning_;\n        }\n        // 全部脚注\n        else if (anchor.sW(_vk_footer_area_))\n            content = $(hash).t();\n        // 继续上次阅读（最后浏览位置）\n        else if (!hash.sW(\"#\")) {\n            lastPos = hash;\n            content = V_lang_text78();\n        }\n\n        let valueForDataHistory = (lastPos === -1 ?  hash : _last_position_);\n\n        // 未匹配到以上 VLOOK 专属的索引锚点，则按目录索引进行处理\n        if (content === gUndefined) {\n            let hashObj = $(_vlookTocItem_ + \">.\" + _md_toc__ + _inner_ + V_attrCSS(_href_, JS_decodeURI(hash))).p(),\n                span = hashObj.a(_data_header_num_);\n            content = V_ui_span(_, _, \"§ \" + (V_length(span) > 0 ? span : V_lang_text35())) + JS_decodeURI(anchor);\n        }\n        let result = T.ui.ch(_span_ + V_attrCSS(_data_history_, valueForDataHistory));\n\n        // 不存在相同的历史访问记录\n        if (V_length(result) === 0) {\n            let needHide = LinkTool_panelList.a(_data_content_type_) === _history_ ? _ :  ___+ V_attr(_style_, _display_ + \":\" + _none_),\n                newItem = V_ui_span(_v_toc_item_ + type, V_attr(_data_history_, valueForDataHistory) + needHide, content);\n            if (lastPos === -1) // 普通锚点\n                T.ui.pp(newItem);\n            else // 继续上次阅读\n                T.ui.ap(newItem);\n        }\n\n        // 为新增加 / 移动后的记录添加鼠标事件\n        let item = T.ui.ch(_span_ + V_attrCSS(_data_history_, valueForDataHistory));\n        item.a(_data_keyword_match_, _true_);\n\n        // 更新面板条目提示信息\n        LinkTool_updateDataNoMore([_]);\n\n        if (!V_util_isMobile())\n            V_ui_bindHover(item);\n        item.uC().ck(() => {\n            V_ui_tg_currentItem(T.ui, item);\n\n            LinkTool_hide();\n            if (lastPos === -1)\n                V_util_gotoHash(hash);\n            else\n                V_util_setScrollTop(ResumeReading_lastPosition);\n        });\n    }\n}\n\n// ==================== 导航中心 DocLib 文库类 ==================== //\n\n/**\n * 构造函数\n * @param mask 遮罩对象\n * @param holder 关联的上级容器\n */\nfunction DocLib(mask, holder) {\n    let T = this;\n    T.ui = V_byClass(_v_doc_lib_);\n    T.toc = gUndefined;\n    T.iframe = gUndefined;\n    T.off = gFalse;\n    T.enabled = gFalse;\n    T.page = gUndefined;\n    T.hash = _;\n    T.counter = 0;\n    T.paths = [];\n    T.holder = holder;\n\n    // 遮罩\n    T.mask = mask;\n    T.mask.bindPartner(this, T.ui);\n\n    T.init = function () {\n        if (V_util_getParamVal(_vdl_) === _off_)\n            T.off = gTrue;\n\n        // ------------------------------\n        // 处理文档内的文库专用链接\n        let re_TargetVDL = new RegExp(\"[?&]\" + _target_ + \"=\" + _vdl_, \"i\");\n        $(\"a\" + V_attrCSS(_href_, _docLibIdentifier_, \"*\")).e((index, element) => {\n            let a = $(element),\n                href = a.a(_href_),\n                page = V_util_getUrlWithoutHash(href).r(re_TargetVDL, _),\n                hash = V_util_getUrlHash(href);\n\n            JQ_removeAttr(a, _href_); // 移除 href\n\n            if (!T.off) {\n                a.a(_target_, _vdl_);\n                a.uC().ck(() => {\n                    T.show(page, hash);\n                });\n            }\n        });\n\n        if (T.off) // 指定关闭文库则不再进行后续处理\n            return;\n\n        // ==============================\n\n        let docLibValue = V_util_getMetaByName(_vlook_doc_lib_),\n            result = gNull,\n            curPage = V_util_getUrlWithoutQueryAndHash(WINDOW_getHref());\n\n        T.iframe = $(_iframe_ + V_attrCSS(_name_, _vlook_doc_lib_));\n\n        gToc.ap(V_ui_div(_doc_lib_toc_, _));\n        T.toc = V_byID(_doc_lib_toc_);\n\n        // ------------------------------\n        // 处理 YAML 中的文库配置，支持以逗号分隔的多段内容\n        if (docLibValue !== gUndefined && (result = docLibValue.m(/^([^,]+(,\\s*)?)+$/)) !== gNull) {\n            let docLibList = docLibValue.sp(/,(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/),\n                item = _,\n                page = _,\n                hash = _,\n                text = _,\n                title = _;\n            for (let i = 0; i < V_length(docLibList); i++) {\n                item = docLibList[i].x();\n                result = item.m(/^(\\[([^\\]]+)]\\(([^)\\s]+)(\\s+\"([^\"]+)\")?\\))$/);\n                // 按 [text](url \"title\") 格式配置的文库\n                if (result !== gNull) {\n                    page = V_util_getUrlWithoutHash(result[3]);\n                    hash = V_util_getUrlHash(result[3]);\n                    text = result[2].x();\n                    title = (V_length(result) > 5) ? result[5] : _;\n                    if (V_length(text) === 0 && V_length(title) > 0)\n                        text = title;\n                }\n                // 按默认只有 url 方式配置的文库\n                else {\n                    page = V_util_getUrlWithoutHash(item);\n                    hash = V_util_getUrlHash(item);\n                    text = V_lang_text7();\n                    title = _;\n                }\n\n                // 与当面不重复的文库链接才进行处理\n                if (curPage !== new URL(V_util_getUrlWithoutQueryAndHash(page), WINDOW_getHref()).href) {\n                    hash = \"#\" + LinkTool_disposeNonStandardHash(hash);\n                    __addDocLibItem(text, page, hash, title);\n                    // 添加到链接地图\n                    LinkTool_addToMap(text, page, hash.ss(1, V_length(hash)).l());\n                }\n            }\n        }\n\n        // --------------------\n        // 添加动画效果\n        V_ui_addAnimate(V_byID(_doc_lib_toc_ + \">.\" + _v_doc_lib_item_\n            + \",#\" + _doc_lib_toc_ + \">.\" + _v_doc_lib_item_ + \">svg\"));\n\n        // to-do: 首次加载时，避免设置为第 1 个文库链接后，触发浏览器的预加载\n        // T.reload();\n\n        /**\n         * 添加文库项\n         * @param text 文库名称\n         * @param page 文库页面路径\n         * @param hash 文库页面锚点\n         * @param title 文库用于被关键字检索的内容\n         */\n        function __addDocLibItem(text, page, hash, title) {\n            // 无锚点的情况\n            if (hash === \"#\")\n                hash = _;\n            // 过滤重复的文库链接\n            if (T.paths.includes(page + hash))\n                return;\n            T.paths.push(page + hash);\n\n            T.enabled = gTrue;\n\n            // 初始化第一个文库项\n            T.counter++;\n            if (T.counter === 1) {\n                T.page = page;\n                T.hash = hash;\n            }\n\n            // 添加文库项\n            let target = V_util_getUrlQueryParams(page)[_target_],\n                hasTarget = (target !== gUndefined && V_length(target) > 0),\n                extLink = (page.i(\"://\") > -1);\n            T.toc.ap(V_ui_div(_, _v_doc_lib_item_ + \" id-\" + T.counter,\n                V_ui_span(_, _, (hasTarget\n                    ? (!extLink\n                        ? ( target === \"_self\"\n                            ? V_ui_svgIcon(_icoDocLibSelf_, 20, 20, _alpha_)\n                            : V_ui_svgIcon(_icoDocLibBm_, 20, 18, _alpha_)) // 图标：在新标签中打开站内链接\n                        : V_ui_svgIcon(_icoDocLibExt_, 20, 20, _alpha_)) // 图标：在新标签中打开外部链接\n                    : V_ui_svgIcon(_icoDocLib_, 20, 18, _alpha_)) // 图标：在文库窗口中打开\n                )\n                + V_ui_div(_,_, text)\n            ));\n\n            // 初始化文库项数据\n            let item = T.toc.f(\".\" + _v_doc_lib_item_ + \".id-\" + T.counter);\n            item.a(_data_page_, page);\n            ToolTips_bind(item, V_ui_strong(text) + (title === gUndefined ? _ : _br_ + V_ui_sub(_, _, title)));\n            // 设置用于被关键字搜索的内容\n            item.a(_data_keywords_, _vdl_ + \"文库\" + (title === gUndefined ? _ : title));\n            item.uC().ck(() => {\n                if (hasTarget) {\n                    // 去掉 target 参数内容\n                    let urlParams = new URLSearchParams(new URL(page, gDocument.baseURI).search);\n                    urlParams.delete(_target_);\n                    // 新标签中打开\n                    gWindow.open(V_util_getUrlWithoutQueryAndHash(page)\n                        + JS_toString(urlParams) + hash, target);\n                }\n                else\n                    T.show(page, hash);\n            });\n\n            LOG(\"    ├ DocLib: \" + page + hash);\n        }\n    }\n\n    /**\n     * 添加 hash 条目\n     * @param icon 图标\n     * @param text 条目文本\n     * @param hash 指定的 hash\n     */\n    T.addHashItem = function (icon, text, hash) {\n        // 添加界面内容\n        T.counter++;\n        T.toc.ap(V_ui_div(_, _v_doc_lib_item_ + \" id-\" + T.counter,\n            V_ui_span(_, _, icon) + V_ui_div(_,_, text)\n        ));\n\n        // 设置数据\n        let item = T.toc.f(\".\" + _v_doc_lib_item_ + \".id-\" + T.counter);\n        ToolTips_bind(item, V_ui_strong(text));\n        item.a(_data_keywords_, _vdl_ + \"文库\");\n\n        // 处理点击事件\n        item.uC().ck(() => {\n            // 跳转至目标 hash\n            WINDOW_setHref(\"#\" + hash);\n        });\n    }\n\n    /**\n     * 重新加载文库内容\n     * @param scheme （可选）指定的颜色方案，light / dark\n     * @param page 指定的文库路径\n     * @param hash 指定的锚点\n     */\n    T.reload = function (scheme, page, hash) {\n        // 避免初始化时，与 ColorScheme_refresh 重复加载\n        if (scheme === ColorScheme_scheme\n            && (page === gUndefined || T.page === gUndefined))\n            return;\n\n        let cs = _;\n\n        // 指定的颜色方案不为空时\n        if (scheme !== gUndefined)\n            cs = \"&cs=\" + scheme;\n\n        // 指定的页面为空时（不包括 ?target=vdl 这种情况）\n        if (page === gUndefined)\n            page = T.page;\n        if (page === gUndefined)\n            return;\n\n        // 指定的锚点为空时\n        if (hash === gUndefined)\n            hash = _;\n\n        T.iframe.a(_src_,\n            page + ((page.i(\"?\") > -1) ? \"&\" : \"?\")\n            + \"ws=\" + _off_ + \"&v\" + _type_ + \"=\" + _mini_\n            + cs + \"&ts=\" + V_util_getTime()\n            + hash);\n    }\n\n    /**\n     * 显示文库\n     * @param newPage 指定的文库路径\n     * @param hash 指定的锚点\n     */\n    T.show = function (newPage, hash) {\n        typeof(T.holder.onInteractive) === _function_ && T.holder.onInteractive();\n\n        let path = V_util_getUrlWithoutQueryAndHash(newPage);\n\n        T.mask.show();\n        // 使用 hide() show() 会导航无法保留上次显示的位置\n        V_ui_fadeShow(T.ui);\n\n        // 如果指定的页面为空，则使用当前页面\n        if (V_length(path) === 0) {\n            path = T.page;\n            newPage = T.page;\n        }\n\n        // 如果指定的锚点为空，且路径与当前页面一致，则不刷新页面\n        if (V_length(hash) === 0\n            && path === V_util_getUrlWithoutQueryAndHash(T.iframe.a(_src_)))\n            return;\n\n        // 刷新文库页面显示\n        if (path === T.page)\n            T.reload(gUndefined, gUndefined, hash);\n        else\n            T.reload(gUndefined, newPage, hash);\n    }\n\n    /**\n     * 隐藏文库\n     */\n    T.hide = function () {\n        // 使用 hide() show() 会导航无法保留上次显示的位置\n        V_ui_fadeHide(T.ui);\n        T.mask.hide();\n    }\n\n    /**\n     * 处理热键操作\n     * @param key 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (key, combKeys, event) {\n        if (V_ui_isHidden(T.ui))\n            return;\n\n        let handled = gFalse;\n        if (V_length(combKeys) === 0) {\n            switch (key) {\n                case _Escape_:\n                    if (V_ui_isShowed(T.ui)) {\n                        T.hide();\n                        handled = gTrue;\n                    }\n                    break;\n            }\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            V_util_preventDefault(event);\n    }\n}\n\n// ==================== 插图增强类 ==================== //\n\n/**\n * 初始化插图数据\n */\nfunction ExtFigure_init() {\n    let sw = new Stopwatch();\n\n    // ----------------------------------------\n    // 对 svg 类插图（Mermaid）进行初始化处理\n    sw.st();\n    // to-do: 检查最新 Typora 集成的 Mermaid 是否已修复\n    // 针对 Mermaid 饼图为双 SVG 结构（标准的 Mermaid 是单 SVG 结构），进行规范化调整\n    V_byClass(_md_diagram_panel_ + \">svg>svg>g\").e((index, element) => {\n        $(element).unwrap();\n    });\n    sw.ed(\"    ├ prepare svg: \");\n\n    // ----------------------------------------\n    // 对 img 类插图（Mermaid）进行初始化处理\n    sw.st();\n\n    $(_idWrite_ + \" :is(p,a,kbd,td,strong,mark,summary)>\" + _img_ + \",\"\n    + _idWrite_ + \" .\" + _md_diagram_panel_ + \">\" + _svg_).e((index, element) => {\n        let fig = $(element),\n            src = V_getSrcValue(fig),\n            container = fig.p(),\n            tagName = V_util_getTagName(fig),\n            params = _,\n            hash = _,\n            isPostcard = gFalse;\n\n        // ----------------------------------------\n        // 对 img 类插图的处理\n        if (src !== gUndefined) {\n            // 对于 img 类插图的预处理\n            params = V_util_getUrlQueryParams(JS_encodeURI(src));\n            hash = V_util_getUrlHash(src);\n\n            fig.a(_id_, \"vk-id-img\" + V_doc_counter_img);\n\n            // 初始化图片对「颜色方案」的适配处理\n            __initColorScheme(fig, params);\n\n            // 初始化图片对「高清屏」的适配处理\n            __initHighDPI(fig, params);\n\n            // 初始化图片对「图文卡片」的适配处理\n            __initPostcard(fig, src, hash);\n\n            V_doc_counter_img++;\n\n            // 跳过带指定显示版式的图片\n            if (V_isNotFigure(hash, container))\n                return gTrue;\n\n            // 插图（非明信片）的处理\n            isPostcard = __isPostcard(hash);\n            if (!isPostcard) {\n                // 初始化图片背景的适配处理\n                __initBackground(fig, params);\n\n                // 添加插图容器\n                container = fig.p();\n                // 确保 img 有独立的父容器，一般情况下 Typora 导出的为 <p>\n                if (V_util_getTagName(container) !== \"p\") {\n                    fig.wrap(\"<p></p>\");\n                    container = fig.p();\n                }\n            }\n        }\n\n        // 插图（非明信片）的处理\n        if (!isPostcard) {\n            // 绑定内容助手\n            if (src !== gUndefined)\n                ContentAssistor_bind(fig, _fig_ + _suffixImg_);\n            else\n                ContentAssistor_bind(fig, _fig_ + _suffixSvg_);\n\n            V_doc_counter_figure++;\n\n            // 处理题注\n            __disposeCaption(fig, tagName);\n\n            // 设置容器数据，用于折叠内容时使用\n            container.a(_data_container_, tagName);\n            JQ_addClass(container, _v_caption_container_);\n            // 折叠长插图（一行多图的情况则跳过）\n            let prevFig = fig.p().p();\n            if (prevFig === undefined || V_length(prevFig.ch(\".\" + _v_caption_ + \",\" + _img_)) === 1)\n                ContentFolder_add(fig, _figure_);\n\n            if (V_length(hash) > 0 && hash.sW(\"#blur\")) {\n                fig.wrap(V_ui_div(_, \"v-blur\", _));\n            }\n        }\n    }); // 结束初始化处理\n\n    // 对 插图 和 明信片进行分类排序\n    // V_util_sort(iNavCenter.figures.ui.result, iNavCenter.figures.ui.result.ch(\".\" + _v_toc_item_));\n    sw.ed(\"    ├ figure set: \");\n\n    // ----------------------------------------\n    // 对 srcset 为 auto 模式的处理\n    // sw.st();\n    // // 在当前环境的 DPR > 1 时，对于没有指定 srcset 的 img 类插图，自动强制将 src 直接指定 2x 图片\n    // // 可通过 URL 参数 srcset=auto 来启用\n    // if (env.display.DPR > 1\n    //     && V_util_getParamVal(_srcset_) === _auto_) {\n    //         $(\"p\" + V_attr(_data_container_, _img_) +___+ _img_).e((index, element) => {\n    //             let fig = $(element);\n    //             if (V_getSrcValue(fig).i(_suffixSvg_, 1) === -1 // 跳过 svg 文件\n    //                 && fig.a(_srcset_) === gUndefined) {\n    //                     fig.a(_srcset_, V_getSrcValue(fig) + \" 2x\");\n    //             }\n    //         });\n    // }\n\n    // 进行图片对颜色方案的适配处理\n    ExtFigure_adjustColorScheme(gFalse);\n    sw.ed(\"    └ DPR & misc.: \");\n\n    /**\n     * 处理题注\n     * @param fig 插图对象\n     * @param tagName 插图所属标签 img、svg\n     */\n    function __disposeCaption(fig, tagName) {\n        // 设置插图属性数据\n        fig.a(_data_fig_num_, V_doc_counter_figure);\n        JQ_addClass(fig, _v_fig_);\n\n        // 先根据题注语法生成题注\n        Caption_actionForMediaContent(fig, tagName);\n    }\n\n    /**\n     * 判断是否属于明信片\n     * @param hash 插图路径\n     * @returns boolean true：不属于明信片，false：属于明信片\n     */\n    function __isPostcard(hash) {\n        return hash.i(\"#\" + _card_) > -1;\n    }\n\n    /**\n     * 初始化图片对网格背景的的适配处理\n     * @param img img 对象\n     * @param params img 对象 src 值的 URL 参数数组\n     */\n    function __initBackground(img, params) {\n        let grid = params[\"grid\"];\n        if (grid === gUndefined)\n            return;\n        img.a(_data_fig_grid_, grid);\n    }\n\n    /**\n     * 初始化图片对颜色方案（Light / Dark）的适配处理\n     * @param img img 对象\n     * @param params img 对象 src 值的 URL 参数数组\n     */\n    function __initColorScheme(img, params) {\n        // 未指定 darksrc 参数，或同时指定了 fill 参数，则跳过\n        if (params[_darksrc_] === gUndefined)\n            return;\n\n        // 适配 Dark Mode 的方式：反转\n        if (params[_darksrc_] === _invert_  ) {\n            img.a(_data_dark_src_, _invert_);\n        }\n        // 适配 Dark Mode 的方式：替换\n        else {\n            img.a(_data_dark_src_, _alter_);\n\n            let src = V_getSrcValue(img),\n                path = V_util_getPath(src),\n                queryString = V_util_getUrlQueryString(src);\n            // 补全 URL 参数内容\n            let darksrc = params[_darksrc_] + (queryString !== _ ? (\"?\" + queryString) : _);\n            // 如果 darksrc 只含文件名，则用 src 的路径进行补全\n            if (darksrc.i(\"/\") === -1)\n                darksrc = path + darksrc;\n\n            // 初始化不同颜色方案的 src 内容\n            img.a(_data_src_light_, V_getSrcValue(img));\n            img.a(_data_src_dark_, darksrc);\n\n            // 初始化不同颜色方案的 srcset 内容\n            if (params[_srcset_] !== gUndefined)\n                img.a(_data_srcset_light_, params[_srcset_]);\n            if (params[_darksrcset_] !== gUndefined)\n                img.a(_data_srcset_dark_, params[_darksrcset_]);\n        }\n    }\n\n    /**\n     * 初始化图片高清屏的适配处理\n     * @param img img 对象\n     * @param params img 对象 src 值的 URL 参数数组\n     */\n    function __initHighDPI(img, params) {\n        let // src = img.a(_src_),\n            src = V_getSrcValue(img),\n            srcset = params[_srcset_],\n            darksrcset = params[_darksrcset_];\n\n        // 针对 Light Mode 对应的图片集\n        if (srcset !== gUndefined) {\n            srcset = __transUrlSrcSet(src, srcset);\n            img.a(_data_srcset_light_, srcset);\n            // 设置默认值\n            img.a(_srcset_, srcset);\n        }\n\n        // 针对 Dark Mode 对应的图片集\n        if (darksrcset !== gUndefined) {\n            darksrcset = __transUrlSrcSet(img.a(_data_src_dark_), darksrcset);\n            img.a(_data_srcset_dark_, darksrcset);\n        }\n    }\n\n    /**\n     * 初始化明信片处理\n     * @param img img 对象\n     * @param src img 对象 src 值\n     * @param hash img 对象 src 值中的锚点\n     */\n    function __initPostcard(img, src, hash) {\n        // 未指定 card 参数，则跳过\n        if (hash === gUndefined || hash.i(_card_) === -1)\n            return;\n\n        // 如果是嵌套在 blockquote 中，则对其进行样式调整\n        let blockquote = img.closest(_blockquote_),\n            inBlockquote = (V_length(blockquote) > 0);\n        if (inBlockquote) {\n            blockquote.c(_cssText_, _padding_ + \":0\" + _important_);\n            blockquote.c(_box_shadow_, _none_);\n            blockquote.c(_height_, _auto_);\n            JQ_removeAttr(blockquote, _data_quote_group_);\n        }\n\n        // 插入卡片元素\n        let altText = img.a(_alt_),\n            altTextForSearch = altText,\n            titleText = img.a(_title_),\n            cardBody = img.closest(\"p\").n(), // 考虑明信片带 a 链接等情况\n            border = (hash.i(\"#border\") > -1 ? gTrue : gFalse),\n            fitMax = (hash.i(\"#fitmax\") > -1 ? gTrue : gFalse),\n            dual = (hash.i(\"#cardd\") > -1 ? gTrue : gFalse);\n\n        // 若添加了通过引用块指定为正文内容的，则进行处理\n        if (cardBody !== gUndefined && V_length(cardBody) > 0) {\n            if (V_util_getTagName(cardBody) === _blockquote_) {\n                altText = cardBody.hm();\n                altTextForSearch = cardBody.t();\n                cardBody.rm();\n            }\n        }\n\n        JQ_removeAttr(img, _title_);\n\n        img.af(V_ui_article(_, _v_post_card_ +___+ _v_backdrop_blurs_ +___+ (dual ? _ : \"hover \"),\n                (titleText === gUndefined ? _ : V_ui_header(_, _v_card_ + __title_, titleText))\n                + (altText === gUndefined ? _ : V_ui_section(_, _v_card_ + __text_, altText))\n            ));\n\n        // 针对 card dual 模式的处理\n        if (dual) {\n            // 完成图片加载后再进行处理\n            img.on(_load_, () => {\n                img.n().c(_width_, inBlockquote\n                    ? _100pc_\n                    : img.c(_width_));\n            });\n        }\n        // 针对 card 模式的处理\n        else {\n            // 图片 mouseenter 和 mouseleave 事件\n            img.on(_mouseEnter_, (event) => {\n                if (jq_Window.w() <= gMobileScreenWidth)\n                    return;\n\n                let _t = $(event.currentTarget),\n                    card = _t.n();\n                if (card.c(_display_) !== _none_)\n                    return;\n\n                _t.c(_filter_, _brightness_ + \"(.8)\");\n\n                __setCardSize(_t, card, border, fitMax);\n\n                // 显示\n                card.c(_display_, _block_);\n                card.on(_mouseLeave_, (event) => {\n                    $(event.currentTarget).hide();\n                    _t.c(_filter_, _none_);\n                });\n            }).on(_mouseLeave_, (event) => {\n                if (jq_Window.w() <= gMobileScreenWidth)\n                    return;\n\n                let _t = $(event.currentTarget),\n                    card = _t.n();\n                if (!v_ui_mouseDropIn(_t, event)) {\n                    _t.c(_filter_, _none_);\n                    card.c(_display_, _none_);\n                }\n            });\n\n        }\n\n        V_doc_counter_postcard++;\n\n        // 无指定 title 时，使用图片的文件名作为题注\n        if (titleText === gUndefined)\n            titleText = V_util_getUrlWithoutQueryAndHash(src.ss(src.lastIndexOf('/') + 1));\n\n        // 生成用于被检索的内容\n        if (altTextForSearch === gUndefined)\n            altTextForSearch = _;\n\n        let anchor = \"vk-id-psc\" + V_doc_counter_postcard,\n            caption = V_ui_span(_, _, Caption_prefix(img, V_lang_text68(),  V_doc_counter_postcard) + Caption_spliter) + titleText,\n            dataForSearch = titleText + altTextForSearch;\n        img.a(_id_, anchor);\n        img.a(_data_title_, caption);\n        iNavCenter.figures.add(caption, anchor, dataForSearch);\n    }\n\n    /**\n     * 设置明信片尺寸\n     * @param img 明信片对象\n     * @param card 明信片的文本对象\n     * @param border 明信片的是否有指定 #border\n     * @param fitMax 明信片的是否有指定 #fitmax\n     */\n    function __setCardSize(img, card, border, fitMax) {\n        // 先调整宽度\n        let w = JS_parseInt(img.oW());\n        if (fitMax === gTrue) // 取父元素的宽度\n            w = JS_parseInt(img.p().oW(gTrue));\n        card.c(_width_, w);\n\n        // 后根据实际宽度渲染结果，计算最终高度\n        let h = JS_parseInt(card.oH()),\n            imgH = JS_parseInt(img.oH());\n        card.c(_top_, img.pos().top + imgH - h + (border ? 1 : 0));\n    }\n\n    /**\n     * 转换图片地址中的 srcset / darksrcset 参数为符合 <img> srcset 属性的格式\n     * @param src 图片地址\n     * @param srcset srcset 或 darksrcset 参数的内容\n     */\n    function __transUrlSrcSet(src, srcset) {\n        // 针对 html 与 图片同一目录的情况\n        let path = V_util_getPath(src);\n\n        // 针对 @2x/@3x 图片资源为自动匹配名称的语法\n        // 针对 2x/3x 的文件名为 <文件名@2x.xxx> 或 <文件名@3x.xxx> 的情况\n        if (/^@2x(,@3x)?$/.test(srcset)) {\n            let pureSrc = src.ss(0, src.i(\"?\", 5)),\n                fileName = pureSrc.ss(0, pureSrc.lastIndexOf(\".\")), // 图片资源文件名（不含扩展名）\n                suffix = pureSrc.ss(pureSrc.lastIndexOf(\".\"), V_length(pureSrc)); // 图片资源扩展名\n            // 自动补全图片资源 URL\n            srcset = srcset.r(/@2x/, fileName + \"@2x\" + suffix + \" 2x\");\n            srcset = srcset.r(/@3x/, fileName + \"@3x\" + suffix + \" 3x\");\n        }\n        // 针对 @2x/@3x 图片资源为指定文件名的语法\n        else {\n            // 将倍数标识转换为 srcset 标准语法\n            // 要从图片扩展名开始替换，避免将文件中的 @2x @3x 误替换掉\n            srcset = srcset.rAfter(\".\", \"@2x\", \" 2x\");\n            srcset = srcset.rAfter(\".\", \"@3x\", \" 3x\");\n        }\n\n        // 为 2x 图添加图片路径\n        let sss = srcset.sp(\",\");\n        if (sss[0].i(\"/\") === -1) // 仅为文件名时才添加路径\n            srcset = path + srcset;\n        // 为 3x 图添加图片路径\n        if (V_length(sss) > 1 && sss[1].i(\"/\") === -1) // 仅为文件名时才添加路径\n            srcset = srcset.r(\" 2x,\", \" 2x,\" + path);\n\n        return srcset;\n    }\n}\n\n/**\n * 复制图片地址\n * @param source 内容源对象\n */\nfunction ExtFigure_copySrc(source) {\n    Copy_action(source, ContentAssistor_lastHover.a(_src_), gTrue);\n }\n\n/**\n * 适配指定图片在 Light / Dark Mode 的适配处理\n * @param disposeGrid 是否进行网格背景适配处理：true / false\n */\nfunction ExtFigure_adjustColorScheme(disposeGrid) {\n    let scheme = ColorScheme_scheme,\n        darkMode = (scheme === _dark_);\n    // --------------------\n    // 对图片在 Dark Mode 时的适配处理\n    // 先对适配方式为「反转」的处理\n    $(_img_ + V_attrCSS(_data_dark_src_, _invert_) + \",\" + _svg_ + V_attrCSS(_data_dark_src_, _invert_)).e((index, element) => {\n        let img = $(element),\n            src = V_getSrcValue(img);\n        if (darkMode) {\n            // 如果图片没有指定替换颜色时才进行处理\n            if (img.a(_data_img_fill_) === gUndefined) {\n                // 设置默认的 srcset\n                if (src !== gUndefined)\n                    img.a(_srcset_, img.a(_data_srcset_light_));\n                // 添加反转样式\n                JQ_addClass(img, _v_img_invert_dark_);\n            }\n        }\n        else {\n            JQ_removeClass(img, _v_img_invert_dark_);\n            if (src !== gUndefined)\n                img.a(_srcset_, img.a(_data_srcset_light_));\n        }\n    });\n    // 后对适配方式为「替换」的处理\n    $(_img_ + V_attrCSS(_data_dark_src_, _alter_)).e((index, element) => {\n        let img = $(element);\n        JQ_removeClass(img, _v_img_invert_dark_);\n        img.a(_data_src_, img.a(_data_src__ + scheme));\n        img.a(_srcset_, img.a(_data_srcset__ + scheme));\n    });\n\n    // --------------------\n    // 对图片指定为颜色替换的处理\n    $(_img_ + V_attrCSS(_data_img_fill_, _text_)\n        + \",\" + _img_ + V_attrCSS(_data_img_fill_, _theme_ + 1)\n        + \",\" + _img_ + V_attrCSS(_data_img_fill_, _theme_ + 2)\n        + \",\" + _svg_ + V_attrCSS(_data_img_fill_, _text_)\n        + \",\" + _svg_ + V_attrCSS(_data_img_fill_, _theme_ + 1)\n        + \",\" + _svg_ + V_attrCSS(_data_img_fill_, _theme_ + 2)).e((index, element) => {\n        let fig = $(element),\n            fill = fig.a(_data_img_fill_);\n        // 针对 SVG 对象，或 src 为 .svg 的 img 对象\n        if (V_util_getTagName(fig).sW(\"s\") || V_getSrcValue(fig).i(_suffixSvg_, 1) > -1) {\n            ExtFigure_fillSVG(fill, fig);\n        }\n        // 其他情况\n        else {\n            if (fill === _text_)\n                fig.c(_filter_, \"drop-shadow(12345px 0px \" + fig.p().c(_color_) + \")\");\n            else\n                fig.c(_filter_, \"drop-shadow(12345px 0px \" + V_ui_var(__ac_ + fill + \"-lg\") + \")\");\n\n            if (fig.a(_data_fig_num_) !== gUndefined)\n                fig.c(_background_, _none_);\n        }\n    });\n\n    // --------------------\n    // 非初始化时执行，避免与 CSS 默认配置冲突\n    // 如：@media (prefers-color-scheme: dark) 部分\n    if (disposeGrid) {\n        // 适配图片网格背景的处理\n        $(_img_ + V_attrCSS(_data_fig_grid_, \"line\")\n            + \",\" + _img_ + V_attrCSS(_data_fig_grid_, _block_)).e((index, element) => {\n            let img = $(element),\n                _lineDark = \"line-\" + _dark_,\n                _blockDark = _block_ + \"-\" + _dark_;\n            // 先清空所有涉及的样\"line-dark\"式\n            if (darkMode) {\n                JQ_removeClass(img, _fig_solid__ + \"bg-\" + _light_);\n                JQ_removeClass(img, _fig_grid__ + \"line-\" + _light_);\n                JQ_removeClass(img, _fig_grid__ + _block_ + \"-\" + _light_);\n            }\n            else {\n                JQ_removeClass(img, _fig_solid__ + \"bg-\" + _dark_);\n                JQ_removeClass(img, _fig_grid__ + _lineDark);\n                JQ_removeClass(img, _fig_grid__ + _lineDark + \"-\" + _invert_);\n                JQ_removeClass(img, _fig_grid__ + _blockDark);\n                JQ_removeClass(img, _fig_grid__ + _blockDark + \"-\" + _invert_);\n            }\n\n            let gridType = img.a(_data_fig_grid_),\n                darkInvert = img.a(_data_dark_src_) === _invert_;\n            // 网络背景\n            if (gridType === _line_ || gridType === _block_) {\n                if (darkMode && darkInvert)\n                    // 先添加反色后的背景，以适配反色样式后能正常显示\n                    JQ_addClass(img, _fig_grid__ + gridType + \"-\" + scheme + \"-\" + _invert_);\n                else\n                    JQ_addClass(img, _fig_grid__ + gridType + \"-\" + scheme);\n            }\n            // 非网格背景\n            else\n                JQ_addClass(img, _fig_solid__ + \"bg-\" + scheme);\n        });\n    }\n}\n\n/**\n * 对 *.svg 格式的 img 图片注入为 SVG 实例后，对颜色进行替换的适配处理\n * @param fill 图片剪影方式：text / theme1 / theme2\n * @param svg SVG 实例对象\n */\nfunction ExtFigure_fillSVG(fill, svg) {\n    // 先取消可能会因数 darksrc=invert 的 CSS 配置影响\n    svg.c(_filter_, _none_);\n    // 再针对进行微调\n    let svgSets = \"path,rect,ellipse,polygon\";\n    if (fill === _text_)\n        svg.f(svgSets).c(_fill_, svg.p().c(_color_));\n    else\n        svg.f(svgSets).c(_fill_, V_ui_var(__ac_ + fill.l()));\n}\n\n// ==================== 插图导航模块 ==================== //\n\nlet FigureNav_ui = gUndefined, // 插图导航主界面\n    FigureNav_btns = gUndefined,\n    FigureNav_content = gUndefined, // 显示插图内容的控件\n    FigureNav_figNum = 1; // 当前插图索引序号，对应 vk-id-fig 中的值\n\nfunction FigureNav_init() {\n    FigureNav_ui = V_byClass(_v_fig_nav_); // 插图导航主界面\n\n    FigureNav_btns = {\n        ui : $(_v_fig_nav_btns_), // 所有导航按钮\n        prev : $(_v_fig_nav_btns_ + \".prev\"), // 上一张插图按钮\n        next : $(_v_fig_nav_btns_ + \".next\"), // 下一张插图按钮\n        close : V_byClass(_v_btn_ + \"-close-figure-nav\"), // 关闭按钮\n    };\n    FigureNav_content = V_byClass(_v_fig_content_); // 显示插图内容的控件\n    FigureNav_figNum = 1; // 当前插图索引序号，对应 vk-id-fig 中的值\n\n    V_ui_addAnimate(FigureNav_content.ch(_img_ + \",\" + _svg_));\n\n    // 绑定各按钮事件\n    FigureNav_btns.prev.uC().ck(() => {\n        FigureNav_prevFig();\n    });\n    FigureNav_btns.next.uC().ck(() => {\n        FigureNav_nextFig();\n    });\n    FigureNav_btns.close.uC().ck(() => {\n        FigureNav_hide();\n    });\n    FigureNav_content.uC().ck(() => {\n        FigureNav_hide();\n    });\n}\n\n/**\n * 插图导航导航按钮在不同终端的适配处理\n */\nfunction FigureNav_adjustHoverStyle() {\n    // 移动设备时解绑样式事件\n    if (V_util_isMobile()) {\n        FigureNav_btns.prev.uH();\n        FigureNav_btns.next.uH();\n    }\n    // 非移动设备时绑定样式事件\n    else {\n        FigureNav_btns.ui.on(_mouseEnter_, (event) => {\n            $(event.currentTarget).c(_transform_, \"translateY(-2px)\");\n        }).on(_mouseLeave_, (event) => {\n            $(event.currentTarget).c(_transform_, _none_);\n        });\n        // 鼠标键按下事件，模拟 :active\n        FigureNav_btns.ui.on(_mouseDown_, (index, element) => {\n            $(element).c(_transform_, _none_);\n        });\n        // 鼠标键释放事件，模拟恢复正常\n        FigureNav_btns.ui.on(_mouseUp_, (index, element) => {\n            $(element).c(_transform_, \"translateY(-2px)\");\n        });\n    }\n}\n\n/**\n * 是否已显示\n * @returns boolean\n */\nfunction FigureNav_isShowed() {\n    return FigureNav_ui.c(_display_) !== _none_;\n}\n\n/**\n * 显示插图导航\n */\nfunction FigureNav_show() {\n    if (V_doc_counter_figure === 0)\n        return;\n\n    let fig = ContentAssistor_lastHover;\n\n    V_doc_scroll_freeze();\n    V_doc_block = gTrue;\n\n    if (fig === gUndefined)\n        fig = $(V_attrCSS(_data_fig_num_, FigureNav_figNum));\n\n    // 在插图导航中显示对应插图\n    FigureNav_figNum = JS_parseInt(fig.a(_data_fig_num_));\n\n    V_ui_fadeShow(FigureNav_ui);\n\n    FigureNav_display();\n    FigureNav_updateUI();\n}\n\n/**\n * 关闭插图导航\n */\nfunction FigureNav_hide() {\n    FigureNav_content.em();\n    V_ui_fadeHide(FigureNav_ui);\n\n    V_doc_scroll_unfreeze();\n    V_doc_block = gFalse;\n}\n\n/**\n * 显示插图内容\n */\nfunction FigureNav_display() {\n    let fig = $(V_attrCSS(_data_fig_num_, FigureNav_figNum));\n    FigureNav_content.em();\n    FigureNav_content.show();\n    FigureNav_content.c(_width_, jq_Window.w())\n        .c(_height_, jq_Window.h());\n\n    let newFig = fig.clone();\n    JQ_addClass(newFig, \"v-interactive\");\n    V_ui_fadeHide(newFig);\n\n    // 针对懒加载进行适配处理\n    gResObserver.observe(newFig[0]);\n\n    // 添加鼠标移入/移出事件\n    V_ui_bindHover(newFig);\n\n    // 添加鼠标点击事件\n    newFig.uC().ck(() => {\n        // 跳转到对应位置\n        V_util_gotoHash(\"#\" + _vk_id_fig_ + FigureNav_figNum);\n        FigureNav_hide();\n    });\n\n    FigureNav_content.ap(newFig);\n    V_ui_fadeShow(newFig);\n}\n\n/**\n * 查看上一个插图\n */\nfunction FigureNav_prevFig() {\n    if (FigureNav_figNum > 1) {\n        FigureNav_figNum--;\n        FigureNav_display();\n        FigureNav_updateUI();\n    }\n}\n\n/**\n * 查看下一个插图\n */\nfunction FigureNav_nextFig() {\n    if (FigureNav_figNum < V_doc_counter_figure) {\n        FigureNav_figNum++;\n        FigureNav_display();\n        FigureNav_updateUI();\n    }\n}\n\n/**\n * 更新插图导航界面\n */\nfunction FigureNav_updateUI() {\n    let pageNum = V_byClass(_v_fig_nav_ + __title_);\n\n    pageNum.hm(V_ui_span(\"v-\" + _fig_ + \"-\" + _page_ + __num_, _, FigureNav_figNum + \"/\" + V_doc_counter_figure)\n        +___+ V_byID(_vk_id_fig_ + FigureNav_figNum + \">\" + _v_cap1_).t());\n\n    // 更新导航按钮位置\n    FigureNav_btns.prev.c(_top_, (FigureNav_ui.h() - FigureNav_btns.prev.h()) / 2);\n    FigureNav_btns.next.c(_top_, FigureNav_btns.prev.c(_top_));\n\n    // 根据当前插图索引更新浏览按钮有效状态\n    FigureNav_btns.prev.c(_opacity_, 0);\n    FigureNav_btns.next.c(_opacity_, 0);\n    if (FigureNav_figNum > 1) {\n        FigureNav_btns.prev.c(_opacity_, 1);\n    }\n    if (FigureNav_figNum < V_doc_counter_figure) {\n        FigureNav_btns.next.c(_opacity_, 1);\n    }\n}\n\n/**\n * 处理热键操作\n * @param key 非功能键键\n * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n * @param event 事件对象\n */\nfunction FigureNav_disposeHotkey(key, combKeys, event) {\n    if (V_ui_isHidden(FigureNav_ui))\n        return;\n\n    let handled = gFalse;\n    if (V_length(combKeys) === 0) {\n        switch (key) {\n            case _ArrowLeft_: // left\n            case ',':\n                FigureNav_prevFig();\n                handled = gTrue;\n                break;\n            case _ArrowRight_: // right\n            case '.':\n                FigureNav_nextFig();\n                handled = gTrue;\n                break;\n            case _Escape_: // esc\n                if (FigureNav_isShowed()) {\n                    FigureNav_hide();\n                    handled = gTrue;\n                }\n                break;\n        }\n    }\n\n    // 如果事件已处理，则禁止双重操作\n    if (handled)\n        V_util_preventDefault(event);\n}\n\n// ==================== Mermaid - 脑图交互类 ==================== //\n\nfunction mmMindmap_init() {\n    // to-do: 新特性，未完成\n    let rootIndex = 0,\n        sectionGroup = _;\n    $(_svg_ + V_attrCSS(_ariaRoledescription_, _mindmap_) + '>.mindmap-nodes>.mindmap-node').e((index, element) => {\n        let _t = $(element);\n        if (rootIndex > 0) {\n            _t.uC().ck((event) => {\n                mmMindmapToggleNode($(event.currentTarget));\n            });\n            _t.c(_visibility_, _hidden_);\n        }\n        else {\n            _t.uC().ck((event) => {\n                mmMindmapToggleRoot($(event.currentTarget));\n            });\n        }\n        rootIndex++;\n    });\n\n    $(_svg_ + V_attrCSS(_ariaRoledescription_, _mindmap_) + '>.mindmap-edges>.edge').e((index, element) => {\n        $(element).c(_visibility_, _hidden_);\n    });\n}\n\nfunction mmMindmapToggleRoot(node) {\n}\n\nfunction mmMindmapToggleNode(node) {\n    let cssValue = node.a(_class_),\n        si = cssValue.i(\"section-\"),\n        secNum = 0;\n    if (si > -1) {\n        secNum = cssValue.ss(si + 8, V_length(cssValue));\n        if (secNum.isNumber()) {\n            $(_svg_ + V_attrCSS(_ariaRoledescription_, _mindmap_) + '>.mindmap-nodes>.section-' + secNum).e((index, element) => {\n                $(element).c(_visibility_, _visible_);\n            });\n\n            $(_svg_ + V_attrCSS(_ariaRoledescription_, _mindmap_) + '>.mindmap-edges>.section-edge-' + secNum).e((index, element) => {\n                $(element).c(_visibility_, _visible_);\n            });\n        }\n    }\n}\n\n// ==================== 样式重制类 ==================== //\n\n/**\n * 调整任务清单复选框的样式\n */\nfunction Restyler_forTaskList() {\n    // 对任务清单的 checkbox 组件转换为 SVG 图标\n    $(_idWrite_ +___+ _input_ + V_attrCSS(_type_, _checkbox_)).e((index, element) => {\n        let chkStatus = _no_, // 默认为未完成\n            chkStyle = _dark_; // 默认样式\n\n        // 已完成\n        let _t =  $(element),\n            checked = _t.a(_checked_);\n        if (checked !== gUndefined && checked.sW(\"c\")) { // checked\n            chkStatus = _yes_;\n            chkStyle = _theme_;\n        }\n        // 部分完成（不确定选择）\n        else if (_t[0].indeterminate) {\n            chkStatus = _un_;\n        }\n\n        // 替换为 SVG 图标\n        _t.bf(V_ui_svgIcon(_icoChkbox__ + chkStatus, 14, 14, chkStyle, \"v-svg-input-checkbox\"));\n        _t.rm();\n    });\n}\n\n/**\n * 调整默认的 Mermaid 样式\n */\nfunction Restyler_forMermaid() {\n    // ========== ZenUML 图 ==========\n    let zenSelector = \".\" + _md_diagram_panel_ + \">div>svg\" + V_attrCSS(_ariaRoledescription_, \"zenuml\");\n    // 调整 ZenUML 尺寸因主题原因导致强制被限制大小的情况\n    $(zenSelector).e((index, element) => {\n        let target = $(element);\n        target.f(\".zenuml.bg-skin-canvas\").e((i, e) => {\n            let zenuml = $(e);\n            target.c(_width_, zenuml.w())\n                .c(_height_, zenuml.h());\n            // 同时修正题注框的宽度、高度\n            target.ps(\".\" + _v_caption_).c(_width_, _auto_)\n                    .c(_height_, _auto_);\n        });\n    });\n    // to-do: 临时修复方式（多个图标同名渐变色定义冲突）\n    // 待 ZenUML 官方修复后可取消\n    let idPrefix = \"linearGradient-\",\n        svgIconCount = 0;\n    $(zenSelector + \" div\" + V_attrCSS(_alt_, \"icon\", \"^\") + \">\" + _svg_).e((index, element) => {\n        svgIconCount++;\n        let svgIcon = $(element),\n            idValue = \"linearGradient-vk-fixed-\" + svgIconCount;\n        // 图标渐变色定义 id 更名\n        svgIcon.f(\"defs>linearGradient\" + V_attrCSS(_id_, idPrefix, \"^\")).attr(\"id\", idValue);\n        // 更新图标渐变色定义 id 值\n        svgIcon.f(\"g\" + V_attrCSS(_fill_, \"url(#\" + idPrefix, \"^\")).attr(_fill_, \"url(#\" + idValue + \")\");\n    });\n\n    // ========== 时序图 ==========\n    let seqSelector = \".\" + _md_diagram_panel_ + \" svg\" + V_attrCSS(_ariaRoledescription_, \"sequence\");\n    // 修正顺序图整体的样式\n    $(seqSelector).e((index, element) => {\n        let target = $(element),\n            viewBox = target.a(_view_box_).sp(/\\s+/),\n            paddingBottom = (target.c(_padding_bottom_));\n        // 修正顺序图的下边距，前提先在 CSS 中设置了合适的 padding-bottom 值\n        target.a(_view_box_,\n            viewBox[0] +___+ viewBox[1] +___+ viewBox[2] +___\n            + (JS_parseInt(viewBox[3]) + JS_parseInt(paddingBottom)));\n        // 重置 CSS 中的 padding-bottom 值，因为已由上面的下边距值替换\n        JQ_addClass(target, _v_mermaid_restyler_);\n    });\n\n    // 更新顺序图中的角色样式\n    const front = /@.+/g, // 前端触点角色\n        keySys = /^\\*\\*.+/g, // 重要系统角色\n        extSys = /^--.+/g; // 外部系统角色\n    $(seqSelector + \" g>rect\" + V_attrCSS(_class_, \"actor\", \"*\")).e((index, element) => {\n        let actor = $(element),\n            text = actor.n(_text_).ch(), // actor text object\n            tmpText = text.t(),\n            prefix = _;\n\n        // 更新 <前端触点角色> 样式\n        if (front.test(tmpText)) {\n            let h = actor.h(),\n                line = (actor.p().pr(_line_) || actor.pr(_line_));\n            actor.a(_rx_, (h - 20) / 2);\n            actor.a(_ry_, (h - 20) / 2);\n            actor.a(\"y\", JS_parseInt(actor.a(\"y\")) + 10);\n            actor.a(_height_, h - 20);\n            line.a(\"y1\", JS_parseInt(line.a(\"y1\")) + 10);\n            line.a(\"y2\", JS_parseInt(line.a(\"y2\")) - 20);\n            JQ_addClass(actor.pr(_line_), _v_actor_ + \"-front\");\n            text.t(prefix + tmpText.ss(1, V_length(tmpText)));\n        }\n        // 更新 <重要系统角色> 样式\n        else if (keySys.test(tmpText)) {\n            JQ_addClass(actor, _v_actor_key_sys_);\n            JQ_addClass(actor.pr(_line_), _v_actor_key_sys_);\n            JQ_addClass(actor.nextAll(_text_).ch(), _v_actor_key_sys_);\n            text.t(prefix + tmpText.ss(2, V_length(tmpText)));\n        }\n        // 更新 <外部系统角色> 样式\n        else if (extSys.test(tmpText)) {\n            JQ_addClass(actor, _v_actor_ext_sys_);\n            JQ_addClass(actor.nextAll(_text_).ch(), _v_actor_ext_sys_);\n            text.t(prefix + tmpText.ss(2, V_length(tmpText)));\n        }\n        else {\n            text.t(prefix + tmpText);\n        }\n    });\n\n    // 更新顺序图中消息序号的样式\n    $(seqSelector + \">text.sequenceNumber\").e((index, element) => {\n        // 移除文本宽度，避免不同字体大小时显示效果问题\n        JQ_removeAttr($(element), _textLength_);\n    });\n\n    // 更新顺序图中的片断（如：loop、opt、par、alt）样式和位置\n    $(seqSelector + \" polygon+.labelText\").e((index, element) => {\n        let fragment = $(element),\n            g = fragment.p(),\n            segType = fragment.t();\n\n        // 默认的样式（par 片断）\n        let bgColor = _var_ac_og_,\n            borderColor = _var_ac_og_,\n            titleColor = _var_ac_og_lg_;\n        // 为 alt 片断设置样式\n        if (segType === _alt_) {\n            bgColor = _var_ac_rd_;\n            borderColor = _var_ac_rd_;\n            titleColor = _var_ac_rd_lg_;\n        }\n        // 为 loop 片断设置样式\n        else if (segType === _loop_) {\n            bgColor = _var_ac_cy_;\n            borderColor = _var_ac_cy_;\n            titleColor = _var_ac_cy_lg_;\n        }\n        // 为 alt、loop、par 片断应用样式设置\n        if (segType !== \"opt\") {\n            // 背景色\n            g.f(\"polygon.labelBox\").c(_cssText_, _fill_ + \":\" + bgColor + _important_);\n            // 边框色\n            g.f(\"line.loopLine\").c(_cssText_, _stroke_ + \":\" + borderColor + _important_);\n            // 片断标题颜色\n            g.f(\"text.loopText,text.loopText>tspan\").c(_cssText_, _fill_ + \":\" + titleColor + _important_);\n        }\n\n        // 将 alt(alternative)、opt(optional)、loop(loops) 片断文本翻译为其他语言\n        if (segType === _alt_)\n            fragment.t(V_lang_text(69, [\n                \"分支\",\n                \"Alt.\"\n            ]));\n        else if (segType === \"opt\")\n            fragment.t(V_lang_text(70, [\n                \"可选\",\n                \"Opt.\"\n            ]));\n        else if (segType === _loop_)\n            fragment.t(V_lang_text(71, [\n                \"循环\",\n                \"Loop.\"\n            ]));\n        else if (segType === \"par\")\n            fragment.t(V_lang_text(72, [\n                \"并行\",\n                \"Par.\"\n            ]));\n    });\n\n    // 调整片断的标题文本\n    $(seqSelector + \" text.loopText>tspan\").e((index, element) => {\n        // 去掉文本内容前后的中括号\n        let fragmentTitle = $(element);\n        fragmentTitle.p().a(_style_, \"text-anchor:\"  +_start_);\n\n        // 调整文本的位置\n        let label = fragmentTitle.p().p().f(\".labelBox\"),\n            rect = label[0].getBBox();\n        fragmentTitle.a(\"x\", rect.x + rect.width + 10);\n\n        let nextText = fragmentTitle.p().n();\n        if (nextText !== gUndefined && nextText.a(_class_) !== gUndefined && nextText.a(_class_).i(\"loopText\") > -1) {\n            nextText.a(\"x\", rect.x + rect.width + 40);\n        }\n    });\n\n    // 针对 VLOOK 衍生的 Mermaid 的状态机图节点\n    let radius = V_util_getVarVal(_v_r_b_);\n    // 针对 VLOOK 顺序图开始、结束节点、子图\n    $(seqSelector + \" .cluster rect\").e((index, element) => {\n        $(element).a(_rx_, radius)\n            .a(_ry_, radius);\n    });\n}\n\n/**\n * 针对使用了 Typora 的图片缩放功能的检查与提示\n */\nfunction Restyler_forImgZoom() {\n    if (V_length($(_idWrite_ +___+ _img_ + V_attrCSS(_style_, \"zoom\", \"*\"))) > 0)\n        ALERT(V_lang_text(64, [\n            \"⚠️ 警告 ⚠️\\n\\n您的文档中使用了 Typora 的图片缩放功能，会存在兼容问题！\\n\\n建议替换为 VLOOK™ 的「图片缩放」，如：\\npic.jpg#400w\\npic.jpg#200h\",\n            \"⚠️ WARNING ⚠️\\n\\nIn your \" + _document_ + \", you used Typora's image scaling feature, which may cause compatibility issues!\\n\\nIt is recommended to replace it with VLOOK™'s \\\"image scaling\\\" such as:\\npic.jpg#400w\\npic.jpg#200h\"\n        ]));\n}\n\n// ==================== Sup/Sub Magic 模块 ==================== //\n\n/**\n * 初始化\n */\nfunction SupSubMagic_preprocess() {\n    // ---------- 注音新语法预处理：_^注音^_ ----------\n    $(\"em>sup\" + __only_child_).e((index, element) => {\n        let _t = $(element),\n            result = [];\n        result.push(_); // 主结构，在此忽略内容\n        result.push(_t.t());\n        TextPhonetic_buildForSup(_t.p(), result);\n    });\n\n    // 遍历段落内的 sub 下标（针对段落或指定格式）\n    $(_idWrite_ + \" sub\").e((index, element) => {\n        let _t = $(element),\n            text = _t.t(),\n            colorSet;\n        if ((colorSet = text.m(Color_syntaxOld)) !== gNull) {\n            // 只处理非独占一行的情况（独占一行的由引用块进行处理）\n            if (text !== _t.p().t())\n                RainbowTextAndCell_build(_t, colorSet);\n        }\n    });\n\n    // ---------- 色号新语法的预处理：_~色号~_ ----------\n    // 引用块、详情的颜色标识\n    $(_idWrite_ + \" :is(\" + _blockquote_ + \",\" + _details_ + \")>p>em\" + __only_child_ + \">sub\" + __only_child_).e((index, element) => {\n        let _t = $(element),\n            text = _t.t(),\n            colorSet;\n        if ((colorSet = text.m(Color_syntax)) !== gNull) {\n            QuoteColoring_build(_t.p().p().p(), _t.p(), colorSet);\n        }\n    });\n\n    // 文本颜色、段落着色\n    $(_idWrite_ + \" em>sub\" + __only_child_).e((index, element) => {\n        let _t = $(element),\n            text = _t.t(),\n            colorSet;\n        if ((colorSet = text.m(Color_syntax)) !== gNull) {\n            // 只处理非独占一行的情况（独占一行的由引用块进行处理）\n            if (text !== _t.p().p().t())\n                RainbowTextAndCell_build(_t.p(), colorSet);\n        }\n    });\n\n    // 针对 GitHub Style Alert 移除内嵌的着色样式\n    V_byClass(_md_alert_).e((index, element) => {\n        let _t = $(element);\n        // 取消内嵌的引用块着色、summary、引用块小标题样式\n        _t.f(\".v-q,\" + _summary_ + \",\" + _strong_ + V_attrCSS(_class_, _title_, \"*\")).e((index, element) => {\n            JQ_removeAttr($(element), _class_);\n        });\n        // 根据浏览器语言更换类型文本\n        let mdAlertText = \".\" + _md_alert_ + __text_;\n        _t.f(mdAlertText + \"-note\").e((i, e) => {\n            $(e).hm(V_ui_svgIcon2(_icoAlertNote_, 16, 16) + V_lang_text(73, [\n                \"备忘\",\n                _Note_\n            ]));\n        });\n        _t.f(mdAlertText + __tip_).e((i, e) => {\n            $(e).hm(V_ui_svgIcon2(_icoAlertTip_, 16, 16) + V_lang_text(74, [\n                \"提示\",\n                _Tip_\n            ]));\n        });\n        _t.f(mdAlertText + \"-important\").e((i, e) => {\n            $(e).hm(V_ui_svgIcon2(_icoAlertImportant_, 16, 16) + V_lang_text(75, [\n                \"重要\",\n                _Important_\n            ]));\n        });\n        _t.f(mdAlertText + \"-warning\").e((i, e) => {\n            $(e).hm(V_ui_svgIcon2(_icoAlertWarning_, 16, 16) + V_lang_text(76, [\n                \"注意\",\n                _Warning_\n            ]));\n        });\n        _t.f(mdAlertText + \"-caution\").e((i, e) => {\n            $(e).hm(V_ui_svgIcon2(_icoAlertCaution_, 16, 16) + V_lang_text(77, [\n                \"警告\",\n                _Caution_\n            ]));\n        });\n    });\n}\n\n// ==================== Sup/Sub Magic：文本注音模块 ==================== //\n\n// 新语法：^[symbol]^\nlet TextPhonetic_syntaxOld = /^\\[(\\S+)]$/; // 旧语法\n\n/**\n * 构建「注音」\n * @param target 源对象\n * @param result 正则表达式匹配后的结果数组\n */\nfunction TextPhonetic_buildForSup(target, result) {\n    let symbol = result[1].rA(\"_\", ___),\n        symbolCount = V_length(symbol.sp(___)),\n        targetPrev = target.pr(),\n        prevText = (targetPrev === gUndefined ? _ : targetPrev.t()),\n        wordText;\n\n    // 拉丁内容结尾\n    if (/(.*)[a-z]$/i.test(prevText))\n        wordText = prevText.r(/(.*)(\\b\\w+\\b)/, \"$2\");\n    // 非拉丁内容结尾\n    else\n        wordText = prevText.ss(V_length(prevText) - symbolCount, V_length(prevText));\n\n    // 生成注音内容\n    let rubyHTML = \"$1<ruby>\" + wordText\n        + \"<rp>(</rp><rt>\" + symbol\n        + \"</rt><rp>)\" + _nbsp_ + \"</rp></ruby>\";\n    targetPrev.hm(targetPrev.hm().r(new RegExp(String.raw`(.*)${wordText}`), rubyHTML));\n\n    // 绑定注音的点击事件\n    targetPrev.f(\"ruby>rt\").uC().ck((event) => {\n        TextPhonetic_translation(wordText, symbol, event);\n    });\n    // 删除预置颜色标识\n    target.rm();\n}\n\n/**\n * 释义或翻译\n * @param text 被注音的内容\n * @param symbol 注音\n * @param event 事件对象\n */\nfunction TextPhonetic_translation(text, symbol, event) {\n    event.stopPropagation(); // 停止事件冒泡\n\n    // 默认翻译为中文的服务\n    let translator = _httpsPrefix_ + \"www.bing.com/translator/?from=&to=zh-chs&text=\",\n        // translator = _httpsPrefix_ + \"translate.google.cn/?langpair=auto&sl=auto&op=translate&text=\",\n        url = translator + JS_encodeURI(text);\n    // 若 symbol 为日文假名，则跳转至翻译平台翻译 symbol\n    if (/^[\\u3040-\\u30FF]/.test(symbol))\n        url = translator + JS_encodeURI(symbol);\n    // 若 text 为中文，则跳转至汉典，翻译 text\n    else if (/^[\\u4e00-\\u9fa5]/.test(text))\n        url = _httpsPrefix_ + \"www.zdic.net/hans/\" + JS_encodeURI(text);\n\n    gWindow.open(url, text);\n}\n\n// ==================== Sup/Sub Magic：引用块着色模块 ==================== //\n\nlet Quote_defalutColor = \"T1!\",\n    Quote_defalutColor_withoutEm = \"T1\";\n\n/**\n * 构建引用块着色样式\n * @param quote 所属引用块对象\n * @param colorCode 匹配色号标签的对象\n * @param colorSet 正则表达式匹配后的结果数组\n */\nfunction QuoteColoring_build(quote, colorCode, colorSet) {\n    let color = Quote_getColor(colorSet[1]), // 颜色标识\n        em = ColorCode_isEm(colorSet) ? \" em\" : _, // 判断是否指定了强调样式\n        tag = V_util_getTagName(quote);\n\n    // 针对 <blockquote> 或 <details>\n    if (tag.sW(\"bl\") || tag.sW(\"de\")) {\n        // 删除预置颜色标识\n        colorCode.p().rm();\n\n        // 引用着色样式的处理\n        JQ_addClass(quote, \"v-q \" + color + em);\n\n        // 针对 detail 的处理\n        JQ_addClass(quote.f(_summary_), _title_ + \"-\" + color + em);\n\n        // 引用块小标题的处理\n        JQ_addClass(quote.f(ExtQuote_subTitle), _title_ + \"-\" + color + em);\n    }\n}\n\n/**\n * 获得获取对应的颜色标识\n * @param color 文档中指定的预置颜色标识\n * @returns string 返回有效的的颜色值\n */\nfunction Quote_getColor(color) {\n    // 没有指定颜色，则为默认颜色\n    if (color === gUndefined)\n        return Quote_defalutColor;\n    return color.l();\n}\n\n// ==================== Sup/Sub Magic：文本颜色模块 ==================== //\n\n/**\n * 构建文本颜色与单元格样式\n * @param colorCode 颜色标识对象\n * @param colorSet 正则表达式匹配后的结果数组\n */\nfunction RainbowTextAndCell_build(colorCode, colorSet) {\n    let color = Badge_getColor(colorSet[1]), // 颜色标识\n        tableCellBgMode = ColorCode_isEm(colorSet),\n        solid = V_length(color) < 4 || color.i(\"-\") > -1, // true - 单色，false - 渐变色\n        gradientColors = [], // 渐变色标识数组\n        renderTarget = colorCode.pr(),\n        wholeRendering = gFalse;\n\n    // 颜色标识为第 1 个子元素时，代表是要对整个段落（或单元格）进行着色\n    if (!tableCellBgMode\n        && renderTarget !== gUndefined && V_length(renderTarget) === 0) {\n            renderTarget = colorCode.p();\n            wholeRendering = gTrue;\n    }\n\n    // 获取目标对象的 HTML 标签名称\n    let tagName = V_util_getTagName(renderTarget);\n\n    // 当颜色标识为渐变色配置时，进行拆分渐变色的预处理\n    if (!solid)\n        gradientColors = V_ui_splitColors(color);\n\n    // 针对整个段落（或单元格）着色模式时\n    // 针对里面的 u 和 mark 标签进行独立处理\n    if (wholeRendering) {\n        __disposeUnderline(renderTarget.f(\"u\"));\n        __disposeMark(renderTarget.f(_mark_));\n    }\n\n    // 文本颜色\n    if (!tableCellBgMode) {\n        // 针对 mark 标签的处理\n        if (tagName === _mark_) {\n            __disposeMark(renderTarget);\n        }\n        // 针对 mark 以外的标签的处理，如：p u strong span 等\n        else {\n            __disposeText(renderTarget);\n            if (tagName === \"u\")\n                __disposeUnderline(renderTarget);\n        }\n    }\n    // 单元格着色\n    else {\n        renderTarget = colorCode.p();\n        tagName = V_util_getTagName(renderTarget);\n\n        if (tagName === \"th\" || tagName === \"td\")\n            __disposeCell(renderTarget);\n    }\n\n    // 删除预置颜色标识\n    colorCode.rm();\n\n    /**\n     * 处理文本颜色\n     * @param obj 文本对象\n     */\n    function __disposeText(obj) {\n        if (obj === gUndefined)\n            return;\n\n        // 单色\n        if (solid) {\n            // 针对亮度较高的预置色，选择更深一些的 title 色值\n            let title = ColorTooLight.test(color) ? __title_ : _;\n            obj.c(_color_, V_ui_var(__ac_ + color + title));\n        }\n        // 渐变色\n        else {\n            let span = obj.f(_span_);\n            if (V_length(span) === 0) // 无子元素 span 时恢复为 obj\n                span = obj;\n            if (span !== gUndefined) {\n                span.c(_cssText_, _background_image_ + \":\" + _linear_gradient_ + \"(90deg,\"\n                    + V_ui_genGradColorCSS(gradientColors, _, \"-lg\") + \")\" + _important_ + _box_shadow_none_);\n                span.c(_background_clip_, _text_);\n                span.c(_color_, _transparent_);\n            }\n        }\n\n        if (wholeRendering)\n            obj.a(_data_rb_whole_text_, V_ui_campColor(color));\n        else\n            obj.a(_data_rb_text_, V_ui_campColor(color));\n    }\n\n    /**\n     * 处理下划线着色\n     * @param obj 文本对象\n     */\n    function __disposeUnderline(obj) {\n        if (obj === gUndefined)\n            return;\n\n        // 单色\n        if (solid) {\n            obj.c(_border_color_, V_ui_var(__ac_ + color));\n        }\n        // 渐变色\n        else {\n            obj.c(_border_image_, _linear_gradient_ + \"(90deg,\"\n                + V_ui_genGradColorCSS(gradientColors, _, \"-lg\") + \") 0 0 1 0\");\n        }\n    }\n\n    /**\n     * 处理标识着色\n     * @param obj 文本对象\n     */\n    function __disposeMark(obj) {\n        if (obj === gUndefined)\n            return;\n\n        // 单色\n        if (solid) {\n            obj.c(_box_shadow_, \"0 \" + V_ui_var(\"--mark-bg-h-inset\") + \" 0 0 \" + V_ui_var(__ac_ + color + __fade_) +___+ _inset_);\n        }\n        // 渐变色\n        else {\n            obj.c(_box_shadow_, _none_);\n            obj.c(_text_shadow_, _none_);\n            obj.c(_cssText_, _background_ + \":\" + _linear_gradient_ + \"(90deg,\"\n                + V_ui_genGradColorCSS(gradientColors, __fade_, \"-lg\") + \")0 .4375em/100% \" + V_ui_var(\"--mark-bg-h\") +___+ _no_repeat_ + _important_ + _box_shadow_none_);\n        }\n    }\n\n    /**\n     * 处理表格单元格着色\n     * @param obj 文本对象\n     */\n    function __disposeCell(obj) {\n        if (obj === gUndefined)\n            return;\n\n        // 单色\n        if (solid) {\n            obj.c(_background_color_, V_ui_var(__ac_ + color + __fade_));\n        }\n        // 渐变色\n        else {\n            obj.c(_cssText_, _background_image_ + \":\" + _linear_gradient_ + \"(135deg,\"\n                + V_ui_genGradColorCSS(gradientColors, __fade_, \"-lg\") + \")\" + _important_ + _box_shadow_none_);\n        }\n        obj.a(_data_rb_cell_bg_, V_ui_campColor(color));\n    }\n}\n\n// ==================== Code Code 模块 ==================== //\n\nlet ColorCode = \"(r[do]|og|ye|l[am]|g[nyd]|aq|cy|wt|b[unk]|se|vn|p[uk]|[mw]n|ol|t[12])\",\n    Color_syntax = new RegExp(\"^\\(\" + ColorCode + \"+)(!)?\\$\", \"i\"),\n    Color_syntaxOld = new RegExp(\"^\\\\((\" + ColorCode + \"+)(!)?\\\\)$\", \"i\"),\n    Color_syntaxByClass = new RegExp(\"\\\\s(\" + ColorCode + \"+)\\\\s(em)?\", \"i\"),\n    ColorTooLight = /ye|lm|aq|la|pk|gd|cy/i; // 属于亮度较高，用于文字显示时须要降低亮度的颜色标识\n\n/**\n * 初始化标签、刮刮卡的默认颜色标识\n */\nfunction ColorCode_init() {\n    // 注：引用块着色的初始化在 ExtQuote 中进行\n    let dcTag = V_util_getParamVal(_tag_),\n        dcBadge = V_util_getParamVal(_badge_),\n        dcCoating = V_util_getParamVal(\"coating\");\n    if (dcTag !== gNull)\n        Tag_defalutColor = dcTag;\n    if (dcBadge !== gNull)\n        Badge_defalutColor = dcBadge;\n    if (dcCoating !== gNull)\n        Coating_defalutColor = dcCoating;\n}\n\n/**\n * 处理标签、引用块、刮刮卡指定的颜色\n * @param target 颜色标识对象\n * @return Array[] 正则表达式匹配的颜色标识数组\n */\nfunction ColorCode_parse(target) {\n    let tagName = V_util_getTagName(target),\n        newColors = gNull;\n    // 针对 <sub> 标签\n    if (tagName === \"em\"\n        && V_length(target.ch(\"sub\" + __only_child_)) > 0\n        && (newColors = target.t().m(Color_syntax)) !== gNull) {\n            target.rm();\n    }\n    return newColors;\n}\n\n/**\n * 判断是否为颜色标识的强调风格\n * @param colorSet 颜色标识的正则匹配结果集\n * @return boolean 是否强调\n */\nfunction ColorCode_isEm(colorSet) {\n    let em = colorSet[V_length(colorSet) - 1];\n    return (em !== gUndefined && em === \"!\");\n}\n\n// ==================== Code Magic 模块 ==================== //\n\n/**\n * 初始化\n */\nfunction CodeMagic_init() {\n    // 遍历所有 不是 em>code 的范围（包单级标签、多级标签的旧语法）\n    let stdCount = 0;\n    $(V_not(\"em\") + V_not(_strong_) + \">\" + _code_).e((index, element) => {\n        let _t = $(element),\n            codeText = _t.t(),\n            result;\n        // 先处理：多级标签格式\n        if ((result = codeText.m(Badge_syntax)) !== gNull)\n            Badge_build(_t, result);\n        // 文字注音格式（代码式语法）\n        else if ((result = codeText.m(TextPhonetic_syntaxForCode)) !== gNull)\n            TextPhonetic_buildForCode(_t, result);\n        // 普通代码增加样式标识，以用于深色模式时的识别\n        else {\n            stdCount++;\n            JQ_addClass(_t, _v_std_code_ + \" id-\" + stdCount);\n            _t.uC().ck(() => {\n                let content = _t.t();\n                ContentAssistor_lastTarget = _t;\n                Copy_action(_t, content, gTrue);\n            });\n        }\n    });\n\n    // 处理刮刮卡（新语法）\n    $(\"em>\" + _span_ + __first_child_ + \"+\" + _strong_ + __last_child_ + \",em>\" + _strong_ + __only_child_).e((index, element) => {\n        let _t = $(element),\n            result = [],\n            tip = _t.pr();\n\n        // 解包 em\n        _t.p().wrap(V_ui_span(_, _, _));\n        _t.unwrap();\n\n        // 构建兼容旧语法的数据结构\n        result.push(_); // 主结构，在此忽略内容\n        result.push(V_length(tip) === 0 ? _ : tip.t()); // 提示的内容\n        result.push(_t.t()); // 隐藏的内容\n\n        // 生成刮刮卡\n        Coating_build(_t.p(), result);\n    });\n\n    // 先处理：多级标签（新语法）\n    $(\"em>\" + _span_ + __first_child_ + \"+\" + _code_ + \",em>\" + _code_ + __first_child_ + \"+\" + _span_ + __last_child_).e((index, element) => {\n        let _t = $(element),\n            value2 = _t.n(),\n            result = [];\n\n        // 解包 em\n        _t.p().wrap(\"<\" + _code_ + \"></\" + _code_ + \">\");\n        _t.unwrap();\n\n        let bName = _t.pr().t(),\n            bValue = _t.t(),\n            bValue2 = _;\n        if (V_util_getTagName(_t) === _span_) {\n            bValue2 = bValue;\n            bValue = bName;\n            bName = _;\n        }\n        else {\n            if (V_length(value2) > 0)\n                bValue2 = value2.t();\n        }\n\n        // 构建兼容旧语法的数据结构\n        result.push(_); // 主结构，在此忽略内容\n        result.push(bName); // 多级标签标题（第1段）\n        result.push(bValue); // 多级标签内容（第2段）\n        // 多级标签内容2（第3段）的处理\n        if (V_length(bValue2) > 0) {\n            result.push(_);\n            result.push(bValue2);\n        }\n\n        // 生成多级标签\n        Badge_build(_t.p(), result);\n    });\n\n    // 后处理：标签（新语法）\n    $(\"em>\" + _code_ + __only_child_).e((index, element) => {\n        let _t = $(element),\n            codeText = _t.t(),\n            result;\n\n        // 解包 em\n        _t.unwrap();\n        // 解析处理\n        if ((result = codeText.m(Tag_syntax)) !== gNull)\n            Tag_build(_t, result);\n    });\n}\n\n// ==================== Code Magic：标签模块 ==================== //\n\n// 语法：#tag#(color)\nlet Tag_count = 0,\n    Tag_syntax = /^(.+)$/i,\n    Tag_defalutColor = \"t2-a\"; // theme1\n\n/**\n * 构建单标签样式\n * @param target 目标 code 对象\n * @param result 正则表达式匹配后的结果数组\n */\nfunction Tag_build(target, result) {\n    let tag = result[1],\n        color = Tag_getColor(),\n        em = _; // 强调样式的标识\n\n    Tag_count++;\n\n    // 颜色标识新语法处理\n    // 新色号语法：_~色号~_\n    let colorSet = ColorCode_parse(target.n());\n    if (colorSet !== gNull) {\n        color = Tag_getColor(colorSet[1]);\n        em = ColorCode_isEm(colorSet) ? \" em\" : _;\n    }\n\n    target.t(tag);\n\n    // 过滤语法内容\n    let solid = V_length(color) < 4 || color.i(\"-\") > -1, // 如：t1, t2-a\n        gradientColors = [], // 渐变色标识数组\n        id = \" id-\" + Tag_count;\n    // 针对渐变色语法\n    if (!solid) {\n        em = \" em\"; // 强制转为强调样式（不管是否有指定）\n        gradientColors = V_ui_splitColors(color);\n        target.a(_class_, _v_tag_ +___+ gradientColors[0] + em + id);\n        target.c(_cssText_, _background_image_ + \":\" + _linear_gradient_ + \"(90deg,\"\n            + V_ui_genGradColorCSS(gradientColors, _, \"-lg\") + \")\" + _important_\n            + (color.i(\"wt\") > -1 ? _border_color_ + \":\" + _var_d_bc_ + _important_ : _)\n            + _box_shadow_none_);\n    }\n    // 针对单色语法\n    else\n        target.a(_class_, _v_tag_ +___+ color + em + id);\n\n    // 复制标签内容\n    target.a(_value_, target.t());\n    target.uC().ck((event) => {\n        let _t = $(event.currentTarget),\n            content = _t.a(_value_);\n        ContentAssistor_lastTarget = _t;\n        Copy_action(_t, content, gTrue);\n    });\n}\n\n/**\n * 获得获取对应的颜色标识\n * @param color 文档中指定的预置颜色标识\n * @returns string 返回有效的的颜色值\n */\nfunction Tag_getColor(color = gUndefined) {\n    // 没有指定颜色，则为默认颜色\n    if (color === gUndefined)\n        return Tag_defalutColor;\n    return color.l();\n}\n\n// ==================== Code Magic：多级标签模块 ==================== //\n\n// 语法：#badge_name|badge_value|badge_value2#\nlet Badge_count = 0,\n    Badge_syntax = /^#([^|]*)\\|([^|]+)(\\|([^|]+))?#$/i, // 多级标签\n    Badge_syntax_variable = /^(.*)({{.+}}|%.+%|\\${.+}|#{.+}|\\$.+\\$|var\\(.+\\))(.*)$/i, // 变量语法\n    Badge_defalutColor = \"t1\";\n\n/**\n * 构建多级标签样式\n * @param target 目标 code 对象\n * @param result 正则表达式匹配后的结果数组\n */\nfunction Badge_build(target, result) {\n    let color = Badge_getColor(gUndefined, target), // 颜色标识\n        badgeName = result[1],\n        badgeValue = result[2],\n        badgeValue2 = (V_length(result) > 4) ? result[4] : gUndefined,\n        varStr;\n\n    Badge_count++;\n\n    // 颜色标识新语法处理\n    // 新色号语法：_~色号~_\n    let colorSet = ColorCode_parse(target.n());\n    if (colorSet !== gNull)\n        color = Badge_getColor(colorSet[1], target);\n\n    // 过滤语法内容\n    let solid = V_length(color) < 4,\n        gradientColors = [], // 渐变色标识数组\n        id = \"id-\" + Badge_count;\n\n    // ----- 多级标签标题（第1段）\n    // 针对渐变色语法\n    if (!solid) {\n        gradientColors = V_ui_splitColors(color);\n        target.wrap(\"<\" + _code_ +___+ V_attr(_class_, _v_badge_name_ +___+ gradientColors[0] +___+ id) + \"></\" + _code_ + \">\");\n        target.p().c(_cssText_, _background_image_ + \":\" + _linear_gradient_ + \"(90deg,\"\n            + V_ui_genGradColorCSS(gradientColors, _, \"-lg\") + \")\" + _important_\n            + (color.i(\"wt\") > -1 ? _border_color_ + \":\" + _var_d_bc_ + _important_ : _)\n            + _box_shadow_none_);\n    }\n    // 针对单色语法\n    else\n        target.wrap(\"<\" + _code_ +___+ V_attr(_class_, _v_badge_name_ +___+ color +___+ id) + \"></\" + _code_ + \">\");\n\n    // 复制多级标签标题内容（第2段）\n    let badge = V_byClass(_v_badge_name_ + \".\" + id);\n    if (V_length(badgeName) > 0)\n        badge.pp(V_ui_label(_, _, badgeName));\n\n    // 点击事件\n    badge.uC().ck((event) => {\n        let _t = $(event.currentTarget),\n            content = _t.a(_value_);\n\n        ContentAssistor_lastTarget = _t;\n        Copy_action(_t, content, gTrue);\n    });\n\n    // ----- 多级标签内容（第2段）\n    JQ_addClass(target, _v_badge_value_ +___+ id);\n    // 处理含变量的情况\n    if ((varStr = badgeValue.m(Badge_syntax_variable)) !== gNull)\n        badgeValue = badgeValue.r(varStr[2], V_ui_span(\"var\", _, varStr[2]));\n    target.hm(badgeValue);\n\n    // 复制多级标签内容（第2段）\n    target.uC().ck((event) => {\n        let _t = $(event.currentTarget),\n            value2 = _t.n();\n        Copy_action(_t, _t.t()\n            + (V_length(value2) > 0 ? ___+ value2.t() : _), // 如果有 value2 的处理\n            gFalse);\n    });\n\n    // ----- 多级标签内容2（第3段）\n    if (badgeValue2 !== gUndefined) {\n        target.af(V_ui_span(_v_badge_value_ + \"2 \" + id, _, badgeValue2));\n        JQ_addClass(target.p(), _hastwo_);\n        JQ_addClass(target, _hastwo_);\n\n        target.n().uC().ck((event) => {\n            let _t = $(event.currentTarget);\n            Copy_action(_t, _t.t(), gFalse);\n        });\n    }\n\n    // 生成普通内容，用于复制\n    let nodeCnt = 0,\n        plainContent = _;\n    badge.contents().e((index, element) => {\n        nodeCnt++;\n        plainContent += ((nodeCnt > 1) ? ___ : _) + $(element).t();\n    });\n    badge.a(_value_, plainContent);\n}\n\n/**\n * 获得获取对应的颜色标识\n * @param color 文档中指定的预置颜色标识\n * @param target 目标 code 对象\n * @returns string 返回有效的的颜色值\n */\nfunction Badge_getColor(color, target = gUndefined) {\n    // 没有指定颜色，则为默认颜色\n    if (color === gUndefined) {\n        // 针对封面内的多级标签（未指定颜色标识）的处理\n        if (target !== gUndefined) {\n            let p = target.p(),\n                tagName = (p !== gUndefined ? V_util_getTagName(p) : gUndefined);\n            if (tagName !== gUndefined\n                && tagName.l() === _h6_ && p.p().a(_id_) === _write_ )\n                    return \"t2\";\n        }\n        return Badge_defalutColor;\n    }\n    return color.l();\n}\n\n// ==================== 进度条 ==================== //\n\nlet Progressbar_count = 0,\n    Progressbar_defalutColor = \"t1\";\n\n/**\n * 进度条初始化\n */\nfunction Progressbar_init() {\n    // 处理进度条\n    $(_strong_ + \">\" + _mark_ + __only_child_).e((index, element) => {\n        let _t = $(element).p(),\n            value = _t.t();\n\n        // 指定数值时的处理\n        if (value.isNumber()) {\n            // 解包 mark\n            _t.hm(V_ui_label(_, _, _) + value);\n            Progressbar_build(_t, value);\n        }\n        // 指定自动计算时的处理\n        else if (value === \"?\" || value === \"？\") {\n            let taskList = _t.p().n();\n            if (V_length(taskList) === 0)\n                return;\n\n            let count = V_length(taskList.f(\"li\" + V_not(\":has(ul)\"))),\n                doneCount = V_length(taskList.f(\"li\" + V_not(\":has(ul)\") + \".task-list-\" + _done_)),\n                calcValue = (doneCount / count * 100).toFixed(1);\n\n            if (calcValue >= 100)\n                calcValue = 100;\n            // 解包 mark\n            _t.hm(V_ui_label(_, _, _) + calcValue);\n            Progressbar_build(_t, calcValue);\n        }\n    });\n}\n\n/**\n * 构建单标签样式\n * @param target 目标 code 对象\n * @param value 进度值\n */\nfunction Progressbar_build(target, value) {\n    // 赋于样式，后续才能获取正常渲染后尺寸信息\n    Progressbar_count++;\n    JQ_addClass(target, \"v-pgbar id-\" + Progressbar_count);\n\n    let label = target.ch(_label_),\n        width = label.w(),\n        outlineWidth = JS_parseInt(label.c(_outline_width_)),\n        rbTextSet = [\"og\", \"gn\", \"bu\", \"vn\", \"pu\", \"bk\"],\n        rbText = target.a(_data_rb_text_),\n        autoColor = (rbText === gUndefined),\n        color,\n        colorAlt,\n        outlineStyle = \"solid\";\n\n    // 根据进度值自动适配颜色\n    if (autoColor) {\n        if (value < 0)\n            rbText = \"rd\";\n        else if (value === 0)\n            rbText = \"gy\";\n        else if (value > 100)\n            rbText = \"ro\";\n        else\n            rbText = rbTextSet[Math.floor(value / 20)];\n    }\n    // 指定固定颜色\n    else {\n        rbText = Progressbar_getColor(rbText);\n    }\n\n    color = V_ui_var(__ac_ + rbText);\n    colorAlt = V_ui_var(__ac_ + rbText + \"-a-lg\");\n\n    if (autoColor)\n        target.c(_color_, color);\n\n    let overValue = value - 100;\n    // 大于 100% 的处理\n    if (overValue > 0) {\n        let overWidth = overValue / 100 * width;\n        // 渲染超出部分\n        label.c(_box_shadow_, (overWidth + outlineWidth) + \"px 0 0 0 \" + color);\n        label.c(_margin_right_, overWidth + 5);\n    }\n    // 小于 0% 的处理\n    else if (value < 0) {\n        let overWidth = value / 100 * width;\n        // 渲染超出部分\n        label.c(_box_shadow_, (overWidth + + outlineWidth) + \"px 0 0 0 \" + color);\n        label.c(_margin_left_, Math.abs(overWidth));\n        color = colorAlt;\n        outlineStyle = \"dashed\";\n    }\n\n    // 渲染正常部分\n    value = (value > 100) ? 100 : (value < 0 ? 0 : value);\n    label.c(_background_, `${_linear_gradient_}(90deg, ${color} ${value}%, ${_var_d_bc_} ${value}%, ${_var_d_bc_} 100%)`);\n    label.c(_outline_style_, outlineStyle);\n}\n\n/**\n * 获得获取对应的颜色标识\n * @param color 文档中指定的预置颜色标识\n * @returns string 返回有效的的颜色值\n */\nfunction Progressbar_getColor(color) {\n    // 没有指定颜色，则为默认颜色\n    if (color === gUndefined)\n        return Progressbar_defalutColor;\n    return color.l();\n}\n\n// ==================== Code Magic：刮刮卡模块 ==================== //\n\nlet coatingCount = 0,\n    Coating_defalutColor = \"gy\";\n\n/**\n * 构建「刮刮卡」\n * @param target 源对象\n * @param result 正则表达式匹配后的结果数组\n */\nfunction Coating_build(target, result) {\n    let tip = \"••••\",\n        hiddenText = result[2],\n        color = Coating_getColor(gUndefined);\n\n    // 颜色标识新语法处理\n    // 新色号语法：_~色号~_\n    let colorSet = ColorCode_parse(target.n());\n    if (colorSet !== gNull)\n        color = Coating_getColor(colorSet[1]);\n    color = V_ui_var(__ac_ + color);// + \"-lg\");\n\n    // 自定义提示信息\n    if (result[1] !== gUndefined && result[1] !== _)\n        tip = result[1];\n\n    // 初始化「刮刮卡」数据\n    coatingCount++;\n    JQ_addClass(target, _v_coating_ + \" id-\" + coatingCount);\n    target.a(_data_coating_tip_, tip);\n    target.a(_data_coating_hidden_, hiddenText);\n    target.a(_data_coating_showed_, _false_);\n    target.t(tip);\n    target.c(_background_, __genCoatingBg(V_length(tip), color))\n        .c(_border_color_, color);\n\n    // 针对「刮刮卡」的点击事件\n    target.uC().ck((event) => {\n        Coating_toggle($(event.currentTarget), event);\n    });\n\n    /**\n     * 根据提示信息字数生成条纹背景\n     * @param charCount 提示信息字数\n     * @param color 条纹背景色\n     * @returns string 生成 CSS 规范的背景\n     */\n    function __genCoatingBg(charCount, color) {\n        let count = 16,\n            result = _linear_gradient_ + \"(135deg,\";\n        // 根据字数调整条纹数量\n        if (charCount <= 8)\n            count = 4;\n        else if (charCount <= 12)\n            count = 8;\n        else if (charCount <= 20)\n            count = 10;\n        // 计算每个条纹的步长\n        let step = 100 / count;\n        // 自动生成条纹背景\n        for (let i = 0; i < count; i++) {\n            let start = i * step,\n                end = start + step,\n                c = (i % 2 === 0) ? color : _var_d_fc_;\n            result += c +___+ start + \"%,\" + c +___+ end + \"%\"; // 分段渐变\n            result += (i < count - 1) ? \",\" : \")\";\n        }\n        return result;\n    }\n}\n\n/**\n * 获得获取对应的颜色标识\n * @param color 文档中指定的预置颜色标识\n * @returns string 返回有效的的颜色值\n */\nfunction Coating_getColor(color) {\n    // 没有指定颜色，则为默认颜色\n    if (color === gUndefined)\n        return Coating_defalutColor;\n    return color.l();\n}\n\n/**\n * 显示 / 隐藏「刮刮卡」的内容\n * @param target 刮刮卡对象\n * @param event 事件对象\n */\nfunction Coating_toggle(target, event) {\n    // 如果有拖选的文本，则跳过处理\n    if (V_util_getSelectedText() !== _)\n        return;\n\n    if (target.a(_data_coating_showed_).sW(\"f\")) {\n        event.stopPropagation(); // 停止事件冒泡\n        Coating_show(target);\n    }\n    else {\n        Coating_hide(target);\n    }\n}\n\n/**\n * 显示「刮刮卡」的内容\n * @param target 刮刮卡对象\n */\nfunction Coating_show(target) {\n    JQ_addClass(target, _opened_);\n    // 显示原始信息\n    target.t(target.a(_data_coating_hidden_));\n    // 针对「刮刮卡」自定义数据\n    target.a(_data_coating_showed_, _true_)\n}\n\n/**\n * 隐藏「刮刮卡」的内容\n * @param target 刮刮卡对象\n */\nfunction Coating_hide(target) {\n    JQ_removeClass(target, _opened_);\n    // 显示提示信息\n    target.t(target.a(_data_coating_tip_));\n    // 针对「刮刮卡」自定义数据\n    target.a(_data_coating_showed_, _false_);\n}\n\n// ==================== Code Magic：文本注音模块 ==================== //\n\n// 旧语法：{text}(symbol)\nlet TextPhonetic_syntaxForCode = /^{(.+)}\\((.+)\\)$/;\n\n/**\n * 构建「注音」（代码式语法）\n * @param target 源对象\n * @param result 正则表达式匹配后的结果数组\n */\nfunction TextPhonetic_buildForCode(target, result) {\n    let text = result[1],\n        symbol = result[2];\n    // 生成注音内容\n    target.af(\"<ruby>\" + text\n        + \"<rp>(</rp><rt>\" + symbol\n        + \"</rt><rp>)\" + _nbsp_ + \"</rp></ruby>\");\n    // 绑定注音的点击事件\n    target.n().ch(\"rt\").uC().ck((event) => {\n        TextPhonetic_translation(text, symbol, event);\n    });\n    // 删除预置颜色标识\n    target.rm();\n}\n\n// ==================== VLOOK UI 模块 ==================== //\n\n/**\n * 加载欢迎页资源\n */\nfunction VLOOKui_welcomePage() {\n    let title = V_util_getDocTitle(),\n        date = V_util_getMetaByName(_date_),\n        author = V_util_getMetaByName(\"author\"),\n        defalutContent = (title !== gUndefined ? V_ui_div(_, _, title) : _)\n            + (date !== gUndefined ? V_ui_div(_, \"v-date\", \"( \" + date + \" )\") : _)\n            + (author !== gUndefined ? V_ui_strong(author) : _),\n        metaContent = V_util_getMetaByName(_vlook__ + _welcome_);\n\n    // 无指定欢迎页内容，则使用默认内容\n    if (metaContent === gUndefined)\n        metaContent = defalutContent;\n    metaContent += _2br_;\n    // --------------------------------------------------\n    // 欢迎页\n    return V_ui_div(_, _v_welcome_page_,\n            // 文档专属图标\n            V_ui_div(_, _v_doc_logo_ + _light_)\n            // 欢迎信息\n            + V_ui_div(_, _v_tips_, metaContent.x())\n            // 文档加载进度及进入按钮\n            + V_ui_div(_, _v_loading_, _Loading_)\n        );\n}\n\n/**\n * 加载 VLOOK CC 封面四角资源\n */\nfunction VLOOKui_cc() {\n    return V_ui_div(_, _v_cc_ +___+ _top_ +___+ _left_, _)\n        + V_ui_div(_, _v_cc_ +___+ _top_ +___+ _right_, _)\n        + V_ui_div(_, _v_cc_ +___+ _bottom_ +___+ _left_, _)\n        + V_ui_div(_, _v_cc_ +___+ _bottom_ +___+ _right_, _);\n}\n\n/**\n * 加载检查 hash 资源\n */\nfunction VLOOKui_checkHash() {\n    return V_ui_div(_, _v_check_hash_, _);\n}\n\n/**\n * 加载图标集资源\n */\nfunction VLOOKui_iconSet() {\n    let ui = '<svg style=\"display:none;\">',\n        tagRectX = '<rect x=\"',\n        tagRectTransformRotate = '<rect transform=\"rotate(',\n        widthHeightRx = '\" ' + _width_ + '=\"2\" ' + _height_ + '=\"4\" rx=\"1\"/>';\n\n        // 图标集：图标|VLOOK LOGO\n    ui += V_ui_symbol(_icoVLOOK_,\n            V_ui_path('M14.291 0c1.985 0 2.705.207 3.43.595a4.046 4.046 0 0 1 1.684 1.683c.388.726.595 1.446.595 3.43v8.583c0 1.985-.207 2.705-.595 3.43a4.046 4.046 0 0 1-1.683 1.684c-.726.388-1.446.595-3.43.595H5.708c-1.985 0-2.705-.207-3.43-.595a4.046 4.046 0 0 1-1.684-1.683C.207 16.996 0 16.276 0 14.292V5.708c0-1.985.207-2.705.595-3.43A4.046 4.046 0 0 1 2.278.594C3.004.207 3.724 0 5.708 0h8.583zM10.18 14.146a.217.217 0 0 0-.278 0l-.797.663a.217.217 0 0 0-.041.288l.796 1.193a.217.217 0 0 0 .362 0l.796-1.193a.217.217 0 0 0-.041-.288zm-4.12-6.403a3.616 3.616 0 0 0-3.619 3.614 3.616 3.616 0 0 0 3.619 3.613 3.616 3.616 0 0 0 3.62-3.613 3.616 3.616 0 0 0-3.62-3.614zm7.962 0a3.616 3.616 0 0 0-3.62 3.614 3.616 3.616 0 0 0 3.62 3.613 3.616 3.616 0 0 0 3.619-3.613 3.616 3.616 0 0 0-3.619-3.614zM6.059 8.827c1.4 0 2.533 1.133 2.533 2.53a2.531 2.531 0 0 1-2.533 2.53 2.531 2.531 0 0 1-2.533-2.53 2.531 2.531 0 0 1 2.533-2.53zm7.962 0c1.4 0 2.533 1.133 2.533 2.53a2.531 2.531 0 0 1-2.533 2.53 2.531 2.531 0 0 1-2.533-2.53 2.531 2.531 0 0 1 2.533-2.53zm2.402-4.312a.543.543 0 0 0-.71-.267l-.011.005-5.663 2.357-5.66-2.357-.012-.005a.543.543 0 0 0-.448.987l5.863 2.443.011.005a.54.54 0 0 0 .247.045.54.54 0 0 0 .247-.045l.011-.005 5.863-2.443a.542.542 0 0 0 .262-.72z'))\n        // 图标集：图标|导航中心\n        + V_ui_symbol(_icoNavCenter_,\n            V_ui_path('M7.087.453a.82.82 0 0 1 1.1-.366L13 2.493V17.2a.8.8 0 0 1-1.158.716L7 15.493V.82a.82.82 0 0 1 .087-.367zm12.755.797a1.5 1.5 0 0 1 .158.67v11.72a3 3 0 0 1-1.658 2.683l-3.184 1.592A.8.8 0 0 1 14 17.199V2.493L17.83.58a1.5 1.5 0 0 1 2.012.67zM5.913.453A.82.82 0 0 1 6 .82v14.673l-3.83 1.915A1.5 1.5 0 0 1 0 16.066V4.348a3 3 0 0 1 1.658-2.684L4.813.087a.82.82 0 0 1 1.1.366zM18.99 1.7a.5.5 0 0 0-.668-.23L15.61 2.79a.5.5 0 0 0-.046.874l2.71 1.693a.5.5 0 0 0 .765-.424V1.918a.5.5 0 0 0-.05-.219z', _))\n        // 图标集：图标|导航中心分段控制|目录索引\n        + V_ui_symbol(_icoIndexTabToc_,\n            V_ui_path('M0 0h16v16H0z', _none_)\n            + V_ui_path('M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zm0 1H3a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zm0 8a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2h6zm-9 0a1 1 0 0 1 0 2H3a1 1 0 0 1 0-2h1zm9-3a1 1 0 0 1 0 2H7a1 1 0 1 1 0-2h6zM4 7a1 1 0 1 1 0 2H3a1 1 0 1 1 0-2h1zm9-3a1 1 0 0 1 0 2H7a1 1 0 1 1 0-2h6zM4 4a1 1 0 1 1 0 2H3a1 1 0 1 1 0-2h1z', _))\n        + V_ui_symbol(_icoIndexTabToc_ + __checked_,\n            V_ui_path('M0 0h16v16H0z', _none_)\n            + V_ui_path('M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zm0 10H7a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2zm-9 0H3a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2zm9-4H7a1 1 0 1 0 0 2h6a1 1 0 0 0 0-2zM4 7H3a1 1 0 1 0 0 2h1a1 1 0 1 0 0-2zm9-4H7a1 1 0 1 0 0 2h6a1 1 0 0 0 0-2zM4 3H3a1 1 0 1 0 0 2h1a1 1 0 1 0 0-2z', _))\n        // 图标集：图标|导航中心分段控制|插图索引\n        + V_ui_symbol(_icoIndexTabFigure_,\n            V_ui_path('M0 0h16v16H0z', _none_)\n            + V_ui_path('M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zm0 1H3a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zM5.823 7.22a1 1 0 0 1 .288.252l1.821 2.343a1 1 0 0 0 1.34.221l1.567-1.034a1 1 0 0 1 1.331.21l1.188 1.483a.8.8 0 0 1-.624 1.3H3.288a.8.8 0 0 1-.692-1.201l1.86-3.21a1 1 0 0 1 1.367-.364zM10 4a2 2 0 1 1 0 4 2 2 0 0 1 0-4z', _))\n        + V_ui_symbol(_icoIndexTabFigure_ + __checked_,\n            V_ui_path('M0 0h16v16H0z', _none_)\n            + V_ui_path('M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zM5.823 7.22a1 1 0 0 0-1.367.364l-1.86 3.21a.8.8 0 0 0 .692 1.201h9.446a.8.8 0 0 0 .624-1.3L12.17 9.212a1 1 0 0 0-1.331-.21l-1.567 1.034a1 1 0 0 1-1.34-.221L6.111 7.472a1 1 0 0 0-.288-.252zM10 4a2 2 0 1 0 0 4 2 2 0 0 0 0-4z', _))\n        // 图标集：图标|导航中心分段控制|表格索引\n        + V_ui_symbol(_icoIndexTabTable_,\n            V_ui_path('M0 0h16v16H0z', _none_)\n            + V_ui_path('M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zM5 11H1v1a2 2 0 0 0 2 2h2v-3zm5 0H6v3h4v-3zm5 0h-4v3h2a2 2 0 0 0 2-2v-1zM5 6H1v4h4V6zm5 0H6v4h4V6zm5 0h-4v4h4V6zM5 2H3a2 2 0 0 0-2 2v1h4V2zm5 0H6v3h4V2zm3 0h-2v3h4V4a2 2 0 0 0-2-2z', _))\n        + V_ui_symbol(_icoIndexTabTable_ + __checked_,\n            V_ui_path('M0 0h16v16H0z', _none_)\n            + V_ui_path('M16 11v1a3 3 0 0 1-3 3h-1v-4h4zM4 11v4H3a3 3 0 0 1-3-3v-1h4zm7 0v4H5v-4h6zm0-5v4H5V6h6zm5 0v4h-4V6h4zm-5-5v4H5V1h6zm2 0a3 3 0 0 1 3 3v1h-4V1h1zM4 1v4H0V4a3 3 0 0 1 3-3h1zM0 6h4v4H0V6z', _))\n        // 图标集：图标|导航中心分段控制|多媒体索引\n        + V_ui_symbol(_icoIndexTabMedia_,\n            V_ui_path('M0 0h16v16H0z', _none_)\n            + V_ui_path('M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zm-1 1.001H4v12h8v-12zM3 11H1v1a2 2 0 0 0 2 2v-3zm12 0h-2v3l.15-.005A2 2 0 0 0 15 12v-1zM3.002 6h-2v4h2V6zm11.997 0h-2v4h2V6zM3 2a2 2 0 0 0-2 2v1h2zm10 0v3h2V4a2 2 0 0 0-2-2zm-2.936 6.655L7.259 10.62A.8.8 0 0 1 6 9.963V6.037a.8.8 0 0 1 1.259-.656l2.805 1.964a.8.8 0 0 1 0 1.31z', _))\n        + V_ui_symbol(_icoIndexTabMedia_ + __checked_,\n            V_ui_path('M0 0h16v16H0z', _none_)\n            + V_ui_path('M16 11v1a3 3 0 0 1-3 3v-4h3zM3 11v4a3 3 0 0 1-3-3v-1h3zm9-10v14H4V1h8zM6.8 5.237a.8.8 0 0 0-.8.8v3.926a.8.8 0 0 0 1.259.656l2.805-1.964a.8.8 0 0 0 0-1.31L7.259 5.38a.8.8 0 0 0-.459-.144zM16 6v4h-3V6h3zM3 6v4H0V6h3zm10-5a3 3 0 0 1 3 3v1h-3V1zM3 1v4H0V4a3 3 0 0 1 3-3z', _))\n        // 图标集：图标|导航中心分段控制|代码块索引\n        + V_ui_symbol(_icoIndexTabCodeblock_,\n            V_ui_path('M0 0h16v16H0z', _none_)\n            + V_ui_path('M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zm0 1H3a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zM6.555 4.168a1 1 0 0 1 .277 1.387L5.201 7.999l1.631 2.446a1 1 0 0 1-.184 1.317l-.093.07a1 1 0 0 1-1.387-.277L3.353 8.832a1.5 1.5 0 0 1 0-1.664l1.815-2.723a1 1 0 0 1 1.387-.277zm2.89 0a1 1 0 0 1 1.387.277l1.815 2.723a1.5 1.5 0 0 1 0 1.664l-1.815 2.723a1 1 0 0 1-1.387.277l-.093-.07a1 1 0 0 1-.184-1.317L10.799 8 9.168 5.555a1 1 0 0 1 .277-1.387z', _))\n        + V_ui_symbol(_icoIndexTabCodeblock_ + __checked_,\n            V_ui_path('M0 0h16v16H0z', _none_)\n            + V_ui_path('M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zM5.454 4.168a1 1 0 0 0-1.387.277L2.252 7.168a1.5 1.5 0 0 0 0 1.664l1.815 2.723a1 1 0 0 0 1.387.277l.093-.07a1 1 0 0 0 .184-1.317L4.101 8l1.63-2.444a1 1 0 0 0-.277-1.387zm4.89 0a1 1 0 0 0-.277 1.387l1.631 2.444-1.631 2.446a1 1 0 0 0 .184 1.317l.093.07a1 1 0 0 0 1.387-.277l1.815-2.723a1.5 1.5 0 0 0 0-1.664l-1.815-2.723a1 1 0 0 0-1.387-.277z', _))\n        // 图标集：图标|导航中心分段控制|公式索引\n        + V_ui_symbol(_icoIndexTabFormula_,\n            V_ui_path('M0 0h16v16H0z', _none_)\n            + V_ui_path('M13 0a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3h10zm0 1H3a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2zM3.735 3l3.876.003a.741.741 0 0 1 .738.706.746.746 0 0 1-.653.79l-.085.004L5.225 4.5l2.041 2.043c.18.24.202.567.054.83l-.054.084L5.226 9.5h2.386a.74.74 0 0 1 .73.662l.004.087c0 .38-.279.7-.648.745L7.61 11H3.735a.732.732 0 0 1-.64-.382.764.764 0 0 1 .011-.756l.046-.069 2.604-2.791-2.604-2.795a.763.763 0 0 1-.093-.75.736.736 0 0 1 .595-.452L3.735 3zm8.948 3.062a.76.76 0 0 1 .145 1.05l-.986 1.338 1.009 1.32a.76.76 0 0 1-.133 1.043.724.724 0 0 1-1.025-.12l-.767-1.002-.75 1.015a.724.724 0 0 1-1.018.133.76.76 0 0 1-.155-1.035l.987-1.337-1.01-1.32a.76.76 0 0 1 .133-1.044.724.724 0 0 1 1.025.12l.767 1.003.75-1.016a.725.725 0 0 1 1.028-.148z', _))\n        + V_ui_symbol(_icoIndexTabFormula_ + __checked_,\n            V_ui_path('M0 0h16v16H0z', _none_)\n            + V_ui_path('M13 0a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3h10zM3.735 3l-.08.005a.736.736 0 0 0-.596.452.763.763 0 0 0 .093.75l2.604 2.795-2.604 2.791-.046.069a.764.764 0 0 0-.011.756c.13.236.375.382.64.382h3.876l.087-.006a.745.745 0 0 0 .648-.745l-.005-.087a.74.74 0 0 0-.73-.662H5.226l2.041-2.042.054-.084a.763.763 0 0 0-.054-.83l-2.04-2.043 2.385.002.085-.005a.746.746 0 0 0 .653-.789.741.741 0 0 0-.738-.706L3.735 3zm8.948 3.062a.725.725 0 0 0-1.028.148l-.75 1.016-.767-1.002a.724.724 0 0 0-1.025-.121.76.76 0 0 0-.133 1.044l1.01 1.32-.987 1.337a.76.76 0 0 0 .155 1.035.724.724 0 0 0 1.018-.133l.75-1.015.767 1.002a.724.724 0 0 0 1.025.12.76.76 0 0 0 .133-1.044L11.84 8.45l.987-1.338a.76.76 0 0 0-.145-1.05z', _))\n        // 图标集：图标|导航历史\n        + V_ui_symbol(_icoNavHistory_,\n            V_ui_path('M10.63 0c5.17 0 9.375 4.262 9.375 9.5S15.8 19 10.631 19c-4.05 0-7.51-2.616-8.817-6.27l1.325-.768c1.026 3.198 3.997 5.518 7.49 5.518 4.34 0 7.875-3.581 7.875-7.98 0-4.399-3.534-7.98-7.875-7.98-2.98 0-5.58 1.688-6.916 4.17l1.247.41a.625.625 0 0 1 .14 1.12L2.225 9.057a.625.625 0 0 1-.917-.297L.044 5.56a.625.625 0 0 1 .777-.823l1.445.476C3.814 2.123 6.982 0 10.631 0zm-.5 4.18c.691 0 1.25.56 1.25 1.25V9.79l2.402 1.403a1.25 1.25 0 0 1 .456 1.697l-.013.023a1.248 1.248 0 0 1-1.714.461L9.5 11.618a1.247 1.247 0 0 1-.594-.83l-.009-.049a1.26 1.26 0 0 1-.017-.21v-5.1c0-.69.56-1.249 1.25-1.249z', _))\n        // 图标集：图标|搜索\n        + V_ui_symbol(_icoSearch_,\n            V_ui_path('M14.999 14.596a1.375 1.375 0 0 1-1.953 0L11.46 12.94a6.372 6.372 0 0 1-3.466 1.032c-3.559 0-6.444-2.904-6.444-6.486S4.435 1 7.994 1c3.56 0 6.445 2.904 6.445 6.486a6.47 6.47 0 0 1-1.026 3.488l1.586 1.656c.54.543.54 1.423 0 1.966zM7.993 2.32c-2.834 0-5.132 2.313-5.132 5.166s2.298 5.165 5.132 5.165c2.835 0 5.133-2.312 5.133-5.165s-2.298-5.166-5.133-5.166z', _))\n        + V_ui_symbol(_icoMaskCloser_,\n            V_ui_path('M13.98.176l.035.013c1.506.534 2.311 2.123 1.86 3.607L6.21 30l9.61 26.04c.546 1.475-.186 3.097-1.64 3.707l-.2.077c-1.502.532-3.154-.18-3.781-1.597l-.065-.16L.315 31.916a5.987 5.987 0 0 1 0-3.832l9.818-26.151C10.702.41 12.422-.375 13.979.176z', _))\n        // 图标集：图标|插图导航的上一张\n        + V_ui_symbol(_icoPrevFig_,\n            V_ui_path('M11.03.091c.765.284 1.159 1.147.88 1.927L3.002 27l8.91 24.982a1.516 1.516 0 0 1-.75 1.87l-.13.057a1.462 1.462 0 0 1-1.834-.765l-.055-.134L.12 27.705C.112 27.685 0 27.435 0 27c0-.435.111-.684.12-.706L9.141.99A1.465 1.465 0 0 1 11.03.09z', _))\n        // 图标集：图标|逐章导航的上一章'\n        + V_ui_symbol(_icoPrevChapter_,\n            V_ui_path('M7.364.293a1 1 0 0 1 0 1.414l-4.97 4.969 4.974 4.974a1 1 0 0 1-1.415 1.414L.296 7.407a.996.996 0 0 1-.291-.658.995.995 0 0 1 .288-.8L5.95.294a1 1 0 0 1 1.414 0z', _))\n        // 图标集：图标|已收起的 目录节点\n        + V_ui_symbol(_icoTocFolded_,\n            V_ui_path('M11.614 8.72L7.37 12.961a1 1 0 0 1-1.414-1.414l3.542-3.543-3.542-3.543A1 1 0 1 1 7.37 3.048l4.243 4.243a.997.997 0 0 1 .293.707v.014a.997.997 0 0 1-.293.707z', _))\n        // 图标集：图标|已收起的 表格行分组节点\n        + V_ui_symbol(_icoFolded_,\n            V_ui_path('M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zm-.336 3.757A1 1 0 1 0 6.25 5.172l2.835 2.835-2.835 2.836a1 1 0 1 0 1.414 1.414l3.535-3.536a.997.997 0 0 0 .293-.707V8a.997.997 0 0 0-.293-.707z', _))\n        // 图标集：图标|关闭\n        + V_ui_symbol(_icoClose_,\n            V_ui_path('M7,7 L7,-1 C7,-1.55228475 7.44771525,-2 8,-2 C8.55228475,-2 9,-1.55228475 9,-1 L9,7 L17,7 C17.5522847,7 18,7.44771525 18,8 C18,8.55228475 17.5522847,9 17,9 L9,9 L9,17 C9,17.5522847 8.55228475,18 8,18 C7.44771525,18 7,17.5522847 7,17 L7,9 L-1,9 C-1.55228475,9 -2,8.55228475 -2,8 C-2,7.44771525 -1.55228475,7 -1,7 L7,7 Z\"' + ' transform=\"translate(8.000000, 8.000000) rotate(45.000000) translate(-8.000000, -8.000000) \"', _))\n        // 图标集：图标|清空输入\n        + V_ui_symbol(_icoResetInput_,\n            V_ui_path('M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zM5.737 4.606a.8.8 0 0 0-1.131 1.131L6.869 8l-2.263 2.263a.8.8 0 1 0 1.131 1.131L8 9.131l2.263 2.263a.8.8 0 1 0 1.131-1.131L9.131 8l2.263-2.263a.8.8 0 1 0-1.131-1.131L8 6.869z', _))\n        // 图标集：图标|浅色外观（Light）\n        + V_ui_symbol(_icoLightMode_,\n            V_ui_path('M10 17a1 1 0 0 1 1 1v1a1 1 0 0 1-2 0v-1a1 1 0 0 1 1-1zm6.364-2.05l.707.707a1 1 0 0 1-1.414 1.414l-.707-.707a1 1 0 1 1 1.414-1.414zm-11.314 0a1 1 0 0 1 0 1.414l-.707.707a1 1 0 1 1-1.414-1.414l.707-.707a1 1 0 0 1 1.414 0zM10 5a5 5 0 1 1 0 10 5 5 0 0 1 0-10zm9 4a1 1 0 0 1 0 2h-1a1 1 0 0 1 0-2h1zM2 9a1 1 0 0 1 0 2H1a1 1 0 0 1 0-2h1zm15.071-6.071a1 1 0 0 1 0 1.414l-.707.707a1 1 0 1 1-1.414-1.414l.707-.707a1 1 0 0 1 1.414 0zm-12.728 0l.707.707A1 1 0 1 1 3.636 5.05l-.707-.707A1 1 0 0 1 4.343 2.93zM10 0a1 1 0 0 1 1 1v1a1 1 0 0 1-2 0V1a1 1 0 0 1 1-1z', _))\n        // 图标集：图标|深色外观（Dark）\n        + V_ui_symbol(_icoDarkMode_,\n            V_ui_path('M5.646 2.646A9.003 9.003 0 0 0 9 20a9.003 9.003 0 0 0 8.354-5.646A9 9 0 0 1 5.613 2.729zM15.5 3l-1.065 2.7a1.303 1.303 0 0 1-.734.735L11 7.5l2.7 1.065c.337.133.602.398.735.734L15.5 12l1.065-2.7c.133-.337.398-.602.734-.735L20 7.5l-2.7-1.065a1.303 1.303 0 0 1-.735-.734L15.5 3zm-4.829-3l-.547 1.389a1 1 0 0 1-.564.563L8.171 2.5l1.39.548a1 1 0 0 1 .563.563L10.67 5l.548-1.389a1 1 0 0 1 .563-.563l1.39-.548-1.39-.548a1 1 0 0 1-.563-.563L10.671 0z', _))\n        // 图标集：图标|外观跟随系统（Light / Dark）\n        + V_ui_symbol(_icoAutoMode_,\n            V_ui_path('M10 0c5.523 0 10 4.477 10 10s-4.477 10-10 10S0 15.523 0 10 4.477 0 10 0zm0 2v4a4 4 0 0 0-.2 7.995L10 14v4a8 8 0 1 0 0-16zm0 4a4 4 0 0 1 .2 7.995L10 14z', _))\n        // 图标集：图标|链接地图\n        + V_ui_symbol(_icoLinkMap_,\n            V_ui_path('M17.143 12.857c-.496 0-.956.139-1.362.362l-3.095-2.278c.103-.296.171-.61.171-.941 0-.1-.02-.194-.03-.292l2.86-1.716a2.13 2.13 0 0 0 1.456.58A2.143 2.143 0 1 0 15 6.428c0 .1.016.195.03.292l-2.71 1.625a2.852 2.852 0 0 0-1.606-1.102V5.613a2.855 2.855 0 0 0 2.143-2.756A2.86 2.86 0 0 0 10 0a2.86 2.86 0 0 0-2.857 2.857c0 1.327.914 2.437 2.143 2.756v1.631c-.697.18-1.3.617-1.689 1.223L4.951 6.88a2.143 2.143 0 1 0-2.094 1.692c.488-.001.96-.17 1.337-.48L7.156 9.87c-.002.045-.013.086-.013.131 0 .332.068.646.172.942l-3.06 2.296a2.816 2.816 0 0 0-1.398-.38A2.86 2.86 0 0 0 0 15.713a2.86 2.86 0 0 0 2.857 2.857 2.86 2.86 0 0 0 2.857-2.857c0-.54-.159-1.039-.42-1.47l2.82-2.115c.335.299.737.513 1.172.627v3.09a2.136 2.136 0 0 0-1.429 2.011 2.143 2.143 0 1 0 4.286 0 2.136 2.136 0 0 0-1.429-2.011v-3.09a2.837 2.837 0 0 0 1.174-.627l2.834 2.085c-.283.45-.435.97-.436 1.5a2.86 2.86 0 0 0 2.857 2.857A2.86 2.86 0 0 0 20 15.714a2.86 2.86 0 0 0-2.857-2.857zm-8.572-10a1.43 1.43 0 0 1 2.857 0A1.43 1.43 0 0 1 10 4.286a1.43 1.43 0 0 1-1.429-1.429zM2.857 17.143a1.43 1.43 0 0 1-1.428-1.429c0-.788.64-1.428 1.428-1.428.788 0 1.429.64 1.429 1.428a1.43 1.43 0 0 1-1.429 1.429zM10 11.429A1.43 1.43 0 0 1 8.571 10a1.43 1.43 0 0 1 2.857 0A1.43 1.43 0 0 1 10 11.429zm7.143 5.714a1.43 1.43 0 0 1-1.429-1.429 1.43 1.43 0 0 1 2.857 0 1.43 1.43 0 0 1-1.428 1.429z', _))\n        // 图标集：图标|聚光灯\n        + V_ui_symbol(_icoSpotlight_,\n            V_ui_path('M7 0a7 7 0 0 1 6.992 6.67A7.002 7.002 0 0 1 11 20a7 7 0 0 1-6.992-6.67A7.002 7.002 0 0 1 7 0zm4 6a7 7 0 0 0-6.992 7.33 7 7 0 0 0 9.985-6.662A6.984 6.984 0 0 0 11 6.001z', _))\n        // 图标集：图标|激光笔\n        + V_ui_symbol(_icoLaserPointer_,\n            V_ui_path('M5.574 5.078a3.5 3.5 0 0 1 4.913.603l6.772 8.668a3.5 3.5 0 1 1-5.516 4.31L4.971 9.991a3.5 3.5 0 0 1 .603-4.913zm.576.769a2.5 2.5 0 1 0 3.078 3.94 2.5 2.5 0 0 0-3.078-3.94zm6.562-3.138a1 1 0 1 1 1.231 1.576l-.788.616a1 1 0 1 1-1.231-1.576l.788-.616zm-10.5 8a1 1 0 1 1 1.231 1.576l-.788.616a1 1 0 0 1-1.231-1.576l.788-.616zm-1.177-4.68l1 .034a1 1 0 0 1-.07 1.999l-1-.035a1 1 0 0 1 .07-1.999zM8.838.021a1 1 0 0 1 .77 1.186l-.208.978a1 1 0 0 1-1.956-.416l.208-.978a1 1 0 0 1 1.186-.77zM2.724 1.409a1 1 0 0 1 1.403.172l.616.788a1 1 0 0 1-1.576 1.232l-.616-.788a1 1 0 0 1 .173-1.404z', _))\n        // 图标集：图标|段落漫游\n        + V_ui_symbol(_icoParagraphNav_,\n            V_ui_path('M3.5 9.5a2.5 2.5 0 1 0 0 5H8a2.5 2.5 0 0 1 2.5-2.5h6a2.5 2.5 0 0 1 2.5 2.5v1a2.5 2.5 0 0 1-2.5 2.5h-6A2.5 2.5 0 0 1 8 15.5H3.3A3.51 3.51 0 0 1 0 12a3.5 3.5 0 0 1 3.3-3.494L16.5 8.5a2.5 2.5 0 1 0 0-5H12A2.5 2.5 0 0 1 9.5 6h-6A2.5 2.5 0 0 1 1 3.5v-1A2.5 2.5 0 0 1 3.5 0h6A2.5 2.5 0 0 1 12 2.5h4.8v.013a3.5 3.5 0 0 1 0 6.974V9.5H3.5z', _))\n        // 图标集：图标|字体风格\n        + V_ui_symbol(_icoFontStyle_,\n            V_ui_path('M2.26 17.998l.59-1.85h3.015l.59 1.85h1.843a.5.5 0 0 0 .465-.683l-2.648-6.74a1 1 0 0 0-.931-.635h-1.57a1 1 0 0 0-.93.634l-2.65 6.74a.5.5 0 0 0 .466.684h1.76zm3.14-3.342H3.315l.22-.682c.26-.8.534-1.741.78-2.585h.055c.275.822.535 1.785.81 2.585l.218.682zm6.745 3.544c.893 0 1.644-.364 2.31-.892h.071l.17.716h2.055v-4.058c0-2.236-1.176-3.266-3.26-3.266-1.26 0-2.408.377-3.471.942l.879 1.47c.807-.402 1.473-.628 2.11-.628.823 0 1.163.34 1.22.917-3.146.302-4.478 1.118-4.478 2.626 0 1.193.907 2.173 2.394 2.173zm.865-1.734c-.524 0-.865-.2-.865-.615 0-.503.51-.917 2.083-1.093V15.9c-.368.352-.708.565-1.218.565zM13.802 0l3.473 7.75.724.078V8.4h-4.33v-.573l1.066-.124-.727-1.864h-3.201l-.8 1.853.712.146V8.4H8.1V8.16c-.325.256-.749.37-1.314.37-.943 0-1.472-.428-1.686-1.129-.729.727-1.272 1.13-2.414 1.13-1.23 0-2.086-.676-2.086-1.766 0-1.181.743-1.818 3.043-2.428.4-.104.9-.22 1.4-.337v-.792c0-1.35-.343-1.753-1.429-1.753-.2 0-.386.013-.6.052l-.1.922c-.043.883-.528 1.233-1.071 1.233-.515 0-.872-.233-.986-.662C.97 1.78 2.213 1 4.427 1c2.029 0 2.843.792 2.843 2.674v3.492c0 .494.172.662.443.662.214 0 .372-.103.643-.493l.243.182a2.323 2.323 0 0 1-.152.262l.49-.086L12.31 0h1.492zm-8.76 4.35a7.258 7.258 0 0 0-.786.22c-1 .376-1.529.987-1.529 1.934 0 .78.4 1.143 1.072 1.143.386 0 .714-.17 1.243-.598zm7.43-2.615l-1.507 3.533h2.87l-1.363-3.533z', _))\n        // 图标集：图标|灰色模式（Gray Mode）\n        + V_ui_symbol(_icoGray_,\n            V_ui_path('M7.826 9.565a1.74 1.74 0 1 0 0-3.478 1.74 1.74 0 0 0 0 3.478zm4.348 0a1.74 1.74 0 1 0 0-3.478 1.74 1.74 0 0 0 0 3.478zm-4.348 4.348a1.74 1.74 0 1 0 0-3.478 1.74 1.74 0 0 0 0 3.478zm4.348 0a1.74 1.74 0 1 0 0-3.478 1.74 1.74 0 0 0 0 3.478zm3.84-4.783a1.304 1.304 0 1 0 0-2.608 1.304 1.304 0 0 0 0 2.608zm0 4.348a1.304 1.304 0 1 0 0-2.608 1.304 1.304 0 0 0 0 2.608zm.001 3.742a1.205 1.205 0 1 0 0-2.41 1.205 1.205 0 0 0 0 2.41zM3.985 9.13a1.304 1.304 0 1 0 0-2.608 1.304 1.304 0 0 0 0 2.608zm0-3.94a1.205 1.205 0 1 0 0-2.41 1.205 1.205 0 0 0 0 2.41zm0 8.288a1.304 1.304 0 1 0 0-2.608 1.304 1.304 0 0 0 0 2.608zm0 3.742a1.205 1.205 0 1 0 0-2.41 1.205 1.205 0 0 0 0 2.41zm8.189.099a1.304 1.304 0 1 0 0-2.609 1.304 1.304 0 0 0 0 2.609zm-4.348 0a1.304 1.304 0 1 0 0-2.609 1.304 1.304 0 0 0 0 2.609zm4.348-12.03a1.304 1.304 0 1 0 0-2.609 1.304 1.304 0 0 0 0 2.609zm3.841-.099a1.205 1.205 0 1 0 0-2.41 1.205 1.205 0 0 0 0 2.41zm-8.189.099a1.304 1.304 0 1 0 0-2.609 1.304 1.304 0 0 0 0 2.609zM19.13 8.696a.87.87 0 1 0 0-1.74.87.87 0 0 0 0 1.74zm0 4.347a.87.87 0 1 0 0-1.739.87.87 0 0 0 0 1.74zM.87 8.696a.87.87 0 1 0 0-1.74.87.87 0 0 0 0 1.74zm6.956-6.957a.87.87 0 1 0 0-1.739.87.87 0 0 0 0 1.74zm4.348 0a.87.87 0 1 0 0-1.739.87.87 0 0 0 0 1.74zM7.826 20a.87.87 0 1 0 0-1.74.87.87 0 0 0 0 1.74zm4.348 0a.87.87 0 1 0 0-1.74.87.87 0 0 0 0 1.74zM.87 13.043a.87.87 0 1 0 0-1.739.87.87 0 0 0 0 1.74z', _))\n        // 图标集：图标|文库\n        + V_ui_symbol(_icoDocLib_,\n            V_ui_path('M17 0a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3h14zm.001 7h-14a2 2 0 0 0-2 2h6a3 3 0 0 0 6 0h6l-.005-.15A2 2 0 0 0 17 7zm0-3h-14a2 2 0 0 0-2 2h18l-.005-.15A2 2 0 0 0 17 4zm0-3h-14a2 2 0 0 0-2 2h18l-.005-.15A2 2 0 0 0 17 1z', _))\n        // 图标集：图标|文库-当前页面中打开链接\n        + V_ui_symbol(_icoDocLibSelf_,\n            V_ui_path('M12.5 19a.5.5 0 1 1 0 1h-5a.5.5 0 1 1 0-1h5zm3.014-19l.35.01A1.2 1.2 0 0 1 17 1.21v12.123a1.5 1.5 0 0 1-1.504 1.497h-.01a6.119 6.119 0 0 0-2.794.621 9.371 9.371 0 0 0-2.192 1.475v.047H18a1 1 0 0 0 1-1v-11a1 1 0 0 0-1-1v-1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2h-7.5V18H2a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5.5c.813 0 1.55.324 2.091.849L9.5 4c.582-1.023 1.61-2.127 3-3.05.967-.641 1.972-.955 3.014-.951zM7.5 4H2a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h7.5V6a2 2 0 0 0-2-2zm7.978-3c-.887 0-1.74.29-2.565.862-1.028.712-1.808 1.598-2.301 2.262l-.112.16v11.344l.098-.074c.407-.3.841-.575 1.302-.821l.351-.18a7.118 7.118 0 0 1 3.244-.723.5.5 0 0 0 .505-.497V1.21a.2.2 0 0 0-.19-.2L15.479 1zM8 13v1H3v-1h5zm0-3v1H3v-1h5zm0-3v1H3V7h5z', _))\n        // 图标集：图标|文库-新标签中打开同站链接\n        + V_ui_symbol(_icoDocLibBm_,\n            V_ui_path('M17 0a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3h14zm-7 14H2v1h8v-1zm6-2H2v1h14v-1zm-6-4H2v2h8V8zm7.4-6h-3.6a.6.6 0 0 0 0 1.2h2.15l-2.774 2.776a.6.6 0 0 0 .848.848L16.8 4.048V6.2a.6.6 0 1 0 1.199 0V2.572l-.002-.023V2.53a.598.598 0 0 0-.014-.075l-.004-.015a.6.6 0 0 0-.322-.383l-.013-.006-.014-.006-.012-.005a.595.595 0 0 0-.054-.018l-.013-.003a.6.6 0 0 0-.02-.006l-.017-.003-.05-.008h-.003l-.006-.001.006.001L17.4 2zM5 2H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z', _))\n        // 图标集：图标|文库-参考注释（脚注）汇总\n        + V_ui_symbol(_icoDocLibRef_,\n            V_ui_path('M7.5 17h5a.5.5 0 1 1 0 1h-5a.5.5 0 1 1 0-1zm0-17c1.044 0 1.964.534 2.501 1.343A2.989 2.989 0 0 1 12.5 0H18a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5zm0 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h7.5V3a2 2 0 0 0-2-2zM18 1h-5.5a2 2 0 0 0-2 2v12H18a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zm-2.25 5.356l-.001 4.728H17V12h-5v-.915l1.249-.001V6.965l-.624.001v-.61h3.125zM14.5 3c.69 0 1.25.546 1.25 1.22 0 .436-.238.84-.625 1.057a1.276 1.276 0 0 1-1.25 0 1.215 1.215 0 0 1-.625-1.057c0-.674.56-1.22 1.25-1.22z', _))\n        // 图标集：图标|文库-新标签中打开外部链接\n        + V_ui_symbol(_icoDocLibExt_,\n            V_ui_path('M20 10a9.95 9.95 0 0 0-.773-3.856v-.037h-.013A10.006 10.006 0 0 0 10.116.006L10.104 0l-.008.004C10.063.004 10.03 0 10 0 4.477 0 0 4.479 0 10c0 5.523 4.476 10 10 10 .031 0 .063-.004.094-.004a.07.07 0 0 1 .01.004l.012-.006C15.584 19.931 20 15.484 20 10zm-9.894 8.621c-.696-.577-1.945-2-2.517-5.037h5.028c-.573 3.045-1.821 4.466-2.511 5.037zM7.43 12.434a19.427 19.427 0 0 1 .061-5.176h5.223a19.214 19.214 0 0 1 .065 5.176H7.43zM1.15 10c0-.957.157-1.877.44-2.741h4.723a21.412 21.412 0 0 0-.177 2.81c0 .862.053 1.64.133 2.365h-4.77A8.778 8.778 0 0 1 1.15 10zm8.95-8.593c.661.589 1.803 1.982 2.41 4.7H7.69c.601-2.727 1.737-4.11 2.41-4.7zm3.796 5.852h4.514c.281.864.439 1.784.439 2.741 0 .846-.126 1.66-.349 2.434h-4.56c.08-.725.133-1.503.133-2.365 0-1.035-.066-1.968-.177-2.81zm4.04-1.152h-4.232c-.484-2.374-1.358-3.88-2.127-4.807a8.872 8.872 0 0 1 6.359 4.807zM8.66 1.263c-.774.923-1.667 2.438-2.157 4.844h-4.44a8.855 8.855 0 0 1 6.597-4.844zM1.914 13.584h4.517c.458 2.583 1.373 4.19 2.18 5.146a8.87 8.87 0 0 1-6.697-5.146zm9.716 5.109c.8-.96 1.696-2.562 2.147-5.109h4.307a8.874 8.874 0 0 1-6.454 5.109z', _))\n        // 图标集：图标|引用块折叠、details、summary 打开详情\n        + V_ui_symbol(_icoDetailsOpen_,\n            V_ui_path('M9 0a9 9 0 1 1 0 18A9 9 0 0 1 9 0zm1 3H8v5H3v2h5v5h2v-5h5V8h-5V3z', _))\n        // 图标集：图标|检查\n        + V_ui_symbol(_icoCheck_,\n            V_ui_path('M6.323.102a19.026 19.026 0 0 0 5.27 2.566c.242.074.407.3.406.556V5.31a10.05 10.05 0 0 1-1.444 5.306L9.05 9.134A3.8 3.8 0 0 0 5.98 3.1a3.79 3.79 0 0 0-2.684 1.115 3.794 3.794 0 0 0-.18 5.137 3.802 3.802 0 0 0 5.109.607l1.65 1.625c-.963 1.183-2.212 2.055-3.668 2.374a.58.58 0 0 1-.208.042.662.662 0 0 1-.203-.036c-3.541-.78-5.858-4.828-5.794-8.66V3.225c0-.256.164-.48.405-.555A19.024 19.024 0 0 0 5.674.102a.566.566 0 0 1 .65 0zM6.02 4.447c.66 0 1.279.257 1.747.72a2.469 2.469 0 0 1-1.747 4.217A2.468 2.468 0 0 1 3.547 6.91 2.457 2.457 0 0 1 6.02 4.447z', _))\n        // 图标集：图标|内容助手-插图浏览器中打开\n        + V_ui_symbol(_icoOpenInFigureNav_,\n            V_ui_path('M3 0h12a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm0 8.507a1 1 0 0 0-1 1V12.5A1.5 1.5 0 0 0 3.5 14H7a1 1 0 0 0 0-2H4V9.506a1 1 0 0 0-.883-.993L3 8.507zm12-.94a1 1 0 0 0 1-1V3.503a1.5 1.5 0 0 0-1.5-1.5h-3.48a1 1 0 0 0 0 2H14v2.562a1 1 0 0 0 .884.994l.116.006z'))\n        // 图标集：图标|内容助手-表格阅读模式（十字光标）\n        + V_ui_symbol(_icoTableX_,\n            V_ui_path('M15.6 0A2.4 2.4 0 0 1 18 2.4v11.2a2.4 2.4 0 0 1-2.4 2.4H2.4A2.4 2.4 0 0 1 0 13.6V2.4A2.4 2.4 0 0 1 2.4 0h13.2zM12 1H6v4.5A1.5 1.5 0 0 1 4.5 7H1v5h3.5A1.5 1.5 0 0 1 6 13.5V15h6v-1.5a1.5 1.5 0 0 1 1.5-1.5H17V7h-3.5A1.5 1.5 0 0 1 12 5.5V1zm-1.5 6A1.5 1.5 0 0 1 12 8.5v2a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 6 10.5v-2A1.5 1.5 0 0 1 7.5 7h3zm-.167 1H7.667A.667.667 0 0 0 7 8.667v1.666c0 .369.298.667.667.667h2.666a.667.667 0 0 0 .667-.667V8.667A.667.667 0 0 0 10.333 8z', _))\n        // 图标集：图标|内容助手-表格、代码的换行、不换行\n        + V_ui_symbol(_icoWrapUnwrap_,\n            V_ui_path('M12 0a2 2 0 0 1 2 2h5.5a.5.5 0 1 1 0 1H14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h10zM2.5 3a.5.5 0 0 1 0-1H13a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1H2.5zM17 5.1c.961.52 1.628.953 2 1.3.372.347.705.847 1 1.5l-2.001-.001L18 10.5a2.9 2.9 0 0 1-2.9 2.9h-.801l.001 2.1c-.673-.383-1.173-.75-1.5-1.1-.327-.35-.76-.984-1.3-1.9.52-.961.953-1.628 1.3-2 .347-.372.847-.705 1.5-1l-.001 2.1h.801a1.1 1.1 0 0 0 1.1-1.1l-.001-2.6H14c.383-.673.75-1.173 1.1-1.5.35-.327.984-.76 1.9-1.3zM8 7a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h6zm-2.5 6h-3a.5.5 0 1 0 0 1h3a.5.5 0 1 0 0-1zm2-2h-5a.5.5 0 1 0 0 1h5a.5.5 0 1 0 0-1zm0-2h-5a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1z', _))\n        // 图标集：图标|内容助手-画中画\n        + V_ui_symbol(_icoPicInPic_,\n            V_ui_path('M16 9a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h7zM1 8v5a1 1 0 0 0 1 1h3v1H2a2 2 0 0 1-2-2V8h1zm14-8a2 2 0 0 1 2 2v5h-1V2a1 1 0 0 0-.883-.993L15 1H8V0h7zM.471.508a.725.725 0 0 1 1.025 0l3.48 3.48V1.642c0-.365.295-.66.66-.661h.014a.689.689 0 0 1 .675.69L6.32 5.693a.662.662 0 0 1-.2.473.657.657 0 0 1-.466.193l-4.024.004a.689.689 0 0 1-.689-.675v-.013c0-.366.296-.662.661-.662h2.35L.47 1.534a.725.725 0 0 1 0-1.026z', _))\n        // 图标集：图标|画中画的放大模式\n        + V_ui_symbol(_icoZoomIn_,\n            V_ui_path('M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zm4 7.503l-.117.007a1 1 0 0 0-.883.993v2.492H8.4a1 1 0 0 0 0 2h3.1a1.5 1.5 0 0 0 1.5-1.5V8.504a1 1 0 0 0-1-1zM7.58 3H4.5A1.5 1.5 0 0 0 3 4.5v3.062a1 1 0 0 0 1 1l.117-.007A1 1 0 0 0 5 7.562V5h2.58a1 1 0 1 0 0-2z', _))\n        // 图标集：图标|内容助手-画中画的缩小模式\n        + V_ui_symbol(_icoZoomOut_,\n            V_ui_path('M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zm4.58 8H9.5A1.5 1.5 0 0 0 8 9.5v3.062a1 1 0 0 0 1 1l.117-.007a1 1 0 0 0 .883-.993V10h2.58a1 1 0 1 0 0-2zM7 2.503l-.117.007A1 1 0 0 0 6 3.503v2.492H3.4a1 1 0 1 0 0 2h3.1a1.5 1.5 0 0 0 1.5-1.5V3.504a1 1 0 0 0-1-1z\" fill-rule=\"evenodd', _))\n        // 图标集：图标|复制\n        + V_ui_symbol(_icoCopy_,\n            V_ui_path('M16 0a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-3a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2-2h8zm-5 3H2a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm-4.5 9a.5.5 0 1 1 0 1h-3a.5.5 0 1 1 0-1h3zm3-3a.5.5 0 1 1 0 1h-6a.5.5 0 1 1 0-1h6zm0-3a.5.5 0 1 1 0 1h-6a.5.5 0 1 1 0-1h6z', _))\n        // 图标集：图标|加载中\n        + V_ui_symbol(_icoLoading_,\n            tagRectX + '7' + widthHeightRx\n            + tagRectTransformRotate + '45 12.243 3.757)\" x=\"11.243\" y=\"1.757' + widthHeightRx\n            + tagRectTransformRotate + '90 14 8)\" x=\"13\" y=\"6' + widthHeightRx\n            + tagRectTransformRotate + '135 12.243 12.243)\" x=\"11.243\" y=\"10.243' + widthHeightRx\n            + tagRectTransformRotate + '180 8 14)\" x=\"7\" y=\"12' + widthHeightRx\n            + tagRectTransformRotate + '-135 3.757 12.243)\" x=\"2.757\" y=\"10.243' + widthHeightRx\n            + tagRectTransformRotate + '-90 2 8)\" x=\"1\" y=\"6' + widthHeightRx\n            + tagRectTransformRotate + '-45 3.757 3.757)\" x=\"2.757\" y=\"1.757' + widthHeightRx)\n        // 图标集：图标|播放\n        + V_ui_symbol(_icoPlay_,\n            V_ui_path('M14.133 9.605l-7.86 6.028c-.93.633-2.223.427-2.887-.459A1.909 1.909 0 0 1 3 14.028V1.972C3 .882 3.927 0 5.07 0c.432 0 .852.128 1.203.367l7.86 6.028c.93.633 1.146 1.865.481 2.751a2.024 2.024 0 0 1-.481.459z', _)\n            + V_ui_path('M0 0h16v16H0z', _none_))\n        // 图标集：图标|暂停\n        + V_ui_symbol(_icoPause_,\n            V_ui_path('M3 2h1a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm9 0h1a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z', _)\n            + V_ui_path('M0 0h16v16H0z', _none_))\n        // 图标集：图标|停止\n        + V_ui_symbol(_icoStop_,\n            tagRectX + '2\" y=\"2\" ' + _width_ + '=\"12\" ' + _height_ + '=\"12\" rx=\"2\"/>'\n            + V_ui_path('M0 0h16v16H0z', _none_))\n        // 图标集：图标|无法播放\n        + V_ui_symbol(_icoForbidden_,\n            V_ui_path('M3.11 4.523a6.001 6.001 0 0 0 8.368 8.367L3.11 4.523zM4.522 3.11l8.368 8.367A6 6 0 0 0 4.522 3.11zM8 16A8.001 8.001 0 1 1 8.002.002 8.001 8.001 0 0 1 8 16z', _)\n            + V_ui_path('M0 0h16v16H0z', _none_))\n        // 图标集：图标|复选框（未选择）\n        + V_ui_symbol(_icoChkbox__ + _no_,\n            V_ui_path('M10 0a4 4 0 0 1 4 4v6a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4h6zm-.5 2h-5c-.69 0-1.315.28-1.768.732A2.492 2.492 0 0 0 2 4.5v5c0 .69.28 1.315.732 1.768A2.492 2.492 0 0 0 4.5 12h5c.69 0 1.315-.28 1.768-.732A2.492 2.492 0 0 0 12 9.5v-5c0-.69-.28-1.315-.732-1.768A2.492 2.492 0 0 0 9.5 2z\" opacity=\".5', _))\n        // 图标集：图标|复选框（已选择）\n        + V_ui_symbol(_icoChkbox__ + _yes_,\n            V_ui_path('M10 0a4 4 0 0 1 4 4v6a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4h6zm.435 3.36a1 1 0 0 0-1.393.245L5.703 8.372 4.421 7.09a1 1 0 1 0-1.414 1.414l2.121 2.121a1 1 0 0 0 1.225.15l.01-.007.01-.005a.997.997 0 0 0 .292-.277l4.015-5.734a1 1 0 0 0-.245-1.393z', _))\n        // 图标集：图标|复选框（不确定选择）\n        + V_ui_symbol(_icoChkbox__ + _un_,\n            V_ui_path('M10 0a4 4 0 0 1 4 4v6a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4h6zm0 6H4a1 1 0 1 0 0 2h6a1 1 0 0 0 0-2z\" opacity=\".5', _))\n        // 图标集：图标|有新版本\n        + V_ui_symbol(_icoNewVersion_,\n            V_ui_path('M10 20C4.5 20 0 15.5 0 10S4.5 0 10 0s10 4.5 10 10-4.5 10-10 10zm.885-13.548l2.211 2.21a.856.856 0 0 0 1.239 0 .854.854 0 0 0 0-1.237L11.238 4.33c-.707-.707-1.769-.707-2.476 0L5.665 7.425a.854.854 0 0 0 0 1.237.856.856 0 0 0 1.239 0l2.211-2.21v8.664c0 .53.354.884.885.884.53 0 .885-.354.885-.884V6.452z', _))\n        // 图标集：图标|链接检查结果异常\n        + V_ui_symbol(_icoLinkError_,\n            V_ui_path('M19.59 14.956l-7.846-13.7c-.96-1.675-2.528-1.675-3.488 0L.41 14.956C-.55 16.632.235 18 2.153 18h15.695c1.917 0 2.701-1.368 1.743-3.044zM8.923 5.143c.282-.307.64-.46 1.078-.46.438 0 .796.151 1.078.454.28.304.42.683.42 1.14 0 .392-.585 3.28-.78 5.38h-1.41c-.171-2.1-.806-4.988-.806-5.38 0-.45.14-.828.42-1.134zm2.136 9.989c-.296.29-.65.436-1.058.436-.408 0-.761-.145-1.058-.436a1.424 1.424 0 0 1-.442-1.056c0-.411.147-.767.442-1.065.297-.298.65-.447 1.058-.447.409 0 .762.149 1.058.447.296.298.443.654.443 1.065 0 .413-.147.765-.443 1.056z', _))\n        // 图标集：GitHub Style Alert | Note\n        + V_ui_symbol(_icoAlertNote_,\n            V_ui_path('M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zm.25 7h-1a.75.75 0 0 0 0 1.5h.25v2h-.25a.75.75 0 1 0 0 1.5h2a.75.75 0 1 0 0-1.5H9V7.75A.75.75 0 0 0 8.25 7zM8 4a1 1 0 1 0 0 2 1 1 0 0 0 0-2z', _))\n        // 图标集：GitHub Style Alert | Tip\n        + V_ui_symbol(_icoAlertTip_,\n            V_ui_path('M5.5 0C8.637 0 11 2.31 11 5.25c0 1.516-.701 2.5-1.328 3.259l-.268.319c-.207.245-.383.453-.541.681-.208.3-.33.595-.37.877a.76.76 0 0 1-.773.616L3.2 11a.748.748 0 0 1-.692-.614c-.04-.282-.163-.577-.37-.877a8.456 8.456 0 0 0-.354-.46l-.456-.54-.237-.296C.537 7.496 0 6.577 0 5.25 0 2.31 2.363 0 5.5 0zM3.25 12h4.5a.75.75 0 1 1 0 1.5h-4.5a.75.75 0 1 1 0-1.5zm.25 3.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75z', _))\n        // 图标集：GitHub Style Alert | Important\n        + V_ui_symbol(_icoAlertImportant_,\n            V_ui_path('M14.25 0C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0 1 14.25 13H8.06l-2.573 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25v-9.5C0 .784.784 0 1.75 0h12.5zM8 9a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm0-7c-.552 0-1 .42-1 .938v4.124C7 7.58 7.448 8 8 8s1-.42 1-.938V2.938C9 2.42 8.552 2 8 2z', _))\n        // 图标集：GitHub Style Alert | Warning\n        + V_ui_symbol(_icoAlertWarning_,\n            V_ui_path('M9.576.933l6.213 11.471c.296.547.28 1.207-.043 1.739a1.792 1.792 0 0 1-1.533.857H1.787c-.628 0-1.21-.326-1.533-.857a1.744 1.744 0 0 1-.043-1.739L6.424.934c.673-1.245 2.479-1.245 3.152 0zM8 11a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm0-7c-.552 0-1 .42-1 .938v4.125C7 9.58 7.448 10 8 10s1-.42 1-.938V4.939C9 4.42 8.552 4 8 4z', _))\n        // 图标集：GitHub Style Alert | Caution\n        + V_ui_symbol(_icoAlertCaution_,\n            V_ui_path('M11 0c.199 0 .389.079.53.22l4.25 4.25c.141.14.22.331.22.53v6c0 .199-.08.39-.22.53l-4.25 4.25A.749.749 0 0 1 11 16H5a.749.749 0 0 1-.53-.22L.22 11.53A.749.749 0 0 1 0 11V5c0-.199.079-.389.22-.53L4.47.22C4.61.08 4.801 0 5 0h6zM8 11a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm0-7c-.552 0-1 .42-1 .938v4.125C7 9.58 7.448 10 8 10s1-.42 1-.938V4.939C9 4.42 8.552 4 8 4z', _))\n    + '</svg>';\n    return ui;\n}\n\n/**\n * 加载工具栏 UI 资源\n */\nfunction VLOOKui_toolbar() {\n    // ==================================================\n    // 页面工具栏\n    return V_ui_nav(_, _v_toolbar_ +___+ _v_focus_search_,\n            // 导航中心\n            V_ui_div(_, _v_btn_ +___+ _nav_center_, V_ui_svgIcon(_icoNavCenter_, 20, 18, _light_))\n            // 文库\n            + V_ui_div(_, _v_btn_ +___+ _doc_lib_, V_ui_svgIcon(_icoDocLib_, 20, 18, _light_))\n            + V_ui_div(_, _v_btn_group_ +___+ _prs_,\n                // 激光笔\n                V_ui_divExt(_, _v_btn_ +___+ _laser_pointer_, V_attr(_data_btn_group_, _prs_),\n                    V_ui_svgIcon(_icoLaserPointer_, 18, 20, _light_))\n                // 聚光灯\n                + V_ui_divExt(_, _v_btn_ +___+ _spotlight_, V_attr(_data_btn_group_, _prs_),\n                    V_ui_svgIcon(_icoSpotlight_, 18, 20, _light_))\n                // 段落漫游\n                + V_ui_divExt(_, _v_btn_ +___+ _paragraph_nav_, V_attr(_data_btn_group_, _prs_),\n                    V_ui_svgIcon(_icoParagraphNav_, 20, 18, _light_))\n            )\n            // 分隔符\n        );\n}\n\n/**\n * 加载导航中心 UI 资源\n */\nfunction VLOOKui_allNav() {\n    // ==================================================\n    // 逐章导航栏\n    let classSvgChpNav = \"v-svg-chp-nav\",\n        ui = V_ui_nav(_, _v_chapter_nav_ +___+ _v_focus_search_,\n            // 上一章\n            V_ui_div(_, _v_chapter_nav_ + __prev,\n                V_ui_svgIcon(_icoPrevChapter_, 10, 15, _light_, classSvgChpNav +___+ _left_)\n                + V_ui_div(_, _v_chapter_nav_ + __prev + __text_)\n            )\n            // 文档标题\n            + V_ui_div(_, _v_chapter_nav_ + __doc_title_)\n            // 当前章节\n            + V_ui_div(_, _v_chapter_nav_ + __current_)\n            // 下一章\n            + V_ui_div(_, _v_chapter_nav_ + __next_,\n                V_ui_div(_, _v_chapter_nav_ + __next_ + __text_, \"next\")\n                + V_ui_svgIcon(_icoPrevChapter_, 10, 15, _light_, classSvgChpNav +___+ _right_)\n            )\n        );\n\n    // --------------------------------------------------\n    // 导航中心\n    let classTocFilterResult = _v_index_filter_result_ +___;\n    ui += V_ui_divExt(_, _v_nav_center_ +___+ _v_float_card_, V_attr(_data_title_, V_lang_text6()) + '\"',\n        // --- 导航中心头部 ---\n        V_ui_div(_, _v_nav_center_ + __header_,\n            // 关键字搜索\n            V_ui_div(_, _v_search_by_keyword_)\n            // 分段控制器组件\n            + V_ui_nav(_, _v_segment_ + \" toc\"))\n            // 导航历史标题\n            // --- 导航中心内容区 ---\n            + V_ui_div(_, _v_nav_center_ + __body_,\n                V_ui_divExt(_, _v_toc_body_, V_attr(_data_toc_empty_, \"( \" + V_lang_text35() + V_lang_text66() + \" )\"))\n                + V_ui_nav(_, classTocFilterResult + _toc_)\n                + V_ui_nav(_, classTocFilterResult + _figure_)\n                + V_ui_nav(_, classTocFilterResult + _table_)\n                + V_ui_nav(_, classTocFilterResult + _codeblock_)\n                + V_ui_nav(_, classTocFilterResult + _formula_)\n                + V_ui_nav(_, classTocFilterResult + _media_)\n            )\n        + V_ui_div(_, _v_nav_center_ + __footer_)\n    );\n\n    // --------------------------------------------------\n    // 导航中心收起/展开引导把手\n    ui += V_ui_div(_, _v_nav_center_handle_);\n\n    // --------------------------------------------------\n    // 段落漫游遮罩\n    ui += V_ui_divExt(_v_pg_nav_mask_border_, _, V_attr(_data_title_, V_lang_text(34, [\"暂停\", _Pause_])), _);\n\n    return ui;\n }\n\n /**\n * 加载文档导航/文档浏览历史 UI 资源\n */\nfunction VLOOKui_documentNavHistory() {\n    return V_ui_nav(_, _v_nav_history_ +___+ _v_float_card2_,\n        V_ui_div(_, _v_resume_reading_,\n            V_lang_text78() + V_ui_svgIcon(_icoTocFolded_, 16, 16, _dark_))\n        + V_ui_div(_, _v_view_history_ +___+ _v_transition_all_, V_ui_svgIcon(_icoNavHistory_, 20, 19, _dark_))\n    );\n}\n\n/**\n * 加载共用的 UI 资源\n */\nfunction VLOOKui_common() {\n    // --------------------------------------------------\n    // 聚光灯\n    let ui = V_ui_div(_, _v_spotlight_, V_ui_div(_, _));\n\n    // --------------------------------------------------\n    // 字体风格选择器\n    let previewPath = _vlookPagesHost_CloudFlare_ + \"/pic/\";\n    ui += V_ui_aside(_, _v_font_style_, V_attr(_data_title_, V_lang_text41()),\n            V_ui_div(_, _v_font_style_restore_, \"↺ \" + V_lang_text(85, [\"恢复字体样式\", \"Restore \" + _font_ + \" \" + _style_]))\n            + V_ui_span(_v_font_style_opt_, _,\n                V_ui_img(_v_font_style_opt_local_, \"默认 Default\", previewPath + \"fs-local.png\", previewPath + \"fs-local@2x.png 2x\", _lazy_)\n                + V_ui_div(_, _v_font_info__ + _local_ +___+ _done_,\n                    V_ui_span(_, _, \"✅ \" + _Ready_)\n                )\n            )\n            + V_ui_span(_v_font_style_opt_, _,\n                V_ui_img(_v_font_style_opt_book_, \"书香里 Book\", previewPath + \"fs-book.png\", previewPath + \"fs-book@2x.png 2x\", _lazy_)\n                + V_ui_div(_, _v_font_info__ + _book_ +___+ _done_,\n                    V_ui_span(_, _, \"✅ \" + _Ready_)\n                )\n            )\n            + V_ui_span(_v_font_style_opt_, _,\n                V_ui_img(_v_font_style_opt_albb_, \"活力派 Vibrant\", previewPath + \"fs-albb.png\", previewPath + \"fs-albb@2x.png 2x\", _lazy_)\n                + V_ui_div(_, _v_font_info__ + _albb_,\n                    V_ui_span(_, _, _notLoaded_)\n                )\n            )\n            + V_ui_span(_v_font_style_opt_, _,\n                V_ui_img(_v_font_style_opt_gov_, \"公文风 Gov\", previewPath + \"fs-gov.png\", previewPath + \"fs-gov@2x.png 2x\", _lazy_)\n                + V_ui_div(_, _v_font_info__ + _gov_ +___+ _done_,\n                    V_ui_span(_, _, \"✅ \" + _Ready_)\n                )\n            )\n            + V_ui_span(_v_font_style_opt_, _,\n                V_ui_img(_v_font_style_opt_serif_, \"文艺范 Artsy\", previewPath + \"fs-serif.png\", previewPath + \"fs-serif@2x.png 2x\", _lazy_)\n                + V_ui_div(_, _v_font_info__ + _serif_,\n                    V_ui_span(_, _, _notLoaded_)\n                )\n            )\n            + V_ui_span(_v_font_style_opt_, _,\n                V_ui_img(_v_font_style_opt_sans_, \"小清新 Fresh\", previewPath + \"fs-sans.png\", previewPath + \"fs-sans@2x.png 2x\", _lazy_)\n                + V_ui_div(_, _v_font_info__ + _sans_,\n                    V_ui_span(_, _, _notLoaded_)\n                )\n            )\n            + V_ui_div(_, _v_font_style_download_, _)\n        );\n\n    // --------------------------------------------------\n    // 正文区左下角的字体加载进度\n    ui += V_ui_div(_, _v_font_style_current_ +___+ _v_float_card2_, V_lang_text41());\n\n    // --------------------------------------------------\n    // 插图导航面板\n    ui += V_ui_aside(_, _v_fig_nav_ +___+ _v_backdrop_blurs_, _,\n            V_ui_div(_, _v_fig_content_)\n            + V_ui_div(_, _v_fig_nav_ + __title_)\n            + V_ui_div(_, _v_fig_nav_ + \"-btns prev\", V_ui_svgIcon(_icoPrevFig_, 12, 54, _light_))\n            + V_ui_div(_, _v_fig_nav_ + \"-btns next\", V_ui_svgIcon(_icoPrevFig_, 12, 54, _light_))\n            + V_ui_div(_, _v_btn_ + \"-close-figure-nav\", V_ui_svgIcon(_icoClose_, 16, 16, _light_))\n        );\n\n    // --------------------------------------------------\n    // 脚注弹层\n    ui += V_ui_aside(_, _v_fontnote_pn_, V_attr(_data_title_, V_lang_text(84, [\"脚注\", \"Footnote\"])),\n            V_ui_div(_, _v_fontnote_pn_ + __header_)\n            + V_ui_div(_, _v_fontnote_pn_content_)\n            + V_ui_div(_, _v_fontnote_pn_ + __footer_, V_ui_a(_, _, V_lang_text22() + \" ❯❯\"))\n            + V_ui_a(_vk_footer_area_, _, V_lang_text22())\n        );\n\n    // --------------------------------------------------\n    // 复制内容的按钮\n    let classBtnAssistor = _v_btn_ +___+ _assistor_ +___;\n    ui += V_ui_div(_, _v_content_assistor_ +___+ _v_float_card_,\n            V_ui_div(_, classBtnAssistor + _copy_, V_ui_svgIcon(_icoCopy_, 16, 16, _light_))\n            + V_ui_div(_, classBtnAssistor + _open_in_figure_nav_, V_ui_svgIcon(_icoOpenInFigureNav_, 18, 16, _light_))\n            + V_ui_div(_, classBtnAssistor + _table_cross_, V_ui_svgIcon(_icoTableX_, 18, 16, _light_))\n            + V_ui_div(_, classBtnAssistor + _wrap_, V_ui_svgIcon(_icoWrapUnwrap_, 20, 16, _light_))\n            + V_ui_div(_, classBtnAssistor + _pic_in_pic_, V_ui_svgIcon(_icoPicInPic_, 18, 16, _light_))\n        );\n\n    // --------------------------------------------------\n    // 画中画容器\n    let classPinBtn = _v_pip_btn_ +___+ _zoom_out_ +___+ _v_float_card_ +___;\n    ui += V_ui_aside(_, _v_pic_in_pic_, _,\n            V_ui_div(_, classPinBtn + _zoom_, V_ui_svgIcon(_icoZoomIn_, 16, 16, _theme_))\n            + V_ui_div(_, classPinBtn + _close_, V_ui_svgIcon(_icoResetInput_, 16, 16, _theme_))\n            + V_ui_div(_, _v_content_)\n        );\n\n    // --------------------------------------------------\n    // 提示信息\n    ui += V_ui_div(_, _v_tool_tips_)\n        + V_ui_div(_, _v_info_tips_ +___+ _v_float_card_);\n\n    // --------------------------------------------------\n    // 文档更多内容遮罩栏\n    ui += V_ui_div(_, _v_more_doc_content_ + _before_)\n        + V_ui_div(_, _v_more_doc_content_ + _after_);\n\n    // --------------------------------------------------\n    // 表格阅读模式（十字光标）\n    let classTableCross = _v_tbl_x_.xD() +___;\n    ui += V_ui_div(_, classTableCross + _left_ + \"-up\", _nbsp_)\n        + V_ui_div(_, classTableCross + _right_ + \"-up\", _nbsp_)\n        + V_ui_div(_, classTableCross + _left_ + \"-down\", _nbsp_)\n        + V_ui_div(_, classTableCross + _right_ + \"-down\", _nbsp_);\n\n    // --------------------------------------------------\n    // 页面坏链检查结果及错误列表\n    ui += V_ui_aside(_, _v_link_info_list_ +___+ _v_float_card_, _,\n            V_ui_div(_, _v_link_info_list_ + __header_)\n            + V_ui_div(_, _v_link_info_list_ + __body_,\n                V_ui_nav(_, _v_link_info_list_ + __items_))\n            + V_ui_div(_, _v_link_info_list_ + __footer_)\n        )\n\n    // --------------------------------------------------\n    // 适配宽度\n    // 对应的样式要与 v-nav-center-handle 及 hover 保持一致\n    ui += V_ui_div(_, _v_fit_width_, V_ui_svgIcon(_icoMaskCloser_, 16, 60, _alpha_));\n\n    // --------------------------------------------------\n    // 状态栏\n    ui += V_ui_nav(_, _v_status_bar_ +___+ _v_float_card_ + \"2 \" + _v_focus_search_,\n            V_ui_div(_, _v_status_bar_ + __handle_, V_ui_svgIcon(_icoTocFolded_, 16, 16, _dark_))\n            + V_ui_div(_, _v_doc_info_, \"- - / - -\")\n            + V_ui_div(_, _v_prs_info_, _)\n            + V_ui_div(_, _v_new_version_, V_ui_svgIcon(_icoNewVersion_, 20, 20, _dark_))\n            + V_ui_div(_, _v_link_chk_result_, V_ui_svgIcon(_icoLinkError_, 20, 18, _dark_))\n            + V_ui_div(_, _v_link_map_, V_ui_svgIcon(_icoLinkMap_, 20, 20, _dark_))\n            + V_ui_div(_, _v_sts_font_style_, V_ui_svgIcon(_icoFontStyle_, 18, 18, _dark_))\n            + V_ui_div(_, _v_sts_gray_, V_ui_svgIcon(_icoGray_, 20, 20, _dark_) + _nbsp_ + V_lang_text48())\n            + V_ui_div(_, _v_color_scheme_, V_ui_svgIcon(_icoDarkMode_, 20, 20, _dark_))\n        );\n\n    // --------------------------------------------------\n    //统计数据上报中转页面\n    ui += V_ui_iframe(_, _vlook_stat_github_);\n    // 针对 debug 模式时不上报到这个渠道\n    if (!V_devMode)\n        ui += V_ui_iframe(_, _vlook_stat_cloudflare_);\n\n    // --------------------------------------------------\n    // 检查新版本\n    ui += V_ui_iframe(_vlook_chk_update_cloudflare_, _);\n    ui += V_ui_iframe(_vlook_chk_update_github_, _);\n\n    // --------------------------------------------------\n    // 文库显示区\n    ui += V_ui_aside(_, _v_doc_lib_ +___+ _v_float_card_, V_attr(_data_title_, V_lang_text7()),\n        V_ui_iframe(_, _vlook_doc_lib_, _lazy_)\n    );\n    return ui;\n}\n\n// ==================== 加载与初始化 VLOOK ==================== //\n\n// 对插图（img）、内嵌流媒体平台（iframe）等内容，启用「懒加载」特性\nfunction V_lazyLoading() {\n    // 先调整 src 属性以避免立即加载\n    $(_img_ + \",\" + gSelector_iframeVideo).e((index, element) => {\n        let _t = $(element),\n            src = _t.a(_src_),\n            srcset = _t.a(_srcset_),\n            ext = V_util_getExtension(src);\n        // 只处理插图、非多媒体\n        if (V_length(ext) > 1 && (_mp3_ + _m4a_ + _ogg_ + _wav_ + _mp4_ + _ogv_ + _webm_).i(ext) === -1) {\n            _t.a(_loading_, _lazy_);\n            _t.a(_data_src_, _t.a(_src_));\n            if (srcset !== gUndefined)\n                _t.a(_data_srcset_, _t.a(_srcset_));\n            JQ_removeAttr(_t, _src_);\n            JQ_removeAttr(_t, _srcset_);\n        }\n    });\n\n    // 绑定「懒加载」处理\n    $(V_attrCSS(_loading_) + V_attrCSS(_data_src_)).e((index, element) => {\n        gResObserver.observe(element);\n    });\n}\n\n// 处理观察目标元素与视口（viewport）交集的变化情况，如果浏览到该对象时才进行加载\nlet gResObserver = new IntersectionObserver((entries, observer) => {\n    entries.forEach(entry => {\n        if (entry.isIntersecting) {\n            let _t = $(entry.target);\n            // 对 src 属性的处理\n            _t.a(_src_, _t.a(_data_src_)); // 替换为真实的 URL\n            JQ_removeAttr(_t, _data_src_); // 移除自定义属性\n            // 对 srcset 属性的处理\n            if (_t.a(_srcset_)) {\n                _t.a(_srcset_, _t.a(_data_srcset_)); // 替换为真实的 URL\n                JQ_removeAttr(_t, _data_srcset_); // 移除自定义属性\n            }\n            // 停止观察\n            observer.unobserve(_t[0]);\n\n            // 针对图片标签的处理\n            if (V_util_getTagName(_t) === _img_) {\n                // 图片加载结果的处理\n                V_util_bindLoadChecker(_t);\n                // 对图片剪影的处理\n                V_lazyLoading_imageFilling(_t, _t.a(_src_), V_util_getUrlQueryParams(JS_encodeURI(_t.a(_src_))));\n            }\n        }\n    });\n});\n\n/**\n * 懒加载中对图片剪影的处理\n * @param fig img 对象\n * @param src img 对象的 src 值\n * @param params — img 对象 src 值的 URL 参数数组\n */\nfunction V_lazyLoading_imageFilling(fig, src, params) {\n    let fill = params[_fill_];\n    if (fill === gUndefined)// && tagName !== _kbd_ && tagName !== \"a\")\n        return;\n\n    fig.a(_data_img_fill_, fill);\n\n    // 注意：为适配浏览器安全策略！！！\n    // 由于不同浏览器的安全策略不同，所以针对不同浏览器的图片剪影处理进行微调\n    // 若 SVG 文件与当前 HTML 文件不在同一域名下，浏览顺会存跨域权限问题无法完成处理\n    // 非 Firefox / Safari 以本地打开方式下无法进行处理\n    let httpMode = WINDOW_getHref().sW(_http_),\n        canImageFill = (httpMode || env.browser.Firefox || env.browser.Safari),\n        hostname = gLocation.hostname,\n        imgHost = V_util_getMetaByName(_vlook__ + _image_ + \"-host\");\n\n    if (imgHost !== gUndefined && !imgHost.eW(\"/\"))\n        imgHost += \"/\";\n\n    // 针对非 SVG 图片\n    if (src.i(_suffixSvg_, 1) === -1) {\n        fig.on(_load_, () => {\n            JQ_addClass(fig, _enabled_);\n        });\n    }\n    // 针对 SVG 图片，同时当前 HTML 的打开方式可进行图片「图片剪影」的适配处理\n    else if (canImageFill === gTrue) {\n        // 获得图片路径的域名\n        let src2ImageFill = src,\n            matchRes = src2ImageFill.m(/^https?:\\/\\/([^\\/?#]+)(?:[\\/?#]|$)/i),\n            srcHost = matchRes && matchRes[1],\n            container = fig.p(),\n            hash = V_util_getUrlHash(src);\n\n        // 对于相对路径，或与当前 HTML 域名一致\n        if (srcHost === gNull || hostname === srcHost) {\n            // 针对 Safari 且指定了默认图床域名\n            // 进行图片剪影处理前，先调整原始 <img> 的 src\n            let needImgHost = (env.browser.Safari && !httpMode && imgHost !== gUndefined);\n            if (needImgHost) {\n                src2ImageFill = imgHost + src2ImageFill;\n                fig.a(_src_, src2ImageFill);\n            }\n\n            // 进行 svg 图片剪影处理，png 图片通过 css 样式实现\n            __disposeSvgImageFilling(fig, container, params, hash, src2ImageFill);\n\n            // 恢复原始 <img> 的 src\n            if (needImgHost)\n                fig.a(_src_, src);\n        }\n    }\n\n    /**\n     * 对 svg 图片剪影的适配处理\n     * @param img img 对象\n     * @param container img 对象的父级元素\n     * @param params img 对象 src 值的 URL 参数数组\n     * @param hash img 对象 hash 值\n     * @param src img 对象的 src 值\n     */\n    function __disposeSvgImageFilling(img, container, params, hash, src) {\n        // 图片为 SVG 格式时，将源文件通过 SVGInject 注入到 HTML 文档中\n        if (src.i(_suffixSvg_, 1) > -1) {\n            SVGInject(img[0], {\n                // 注入成功\n                afterInject : function (img, svg) {\n                    let svgObj = $(svg);\n                    // 属于插图的，则绑定内容助手\n                    if (!V_isNotFigure(hash, container))\n                        ContentAssistor_bind(svgObj, _fig_ + _suffixSvg_);\n                    // 对颜色进行替换的适配处理\n                    ExtFigure_fillSVG(svgObj.a(_data_img_fill_), svgObj);\n                },\n                // 注入失败\n                onFail : function (img, svg) {\n                    ERROR(\"SVGInject ERROR:\", $(img).a(_src_));\n                }\n            });\n        }\n    }\n}\n\n/**\n * 文档加载完成后执行主流程\n */\n$(() => { // 等价于 $(document).ready()\n\n    // 读取动画持续时长配置\n    gTransDuration = JS_parseInt(V_util_getVarVal(\"--v-trans-dur\"));\n\n    // ----------------------------------------\n    // 懒加载处理\n    V_lazyLoading();\n\n    // ----------------------------------------\n    // 初始化启动参数\n    V_query_init();\n\n    // 重置所有保存在缓存的 vlook 相关数据\n    if (V_util_getParamVal(_reset_) === _true_) {\n        WARN(\"!!! RESET VLOOK DATA !!!\");\n        V_data_remove(_new_version_check_time_, gTrue);\n        V_data_remove(_last_position_);\n        V_data_remove(_color_scheme_, gTrue);\n        V_data_remove(_font_style_, gTrue);\n    }\n\n    // 判断文档类型\n    if (V_util_getParamVal(\"v\" + _type_) === _mini_) {\n        V_pageMode = _mini_;\n    }\n\n    // ----------------------------------------\n    // 初始化语言\n    V_lang_init();\n\n    // ----------------------------------------\n    INFO(\"- Ready\");\n    gTimes = iStopwatch.ed(_4space_);\n    // 打印环境信息\n    env.info();\n\n    iStopwatch.st();\n    INFO(\"=== Load VLOOK™ ===\");\n\n    // 先隐藏文档原始内容，减少页面重绘\n    VOM_doc().hide();\n\n    // ----------------------------------------\n    // 加载生成 VLOOK 界面\n    loadVLOOKui();\n\n    // ----------------------------------------\n    // 灰色模式 Gray Mode\n    GrayMode_init();\n\n    // ----------------------------------------\n    // 动效初始化\n    iStopwatch.st(\"* Effect\");\n    let effect = V_util_getParamVal(_effect_);\n    V_ui_effect = (effect === gNull) ? 2 : JS_parseInt(effect);\n    V_ui_effect = V_util_isMobile() ? 0 : V_ui_effect;\n    LOG(\"    └ Level [ \" + V_ui_effect + \" ]\");\n    V_ui_initEffectLevel();\n    iStopwatch.ed(_cost_);\n\n    // 先隐藏文档原始内容，减少页面重绘\n    VOM_doc().hide();\n\n    // ----------------------------------------\n    // 初始化欢迎页\n    iStopwatch.st(\"* Welcome Page Init\");\n    let wsMode = V_util_getParamVal(\"ws\");\n    wsMode = (wsMode === gNull) ? _auto_ : wsMode;\n    LOG(\"    └ mode: \" + wsMode);\n    WelcomePage_init(wsMode);\n\n    // 文档不符合 VLOOK 规范则不加载 VLOOK 插件\n    if (!V_checkSpec()) {\n        V_byClass(_v_welcome_page_).hide();\n        V_byClass(_v_toolbar_).hide();\n        V_byClass(_v_btn_).hide();\n        return;\n    }\n    iStopwatch.ed(_cost_);\n\n    // ----------------------------------------\n    // 初始化关键组件实例\n    iStopwatch.st(\"* Intance\");\n    V_init();\n    iStopwatch.ed(_cost_);\n\n    // ----------------------------------------\n    // 获取当前文档的 style 对象\n    gStyle = gDocument.styleSheets[0];\n\n    // ----------------------------------------\n    // 延后加载 VLOOK 插件，避免欢迎页的 UI 刷新阻塞\n    // 独立线程进行处理\n    setTimeout(loadVLOOKplugin, 100);\n});\n\n/**\n * 字体加载完成后执行的主流程\n */\ngDocument.fonts.ready.then(() => {\n    // 字体加载完成后的逻辑\n    LOG(\"!!! ALL FONT READY !!!\");\n});\n\n/**\n * 加载 VLOOK UI 资源\n */\nfunction loadVLOOKui() {\n    V_byClass(\"v-vlook-inside\").af(\n        VLOOKui_welcomePage()\n        + VLOOKui_cc()\n        + VLOOKui_checkHash()\n        + VLOOKui_iconSet()\n        + VLOOKui_toolbar()\n        + VLOOKui_allNav()\n        + VLOOKui_documentNavHistory()\n        + VLOOKui_common());\n}\n\n/**\n * 加载 VLOOK 插件\n */\nfunction loadVLOOKplugin() {\n    // ----------------------------------------\n    // 推荐的浏览器类型检测\n    iStopwatch.st(\"* Browser Check\");\n    if (!env.browser.Chrome && !env.browser.Edge && !env.browser.Firefox && !env.browser.Safari && !env.core.webkit) {\n        ALERT(V_lang_text(79, [\n            \"为获得最佳兼容性，建议使用 Chrome/Firefox/Edge 浏览器\",\n            \"For best compatibility, it is recommended to use Chrome/Firefox/Edge browser\"\n        ]));\n    }\n\n    iStopwatch.ed(_4space_);\n\n    // ========================================\n    // 初始化 VLOOK 核心模块\n    V_initKernel();\n\n    // ----------------------------------------\n    // 修改主题默认的圆角风格\n    let newRadius = V_util_getParamVal(_radius_);\n    if (newRadius === \"small\" || newRadius === \"big\") {\n        // 批量修改圆角相关的 CSS 变量为指定的新值\n        V_util_changeCssVarSet([\n            _v_r_b_,\n            _v_r_s_,\n            _v_r_t_,\n            _v_r_tag_,\n            _v_r_c_\n        ], newRadius);\n    }\n    else if (newRadius === _none_) {\n        // 批量修改圆角相关的 CSS 变量为 0\n        V_util_changeCssVarSet([\n            _v_r_b_,\n            _v_r_s_,\n            _v_r_t_,\n            _v_r_tag_,\n            _v_r_c_\n        ]);\n    }\n\n    // ----------------------------------------\n    // 统一同组的分栏引用块的高度\n    __fork(\"Quote Unite Columns Height\", () => {\n        ExtQuote_uniteColumnsHeight();\n    }, 2000);\n\n    // ----------------------------------------\n    // 段落漫游初始化\n    __fork(\"Paragraph Roaming\", () => {\n        ParagraphNav_init();\n    }, 1000);\n\n    // ----------------------------------------\n    // 完成初始化后恢复显示\n    iStopwatch.st(\"* Write Ready\");\n    JQ_addClass(VOM_doc(), \"v-load-\" + _done_ +___+ _v_focus_search_ +___+ V_pageMode);\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 初始化外部链接\n    // __fork(\"External Link\", () => {\n        V_doc_link_adjustExternal();\n    // }, 100);\n\n    // ----------------------------------------\n    // 初始化全局热键\n    __fork(\"Hotkey\", () => {\n        V_ui_initHotkey();\n    }, 3000);\n\n    // ----------------------------------------\n    // 初始化须在页面 body 显示后才能执行的部分\n    // __fork(\"Restyle\", () => {\n        V_initRestyle();\n    // }, 200);\n\n    // ----------------------------------------\n    // 初始化，并安装自动适配器，实时跟随系统 Color Scheme 的变化\n    // 如没有指定仅支持 Light Mode 时才进行自动适配 Dark Mode 的处理\n    if (!gOnlyLightMode) {\n        ColorScheme_init();\n        INFO(\"    System [ \" + ColorScheme_systemScheme + \" ]\");\n        ColorScheme_scheme = V_util_getVarVal(___v_color_scheme_).x();\n        // 通过调校参数指定了颜色方案\n        let colorScheme = V_util_getParamVal(\"cs\");\n        if (colorScheme === _light_ || colorScheme === _dark_) {\n            INFO(\"    Force use [ \" + colorScheme + \" ]\");\n            ColorScheme_scheme = colorScheme;\n            StsColorScheme_updateIcons();\n            ColorScheme_refresh(gTrue);\n        }\n        // 若没有通过调校参数指定\n        else {\n            if (colorScheme === gNull)\n                colorScheme = V_data_read(_color_scheme_, gTrue);\n            // 通过同域配置指定\n            if (colorScheme !== gNull && (colorScheme === _light_ || colorScheme === _dark_)) {\n                INFO(\"    From config [ \" + colorScheme + \" ]\");\n                ColorScheme_scheme = colorScheme;\n                StsColorScheme_updateIcons();\n                ColorScheme_refresh();\n            }\n            // 针对 auto 模式，自动适配\n            else {\n                INFO(\"    Auto use [ \" + colorScheme + \" ]\");\n                StsColorScheme_updateIcons();\n                ColorScheme_refresh();\n            }\n        }\n    }\n\n    // ----------------------------------------\n    // 初始化内容助手\n    // 须隐藏文档原始内容前执行，避免部分样式失效\n    __fork(\"Content Assistor\", () => {\n        ContentAssistor_init();\n        PicInPic_init();\n\n        // 设置表格阅读模式的开关状态（不指定则默认关闭）\n        if (V_util_getParamVal(\"tr\") === _on_)\n            TableCross_toggle();\n    }, 1000);\n\n    // ----------------------------------------\n    // 针对 URL 带锚点的处理\n    __fork(\"Redirect to Hash\", () => {\n        let redirect = V_util_redirectTo();\n        if (VOM_cover() === gUndefined && !redirect) {\n            iNavCenter.toc.currentHeaderIndex = 0;\n            V_ui_adjustAll();\n            ExtQuote_uniteColumnsHeight();\n        }\n    }, 2000);\n\n    // ----------------------------------------\n    // 字数统计\n    __fork(\"Words \" + _count_, () => {\n        DocInfo_countWord();\n    }, 500);\n\n    // ----------------------------------------\n    // 检查新版本\n    if (!V_util_isMobile()) {\n        __fork(\"Checking \" + _for_ +___+ _update_, () => {\n            NewVersion_check();\n        }, 10000);\n    }\n\n    // ----------------------------------------\n    // 更新欢迎页\n    iStopwatch.st();\n    INFO(\"* Welcome Page Done (\" + WelcomePage_mode + \")\");\n    WelcomePage_done();\n    iStopwatch.ed(_cost_);\n\n    // ----------------------------------------\n    // 显示 VLOOK 加载完成后的信息\n    gTotalTimes = iStopwatch.stop();// - 200;\n    INFO(\"=== !!! MAIN PROCESS DONE !!! ===\");\n    INFO(\"TOTAL COST   ⏱ \" + gTotalTimes + \" ms\");\n    INFO(\"    ├ HTML   ⏱ \" + gTimes + \" ms\");\n    INFO(\"    └ VLOOK™  ⏱ \" + (gTotalTimes - gTimes) + \" ms\");\n\n    // ----------------------------------------\n    if (V_pageMode === _max_ && gThmVer !== gVer) {\n        ALERT([\n            \"⚠️ 注意 ⚠️\\n\\n本文档使用的 VLOOK™ 主题与插件版本不匹配，会影响实际使用，请将更新至匹配的版本！！！\"\n                + `\\n\\n当前主题 [ ${gThmName} ]\\n`\n                + `主题版本 [ ${gThmVer} ]\\n\\n`\n                + `插件版本 [ ${gVer} ]`,\n            \"⚠️ WARNING ⚠️\\n\\nThe VLOOK™ theme and plugin version used in this \" + _document_ + \" do not match, which may affect actual use. Please update to the matching version !!!\"\n                + `\\n\\nCurrent Theme [ ${gThmName} ]\\n`\n                + `Theme Version [ ${gThmVer} ]\\n\\n`\n                + `Plugin Version [ ${gVer} ]`\n        ][V_lang]);\n    }\n\n    // ----------------------------------------\n    // 提交统计数据\n    // __fork(\"Push Stat\", function () {\n        if (V_pageMode === _max_) // 非文库方式显示时才上报\n            V_report_submit(gTotalTimes - gTimes);\n    // }, 350);\n\n    // ----------------------------------------\n    // 适应宽度\n    FitWidth_init();\n\n    // 更新文档更多内容遮罩栏 UI\n    MoreDocContent_updateUI(VOM_doc());\n\n    // ----------------------------------------\n    // 继续上次的阅读\n    ResumeReading_init();\n    ResumeReading_dispose(gFalse);\n\n    /**\n     * 创建独立线程执行\n     * @param msg 线程信息\n     * @param func 线程执行的回调函数\n     * @param delay 0 - 立即时间，>0 - 延时执行（毫秒）\n     */\n    function __fork(msg, func, delay) {\n        setTimeout(() => {\n            let sw = new Stopwatch();\n            sw.st(\"* thread * [\" + msg + \"]\");\n            typeof(func) === _function_ && func();\n            sw.ed(_4space_);\n        }, delay);\n    }\n}\n"],"mappings":"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C,EACAA,EAAWN,EACXM,EAAWJ,GACXI,EAAWL,EACXK,EAAW6C,GACX5C,EACAA,EAASP,EACTO,EAASL,GACTK,EAASN,EACTM,EAAS4C,GACT3C,EACAA,EAAUR,EACVQ,EAAUN,GACVM,EAAUP,EACVO,EAAU2C,GACV1C,EACAA,EAAYT,EACZS,EAAYP,GACZO,EAAYR,EACZQ,EAAY0C,GACZzC,EACAA,EAAWV,EACXU,EAAWR,GACXQ,EAAWT,EACXS,EAAWyC,GACXxC,EACAA,EAASX,EACTW,EAAST,GACTS,EAASV,EACTU,EAASwC,GACTvC,EACAA,EAASZ,EACTY,EAASV,GACTU,EAASX,EACTW,EAASuC,GACTtC,EACAA,EAASb,EACTa,EAASX,GACTW,EAASZ,EACTY,EAASsC,GACTrC,EACAA,EAASd,EACTc,EAASZ,GACTY,EAASb,EACTa,EAASqC,GACTpC,EACAA,EAAQf,EACRe,EAAQb,GACRa,EAAQd,EACRc,EAAQoC,GACRnC,EACAA,EAAahB,EACbgB,EAAad,GACbc,EAAaf,EACbe,EAAamC,GACblC,EACAA,EAASjB,EACTiB,EAASf,GACTe,EAAShB,EACTgB,EAASkC,GACTjC,EACAA,EAAWlB,EACXkB,EAAWhB,GACXgB,EAAWjB,EACXiB,EAAWiC,GACXhC,EACAA,EAASnB,EACTmB,EAASjB,GACTiB,EAASlB,EACTkB,EAASgC,GACT/B,EACAA,EAASpB,EACToB,EAASlB,GACTkB,EAASnB,EACTmB,EAAS+B,GACT9B,EACAA,EAASrB,EACTqB,EAASnB,GACTmB,EAASpB,EACToB,EAAS8B,GACT7B,EACAA,EAAUtB,EACVsB,EAAUpB,GACVoB,EAAUrB,EACVqB,EAAU6B,GACV5B,EACAA,EAASvB,EACTuB,EAASrB,GACTqB,EAAStB,EACTsB,EAAS4B,GACT3B,EACAA,EAAUxB,EACVwB,EAAUtB,GACVsB,EAAUvB,EACVuB,EAAU2B,GACV1B,EACAA,EAAUzB,EACVyB,EAAUvB,GACVuB,EAAUxB,EACVwB,EAAU0B,GACVzB,EACAA,EAAW1B,EACX0B,EAAW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","ignoreList":[]}