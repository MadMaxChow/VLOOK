{"version":3,"names":["LOG","c","log","apply","arguments","INFO","info","WARN","warn","ERROR","error","DEBUG","V_debugMode","ALERT","m","alert","WINDOW_getHref","gLocation","href","WINDOW_setHref","value","WINDOW_getHash","hash","JQ_addClass","target","className","gUndefined","addClass","JQ_removeClass","removeClass","JQ_removeAttr","attrName","removeAttr","JQ_exchangeClass","oldClassName","newClassName","JS_toString","gNull","toString","JS_parseInt","parseInt","JS_parseFloat","parseFloat","JS_mathRound","Math","round","JS_mathCeil","ceil","JS_decodeURIComponent","uri","result","V_isValidURIComponent","gFalse","JS_encodeURI","_","encodeURI","JS_decodeURI","decodeURI","V_ui_fadeShow","_visibility_","_visible_","_opacity_","V_ui_fadeHide","_hidden_","V_ui_getScrollTop","source","jq_Document","scrollTop","V_ui_getScrollLeft","scrollContainer","scrollLeft","V_ui_setScrollTop","pos","scrollMarginTopSource","animation","iNavCenter","toc","lastTop","DOM_html","offset","_scroll_","_margin_top_","animate","gTransDuration","V_ui_wrap_kbd","content","V_ui_getCtrlKeyUI","unwrap","gTrue","short","key","env","os","macOS","V_ui_getShiftKeyUI","V_ui_getAltKeyUI","str","V_ui_getMetaKeyUI","V_ui_getCombKeys","event","ctrlKey","shiftKey","altKey","metaKey","V_ui_copyrightInfo","V_ui_div","_v_copyright_","___","_v_transition_all_","V_ui_svgIcon","_icoVLOOK_","_current_color_","_v_copyright_svg_ico_","_2nbsp_","_Published_via_","V_ui_strong","V_ui_a","_httpsPrefix_","_githubVlook_","_VLOOK_","__blank_","gVer","V_ui_isSmallScreen","jq_Window","oW","gSmallScreenWidth","V_ui_getRect","getBoundingClientRect","V_ui_isHidden","_display_","_none_","V_ui_isShowed","V_ui_hasCover","VOM_cover","V_ui_inHeader","inHeader","V_ui_toolbarFloat","float","tb","iToolbar","ui","btnGroup","ch","_v_btn__o__btn_group_","_v_float_card_","_cover_","_float_","V_not","V_attr","attrValue","V_attrCSS","op","V_ui_changeDocIcon","iconData","V_byID","_doc_icon_","rm","$","ap","V_ui_linkIcon","V_getImageData","icon","w","h","color","classValue","extAttr","V_length","_height_","_class_","_v_svg_ico_","_small_","_use_","_xlink_href_","_svg_","V_ui_svgIcon2","V_ui_symbol","idValue","V_ui_htmlTag","V_ui_path","d","fill","_fill_","V_ui_openDetails","detailsParent","closest","_details_","open","V_tagName","V_ui_switchToTabItem","tabContent","_data_tab_group_","_data_tab_group_id_","anchor","_id_","first","a","tab","_span_","_data_tab_for_","TabGroup_tabItemClick","V_ui_img","alt","src","srcset","loading","_alt_","_src_","_srcset_","_loading_","_lazy_","_img_","V_ui_iframe","id","name","_name_","_iframe_","V_ui_input","type","_type_","_value_","_input_","V_ui_figure","_figure_","V_ui_figcaption","_figcaption_","V_ui_nav","_nav_","V_ui_aside","V_ui_article","V_ui_header","_header_","V_ui_section","V_ui_divExt","V_ui_var","varName","_strong_","V_ui_span","V_ui_sub","_sub_","V_ui_sup","_sup_","V_ui_label","_label_","_href_","_target_","V_ui_audio","_audio_","V_ui_video","_video_","tag","V_ui_tg_currentItem","taregt","item","isChildren","V_ui_tg_resetCurrentItem","_v_item_current_","V_ui_set_dataNoMore","items","_data_no_more_","V_lang_text67","v_ui_mouseDropIn","mx","pageX","V_eventClientX","gDocument","body","my","pageY","V_eventClientY","oL","oT","oH","V_ui_campColor","gradientColors","V_ui_splitColors","count","colorStr","gColor","i","charAt","u","slice","l","sp","filter","V_ui_formatRGBA","rgb","opacity","V_ui_genGradColorCSS","fade","css","___ac_","V_ui_scrolling","vertical","scrollStart","clientSize","clientHeight","scrollSize","scrollHeight","startCss","_top_","__more_","endCss","_bottom_","clientWidth","scrollWidth","_left_","_right_","_no_more_","V_ui_bindScrollWithMoreContent","on","V_ui_disposeScroll","V_ui_disposeScroll_stoped","V_ui_scrollingUpdate","V_ui_bindObserveHeightChange","V_isLength0","observer","MutationObserver","mutations","mutation","_child_","_attribute_","observe","attributeFilter","_style_","childList","subtree","V_ui_initI18n","btns","_nav_center_","_data_tips_","V_lang_text6","_doc_lib_","V_lang_text7","_paragraph_nav_","V_lang_text8","_2br_","V_lang_text28","V_lang_text","_br_","_spotlight_","V_lang_text9","_laser_pointer_","V_lang_text10","iChapterNav","prev","V_lang_text15","next","V_lang_text16","dt","_document_","cur","FigureNav_btns","_title_","close","V_lang_text17","iFontStyle","f","_v_font_style_download_","hm","V_ui_moveToCenter","r","_auto_","V_isMobile","V_ui_moveToTarget","V_ui_moveToCorner","corner","_corner_","V_ui_adjustAll","V_ui_processingAdjust","adjust","ContentFolder_adjust","MoreDocContent_updateUI","V_ui_initEffectLevel","V_byClass","_v_backdrop_blurs_","V_ui_effect","_enabled_","_disabled_","V_ui_addAnimate","t","attrSet","_v_transition__","V_ui_removeAnimate","V_ui_initHotkey","_keydown_","__showHideNavCenter","FigureNav_ui","tr","_click_","combKeys","code","iSpotlight","hotkey","iLaserPointer","iParagraphNav","WelcomePage_disposeHotkey","FigureNav_disposeHotkey","iInfoTips","iFootnote","LinkTool_disposeHotkey","V_doc_block","activeElement","tagName","_body_","TableCross_disposeHotkey","V_noCombKeys","kw","in","focus","navigator","clipboard","readText","then","processInput","catch","lib","StsColorScheme_ui","StsFontStyle_ui","hide","StsLinkMap_ui","LinkTool_isShowed","LinkTool_hide","tg","StsLinkChkResult_ui","LinkTool_show","_checked_","NH_ViewHistory_ui","DOM_h","_html_","_failed_","DOM_body","DOM_b","VOM_doc","VOM_d","_idWrite_","VOM_c","_h6_","__first_child_","VOM_docTitle","_vk_id_doc_cover_","VOM_backcover","VOM_bc","fns","_footnotes_area_","backcover","pr","VOM_dt","_vk_id_doc_title_","V_envInfo","title","V_query_init","__append","params","V_query_params","has","append","queryUrl","URLSearchParams","search","tmpQuery","V_getMetaByName","_vlook_query_","queryYaml","queryTheme","V_getVarVal","extSelector","Error","V_data_read","share","localStorage","getItem","V_getUrlWithoutQueryAndHash","V_data_write","setItem","V_data_remove","removeItem","device","mobile","V_removeQuotes","replace","V_joinNodesText","separator","__getTextNodes","texts","node","contents","e","index","element","nodeType","txt","x","push","nodesText","join","V_countWord","reChinese","reJapanese","reKorean","reLatinLike","reRussian","reArabic","chineseCount","japaneseCount","koreanCount","latinLikeCount","russianCount","arabicCount","latin","CJK","total","length","V_sortByAttr","container","itemSet","attr","withText","sort","b","objA","objB","valueA","valueB","detach","appendTo","decodeURIComponent","V_getDocTitle","metaName","_mata_","_content_","V_getParamVal","pName","get","V_getUrlQueryParams","si","ss","queryStr","paramSet","itemCount","V_getUrlHash","V_getUrlQueryString","V_getUrlWithoutHash","queryIdx","hashIdx","V_getPath","qi","ti","lastIndexOf","pi","V_getTime","Date","getTime","V_getExtension","url","parts","pop","V_getSelectedText","gWindow","getSelection","selection","createRange","text","V_clearHtmlQuot","V_bindLoadChecker","fig","__loadDefaultOnError","_v_img_lost_","_load_","p","blockquote","_blockquote_","ExtQuote_uniteColumnsHeightByGroupId","_data_quote_group_","_error_","cp1","__v_cap1_","targetToJump","LinkTool_addToCheckResult","__address_","V_lang_text63","V_eventCurrentTarget","V_redirectTo","V_gotoHash","sW","getComputedStyle","documentElement","getPropertyValue","trim","V_setVarVal","style","setProperty","prefix","currentTarget","clientX","clientY","V_stopPropagation","stopPropagation","V_clearTimer","timer","clearTimeout","V_getTemplateThemeName","___v_theme__","V_getTemplateThemeVersion","_version_","V_changeCssVarSet","varSet","flag","tmp","len","V_isEscape","_Escape_","prop","_tagName_","V_textContent","childNodes","forEach","Node","TEXT_NODE","nodeValue","V_preventDefault","preventDefault","V_formatting_thousands","V_formatting_decimal","_v_tbl_col_fmt_num_decimal_","V_formatting_percent","_v_tbl_col_fmt_percent_","V_formatting_currency","gRE_CurrencyNoEscape","gRE_CurrencyNoEscape2","_v_tbl_col_fmt_currency_","V_checkSpec","v","V_lang","gToc","_md_toc_","V_lang_text35","V_isNotFigure","iconMode","cardMode","logoMode","_kbd_","V_getSrcValue","_data_src_","V_later","callback","wait","setTimeout","V_debounce","args","this","V_throttle","interval","lastTime","now","V_init","sw","Stopwatch","st","FontStyle","BgMask","_font_style_","_center_","___v_f__","fontStyle","_font_","_theme_","init","ed","Spotlight","_Spotlight_","LaserPointer","_Pointer_","_Laser_","cf","_fold_","ContentFolder_enabled","_off_","_on_","ContentFolder_enabled_table","_table_","ContentFolder_enabled_figure","ContentFolder_enabled_codeblock","_codeblock_","ContentFolder_init","ToolTips_init","InfoTips","_info_tips_","gScrollMarginTop","___v_","NavCenter","ChapterNav","_Chapter_","Toolbar","add","_vdl_","clear","counter","segs","setChecked","_toc_","show","toolbar","bindButton","FigureNav_init","MoreDocContent_init","Footnote","_footnote_","NavHistory_init","StatusBar_init","V_initKernel","__onScrolling","MoreDocContent_refresh","focusHeader","iStopwatch","_Document_","___v_thm_fav_logo_","_4space_","pp","_v_doc__","V_pageMode","Unpublish_init","CC_init","navOK","NavCenter_init","HeaderAutoNum_initToc","_capgroup_","Caption_groupPreppare","ExtAudio_init","ExtVideo_init","ExtQuote_init","ExtFigure_init","_cost_","ExtTable_init","TableCross_init","ExtCodeBlock_init","ExtMath_init","_checkHash_","LinkTool_checkHashMode","LinkTool_checkHashSet","LinkTool_checkHashUI","ColorCode_init","CodeMagic_init","SupSubMagic_preprocess","Progressbar_init","Footnote_init","BreadcrumbStyle_init","LinkTool_mdToHtml","LinkTool_checkLink","showHandle","hasToc","hasItem","hasFigure","figures","hasTable","tables","hasCodeblock","codeblocks","hasFormula","formulas","hasMedia","media","itemName","_formula_","_media_","runMode","_close_","addEventListener","repaint","snap","uC","ck","TableCross_hide","_wheel_","hidden","gIsRunning","gTimer_saveLastPosition","ResumeReading_dispose","disposeScroll_stoped","ExtQuote_uniteColumnsHeight","onmessage","receMessage","data","origin","StsNewVersion_checkOriginCloudFlare","StsNewVersion_checkOriginGitHub","_chkUpdate_","_Invalid_","_new_version_check_time_","gVerFloat","_yes_","verStr","verStart","latestVer","NewVersion_yes","_new_version_","NavHistoryList","hashObj","isSmall","V_ui_adjustAllDelay","V_initRestyle","Restyler_forTaskList","Restyler_forMermaid","Restyler_forImgZoom","GrayMode_init","__enableGrayMode","date","_gray_","StsGray_ui","_v_sts_gray_","_selected_","ToolTips_bind","V_lang_text48","_data_date_","_data_title_","__today","__padZero","getMonth","getDate","grayModeValue","_vlook_gray_mode_","valueSet","lang","base","GrayMode_close","bubble","_display_mode_","_icoGray_","V_lang_init","zhSet","full","vlookLang","_vlook__","_lang_","V_lang_custom","textId","buildInTextSet","_vk__","V_lang_text3","V_lang_text4","_Navigation_","_Previous_","_Next_","_Close_","V_lang_text18","V_lang_text22","_footnotes_","V_lang_text38","_Ready_","V_lang_text41","_Font_","_Style_","V_lang_text44","V_lang_text45","_Mode_","V_lang_text53","V_lang_text54","V_lang_text56","V_lang_text57","V_lang_text58","V_lang_text59","V_lang_text60","V_lang_text65","_history_","V_lang_text66","V_lang_text68","V_lang_text78","V_lang_text81","V_lang_text82","V_doc_scroll_freeze","_unfreeze_","_freeze_","V_doc_scroll_unfreeze","V_doc_link_adjustExternal","off","page","_v_badge_name_","dataHref","_data__","dataTarget","_v_tag_link","V_report_submit","sd","vlookStatViaGithub","_vlook_stat_github_","vlookStatViaCloudFlare","_vlook_stat_cloudflare_","_vlookAct_","V_devMode","_vlookPagesHost_CloudFlare_","T","sT","lT","rst","pre","slient","msg","stop","WelcomePage_init","mode","WelcomePage_ui","_v_welcome_page_","WelcomePage_button","_v_loading_","WelcomePage_tips","_v_tips_","WelcomePage_finished","WelcomePage_mode","WelcomePage_close","WelcomePage_done","_cursor_","_default_","WelcomePage_stopAni","WelcomePage_updateCloseButton","_v_btn_","_done_","_wait_","delay","WelcomePage_autoClose","__timeToClose","delaySecs","closeTimer","sec","_startReading_cn_","_startReading_en_","_animation_","ani","gTransDurationLong","_max_","_Enter_","ContentAssistor_init","__actionWrap","ContentAssistor_lastHover","ContentAssistor_lastContentType","TableWrap_toggle","CodeblockWrap_toggle","__actionCopy","ExtCodeBlock_copyContent","_fig_","_suffixImg_","ExtFigure_copySrc","ContentAssistor_ui","_v_content_assistor_","ContentAssistor_btns_copyContent","_v_btn__n__assistor_","_copy_","ContentAssistor_btns_tableCross","_table_cross_","ContentAssistor_btns_wrap","_wrap_","ContentAssistor_btns_picInPic","_pic_in_pic_","_line_","_break_","_mouseLeave_","ContentAssistor_hide","TableCross_toggle","PicInPic_show","ContentAssistor_bind","contentType","_mouseEnter_","_Copy_","ContentAssistor_show","FigureNav_show","eW","_data_tbl_x_","_true_","TableWrap_isWrap","CodeblockWrap_isWrap","caption","left","PicInPic_init","PicInPic_ui_body","_v_pic_in_pic_","PicInPic_ui_content","_v_content_","PicInPic_ui_zoom","_v_pip_btn_","_zoom_","PicInPic_ui_close","_t","pipBtn","PicInPic_ratio","_zoom_in_","_zoom_out_","_icoZoomIn_","_icoZoomOut_","PicInPic_zoom","PicInPic_hide","_min_","__cloneForPicInPic","openAll","RowGroup_openAll","_data_content_folded_","ContentFolder_expand","newClone","clone","_margin_","_border_","_data_fig_num_","img","svg","_v_mermaid_restyler_","RowGroup_reset","RowGroup_closeAll","PicInPic_calcSize","em","pic","PicInPic_fitContentSize","baseW","baseH","PicInPic_size_width","PicInPic_size_height","_width_","__getImgSize","width","height","sourcePadding","_padding_top_","uiPadding","Image","complete","onload","wWithPadding","hWithPadding","_transform_","radius","_v_spotlight_","zoom","normal","bigger","lastPos","y","toggleZoom","select","ColorScheme_scheme","_dark_","_v_spotlight_in_dark_","pointerScope","_v_cursor_laser_","StsPrs_enable","isEnabled","_background_","_transparent_","StsPrs_disable","handled","enable","tmr","tmrTick","__showCC","ccObj","_flex_","gVlookCC","vlook_cc","ccTopLeft","ccTopRight","ccBottomLeft","ccBottomRight","_v_cc_","SegmentControl","control","group","gp","last","segCnt","onChanged","checked","status","__updateIcon","entry","_data_icon_","__checked_","_text_","tNm","_data_result_","_v_segment_btn_","_for_","desc","change","_function_","checkedItemValue","sts","typeName","FillWidth_init","FillWidth_ui","_v_fill_width_","FillWidth_enable","FillWidth_disable","_fill_width_","MoreDocContent_ui_before","MoreDocContent_ui_after","NavHistory_ui","_v_nav_history_","_div_","_mobile_","_v_view_history_","HistoryList","LinkTool_panelList","NavHistory_enable","isNaN","ResumeReading_lastPosition","ResumeReading_init","ResumeReading_ui","_v_resume_reading_","_last_position_","restore","__saveLastPosData","ResumeReading_minScrollTop","mask","__adjustTop","_v_nav_center_","hdl","_v_nav_center_handle_","__keywordBody","_v_search_by_keyword_","TextField","_filter_","lastType","_block_","hdlTmr","_v_segment_","Index_segments","TocIndex","_icoIndexTab_toc_","FiguresIndex","_icoIndexTab_figure_","TablesIndex","_icoIndexTab_table_","CodeblocksIndex","_icoIndexTab_codeblock_","FormulasIndex","_icoIndexTab_formula_","MediaIndex","_icoIndexTab_media_","bindPartner","onChapterChanged","update","tips","setIcon","_icoSearch_","onInput","nav","rs","hideFilterResult","scrollToCurrent","upd","Index_noneKeyword","Index_filter","onFocus","_actived_","_v_focus_search_","onBlur","pressEnter","gotoCover","hItem","hIdx","ToolTips_hide","afterToggle","gWritePaddingRight","_margin_left_","_var_write_margin_left_","___v_nav_center_width_","_var_nav_center_hidden_left_","_cssText_","_css_important_","_var_nav_center_width_","inputing","hideErr","_md_toc_item_","gVlookToc","_vlook_toc_","gHideOutlineOver","_hide_","_outline__","DocLib","_mini_","tocSet","_md_toc__","tocSetLength","tocAutoCloseLevel","_data_node_","_data_folded_","_false_","disposeFold","tPrevName","_v_chapter_nav_","__prev","tCurrentName","__current_","tNextName","__next_","tDocTitleName","__doc_title_","__text_","_effect_","_no_","gotoHeader","curIdx","_data_hash_","_in_start_","inDocTitle","headerNum","_data_header_num_","_ArrowLeft_","_ArrowRight_","ParagraphNav","idx","bd","_data_id_","_vk_pg__","goto","ParagraphNav_getScreenMiddleElement","_data_pg_idx_","prevPg","step","nextPg","o","rect","pd","__calcStep","ParagraphNav_init","_v_para_nav_mask_border_","__only_child_","_h1_6_","_md_alert_","_md_diagram_panel_","is","middleY","innerHeight","quarterY","centerElement","lastElement","top","bottom","_v_toolbar_","clickEvent","ToolTips_show","btnName","_data_btn_group_","padding","right","_revert_layer_","_padding_left_","_padding_right_","ColorScheme_init","__syncScheme","matcher","ColorScheme_adjustScheme","matches","scheme","_color_scheme_","_light_","ColorScheme_auto","mediaQuery","matchMedia","ColorScheme_systemScheme","dark","ColorScheme_refresh","force","__alt","__fade_bd","__fd_","acRed","acOrange","acYellow","acLime","acGreen","acMineral","acOlives","acWine","acAqua","acCyan","acBlue","acSea","acLavender","acVine","acPurple","acRose","acPink","acGold","acBrown","acGray","acWhite","acBlack","acTheme1","acTheme2","__cm__","__pn","__tbl","_variable","_string","___v_fl__","__kbd","__kbd_bg","__kbd_reflect","_invert_dark_","_invert_","___d_bc_","_var_fig_grid__","_start_","___cur__","_pointer_","_laser_","_http_","_https_","_inner_","_keyword_","_tag_","_CodeMirror_","_quote_","_hr_","_link_","ExtFigure_adjustColorScheme","FontStyleOption","fonts","fontCount","styleName","styleByTheme","_v_font_style_","statusUI","statusTimer","_v_font_style_restore_","localStyle","_v_font_style_opt_local_","_VLOOK_DIN_DIGITAL_","_normal_normal_","_normal_bold_","bookStyle","_v_font_style_opt_book_","govStyle","_v_font_style_opt_gov_","sansStyle","_v_font_style_opt_sans_","_VLOOK_Sans_Mono_","_VLOOK_Sans_","serifStyle","_v_font_style_opt_serif_","_VLOOK_Serif_Mono_","_normal_italic_","_italic_bold_","_VLOOK_Serif_","_normal_500_","_normal_900_","albbStyle","_v_font_style_opt_albb_","_VLOOK_Albb_DT_Sans_","_VLOOK_Albb_DT_JinBu_","_local_","initWF","_book_","_gov_","_sans_","_serif_","_albb_","syncInfo","_v_font_info__","__syncLoadingInfo","currentFontStyle","_nbsp_","_v_font_style_current_","__loadDinFont","srcName","load","_normal_","_Regular","_bold_","_Bold","_VLOOK_DIN_","__loadSansMonoFont","fontName","_NotoSansMono_","__loadSerifMonoFont","_LuxiMono_","luxiMonoSubName","_Italic","_italic_","__loadSansCjkFont","__loadSerifCjkFont","fontWeight500","_Medium","fontWeight900","_Black","__loadAlbbDtSansFont","_DingTalk_","__loadAlbbDtJinBuFont","timeOutMsg","button","fontFamily","fontWeight","folderName","srcFontSubName","unicodeRange","isExist","woffURL","webfontHostAlt","_woff2_","fontFace","__updateDownloadProgress","fontID","fontSet","readyMsg","loadingMsg","_Loading_","splice","loadedCount","FontFace","weight","display","_swap_","loadedFontFace","values","isHave","done","family","_current_","_v_font_style_opt_","varFFm","varFw","varList","_stt_","__num_","_code_","fontVarList","_v_fontnote_pn_","_v_fontnote_pn_content_","buttonSeeAll","__footer_","_vk_footer_area_","footnotesArea","vkFooterArea","addHashItem","_icoDocLibRef_","_alpha_","bf","_ref_footnote_","nameValue","nameValue2","_v_link_chk_result_","StsNewVersion_ui","_v_new_version_","_v_color_scheme_","StsDocInfo_ui","_v_doc_info_","StsPrsInfo_ui","_v_prs_info_","StatusBar_ui","_v_status_bar_","StatusBar_handle","__handle_","StatusBar_hide","StatusBar_show","_v_link_map_","_map_","_v_sts_font_style_","gOnlyLightMode","_mode_","visibleBtn","_last_","NewVersion_init","StsColorScheme_init","LinkTool_init","_link_checker_","DocInfo_countWord","counterResult","readCountPerMin","mins","times","toFixed","tool","StsColorScheme_updateIcons","nextScheme","showBubble","_icoAutoMode_","_icoLightMode_","_Light_","_icoDarkMode_","_Dark_","ToolTips_isShowed","NewVersion_check","lastCheckTime","_check_","frameCloudFlare","document","getElementById","_vlook_chk_update_cloudflare_","frameGitHub","_vlook_chk_update_github_","contentWindow","postMessage","StsNewVersion_checkUrlCloudFlare","StsNewVersion_checkUrlGitHub","_icoNewVersion_","_v_check_hash_","_v_link_info_list_","LinkTool_panelItems","__items_","LinkTool_enabled","headerDup","dups","LinkTool_headerDupRegExSet","RegExp","substring","LinkTool_headerDupSet","LinkTool_mask","xmd","_xmd_","newExt","_warning_","LinkTool_warningCount","__hash_","LinkTool_errorAnchorCount","LinkTool_errorAddressCount","_v_toc_item_","_tabindex_","_v_link_error_","LinkTool_notFoundHash","_checkCount_","var_iCheck","notFoundCount","btn","_hash_","_item_","_all_found_","_found_","__matchForHeaderDupReSet","__genLinkMap","pageIndex","LinkTool_pageMap","urlParams","hashIndex","LinkTool_transSpecHash","size","set","__addLinkMapItem","LinkTool_textMap","hashCount","linkToHashSet","cc","overLimit","hashSet","hashSetLen","extLink","checkHash","_icoCheck_","_v_map_item_","_icoDocLibExt_","_icoDocLibBm_","__addDuplicateChapter","aObj","__addErrorHash","headerTextSet","xRefSet","ExtQuote_subTitle","_summary_","indexOf","newId","_v_cap_cntr_","_data_cap_for_id_","cap","hashNoMark","joinedText","_mjx__","newHash","_data_x_ref_","_docLibIdentifier_","LinkTool_addToMap","tocItems","_data_history_","mapItems","historyItems","curType","_data_content_type_","LinkTool_updateDataNoMore","align","af","_v_mask_","closer","_v_mask_close_","_icoMaskCloser_","_btnFc_","prt","prtUI","partner","scrollingFreez","_z_index_","ContentFolder_limit","ContentFolder_add","ps","ContentFolder_contents","ContentFolder_rebuild","rules","gStyle","cssRules","j","ruleText","selectorText","_expander_","deleteRule","currentSrc","ContentFolder_buildTimers","ContentFolder_checkAndProcess","rebuild","isImg","expanded","_data_content_expanded_","_data_cntr_","_padding_bottom_","ContentFolder_buildContentExpander","shift","_overflow_x_","_overflow_y_","ContentFolder_rowNumFilter","_v_tbl_row_num_hidden_","tW","_data_ex_label_","newClass","insertRule","_mouseUp_","_overflow_","ToolTips_ui","_v_tool_tips_","follower","ToolTips_aniTimer","ToolTips_continueTimer","ToolTips_lastStyle","space","tipsW","iW","tipsH","iH","ww","wh","waitTime","ToolTips_continueShow","ToolTips_delay","_v_info_tips_","aniTimer","inform","message","_bubble_","targetPos","jQuery","_v_more_doc_content_","_before_","_after_","gScrollEdge","MoreDocContent_margin_left","selector","gSelector_codeblock","_md_math_container_parents_","gSelector_iframeVideo","selectorSub","_mermaid_","_h1_5_","hx","header","betweenSet","nU","_data_cap_group_","Caption_prefix","typeText","capGroup","num","lastCount","Caption_lastH1","Caption_lastCounter","Caption_genForTextContent","__insertCap1","after","captionPrefix","V_doc_counter_table","indexObj","dataForSearch","V_doc_counter_codeblock","V_doc_counter_formula","fcSet","Caption_getCaptions","fc","fc2","Caption_spliter","_vk_id_codeblock_","wrap","_v_caption_","_CodeMirror_line_","_vk_id_tbl_","_vk_id_math_","cap1","xD","has2Captions","__v_cap2_","_data_cap_count_","Caption_genForMediaContent","V_doc_counter_figure","V_doc_counter_audio","V_doc_counter_video","_vk_id_fig_","_data_fig_type_","_vk_id_audio_","_vk_id_video_","_max_width_","_100pc_","_view_box_","__getCaptionSet","_mark_","hideCaptionSrc","capResult","Caption_parseSyntax","reg2","reg1","html","test","BreadcrumbStyle_count","mark","_v_breadcrumb_style_","bread","slashOrg","slashTmp","rA","_data_clipboard_text_","BreadcrumbStyle_syntax","Copy_action","TabGroup_init","TabGroup_tabcap","_tab_","_cap_","TabGroup_tabico","_ico_","para","_t2","TabGroup_setData","TabGroup_disposeByGroup","n","firstContent","__addTab","tabBox","tabGroupWrapper","current","tabTitle","tabTitleAlt","alertType","tabicoStyle","cntr","_icoIndexTab_blockquote_","_alert_","_md_fences_","_icoIndexTab_audio_","firstPara","use","_first_","__content_","_item","TabGroup_disposeTabItemClick","_focus_","_v_tab_box_","_tab_group_","_v_tab_group_","_tab_group_wrap_","tabGroup","scrollTarget","V_doc_counter_tagGroup","TabGroup_updateHeight","__first_","lines","_CodeMirror_code_","lineNum","lineCount","badChars","goodChars","encodeText","codeblock","_unwrap_","successCallback","errorCallback","ts","Copy_processing","Copy_lastActionTime","targetName","ClipboardJS","clearSelection","destroy","__disposeUnpubHeader","__getUntilHeaderSelector","_del_","tocItem","hr","__genNumContent","lv","diff","HeaderAutoNum_lastLevel","absDiff","abs","HeaderAutoNum_push","HeaderAutoNum_pop","HeaderAutoNum_counter","HeaderAutoNum_toString","metaTpl","_vlook_header_autonum_","HeaderAutoNum_resetTpl","HeaderAutoNum_resetCounter","HeaderAutoNum_parseTocHeaderLevel","__last_child_","HeaderAutoNum_tpl_prefix","__parseTplItem","HeaderAutoNum_tplSet","HeaderAutoNum_tpl_syntax","HeaderAutoNum_tpl_leftPad","HeaderAutoNum_tpl_format","HeaderAutoNum_tpl_formatOpt","HEADER_AUTONUM_TPL_FORMAT_OPT_MIN","HEADER_AUTONUM_TPL_FORMAT_OPT_SUP","HEADER_AUTONUM_TPL_FORMAT_OPT_NONE","HeaderAutoNum_tpl_suffix","HeaderAutoNum_tpl","tplSet","__formatNum","opt","ns","upperCase","format","HeaderAutoNum_leftPadForDecimal","HeaderAutoNum_decimalToZh","HeaderAutoNum_decimalToAlpha","HeaderAutoNum_decimalToRoman","superLv","numStr","pad","gap","padStr","__numToZh","strArr","reverse","newNum","HeaderAutoNum_zhNum","HeaderAutoNum_zhUnit","__toZhUpperCase","overWan","floor","noWan","numeral","String","fromCharCode","HeaderAutoNum_romanNum","HeaderAutoNum_romanNumArea","__disposeDetailsFolder","quote","V_doc_counter_details","details","summary","_icoDetailsOpen_","_v_svg_details_","_v_rotate45_","dcQuote","ExtQuote_quoteToColoring","Quote_defalutColor","matchedQuoteFold","_data_folding_","parentTag","validColorCode","Color_syntax","ExtQuote_initColumns","ExtList_initColumns","__hideHr","__groupingColumns","_column_","ExtQuote_columnsGroupCount","colCount","prevUntil","ExtQuote_processingUCH","groupId","maxHeight","__initCell","table","colIndex","_thead_","needCheckCellMerge","needCheckColumnFormatting","th","_data_cell_merge_","CellMerge_syntax_row","CellMerge_syntax_col","ColumnFormatting_init","_data_tbl_col_","TableCross_bind","_data_col_too_more_","_tbody_","needCheckRowGroup","td","gUnwrapTableScreenWidth","TableWrap_minWidthTd","_data_row_group_","RowGroup_syntax_tag","_v_tbl_col_fmt_mark_","scroll","CellMerge_dispose","cell","_data_column_fmting_","ColumnFormatting_format","RowGroup_init","_data_folder_","_data_ident_level_","colSpanCount","colSpanCell","lastCell","tblData","tblSpan","tblTd2ThData","rowIndex","needRowSpan","_colspan_","CellMerge_emptyBlankCell","_text_align_","_v_table_","rowSpanCount","rowSpanCell","thSpanFlag","_padding_","_rowspan_","_vertical_align_","_middle_","foundTd","tblCol","colspan","_data_colspan_","_data_td2th_","rW","_outerHTML_","_v__","_empty_","_cell_","TableCross_ui","_v_tbl_x_","TableCross_disable","TableCross_enable","TableCross_goto","TableCross_lastTable","contentFolded","_v_tbl_x_cell_","TableCross_lastCell","tblWidth","tblHeight","cellWidth","cellHeight","cornerLeftX","cornerUpY","cornerLeftWidth","cornerUpHeight","cornerRightX","cornerDownY","cornerRightWidth","cornerDownHeight","leftUp","_up_","rightUp","leftDown","_down_","rightDown","__gotoCell","__gotoCellByTr","newTr","arrow","_table_column_","_ArrowDown_","_ArrowUp_","trParent","_v_tbl_row_g_folder_","_v_tbl_row_g_btn_","sameTable","TableWrap_disable","TableWrap_enable","_white_space_","_pre_wrap_","_v_long_","_data_long_","__cleanBr","parser","doc","textNodes","DOMParser","parseFromString","querySelectorAll","line","textContent","wrapLimit","ColumnFormatting_syntax_checkbox_header","ColumnFormatting_getCells","cells","ColumnFormatting_getTbodyCells","tbodyCells","cellsCSS","_v_tbl_col_fmt_bold_","_v_tbl_col_fmt_em_","thHTML","_v_tbl_col_fmt_chkbox_","ColumnFormatting_removeCheckboxSyntax","ce","ceText","typeFlag","ColumnFormatting_syntax_checkbox_cell","chkStatus","chkStyle","_un_","rHTML","_icoChkbox__","_data_chk_","_v_tbl_col_fmt_num_","isNumber","ColumnFormatting_coloringNumber","isPercent","coloring","percent","percentValue","bg1","bg2","bgSplit","baseColor","_v_tbl_col_fmt_num_negative_","_linear_gradient_","_min_width_","isCurrency","_v_tbl_col_fmt_num_positive_","syntaxText","_v_tbl_row_g_not_folder_","lastLevel","currentLevel","RowGroup_parentStack","RowGroup_colorStack","RowGroup_spliter","RowGroup_newFolder","RowGroup_ident","RowGroup_lastParent","RowGroup_lastColor","__echoOuterHTML","objectSet","outerHTML","folderRow","RowGroup_folderCount","_data_folder_id_","_data_row_folded_","tdHadIdent","_v_tbl_row_g_identer_","__last_","RowGroup_icoCloser","_v_tbl_row_g_identer_folder_","preClass","preObjs","cloneTd","RowGroup_toggle","RowGroup_open","RowGroup_close","_data_row_open_mode_","_data_parent_folder_id_","level","RowGroup_syntax_tag2Replace","_v_tbl_row_g_sub_","_background_color_","identer","identObj","subRows","folderButton","_v_rotate90_","folder","__transToAudio","audioLike","autoplay","_autoplay_","loop","_loop_","preload","_preload_","audio","__play","self","controls","paused","play","ExtAudio_icon_play","_playing_","pause","_data_pause_","currentTime","writeImg","_mp3_","_m4a_","_ogg_","_wav_","__addToLinkChecker","_controls_","V_doc_counter_audiomini","_vk_id_mini_audio_","__control_","_v_audio_mini_control_","ExtAudio_icon_loading","dur","_pause_","_duration_","dur2","_data_duration_","duration","min","minStr","ExtAudio_icon_pause","ExtAudio_icon_stop","_emptied_","ExtAudio_icon_forbidden","_margin_bottom_","__transToVideo","videoLike","video","_ogv_","_mp4_","_webm_","act","lastV","chgTmr","compSts","onKeyDown","onAction","pressESC","__appendTo","_v_text_field_","__icon_","__action_","_v_text_field_reset_","_icoResetInput_","_composition_","_end_","__checkValueChanged","_v_text_field_focus_","blur","setAction","_placeholder_","FilterResultNavigator","nextItem","eq","holder","_v_index_filter_result_","hdr","fdSet","lastFd","lastLv","_data_toc_empty_","_vk_header_","_data_ref_","_v_toc_folder_","insertBefore","_icoTocFolded_","folderParent","_data_pid_","__expandUpFolder","targetTop","itemPosTop","inFirstHeader","showFilterResult","matched","_vlookTocItem_","multiMatch","cloneItem","_data_keyword_match_","_v_doc_lib_item_","_data_keywords_","action","traversal","lastItem","nA","btnFolder","hd1","hd2","Index_initUI","Index_updateStatus","Index_add","forSearch","Index_hasIndexItem","Index_show","Index_hide","_vk_id_","end","valueForDataHistory","span","needHide","newItem","_v_doc_lib_","fstToc","iframe","paths","__addDocLibItem","includes","hasTarget","isSelf","innerIcon","_icoDocLibSelf_","_icoDocLib_","_data_page_","_doc_lib_cn_","URL","baseURI","delete","re_TargetVDL","docLibValue","_vlook_doc_lib_","curPage","docLibList","before","_v_toc_title_","reload","cs","_page_","newPage","path","__disposeCaption","_v_fig_","__isPostcard","_card_","__initColorScheme","_darksrc_","_data_dark_src_","_alter_","queryString","darksrc","_data_src_light_","_data_src_dark_","_data_srcset_light_","_darksrcset_","_data_srcset_dark_","__initHighDPI","darksrcset","__transUrlSrcSet","__initPostcard","inBlockquote","_box_shadow_","altText","altTextForSearch","titleText","cardBody","border","fitMax","dual","_v_post_card_","_v_card_","__title_","gMobileScreenWidth","card","_brightness_","__setCardSize","V_doc_counter_postcard","_vk_id__","pureSrc","fileName","suffix","rAfter","sss","isPostcard","V_doc_counter_img","_suffixSvg_","prevFig","undefined","_blur_","darkMode","_data_img_fill_","_v_img_invert_dark_","_data_src__","_data_srcset__","_data_srcset_","ExtFigure_fillSVG","dropShadowPrefix","_color_","__lg_","svgSets","_v_fig_nav_","_v_fig_nav_btn_","_prev_","_next_","__close_figure_nav_","FigureNav_content","_v_fig_content_","FigureNav_figNum","FigureNav_prevFig","FigureNav_nextFig","FigureNav_hide","FigureNav_isShowed","FigureNav_display","FigureNav_updateUI","newFig","gResObserver","pageNum","_checkbox_","indeterminate","zenSelector","_ariaRoledescription_","zenuml","idPrefix","svgIconCount","svgIcon","seqSelector","viewBox","paddingBottom","front","keySys","extSys","actor","tmpText","_rx_","_ry_","_v_actor_","_v_actor_key_sys_","_v_actor_ext_sys_","_textLength_","fragment","g","segType","bgColor","_var_ac_og_","borderColor","titleColor","_var_ac_og_lg_","_var_ac_rd_","_var_ac_rd_lg_","_var_ac_cy_","_var_ac_cy_lg_","_stroke_","fragmentTitle","label","getBBox","nextText","_v_r_b_","TextPhonetic_buildForSup","colorSet","Color_syntaxOld","RainbowTextAndCell_build","QuoteColoring_build","mdAlertText__","_note_","_icoAlert_note_","_Note_","_tip_","_icoAlert_tip_","_Tip_","_important_","_icoAlert_important_","_Important_","_icoAlert_warning_","_Warning_","_caution_","_icoAlert_caution_","_Caution_","symbol","symbolCount","targetPrev","prevText","wordText","rubyHTML","raw","TextPhonetic_translation","translator","colorCode","Quote_getColor","ColorCode_isEm","__disposeText","obj","solid","ColorTooLight","_background_image_","_box_shadow_none_","_background_clip_","wholeRendering","_data_rb_whole_text_","_data_rb_text_","__disposeUnderline","_border_color_","_border_image_","__disposeMark","_inset_","_text_shadow_","_no_repeat_","__disposeCell","_data_rb_cell_bg_","Badge_getColor","tableCellBgMode","renderTarget","dcTag","dcBadge","_badge_","dcCoating","_coating_","Tag_defalutColor","Badge_defalutColor","Coating_defalutColor","ColorCode_parse","newColors","stdCount","codeText","Badge_syntax","Badge_build","TextPhonetic_syntaxForCode","TextPhonetic_buildForCode","_v_std_code_","tip","Coating_build","value2","bName","bValue","bValue2","Tag_syntax","Tag_build","Tag_getColor","Tag_count","_v_tag_","_var_d_bc_","badgeName","badgeValue","badgeValue2","varStr","Badge_count","badge","_v_badge_value_","Badge_syntax_variable","_hastwo_","nodeCnt","plainContent","_write_","Progressbar_build","taskList","doneCount","calcValue","Progressbar_count","outlineWidth","_outline_width_","rbTextSet","rbText","autoColor","colorAlt","outlineStyle","_solid_","Progressbar_getColor","overValue","overWidth","shadowSuffix","_margin_right_","_outline_style_","Progressbar_defalutColor","__genCoatingBg","charCount","start","_var_d_fc_","hiddenText","Coating_getColor","coatingCount","_v_coating_","_data_coating_tip_","_data_coating_hidden_","_data_coating_showed_","Coating_toggle","Coating_show","Coating_hide","_opened_","VLOOKui_welcomePage","_date_","author","defalutContent","metaContent","_welcome_","_v_thm_fav_logo_","VLOOKui_cc","VLOOKui_checkHash","VLOOKui_iconSet","tagRectX","tagRectTransformRotate","_rotate_","widthHeightRx","blankRect","_icoNavCenter_","_icoNavHistory_","_icoPrevFig_","_icoPrevChapter_","_icoFolded_","_icoClose_","_translate_","_icoLinkMap_","_icoSpotlight_","_icoLaserPointer_","_icoParagraphNav_","_icoFontStyle_","_icoTableX_","_icoWrapUnwrap_","_icoPicInPic_","_icoCopy_","_icoLoading_","_icoPlay_","_icoPause_","_icoStop_","_icoForbidden_","_icoLinkError_","VLOOKui_toolbar","_v_btn_group_","_prs_","VLOOKui_allNav","classSvgChpNav","__nav_","classTocFilterResult","__header_","__body_","_Pause_","VLOOKui_documentNavHistory","VLOOKui_common","previewPath","_Reset_","_notLoaded_","_v_float_card2_","classBtnAssistor","_assistor_","classPinBtn","classTableCross","__down","V_lazyLoading","ext","V_lazyLoading_imageFilling","__disposeSvgImageFilling","SVGInject","afterInject","svgObj","onFail","httpMode","canImageFill","browser","Firefox","Safari","hostname","imgHost","_image_","src2ImageFill","matchRes","srcHost","needImgHost","loadVLOOKui","loadVLOOKplugin","__fork","Chrome","Edge","core","webkit","newRadius","_radius_","_v_r_s_","_v_r_t_","_v_r_tag_","_v_r_c_","___v_color_scheme_","colorScheme","redirect","_count_","_sts_","_update_","gTotalTimes","gTimes","gThmVer","gThmName","window","location","_address_","_align_","_Arrow_","_cap__","_group_","__color_","__repeat_","_position_","_player_","__shadow_","_box_","_check_time_","_cloudflare_","_set_","_data_","_doc_","_folded_","NaN","_cntr_","_data_fig__","_num_","_folder_","_grid_","_ref_","_row__","_data_row__","_open_","__mode_","__result_","_data_tbl__","_tips_","__doc_","_caption_","_fig_grid__","__child_","__area_","_github_","_github_madmaxchow_","_openfontsPages_CloudFlare_","_vlook_","_Alert__","_math_","_Search_","_icoIndexTab__","_vlookHost_","_madmaxchowHost_GitHub_","__status_","_index_","__item_","_mouse_","_paragraph_","_reset_","_restore_","__svg_","__ico_","_thm_fav_logo_","_toolbar_","_view_","_vlook_stat__","__scheme_","___v_r_","___v_trans_dur_","_v_badge__","_info_","_search_","_v_toc__","_v_img__","_mask_","_v_rotate_","_v_sts__","_v_tbl__","_v_tbl_row__","__identer_","_v_tbl_col_fmt__","console","prototype","nextUntil","nextAll","children","remove","empty","each","find","val","innerWidth","outerWidth","outerHeight","position","parent","parents","prepend","replaceWith","toggle","trigger","match","searchValue","replaceValue","regExpString","re","replaceAll","startsWith","endsWith","toLowerCase","toUpperCase","exp","split","wrapText","suff","oldValue","newValue","userAgent","trident","presto","gecko","android","iPhone","iPad","brwVer","Windows","iOS","Linux","language","subset","DPR","devicePixelRatio","silent","V_ver","devMode","debugMode","ColorCode","IntersectionObserver","entries","isIntersecting","unobserve","effect","wsMode","styleSheets","ready"],"sources":["../../src/vlook.js"],"sourcesContent":["/**************************************\n *\n * VLOOK™ JS - Typora Plugin\n *\n * V29.0\n * 2025-05-24\n * Powered by MAX°孟兆\n *\n * QQ Group: 805502564\n * Telegram Channel: t.me/vlook_markdown\n * email: maxchow@qq.com\n *\n * https://github.com/MadMaxChow/VLOOK\n * https://gitee.com/madmaxchow/VLOOK\n * https://vlook-doc.pages.dev\n *\n *************************************/\n\nlet _ = \"\",\n    ___ = \" \",\n    gVer = \"V29.0\",\n    gThmVer = _,\n    gThmName = _,\n    gUndefined = undefined,\n    gNull = null,\n    gTrue = true,\n    gFalse = false,\n    gTransDuration = 300,\n    gTransDurationLong = 600,\n    gScrollEdge = 20,\n    gScrollStep = 50,\n    gDocument = document,\n    gWindow = window,\n    gLocation = gWindow.location,\n    gOnlyLightMode = gFalse, // 是否始终使用 Light Mode（仅 Light Mode）\n    gVlookCC = gFalse,\n    gScrollMarginTop = 100,\n    gHideOutlineOver = 99,\n    jq_Document = $(gDocument),\n    jq_Window = $(gWindow),\n    gWritePaddingRight = 20, // 取值与 base.less 的 @writePaddingRight 保持一致\n    // ----------\n    iStopwatch = new Stopwatch(), // 初始化计时器\n    gTimes = 0,\n    gTotalTimes = 0,\n    gLastHash = gNull,\n    gIsRunning = gTrue,\n    gTimer_saveLastPosition = gNull,\n    // **********\n    // 修改时须同步修改 media.less 中的同名变量\n    gSmallScreenWidth = 1270,\n    gUnwrapTableScreenWidth = 1279,\n    gMobileScreenWidth = 850,\n    // **********\n    gToc = gUndefined, // 文档大纲对象\n    gVlookToc = gUndefined, // 文档大纲内容\n    gStyle = gUndefined, // 文档的 style 对象\n    // 以下 _xxx_ 格式变量为字符串\n    _100pc_ = \"100%\",\n    _4space_ = ___+___+___+___,\n    _absolute_ = \"absolute\",\n    _actived_ = \"actived\",\n    __action_ = \"-action\",\n    _address_ = \"address\",\n    __address_ = \"-\" + _address_,\n    _after_ = \"after\",\n    _albb_ = \"albb\",\n    _align_ = \"align\",\n    _alt_ = \"alt\",\n    _alter_ = \"alter\",\n    _alpha_ = \"alpha\",\n    _found_ = \"found\",\n    _all_found_ = \"all-\" + _found_,\n    _ariaRoledescription_ = \"aria-roledescription\",\n    _Arrow_ = \"Arrow\",\n    _ArrowLeft_ = _Arrow_ + \"Left\",\n    _ArrowRight_ = _Arrow_ + \"Right\",\n    _ArrowUp_ = _Arrow_ + \"Up\",\n    _ArrowDown_ = _Arrow_ + \"Down\",\n    _assistor_ = \"assistor\",\n    _audio_ = \"audio\",\n    _animation_ = \"animation\",\n    _auto_ = \"auto\",\n    _autoplay_ = _auto_ + \"play\",\n    _background_ = \"background\",\n    _cap_ = \"cap\",\n    _cap__ = _cap_ + \"-\",\n    // _capauto_ = _cap_ + _auto_,\n    _close_ = \"close\",\n    _figure_ = \"figure\",\n    _nav_ = \"nav\",\n    __nav_ = \"-\" + _nav_,\n    __close_figure_nav_ = \"-\" + _close_ + \"-\" + _figure_ + \"-\" + _nav_,\n    _composition_ = \"composition\",\n    _corner_ = \"corner\",\n    _group_ = \"group\",\n    _capgroup_ = _cap_ + _group_,\n    _hide_ = \"hide\",\n    // _caphide_ = _cap_ + _hide_,\n    _color_ = \"color\",\n    __color_ = \"-\" + _color_,\n    _background_color_ = _background_ + __color_,\n    _image_ = \"image\",\n    _background_image_ = _background_ + \"-\" + _image_,\n    _background_clip_ = _background_ + \"-clip\",\n    __repeat_ = \"-repeat\",\n    _position_ = \"position\",\n    _before_ = \"before\",\n    _player_ = \"player\",\n    _width_ = \"width\",\n    _max_ = \"max\",\n    _max_width_ = _max_ + \"-\" + _width_,\n    __blank_ = \"_blank\",\n    _block_ = \"block\",\n    _blur_ = \"blur\",\n    _quote_ = \"quote\",\n    _blockquote_ = _block_ + _quote_,\n    _body_ = \"body\",\n    __body_ = \"-\" + _body_,\n    _bold_ = \"bold\",\n    _book_ = \"book\",\n    _border_ = \"border\",\n    _bottom_ = \"bottom\",\n    _border_bottom_width_ = _border_ + \"-\" + _bottom_ + \"-\" + _width_,\n    _left_ = \"left\",\n    __lg_ = \"-lg\",\n    _right_ = \"right\",\n    _radius_ = \"radius\",\n    _border_bottom_left_radius_ = _border_ + \"-\" + _bottom_ + \"-\" + _left_ + \"-\" + _radius_,\n    _border_bottom_right_radius_ = _border_ + \"-\" + _bottom_ + \"-\" + _right_ + \"-\" + _radius_,\n    _border_color_ = _border_ + __color_,\n    _border_image_ = _border_ + \"-\" + _image_,\n    _border_radius_ = _border_ + \"-\" + _radius_,\n    _border_width_ = _border_ + \"-\" + _width_,\n    _border_left_width_ = _border_ + \"-\" + _left_ + \"-\" + _width_,\n    _border_right_width_ = _border_ + \"-\" + _right_ + \"-\" + _width_,\n    _top_ = \"top\",\n    _border_top_width_ = _border_ + \"-\" + _top_ + \"-\" + _width_,\n    _scroll_ = \"scroll\",\n    __shadow_ = \"-shadow\",\n    _box_ = \"box\",\n    _box_shadow_ = _box_ + __shadow_,\n    _none_ = \"none\",\n    _box_shadow_none_ = _box_shadow_ + \":\" + _none_ + \";\",\n    _br_ = \"<br>\",\n    _2br_ = _br_ + _br_,\n    _break_ = \"break\",\n    _brightness_ = \"brightness\",\n    _bubble_ = \"bubble\",\n    _btnFc_ = \"btn-fc\",\n    _card_ = \"card\",\n    _catalog_ = \"catalog\",\n    _center_ = \"center\",\n    _cssText_ = \"cssText\",\n    _Chapter_ = \"Chapter\",\n    _check_ = \"check\",\n    _checkbox_ = _check_ + _box_,\n    _checked_ = _check_ + \"ed\",\n    __checked_ = \"-\" + _checked_,\n    _check_time_ = _check_ + \"-time\",\n    _hash_ = \"hash\",\n    __hash_ = \"-\" + _hash_,\n    _checkHash_ = _check_ + _hash_,\n    _wrap_ = \"wrap\",\n    _unwrap_ = \"un\" + _wrap_,\n    _use_ = \"use\",\n    _date_ = \"date\",\n    _update_ = \"up\" + _date_,\n    _chkUpdate_ = \"chk-\" + _update_,\n    _class_ = \"class\",\n    _click_ = \"click\",\n    _cloudflare_ = \"cloudflare\",\n    _code_ = \"code\",\n    _codeblock_ = \"codeblock\",\n    _column_ = \"column\",\n    _colspan_ = \"colspan\",\n    _content_ = \"content\",\n    _controls_ = \"controls\",\n    __control_ = \"-control\",\n    _cursor_ = \"cursor\",\n    _current_ = \"current\",\n    _current_color_ = _current_ + __color_,\n    __current_ = \"-\" + _current_,\n    _copy_rich__ = \"copy-rich-\",\n    _start_ = \"start\",\n    _end_ = \"end\",\n    _cost_ = \"    COST \",\n    _cover_ = \"cover\",\n    _dark_ = \"dark\",\n    _light_ = \"light\",\n    _src_ = \"src\",\n    _set_ = \"set\",\n    _srcset_ = _src_ + _set_,\n    _darksrc_ = _dark_ + _src_,\n    _darksrcset_ = _dark_ + _srcset_,\n    _data_ = \"data\",\n    _data__ = _data_ + \"-\",\n    _doc_ = \"doc\",\n    _document_ = \"document\",\n    _Document_ = \"Document\",\n    _focus_ = \"focus\",\n    _fold_ = \"fold\",\n    _folded_ = _fold_ + \"ed\",\n    _for_ = \"for\",\n    _formula_ = \"formula\",\n    _gray_ = \"gray\",\n    _data_btn_group_ = _data__ + \"btn-\" + _group_,\n    _count_ = \"count\",\n    _data_cap_count_ = _data__ + _cap__ + _count_,\n    _id_ = \"id\",\n    _data_cap_for_id_ = _data__ + _cap__ + _for_ + \"-\" + _id_,\n    _toc_ = \"toc\",\n    _tab_ = \"tab\",\n    _data_tab_for_ = _data__ + _tab_ + \"-\" + _for_,\n    _tab_group_ = _tab_ + \"-\" + _group_,\n    _data_tab_group_ = _data__ + _tab_group_,\n    _data_tab_group_id_ = _data_tab_group_ + \"-\" + _id_,\n    _empty_ = \"empty\",\n    _data_toc_empty_ = _data__ + _toc_ + \"-\" + _empty_,\n    _cell_ = \"cell\",\n    _data_cell_merge_ = _data__ + + _cell_ + \"-merge\",\n    _data_chk_ = _data__ + \"chk\",\n    _text_ = \"text\",\n    __text_ = \"-\" + _text_,\n    _data_clipboard_text_ = _data__ + \"clipboard\" + __text_,\n    _data_colspan_ = _data__ + _colspan_,\n    _data_column_fmting_ =_data__ + _column_ + \"-fmting\",\n    __more_ = \"-more\",\n    _data_col_too_more_ = _data__ + \"col-too\" + __more_,\n    _cntr_ = \"cntr\",\n    _data_cntr_ = _data__ + _cntr_,\n    _data_content_expanded_ = _data__ + _content_ + \"-expanded\",\n    _data_content_folded_ = _data__ + _content_ + \"-\" + _folded_,\n    _type_ = \"type\",\n    _data_content_type_ = _data__ + _content_ + \"-\" + _type_,\n    _default_ = \"default\",\n    _data_default_ = _data__ + _default_,\n    _label_ = \"label\",\n    _data_ex_label_ = _data__ + \"ex-\" + _label_,\n    _data_extend_ = _data__ + \"extend\",\n    _data_date_ = _data__ + _date_,\n    _fig_ = \"fig\",\n    _data_fig__ = _data__ + _fig_ + \"-\",\n    _num_ = \"num\",\n    _data_fig_num_ = _data_fig__ + _num_,\n    _data_fig_type_ = _data_fig__ + _type_,\n    _data_folded_ = _data__ + _folded_,\n    _folder_ = \"folder\",\n    _data_folder_ = _data__ + _folder_,\n    _data_folder_id_ = _data__ + _folder_ + \"-id\",\n    _data_folding_ = _data__ + \"folding\",\n    _keyword_ = \"keyword\",\n    _data_keywords_ = _data__ + _keyword_ + \"s\",\n    _data_dark_src_ = _data__ + \"darksrc\",\n    _duration_ = \"duration\",\n    _data_duration_ = _data__ + _duration_,\n    _grid_ = \"grid\",\n    // _data_fig_grid_ = _data_fig__ + _grid_,\n    _h1_5_ = \"h1,h2,h3,h4,h5\",\n    _h1_6_ = _h1_5_ + \",h6\",\n    _data_cap_group_ = _data__ + _cap__ + _group_,\n    _data_hash_ = _data_ + __hash_,\n    _html_ = \"html\",\n    _header_ = \"header\",\n    __header_ = \"-\" + _header_,\n    __num_ = \"-num\",\n    _data_header_num_ = _data__ + _header_ + __num_,\n    _history_ = \"history\",\n    _data_history_ = _data__ + _history_,\n    __icon_ = \"-icon\",\n    _data_icon_ = _data_ + __icon_,\n    _data_id_fig_type_ = _data__ + \"id-\" + _fig_ + \"-\" + _type_,\n    _data_keyword_match_ = _data__ + _keyword_ + \"-match\",\n    _data_long_ = _data__ + \"long\",\n    _data_node_ = _data__ + \"node\",\n    _no_ = \"no\",\n    _no_more_ = _no_ + __more_,\n    _data_no_more_ = _data__ + _no_more_,\n    _page_ = \"page\",\n    _data_page_ = _data__ + _page_,\n    _data_parent_folder_id_ = _data__ + \"parent-\" + _folder_ + \"-id\",\n    _data_pid_ = _data__ + \"pid\",\n    _data_quote_group_ = _data__ + _quote_ + \"-\" + _group_,\n    _ref_ = \"ref\",\n    _data_ref_ = _data__ + _ref_,\n    _data_rb_cell_bg_ = _data__ + \"rb-\" + _cell_ + \"-bg\",\n    _data_rb_text_ = _data__ + \"rb\" + __text_,\n    _data_rb_whole_text_ = _data__ + \"rb-whole\" + __text_,\n    _row__ = \"row-\",\n    _data_row__ = _data__ + _row__,\n    _data_row_folded_ = _data_row__ + _folded_,\n    _open_ = \"open\",\n    _mode_ = \"mode\",\n    __mode_ = \"-\" + _mode_,\n    _data_row_open_mode_ = _data_row__ + _open_ + __mode_,\n    _data_src_ = _data__ + _src_,\n    _data_src__ = _data_src_ + \"-\",\n    _data_src_dark_ = _data_src__ + _dark_,\n    _data_src_light_ = _data_src__ + _light_,\n    _data_srcset_ = _data__ + \"srcset\",\n    _data_srcset__ = _data_srcset_ + \"-\",\n    _data_srcset_dark_ = _data_srcset__ + _dark_,\n    _data_srcset_light_ = _data_srcset__ + _light_,\n    _data_td2th_ = _data__ + \"td2th\",\n    _title_ = \"title\",\n    __title_ = \"-\" + _title_,\n    _data_title_ = _data__ + _title_,\n    _data_id_ = _data__ + \"id\",\n    _data_ident_level_ = _data__ + \"ident-level\",\n    _fill_ = \"fill\",\n    _img_ = \"img\",\n    _data_img_fill_ = _data__ + _img_ + \"-\" + _fill_,\n    _pause_ = \"pause\",\n    _data_pause_ = _data__ + _pause_,\n    _data_pg_idx_ = _data__ + \"pg-idx\",\n    __result_ = \"-result\",\n    _data_result_ = _data_ + __result_,\n    _coating_ = \"coating\",\n    _hidden_ = \"hidden\",\n    _data_coating_hidden_ = _data__ + _coating_ + \"-\" + _hidden_,\n    _tip_ = \"tip\",\n    // __tip_ = \"-tip\",\n    _data_coating_tip_ = _data__ + _coating_ + \"-\" + _tip_,\n    _data_coating_showed_ = _data__ + _coating_ + \"-showed\",\n    _data_row_group_ = _data_row__ + _group_,\n    _data_tbl__ = _data__ + \"tbl-\",\n    _data_tbl_col_ = _data_tbl__ + \"col\",\n    _data_tbl_x_ = _data_tbl__ + \"x\",\n    _data_th_rpt_ = _data__ + \"th-rpt\",\n    _tips_ = \"tips\",\n    _data_tips_ = _data__ + _tips_,\n    _data_x_ref_ = _data__ + \"x-\" + _ref_,\n    _del_ = \"del\",\n    _details_ = \"details\",\n    _DingTalk_ = \"DingTalk\",\n    _disabled_ = \"disabled\",\n    _display_ = \"display\",\n    _display_mode_ =\"{{\" + _display_ + __mode_ + \"}}\",\n    _div_ = \"div\",\n    _doc_lib_ = _doc_ + \"-lib\",\n    _doc_lib_cn_ = \"文库\",\n    // _doc_lib_toc_ = _doc_lib_ + \"-toc\",\n    _doc_icon_ = _doc_ + __icon_,\n    _done_ = \"done\",\n    _copy_ = \"copy\",\n    _Copy_ = \"Copy\",\n    _open_in_figure_nav_ = \"open-in-\" + _figure_ + __nav_,\n    _table_ = \"table\",\n    _table_column_ = _table_ + \"-\" + _column_,\n    _table_cross_ = _table_ + \"-cross\",\n    _pic_in_pic_ = \"pic-in-pic\",\n    __doc_ = \"-\" + _doc_,\n    __doc_title_ = __doc_ + __title_,\n    _effect_ = \"effect\",\n    _enabled_ = \"enabled\",\n    _first_ = \"first\",\n    _last_ = \"last\",\n    _Enter_ = \"Enter\",\n    _emptied_ = \"emptied\",\n    _error_ = \"error\",\n    _Escape_ = \"Escape\",\n    __fd_ = \"-fd\",\n    _failed_ = \"Failed [ \",\n    _false_ = \"false\",\n    _v__ = \"v-\",\n    _v_fig_ = _v__ + _fig_,\n    _fill_width_ = \"fill-\" + _width_,\n    _v_fill_width_ = _v__ + _fill_width_,\n    _checkCount_ = _check_ + _count_,\n    _welcome_ = \"welcome\",\n    _v_welcome_page_ = _v__ + _welcome_ + \"-\" + _page_,\n    _caption_ = \"caption\",\n    _figcaption_ = _fig_ + _caption_,\n    _fig_grid__ = _v_fig_ + \"-\" + _grid_ + \"-\",\n    _solid_ = \"solid\",\n    _fig_solid__ = _v_fig_ + \"-\" + _solid_ + \"-\",\n    _filter_ = \"filter\",\n    _attribute_ = \"attribute\",\n    _child_ = \"child\",\n    __child_ = \"-\" + _child_,\n    __first_ = \":\" + _first_,\n    __first_child_ = __first_ + __child_,\n    _flex_ = \"flex\",\n    _float_ = \"float\",\n    _font_ = \"font\",\n    _Font_ = \"Font\",\n    _style_ = \"style\",\n    _font_style_ = _font_ + \"-\" + _style_,\n    __footer_ = \"-footer\",\n    _footnote_ = \"footnote\",\n    _footnotes_ = _footnote_ + \"s\",\n    __area_ = \"-area\",\n    _footnotes_area_ = _footnotes_ + __area_,\n    _freeze_ = \"freeze\",\n    _function_ = \"function\",\n    _gov_ = \"gov\",\n    _h6_ = \"h6\",\n    _height_ = \"height\",\n    // _hover_ = \"hover\",\n    // _hover_action_ = _hover_ + __action_,\n    _hr_ = \"hr\",\n    _href_ = \"href\",\n    _http_ = \"http\",\n    _https_ = _http_ + \"s\",\n    _httpPrefix_ = _http_ + \"://\",\n    _httpsPrefix_ = _https_ + \"://\",\n    _github_ = \"github\",\n    _github_madmaxchow_ = \"github.com/MadMaxChow/\",\n    _openfontsPages_CloudFlare_ = _httpsPrefix_ + \"openfonts.pages.dev/\",\n    _vlook_ = \"vlook\",\n    _VLOOK_ = \"VLOOK\",\n    _githubVlook_ = _github_madmaxchow_ + _VLOOK_,\n    _ico_ = \"ico\",\n    _Alert__ = \"Alert-\",\n    _Note_ = \"Note\",\n    _icoAlert__ = _ico_ + _Alert__,\n    _note_ = \"note\",\n    _icoAlert_note_ = _ico_ + _Alert__ + _note_,\n    _Tip_ = \"Tip\",\n    _icoAlert_tip_ = _ico_ + _Alert__ + _tip_,\n    _Important_ = \"Important\",\n    _important_ = \"important\",\n    _icoAlert_important_ = _ico_ + _Alert__ + _important_,\n    _Warning_ = \"Warning\",\n    _warning_ = \"warning\",\n    _icoAlert_warning_ = _ico_ + _Alert__ + _warning_,\n    _Caution_ = \"Caution\",\n    _caution_ = \"caution\",\n    _icoAlert_caution_ = _ico_ + _Alert__ + _Caution_,\n    _Mode_ = \"Mode\",\n    _math_ = \"math\",\n    _mobile_ = \"mobile\",\n    _icoAutoMode_ = _ico_ + \"Auto\" + _Mode_,\n    _icoChkbox__ = _ico_ + \"Chkbox_\",\n    _icoCheck_ = _ico_ + \"Check\",\n    _Close_ = \"Close\",\n    _icoClose_ = _ico_ + _Close_,\n    _icoCopy_ = _ico_ + _Copy_,\n    _Dark_ = \"Dark\",\n    _icoDarkMode_ = _ico_ + _Dark_ + _Mode_,\n    _icoDetailsOpen_ = _ico_ + \"DetailsOpen\",\n    _icoNavHistory_ = _ico_ + _nav_ + \"-\" + _history_,\n    _icoDocLib_ = _ico_ + \"DocLib\",\n    _icoDocLibSelf_ = _icoDocLib_ + \"Self\",\n    _icoDocLibBm_ = _icoDocLib_ + \"Bm\",\n    _icoDocLibExt_ = _icoDocLib_ + \"Ext\",\n    _icoDocLibRef_ = _icoDocLib_ + \"Ref\",\n    _icoFolded_ = _ico_ + \"Folded\",\n    _Style_ = \"Style\",\n    _icoFontStyle_ = _ico_ + _Font_ + _Style_,\n    _icoGray_ = _ico_ + \"Gray\",\n    _icoForbidden_ = _ico_ + \"Forbidden\",\n    _Laser_ = \"Laser\",\n    _Pointer_ = \"Pointer\",\n    _icoLaserPointer_ = _ico_ + _Laser_ + _Pointer_,\n    _Light_ = \"Light\",\n    _icoLightMode_ = _ico_ + _Light_ + _Mode_,\n    _icoLinkError_ = _ico_ + \"LinkError\",\n    _icoLinkMap_ =  _ico_ + \"LinkMap\",\n    _Loading_ = \"Loading\",\n    _icoLoading_ = _ico_ + _Loading_,\n    _icoMaskCloser_ = _ico_ + \"MaskCloser\",\n    _icoNavCenter_ = _ico_ + \"NavCenter\",\n    _icoNewVersion_ = _ico_ + \"NewVersion\",\n    // _icoOpenInFigureNav_ = _ico_ + \"OpenInFigureNav\",\n    _icoParagraphNav_ = _ico_ + \"ParagraphNav\",\n    _Pause_ = \"Pause\",\n    _icoPause_ = _ico_ + _Pause_,\n    _icoPicInPic_ = _ico_ + \"PicInPic\",\n    _icoPlay_ = _ico_ + \"Play\",\n    _icoPrevFig_ = _ico_ + \"PrevFig\",\n    _icoPrevChapter_ = _ico_ + \"PrevChapter\",\n    _Reset_ = \"Reset\",\n    _icoResetInput_ = _ico_ + _Reset_ + \"Input\",\n    _Search_ = \"Search\",\n    _icoSearch_ = _ico_ + _Search_,\n    _spotlight_ = \"spot\" + _light_,\n    _Spotlight_ = \"Spot\" + _light_,\n    _icoSpotlight_ = _ico_ + _Spotlight_,\n    _icoStop_ = _ico_ + \"Stop\",\n    _icoTableX_ = _ico_ + \"TableX\",\n    _icoTocFolded_ = _ico_ + \"TocFolded\",\n    _icoIndexTab__ = _ico_ + \"IndexTab-\",\n    _icoIndexTab_toc_ = _icoIndexTab__ + _toc_,\n    _icoIndexTab_codeblock_ = _icoIndexTab__ + _codeblock_,\n    _icoIndexTab_formula_ = _icoIndexTab__ + _formula_,\n    _icoIndexTab_figure_ = _icoIndexTab__ + _figure_,\n    _media_ = \"media\",\n    _icoIndexTab_media_ = _icoIndexTab__ + _media_,\n    _icoIndexTab_table_ = _icoIndexTab__ + _table_,\n    _icoIndexTab_audio_ = _icoIndexTab__ + _audio_,\n    _icoIndexTab_blockquote_ = _icoIndexTab__ + _blockquote_,\n    _icoWrapUnwrap_ = _ico_ + \"WrapUnwrap\",\n    _load_ = \"load\",\n    _mermaid_ = \"mermaid\",\n    _loading_ = _load_ + \"ing\",\n    _v_loading_ = _v__ + _loading_,\n    _v_long_ = _v__ + \"long\",\n    _vlookHost_ = \"madmaxchow.github.io\",\n    _madmaxchowHost_GitHub_ = _httpsPrefix_ + _vlookHost_,\n    _vlookPagesHost_CloudFlare_ = _httpsPrefix_ + _vlook_ + \"-doc.pages.dev\",\n    _vlookAct_ = _vlookHost_ + \"/VLOOK/act/\",\n    // _VLOOK_Number_ = _VLOOK_ + \" Number\",\n    _VLOOK_DIN_ = _VLOOK_ + \" DIN\",\n    _VLOOK_DIN_DIGITAL_ = _VLOOK_DIN_ + \" Digital\",\n    // _VLOOK_DIN_Sans_ = _VLOOK_DIN_ + \" Sans\",\n    // _VLOOK_DIN_Serif_ = _VLOOK_DIN_ + \" Serif\",\n    _VLOOK_Sans_Mono_ = _VLOOK_ + \" Sans Mono\",\n    _VLOOK_Serif_Mono_ = _VLOOK_ + \" Serif Mono\",\n    _VLOOK_Sans_ = _VLOOK_ + \" Sans\",\n    _VLOOK_Serif_ = _VLOOK_ + \" Serif\",\n    _VLOOK_Albb_ = _VLOOK_ + \" Albb\",\n    _VLOOK_Albb_DT_Sans_ = _VLOOK_ + \" Albb DT-Sans\",\n    _VLOOK_Albb_DT_JinBu_ = _VLOOK_ + \" Albb DT-JinBu\",\n    _NotoSansMono_ = \"NotoSansMono\",\n    _LuxiMono_ = \"LuxiMono\",\n    _icoVLOOK_ = _ico_ + _VLOOK_,\n    _icoZoomIn_ = _ico_ + \"ZoomIn\",\n    _icoZoomOut_ = _ico_ + \"ZoomOut\",\n    __status_ = \"-status\",\n    _iframe_ = \"iframe\",\n    _imageXicon_ = _image_ + \"/x\" + __icon_,\n    _css_important_ = \" !important;\",\n    _index_ = \"index\",\n    _inner_ = \"inner\",\n    _input_ = \"input\",\n    _inset_ = \"in\" + _set_,\n    _startReading_cn_ = \"开始阅览\",\n    _startReading_en_ = \"Start Reading\",\n    _in_start_ = \"in-\" + _start_,\n    _Invalid_ = \"Invalid\",\n    _invert_ = \"invert\",\n    _italic_ = \"italic\",\n    _italic_bold_ = \"/\" + _italic_ + \"/\" + _bold_,\n    _item_ = \"item\",\n    __item_ = \"-item\",\n    __items_ = __item_ + \"s\",\n    _kbd_ = \"kbd\",\n    _keydown_ = \"keydown\",\n    _lang_ = \"lang\",\n    _pointer_ = \"pointer\",\n    _laser_ = \"laser\",\n    _laser_pointer_ = _laser_ + \"-\" + _pointer_,\n    __last_ = \":\" + _last_,\n    __last_child_ = __last_ + __child_,\n    _last_position_ = _last_ + \"-\" + _position_,\n    _v_resume_reading_ = _v__ + \"resume-reading\",\n    _link_ = \"link\",\n    _xlink_href_ = \"x\" + _link_ + \":\" + _href_,\n    _link_checker_ = _link_ + \"-\" + _check_ + \"er\",\n    _line_ = \"line\",\n    _line__ = _line_ + \"-\",\n    _linear_gradient_ = \"linear-gradient\",\n    _local_ = \"local\",\n    _loop_ = \"loop\",\n    _lazy_ = \"lazy\",\n    _margin_ = \"margin\",\n    _map_ = \"map\",\n    _margin_top_ = _margin_ +  \"-\" + _top_,\n    _margin_bottom_ = _margin_ +  \"-\" + _bottom_,\n    _margin_left_ = _margin_ + \"-\" + _left_,\n    _margin_right_ = _margin_ + \"-\" + _right_,\n    _mark_ = \"mark\",\n    _mata_ = \"meta\",\n    _max_height_ = \"max-\" + _height_,\n    _alert_ = \"alert\",\n    _md_alert_ = \"md-\" + _alert_,\n    _md_diagram_panel_ = \"md-diagram-panel\",\n    _md_fences_ = \"md-fences\",\n    _md_math_container_parents_ = \".md-\" + _math_ +\"-\" + _block_ + \", .\" + _md_fences_ + \"-\" + _math_,\n    _message_ = \"message\",\n    _md_toc_ = \"md-toc\",\n    _md_toc__ = _md_toc_ + \"-\",\n    // _md_toc_content_ = _md_toc_ + \"-\" + _content_,\n    _md_toc_item_ = _md_toc_ + __item_,\n    _middle_ = \"middle\",\n    _min_ = \"min\",\n    _mindmap_ = \"mindmap\",\n    _mini_ = \"mini\",\n    _min_width_ = \"min-\" + _width_,\n    _mjx__ = \"#mjx-\",\n    _mouse_ = \"mouse\",\n    _down_ = \"down\",\n    __down = \"-\" + _down_,\n    _mouseDown_ = _mouse_ + _down_,\n    _up_ = \"up\",\n    _mouseUp_ = _mouse_ + _up_,\n    _mouseEnter_ = _mouse_ + \"enter\",\n    _mouseLeave_ = _mouse_ + \"leave\",\n    _mp3_ = \".mp3\",\n    _mp4_ = \".mp4\",\n    _m4a_ = \".m4a\",\n    _ogg_ = \".ogg\",\n    _ogv_ = \".ogv\",\n    _wav_ = \".wav\",\n    _webm_ = \".webm\",\n    _name_ = \"name\",\n    _nav_center_ = _nav_ + \"-\" + _center_,\n    _Navigation_ = \"Navigation\",\n    _Next_ = \"Next\",\n    _next_ = \"next\",\n    __next_ = \"-\" + _next_,\n    _version_ = \"version\",\n    _new_version_ = \"new-\" + _version_,\n    _new_version_check_time_ = _new_version_ + \"-\" + _check_time_,\n    _nbsp_ = \"&nbsp;\",\n    _no_repeat_ = _no_ + __repeat_,\n    _normal_ = \"normal\",\n    _normal_normal_ = \"/\" + _normal_ + \"/\" + _normal_,\n    _normal_bold_ = \"/\" + _normal_ + \"/\" + _bold_,\n    _normal_500_ = \"/\" + _normal_ + \"/500\",\n    _normal_900_ = \"/\" + _normal_ + \"/900\",\n    _normal_italic_ = \"/\" + _italic_ + \"/\" + _normal_,\n    _notLoaded_ = \"⏳\", //\"NOT LOADED\",\n    _off_ = \"off\",\n    _on_ = \"on\",\n    __only_child_ = \":only\" + __child_,\n    _opacity_ = \"opacity\",\n    _opened_ = _open_ + \"ed\",\n    _Published_via_ = \"This \" + _document_ + \" is published via \",\n    _outerHTML_ = \"outerHTML\",\n    _outline__ = \"outline-\",\n    _outline_style_ = _outline__ + _style_,\n    _outline_width_ = _outline__ + _width_,\n    _overflow_ = \"overflow\",\n    _overflow_x_ = _overflow_ + \"-x\",\n    _overflow_y_ = _overflow_ + \"-y\",\n    _padding_ = \"padding\",\n    _padding_bottom_ = _padding_ + \"-\" + _bottom_,\n    _padding_left_ = _padding_ + \"-\" + _left_,\n    _padding_right_ = _padding_ + \"-\" + _right_,\n    _padding_top_ = _padding_ + \"-top\",\n    _paragraph_ = \"paragraph\",\n    _paragraph_nav_ = _paragraph_ + __nav_,\n    _placeholder_ = \"placeholder\",\n    _playing_ = \"playing\",\n    _preload_ = \"preload\",\n    _Previous_ = \"Previous\",\n    _pre_wrap_ = \"pre-\" + _wrap_,\n    _prev_ = \"prev\",\n    __prev = \"-\" + _prev_,\n    _prs_ = \"prs\",\n    _Ready_ = \"Ready\",\n    _reset_ = \"re\" + _set_,\n    _restore_ = \"restore\",\n    _ref_footnote_ = \"ref-\" + _footnote_,\n    _revert_layer_ = \"revert-layer\",\n    _rowspan_ = \"rowspan\",\n    _rx_ = \"rx\",\n    _ry_ = \"ry\",\n    _sans_ = \"sans\",\n    _selected_ = \"selected\",\n    _serif_ = \"serif\",\n    _small_ = \"small\",\n    _span_ = \"span\",\n    _sub_ = \"sub\",\n    _stt_ = \"stt\",\n    _sup_ = \"sup\",\n    _stroke_ = \"stroke\",\n    _strong_ = \"strong\",\n    _svg_ = \"svg\",\n    __svg_ = \"-svg\",\n    __ico_ = \"-ico\",\n    _v_svg_ico_ = _v__ + _svg_ + __ico_,\n    _suffixImg_ = \".\" + _img_,\n    _suffixSvg_ = \".\" + _svg_,\n    _summary_ = \"summary\",\n    _swap_ = \"swap\",\n    _tabindex_ = _tab_ + _index_,\n    _tag_ = \"tag\",\n    _tagName_ = _tag_ + \"Name\",\n    _target_ = \"target\",\n    _tbody_ = \"t\" + _body_,\n    _text_align_ = _text_ + \"-\" + _align_,\n    _textLength_ = _text_ + \"Length\",\n    _text_shadow_ = _text_ + __shadow_,\n    _thead_ = \"thead\",\n    _theme_ = \"theme\",\n    // _thm_ = \"thm\",\n    ___v_ = \"--v-\",\n    ___v_theme__ = ___v_ + _theme_ + \"-\",\n    _thm_fav_logo_ = \"thm-fav-logo\",\n    ___v_thm_fav_logo_ = \"--\" + _thm_fav_logo_,\n    ___v_f__ = ___v_+ \"f-\",\n    _vlook__ = _vlook_ + \"-\",\n    _vlook_header_autonum_ = _vlook__ + _header_ + \"-autonum\",\n    _vlook_gray_mode_ = _vlook__ + _gray_ + __mode_,\n    _vlook_toc_ = _vlook__ + _toc_,\n    _vlook_query_ = _vlook__ + \"query\",\n    _vlookTocItem_ = \"#\" + _vlook_toc_ + \">.\" + _md_toc_item_,\n    __spliter_ = \"-spliter\",\n    _toolbar_ = \"toolbar\",\n    _transform_ = \"transform\",\n    _transform_origin_ = _transform_ + \"-origin\",\n    _translate_ = \"translate\",\n    _transparent_ = \"transparent\",\n    _true_ = \"true\",\n    _ttf_ = \"ttf\",\n    _hastwo_ = \"hastwo\",\n    _un_ = \"un\",\n    _unfreeze_ = \"unfreeze\",\n    _vdl_ = \"vdl\",\n    _docLibIdentifier_ = _target_ + \"=\" + _vdl_,\n    _v_cc_ = _v__ + \"cc\",\n    _view_ = \"view\",\n    _v_view_history_ = _v__ + _view_ + \"-\" + _history_,\n    _vk_footer_area_ = \"vk\" + __footer_ + __area_,\n    // _vk_footer_area_id_ = \"#\" + _vk_footer_area_,\n    _vk_header_ = \"vk\" + __header_ + \"-\",\n    _vk__ = \"vk-\",\n    _vk_id_ = _vk__ + _id_,\n    _vk_id__ = _vk_id_ + \"-\",\n    _vk_id_doc_cover_ = _vk_id_ + __doc_ + \"-\" + _cover_,\n    _vk_id_doc_title_ = _vk_id_ + __doc_title_,\n    _vk_id_fig_ = _vk_id__ + _fig_,\n    _vk_id_audio_ = _vk_id__ + _audio_,\n    _video_ = \"video\",\n    _vk_id_video_ = _vk_id__ + _video_,\n    _vk_id_tbl_ = _vk_id__ + \"tbl\",\n    _vk_id_math_ = _vk_id__ +  _math_,\n    _vk_id_codeblock_ = _vk_id__ + _codeblock_,\n    _vk_id_mini_audio_ = _vk_id__ + _mini_ + \"-\" + _audio_,\n    _vk_pg__ = _vk__ + \"pg-\",\n    _vlook_doc_lib_ = _vlook__ + _doc_lib_,\n    _vlook_chk_update_cloudflare_ = _vlook__ + _chkUpdate_ + \"-\" + _cloudflare_,\n    _vlook_chk_update_github_ = _vlook__ + _chkUpdate_ + \"-\" + _github_,\n    _vlook_stat__ = _vlook__ + \"stat-\",\n    _vlook_stat_gitee_ = _vlook_stat__ + \"gitee\",\n    _vlook_stat_github_ = _vlook_stat__ + _github_,\n    _vlook_stat_cloudflare_ = _vlook_stat__ + _cloudflare_,\n    ___ac_ = \"--ac-\",\n    _var_ac_rd_ = V_ui_var(___ac_ + \"rd\"),\n    _var_ac_rd_lg_ = V_ui_var(___ac_ + \"rd-lg\"),\n    _var_ac_cy_ = V_ui_var(___ac_ + \"cy\"),\n    _var_ac_cy_lg_ = V_ui_var(___ac_ + \"cy-lg\"),\n    _var_ac_og_ = V_ui_var(___ac_ + \"og\"),\n    _var_ac_og_lg_ = V_ui_var(___ac_ + \"og-lg\"),\n    __scheme_ = \"-scheme\",\n    _color_scheme_ = _color_ + __scheme_,\n    ___v_color_scheme_ = ___v_ + _color_scheme_,\n    ___cur__ = \"--cur-\",\n    _var_cur_copy_ = ___cur__ + _copy_,\n    // _var_cur_pointer_ = ___cur__ + _pointer_,\n    // _var_cur_pointer_text_ = ___cur__ + _pointer_ + __text_,\n    ___d_bc_ = \"--d-bc\",\n    _var_d_bc_ = V_ui_var(___d_bc_),\n    _var_d_fc_ = V_ui_var(\"--d-fc\"),\n    _var_fig_grid__ = \"--\" + _fig_grid__,\n    _var_mark_bg_ = V_ui_var(\"--mark-bg\"),\n    _v_nav_center_ = _v__ + _nav_center_,\n    ___v_nav_center_width_ = \"--\" + _v_nav_center_ + \"-w\",\n    _var_nav_center_hidden_left_ = \"calc(\" + V_getVarVal(___v_nav_center_width_) + \" * -2)\",//\"--\" + _vNavCenter_ + \"-\" + _hidden_ + \"-l\",\n    _var_nav_center_width_ = V_ui_var(___v_nav_center_width_),\n    ___v_r_ = ___v_ + \"r-\",\n    _v_r_b_ = ___v_r_ + \"b\",\n    _var_v_r_b_ = V_ui_var(_v_r_b_),\n    _v_r_c_ = ___v_r_ + \"c\",\n    _v_r_s_ = ___v_r_ + \"s\",\n    _v_r_t_ = ___v_r_ + \"t\",\n    _v_r_tag_ = ___v_r_ + _tag_,\n    ___v_trans_dur_ = ___v_ + \"trans-dur\",\n    _var_tbl_row_alpha_ = V_ui_var(\"--tbl-row-g-alpha\"),\n    _v_actor_ = _v__ + \"actor\",\n    _v_actor_key_sys_ = _v_actor_ + \"-key-sys\",\n    _v_actor_ext_sys_ = _v_actor_ + \"-ext-sys\",\n    _v_audio_mini_control_ = _v__ + _audio_ + \"-\" + _mini_ + __control_,\n    _v_backdrop_blurs_ = _v__ + \"backdrop-blurs\",\n    _badge_ = \"badge\",\n    _v_badge__ = _v__ + _badge_ + \"-\",\n    _v_badge_name_ = _v_badge__ + _name_,\n    _value_ = \"value\",\n    _v_badge_value_ = _v_badge__ + _value_,\n    _v_btn_ = _v__ + \"btn\",\n    _v_btn_group_ = _v_btn_ + \"-\" + _group_,\n    _v_btn__o__btn_group_ = \".\" + _v_btn_ + \",.\" + _v_btn_group_,\n    _v_btn__n__assistor_ = \".\" + _v_btn_ + \".\" + _assistor_,\n    _v_check_hash_ = _v__ + _check_ + __hash_,\n    _v_color_scheme_ = _v__ + _color_scheme_,\n    _v_content_ = _v__ + _content_,\n    _v_content_assistor_ = _v_content_ + \"-\" + _assistor_,\n    _v_card_ = _v__ + _card_,\n    __v_cap1_ = \".\" + _v__ + _cap__ + \"1\",\n    __v_cap2_ = \".\" + _v__ + _cap__ + \"2\",\n    _v_cap_cntr_ = _v__ + _cap__ + _cntr_,\n    _v_caption_ = _v__ + _caption_,\n    _v_caption__n__mermaid_ = _v_caption_ + \".\" + _mermaid_,\n    _v_chapter_nav_ = _v__ + \"chapter\" + __nav_,\n    _CodeMirror_ = \"CodeMirror\",\n    _CodeMirror_line_ = _CodeMirror_ + \"-line\",\n    _CodeMirror_code_ = _CodeMirror_ + \"-code\",\n    _v_copyright_ = _v__ + \"copyright\",\n    _v_copyright_svg_ico_ = _v_copyright_ + __svg_ + __ico_,\n    _v_cursor_laser_ = _v__ + _cursor_ + \"-\" + _laser_,\n    _v_doc__ = _v__ + _doc_ + \"-\",\n    _info_ = \"info\",\n    _v_doc_info_ = _v_doc__ + _info_,\n    _v_prs_info_ = _v__ + _prs_ + \"-\" + _info_,\n    _v_doc_lib_ = _v_doc__ + \"lib\",\n    _v_doc_lib_item_ = _v_doc_lib_ + __item_,\n    // _v_doc_logo_ = _v_doc__ + \"logo-\",\n    _v_thm_fav_logo_ = _v__ + _thm_fav_logo_,\n    _v_nav_history_ = _v__ + _nav_ + \"-\" + _history_,\n    _expander_ = \"expander\",\n    _v_float_card_ = _v__ + _float_ + \"-\" + _card_,\n    _v_float_card2_ = _v_float_card_ + \"2\",\n    __content_ = \"-\" + _content_,\n    _v_fig_content_ = _v_fig_ + __content_,\n    _v_fig_nav_ = _v_fig_ + __nav_,\n    _v_fig_nav_btn_ = _v_fig_nav_ + \"-btn\",\n    _search_ = \"search\",\n    _v_focus_search_ = _v__ + _focus_ + \"-\" + _search_,\n    _v_font_info__ = _v__ + _font_ + _info_ + \"-\",\n    _v_fontnote_pn_ = _v__ + _footnote_ + \"-pn\",\n    _v_fontnote_pn_content_ = _v_fontnote_pn_ + __content_,\n    _v_font_package_ = _v__ + _font_ + \"-package\",\n    _v_font_style_ = _v__ + _font_style_,\n    _v_font_style_download_ = _v__ + _font_style_ + \"-download\",\n    _v_font_style_current_ = _v__ + _font_style_ + __current_,\n    _v_font_style_opt_ = _v__ + _font_style_ + \"-opt\",\n    _v_font_style_opt_local_ = _v_font_style_opt_ + \"-\" + _local_,\n    _v_font_style_opt_book_ = _v_font_style_opt_ + \"-\" + _book_,\n    _v_font_style_opt_gov_ = _v_font_style_opt_ + \"-\" + _gov_,\n    _v_font_style_opt_sans_ = _v_font_style_opt_ + \"-\" + _sans_,\n    _v_font_style_opt_serif_ = _v_font_style_opt_ + \"-\" + _serif_,\n    _v_font_style_opt_albb_ = _v_font_style_opt_ + \"-\" + _albb_,\n    _v_font_style_restore_ = _v__ + _font_style_ + \"-\" + _restore_,\n    _info_tips_ = _info_ + \"-\" + _tips_,\n    __handle_ = \"-handle\",\n    _v_info_tips_ = _v__ + _info_tips_,\n    _v_std_code_ = _v__ + \"std-\" + _code_,\n    _v_breadcrumb_style_ = _v__ + \"stepwise\",\n    _v_tab_box_ = _v__ + _tab_ + \"-\" + _box_,\n    _v_tab_group_ = _v__ + _tab_group_,\n    _tab_group_wrap_ = _tab_group_ + \"-\" + _wrap_,\n    _v_table_ = _v__ + _table_,\n    _v_tag_ = _v__ + _tag_,\n    _v_tag_link = _v_tag_ + \"-\" + _link_,\n    _v_tips_ = _v__ + _tips_,\n    _v_toc__ = _v__ + \"toc-\",\n    // _v_toc_body_ = _v_toc__ + _body_,\n    _v_toc_title_ = _v_toc__ + _title_,\n    _v_index_filter_result_ = _v__ + _index_ + \"-\" + _filter_ + __result_,\n    _v_nav_center_handle_ = _v__ + _nav_center_ + __handle_,\n    _v_tool_tips_ = _v__ + \"tool-\" + _tips_,\n    _v_toolbar_ = _v__ + _toolbar_,\n    _invert_dark_ = _invert_ + \"-\" + _dark_,\n    _v_img__ = _v__ + _img_ + \"-\",\n    _v_img_lost_ = _v_img__ + \"lost\",\n    _v_img_invert_dark_ = _v_img__ + _invert_dark_,\n    _v_link_chk_result_ = _v__ + _link_ + \"-chk\" + __result_,\n    _v_link_error_ = _v__ + _link_ + \"-\" + _error_,\n    _v_link_info_list_ = _v__ + _link_ + \"-\" + _info_ + \"-list\",\n    _v_link_map_ = _v__ + _link_ + \"-map\",\n    _v_map_item_ = _v__ + \"map\" + __item_,\n    _mask_ = \"mask\",\n    _v_mask_ = _v__ + _mask_,\n    _v_mask_close_ = _v_mask_ + \"-\" + _close_,\n    _v_mermaid_restyler_ = _v__ + _mermaid_ + \"-restyler\",\n    _v_more_doc_content_ = \"v\" + __more_ + __doc_ + __content_ + \"-\",\n    // _v_nav_center_block_ = _v_nav_center_ + \"-\" + _block_,\n    // _v_nav_center_float_ = _v_nav_center_ + \"-\" + _float_,\n    _v_new_version_ = _v__ + _new_version_,\n    _v_para_nav_mask_border_ = _v__ + \"para\" + __nav_ + \"-\" + _mask_ + \"-\" + _border_,\n    _mask_rect_ = _mask_ + \"-rect\",\n    _v_post_card_ = _v__ + \"post-\" + _card_,\n    _v_pic_in_pic_ = _v__ + _pic_in_pic_,\n    _v_pip_btn_ = _v__ + \"pip-btn\",\n    _v_coating_ = _v__ + _coating_,\n    _rotate_ = \"rotate\",\n    _v_rotate_ = _v__ + _rotate_,\n    _v_rotate45_ = _v_rotate_ + 45,\n    _v_rotate90_ = _v_rotate_ + 90,\n    _v_search_by_keyword_ = _v__ + _search_ +\"-by-\" + _keyword_,\n    _v_segment_ = _v__ + \"segment\",\n    _v_segment_btn_ = _v_segment_ + \"-btn\",\n    _sts_ = \"sts\",\n    _v_sts__ = _v__ + _sts_ + \"-\",\n    _v_sts_font_style_ = _v_sts__ + _font_style_,\n    _v_sts_gray_ = _v_sts__ + _gray_,\n    _v_spotlight_ = _v__ + _spotlight_,\n    _v_spotlight_in_dark_ = _v_spotlight_ + \"-in-\" + _dark_,\n    _v_status_bar_ = \"v\" + __status_ + \"-bar\",\n    _v_svg_details_ = _v__ + \"svg-\" + _details_,\n    _v_tbl__ = _v__ + \"tbl-\",\n    _v_tbl_x_ = \".\" + _v_tbl__ + \"x\",\n    _v_tbl_x_cell_ = _v_tbl__ + \"x-\" + _cell_,\n    _v_tbl_row__ = _v_tbl__ + _row__,\n    _v_tbl_row_g_folder_ = _v_tbl_row__ + \"g-\" + _folder_,\n    __identer_ = \"-identer\",\n    _v_tbl_row_g_identer_folder_ = _v_tbl_row__ + \"g\" + __identer_ + \"-\" + _folder_,\n    _v_tbl_row_g_not_folder_ = _v_tbl_row__ + \"g-not-\" + _folder_,\n    _v_tbl_row_g_btn_ = \".\" + _v_tbl_row__ + \"g-btn\",\n    _v_tbl_row_num_hidden_ = _v_tbl_row__ + _num_ + \"-\" + _hidden_,\n    _v_tbl_col_fmt__ = _v_tbl__ + \"col-fmt-\",\n    _v_tbl_col_fmt_chkbox_ = _v_tbl_col_fmt__ + \"chkbox\",\n    _v_tbl_col_fmt_bold_ = _v_tbl_col_fmt__ + _bold_,\n    _v_tbl_col_fmt_em_ = _v_tbl_col_fmt__ + \"em\",\n    _v_tbl_col_fmt_mark_ = _v_tbl_col_fmt__ + _mark_,\n    _v_tbl_col_fmt_num_ = _v_tbl_col_fmt__ + _num_,\n    _v_tbl_col_fmt_num_decimal_ = _v_tbl_col_fmt__ + _num_ + \"-decimal\",\n    _v_tbl_col_fmt_num_negative_ = _v_tbl_col_fmt__ + _num_ + \"-negative\",\n    _v_tbl_col_fmt_num_positive_ = _v_tbl_col_fmt__ + _num_ + \"-positive\",\n    _v_tbl_col_fmt_percent_ = _v_tbl_col_fmt__ + \"percent\",\n    _v_tbl_col_fmt_currency_ = _v_tbl_col_fmt__ + \"currency\",\n    _v_tbl_row_g_sub_ = _v_tbl_row__ + \"g-sub\",\n    _v_tbl_row_g_identer_ = _v_tbl_row__ + \"g\" + __identer_,\n    _v_text_field_ = _v__ + _text_ + \"field\",\n    _v_text_field_focus_ = _v_text_field_ + \"-\" + _focus_,\n    _v_text_field_reset_ = _v_text_field_ + \"-\" + _reset_,\n    _v_toc_folder_ = \".\" + _v_toc__ + _folder_,\n    _v_toc_item_ = _v_toc__ + _item_,\n    _v_item_current_ = \"v\" + __item_ + __current_,\n    _v_transition__ = _v__ + \"transition-\",\n    _v_transition_all_ = _v_transition__ + \"all\",\n    _vertical_align_ = \"vertical-\" + _align_,\n    _view_box_ = _view_ + \"Box\",\n    _visible_ = \"visible\",\n    _visibility_ = \"visibility\",\n    _wait_ = \"wait\",\n    _wheel_ = \"wheel\",\n    _white_space_ = \"white-space\",\n    _write_ = \"write\",\n    _idWrite_ = \"#\" + _write_,\n    _woff2_ = \"woff2\",\n    // _var_write_margin_left_ = \"var(\" + ___v_ + _write_ + \"-ml)\",\n    // _var_write_margin_left_def_ = \"var(\" + ___v_ + _write_ + \"-ml-def)\",\n    _var_write_margin_left_ = V_ui_var(___v_ + _write_ + \"-ml\"),\n    _var_write_margin_left_def_ = V_ui_var(___v_ + _write_ + \"-ml-def\"),\n    _xmd_ = \"xmd\",\n    _yes_ = \"yes\",\n    _z_index_ = \"z-\" + _index_,\n    _zoom_ = \"zoom\",\n    _zoom_in_ = _zoom_ + \"-in\",\n    _zoom_out_ = _zoom_ + \"-out\",\n    _2nbsp_ = _nbsp_ + _nbsp_;\niStopwatch.st();\n\n// ==================== 内置函数调用简化 ==================== //\n\n// 控制台打印日志\nconst c = console;\nfunction LOG() {\n    c.log.apply(c, arguments);\n}\n// 控制台打印通知\nfunction INFO() {\n    c.info.apply(c, arguments);\n}\n// 控制台打印警告\nfunction WARN() {\n    c.warn.apply(c, arguments);\n}\n// 控制台打印错误\nfunction ERROR() {\n    c.error.apply(c, arguments);\n}\n// 在 debug 模式下输出调试信息\nfunction DEBUG(...info) {\n    V_debugMode\n        && WARN(...info);\n}\n// 弹窗显示信息\nfunction ALERT(m) {\n    alert(m);\n}\n\n// 获得文档 URL\nfunction WINDOW_getHref() {\n    return gLocation.href;\n}\n\n// 设置文档 URL\nfunction WINDOW_setHref(value) {\n    gLocation.href = value;\n}\n\n// 获得文档 URL 的 hash\nfunction WINDOW_getHash() {\n    return gLocation.hash;\n}\n\n// ==================== JQuery 方法调用简化 ==================== //\n\n// 定义 addClass 简化版\nfunction JQ_addClass(target, className) {\n    target !== gUndefined\n        && target.addClass(className);\n}\n\n// 定义 removeClass 简化版\nfunction JQ_removeClass(target, className) {\n    target !== gUndefined\n        && target.removeClass(className);\n}\n\n// 定义 removeAttr 简化版\nfunction JQ_removeAttr(target, attrName) {\n    target !== gUndefined\n        && target.removeAttr(attrName);\n}\n\n// 交替切换不同样式\nfunction JQ_exchangeClass(target, oldClassName, newClassName) {\n    if (target !== gUndefined) {\n        target.removeClass(oldClassName);\n        target.addClass(newClassName);\n    }\n}\n\n// 定义 attr 简化版\n$.prototype.a = function (key, value) {\n    return (value === gUndefined ? this.attr(key) : this.attr(key, value));\n}\n\n// 定义 css 简化版\n$.prototype.c = function (key, value) {\n    return (value === gUndefined ? this.css(key) : this.css(key, value));\n}\n\n// 定义 click 简化版\n$.prototype.ck = function (callback) {\n    this.on(_click_, callback);\n}\n\n// 定义 prev 简化版\n$.prototype.pr = function (value) {\n    return this.prev(value);\n}\n\n// 定义 next 简化版\n$.prototype.n = function (value) {\n    return this.next(value);\n}\n\n// 定义 nextUtil 简化版\n$.prototype.nU = function (value) {\n    return this.nextUntil(value);\n}\n\n// 定义 nextAll 简化版\n$.prototype.nA = function (value) {\n    return this.nextAll(value);\n}\n\n// 定义 children 简化版\n$.prototype.ch = function (value) {\n    return this.children(value);\n}\n\n// 定义 remove 简化版\n$.prototype.rm = function (value) {\n    return this.remove(value);\n}\n\n// 定义 empty 简化版\n$.prototype.em = function (value) {\n    return this.empty(value);\n}\n\n// 定义 each 简化版\n$.prototype.e = function (callback) {\n    this.each(callback);\n}\n\n// 定义 find 简化版\n$.prototype.f = function (value) {\n    return this.find(value);\n}\n\n// 定义 html 简化版\n$.prototype.hm = function (value) {\n    return (value === gUndefined ? this.html(): this.html(value));\n}\n\n// 定义 val 简化版\n$.prototype.v = function (value) {\n    return (value === gUndefined ? this.val() : this.val(value));\n}\n\n// 定义 width 简化版\n$.prototype.w = function() {\n    return this.width();\n}\n\n// 定义 innerWidth 简化版\n$.prototype.iW = function() {\n    return this.innerWidth();\n}\n\n// 定义 outerWidth 简化版\n$.prototype.oW = function (flag = gFalse) {\n    return this.outerWidth(flag);\n}\n\n// 定义 height 简化版\n$.prototype.h = function() {\n    return this.height();\n}\n\n// 定义 innerHeight 简化版\n$.prototype.iH = function() {\n    return this.innerHeight();\n}\n\n// 定义 outerHeight 简化版\n$.prototype.oH = function (flag = gFalse) {\n    return this.outerHeight(flag);\n}\n\n// 定义 offset 简化版\n$.prototype.o = function() {\n    return this.offset();\n}\n\n// 定义 offset().left 简化版\n$.prototype.oL = function() {\n    return this.offset().left;\n}\n\n// 定义 offset().top 简化版\n$.prototype.oT = function() {\n    return (this.offset() === gUndefined ? 0 : this.offset().top);\n}\n\n// 定义 position 简化版\n$.prototype.pos = function() {\n    return this.position();\n}\n\n// 定义 parent 简化版\n$.prototype.p = function() {\n    return this.parent();\n}\n\n// 定义 parents 简化版\n$.prototype.ps = function (value) {\n    return this.parents(value);\n}\n\n// 定义 append 简化版\n$.prototype.ap = function (value) {\n    return this.append(value);\n}\n\n// 定义 prepend 简化版\n$.prototype.pp = function (value) {\n    return this.prepend(value);\n}\n\n// 定义 before 简化版\n$.prototype.bf = function (value) {\n    return this.before(value);\n}\n\n// 定义 after 简化版\n$.prototype.af = function (value) {\n    return this.after(value);\n}\n\n// 定义 replaceWith 简化版（outerHTML）\n$.prototype.rW = function (value) {\n    return this.replaceWith(value);\n}\n\n// 定义 text 简化版\n$.prototype.t = function (value) {\n    return (value === gUndefined ? this.text() : this.text(value));\n}\n\n// 定义 toggle 简化版\n$.prototype.tg = function (value) {\n    this.toggle(value);\n}\n\n// 定义 trigger 简化版\n$.prototype.tr = function (value) {\n    this.trigger(value);\n}\n\n// 定义 unbind(\"click\") 简化版\n$.prototype.uC = function() {\n    return this.off(_click_);\n}\n\n// 定义 unbind(\"hover\") 简化版\n// $.prototype.uH = function() {\n//     return this.off(_mouseEnter_).off(_mouseLeave_);\n// }\n\n// ==================== JavaScript 方法调用简化 ==================== //\n\n// 定义 match 简化版\nString.prototype.m = function (value) {\n    return this.match(value);\n}\n\n// 定义 replace 简化版\nString.prototype.r = function (searchValue, replaceValue) {\n    return this.replace(searchValue, replaceValue);\n}\n\n// 定义 replaceAll 简化版\nString.prototype.rA = function (regExpString, value) {\n    const re = new RegExp(regExpString, \"g\");\n    return this.replaceAll(re, value);\n}\n\n// 去掉字符串中的英文句号 .\nString.prototype.xD = function() {\n    return this.replaceAll(/\\./g, _);\n}\n\n// 定义 trim 简化版\nString.prototype.x = function() {\n    return this.trim();\n}\n\n// 定义 startsWith 简化版\nString.prototype.sW = function (value) {\n    return this.startsWith(value);\n}\n\n// 定义 endsWith 简化版\nString.prototype.eW = function (value) {\n    return this.endsWith(value);\n}\n\n// 定义 indexOf 简化版\nString.prototype.i = function (value) {\n    return this.indexOf(value);\n}\n\n// 定义 toLowerCase 简化版\nString.prototype.l = function() {\n    return this.toLowerCase();\n}\n\n// 定义 toUpperCase 简化版\nString.prototype.u = function() {\n    return this.toUpperCase();\n}\n\n// 定义 substring 简化版\nString.prototype.ss = function (start, end) {\n    return this.substring(start, end);\n}\n\n// 定义 split 简化版\nString.prototype.sp = function (exp) {\n    return this.split(exp);\n}\n\n// 定义 toString 简化版\nfunction JS_toString(value) {\n    return (value === gUndefined || value === gNull) ? value : value.toString();\n}\n\n// 定义 parseInt 简化版\nfunction JS_parseInt(value) {\n    return parseInt(value);\n}\n\n// 定义 parseFloat 简化版\nfunction JS_parseFloat(value) {\n    return parseFloat(value);\n}\n\n// 定义 Math.round 简化版\nfunction JS_mathRound(value) {\n    return Math.round(value);\n}\n\n// 定义 Math.ceil 简化版\nfunction JS_mathCeil(value) {\n    return Math.ceil(value);\n}\n\n// 定义 decodeURIComponent 简化版\nfunction JS_decodeURIComponent(uri) {\n    let result = V_isValidURIComponent(uri);\n    return (result !== gFalse) ? result : uri;\n}\n\n// 定义 encodeURI 简化版\nfunction JS_encodeURI(uri) {\n    return (uri === gUndefined ? _ : encodeURI(uri));\n}\n\n// 定义 decodeURI 简化版\nfunction JS_decodeURI(uri) {\n    return (uri === gUndefined ? _ : decodeURI(uri));\n}\n\n// ========================================\n// 定义 VLOOK UI 包\nlet V_ui_effect = 0, // 0: 无动效\n    V_ui_processingAdjust= gFalse;\n\n/**\n * 淡入显示\n * @param target 目标对象\n */\nfunction V_ui_fadeShow(target) {\n    target !== gUndefined\n        && target.c(_visibility_, _visible_).c(_opacity_, 1);\n}\n\n/**\n * 淡出隐藏\n * @param target 目标对象\n */\nfunction V_ui_fadeHide(target) {\n    target !== gUndefined\n        && target.c(_visibility_, _hidden_).c(_opacity_, 0);\n}\n\n/**\n * 获得当前垂直滚动条位置\n * @param source 指定对象，不指定是默认为 document\n */\nfunction V_ui_getScrollTop(source) {\n    return (source === gUndefined ? jq_Document.scrollTop() : source.scrollTop());\n}\n\n/**\n * 获得当前水平滚动条位置\n * @param scrollContainer 指定对象，不指定是默认为 document\n */\nfunction V_ui_getScrollLeft(scrollContainer) {\n    return (scrollContainer === gUndefined ? jq_Document.scrollLeft() : scrollContainer.scrollLeft());\n}\n\n/**\n * 设置滚动条位置\n * @param pos 滚动位置\n * @param scrollMarginTopSource 应用 scroll-margin-top 的对象，为空则不应用\n * @param scrollContainer 指定的对象，不指定是默认为整个文档\n * @param animation 是否以动画方式滚动\n */\nfunction V_ui_setScrollTop(pos, scrollMarginTopSource = gUndefined, scrollContainer = gUndefined, animation = gFalse) {\n    // 标记为程序触发的滚动\n    iNavCenter.toc.lastTop = 0;\n\n    // 自动滚动至目标位置\n    if (scrollContainer === gUndefined)\n        scrollContainer = DOM_html();\n\n    // 处理是否应用 scroll-margin-top 的设置\n    let offset = (scrollMarginTopSource !== gUndefined\n        ? parseInt(scrollMarginTopSource.c(_scroll_ + \"-\" + _margin_top_))\n        : 0);\n\n    animation\n        // 以动画方式滚动到目标位置\n        ? scrollContainer.animate({ scrollTop: (pos - offset) }, gTransDuration)\n        // 直接到达目标位置\n        : scrollContainer.scrollTop(pos - offset);\n}\n\n// --- 保留备用 ---\n// --- 目前通过调整父级元素（ body, content ）的 overflow 属性解决 ---\n/**\n * 停止滚动事件，在指定对象滚动到顶部、底部后冒泡到其他对象\n * @param target 滚动内容对象\n */\n// function V_ui_stopScrollPropagation(target) {\n//     target[0].addEventListener(_wheel_, (event) => {\n//         let scrollTop = V_util_getScrollTop(target),\n//             isAtTop = (scrollTop === 0),\n//             isAtBottom = (Math.round(scrollTop + target.oH()) >= Math.round(target[0].scrollHeight));\n\n//         // 如果到达顶部或底部，阻止默认的滚动行为\n//         if ((isAtTop && event.deltaY < 0) || (isAtBottom && event.deltaY > 0))\n//             V_util_preventDefault(event);\n//     });\n// }\n\n/**\n * 用 <kdb> 标签包裹内容\n * @param content 被包裹的内容\n */\nfunction V_ui_wrap_kbd(content) {\n    return \"<kbd>\" + content + \"</kbd>\"\n}\n\n/**\n * 获得当前 OS 环境下的 Ctrl 键 UI 元素\n */\nfunction V_ui_getCtrlKeyUI(unwrap = gTrue, short) {\n    let key = short ? \"⌃\"\n        : (env.os.macOS ? \"⌃ control\" : \"⌃ Ctrl\");\n    return unwrap ? key : V_ui_wrap_kbd(key);\n}\n\n/**\n * 获得当前 OS 环境下的 Shift 键 UI 元素\n */\nfunction V_ui_getShiftKeyUI(unwrap = gTrue, short) {\n    let key = short ? \"⇧\" : \"⇧ shift\";\n    return unwrap ? key : V_ui_wrap_kbd(key);\n}\n\n/**\n * 获得当前 OS 环境下的 Alt / Option 键 UI 元素\n */\nfunction V_ui_getAltKeyUI(unwrap = gTrue, short) {\n    let str = env.os.macOS\n        ? (short ? \"⌥\" : \"⌥ option\") : \"Alt\";\n    return unwrap ? str : V_ui_wrap_kbd(str);\n}\n\n/**\n * 获得当前 OS 环境下的 Windows / Command 键 UI 元素\n */\nfunction V_ui_getMetaKeyUI(unwrap = gTrue, short) {\n    let str = env.os.macOS\n        ? (short ? \"⌘\" : \"⌘ command\") : \"Win\";\n    return unwrap ? str : V_ui_wrap_kbd(str);\n}\n\n/**\n * 获取组合键组合的描述\n * @param event 事件对象\n */\nfunction V_ui_getCombKeys(event) {\n    return (event.ctrlKey ? V_ui_getCtrlKeyUI() : _)\n        + (event.shiftKey ? V_ui_getShiftKeyUI() : _)\n        + (event.altKey ? V_ui_getAltKeyUI() : _)\n        + (event.metaKey ? V_ui_getMetaKeyUI() : _);\n}\n\n/**\n * 获得 VLOOK 与技术支持信息内容\n * @returns string VLOOK 与技术支持信息内容\n */\nfunction V_ui_copyrightInfo() {\n    return V_ui_div(_, _v_copyright_ +___+ _v_transition_all_,\n        // V_ui_svgIcon(_icoVLOOK_, 20, 20, _btnFc_, _v_copyright_svg_ico_)\n        V_ui_svgIcon(_icoVLOOK_, 20, 20, _current_color_, _v_copyright_svg_ico_)\n        + _2nbsp_\n        + _Published_via_ + V_ui_strong(V_ui_a(_, _httpsPrefix_ + _githubVlook_, _VLOOK_, __blank_))\n        + '™ (' + gVer + ')'\n        // +___+ '&amp;' +___+ + V_ui_strong(V_ui_a(_, _httpsPrefix_ + \"www.typora.io\", \"Typora\", __blank_)) + '.'\n        // + _2nbsp_ + 'Support: ' + V_ui_strong(V_ui_a(_, _httpsPrefix_ + \"qm.qq.com/cgi-bin/qm/qr?k=oB8wpFG_4SEMf1CL9qVy-jMw0CMfSwff&jump_from=webapi\", \"QQ Group\"))\n        // + ' / ' + V_ui_strong(V_ui_a(_, 'mailto:67870144@qq.com?subject=Feedback%20about%20VLOOK%20' + V_ver + '&body=Hi,%0D%0A%0D%0A====================%0D%0A%0D%0A' + JS_encodeURI(env.info(gTrue)), \"Email\")) + '.'\n    );\n}\n\n/**\n * 判断是否为小屏（包括移动端）\n */\nfunction V_ui_isSmallScreen() {\n    return jq_Window.oW() <= gSmallScreenWidth;\n}\n\n/**\n * 返回对象的容器尺寸信息\n * @param target JavaScript 对象\n * @returns\n */\nfunction V_ui_getRect(target) {\n    return target.getBoundingClientRect();\n}\n\n/**\n * 判断是否已隐藏\n */\nfunction V_ui_isHidden(target) {\n    return target !== gUndefined\n        && (target.c(_display_) === _none_ || target.c(_visibility_) === _hidden_ || target.c(_opacity_) === \"0\");\n}\n\n/**\n * 判断是否已显示\n */\nfunction V_ui_isShowed(target) {\n    return !V_ui_isHidden(target);\n}\n\n/**\n * 判断是否有封面\n */\nfunction V_ui_hasCover() {\n    return VOM_cover() !== gUndefined;\n}\n\n/**\n * 判断是否在任意章节中（不包括封面）\n */\nfunction V_ui_inHeader() {\n    return iNavCenter.toc.inHeader();\n}\n\n/**\n * 工具栏样式切换\n * @param float true: 浮动，false: 不浮动\n */\nfunction V_ui_toolbarFloat(float = gTrue) {\n    let tb = iToolbar.ui,\n        btnGroup = tb.ch(_v_btn__o__btn_group_);\n    float ? (\n        // 调整工具栏样式\n        JQ_removeClass(tb, _v_float_card_),\n        JQ_addClass(tb, _cover_),\n        // 为工具栏按钮添加浮动样式\n        JQ_addClass(btnGroup, _v_float_card_),\n        JQ_addClass(btnGroup, _float_)\n    )\n    : (\n        // 调整工具栏样式\n        JQ_addClass(tb, _v_float_card_),\n        JQ_removeClass(tb, _cover_),\n        // 去掉工具栏按钮的浮动样式\n        JQ_removeClass(btnGroup, _v_float_card_),\n        JQ_removeClass(btnGroup, _float_)\n    );\n}\n\n/**\n * 生成 jQuery / CSS 选择器 :not() 的内容\n * @param value 属性值\n */\nfunction V_not(value) {\n    return \":not(\" + value + \")\";\n}\n\n/**\n * 生成 HTML 标签属性与值内容（指定关系运算符）\n * @param attrName 属性名称\n * @param attrValue 属性值\n */\nfunction V_attr(attrName, attrValue) {\n    return attrName + '=\"' + attrValue + '\"';\n}\n\n/**\n * 生成 jQuery / CSS 选择器的属性与值内容\n * @param attrName 属性名称\n * @param attrValue 属性值\n * @param op 关系运算符，不指定时默认为 =，可添加指定前缀，如 * ^ !\n */\nfunction V_attrCSS(attrName, attrValue, op) {\n    op = (op === gUndefined ? \"=\" : op + \"=\");\n    attrValue = (attrValue !== gUndefined) ? op + '\"' + attrValue + '\"': _;\n    return \"[\" + attrName + attrValue + \"]\";\n}\n\n// 内嵌的流媒体平台选择器\nlet gSelector_iframeVideo = _iframe_ + V_attrCSS(_src_, \"bilibili.com/\" + _player_, \"*\") + \",\" + _iframe_ + V_attrCSS(_src_, \"douyin.com/\" + _player_, \"*\") + \",\" + _iframe_ + V_attrCSS(_src_, \"ixigua.com/\" + _iframe_, \"*\") + \",\" + _iframe_ + V_attrCSS(_src_, \"qq.com/txp/\" + _iframe_, \"*\") + \",\" + _iframe_ + V_attrCSS(_src_, \"youtube.com/embed\", \"*\");\n\n/**\n * 修改文档的图标（即用于收藏夹、标签栏的图标）\n * @param iconData 图标数据，url(\"data:image/png:xxxx\") 中的双引号内的内容\n */\nfunction V_ui_changeDocIcon(iconData) {\n    V_byID(_doc_icon_).rm();\n    $(\"head\").ap(V_ui_linkIcon(_doc_icon_, V_getImageData(iconData)));\n}\n\n/**\n * 生成 SVG 图标\n * @param icon 图标资源集标识\n * @param w 图标宽度\n * @param h 图标高度\n * @param color 内置图标样式 v-svg-ico-xxx 标识：light / dark / alpha / ...\n * @param classValue 扩展补充的 class 样式\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n */\nfunction V_ui_svgIcon(icon, w, h, color, classValue, extAttr) {\n    // 生成 class 内容\n    classValue = (classValue !== gUndefined && V_length(classValue) > 0) ? ___+ classValue : _;\n    // 生成扩展的属及值\n    extAttr = (extAttr !== gUndefined && V_length(extAttr) > 0) ? ___+ extAttr : _;\n    return '<' + _svg_ +___+ _width_ + '=\"' + w + 'px\" ' + _height_ + '=\"' + h + 'px\" ' + _class_ + '=\"' + _v_svg_ico_ + '-' + _small_ + classValue + '\"' + extAttr + '>'\n        + '<' + _use_ +___+ _class_ + '=\"' + _v_svg_ico_ + '-' + color + '\" ' + V_attr(_xlink_href_, \"#\" + icon) + '>'\n        + '</' + _use_ + '></' + _svg_ + '>';\n}\nfunction V_ui_svgIcon2(icon, w, h) {\n    return '<' + _svg_ +___+ _width_ + '=\"' + w + 'px\" ' + _height_ + '=\"' + h + 'px\">'\n        + '<' + _use_ +___+ V_attr(_xlink_href_, \"#\" + icon) + '>'\n        + '</' + _use_ + '></' + _svg_ + '>';\n}\n\n/**\n * 生成 svg 的 symbol 标签（不用于嵌套）\n * @param idValue id 属性值\n * @param content 标签的内容\n */\nfunction V_ui_symbol(idValue, content) {\n    return V_ui_htmlTag(\"symbol\", idValue, _, _, content);\n}\n\n/**\n * 生成 svg 的 path 标签\n * @param d d 属性的内容\n * @param fill fill 属性的内容\n * @returns\n */\nfunction V_ui_path(d, fill) {\n    fill = (fill !== gUndefined && V_length(fill) > 0) ? ___+ V_attr(_fill_, fill) : _;\n    return '<path d=\"' + d + '\"' + fill + '/>';\n}\n\n/**\n * 展开 details ，或父级元素为 details\n * @param target 目标对象\n */\nfunction V_ui_openDetails(target) {\n    if (target === gUndefined)\n        return;\n\n    // 针对任一父级元素为 details 的情况\n    let detailsParent = target.closest(_details_);\n    if (V_length(detailsParent) > 0 && !detailsParent[0].open) {\n        detailsParent[0].open = gTrue;\n        return gTrue;\n    }\n\n    // 如果为 details 则未展开，则自动展开\n    if (V_tagName(target) === _details_ && !target[0].open) {\n        target[0].open = gTrue;\n        return gTrue;\n    }\n}\n\n/**\n * 切换页签组项目\n * @param target 目标对象\n */\nfunction V_ui_switchToTabItem(target) {\n    let tabContent = target.closest(V_attrCSS(_data_tab_group_) + \",\" + V_attrCSS(_data_tab_group_id_));\n    if (V_length(tabContent) > 0 && tabContent.c(_display_) === _none_) {\n        let anchor = tabContent.ch(V_attrCSS(_id_)).first().a(_id_),\n            tab = $(_span_ + V_attrCSS(_data_tab_for_, anchor));\n        // 模拟点击对应页签项\n        if (V_length(tab) > 0) {\n            TabGroup_tabItemClick(tab, gFalse);\n            return gTrue;\n        }\n    }\n    return gFalse;\n}\n\n/**\n * 生成 img 标签\n * @param classValue class 属性值\n * @param alt alt 属性值\n * @param src src 属性值\n * @param srcset srcset 属性值\n * @param loading loading 属性值\n */\nfunction V_ui_img(classValue, alt, src, srcset, loading) {\n    classValue = (classValue !== gUndefined && V_length(classValue) > 0) ? ___+ V_attr(_class_, classValue) : _;\n    alt = (alt !== gUndefined && V_length(alt) > 0) ? ___+ V_attr(_alt_, alt) : _;\n    src = (src !== gUndefined && V_length(src) > 0) ? ___+ V_attr(_src_, src) : _;\n    srcset = (srcset !== gUndefined && V_length(srcset) > 0) ? ___+ V_attr(_srcset_, srcset) : _;\n    loading = (loading !== gUndefined && V_length(loading) > 0) ? ___+ V_attr(_loading_, _lazy_) : _;\n    return '<' + _img_ + classValue + alt + src + srcset + loading + '>';\n}\n\n/**\n * 生成 iframe 标签\n * @param id id 属性值\n * @param name name 属性值\n * @param loading loading 属性值\n */\nfunction V_ui_iframe(id, name, loading) {\n    name = (name !== gUndefined && V_length(name) > 0) ? ___+ V_attr(_name_, name) : _;\n    loading = (loading !== gUndefined && V_length(loading) > 0) ? ___+ V_attr(_loading_, _lazy_) : _;\n    return V_ui_htmlTag(_iframe_, id, _, name + loading, _);\n}\n\n/**\n * 生成 input 标签\n * @param id id 属性值\n * @param name name 属性值\n * @param type type 属性值\n * @param value value 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n */\nfunction V_ui_input(id, name, type, value, extAttr) {\n    id = (id !== gUndefined && V_length(id) > 0) ? ___+ V_attr(_id_, id) : _;\n    name = (name !== gUndefined && V_length(name) > 0) ? ___+ V_attr(_name_, name) : _;\n    type = (type !== gUndefined && V_length(type) > 0) ? ___+ V_attr(_type_, type) : _;\n    value = (value !== gUndefined && V_length(value) > 0) ? ___+ V_attr(_value_, value) : _;\n    extAttr = (extAttr !== gUndefined && V_length(extAttr) > 0) ? ___+ extAttr : _;\n    return '<' + _input_ + id + name + type + value + extAttr + ' />';\n}\n\n/**\n * 生成 figure 标签\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n*/\nfunction V_ui_figure(classValue, extAttr, content) {\n    return V_ui_htmlTag(_figure_, _, classValue, extAttr, content);\n}\n\n/**\n * 生成 figcaption 标签\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n*/\nfunction V_ui_figcaption(classValue, extAttr, content) {\n    return V_ui_htmlTag(_figcaption_, _, classValue, extAttr, content);\n}\n\n/**\n * 生成 nav 标签\n * @param idValue id 属性值\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_nav(idValue, classValue, extAttr, content) {\n    return V_ui_htmlTag(_nav_, idValue, classValue, extAttr, content);\n}\n\n/**\n * 生成 aside 标签\n * @param idValue id 属性值\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_aside(idValue, classValue, extAttr, content) {\n    return V_ui_htmlTag(\"aside\", idValue, classValue, extAttr, content);\n}\n\n/**\n * 生成 article 标签\n * @param idValue id 属性值\n * @param classValue class 属性值\n * @param content 标签的内容\n */\nfunction V_ui_article(idValue, classValue, content) {\n    return V_ui_htmlTag(\"article\", idValue, classValue, _, content);\n}\n\n/**\n * 生成 header 标签\n * @param idValue id 属性值\n * @param classValue class 属性值\n * @param content 标签的内容\n */\nfunction V_ui_header(idValue, classValue, content) {\n    return V_ui_htmlTag(_header_, idValue, classValue, _, content);\n}\n\n/**\n * 生成 section 标签\n * @param idValue id 属性值\n * @param classValue class 属性值\n * @param content 标签的内容\n */\nfunction V_ui_section(idValue, classValue, content) {\n    return V_ui_htmlTag(\"section\", idValue, classValue, _, content);\n}\n\n/**\n * 生成 div 标签\n * @param idValue id 属性值\n * @param classValue class 属性值\n * @param content 标签的内容\n */\nfunction V_ui_div(idValue, classValue, content) {\n    return V_ui_htmlTag(\"div\", idValue, classValue, _, content);\n}\n\n/**\n * 生成 div 标签\n * @param idValue id 属性值\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_divExt(idValue, classValue, extAttr, content) {\n    return V_ui_htmlTag(\"div\", idValue, classValue, extAttr, content);\n}\n\n/**\n * 生成 CSS 变量\n * @param varName 变量名称\n */\nfunction V_ui_var(varName) {\n    return 'var(' + varName+ ')';\n}\n\n/**\n * 生成 strong 标签\n * @param content 标签的内容\n */\nfunction V_ui_strong(content) {\n    return V_ui_htmlTag(_strong_, _, _, _, content);\n}\n\n/**\n * 生成 span 标签\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_span(classValue, extAttr, content) {\n    return V_ui_htmlTag(_span_, _, classValue, extAttr, content);\n}\n\n/**\n * 生成 sub 标签\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_sub(classValue, extAttr, content) {\n    return V_ui_htmlTag(_sub_, _, classValue, extAttr, content);\n}\n\n/**\n * 生成 sup 标签\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_sup(classValue, extAttr, content) {\n    return V_ui_htmlTag(_sup_, _, classValue, extAttr, content);\n}\n\n/**\n * 生成 label 标签\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_label(classValue, extAttr, content) {\n    return V_ui_htmlTag(_label_, _, classValue, extAttr, content);\n}\n\n/**\n * 生成 link icon 标签\n * @param idValue id 属性值\n * @param href href 的内容\n */\nfunction V_ui_linkIcon(idValue, href) {\n    return \"<\" + _link_ + \" rel='icon' id='\" + idValue + \"' href='\" + href + \"'/>\";\n}\n\n/**\n * 生成 a 标签\n * @param idValue id 属性值\n * @param href href 属性值\n * @param content 标签的内容\n * @param target href 属性值\n */\nfunction V_ui_a(idValue, href, content, target) {\n    href = (href !== gUndefined && V_length(href) > 0) ? ___+ V_attr(_href_, href): _;\n    target = (target !== gUndefined && V_length(target) > 0) ? ___+ V_attr(_target_, target) : _;\n    return V_ui_htmlTag(\"a\", idValue, _, href + target, content);\n}\n\n/**\n * 生成 audio 标签\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_audio(extAttr, content) {\n    return V_ui_htmlTag(_audio_, _, _, extAttr, content);\n}\n\n/**\n * 生成 video 标签\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_video(extAttr, content) {\n    return V_ui_htmlTag(_video_, _, _, extAttr, content);\n}\n\n/**\n * 生成 html 的标签\n * @param tag 标签名称，如：strong, div, span 等\n * @param idValue id 属性值\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_htmlTag(tag, idValue, classValue, extAttr, content) {\n    // 标签的 id 属性\n    idValue = (idValue !== gUndefined && V_length(idValue) > 0) ? ___+ V_attr(_id_, idValue) : _;\n    // 标签的 class 属性\n    classValue = (classValue !== gUndefined && V_length(classValue) > 0) ? ___+ V_attr(_class_, classValue) : _;\n    // 标签的扩展属性与取值\n    extAttr = (extAttr !== gUndefined && V_length(extAttr) > 0) ? ___+ extAttr : _;\n    // 标签的内容\n    if (content === gUndefined)\n        content = _;\n    return '<' + tag + idValue + classValue + extAttr + '>' + content + '</' + tag + '>';\n}\n\n/**\n * 切换当前选择的条目样式\n * @param taregt 条目集合的父元素对象\n * @param item 新的当前条目对象\n * @param isChildren 指定的 target 是子元素，默认为 false\n */\nfunction V_ui_tg_currentItem(taregt, item, isChildren = gFalse) {\n    V_ui_tg_resetCurrentItem(taregt, isChildren);\n    JQ_addClass(item, _v_item_current_);\n}\n\n/**\n * 重置当前选择条目的样式\n * @param taregt 条目集合的父元素对象\n * @param isChildren 指定的 target 是子元素，默认为 false\n */\nfunction V_ui_tg_resetCurrentItem(taregt, isChildren = gFalse) {\n    JQ_removeClass(isChildren\n            ? taregt\n            : taregt.ch(\".\" + _v_item_current_),\n        _v_item_current_);\n}\n\n/**\n * 设置 data-no-more 属性值\n * @param target 目标对象\n * @param items 记录集\n */\nfunction V_ui_set_dataNoMore(target, items) {\n    // 以下的 ·–·–· 是莫尔斯电码（Morse Code）中用于表示结束或没有更多内容的信号是 “AR”\n    target.a(_data_no_more_, V_length(items) > 0 ? \"· – · – ·\" : \"( \" + V_lang_text67() + \" )\");\n}\n\n/**\n * 判断鼠标当前位置是否落在指定对象的区域范围内\n * @param target 指定对象\n * @param event 事件对象\n */\nfunction v_ui_mouseDropIn(target, event) {\n    if (target === gUndefined)\n        return false;\n    let mx = event.pageX || V_eventClientX(event) + gDocument.body.scrollLeft,\n        my = event.pageY || V_eventClientY(event) + gDocument.body.scrollTop;\n    return !(mx <= target.oL() || mx >= (target.oL() + target.oW())\n        || my <= target.oT() || my >= (target.oT() + target.oH()));\n}\n\n/**\n * 将预置颜色标识转换为驼峰格式\n * @param color 预置的颜色标识\n */\nfunction V_ui_campColor(color) {\n    // 渐变色\n    if (V_length(color) > 3) {\n        let gradientColors = V_ui_splitColors(color),\n            count = V_length(gradientColors),\n            colorStr = _, gColor;\n        for (let i = 0; i < count; i++) {\n            gColor = gradientColors[i];\n            colorStr += gColor.charAt(0).u() + gColor.slice(1);\n        }\n        return colorStr;\n    }\n    // 单色\n    return color.charAt(0).u() + color.slice(1);\n}\n\n/**\n * 拆分渐变的预置颜色标识\n * @param color 预置的颜色标识\n * @return Array[] 颜色标识数组\n */\nfunction V_ui_splitColors(color) {\n    let gradientColors = color.l().sp(/(\\S{2})/i);\n    return gradientColors.filter(item => item !== _);\n}\n\n/**\n * 格式化颜色为 rgba 格式\n * @param rgb RGB 颜色分量数组\n * @param opacity 透明度，0:透明，1:不透明\n */\nfunction V_ui_formatRGBA(rgb, opacity) {\n    return \"rgba(\" + rgb[0] + \",\" + rgb[1] + \",\" + rgb[2] + \",\" + opacity + \")\";\n}\n\n/**\n * 生成文本渐变色 CSS 代码\n * @param gradientColors 渐变色色号内容，如：RdBuYe\n * @param fade 透明度子标识\n */\nfunction V_ui_genGradColorCSS(gradientColors, fade) {\n    let css = _,\n        count = V_length(gradientColors),\n        color = _;\n    for (let i = 0; i < count; i++) {\n        color = gradientColors[i];\n        css += V_ui_var(___ac_ + color + fade);\n        if (i < count - 1)\n            css += \",\";\n    }\n    return css;\n}\n\n/**\n * 垂直方向滚动时对更多内容的样式处理\n * @param target 滚动内容的父级对象\n * @param vertical 垂直方向滚动，如果是水平方向滚动则为 false\n */\nfunction V_ui_scrolling(target, vertical = gTrue) {\n    let scrollStart = V_ui_getScrollTop(target),\n        clientSize = target[0].clientHeight,\n        scrollSize = target[0].scrollHeight,\n        startCss = _top_ + __more_,\n        endCss = _bottom_ + __more_;\n\n    // 水平方向滚动时\n    !vertical\n        && (\n            scrollStart = V_ui_getScrollLeft(target),\n            clientSize = target[0].clientWidth,\n            scrollSize = target[0].scrollWidth,\n            startCss = _left_ + __more_,\n            endCss = _right_ + __more_\n        );\n\n    // 如有可滚动的内容时\n    clientSize !== scrollSize\n        && JQ_addClass(target, _scroll_);\n\n    // 向后滚动后则显示开始位置的渐变条\n    scrollStart > 0\n        ? JQ_addClass(target, startCss)\n        // 否则隐藏\n        : JQ_removeClass(target, startCss);\n\n    // 向后滚动到最末尾，则隐藏渐变条\n    if (scrollStart + clientSize >= scrollSize - 10) {\n        JQ_removeClass(target, endCss);\n\n        // 添加无更多内容的提示样式，并强制滚动到最后\n        vertical\n            && JQ_addClass(target, _no_more_);\n    }\n    // 否则显示\n    else if (scrollStart + clientSize < scrollSize - 10) {\n        JQ_addClass(target, endCss);\n        JQ_removeClass(target, _no_more_);\n    }\n}\n\n// 定义滚动事件流控与防抖函数\nlet V_ui_disposeScroll = V_throttle(V_ui_scrolling, 1000), // 以限流控制方式调用\n    V_ui_disposeScroll_stoped = V_debounce(V_ui_scrolling, 100); // 以防抖控制方式调用\n\n/**\n * 绑定滚动后触发更多内容样式显示事件\n * @param target 滚动内容的父级对象\n * @param vertical 垂直方向滚动，如果是水平方向滚动则为 false\n*/\nfunction V_ui_bindScrollWithMoreContent(target, vertical = gTrue) {\n    if (target === gUndefined)\n        return;\n\n    target.on(_scroll_, () => {\n        // 滚动限流控制执行\n        V_ui_disposeScroll(target, vertical);\n        // 滚动后延时再执行一次\n        V_ui_disposeScroll_stoped(target, vertical);\n    });\n}\n\n/**\n * 触发滚动事件处理\n * @param target 滚动事件的目标对象\n * @param vertical true：垂直方向，false：水平方向\n */\nfunction V_ui_scrollingUpdate(target, vertical = gTrue) {\n    if (target === gUndefined)\n        return;\n\n    // 不能调用触发滚动事件 .tr(_scroll_)，会因限流控制无法正常触发\n    V_ui_scrolling(target, vertical);\n}\n\n/**\n * 绑定并监控对象高度变化后触发滚动样式更新处理\n * @param target 滚动内容的父级对象\n * @param vertical 垂直方向滚动，如果是水平方向滚动则为 false\n * @returns MutationObserver 对象，可用于停止监听 disconnect()\n*/\nfunction V_ui_bindObserveHeightChange(target, vertical = gTrue) {\n    if (V_isLength0(target))\n        return;\n\n    let observer = new MutationObserver(mutations => {\n        for (let mutation of mutations)\n            if (mutation.type === _child_ + \"List\" || mutation.type === _attribute_ + \"s\") {\n                V_ui_disposeScroll(target, vertical);\n                V_ui_disposeScroll_stoped(target, vertical);\n            }\n    });\n\n    observer.observe(target[0], {\n        attributeFilter : [_style_], // 监听特定属性\n        // attributes: true, // 监听属性变化（如 style）\n        childList: true, // 监听子元素新增/删除\n        subtree : true // 监听所有后代元素\n    });\n\n    return observer;\n}\n\n/**\n * 初始 UI 国际化\n */\nfunction V_ui_initI18n() {\n    iToolbar.btns[_nav_center_].a(_data_tips_, V_lang_text6() + \"\\n\" + V_ui_sub(_, _, V_ui_wrap_kbd(\"O\")));\n\n    iToolbar.btns[_doc_lib_].a(_data_tips_, V_lang_text7() + \"\\n\" + V_ui_sub(_, _, V_ui_wrap_kbd(\"L\")));\n\n    iToolbar.btns[_paragraph_nav_].a(_data_tips_, V_lang_text8() + \"\\n\" + V_ui_sub(_, _, V_ui_wrap_kbd(\"J\") + \" , \" + V_ui_wrap_kbd(\"K\"))\n        + V_ui_sup(_, _, _2br_ + V_lang_text28() + V_lang_text(33, [\n            \"切换步长大小\",\n            \" to switch the step size\"\n        ]) + _br_ + V_ui_wrap_kbd(V_ui_getCtrlKeyUI()) + \" / \" + V_ui_wrap_kbd(\"⇧ shift\")));\n\n    iToolbar.btns[_spotlight_].a(_data_tips_, V_lang_text9() + \"\\n\" + V_ui_sub(_, _, V_ui_wrap_kbd(\"S\"))\n        + V_ui_sup(_, _, _2br_ + V_lang_text(33, [\n            \"切换聚光灯大小\",\n            \"Toggle the size of the spotlight\"\n        ]) + _br_ + V_ui_wrap_kbd(\"⇧ Shift\")));\n\n    iToolbar.btns[_laser_pointer_].a(_data_tips_, V_lang_text10() + \"\\n\" + V_ui_sub(_, _, V_ui_wrap_kbd(\"P\")));\n\n    iChapterNav.prev.ui.a(_data_tips_, V_ui_wrap_kbd(\"←\") +___+ V_lang_text15());\n\n    iChapterNav.next.ui.a(_data_tips_, V_lang_text16() +___+ V_ui_wrap_kbd(\"→\"));\n\n    iChapterNav.dt.a(_data_tips_, V_lang_text(13, [\n        \"回到封面\",\n        \"Go back to the \" + _document_ +___+ _cover_\n    ]));\n\n    iChapterNav.cur.ui.a(_data_tips_, V_lang_text(14, [\n        \"回到本章的开始\",\n        \"Go back to the beginning of this chapter\"\n    ]));\n\n    FigureNav_btns.prev.a(_title_, \"[ ← ] \" + V_lang_text15());\n\n    FigureNav_btns.next.a(_title_, V_lang_text16() + \" [ → ]\");\n\n    FigureNav_btns.close.a(_title_, \"[ ESC ] \" + V_lang_text17());\n\n    iFontStyle.ui.f(\".\" + _v_font_style_download_).hm(V_lang_text(19, [\n        \"若无法连接互联网加载在线版本字体，建议将字体直接下载到本地\",\n        \"If you cannot connect to the Internet to load the online version of the font, it is recommended to download the font directly to the local\"\n    ]) + \" (\" + V_ui_a(_, \"https://pan.baidu.com/s/1TSHwjuOOpR8UM08Fs8vOxg?pwd=9981\", V_lang_text(20, [\n        \"主站链接\",\n        \"Primary link\"\n    ])) + \" | \" + V_ui_a(_, \"https://drive.google.com/file/d/1EkWwYtGBovdH53fF3fubLYPgKle3JrRR/view?usp=sharing\", V_lang_text(21, [\n        \"备用链接\",\n        \"Secondary link\"\n    ])) + \")\");\n}\n\n/**\n * 移动到中间\n * @param source 源对象\n */\nfunction V_ui_moveToCenter(source) {\n    let l = (jq_Window.w() - source.oW()) / 2,\n        r = _auto_;\n    // 移动端的处理\n    V_isMobile()\n        && (\n            l = 10,\n            r = 10\n        );\n\n    source.c(_left_, l)\n        .c(_right_, r)\n        .c(_top_, (jq_Window.h() - source.h()) / 2);\n}\n\n/**\n * 移动到中间\n * @param source 源对象\n * @param target 目标对象\n */\nfunction V_ui_moveToTarget(source, target) {\n    let l = target.oL(),\n        w = source.oW();\n    if (l + w + 10 > jq_Window.w())\n        l = jq_Window.w() - w - 10;\n\n    source.c(_left_, l)\n        .c(_top_, target.oT() - V_ui_getScrollTop() + target.h() + 10);\n}\n\n/**\n * 移动到指定的角\n * @param source 源对象\n * @param corner corner1:左上角，corner2:右上角，corner3:右下角，corner4:左下角\n */\nfunction V_ui_moveToCorner(source, corner) {\n    (corner === _corner_ + \"3\") &&\n        source.c(_right_, 20)\n            .c(_bottom_, 50);\n}\n\n/**\n * 进行文档导航相关的 UI 元素的适配处理\n */\nfunction V_ui_adjustAll() {\n    if (V_ui_processingAdjust)\n        return;\n\n    V_ui_processingAdjust = gTrue;\n\n    iNavCenter.adjust()\n        && ContentFolder_adjust();\n    iChapterNav.adjust();\n\n    iToolbar.adjust();\n    // 适配相关的 UI\n    MoreDocContent_updateUI();\n\n    V_ui_processingAdjust = gFalse;\n}\n\n/**\n * 模拟等待页面完成跳转后，再进行导航中心布局自适应处理\n */\nlet V_ui_adjustAllDelay = V_debounce(() => { // 以防抖方式执行\n    V_ui_adjustAll();\n    ExtQuote_uniteColumnsHeight();\n}, 100);\n\n/**\n * 根据设备类型自适应 hover 样式（单个）\n */\n// function V_ui_adjustHoverStyle(target) {\n//     // 移动设备时解绑样式事件\n//     V_isMobile()\n//         ? target.uH()\n//         // 非移动设备时绑定样式事件\n//         : V_ui_bindHover(target);\n// }\n\n/**\n * 根据设备类型自适应 hover 样式（多个）\n */\n// function V_ui_adjustHoverStyle2() {\n//     // 移动设备时解绑样式事件\n//     V_isMobile() ? (\n//         $(_v_btn__o__btn_group_).uH(),\n//         V_byClass(_v_segment_btn_).uH(),\n//         V_byClass(_v_resume_reading_).uH(),\n//         NavHistory_ui.uH(),\n//         NavHistory_ui.ch(_div_).uH(),\n//         StatusBar_ui.ch(V_not(V_attrCSS(_class_, \"-\" + _info_, \"*\"))).uH(),\n//         V_byID(_vlook_toc_, \">.\" + _v_doc_lib_item_).uH(),\n//         V_byClass(_v_std_code_).uH(),\n//         V_byClass(_v_tag_).uH(),\n//         V_byClass(_v_badge_name_).uH(),\n//         V_byClass(_v_badge_value_).uH(),\n//         V_byClass(_v_toc_item_).uH(),\n//         V_byClass(_v_map_item_).uH(),\n//         $(_summary_).uH(),\n//         $(_v_tbl_row_g_btn_).uH()\n//     )\n//     // 非移动设备时绑定样式事件\n//     : (\n//         // 所有常规按钮 hover 事件处理\n//         V_ui_bindHover($(_v_btn__o__btn_group_)),\n//         // 所有导航中心分段控制按钮 hover 事件处理\n//         V_ui_bindHover(V_byClass(_v_segment_btn_)),\n//         V_ui_bindHover(V_byClass(_v_resume_reading_)),\n//         V_ui_bindHover(NavHistory_ui),\n//         V_ui_bindHover(NavHistory_ui.ch(_div_)),\n//         // 状态栏上的按钮\n//         V_ui_bindHover(StatusBar_ui.ch(V_not(V_attrCSS(_class_, \"-\" + _info_, \"*\")))),\n//         // 文库按钮 hover 事件处理\n//         V_ui_bindHover(V_byID(_vlook_toc_, \">.\" + _v_doc_lib_item_)),\n//         // 代码、标签类 hover 事件处理\n//         V_ui_bindHover(V_byClass(_v_std_code_)),\n//         V_ui_bindHover(V_byClass(_v_tag_)),\n//         V_ui_bindHover(V_byClass(_v_badge_name_)),\n//         V_ui_bindHover(V_byClass(_v_badge_value_), gTrue),\n//         V_ui_bindHover(V_byClass(_v_toc_item_)),\n//         V_ui_bindHover(V_byClass(_v_doc_lib_item_)),\n//         V_ui_bindHover(V_byClass(_v_map_item_)),\n//         V_ui_bindHover($(_summary_)),\n//         V_ui_bindHover($(_v_tbl_row_g_btn_))\n//     );\n//     // }\n// }\n\n/**\n * 为对象绑定 mouseenter 和 mouseleave 事件\n * @param target 目标对象\n * @param cancleParent 是否临时模拟取消父元素的 hover 处理（即 mouseenter 和 mouseleave）\n */\n// function V_ui_bindHover(target, cancleParent) {\n//     target.on(_mouseEnter_, (event) => {\n//         let _t = V_eventCurrentTarget(event);\n//         JQ_addClass(_t, _hover_);\n//         cancleParent && JQ_removeClass(_t.p(), _hover_);\n//     }).on(_mouseLeave_, (event) => {\n//         let _t = V_eventCurrentTarget(event);\n//         JQ_removeClass(_t, _hover_);\n//         cancleParent && _t.p().tr(_mouseEnter_);\n//     });\n// }\n\n/**\n * 为对象取消 hover 事件绑定\n * @param target 目标对象\n */\n// function V_ui_unbindHover(target) {\n//     target.off(_mouseEnter_).off(_mouseLeave_);\n// }\n\n/**\n * 初始化动效处理\n */\nfunction V_ui_initEffectLevel() {\n    // 动效等级为 2 或更高级时才开启毛玻璃动效（如遮罩、插图浏览器背景）\n    V_ui_effect >= 2\n        ? JQ_addClass(V_byClass(_v_backdrop_blurs_), _enabled_)\n        : JQ_addClass(V_byClass(_v_backdrop_blurs_), _disabled_);\n\n    // 以下动效等级为 1 或更高级时才开启\n    // 开启后会影响图片剪影的 hover 效果（会有闪烁）\n    // V_ui_addAnimate($(\"a \" + _kbd_ + \",a \" + _img_));\n\n    // 针对移动端进行微调\n    // V_isMobile() && (\n    //     JQ_removeClass(V_byClass(_v_backdrop_blurs_), _enabled_),\n    //     JQ_addClass(V_byClass(_v_post_card_ + \".\" + _hover_), _disabled_)\n    // );\n    V_isMobile()\n        && (\n            JQ_removeClass(V_byClass(_v_backdrop_blurs_), _enabled_),\n            JQ_addClass(V_byClass(_v_backdrop_blurs_), _disabled_)\n        );\n}\n\n/**\n * 为指定对象添加过渡动画\n * @param t 目标对象\n * @param css 应用的属性，不指定时默认为 “all”\n */\nfunction V_ui_addAnimate(t, css) {\n    if (V_ui_effect >= 1) {\n        if  (css === gUndefined)\n            JQ_addClass(t, _v_transition_all_);\n        else {\n            let attrSet = css.sp(___);\n            for (let i = 0; i < V_length(attrSet); i++)\n                JQ_addClass(t, _v_transition__ + attrSet[i]);\n        }\n    }\n}\n\n/**\n * 为指定对象移除过渡动画\n * @param t 目标对象\n * @param css 应用的属性，不指定时默认为 “all”\n */\nfunction V_ui_removeAnimate(t, css) {\n    if  (css === gUndefined)\n        JQ_removeClass(t, _v_transition_all_);\n    else {\n        let attrSet = css.sp(___);\n        for (let i = 0; i < V_length(attrSet); i++)\n            JQ_removeClass(t, _v_transition__ + attrSet[i]);\n    }\n}\n\n/**\n * 初始化热键\n */\nfunction V_ui_initHotkey() {\n    // 键盘按下事件\n    jq_Document.on(_keydown_, (event) => {\n        const // code = event.code,//event.keyCode || event.which || event.charCode,\n            key = event.key,\n            combKeys = V_ui_getCombKeys(event);\n\n        DEBUG(`CombKeys[${combKeys}] key[${key}] code[${event.code}]`);\n\n        // 热键操作处理\n        iSpotlight.hotkey(key, combKeys, event);\n        iLaserPointer.hotkey(key, combKeys, event);\n        iParagraphNav.hotkey(key, combKeys, event);\n        WelcomePage_disposeHotkey(key, combKeys, event);\n        FigureNav_disposeHotkey(key, combKeys, event);\n        iNavCenter.hotkey(key, combKeys, event);\n        iFontStyle.hotkey(key, combKeys, event);\n        iInfoTips.hotkey(key, combKeys, event);\n        iFootnote.hotkey(key, combKeys, event);\n        LinkTool_disposeHotkey(key, combKeys, event);\n\n        // 文档的热键操作处理，只在文档为当前焦点且没有弹层时才有效\n        if (V_doc_block || gDocument.activeElement.tagName.l() !== _body_)\n            return;\n\n        // 无表格启用十字光标时\n        !TableCross_disposeHotkey(key, combKeys, event)\n            // 逐章导航热键操作处理\n            && iChapterNav.hotkey(key, combKeys, event);\n\n        if (V_noCombKeys(combKeys)) {\n            switch (key) {\n                case 'n': // N 显示/隐藏导航中心\n                case 'N':\n                    __showHideNavCenter();\n                    break;\n                case '/': // / 导航中心搜索\n                    // 与 Firefox 的 / 快捷键会存在冲突\n                    // 所以针对 Firefox，快捷键为 Ctrl + / 或 Cmd + /\n                    // 阻止默认的浏览器行为\n                    if (!iNavCenter.on) {\n                        __showHideNavCenter();\n                    }\n                    iNavCenter.kw.in.focus();\n\n                    // 自动读取并粘贴剪粘板的文本内容\n                    navigator.clipboard.readText().then((value) => {\n                            iNavCenter.kw.processInput(value);\n                        }).catch((value) => {\n                            ERROR(\"GET CLIPBOARD FAILED：\", value);\n                        });\n                    break;\n                case 'l': // L 文库\n                case 'L':\n                    iNavCenter.lib !== gUndefined && iNavCenter.lib.on\n                        && iToolbar.btns[_doc_lib_].tr(_click_);\n                    break;\n                case 'd': // D Light / Dark Mode\n                case 'D': // D Light / Dark Mode\n                    StsColorScheme_ui.tr(_click_);\n                    break;\n                case 'a': // A 字体风格\n                case 'A':\n                    V_ui_isHidden(iFontStyle.ui)\n                        ? StsFontStyle_ui.tr(_click_)\n                        : iFontStyle.hide();\n                    break;\n                case 'm': // M 链接地图\n                case 'M':\n                    V_ui_isShowed(StsLinkMap_ui) && !LinkTool_isShowed()\n                        ? StsLinkMap_ui.tr(_click_)\n                        : LinkTool_hide.hide();\n                    break;\n                case 'j': // J,K 段落漫游\n                case 'J':\n                case 'k': // J,K 段落漫游\n                case 'K':\n                    !iParagraphNav.on\n                        && (\n                            iSpotlight.hide(),\n                            iLaserPointer.hide(),\n                            iParagraphNav.tg()\n                        );\n                    break;\n                case 'p': // P 激活笔\n                case 'P':\n                    iParagraphNav.hide();\n                    iSpotlight.hide();\n                    iLaserPointer.tg();\n                    break;\n                case 's': // S 聚光灯\n                case 'S':\n                    iParagraphNav.hide();\n                    iLaserPointer.hide();\n                    iSpotlight.tg();\n                    break;\n                case 'e': // E 异常链接 / 地址\n                case 'E':\n                    !V_ui_isHidden(StsLinkChkResult_ui)\n                        && LinkTool_show(_checked_);\n                    break;\n                case 'h': // H 历史\n                case 'H':\n                    NH_ViewHistory_ui.tr(_click_);\n                    break;\n            }\n        }\n\n        function __showHideNavCenter() {\n            if (V_ui_isShowed(FigureNav_ui))\n                return;\n            iToolbar.btns[_nav_center_].tr(_click_);\n        }\n    });\n}\n// 定义 VLOOK UI 包\n// ========================================\n\nINFO(\"=== Load \" + _Document_ + \" ===\");\n\n// 定义 UI 元素\nlet iToolbar = gUndefined,\n    iNavCenter = gUndefined,\n    iChapterNav = gUndefined,\n    iParagraphNav = gUndefined,\n    iSpotlight = gUndefined,\n    iLaserPointer = gUndefined,\n    iFontStyle = gUndefined,\n    iFigNav = gUndefined,\n    iInfoTips = gUndefined,\n    iFootnote = gUndefined;\n\n// ==================== 文档对象模型 ==================== //\n\n// 文档的 html 对象\nlet DOM_h = gUndefined;\nfunction DOM_html() {\n    if (DOM_h === gUndefined) {\n        DOM_h = $(_html_);\n        V_isLength0(DOM_h)\n            && (\n                DOM_h = gUndefined,\n                ERROR(_failed_ + \"DOM.html ]\")\n            );\n    }\n    return DOM_h;\n}\n\n// 文档的 body 对象\nlet DOM_b = gUndefined;\nfunction DOM_body() {\n    if (DOM_b === gUndefined) {\n        DOM_b = $(_body_);\n        V_isLength0(DOM_b)\n            && (\n                DOM_b = gUndefined,\n                ERROR(_failed_ + \"DOM.\" + _body_ + \" ]\")\n            );\n    }\n    return DOM_b;\n}\n\n// ==================== VLOOK 对象模型 ==================== //\n\n// 定义 Markdown 导出为 HTML 的内容对象 (#write)\nlet VOM_d = gUndefined;\nfunction VOM_doc() {\n    if (VOM_d === gUndefined) {\n        VOM_d = $(_idWrite_);\n        V_isLength0(VOM_d)\n            && (\n                VOM_d = gUndefined,\n                ERROR(_failed_ + \"VOM.doc ]\")\n            );\n    }\n    return VOM_d;\n}\n\n// 封面对象\nlet VOM_c = gUndefined;\nfunction VOM_cover() {\n    if (VOM_c === gUndefined) {\n        // to-do: 是否可以忽略第 1 个选择器（属于是编辑时的 YAML）\n        // VOM_c = $(_idWrite_ + \">pre.md-meta-block\" + __first_child_ + \"+\" + _h6_ + \",\" + _idWrite_ + \">\" + _h6_ + __first_child_);\n        VOM_c = $(_idWrite_ + \">\" + _h6_ + __first_child_);\n        if (V_isLength0(VOM_c)) {\n            VOM_c = gUndefined;\n            VOM_docTitle() === gUndefined\n                && WARN(_failed_ + \"VOM.c ], maybe no \" + _cover_ + \": \" + WINDOW_getHref());\n        }\n        else\n            VOM_c.a(_id_, _vk_id_doc_cover_);\n    }\n    return VOM_c;\n}\n\n// 封底对象\nlet VOM_bc = gUndefined;\nfunction VOM_backcover() {\n    // 注意该方法调用，必须在 #vk-footer-area 的位置调整前完成\n    if (VOM_bc === gUndefined) {\n        let fns = V_byClass(_footnotes_area_);\n        if (fns !== gUndefined) {\n            let backcover = fns.pr(),\n                tagName = V_tagName(backcover);\n            if (tagName === \"h1\")\n                VOM_bc = backcover;\n        }\n        else {\n            VOM_bc = gUndefined;\n            WARN(_failed_ + \"VOM.bc ], maybe no backcover\");\n        }\n    }\n    return VOM_bc;\n}\n\n// 文档标题对象（无封面模式）\nlet VOM_dt = gUndefined;\nfunction VOM_docTitle() {\n    if (VOM_dt === gUndefined) {\n        VOM_dt = V_byID(_vk_id_doc_title_);\n        V_isLength0(VOM_dt)\n            && (\n                VOM_dt = gUndefined,\n                WARN(_failed_ + \"VOM.dt ] \" + WINDOW_getHref())\n            )\n    }\n    return VOM_dt;\n}\n\n// ==================== 通用方法 ==================== //\n\n/**\n * 在元素前后以指定的前缀和后缀文本进行包裹\n * @param pre 前缀文本\n * @param suff 后缀文本\n*/\n$.prototype.wrapText = function (pre, suff) {\n    this.hm(pre + this.hm() + suff);\n}\n\n/**\n * 替换 innerHTML 的内容\n * @param exp 用于匹配内容的正则表达式\n * @param value 将匹配的内容替换成该内容\n*/\n$.prototype.rHTML = function (exp, value) {\n    this.hm(this.hm().replace(exp, value));\n}\n\n/**\n * 从指定内容开始，替换之后的匹配的内容\n * @param str 从指定内容出现的位置开始进行替换\n * @param oldValue 被替换的内容\n * @param newValue 用于替换的新内容\n */\nString.prototype.rAfter = function (str, oldValue, newValue) {\n    let T = this,\n        i = T.i(str);\n    if (i > -1) {\n        let pre = T.ss(0, i),\n            suff = T.ss(i, V_length(T));\n        return pre + suff.r(oldValue, newValue);\n    }\n    return this;\n};\n\n/**\n * 判断是否为数值型\n */\nString.prototype.isNumber = function() {\n    return /^([-+])*\\d+(\\.\\d+)?$/.test(this);\n}\n\n/**\n * 判断是否为百分数\n */\nString.prototype.isPercent = function() {\n    return /^([-+])*\\d+(\\.\\d+)?%$/.test(this);\n}\n\n/**\n * 判断是否为货币型\n */\nString.prototype.isCurrency = function() {\n    return /^(\\D{1,3} )([-+])*\\d+(\\.\\d+)?$/.test(this);\n}\n\n/**\n * 生成环境信息段\n */\nfunction V_envInfo(title, content) {\n    return \"    ├ \" + title + \"    [\"\n        + content\n        + \"]\\n\";\n}\n\n/**\n * 环境信息类\n */\nconst env = {\n    /*\n    Windows 平台样例：\n        - (Chrome) Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36\n        - (Edge) Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.102 Safari/537.36 Edge/18.18362\n        - (Firefox) Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:69.0) Gecko/20100101 Firefox/69.0\n\n    macOS 平台样例：\n        - (Safari) Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.2 Safari/605.1.15\n        - (Chrome) Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36\n        - (Edge) Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.0.0 Safari/537.36 Edg/113.0.1774.35\n        - (Firefox) Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:69.0) Gecko/20100101 Firefox/69.0\n\n    iPhone 样例：\n        - (Safari) Mozilla/5.0 (iPhone; CPU iPhone OS 15_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.2 Mobile/15E148 Safari/604.1\n        - (Chrome) Mozilla/5.0 (iPhone; CPU iPhone OS 15_02 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/97.0.04692.72 Mobile/15E148 Safari/604.1\n        - (Edge) Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1 Edg/113.0.0.0\n        - (Firefox) Mozilla/5.0 (iPhone; CPU iPhone OS 15_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/40.2 Mobile/15E148 Safari/605.1.15\n        // 以下情况建议暂按以内核为判断标准 //\n        - (QQ) Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148 QQ/8.9.75.613 V1_IPH_SQ_8.9.75_1_APP_A Pixel/1125 MiniAppEnable SimpleUISwitch/0 StudyMode/0 CurrentMode/0 CurrentFontScale/1.000000 QQTheme/1000 AppId/537172547 Core/WKWebView Device/Apple(iPhone XS) NetType/WIFI QBWebViewType/1 WKType/1\n        - (微信) Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148 MicroMessenger/8.0.40(0x18002830) NetType/WIFI Language/zh_CN\n        - (钉钉) Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/20G75 AliApp(DingTalk/7.0.50) com.laiwang.DingTalk/31322509 Channel/201200 language/zh-Hans-CN UT4Aplus/0.0.6 WK\n\n    iPad 平板样例：\n        - (iPad mini) Mozilla/5.0 (iPad; CPU OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1\n        - (iPad Air) Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Safari/605.1.15\n        - (iPad Pro) Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Safari/605.1.15\n\n    Android 平板样例：\n        - (Galaxy Z Fold) Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/129.0.0.0 Mobile Safari/537.36\n\n    Windows 平板样例：\n        - (Surface Pro 7) Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/116.0.0.0 Safari/537.36\n        - (Surface Duo) Mozilla/5.0 (Linux; Android 11.0; Surface Duo) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/129.0.0.0 Mobile Safari/537.36\n        - (Asus Zenbook Fold) Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\n    */\n\n    // 浏览器内核信息\n    core : function () {\n        const u = navigator.userAgent;\n        return {\n            trident: u.i(\"Trident\") > -1, // IE内核\n            presto: u.i(\"Presto\") > -1, // Opera内核\n            webkit: u.i(\"AppleWebKit\") > -1, // 苹果、谷歌内核\n            gecko: u.i(\"Gecko\") > -1 && u.i(\"KHTML\") === -1 // 火狐内核\n        };\n    }(),\n\n    // 设备信息\n    device : function () {\n        const u = navigator.userAgent;\n        return {\n            mobile: u.i(\"Mobile\") > -1, // 是否为移动终端\n            android: u.i(\"Android\") > -1 || u.i(\"Linux\") > -1, // android 终端或者 UC 浏览器\n            iPhone: u.i(\"iPhone\") > -1, // 是否为 iPhone 或者 QQHD 浏览器\n            iPad: u.i(\"iPad\") > -1 // 是否 iPad\n        };\n    }(),\n\n    // 浏览器类型\n    browser : function () {\n        const u = navigator.userAgent;\n        return {\n            Chrome: (u.i(\"Chrome\") > -1 && u.i(\"Edg\") < 0) || u.i(\"CriOS\") > -1, // Chrome 浏览器\n            Firefox: u.i(\"Firefox\") > -1 || u.i(\"FxiOS\") > -1, // Firefox 浏览器\n            Safari: u.i(\"Safari\") > -1 && (u.i(\"Chrome\") < 0 || u.i(\"CriOSc\") < 0 || u.i(\"Edg\") < 0 || u.i(\"FxiOS\") < 0), // Safari 浏览器\n            Edge: u.i(\"Edg\") > -1 // Edge 浏览器\n        };\n    }(),\n\n    // 浏览器版本信息\n    brwVer : function () {\n        const u = navigator.userAgent;\n        return {\n            Chrome: u.m(/Chrome\\/[\\d.]+/gi) ? u.m(/Chrome\\/[\\d.]+/gi)[0].m(/\\d+/)[0] : 0, // Chrome 浏览器版本\n            Firefox: u.m(/Firefox\\/[\\d.]+/gi) ? u.m(/Firefox\\/[\\d.]+/gi)[0].m(/\\d+/)[0] : 0, // Firefox 浏览器版本\n            Safari: u.m(/Version\\/[\\d.]+.+Safari\\/[\\d.]+/gi) ? u.m(/Version\\/[\\d.]+.+Safari\\/[\\d.]+/gi)[0].m(/\\d+/)[0] : 0, // Safari 浏览器版本\n            Edge: u.m(/Edg\\/[\\d.]+/gi) ? u.m(/Edg\\/[\\d.]+/gi)[0].m(/\\d+/)[0] : 0 // Edge 浏览器版本\n        };\n    }(),\n\n    // 操作系统信息\n    os : function () {\n        const u = navigator.userAgent;\n        return {\n            Windows: /windows|win32|win64/i.test(u), // 是否为 Windows 平台\n            macOS: /macintosh/i.test(u), // 是否为 macOS 平台\n            iOS: /iphone os/i.test(u), // 是否为 iOS 平台\n            Linux: /linux/i.test(u) // 是否为 Linux 平台\n        };\n    }(),\n\n    // 语言信息\n    lang : function () {\n        const lang = navigator.language;\n        return {\n            full: lang.l(),\n            base: lang.ss(0, 2),\n            subset: lang.ss(3, V_length(lang))\n        };\n    }(),\n\n    // 显示信息\n    display : function () {\n        return {\n            DPR : gWindow.devicePixelRatio\n        };\n    }(),\n\n    /**\n     * 打印环境信息\n     * @param silent 是否为静默模式，静默模式只反馈环境信息值，不打印到控制台\n     * @returns string 环境信息\n     */\n    info : function (silent = gFalse) {\n        let info = \"::: Environmental :::\\n\",\n            r = info;\n        !silent && LOG(info);\n\n        info = V_envInfo(\"Lang\",\n            env.lang.base + \"/\" + env.lang.full\n            + \", \" + (V_lang_custom !== gUndefined\n                ? V_lang_custom\n                : (V_lang > -1\n                    ? [\"zh\", \"en\"][V_lang]\n                    : _none_)));\n        r += info;\n        !silent && LOG(info);\n\n        info = V_envInfo(\"Device\",\n            (env.device.mobile ? \"Mobile\" : _)\n            + (env.device.android ? \"/Android\" : _)\n            + (env.device.iPhone ? \"/iPhone\" : _)\n            + (env.device.iPad ? \"/iPad\" : _));\n        r += info;\n        !silent && LOG(info);\n\n        info = V_envInfo(\"OS\",\n            (env.os.macOS ? \"[macOS]\"\n                : (env.os.Windows ? \"[Windows]\"\n                    : (env.os.iOS ? \"[iOS]\"\n                        : (env.os.Linux ? \"[Linux]\" : \"[Others]\")))));\n        r += info;\n        !silent && LOG(info);\n\n        info = V_envInfo(\"Browser\",\n            (env.browser.Chrome ? \"Chrome / \" + env.brwVer.Chrome : _)\n            + (env.browser.Firefox ? \"Firefox / \" + env.brwVer.Firefox : _)\n            + (env.browser.Safari ? \"Safari / \" + env.brwVer.Safari : _)\n            + (env.browser.Edge ? \"Edge / \" + env.brwVer.Edge : _));\n        r += info;\n        !silent && LOG(info);\n\n        info = V_envInfo(\"Core\",\n            (env.core.gecko ? \"Gecko\" : _)\n            + (env.core.presto ? \"Presto\" : _)\n            + (env.core.trident ? \"Trident\" : _)\n            + (env.core.webkit ? \"WebKit\" : _));\n        r += info;\n        !silent && LOG(info);\n\n        info = V_envInfo(\"DPR\",\n            env.display.DPR); // Device Pixel Ratio\n        r += info;\n        !silent && LOG(info);\n\n        info = V_envInfo(\"Plugin\",\n            gVer\n            + (V_devMode ? \"<DEV>\" : \"-RELEASED\" )); // 插件版本\n        r += info;\n        !silent && LOG(info);\n\n        info = V_envInfo(\"Theme\",\n            (gThmName = V_getTemplateThemeName())\n            + \" / \" + (gThmVer = V_getTemplateThemeVersion())); // 文档主题\n        r += info;\n        !silent && LOG(info);\n\n        info = V_envInfo(V_lang_text82() + _Mode_,\n            V_pageMode); // VLOOK 插件运行类型\n        r += info;\n        !silent && LOG(info);\n\n        info = navigator.userAgent + \"\\n\";\n        r += info;\n        !silent && LOG(info);\n\n        return r;\n    },\n\n    /**\n     * 屏幕上显示环境信息、Mermaid 信息等\n     **/\n    show : function (source) {\n        let info = env.info()\n            + \"\\n----------\\n\" + _Published_via_ +___+ _VLOOK_ + \"™\\n\";\n        LOG(info);\n        Copy_action(source, info);\n        ALERT(info);\n    }\n};\n\n// ==================== VLOOK 关键信息类 ==================== //\n\nlet V_ver = gVer, // VLOOK 版本信息\n    V_devMode = devMode, // 开发模式\n    V_debugMode = debugMode, // 调试模式\n    V_pageMode = _max_, // 页面模式：max, pro, mini\n    V_query_params = new URLSearchParams(); // VLOOK 的调校参数\n    //V_params_yaml = gNull; // VLOOK 文档的 YAML\n\n// 定义 vlook-query 预置选项及其调校参数初始化\nfunction V_query_init() {\n    // 优先级 1\n    // 读取 URL Query 中的内容\n    let queryUrl = new URLSearchParams(gLocation.search);\n    __append(queryUrl);\n\n    // 优先级 2\n    // 读取 YAML 中定义的 vlook-query 预置选项内容\n    let tmpQuery = V_getMetaByName(_vlook_query_),\n        queryYaml = new URLSearchParams((tmpQuery === gUndefined ? _ : tmpQuery));\n    __append(queryYaml);\n\n    // 优先级 3\n    // 读取主题配套的 vlook-query 预置选项内容\n    tmpQuery = V_getVarVal(\"--\" + _vlook_query_);\n    let queryTheme = new URLSearchParams((tmpQuery === gUndefined ? _ : tmpQuery));\n    __append(queryTheme);\n\n    // 添加指定来源的调校参数（不重复的）\n    function __append(params) {\n        if (V_length(JS_toString(params)) > 0)\n            for (let [key, value] of params)\n                !V_query_params.has(key) && V_query_params.append(key, value);\n    }\n}\n// ========================================\n\n// ========================================\n// 定义 VLOOK 检索对象实例\n// 以 id 进行检索\nfunction V_byID(idValue, extSelector = _) {\n    if (!idValue)\n        throw new Error(\"ID is undefined\");\n    return $(V_attrCSS(_id_, idValue) + extSelector);\n    // 不要直接用 $(\"#\" + ...) 的方式，对于特殊符号（如 $ 等）或中文 hash 会异常\n    // return $(\"#\" + idValue);\n}\n\n// 以 className 进行检索\nfunction V_byClass(className) {\n    return $(\".\" + className);\n}\n// ========================================\n\n// ========================================\n// 定义 VLOOK 本地数据读/写\n\n/**\n * 读取数据\n * @param key 键名\n * @param share 是否为同域名所有页面共享的键值，默认为不共享\n */\nfunction V_data_read(key, share) {\n    return localStorage.getItem((share ? _ : V_getUrlWithoutQueryAndHash(WINDOW_getHref()) + \"-\")\n        + key);\n}\n\n/**\n * 写入数据\n * @param key 键名\n * @param value 键值\n * @param share 是否为同域名所有页面共享的键值，默认为不共享\n */\nfunction V_data_write(key, value, share) {\n    localStorage.setItem((share ? _ : V_getUrlWithoutQueryAndHash(WINDOW_getHref()) + \"-\")\n        + key, value);\n}\n\n/**\n * 删除数据\n * @param key 键名\n * @param share 是否为同域名所有页面共享的键值，默认为不共享\n */\nfunction V_data_remove(key, share) {\n    return localStorage.removeItem(\n        (share\n            ? _\n            : V_getUrlWithoutQueryAndHash(WINDOW_getHref()) + \"-\")\n        + key);\n}\n\n// ========================================\n\n// ========================================\n// 定义 VLOOK 工具包\n\n// 判断是否为移动端\nfunction V_isMobile() {\n    return env.device.mobile;\n}\n\n/**\n * 去掉指定内容中的前后的引号\n * 但如果是多组内容连接的情况则跳过处理，如：\"aaa\",\"b\",\"cc\"\n * @param content 指定内容\n */\nfunction V_removeQuotes(content) {\n    return content.replace(/^\"([^\"]+)\"$/, \"$1\");\n}\n\n/**\n * 获取指定对象的所有子元素（及其子元素）的文本内容\n * @param target 指定对象\n * @param separator 子元素间添加指定分隔符\n */\nfunction V_joinNodesText(target, separator) {\n    let nodesText = [];\n    __getTextNodes(nodesText, target);\n    return (V_length(nodesText) > 0 ? nodesText.join(separator) : _);\n\n    function __getTextNodes(texts, node) {\n        $(node).contents().e((index, element) => {\n            // 处理文本节点\n            if (element.nodeType === 3) {\n                let txt = $(element).t().x();\n                V_length(txt) > 0 && texts.push(txt); // 添加非空文本\n            }\n            // 处理元素节点\n            else if (element.nodeType === 1)\n                __getTextNodes(texts, element); // 递归处理嵌套元素\n        });\n    }\n}\n\n/**\n * 统计文本内容的字数（单词数）\n * @param content 文本内容\n * @return result.total - 总字数；result.latin - 非中日韩字数；result.CJK - 中日韩字数\n */\nfunction V_countWord(content) {\n        // 匹配中文字符\n    let reChinese = /[\\u4e00-\\u9fa5]/g,\n        // 匹配日文字符\n        reJapanese = /[\\u3040-\\u30ff\\u31f0-\\u31ff\\uFF66-\\uFF9F]/g,\n        // 匹配韩文字符\n        reKorean = /[\\uac00-\\ud7af]/g,\n        // 使用 Unicode 字符类匹配拉丁语系的完整单词（包括英文、法文、西班牙文等）\n        reLatinLike = /\\b[\\p{L}\\p{M}\\p{N}]+\\b/gu,\n        // 匹配俄文单词和数字\n        reRussian = /[\\u0400-\\u04FF]+/g,\n        // 匹配阿拉伯语字符和数字\n        reArabic = /[\\u0600-\\u06FF]+/g;\n\n    let chineseCount = V_length(content.m(reChinese) || []),\n        japaneseCount = V_length(content.m(reJapanese) || []),\n        koreanCount = V_length(content.m(reKorean) || []),\n        latinLikeCount = V_length(content.m(reLatinLike) || []),\n        russianCount = V_length(content.m(reRussian) || []),\n        arabicCount = V_length(content.m(reArabic) || []);\n\n    let latin = latinLikeCount + russianCount + arabicCount,\n        CJK = chineseCount + japaneseCount + koreanCount;\n    return {\n        latin: latin,\n        CJK: CJK,\n        total: latin + CJK\n    };\n}\n\n/**\n * 获取对象的 length 值\n * @param source 源对象\n * @param value 新取值\n */\nfunction V_length(source, value) {\n    if (value === gUndefined)\n        return (source === gUndefined || source == gNull) ? 0 : source.length;\n    source.length = value;\n}\n\n/**\n * 对内容按指定属性值进行排序\n * @param container 内容的容器对象\n * @param itemSet 需要进行排序的对象集合\n * @param attr 需要进行排序控制的属性名\n * @param withText 是否联合文本内容参与排序\n */\nfunction V_sortByAttr(container, itemSet, attr, withText) {\n    itemSet.sort((a, b) => {\n        let objA = $(a),\n            objB = $(b),\n            valueA = objA.a(attr),\n            valueB = objB.a(attr);\n        // 联合文本内容参与排序\n        if (withText) {\n            valueA += objA.t();\n            valueB += objB.t();\n        }\n        // 以下以是以字符的 unicode 编码进行比较\n        // 用 localeCompare 进行比较的话，存在不同国家或地区的排序结果不同\n        return (valueA < valueB) ? -1 : (valueA > valueB) ? 1 : 0;\n    });\n    // 按重新排序的节点进行显示\n    itemSet.e((index, element) => {\n        $(element).detach().appendTo(container);\n    });\n}\n\n/**\n * 对 URI 进行解码\n * @param uri\n * @returns 解码失败侧返回 false，成功则返回解码后的内容\n */\nfunction V_isValidURIComponent(uri) {\n    let result = _;\n    try {\n        // 尝试解码 URI 组件\n        result = decodeURIComponent(uri);\n        return result;\n    } catch (e) {\n        // 解码出现错误，说明 URI 不合法\n        return false;\n    }\n}\n\n/**\n * 对象长度为 0\n * @param target 对象\n */\nfunction V_isLength0(target) {\n    return V_length(target) === 0;\n}\n\n/**\n * 获取 HTML 文档标题\n */\nfunction V_getDocTitle() {\n    return jq_Document.a(_title_);\n}\n\n/**\n * 获取 HTML <meta> 标签的内容\n * @param metaName 指定 meta 的名称\n * @returns 指定 meta 的内容\n */\nfunction V_getMetaByName(metaName) {\n    let content = $(_mata_ + V_attrCSS(_name_, metaName)).a(_content_);\n    return ((content === gUndefined || V_isLength0(content) || content === \"${\" + metaName + \"}\") ? gUndefined : content);\n}\n\n/**\n * 获取启动参数的值\n * @param pName 启动参数名称\n * @returns string 启动参数的值，如果没有找到则返回 null\n */\nfunction V_getParamVal(pName) {\n    return V_query_params.get(pName);\n}\n\n/**\n * 获取 URL 中的参数数组\n * @param u 完整的 URL 内容\n */\nfunction V_getUrlQueryParams(u) {\n    if (u === gUndefined)\n        return {};\n\n    let h = u.i(\"#\");\n    u = h > -1 ? u.ss(0, h) : u; // 只截取 URL 中 # 前的内容\n\n    let si = u.i(\"?\"),\n        queryStr = u.ss(si > -1 ? si + 1 : V_length(u), V_length(u)), // 获取url中\"?\"符后的字串\n        paramSet = {}, // 保存参数数据的对象\n        itemSet = (V_length(queryStr) > 0) ? queryStr.sp(\"&\") : [], // 取得每一个参数项,\n        item = gNull,\n        itemCount = V_length(itemSet);\n\n    // 将所有参数拆解至数组中\n    for (let i = 0; i < itemCount; i++) {\n        item = itemSet[i].sp(\"=\");\n        paramSet[JS_decodeURIComponent(item[0])] = JS_decodeURIComponent(item[1]);\n    }\n    return paramSet;\n}\n\n/**\n * 获取 URL 中的锚点\n * @param u 完整的 URL 内容\n */\nfunction V_getUrlHash(u) {\n    if (u === gUndefined)\n        return _;\n\n    let i = u.i(\"#\");\n    return i > -1 ? u.ss(i, V_length(u)) : _;\n}\n\n/**\n * 获取 URL 中的参数字符串\n * @param u 完整的 URL 内容\n */\nfunction V_getUrlQueryString(u) {\n    if (u === gUndefined)\n        return _;\n\n    let i = u.i(\"?\");\n    return i > -1 ? u.ss(i + 1, V_length(u)) : _;\n}\n\n/**\n * 获取 URL 中的不含锚点的部分\n * @param u 完整的 URL 内容\n */\nfunction V_getUrlWithoutHash(u) {\n    if (u === gUndefined)\n        return _;\n\n    let i = u.i(\"#\");\n    return i > -1 ? u.ss(0, i) : u;\n}\n\n/**\n * 获取 URL 中的不含锚点、参数的部分\n * @param u 完整的 URL 内容\n */\nfunction V_getUrlWithoutQueryAndHash(u) {\n    if (u === gUndefined)\n        return _;\n\n    let queryIdx = u.i('?');\n    if (queryIdx > -1)\n        u = u.ss(0, queryIdx);\n    else {\n        let hashIdx = u.i('#');\n        if (hashIdx > -1)\n            u = u.ss(0, hashIdx);\n    }\n    return u;\n}\n\n/**\n * 获得 URL 中的路径部分\n * @param u URL 地址\n */\nfunction V_getPath(u) {\n    let qi = u.i(\"?\"),\n        ti = u.ss(0, qi).lastIndexOf(\"/\"),\n        pi = ti === -1 ? 0 : ti;\n    return u.ss(0, pi + 1);\n}\n\n/**\n * 获得当前时间\n */\nfunction V_getTime() {\n    return new Date().getTime();\n}\n\n/**\n * 获取扩展名\n * @param url 文件名\n * @returns 带 \".\" 的扩展名\n */\nfunction V_getExtension(url) {\n    if (url === gUndefined)\n        return _;\n    let parts = url.sp(\".\");\n    return parts.length > 1 ? \".\" + parts.pop().sp(\"?\")[0] : _; // 移除查询参数部分\n}\n\n/**\n * 获得当前页面拖选的文本\n */\nfunction V_getSelectedText() {\n    if (gWindow.getSelection)\n        return JS_toString(gWindow.getSelection());\n    else if (gDocument.selection && gDocument.selection.type !== \"Control\")\n        return gDocument.selection.createRange().text;\n    return _;\n}\n\n/**\n * 清理 HTML 中的单、双引号\n * @param text 原始文本\n * @return String 清理后的文本\n */\nfunction V_clearHtmlQuot(text) {\n    if (V_isLength0(text))\n        return _;\n    return text.r(/'/g, _)\n        .r(/\"/g, _);\n}\n\n/**\n * 绑定加载失败处理\n * @param fig 插图对象\n */\nfunction V_bindLoadChecker(fig) {\n    let src = fig.a(_src_);\n    fig.on(_load_, () => {\n        // 移除针对插图的加载提示样式\n        JQ_removeClass(fig.p(), _loading_);\n\n        // 对引用块分栏内的图片重新进行统一高度处理\n        let blockquote = fig.closest(_blockquote_);\n        V_length(blockquote) > 0\n            && ExtQuote_uniteColumnsHeightByGroupId(blockquote.a(_data_quote_group_));\n    });\n\n    // 图片无法加载时加载默认图片\n    fig.on(_error_, (event) => {\n        // 将无法加载的图片信息添加到链接检查器\n        let cp1 = fig.p().f(__v_cap1_).hm(),\n            targetToJump = fig.p();\n        // 非插图（无题注），则按普通的 img 来处理\n        if (cp1 === gUndefined) {\n            cp1 = fig.a(_alt_);\n            targetToJump = fig;//.a(_id_);\n        }\n        // 对 alt 也为空时\n        if (cp1 === gUndefined)\n            cp1 = fig.a(_src_);\n        // 添加无效链接项\n        LinkTool_addToCheckResult(_error_ + __address_, targetToJump,\n            V_ui_label(_, _, V_lang_text63()) + cp1);\n\n        __loadDefaultOnError(V_eventCurrentTarget(event));\n    });\n\n    // 强制重新加载一次以触发error事件\n    fig.a(_src_, src);\n\n    /**\n     * 加载默认图片\n     * @param target 目标 img 对象\n     */\n    function __loadDefaultOnError(target) {\n        // 将 alt 替换为 title 避免无法指定 width、height 属性\n        JQ_removeAttr(target, _alt_);\n        JQ_removeAttr(target, _title_);\n        JQ_addClass(target, _v_img_lost_);\n    }\n}\n\n/**\n * 处理并返回省略后的文本\n * @param text 原始文本\n * @param limit 头、尾长度限制\n * @return String 省略后的文本\n */\n// function V_util_truncateText(text, limit) {\n//     let len = V_length(text);\n//     if (len <= limit)\n//         return text;\n//\n//     // 遍历字符串，计算指定字符的总数，中文字符按 2 个字符计算\n//     let frontChars = __calcCharsLen(0, 1),\n//         backChars = __calcCharsLen(len - 1, -1);\n//\n//     // 计算要保留的前面和最后的字符的数量\n//     frontChars = (frontChars > limit ? Math.ceil(frontChars / 2) : frontChars);\n//     backChars = (backChars > limit ? Math.ceil(backChars / 2) : backChars);\n//\n//     // 截取字符串并添加省略号\n//     return text.ss(0, frontChars) + '...' + text.ss(len - backChars - 1, len - 1);\n//\n//     /**\n//      * 计算指定长度字符的总数，中文字符按 2 个字符计算\n//      * @param init 初始值\n//      * @param step 步长\n//      */\n//     function __calcCharsLen(init, step) {\n//         let count = 0,\n//             i = init;\n//         while (count < limit) {\n//             count += (text.charCodeAt(i) > 255 ? 2 : 1)\n//             i += step;\n//         }\n//         return count;\n//     }\n// }\n\n/**\n * 重定位至锚点\n * @return boolean true：已进行重定向，false：无须进行重定向\n */\nfunction V_redirectTo() {\n    let hash = WINDOW_getHash();\n    // 如果 URL 带锚点\n    if (V_length(hash) > 0 && hash !== \"#\" + _vk_id_doc_title_) {\n        LOG(\"    ↩ Redirect to h: \" + JS_decodeURI(hash));\n        WINDOW_setHref(\"#\"); // 强制先清空当前 hash\n        WINDOW_setHref(hash);\n        return gTrue;\n    }\n    return gFalse;\n}\n\n/**\n * 跳转至页内锚点，并自动进行位置微调适配\n */\nfunction V_gotoHash(hash) {\n    WINDOW_setHref((hash.sW(\"#\") ? _ : \"#\") + hash);\n}\n\n/**\n * 获取 CSS 变量值\n * @param varName CSS 变量名\n */\nfunction V_getVarVal(varName) {\n    return V_removeQuotes(getComputedStyle(gDocument.documentElement).getPropertyValue(varName).trim());\n}\n\n/**\n * 设置 CSS 变量值\n * @param varName CSS 变量名\n * @param value CSS 变量值\n */\nfunction V_setVarVal(varName, value) {\n    gDocument.documentElement.style.setProperty(varName, value);\n}\n\n/**\n * 获取 CSS 变量值中的图片数据，即 url(\"data:image/png:xxxx\") 中双引号内的数据\n * @param varName CSS 变量名\n */\nfunction V_getImageData(varName) {\n    let prefix = 'url(';\n    return (varName === gUndefined ? _ : varName.ss(varName.i(prefix) + V_length(prefix), V_length(varName) - 1));\n}\n\n/**\n * 获取事件当前对象\n */\nfunction V_eventCurrentTarget(event) {\n    return $(event.currentTarget);\n}\n\n/**\n * 获取 event.clientX 值\n */\nfunction V_eventClientX(event) {\n    return event.clientX;\n}\n\n/**\n * 获取 event.clientY 值\n */\nfunction V_eventClientY(event) {\n    return event.clientY;\n}\n\n/**\n * 取消事件冒泡\n */\nfunction V_stopPropagation(event) {\n    event.stopPropagation();\n}\n\n/**\n * 取消计时器，注意调用时要将结果赋值给同名的传入参数\n * @param timer 要取消的计时器对象\n */\nfunction V_clearTimer(timer) {\n    clearTimeout(timer);\n    return gNull;\n}\n\n/**\n * 获取 HTML 文档使用的模板主题\n */\nfunction V_getTemplateThemeName() {\n    return V_getVarVal(___v_theme__ + _name_);\n}\n/**\n * 获取 HTML 文档使用的模板主题\n */\nfunction V_getTemplateThemeVersion() {\n    return V_getVarVal(___v_theme__ + _version_);\n}\n\n/**\n * 批量修改指定的 CSS 变量集\n * @param varSet 变量数组\n * @param flag 修改为指定变量集的标识\n */\nfunction V_changeCssVarSet(varSet, flag) {\n    // 生成目标颜色方案值列表\n    let tmp = [];\n    if (flag !== gUndefined) {\n        for (let i = 0, len = V_length(varSet); i < len; i++) {\n            tmp.push(V_getVarVal(varSet[i] + \"-\" + flag));\n        }\n    }\n    // 遍历所有变量实现 ColorScheme 切换\n    for (let i = 0, len = V_length(varSet); i < len; i++) {\n        flag !== gUndefined\n            ? V_setVarVal(varSet[i], tmp[i])\n            : V_setVarVal(varSet[i], 0);\n    }\n}\n\n/**\n * 判断 key 是否为 Escape\n * @param key\n */\nfunction V_isEscape(key) {\n    return key === _Escape_;\n}\n\n/**\n * 判断 combkeys 是否为 Escape\n * @param key\n */\nfunction V_noCombKeys(key) {\n    return V_isLength0(key);\n}\n\n/**\n * 获取 HTML 标签名称\n * @param target 标签对象\n */\nfunction V_tagName(target) {\n    let tagName = (target === gUndefined ? _ : target.prop(_tagName_));\n    return (tagName === gUndefined ? _ : tagName.l());\n}\n\n/**\n * 获取纯文本节点内容（不包括子元素）\n * @param target 对象\n */\nfunction V_textContent(target) {\n    if (target === gUndefined || V_isLength0(target))\n        return _;\n\n    let text = _;\n    target[0].childNodes.forEach(node => {\n        if (node.nodeType === Node.TEXT_NODE)\n            text += node.nodeValue;\n    });\n    return text;\n}\n\n/**\n * 阻止默认事件行为\n * @param event 事件对象\n */\nfunction V_preventDefault(event) {\n    event.preventDefault();\n}\n\n// 定义 VLOOK 工具 包\n// ========================================\n\n// ========================================\n// 通用的格式化操作\n/**\n * 添加千位符\n * @param str 需要进行格式化的目标字符串\n * @returns string 格式化后的字符串\n */\nfunction V_formatting_thousands(str) {\n    return str.r(/(\\d)(?=(\\d{3})+(\\.\\d+)*(\\D)*$)/g, \"$1,\");\n}\n\n/**\n * 对小数部分进行格式化\n * @param str 需要进行格式化的目标字符串\n * @returns string 格式化后的字符串\n */\nfunction V_formatting_decimal(str) {\n    return str.r(/\\.(\\d+)/, \".\" + V_ui_span(_v_tbl_col_fmt_num_decimal_, _, \"$1\"));\n}\n\n/**\n * 对百分号进行格式化\n * @param str 需要进行格式化的目标字符串\n * @returns string 格式化后的字符串\n */\nfunction V_formatting_percent(str) {\n    return str.r(/%</, V_ui_span(_v_tbl_col_fmt_percent_, _, \" %\") + \"<\");\n}\n\nlet gRE_CurrencyNoEscape = new RegExp(\"<\\\\/\" + _span_ + \"><\" + _span_ + \">([$])<\\\\/\" + _span_ + \"><\" + _span_ + \">\", _),\n    gRE_CurrencyNoEscape2 = new RegExp(\">([$])<\\\\/\" + _span_ + \"><\" + _span_ + \">\", _);\n/**\n * 对货币符号进行格式化\n * @param str 需要进行格式化的目标字符串\n * @returns string 格式化后的字符串\n */\nfunction V_formatting_currency(str) {\n    // 对于存在转义符号 $ 时（与 Markdown 的数学公式格式冲突，所以一般会写成 \\$）\n    // 先将其处理成不存在转义的标准形式，如：HK$\n    str = str.r(gRE_CurrencyNoEscape, \"$1\");\n    str = str.r(gRE_CurrencyNoEscape2, \">$1\");\n    // 因 html() 中含有 > 字符，所以替换的内容中须进行 > 的前后拼接调整\n    return str.r(/>([a-z$¥￥]{0,3})\\s/i, \">\" + V_ui_span(_v_tbl_col_fmt_currency_, _, \"$1\"));\n}\n// ========================================\n\n// ========================================\n// 检查文档结构是否符合 VLOOK 规范程度\nfunction V_checkSpec () {\n    let v = gTrue,\n        c = [\n            \"因以下原因无法激活 VLOOK™ 插件：\\n\\n\",\n            \"The VLOOK™ plugin cannot be activated for the following reasons:\\n\\n\"\n            ][V_lang];\n\n    // 只支持由 Typora 导出的 HTML 文件\n    if (DOM_body().a(_class_).i(\"typora-export\") === -1) {\n        c += [\n            \"• 只支持由 Typora 导出的 HTML 文件\\n\",\n            \"• Only HTML files exported by Typora are supported\\n\"\n            ][V_lang];\n        v = gFalse;\n    }\n\n    // 缺少目录\n    gToc = V_byClass(_md_toc_);//V_by_Class(_vMdToc_);\n    if (V_isLength0(gToc)) {\n        c += [\n            \"• 缺少 [TOC], 这是 GFM 标准的「目录」语法\\n\",\n            '• Missing [TOC], the GFM standard \"' + V_lang_text35() + '\"\\n'\n            ][V_lang];\n    }\n\n    // 存在不符合规范的情况\n    if (!v) {\n        c += [\n            \"\\n建议参考推荐的文档模板或示例：\",\n            \"\\nIt is recommended to refer to the suggested \" + _document_ + \" templates or samples:\"\n        ][V_lang] + \"\\nreleased/samples/*.md\";\n\n        ALERT(c);\n        return gFalse;\n    }\n\n    // 符合规范\n    return gTrue;\n}\n// ========================================\n\n/**\n * 判断是否属于插图\n * @param hash 插图路径的锚点\n * @param container img 对象的父级元素\n * @returns boolean true：不属于插图，false：属于插图\n */\nfunction V_isNotFigure(hash, container) {\n    let iconMode = hash.i(\"#icon\") > -1,\n        cardMode = hash.i(\"#card\") > -1,\n        logoMode = hash.i(\"#logo\") > -1;\n    return (iconMode || cardMode || logoMode || (container !== gUndefined && V_tagName(container) === _kbd_));\n}\n\n/**\n * 获取对象的 src 属性值（同时兼容「懒加载」模式）\n * @param target 对象\n * @returns src 或 data-src 的值\n */\nfunction V_getSrcValue(target) {\n    let src = target.a(_src_);\n    // 针对「懒加载」，从 data-src 获取\n    return (src === gUndefined ? target.a(_data_src_) : src);\n}\n\n/**\n * 稍后执行指定的回调函数\n * @param callback 要执行相关处理的函数\n * @param wait 等待的的时长\n */\nfunction V_later(callback, wait) {\n    return setTimeout(callback, wait);\n}\n\n/**\n * 通用的防抖控制\n * @param callback 要执行相关处理的函数\n * @param wait 延时执行的时长\n */\nfunction V_debounce(callback, wait) {\n    let timer;\n    return function (...args) {\n        clearTimeout(timer);\n        timer = setTimeout(() => callback.apply(this, args), wait);\n    };\n}\n\n/**\n * 通用的限流控制\n * @param callback 要执行相关处理的函数\n * @param interval 执行间隔的时长\n */\nfunction V_throttle(callback, interval) {\n    let lastTime = 0;\n    return function (...args) {\n        const now = Date.now();\n        if (now - lastTime >= interval) {\n            lastTime = now;\n            callback.apply(this, args);\n        }\n    };\n}\n\n/**\n * 初始化关键组件实例\n */\nfunction V_init() {\n    let sw = new Stopwatch();\n    sw.st();\n    iFontStyle = new FontStyle(new BgMask(_font_style_, _center_), V_getVarVal(___v_f__ + _style_));\n    if (V_isLength0(iFontStyle))\n        ALERT(_failed_ + \"iFntThm ]\");\n    else {\n        let fontStyle = V_getParamVal(_font_); // 调校参数指定\n        // 如调校参数指定为 theme ，则清空同域名配置中保存的配置数据\n        if (fontStyle !== gNull && fontStyle === _theme_)\n            V_data_remove(_font_style_, gTrue);\n        // 如调校参数无指定，再检查在同域名配置中是否有指定\n        else if (fontStyle === gNull) {\n            fontStyle = V_data_read(_font_style_, gTrue);\n            fontStyle = (fontStyle === gNull ? gUndefined: fontStyle);\n        }\n        // 初始化\n        iFontStyle.init(fontStyle);\n    }\n    sw.ed(\"    ├ Font Style: \");\n\n    // ==================== UI====================\n\n    // 聚光灯\n    sw.st();\n    iSpotlight = new Spotlight(180);\n    V_isLength0(iSpotlight)\n        && ALERT(_failed_ + \"i\" + _Spotlight_ + \" ]\");\n    sw.ed(\"    ├ \" + _Spotlight_ + \": \");\n\n    // 激光笔\n    iLaserPointer = new LaserPointer();\n    V_isLength0(iLaserPointer)\n        && ALERT(_failed_ + \"i\" + _Pointer_ + \" ]\");\n    sw.ed(\"    ├ \" + _Laser_ + _Pointer_ + \": \");\n\n    // 长内容折叠\n    sw.st();\n    let cf = V_getParamVal(_fold_);\n    ContentFolder_enabled = (cf !== _off_);\n    // 指定对象（table,figure,codeblock）启用的处理\n    if (cf !== gNull && cf !== _on_ && cf !== _off_) {\n        ContentFolder_enabled_table = (cf.i(_table_) > -1);\n        ContentFolder_enabled_figure = (cf.i(_figure_) > -1);\n        ContentFolder_enabled_codeblock = (cf.i(_codeblock_) > -1);\n    }\n    ContentFolder_init();\n    sw.ed(\"    ├ Content Folding: \");\n\n    // 工具提示\n    ToolTips_init();\n\n    // 弹窗信息提示\n    iInfoTips = new InfoTips(new BgMask(_info_tips_, _center_));\n    V_isLength0(iInfoTips)\n        && ALERT(_failed_ + \"iInfoTips ]\");\n\n    // 导航中心\n    sw.st();\n    gScrollMarginTop = JS_parseInt(V_getVarVal(___v_ + _scroll_ + \"-\" + _margin_top_)) * 1.1;\n    iNavCenter = new NavCenter(new BgMask(_nav_center_, _left_, gTrue), V_getParamVal(_nav_));\n    V_isLength0(iNavCenter)\n        && ALERT(_failed_ + \"iNavCenter ]\");\n    sw.ed(\"    ├ Nav Center: \");\n\n    // 逐章导航\n    sw.st();\n    iChapterNav = new ChapterNav();\n    if (V_isLength0(iChapterNav))\n        ALERT(_failed_ + \"iChapNav ]\");\n    sw.ed(\"    ├ \" + _Chapter_ + \" Nav: \");\n\n    // 工具栏\n    sw.st();\n    iToolbar = new Toolbar();\n    if (V_isLength0(iToolbar))\n        ALERT(_failed_ + \"iTb ]\");\n    else {\n        // 导航中心按钮\n        iToolbar.add(_nav_center_, (event) => {\n            // 针对当前只显示了文库的处理\n            if (iNavCenter.kw.in.v() === _vdl_)\n                iNavCenter.kw.clear();\n\n            // 显示导航中心\n            V_ui_isSmallScreen() && !iNavCenter.on\n                ? iNavCenter.tg()\n                : iNavCenter.tg();\n\n            // 阻止默认事件行为，避免与文档单击事件冲突\n            // V_stopPropagation(event);\n        });\n\n        // 文库\n        iToolbar.add(_doc_lib_, (event) => {\n            if (iNavCenter.lib === gUndefined)\n                return;\n\n            if (iNavCenter.lib.counter > 1) {\n                // !iNavCenter.on && iNavCenter.tg();\n                // 选中目录分段\n                iNavCenter.segs.setChecked(_toc_);\n                // 设置关键字搜索的内容\n                iNavCenter.kw.processInput(_vdl_);\n\n                // 显示导航中心\n                !iNavCenter.on\n                    && iNavCenter.tg();\n            }\n            else\n                iNavCenter.lib.show(_, _);\n\n            // 阻止默认事件行为，避免与文档单击事件冲突\n            // V_stopPropagation(event);\n        });\n\n        // 段落漫游\n        iToolbar.add(_paragraph_nav_, () => {\n            iLaserPointer.hide();\n            iSpotlight.hide();\n            iParagraphNav.tg();\n        });\n\n        // 聚光灯\n        iToolbar.add(_spotlight_, () => {\n            iLaserPointer.hide();\n            iParagraphNav.hide();\n            iSpotlight.tg();\n        });\n\n        // 激光笔\n        iToolbar.add(_laser_pointer_, () => {\n            iSpotlight.hide();\n            iParagraphNav.hide();\n            iLaserPointer.tg()\n        });\n\n        // 添加关联组件\n        iNavCenter.toolbar = iToolbar;\n        iSpotlight.toolbar = iToolbar;\n        iLaserPointer.toolbar = iToolbar;\n\n        // 绑定选择字体风格的工具栏按钮\n        iFontStyle.bindButton(iToolbar.btns[_font_style_]);\n    }\n    sw.ed(\"    ├ Toolbar: \");\n\n    // 插图浏览器\n    FigureNav_init();\n\n    // ----------------------------------------\n    sw.st();\n\n    // 文档更多内容栏遮罩栏\n    MoreDocContent_init();\n\n    // 脚注\n    iFootnote = new Footnote(new BgMask(_footnote_, _bottom_, gTrue));\n    V_isLength0(iFootnote)\n        && ALERT(_failed_ + \"iFootnote ]\");\n\n    // 导航历史\n    NavHistory_init();\n\n    // 状态栏\n    StatusBar_init();\n\n    sw.ed(\"    └ Misc: \");\n}\n\n/**\n * 初始化 VLOOK 核心模块\n */\nfunction V_initKernel() {\n    // ----------------------------------------\n    // 加载本文档主题配套的 Logo 图标\n    iStopwatch.st(\"* \" + _Document_ + \" Logo\");\n    V_ui_changeDocIcon(V_getVarVal(___v_thm_fav_logo_));\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 无封面时的处理\n    !V_ui_hasCover()\n        // 添加文档大标题\n        && VOM_doc().pp(V_ui_div(_vk_id_doc_title_, _v_doc__ + _title_ +___+ V_pageMode, V_getDocTitle()));\n\n\n    // ----------------------------------------\n    // 初始化国际化 UI\n    iStopwatch.st(\"* UI i18n\");\n    V_ui_initI18n();\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 处理标记不发布的内容\n    // 在所有扩展语法处理前执行\n    V_getParamVal(\"unpub\") !== _off_\n        && Unpublish_init();\n\n    // ----------------------------------------\n    // 初始化封面四角配置\n    iStopwatch.st(\"* VLOOK CC: \");\n    CC_init();\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 初始化 导航中心、章节导航 数据\n    iStopwatch.st(\"* NavCenter\");\n    let navOK = NavCenter_init();\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 自动生成可通过 DOM 引用块的目录自动编号\n    HeaderAutoNum_initToc();\n\n    // ----------------------------------------\n    // 题注生成器指定按章节分组编号时的预处理\n    V_getParamVal(_capgroup_) !== _off_\n        && (\n            iStopwatch.st(\"* Caption preprocess: \"),\n            Caption_groupPreppare(),\n            iStopwatch.ed(_4space_)\n        );\n\n    // ----------------------------------------\n    // 初始化音频数据\n    iStopwatch.st(\"* Audio: \");\n    ExtAudio_init();\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 初始化视频数据\n    iStopwatch.st(\"* Video: \");\n    ExtVideo_init();\n    iStopwatch.ed(_4space_);\n\n    // ========================================\n    // 初始化引用块\n    // 须在 ExtFigure 处理前，避免引用块折叠处理中，对其内含有 svg 颜色替换处理导致 DOM 冲突而失效\n    iStopwatch.st(\"* Quote: \");\n    ExtQuote_init();\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 初始化插图数据\n    iStopwatch.st(\"* Figure: \");\n    ExtFigure_init();\n    iStopwatch.ed(_cost_);\n\n    // ----------------------------------------\n    // 初始化表格\n    iStopwatch.st(\"* Table: \");\n    ExtTable_init();\n    iStopwatch.ed(_cost_);\n\n    TableCross_init();\n\n    // ----------------------------------------\n    // 初始化代码块\n    iStopwatch.st(\"* Code Block: \");\n    ExtCodeBlock_init();\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 初始化公式\n    iStopwatch.st(\"* Math: \");\n    ExtMath_init();\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 检查 hash 集\n    if (V_getParamVal(_checkHash_) === \"1\") {\n        LinkTool_checkHashMode = gTrue;\n        // 检查 hash 集\n        LinkTool_checkHashSet()\n            && LinkTool_checkHashUI.show();\n    }\n\n    // ========================================\n    // 对 Code Magic 处理\n    // 注意：须在 ExtQuote 初始化之后执行\n    // 包括了：标签、引用块着色、刮刮卡、文字注音等\n    iStopwatch.st(\"* Code & Xscript °Magic: \");\n    ColorCode_init();\n    CodeMagic_init();\n    SupSubMagic_preprocess();\n    Progressbar_init();\n    iStopwatch.ed(_4space_);\n    // ========================================\n\n    // ----------------------------------------\n    // 增强脚注\n    iStopwatch.st(\"* Foot Note: \");\n    Footnote_init();\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 带格式复制\n    iStopwatch.st(\"* Rich Copy: \");\n    Copy_init();\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 分步分级处理\n    iStopwatch.st(\"* Stepwise: \");\n    BreadcrumbStyle_init();\n    iStopwatch.ed(_4space_);\n\n    // 对 VLOOK UI 统一样式适配处理\n    // V_ui_adjustHoverStyle2();\n\n    // 主要针对小屏情况，完成表格初始化后进行适配\n    // 如果不是小屏，则由 adjustAll 触发\n    ContentFolder_adjust();\n\n    // ----------------------------------------\n    // 检查页内链接坏链\n    // 因涉及对 xmd 的处理，需要在文库处理之前（DocLib）进行\n    iStopwatch.st(\"* Check Hash Link: \");\n    LinkTool_mdToHtml();\n    LinkTool_checkLink();\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 界面适配\n    iStopwatch.st(\"* Adjust NavCenter/ChapterNav/FigureNav/Toolbar/StatusBar\");\n    if (navOK) {\n        !V_isMobile()\n            && iNavCenter.showHandle();\n\n        V_ui_adjustAll();\n\n        // 根据设备类型自适应 hover 样式\n        // iNavCenter.toc.adjustHoverStyle();\n        // iChapterNav.adjustHoverStyle();\n        // FigureNav_adjustHoverStyle();\n    }\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 文档没有任何可索引的对象时，默认不显示导航中心\n    let hasToc = iNavCenter.toc.hasItem(),\n        hasFigure = iNavCenter.figures.hasItem(),\n        hasTable = iNavCenter.tables.hasItem(),\n        hasCodeblock = iNavCenter.codeblocks.hasItem(),\n        hasFormula = iNavCenter.formulas.hasItem(),\n        hasMedia = iNavCenter.media.hasItem();\n    if (!hasToc && !hasFigure && !hasTable && !hasMedia && !hasCodeblock)\n        iNavCenter.runMode = _close_;\n    // 默认选择首个不为空的索引分类\n    else {\n        let itemName = _toc_;\n        if (hasToc)\n            itemName = _toc_;\n        else if (hasFigure)\n            itemName = _figure_;\n        else if (hasTable)\n            itemName = _table_;\n        else if (hasFormula)\n            itemName = _formula_;\n        else if (hasCodeblock)\n            itemName = _codeblock_;\n        else if (hasMedia)\n            itemName = _media_;\n\n        iNavCenter.segs.setChecked(itemName);\n    }\n\n    // ----------------------------------------\n    iStopwatch.st(\"* Binding Event\");\n    // --------------------------------------------------\n    // 绑定文档鼠标移动事件，聚光灯跟随鼠标移动\n    gDocument.addEventListener(\"mousemove\", (event) => {\n        iSpotlight.repaint(event);\n        iNavCenter.snap(event);\n    });\n\n    // to-do\n    // mmMindmap_init();\n\n    // --------------------------------------------------\n    // 绑定文档单击事件\n    jq_Document.uC().ck((event) => {\n        TableCross_hide();\n\n        // 在指定范围外的情况下，导航中心的显示与隐藏\n        if ($(event.target).closest(_nav_).length === 0) {\n            let classValue = iNavCenter.ui.a(_class_);\n            if (classValue.i(_float_) > -1 || classValue.i(_small_) > -1)\n                iNavCenter.hide();\n        }\n    });\n\n    // --------------------------------------------------\n    // 绑定文档的鼠标滚轮事件\n    gDocument.addEventListener(_wheel_, () => {\n        // 忽略处理，提升性能\n        return false;\n    }, false);\n\n    // --------------------------------------------------\n    // 添加可见性变化事件监听器，即监控非当前窗口和当前窗口之间的切换\n    gDocument.addEventListener('visibilitychange', () => {\n        // 页面不可见时，暂停递归调用\n        if (gDocument.hidden) {\n            gIsRunning = false;\n            gTimer_saveLastPosition = V_clearTimer(gTimer_saveLastPosition);\n        }\n        // 页面可见时，继续递归调用\n        else {\n            if (!gIsRunning) {\n                gIsRunning = true;\n                // 恢复保存最后浏览位置的功能\n                ResumeReading_dispose(gTrue);\n            }\n        }\n    });\n\n    // vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv\n    // 页面滚动事件处理\n    let // disposeScroll = V_throttle(__onScrolling, 500), // 以限流控制方式调用\n        disposeScroll_stoped = V_debounce(__onScrolling, 100); // 以防抖控制方式调用\n    // 绑定文档滚动、页面滚动事件\n    jq_Document.on(_scroll_, () => {\n        // 滚动限流控制执行\n        // disposeScroll();\n        // 滚动后延时再执行一次\n        disposeScroll_stoped();\n    });\n    // 滚动处理\n    function __onScrolling() {\n        let scrollTop = V_ui_getScrollTop();\n\n        // 显示或隐藏文档更多内容遮罩栏\n        MoreDocContent_refresh(scrollTop);\n\n        // 更新阅读进度\n        V_setVarVal(___v_ + _scroll_ + \"-prog\",\n            parseInt(scrollTop / (VOM_doc()[0].clientHeight - $(gWindow).h()) * 100) + \"%\");\n\n        // 由于涉及到章节导航栏数据更新等不同逻辑处理，执行频率由 focusHeader 内进行控制\n        iNavCenter.toc.focusHeader(scrollTop);\n\n        // 根据屏幕大小进行不同的适配控制\n        if (scrollTop > 0)\n            V_ui_adjustAll();\n        // 针对人工方式快速滚动到屏幕顶部后，用延时处理，避免无法识别是否在封面的情况\n        else\n            V_later(() => {\n                V_ui_adjustAll();\n            }, 100);\n    }\n    // ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n    // --------------------------------------------------\n    // 绑定窗口大小缩放事件\n    jq_Window.on(\"resize\", V_debounce(() => { // 以防抖控制方式执行\n        // 缩放过程不处理，只在缩放操作结束后再延时执行\n        TableCross_hide();\n        iNavCenter.toc.focusHeader();\n\n        V_ui_adjustAll();\n        // 如果是小屏则强制隐藏\n        iNavCenter.on && V_ui_isSmallScreen()\n            && iNavCenter.hide();\n\n        ExtQuote_uniteColumnsHeight();\n    }, 1000));\n\n    // --------------------------------------------------\n    // 接收消息数据\n    gWindow.onmessage = function(event) {\n        // 校验新版本检查结果消息合法性\n        let receMessage = JS_toString(event.data);\n        // ！！！不要删除！！！用于测试效果\n        // 用于模拟测试使用\n        // receMessage = \"chk-update:yes,latest:27.1\";\n        // receMessage = \"chk-update:yes\";\n        // receMessage = \"chk-update:no\";\n        LOG(\"<- \" + event.origin + \"\\n\" + receMessage);\n        if ((event.origin !== StsNewVersion_checkOriginCloudFlare\n            || event.origin !== StsNewVersion_checkOriginGitHub)\n            && (!receMessage.sW(_chkUpdate_) || receMessage.length > 50)) {\n                ERROR(_Invalid_ + \" data from \" + event.origin);\n                ERROR(\"[\" + receMessage.length + \"]\", receMessage);\n            return;\n        }\n\n        // ！！！不要删除！！！用于测试效果\n        // 用于模拟测试使用\n        // receMessage = \"chk-update:yes,latest:29.0\";\n        // receMessage = \"chk-update:no,latest:26.2\";\n        // receMessage = \"chk-update:yes\";\n        // 处理新版本检查结果\n        V_data_write(_new_version_check_time_, V_getTime(), gTrue);\n        let gVerFloat = gVer.ss(1, gVer.length);\n        if (receMessage.i(\":\" + _yes_) > -1) {\n            let verStr = \"latest:\",\n                verStart = receMessage.i(verStr),\n                latestVer = (verStart > -1\n                ? receMessage.ss(verStart + V_length(verStr), receMessage.length) // 从 27.0 开始启用的新格式数据\n                : JS_parseFloat(gVerFloat) + 0.01 // 兼容旧格式数据\n             );\n            // 显示新版本提示\n            NewVersion_yes(latestVer);\n            // 本地缓存检查结果\n            V_data_write(_new_version_,\n                receMessage.ss(verStart + V_length(verStr), receMessage.length),\n                gTrue);\n    }\n        else\n            V_data_write(_new_version_, gVerFloat, gTrue);\n    };\n\n    // --------------------------------------------------\n    // 监听页内锚点链接跳转\n    // 注意：同一个锚点连续点击不会触发该事件\n    //\n    // 对于页面滚动位置的变化，会涉及以下几种情况：\n    // 1. URL 中带锚点\n    // 2. 在页面中跳转到页内指定锚点\n    //   - 标题类锚点（如 h1, h2）\n    //   - 类标题锚点（由插件生成的，如题注内容的锚点、引用块小标题）\n    //   - 非标题锚点，不是由内容生成的锚点（如索引的内容、无效链接等，以 vk- 开头）\n    // 3. 在页签组中切换显示对应的内容\n    //\n    jq_Window.on(\"hashchange\", () => {\n        let hash = WINDOW_getHash(),\n            anchor = hash.ss(1, V_length(hash));\n        if (V_length(anchor.x()) === 0 || anchor.sW(\"#\"))\n            return;\n\n        // 添加到导航历史\n        NavHistoryList.add(hash);\n\n        let hashObj = $(V_attrCSS(_id_, JS_decodeURIComponent(anchor)));\n        if (V_length(hashObj) > 0) {\n            // --------------------\n            // 对于目标锚点在 details 内的处理（主要针对移动端的兼容性处理）\n            V_ui_openDetails(hashObj)\n                && V_ui_setScrollTop(hashObj.oT(), hashObj);\n\n            // --------------------\n            // 对于目标锚点所属的容器被页签组所隐藏时的处理\n            if (!V_ui_switchToTabItem(hashObj))\n                // 非页签组相关内容的处理（CSS 中的 scroll-margin-top 需要配合滚动处理才能生效）\n                V_ui_setScrollTop(hashObj.oT(), hashObj, gUndefined, gFalse);\n        }\n\n        gLastHash = hash;\n\n        // 若导航中心没有显示（且不是 small 模式时），则强制进行延时适配处理（如从封面直接到指定章节）\n        !iNavCenter.on && !V_isMobile() && !iNavCenter.isSmall()\n            && V_ui_adjustAllDelay();\n    });\n\n    iStopwatch.ed(_4space_);\n}\n\n/**\n * 初始化须在页面 body 显示后才能执行的部分\n */\nfunction V_initRestyle() {\n    let sw = new Stopwatch();\n\n    // ----------------------------------------\n    // 重置任务清单样式\n    sw.st();\n    Restyler_forTaskList();\n    sw.ed(\"    ├ TaskList: \");\n\n    // ----------------------------------------\n    // 重置脚本化图表样式，须在以上页面内容恢复显示后再处理\n    sw.st();\n    Restyler_forMermaid();\n    sw.ed(\"    └ Mermaid: \");\n\n    // ----------------------------------------\n    // 检查是否使用了 Typora 的图片缩放功能\n    Restyler_forImgZoom();\n    sw.ed(\"    └ Img Zoom: \");\n}\n\n// ========================================\n// 灰色模式 Gray Mode\n\n/**\n * 初始化 Gray Mode\n */\nlet StsGray_ui = gUndefined;\nfunction GrayMode_init() {\n    // 先判断是否通过 query 参数临时停用\n    if (V_getParamVal(_gray_) === _off_)\n        return;\n    // 强制启用\n    else if (V_getParamVal(_gray_) === \"force\") {\n        __enableGrayMode(__today(new Date()), _);\n        return;\n    }\n\n    // 获取需要增加的日期集合\n    let grayModeValue = V_getMetaByName(_vlook_gray_mode_);\n    // 文档无指定灰色模式配置时，尝试取主题配套的 vlook-gray-mode 预置选项内容\n    if (grayModeValue === gUndefined)\n        grayModeValue = V_getVarVal(\"--\" + _vlook_gray_mode_);\n\n    // ！！！不要删除！！！用于测试效果\n    // 用于调试\n    // grayModeValue = __today(new Date()) + \":测试;12-13:国家公祭日@zh;04-04:清明节@zh,ko\";\n    if (V_length(grayModeValue.x()) === 0)\n        return;\n\n    let valueSet = grayModeValue.sp(\";\");\n    for (let i = 0; i < V_length(valueSet); i++) {\n        let item = valueSet[i].m(/^((\\d{2}-\\d{2}):([^@]+))?(@([a-zA-Z,]{2,}))?$/);\n        // 格式不匹配则忽略\n        if (item === gNull)\n            continue;\n\n        // 匹配指定的语言环境，为空则表示不限制语言\n        if (item[5] === gUndefined || item[5].l().i(env.lang.base) > -1) {\n            // 获取当前日期\n            if (item[2] === __today(new Date())) {\n                // 启用\n                __enableGrayMode(item[2], item[3]);\n                break;\n            }\n        }\n    }\n\n    // 启用「灰色模式」\n    function __enableGrayMode(date, title) {\n        // 添加 灰色模式 样式\n        JQ_addClass(DOM_body(), _gray_);\n\n        StsGray_ui = V_byClass(_v_sts_gray_);\n        // 灰色模式 选中样式\n        JQ_addClass(StsGray_ui, _selected_);\n\n        ToolTips_bind(StsGray_ui, V_lang_text17() +___+ V_lang_text48());\n\n        // 设置灰色模式数据\n        StsGray_ui.a(_data_date_, date);\n        StsGray_ui.a(_data_title_, title);\n        StsGray_ui.uC().ck(() => {\n            iInfoTips.hide();\n            JQ_removeClass(StsGray_ui, _selected_);\n            JQ_removeClass(DOM_body(), _gray_);\n        });\n    }\n\n    // 返回今天的日期（短格式），如：10-01\n    function __today(date) {\n        return __padZero(date.getMonth() + 1) + \"-\" + __padZero(date.getDate())\n    }\n\n    // 月份、日期前补零对齐\n    function __padZero(value) {\n        return value < 10 ? `0${value}` : value;\n    }\n}\n\n/**\n * 临时关闭 Gray Mode\n */\nfunction GrayMode_close() {\n    // 当前启用了「灰色模式」的处理\n    if (DOM_body().a(_class_).i(_gray_) > -1) {\n        iInfoTips.bubble(\n            V_ui_strong(\n                V_lang_text(87, [\n                    \"今天是\",\n                    \"Today is\"\n                ]) + _2nbsp_ + StsGray_ui.a(_data_title_) + \" (\" + StsGray_ui.a(_data_date_) + \")\"\n            ) + _2br_\n            + V_lang_text(88, [\n                \"本页面今天会以 \" + _display_mode_ + \" 显示\",\n                \"This page will be displayed in \" + _display_mode_\n            ]).r(_display_mode_, V_ui_strong(V_lang_text48())) + \"<hr>\"\n            + V_ui_sub(_, _,\n                V_ui_svgIcon(_icoGray_, 20, 20, _theme_)\n                +___+ V_lang_text(89, [\n                    \"点击下面该按钮可临时关闭\",\n                    \"Click the button below to temporarily turn it off\"\n                ])\n            )\n            , 5000, _corner_ + \"3\");\n    }\n}\n// 灰色模式 Gray Mode\n// ========================================\n\n// ========================================\n// 定义 VLOOK 语言类\nlet V_lang = -1,\n    V_lang_custom = gUndefined;\n\n/**\n * 初始化语言\n */\nfunction V_lang_init() {\n    switch (env.lang.base) {\n        case \"zh\":\n            V_lang = 0; // 简体中文\n            break;\n        default:\n            V_lang = 1; // 英语（默认）\n    }\n\n    // 通过 meta 指定的语言包\n    // 先尝试匹配语种子集\n    let zhSet = env.lang.full;\n    if (zhSet === \"zh-tw\" || zhSet === \"zh-mo\") // 台湾、澳门统一使用香港版本繁体\n        zhSet = \"zh-hk\";\n    let vlookLang = V_getMetaByName(_vlook__ + _lang_ + \"-\" + zhSet);\n    // 子集为空时，再尝试匹配主语种\n    if (vlookLang === gUndefined)\n        vlookLang = V_getMetaByName(_vlook__ + _lang_ + \"-\" + env.lang.base);\n    if (vlookLang !== gUndefined)\n        V_lang_custom = vlookLang;\n}\n\n/**\n * 获得适配当前语言的 UI 文本\n * @param buildInTextSet 内置的中英文本\n * @param textId 文本标识，主要作为指定语言包时进行匹配，如：1、97，对应语言包中的 text1、text97\n */\nfunction V_lang_text(textId, buildInTextSet) {\n    if (V_lang_custom === gUndefined)\n        return buildInTextSet[V_lang];\n\n    let text = V_getMetaByName(_vk__ + V_lang_custom + textId);\n    return text === gUndefined\n        ? buildInTextSet[V_lang]\n        : text;\n}\n\n// 获取语言 ID 3 内容\nfunction V_lang_text3() {\n    return V_lang_text(3, [\n        \"链接地图\",\n        \"Link Map\"\n    ]);\n}\n// 获取语言 ID 4 内容\nfunction V_lang_text4() {\n    return V_lang_text(4, [\n        \"已启用\",\n        \"Enabled\"\n    ]);\n}\n// 获取语言 ID 6 内容\nfunction V_lang_text6() {\n    return V_lang_text(6, [\n        \"导航中心\",\n        _Navigation_ + \" Center\"\n    ]);\n}\n// 获取语言 ID 7 内容\nfunction V_lang_text7() {\n    return V_lang_text(7, [\n        \"浏览\" + _doc_lib_cn_,\n        _Document_ + \" Library\"\n    ]);\n}\n// 获取语言 ID 8 内容\nfunction V_lang_text8() {\n    return V_lang_text(8, [\n        \"段落漫游\",\n        \"Paragraph Roaming\"\n    ]);\n}\n// 获取语言 ID 9 内容\nfunction V_lang_text9() {\n    return V_lang_text(8, [\n        \"聚光灯\",\n        _Spotlight_\n    ]);\n}\n// 获取语言 ID 10 内容\nfunction V_lang_text10() {\n    return V_lang_text(10, [\n        \"激光笔\",\n        _Laser_ +___+ _Pointer_\n    ]);\n}\n// 获取语言 ID 15 内容\nfunction V_lang_text15() {\n    return V_lang_text(15, [\n        \"前一个\",\n        _Previous_\n    ]);\n}\n// 获取语言 ID 16 内容\nfunction V_lang_text16() {\n    return V_lang_text(16, [\n        \"后一个\",\n        _Next_\n    ]);\n}\n// 获取语言 ID 17 内容\nfunction V_lang_text17() {\n    return V_lang_text(17, [\n        \"关闭\",\n        _Close_\n    ]);\n}\n// 获取语言 ID 18 内容\nfunction V_lang_text18() {\n    return V_lang_text(18, [\n        \"公式\",\n        \"Formel\"\n    ]);\n}\n// 获取语言 ID 22 内容\nfunction V_lang_text22() {\n    return V_lang_text(22, [\n        \"所有脚注\",\n        \"All \" + _footnotes_\n    ]);\n}\n// 获取语言 ID 28 内容\nfunction V_lang_text28() {\n    return V_lang_text(28, [\n        \"按住\",\n        \"Press and hold\"\n    ]);\n}\n// 获取语言 ID 35 内容\nfunction V_lang_text35() {\n    return V_lang_text(35, [\n        \"目录\",\n        \"Table of Contents\"\n    ]);\n}\n// 获取语言 ID 38 内容\nfunction V_lang_text38() {\n    return V_lang_text(38, [\n        \"已就绪\",\n        _Ready_\n    ]);\n}\n// 获取语言 ID 41 内容\nfunction V_lang_text41() {\n    return V_lang_text(41, [\n        \"字体风格\",\n        _Font_ + \" \" + _Style_\n    ]);\n}\n// 获取语言 ID 44 内容\nfunction V_lang_text44() {\n    return V_lang_text(44, [\n            \"字数\",\n            \"words\"\n        ]);\n}\n// 获取语言 ID 45 内容\nfunction V_lang_text45() {\n    return V_lang_text(45, [\n        \"外观\",\n        \"Appearance\"\n    ]);\n}\n// 获取语言 ID 48 内容\nfunction V_lang_text48() {\n    return V_lang_text(48, [\n        \"灰色模式\",\n        \"Gray \" + _Mode_\n    ]);\n}\n// 获取语言 ID 53 内容\nfunction V_lang_text53() {\n    // ⚠\n    return \"‼️ \" + V_lang_text(53, [\n        \"重复的标题/题注\",\n        \"Duplicate Title/Caption\"\n    ]);\n}\n// 获取语言 ID 54 内容\nfunction V_lang_text54() {\n    return \"🚫 \" + V_lang_text(54, [\n        \"无效页内链接\",\n        _Invalid_ + \" Inner Link\"\n    ]);\n}\n// 获取语言 ID 56 内容\nfunction V_lang_text56() {\n    return V_lang_text(56, [\n        \"表\",\n        \"Table\"\n    ]);\n}\n// 获取语言 ID 57 内容\nfunction V_lang_text57() {\n    return V_lang_text(57, [\n        \"代码块\",\n        \"Code Block\"\n    ]);\n}\n// 获取语言 ID 58 内容\nfunction V_lang_text58() {\n    return V_lang_text(58, [\n        \"图\",\n        \"Figure\"\n    ]);\n}\n// 获取语言 ID 59 内容\nfunction V_lang_text59() {\n    return V_lang_text(59, [\n        \"音频\",\n        \"Audio\"\n    ]);\n}\n// 获取语言 ID 60 内容\nfunction V_lang_text60() {\n    return V_lang_text(60, [\n        \"视频\",\n        \"Video\"\n    ]);\n}\n// 获取语言 ID 63 内容\nfunction V_lang_text63() {\n    // 🚫\n    return \"❌ \" + V_lang_text(63, [\n        \"无效的资源地址\",\n        _Invalid_ + \" resource address\"\n    ]);\n}\n// 获取语言 ID 65 内容\nfunction V_lang_text65() {\n    return V_lang_text(65, [\n        \"导航历史\",\n        _Navigation_ +___+ _history_\n    ]);\n}\n// 获取语言 ID 66 内容\nfunction V_lang_text66() {\n    return V_lang_text(66, [\n        \"是空的\",\n        \" is empty\"\n    ]);\n}\n// 获取语言 ID 67 内容\nfunction V_lang_text67() {\n    return V_lang_text(67, [\n        \"未找到\",\n        \"Not found\"\n    ]);\n}\n// 获取语言 ID 68 内容\nfunction V_lang_text68() {\n    return V_lang_text(68, [\n        \"明信片\",\n        \"Postcard\"\n    ]);\n}\n// 获取语言 ID 78 内容\nfunction V_lang_text78() {\n    return V_lang_text(78, [\n        \"继续上次的阅读\",\n        \"Resume Reading\"\n    ]);\n}\n// 获取语言 ID 81 内容\nfunction V_lang_text81() {\n    return V_lang_text(81, [\n        \"异常的链接 / 地址\",\n        \"Invalid link / address\"\n    ]);\n}\n// 获取语言 ID 82 内容\nfunction V_lang_text82() {\n    return V_lang_text(82, [\n        \"页面\",\n        \"Page\"\n    ]);\n}\n// 定义 V.lang\n// ========================================\n\n// ========================================\n// 文档类\nlet V_doc_block = gFalse; // 当前文档是否被模态窗口阻塞\n\n/**\n * 冻结文档滚动\n */\nfunction V_doc_scroll_freeze() {\n    // 切换文档滚动控制\n    JQ_exchangeClass(DOM_body(), _unfreeze_, _freeze_);\n}\n\n/**\n * 解冻文档滚动\n */\nfunction V_doc_scroll_unfreeze() {\n    JQ_exchangeClass(DOM_body(), _freeze_, _unfreeze_);\n}\n\n// 内容计数器\nlet V_doc_counter_img = 0, // 图片总数\n    V_doc_counter_figure = 0, // 插图总数\n    V_doc_counter_postcard = 0, // 明信片数量\n    V_doc_counter_table = 0, // 表格总数\n    V_doc_counter_codeblock = 0, // 代码块总数\n    V_doc_counter_formula = 0, // 公式总数\n    V_doc_counter_audio = 0, // 非 mini 模式音频总数\n    V_doc_counter_audiomini = 0, // mini 模式音频总数\n    V_doc_counter_video = 0, // 视频总数\n    V_doc_counter_details = 0, // 详情总数\n    V_doc_counter_tagGroup = 0; // 连续内容转换为页签组的总数\n\n/**\n * 初始化外部链接（如：http://、https://、ftp://、站内链接等）\n */\nfunction V_doc_link_adjustExternal() {\n    $(\"a\" + V_not(V_attrCSS(_href_, \"#\", \"^\"))).e((index, element) => {\n        let a = $(element),\n            href = a.a(_href_);\n        // 跳过指定类型链接\n        if (href === gUndefined || href.x() === _ || href.sW(\"?\")) // ? 开头的如 ?target=vdl\n            return gTrue; // 跳过当前循环\n\n        // 为其添加 target 参数\n        a.a(_target_, a.a(_href_));\n\n        // 如果指定关闭文库，则所有外部链接都自动添加同名参数\n        if (iNavCenter.lib !== gUndefined && iNavCenter.lib.off) {\n            let page = V_getUrlWithoutQueryAndHash(href),\n                queryStr = V_getUrlQueryString(href),\n                hash = V_getUrlHash(href);\n            // 添加同名参数\n            queryStr += ((V_length(queryStr) > 0 ? \"&\" : _) + \"vdl=off\");\n            a.a(_href_, page + \"?\" + queryStr + hash);\n        }\n    });\n\n    // 处理带链接的标签（标签链接）\n    $(\"a>:is(.\" + _v_tag_ + \",.\" + _v_badge_name_ + \")\").e((index, element) => {\n        let a = $(element).p(),\n            dataHref = _data__ + _href_,\n            dataTarget = _data__ + _target_;\n\n        // 对链接的属性处理\n        a.a(dataHref, a.a(_href_));\n        a.a(dataTarget, a.a(_target_));\n        JQ_removeAttr(a, _href_);\n        JQ_removeAttr(a, _target_);\n\n        // 添加独立的打开链接的入口\n        a.pp(V_ui_span(_v_tag_link, _, \"→ \" + V_lang_text(86, [\n            \"点击这里打开链接\",\n            \"Click here to open the link\"\n        ])));\n\n        // 转移链接事件处理\n        a.ch(\".\" + _v_tag_link).uC().ck(() => {\n            gWindow.open(a.a(dataHref), a.a(dataTarget), \"noopener,noreferrer\");\n        });\n    });\n\n}\n// ========================================\n\n// ========================================\n// 定义 VLOOK 埋点数据统计\n// 上报事件的累计次数，用于标识不同的上报事件 iframe 的 id\nlet V_report_count =  0;\n\n/**\n * 提交统计数据\n */\n// function V_report_submit(loadTimeCost) {\nfunction V_report_submit() {\n    // 基本信息：VLOOK\n    let sd = \"?p=vlook\"\n        + \"&ver=\" + V_ver\n        + \"&thm=\" + V_getTemplateThemeName()\n        + \"&url=\" + WINDOW_getHref();\n\n    // if (1 === 2) {\n    //     sd += \"&d=\" + (V_util_isMobile() ? \"mob\" : _) // 设备类型\n    //         + \"&dpr=\" + env.display.DPR; // DPR\n\n    //     // 信息：OS\n    //     sd += \"&os=\";\n    //     if (env.os.macOS)\n    //         sd += \"macOS\";\n    //     else if (env.os.Windows)\n    //         sd += \"Windows\";\n    //     else if (env.os.iOS)\n    //         sd += \"iPhone\";\n    //     else if (env.os.Linux)\n    //         sd += \"iPhone\";\n    //     else\n    //         sd += \"others\";\n\n    //     // 浏览器及版本\n    //     sd += \"&b=\";\n    //     if (env.browser.Edge)\n    //         sd += \"edge&bv=\" + env.brwVer.Edge;\n    //     else if (env.browser.Chrome)\n    //         sd += \"chrome&bv=\" + env.brwVer.Chrome;\n    //     else if (env.browser.Firefox)\n    //         sd += \"firefox&bv=\" + env.brwVer.Firefox;\n    //     else if (env.browser.Safari)\n    //         sd += \"safari&bv=\" + env.brwVer.Safari;\n    //     else\n    //         sd += \"others&bv=\";\n\n    //     // 浏览器的颜色方案\n    //     sd += \"&cs=\" + V_util_getVarVal(___v_color_scheme_).rA('\"', _);\n\n    //     sd += \"&lang=\" + V_lang // 浏览器语言\n    //         + \"&size=\" + V_length(VOM_doc().t()) // 文档大小\n    //         + \"&time=\" + loadTimeCost; // 加载文档时间\n\n    //     // 插图数据：图片\n    //     sd += \"&\" + _img_ + \"=\" + V_length(V_byClass(_v_fig_))\n    //         + \"&\" + _img_ + \"-fold=\" + V_length($(\"p\" + V_attrCSS(_data_cntr_, _img_) + V_attrCSS(_data_content_folded_, _true_)))\n    //         + \"&\" + _img_ + \"-fill=\" + V_length($(_img_ + V_not(V_attrCSS(_data_img_fill_))))\n    //         + \"&\" + _img_ + \"-\" + _invert_ + \"=\" + V_length($(_img_ + V_attrCSS(_data_dark_src_, _invert_)))\n    //         + \"&\" + _img_ + \"-alter=\" + V_length($(_img_ + V_attrCSS(_data_dark_src_, _alter_)))\n    //         + \"&\" + _img_ + \"-cap1=\" + V_length($(_div_ + V_attrCSS(_id_, _vk_id_fig_, \"^\") + V_attrCSS(_data_id_fig_type_, _img_) +___+ __v_cap1_))\n    //         + \"&\" + _img_ + \"-cap2=\" + V_length($(_div_ + V_attrCSS(_id_, _vk_id_fig_, \"^\") + V_attrCSS(_data_id_fig_type_, _img_) +___+ __v_cap2_));\n\n    //     // 插图数据：Mermaid\n    //     let mermaid = V_byClass(_md_diagram_panel_);\n    //     sd += \"&mm=\" + V_length(mermaid)\n    //         + \"&mm-fold=\" + V_length($(_div_ + V_attrCSS(_data_cntr_, _svg_) + V_attrCSS(_data_content_folded_, _true_)))\n    //         + \"&mm-cap1=\" + V_length($(_div_ + V_attrCSS(_id_, _vk_id_fig_, \"^\") + V_attrCSS(_data_id_fig_type_, _svg_) +___+ __v_cap1_))\n    //         + \"&mm-cap2=\" + V_length($(_div_ + V_attrCSS(_id_, _vk_id_fig_, \"^\") + V_attrCSS(_data_id_fig_type_, _svg_) +___+ __v_cap2_));\n\n    //     // 音频数据\n    //     sd += \"&audio=\" + V_length($(_audio_))\n    //         + \"&mm-cap1=\" + V_length($(_div_ + V_attrCSS(_id_, _vk_id_audio_, \"^\") +___+ __v_cap1_))\n    //         + \"&mm-cap2=\" + V_length($(_div_ + V_attrCSS(_id_, _vk_id_audio_, \"^\") +___+ __v_cap2_));\n\n    //     // 视频数据\n    //     sd += \"&video=\" + V_length($(_video_))\n    //         + \"&mm-cap1=\" + V_length($(_div_ + V_attrCSS(_id_, _vk_id_video_, \"^\") +___+ __v_cap1_))\n    //         + \"&mm-cap2=\" + V_length($(_div_ + V_attrCSS(_id_, _vk_id_video_, \"^\") +___+ __v_cap2_));\n\n    //     // 图片细分：Mermaid 图\n    //     let pie = 0,\n    //         flow = 0,\n    //         flowSTART = 0,\n    //         flowINIT = 0,\n    //         state = 0,\n    //         seq = 0,\n    //         classD = 0,\n    //         gantt = 0;\n    //     mermaid.e((index, element) => {\n    //         let _t = $(element);\n    //         if (V_length(_t.f(\"g.legend\")) > 0)\n    //             pie++; // 饼图\n    //         else if (V_length(_t.f(\"g.output g.nodes\")) > 0) {\n    //             flow++; // 流程图\n    //             if (V_length(_t.f(\"g.output g.nodes g#START.node\")) > 0)\n    //                 flowSTART++; // VLOOK 标准的流程图\n    //             else if (V_length(_t.f(\"g.output g.nodes g#INIT.node\")) > 0)\n    //                 flowINIT++; // VLOOK 标准的状态机图\n    //         }\n    //         else if (V_length(_t.f(\"g.stateGroup\")) > 0)\n    //             state++; // 状态机图（原生）\n    //         else if (V_length(_t.f(\"g rect.actor\")) > 0)\n    //             seq++; // 顺序图\n    //         else if (V_length(_t.f(\"g.classGroup\")) > 0)\n    //             classD++; // 类图\n    //         else if (V_length(_t.f(\"g rect.section\")) > 0)\n    //             gantt++; // 甘特图\n    //     });\n    //     sd += \"&mm-pie=\" + pie\n    //         + \"&mm-flow=\" + flow\n    //         + \"&mm-flow-S=\" + flowSTART\n    //         + \"&mm-flow-I=\" + flowINIT\n    //         + \"&mm-state=\" + state\n    //         + \"&mm-seq=\" + seq\n    //         + \"&mm-class=\" + classD\n    //         + \"&mm-gantt=\" + gantt;\n\n    //     // 表格数据\n    //     sd += \"&tbl=\" + V_length($(_table_))\n    //         + \"&tbl-fold=\" + V_length($(_figure_ + V_attrCSS(_data_cntr_, _table_) + V_attrCSS(_data_content_folded_, _true_)))\n    //         + \"&tbl-cap1=\" + V_length($(_div_ + V_attrCSS(_id_, _vk_id_tbl_) +___+ __v_cap1_))\n    //         + \"&tbl-cap2=\" + V_length($(_div_ + V_attrCSS(_id_, _vk_id_tbl_) +___+ __v_cap2_));\n\n    //     // 表格列格式数据\n    //     let fmBold = 0,\n    //         fmEm = 0,\n    //         fmUnderline = 0,\n    //         fmMark = 0,\n    //         fmDel = 0,\n    //         fmChk = 0,\n    //         fmNum = 0;\n    //     $(_table_ + V_attrCSS(_data_column_fmting_, _true_)).e((index, element) => {\n    //         let _t = $(element);\n    //         if (V_length(_t.f(_thead_ + \" .\" + _v_tbl_col_fmt_bold_)) > 0)\n    //             fmBold++;\n    //         if (V_length(_t.f(_thead_ + \" .\" + _v_tbl_col_fmt_em_)) > 0)\n    //             fmEm++;\n    //         if (V_length(_t.f(_thead_ + \" u\")) > 0)\n    //             fmUnderline++;\n    //         if (V_length(_t.f(_thead_ + \" .\" + _v_tbl_col_fmt_mark_)) > 0)\n    //             fmMark++;\n    //         if (V_length(_t.f(_thead_ +___+ _del_)) > 0)\n    //             fmDel++;\n    //         if (V_length(_t.f(_thead_ + \" .\" + _v_tbl_col_fmt_chkbox_)) > 0)\n    //             fmChk++;\n    //         if (V_length(_t.f(_thead_ + \" .\" + _v_tbl_col_fmt_num_)) > 0)\n    //             fmNum++;\n    //     });\n    //     sd += \"&tbl-fm-b=\" + fmBold\n    //         + \"&tbl-fm-em=\" + fmEm\n    //         + \"&tbl-fm-u=\" + fmUnderline\n    //         + \"&tbl-fm-m=\" + fmMark\n    //         + \"&tbl-fm-d=\" + fmDel\n    //         + \"&tbl-fm-chk=\" + fmChk\n    //         + \"&tbl-fm-num=\" + fmNum;\n\n    //     // 带单元格合并的表格数\n    //     sd += \"&tbl-\" + _cell_ + \"-merge=\" + V_length($(_table_ + V_attrCSS(_data_cell_merge_, _true_)));\n\n    //     // 带行折叠的表格数\n    //     sd += \"&tbl-row-group=\" + V_length($(_table_ + V_attrCSS(_data_row_group_, _true_)));\n\n    //     // 代码块数据\n    //     sd += \"&cb=\" + V_length(V_byClass(_md_fences_))\n    //         + \"&cb-fold=\" + V_length($(\"p\" + V_attrCSS(_data_cntr_, _codeblock_) + V_attrCSS(_data_content_folded_, _true_)))\n    //         + \"&cb-cap1=\" + V_length($(_div_ + V_attrCSS(_id_, _vk_id_codeblock_) +___+ __v_cap1_))\n    //         + \"&cb-cap2=\" + V_length($(_div_ + V_attrCSS(_id_, _vk_id_codeblock_) +___+ __v_cap2_));\n\n    //     // 标签数据\n    //     sd += \"&\" + _tag_ + \"=\" + V_length($(_code_ + V_attrCSS(_class_, _v_tag_)))\n    //         + \"&\" + _badge_ + \"=\" + V_length($(_code_ + V_attrCSS(_class_, _v_badge_name_)));\n\n    //     // 引用块折叠数据\n    //     sd += \"&dt=\" + V_length($(_details_));\n\n    //     // 脚注数据\n    //     sd += \"&fn=\" + V_length(V_byClass(\"md-\" + _footnote_));\n    // }\n\n    // 提交统计数据\n    let vlookStatViaGithub = $(_iframe_ + V_attrCSS(_name_, _vlook_stat_github_)),\n        vlookStatViaCloudFlare = $(_iframe_ + V_attrCSS(_name_, _vlook_stat_cloudflare_));\n\n    vlookStatViaGithub.a(_src_, _httpsPrefix_ + _vlookAct_ + (V_devMode ? \"dev-\" : _) + \"stat-github.html\" + sd);\n    DEBUG(\"STAT DATA (GitHub):\", vlookStatViaGithub.a(_src_));\n\n    !V_devMode\n        && (\n            vlookStatViaCloudFlare.a(_src_, _vlookPagesHost_CloudFlare_ + \"/act/\" + (V_devMode ? \"dev-\" : _) + \"stat-cloudflare.html\" + sd),\n            DEBUG(\"STAT DATA (CloudFlare):\", vlookStatViaCloudFlare.a(_src_))\n        );\n}\n// 定义 VLOOK 埋点数据统计\n// ========================================\n\n// ==================== 处理耗时计时器类 ==================== //\n\n/**\n * 构造函数\n */\nfunction Stopwatch() {\n    let T = this;\n    V_length(T, 1);\n    T.sT = gNull; // 重置后的初始时间\n    T.lT = gNull; // 每次中间计时的初始时间\n\n    /**\n     * 重置计时器\n     */\n    T.rst = function() {\n        T.sT = V_getTime();\n    }\n\n    /**\n     * 一次中间计时开始\n     */\n    T.st = function (target) {\n        target !== gUndefined && LOG(target);\n        T.lT = V_getTime();\n    }\n\n    /**\n     * 一次中间计时结束\n     * @param pre 输出内容前缀\n     * @param slient 是否为静默模式，true：是\n     */\n    T.ed = function (pre, slient) {\n        let c = V_getTime() - T.lT;\n        // 非静默模式时，输出计时结果\n        if (!slient) {\n            let msg = pre + \"⏱ \" + c + \" ms\";\n            if (c < 300)\n                INFO(msg);\n            else if (c < 500)\n                WARN(msg);\n            else\n                ERROR(msg);\n        }\n        return c;\n    }\n\n    /**\n     * 计时器结束\n     */\n    T.stop = function() {\n        return V_getTime() - T.sT;\n    }\n\n    // 初始化计时器\n    T.rst();\n}\n\n// ==================== 欢迎页 ==================== //\n\nlet WelcomePage_ui = gUndefined, // 欢迎页主界面\n    WelcomePage_button = gUndefined, // 关闭欢迎页按钮\n    WelcomePage_tips = gUndefined, // 欢迎信息\n    WelcomePage_finished = gFalse, // 是否已加载\n    WelcomePage_mode = _auto_; // 模式\n\n/**\n * 构造函数\n * @param mode 欢迎页显示模式\n */\nfunction WelcomePage_init(mode) {\n    WelcomePage_ui = V_byClass(_v_welcome_page_); // 欢迎页主界面\n    WelcomePage_button = V_byClass(_v_welcome_page_ + \">.\" + _v_loading_); // 关闭欢迎页按钮\n    WelcomePage_tips = V_byClass(_v_welcome_page_ + \">.\" + _v_tips_); // 欢迎信息\n    WelcomePage_finished = gFalse; // 是否已加载\n    WelcomePage_mode = mode; // 模式\n\n    // 初始执行\n    WelcomePage_mode === _off_\n        ? WelcomePage_close()\n        : WelcomePage_ui.show();\n}\n\n/**\n * 完成所有内容加载后调用\n */\nfunction WelcomePage_done() {\n    // 关闭欢迎页事件\n    WelcomePage_button.uC().ck(() => {\n        WelcomePage_close(gTrue);\n    });\n\n    WelcomePage_ui.c(_cursor_, _default_);\n    WelcomePage_stopAni();\n\n    WelcomePage_updateCloseButton(gNull);\n    JQ_addClass(WelcomePage_button, _v_btn_ + \"-\" + _done_);\n\n    WelcomePage_finished = gTrue;\n\n    // 模式：wait\n    if (WelcomePage_mode === _wait_)\n        JQ_addClass(WelcomePage_button, _wait_);\n    // 模式：auto、指定秒数\n    else {\n        let delay = (WelcomePage_mode === _auto_\n            ? 0 // 模式：auto，延时自动关闭\n            : JS_parseInt(WelcomePage_mode)); // 模式：指定秒数\n        // 控制秒数上限\n        if (delay > 10)\n            delay = 10;\n        // 秒数有效时才处理\n        delay >= 0 && WelcomePage_autoClose(delay);\n    }\n}\n\n/**\n * 自动延时关闭\n * @param delay VLOOK Query 调校参数指定的延时自动关闭秒数\n */\nfunction WelcomePage_autoClose(delay) {\n    let delaySecs = delay,\n        closeTimer = gNull;\n\n    delay === 0 // auto\n        ? WelcomePage_close()\n        : __timeToClose();\n\n    // 关闭倒计时\n    function __timeToClose() {\n        WelcomePage_updateCloseButton(delaySecs);\n        delaySecs--;\n        if (delaySecs < 0) { // 倒计时结束\n            closeTimer = V_clearTimer(closeTimer);\n            WelcomePage_close(gTrue);\n        }\n        else\n            closeTimer = V_later(__timeToClose, 1000);\n    }\n}\n\n/**\n * 更新关闭按钮\n * @param sec 显示倒计时的秒数\n */\nfunction WelcomePage_updateCloseButton(sec) {\n    WelcomePage_button.hm(V_lang_text(23, [\n        _startReading_cn_,\n        _startReading_en_\n        ]) + (sec === gNull ? _ : ___+ V_ui_span(_, _, \"(\" + sec + \"s)\")));\n}\n\n/**\n * 停止加载时的呼吸动画\n */\nfunction WelcomePage_stopAni() {\n    WelcomePage_tips.c(_animation_, _none_);\n}\n\n/**\n * 关闭欢迎页\n * @param ani 是否以动画方式关闭\n */\nfunction WelcomePage_close(ani = gFalse) {\n    if (ani) {\n        JQ_addClass(WelcomePage_ui, _close_);\n        V_later(() => {\n            WelcomePage_ui.hide();\n        }, gTransDurationLong); // 时间与样式 .v-welcome-page.close 中的动画时长同步\n    }\n    else\n        WelcomePage_ui.hide();\n\n    V_doc_scroll_unfreeze();\n\n    // 关闭「灰色模式」\n    V_pageMode === _max_ && GrayMode_close();\n}\n\n/**\n * 处理热键操作\n * @param key 非功能键键\n * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n * @param event 事件对象\n */\nfunction WelcomePage_disposeHotkey(key, combKeys, event) {\n    if (!WelcomePage_finished || V_ui_isHidden(WelcomePage_ui))\n        return;\n\n    V_noCombKeys(combKeys) && key === _Enter_ && ( // 关闭欢迎页\n        WelcomePage_close(gTrue),\n        // 如果事件已处理，则禁止双重操作\n        V_preventDefault(event)\n    );\n}\n\n// ==================== 内容助手类 ==================== //\n\nlet ContentAssistor_ui = gUndefined,\n    ContentAssistor_btns_copyContent = gUndefined, // 复制内容\n    ContentAssistor_btns_tableCross = gUndefined, // 表格阅读模式（十字光标）\n    ContentAssistor_btns_wrap = gUndefined, // 表格、代码块换行、不换行\n    ContentAssistor_btns_picInPic = gUndefined, // 「画中画」\n    // 最后显示新标签打开按钮的内容（插图/表格等\n    ContentAssistor_lastTarget = gUndefined, // 用于代码、标签\n    ContentAssistor_lastHover = gUndefined,\n    ContentAssistor_lastContentType = gUndefined;\n\nfunction ContentAssistor_init() {\n    ContentAssistor_ui = V_byClass(_v_content_assistor_);\n    ContentAssistor_btns_copyContent = $(_v_btn__n__assistor_ + \".\" + _copy_); // 复制内容\n    ContentAssistor_btns_tableCross = $(_v_btn__n__assistor_ + \".\" + _table_cross_); // 表格阅读模式（十字光标）\n    ContentAssistor_btns_wrap = $(_v_btn__n__assistor_ + \".\" + _wrap_); // 表格、代码块换行、不换行\n    ContentAssistor_btns_picInPic = $(_v_btn__n__assistor_ + \".\" + _pic_in_pic_); // 「画中画」\n\n    ToolTips_bind(ContentAssistor_btns_tableCross, V_lang_text(25, [\n        \"阅读模式\",\n        \"Reading \" + _Mode_\n    ]));\n\n    ToolTips_bind(ContentAssistor_btns_wrap,  V_lang_text(26, [\n        \"换行 / 不换行\",\n        \"Line \" + _break_ + \" / No \" + _line_ +___+ _break_\n    ]));\n\n    ToolTips_bind(ContentAssistor_btns_picInPic, V_lang_text(27, [\n        \"画中画\",\n        \"Picture in picture\"\n    ]));\n\n    ContentAssistor_ui.on(_mouseLeave_, (event) => {\n        !v_ui_mouseDropIn(ContentAssistor_lastHover, event)\n            && ContentAssistor_hide();\n    });\n\n    // 开/关：表格阅读模式（十字光标）\n    ContentAssistor_btns_tableCross.uC().ck((event) => {\n        TableCross_toggle(event);\n    });\n\n    // 开/关：表格、代码块的换行、不换行\n    ContentAssistor_btns_wrap.uC().ck(() => {\n        __actionWrap();\n    });\n\n    // 复制\n    ToolTips_bind(ContentAssistor_btns_copyContent);\n    ContentAssistor_btns_copyContent.uC().ck((event) => {\n        __actionCopy(V_eventCurrentTarget(event), event);\n    });\n\n    // 画中画\n    ContentAssistor_btns_picInPic.uC().ck(() => {\n        PicInPic_show();\n    });\n\n    // 处理【换行、不换行】\n    function __actionWrap() {\n        if (ContentAssistor_lastHover === gUndefined)\n            return;\n\n        // 表格\n        if (ContentAssistor_lastContentType === _table_)\n            TableWrap_toggle();\n        // 代码块\n        else if (ContentAssistor_lastContentType === _codeblock_)\n            CodeblockWrap_toggle();\n    }\n\n    // 处理【复制】操作\n    function __actionCopy(target, event) {\n        if (ContentAssistor_lastHover === gUndefined)\n            return;\n\n        // 代码块\n        if (ContentAssistor_lastContentType === _codeblock_)\n            ExtCodeBlock_copyContent(target, event);\n        // 图片插图\n        else if (ContentAssistor_lastContentType === _fig_ + _suffixImg_)\n            ExtFigure_copySrc(target, event);\n    }\n}\n\n/**\n * 绑定对象的 hover 行为\n * @param target 目标对象\n * @param contentType 内容类型：Figure/Table/CodeBlock\n */\nfunction ContentAssistor_bind(target, contentType) {\n    // 鼠标悬停时事件处理\n    target.on(_mouseEnter_, () => {\n        if (ContentAssistor_btns_copyContent === gUndefined)\n            return;\n\n        V_ui_removeAnimate(ContentAssistor_ui);\n\n        ContentAssistor_lastHover = target;\n        ContentAssistor_lastContentType = contentType;\n\n        if (contentType === _codeblock_)\n            ContentAssistor_btns_copyContent.a(_data_tips_, V_lang_text(30, [\n                \"复制代码\",\n                _Copy_ + \" code\"\n            ]));\n        else if (contentType === _fig_ + _suffixImg_)\n            ContentAssistor_btns_copyContent.a(_data_tips_, V_lang_text(31, [\n                \"复制图片地址\",\n                _Copy_ + \" image link\"\n            ]));\n\n        ContentAssistor_show();\n    }).on(_mouseLeave_, (event) => {\n        !v_ui_mouseDropIn(ContentAssistor_lastHover, event)\n            && ContentAssistor_hide();\n    });\n\n    // 针对插图，点击可直接进行全屏显示\n    contentType.sW(_fig_)\n        && target.uC().ck(() => {\n            // 在插图浏览器中打开\n            ContentAssistor_hide();\n            FigureNav_show();\n\n        });\n}\n\n/**\n * 显示指定内容的内容助手\n */\nfunction ContentAssistor_show() {\n    if (ContentAssistor_lastHover === gUndefined)\n        return;\n\n    // 圆角重置样式\n    JQ_removeClass(ContentAssistor_btns_copyContent, _enabled_);\n    JQ_removeClass(ContentAssistor_btns_tableCross, _enabled_);\n    JQ_removeClass(ContentAssistor_btns_wrap, _enabled_);\n    JQ_removeClass(ContentAssistor_btns_picInPic, _enabled_);\n\n    // 插图\n    if (ContentAssistor_lastContentType.sW(_fig_)) {\n        // 图片插图：非 svg\n        !ContentAssistor_lastContentType.eW(_svg_)\n            && JQ_addClass(ContentAssistor_btns_copyContent, _enabled_);\n        // 画中画\n        JQ_addClass(ContentAssistor_btns_picInPic, _enabled_);\n    }\n    // 表格\n    else if (ContentAssistor_lastContentType === _table_) {\n        // 阅读模式\n        JQ_addClass(ContentAssistor_btns_tableCross, _enabled_);\n        ContentAssistor_lastHover.a(_data_tbl_x_) === _true_\n            ? JQ_addClass(ContentAssistor_btns_tableCross, _selected_)\n            : JQ_removeClass(ContentAssistor_btns_tableCross, _selected_);\n        // 换行、不换行\n        JQ_addClass(ContentAssistor_btns_wrap, _enabled_);\n        TableWrap_isWrap(ContentAssistor_lastHover)\n            ? JQ_addClass(ContentAssistor_btns_wrap, _selected_)\n            : JQ_removeClass(ContentAssistor_btns_wrap, _selected_);\n        // 画中画\n        JQ_addClass(ContentAssistor_btns_picInPic, _enabled_);\n    }\n    // 代码块\n    else if (ContentAssistor_lastContentType === _codeblock_) {\n        // 复制\n        JQ_addClass(ContentAssistor_btns_copyContent, _enabled_);\n        // 换行、不换行\n        JQ_addClass(ContentAssistor_btns_wrap, _enabled_);\n        CodeblockWrap_isWrap()\n            ? JQ_removeClass(ContentAssistor_btns_wrap, _selected_)\n            : JQ_addClass(ContentAssistor_btns_wrap, _selected_);\n        // 画中画\n        JQ_addClass(ContentAssistor_btns_picInPic, _enabled_);\n    }\n    // 公式\n    else if (ContentAssistor_lastContentType === _formula_)\n        // 画中画\n        JQ_addClass(ContentAssistor_btns_picInPic, _enabled_);\n\n    // ----------------------------------------\n    // 计算助手显示的位置\n    let caption = ContentAssistor_lastHover.p(),\n        container = caption.p(),\n        left;\n\n    left = ContentAssistor_lastHover.oW() < container.oW()\n        ? ContentAssistor_lastHover.oL() + ContentAssistor_lastHover.oW()\n        : container.oL() + container.oW();\n    // 显示\n    ContentAssistor_ui.c(_left_, left - ContentAssistor_ui.w() - 5)\n        .c(_top_, ContentAssistor_lastHover.oT() + 3);\n\n    // 须延时后再执行显示，让以上代码先完成\n    V_later(() => {\n        V_ui_addAnimate(ContentAssistor_ui);\n        V_ui_fadeShow(ContentAssistor_ui);\n    }, 100);\n}\n\n/**\n * 隐藏内容辅助动作按钮\n */\nfunction ContentAssistor_hide() {\n    V_ui_fadeHide(ContentAssistor_ui);\n}\n\n// ==================== 画中画类 ==================== //\n\nlet PicInPic_ui_body = gUndefined,\n    PicInPic_ui_content = gUndefined,\n    PicInPic_ui_zoom = gUndefined,\n    PicInPic_ui_close = gUndefined;\n\nlet PicInPic_ratio = 0.75;\n\nlet PicInPic_size_width = 0,\n    PicInPic_size_height = 0;\n\n/**\n * 初始化画中画\n */\nfunction PicInPic_init() {\n    PicInPic_ui_body = V_byClass(_v_pic_in_pic_);\n    PicInPic_ui_content = PicInPic_ui_body.ch(\".\" + _v_content_);\n    PicInPic_ui_zoom = V_byClass(_v_pip_btn_ + \".\" + _zoom_);\n    PicInPic_ui_close = V_byClass(_v_pip_btn_ + \".\" + _close_);\n\n    // 缩放事件处理\n    PicInPic_ui_zoom.uC().ck((event) => {\n        let _t = V_eventCurrentTarget(event),\n            pipBtn = V_byClass(_v_pip_btn_);\n        if (PicInPic_ratio === 1) {\n            PicInPic_ratio = 0.75;\n            JQ_exchangeClass(pipBtn, _zoom_in_, _zoom_out_);\n            _t.hm(V_ui_svgIcon(_icoZoomIn_, 16, 16, _theme_));\n        }\n        else {\n            PicInPic_ratio = 1;\n            JQ_exchangeClass(pipBtn, _zoom_out_, _zoom_in_);\n            _t.hm(V_ui_svgIcon(_icoZoomOut_, 16, 16, _theme_));\n        }\n        PicInPic_zoom();\n    });\n\n    PicInPic_ui_close.uC().ck(() => {\n        PicInPic_hide();\n    });\n\n    PicInPic_ui_body.on(_mouseEnter_, () => {\n        // 高度过小时调整操作按钮位置\n        if (PicInPic_ui_body.h() < 30) {\n            JQ_addClass(PicInPic_ui_zoom, _min_);\n            JQ_addClass(PicInPic_ui_close, _min_);\n        }\n        else {\n            JQ_removeClass(PicInPic_ui_zoom, _min_);\n            JQ_removeClass(PicInPic_ui_close, _min_);\n        }\n        V_ui_fadeShow(PicInPic_ui_zoom);\n        V_ui_fadeShow(PicInPic_ui_close);\n    }).on(_mouseLeave_, () => {\n        V_ui_fadeHide(PicInPic_ui_zoom);\n        V_ui_fadeHide(PicInPic_ui_close);\n    });\n}\n\n/**\n * 显示画中画\n */\nfunction PicInPic_show() {\n    let source = ContentAssistor_lastHover;\n    PicInPic_calcSize();\n\n    // 清空原有内容（除关闭按钮）\n    PicInPic_ui_content.em();\n\n    // 为画中画进行克隆处理\n    let pic = __cloneForPicInPic(source);\n\n    // 缩放并显示\n    PicInPic_zoom();\n    PicInPic_ui_body.show();\n\n    // 根据内容调整画中画的展示\n    PicInPic_fitContentSize(pic);\n    V_ui_setScrollTop(0, gFalse, PicInPic_ui_content);\n\n    /**\n     * 为画中画进行克隆处理\n     * @param source 源对象\n     */\n    function __cloneForPicInPic (source) {\n        let openAll = gFalse,\n            tagName = V_tagName(source);\n        // 针对表格的处理\n        if (tagName === _table_) {\n            // 先展开所有行分组\n            openAll = RowGroup_openAll(source, _auto_);\n            // 再展开长内容\n            let container = source.p().p();\n            container.a(_data_content_folded_) === _true_\n                && ContentFolder_expand(container);\n        }\n\n        // 将来源对象的内容进行克隆\n        let newClone = source.clone();\n        newClone.c(_margin_, 0)\n            .c(_border_, 0);\n        // 移除插图编号数据，避免存在重复对象\n        JQ_removeAttr(newClone, _data_fig_num_);\n        PicInPic_ui_content.ap(newClone);\n\n        // 针对插图的处理\n        let img = (tagName === _svg_),\n            svg = tagName === _svg_;\n        if (img || svg) {\n            JQ_removeAttr(newClone, _data_fig_num_);\n            svg && JQ_addClass(newClone, _v_mermaid_restyler_);\n        }\n\n        // 对展开了所有行分组的表格进行克隆后的干净处理\n        openAll\n            && (\n                RowGroup_reset(newClone), // 重置、切断\n                RowGroup_closeAll(source, _auto_) // 全部收起\n            );\n\n        return newClone;\n    }\n}\n\n/**\n * 隐藏画中画\n */\nfunction PicInPic_hide() {\n    PicInPic_ui_body.hide();\n}\n\n/**\n * 计算画中画建议的基准尺寸\n */\nfunction PicInPic_calcSize() {\n    // 计算基准大小\n    let baseW = 550,\n        baseH = 350,\n        w = jq_Window.w() / 2.5,\n        h = jq_Window.h() / 3;\n    PicInPic_size_width = w < baseW ? baseW : w;\n    PicInPic_size_height = h < baseH ? baseH : h;\n    PicInPic_ui_body.c(_width_, PicInPic_size_width)\n        .c(_height_, PicInPic_size_height);\n}\n\n/**\n * 调整画中画的基准大小，以适应内容的实际大小\n */\nfunction PicInPic_fitContentSize(source) {\n    // 宽度\n    let tagName = V_tagName(source),\n        w = source.w(),\n        h = source.h(),\n        sourcePadding = JS_parseInt(source.c(_padding_top_)) * 2,\n        uiPadding = JS_parseInt(PicInPic_ui_body.c(_padding_top_)) * 2;\n\n    // 针对图片尺寸的兼容性处理（部分浏览器不使用该处理尺寸不正常，如：Firefox）\n    if (tagName === _svg_) {\n        let img = new Image();\n        img.src = source.a(_src_);\n        img.complete\n            ? __getImgSize(img)\n            : img.onload = function() {\n                __getImgSize(img);\n            }\n    }\n\n    // 宽度\n    let wWithPadding = w + sourcePadding;\n    if (w > 0 && wWithPadding < PicInPic_size_width) {\n        PicInPic_size_width = w;\n        PicInPic_ui_body.c(_width_, wWithPadding);\n    }\n\n    // 高度\n    let hWithPadding = h + uiPadding + sourcePadding;\n    if (h > 0 && hWithPadding < PicInPic_size_height) {\n        // 针对会进行等比缩放的对象进行高度微调\n        if ((tagName === _svg_ || tagName === _svg_)\n            && h > source.h()) {\n                h = source.h();\n                hWithPadding = h + uiPadding + sourcePadding;\n        }\n        PicInPic_size_height = h;\n        PicInPic_ui_body.c(_height_, hWithPadding);\n    }\n\n    /**\n     * 获得 img 对象的实际长宽\n     * @param img img 对象\n     */\n    function __getImgSize(img) {\n        w = img.width;\n        h = img.height;\n    }\n}\n\n/**\n * 放大、缩放显示\n */\nfunction PicInPic_zoom() {\n    V_ui_removeAnimate(PicInPic_ui_zoom);\n    V_ui_removeAnimate(PicInPic_ui_close);\n\n    PicInPic_ui_body//.c(_transform_origin_, PicInPic_size_width + \"px \" + PicInPic_size_height + \"px\");\n        .c(_transform_, \"scale(\" + PicInPic_ratio + \")\");\n\n    V_later(() => {\n        V_ui_addAnimate(PicInPic_ui_zoom);\n        V_ui_addAnimate(PicInPic_ui_close);\n    }, 100);\n}\n\n// ==================== 聚光灯类 ==================== //\n\n/**\n * 构造函数\n * @param radius 半径大小\n */\nfunction Spotlight(radius) {\n    let T = this;\n    V_length(T, 1);\n    T.ui = V_byClass(_v_spotlight_);\n    T.r = radius; // 聚光灯半径\n    T.zoom = {\n        normal: radius, // 标准大半径\n        bigger: radius * 1.4, // 放大的半径\n    };\n    T.lastPos = {\n        x : -1,\n        y : -1\n    };\n\n    T.toolbar = gUndefined; // 联动的工具栏\n\n    /**\n     * 切换聚光灯的不同大小\n     */\n    T.toggleZoom = function() {\n        if (V_ui_isHidden(T.ui))\n            return;\n\n        T.r = T.r < T.zoom.bigger\n            ? T.zoom.bigger\n            : T.zoom.normal;\n\n        T.repaint();\n    }\n\n    /**\n     * 使用聚光灯模式\n     */\n    T.show = function() {\n        T.toolbar.select(_spotlight_);\n\n        // 在 Dark Mode 时先添加微调的样式\n        ColorScheme_scheme === _dark_\n            && JQ_addClass(VOM_doc(), _v_spotlight_in_dark_);\n\n        T.mode = \"S\";\n        T.ui.show();\n        JQ_removeClass($(T.pointerScope), _v_cursor_laser_);\n        T.repaint();\n\n        iInfoTips.bubble(V_lang_text9(), 2000);\n\n        StsPrs_enable(T.toolbar.btns[_spotlight_], V_lang_text9());\n    }\n\n    /**\n     * 刷新聚光灯的显示\n     * @param event window.event 鼠标事件对象\n     */\n    T.repaint = function (event) {\n        // 记录鼠标最新位置，避免通过快捷键显示时无法在鼠标位置正常渲染\n        if (event !== gUndefined) {\n            if (V_eventClientX(event) !== gUndefined)\n                T.lastPos.x = V_eventClientX(event);\n            if (V_eventClientY(event) !== gUndefined)\n                T.lastPos.y = V_eventClientY(event);\n        }\n\n        // 未启用则跳过\n        if (!T.isEnabled())\n            return;\n\n        // 聚光灯模式\n        T.ui.c(_background_, \"radial-gradient(circle at \"\n            + T.lastPos.x + \"px \" + T.lastPos.y + \"px,\"\n            + _transparent_ +___+ T.r + \"px,\"\n            + V_ui_formatRGBA([0, 0, 0], 0.4) + (T.r + 5) + \"px,\" + V_ui_formatRGBA([0, 0, 0], 0.9) + \"900px)\");\n    }\n\n    /**\n     * 是否已显示\n     */\n    T.isEnabled = function() {\n        return V_ui_isShowed(T.ui);\n    }\n\n    /**\n     * 切换聚光灯的开关\n     */\n    T.tg = function() {\n        // 已打开，则关闭\n        if (T.isEnabled())\n            T.hide();\n        // 未打开，则打开\n        else {\n            T.show();\n            return gTrue;\n        }\n        return gFalse;\n    }\n\n    /**\n     * 隐藏聚光灯\n     */\n    T.hide = function() {\n        JQ_removeClass(T.toolbar.btns[_spotlight_], _selected_);\n        JQ_removeClass(VOM_doc(), _v_spotlight_in_dark_);\n        T.ui.hide();\n        StsPrs_disable();\n    }\n\n    /**\n     * 处理热键操作\n     * @param key 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.hotkey = function (key, combKeys, event) {\n        if (V_doc_block)\n            return;\n\n        let handled = gFalse;\n        if (key === \"Shift\") {\n            T.toggleZoom();\n            handled = gTrue;\n        }\n        else if (V_isEscape(key)) {\n            V_noCombKeys(combKeys) && T.isEnabled()\n                && (\n                    T.hide(),\n                    handled = gTrue\n                );\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        handled && V_preventDefault(event);\n    }\n}\n\n// ==================== 激光笔类 ==================== //\n\n/**\n * 构造函数\n */\n function LaserPointer() {\n    let T = this;\n    V_length(T, 1);\n    T.toolbar = gUndefined; // 联动的工具栏\n\n    T.enable = gFalse;\n    T.tmr = gNull;\n    T.tmrTick = gFalse;\n\n    // 激光笔模式时鼠标形状影响的范围\n    T.pointerScope = \"body *\";\n\n    /**\n     * 使用激光笔\n     */\n    T.show = function() {\n        T.toolbar.select(_laser_pointer_);\n\n        T.enable = gTrue;\n        JQ_addClass($(T.pointerScope), _v_cursor_laser_);\n\n        iInfoTips.bubble(V_lang_text10(),\n            2000);\n\n        StsPrs_enable(T.toolbar.btns[_laser_pointer_], V_lang_text10());\n    }\n\n    /**\n     * 是否已显示\n     */\n    T.isEnabled = function() {\n        return T.enable;\n    }\n\n    /**\n     * 切换激活笔开关\n     */\n    T.tg = function() {\n        // 已打开，则关闭\n        if (T.isEnabled())\n            T.hide();\n        // 未打开，则打开\n        else {\n            T.show();\n            return gTrue;\n        }\n        return gFalse;\n    }\n\n    /**\n     * 隐藏激活笔\n     */\n    T.hide = function() {\n        if (T.tmr !== gNull)\n            T.tmr = V_clearTimer(T.tmr);\n\n        T.enable = gFalse;\n        JQ_removeClass(T.toolbar.btns[_laser_pointer_], _selected_);\n        JQ_removeClass($(T.pointerScope), _v_cursor_laser_);\n        StsPrs_disable();\n    }\n\n    /**\n     * 处理热键操作\n     * @param key 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.hotkey = function (key, combKeys, event) {\n        if (V_doc_block)\n            return;\n\n        if (V_noCombKeys(combKeys) && V_isEscape(key))\n            T.isEnabled()\n                && (\n                    T.hide(),\n                    // 如果事件已处理，则禁止双重操作\n                    V_preventDefault(event)\n                );\n    }\n}\n\n// ==================== VLOOK CC （封面四角）处理 ==================== //\n\nfunction CC_init() {\n    gVlookCC = (V_length(V_getVarVal(___v_ + _vlook__ + \"cc\")) > 0);\n    if (!gVlookCC || !V_ui_hasCover())\n        return;\n\n    let vlook_cc = _vlook__ + \"cc\",\n        ccTopLeft = V_getMetaByName(vlook_cc + \"-\" + _top_ + \"-\" + _left_),\n        ccTopRight =  V_getMetaByName(vlook_cc + \"-\" + _top_ + \"-\" + _right_),\n        ccBottomLeft = V_getMetaByName(vlook_cc + \"-\" + _bottom_ + \"-\" + _left_),\n        ccBottomRight = V_getMetaByName(vlook_cc + \"-\" + _bottom_ + \"-\" + _right_);\n    ccTopLeft !== gUndefined\n        && __showCC(V_byClass(_v_cc_ + \".\" + _top_ + \".\" + _left_), ccTopLeft);\n    ccTopRight !== gUndefined\n        && __showCC(V_byClass(_v_cc_ + \".\" + _top_ + \".\" + _right_), ccTopRight);\n    ccBottomLeft !== gUndefined\n        && __showCC(V_byClass(_v_cc_ + \".\" + _bottom_ + \".\" + _left_), ccBottomLeft);\n    ccBottomRight !== gUndefined\n        && __showCC(V_byClass(_v_cc_ + \".\" + _bottom_ + \".\" + _right_), ccBottomRight);\n\n    function __showCC(ccObj, content) {\n        ccObj.hm(V_ui_div(_, _, content));\n        ccObj.c(_display_, _flex_);\n    }\n}\n\n\n// ==================== 分段控制器类 ==================== //\n\n/**\n * @param control 控件 UI 对象\n * @param group 分段控制器分组标识\n */\nfunction SegmentControl(control, group) {\n    let T = this;\n    V_length(T, 1);\n    T.ui = control;\n    T.gp = group;\n\n    T.last = gUndefined;\n    T.segs = [];\n    T.segCnt = 0;\n\n    T.onChanged = gUndefined;\n\n    /**\n     * 添加分段\n     * @param target 分段对应的组件\n     * @param icon 分段使用的图标标识\n     * @param checked 是否为默认选中\n     * @param status 默认状态\n     */\n    T.add = function (target, icon, checked, status) {\n        let name = target.tNm();\n        T.segCnt++;\n        T.segs[name] = target;\n\n        // 新增段的 UI\n        let id = T.gp + \"-\" + name,\n            ui = V_ui_input(id, T.gp, \"radio\", name, 'onfocus=\"this.blur()\"' + (status ? ___ : ___+ _data_result_ + '=\"' + _none_ + '\"' + (checked ? ' checked' : _)))\n                + V_ui_label(_v_segment_btn_ +___+ name, V_attr(_for_, id) +___+ V_attr(_data_icon_, icon) +___+ V_attr(_title_, target.desc()),\n                    V_ui_svgIcon(icon, 16, 16, _text_)\n                );\n\n        T.ui.ap(ui);\n        target.ui.entry = T.ui.ch(\".\" + _v_segment_btn_ + \".\" + name);\n\n        // 指定为默认选项\n        if (checked) {\n            T.last = target;\n            __updateIcon(gTrue);\n        }\n\n        // 为新添加的段绑定事件\n        T.ui.f(_input_ + \"#\" + id).change((event) => {\n            // 隐藏切换前选择的组件\n            T.last.hide();\n            __updateIcon(gFalse);\n            // 显示最新选择的组件\n            T.last = T.segs[V_eventCurrentTarget(event).v()];\n            __updateIcon(gTrue);\n\n            T.last.show();\n\n            typeof(T.onChanged) === _function_ && T.onChanged(name);\n        });\n\n        return T.segs[name];\n\n        /**\n         * 更新分段的图标\n         * @param checked 是否为选择状态\n         */\n        function __updateIcon(checked) {\n            T.last.ui.entry.hm(V_ui_svgIcon(T.last.ui.entry.a(_data_icon_)\n                + (checked ? __checked_ : _) , 16, 16, _text_));\n        }\n    }\n\n    /**\n     * 获得当前选中的分段\n     * @returns string 当前选中的分段\n     */\n    T.checkedItemValue = function() {\n        return T.ui.f(_input_ + V_attrCSS(_name_, T.gp) + \":\" + _checked_).v();\n    }\n\n    /**\n     * 选中指定的分段\n     * @param name 分段的名称，如：catalog, figure, table, codeblock, media\n     */\n    T.setChecked = function (name) {\n        V_byID(T.gp + \"-\" + name).tr(_click_);\n        T.sts(name, gTrue);\n    }\n\n    /**\n     * 获得、设置指定分段的状态\n     * @returns 无 value 时，返回指定分段的状态\n     */\n    T.sts = function (typeName, value) {\n        let id = T.gp + \"-\" + typeName;\n        if (value === gUndefined)\n            return T.ui.f(_input_ + V_attrCSS(_id_, id)).a(_data_result_);\n\n        value\n            ? JQ_removeAttr(T.ui.f(_input_ + V_attrCSS(_id_, id)), _data_result_)\n            : T.ui.f(_input_ + V_attrCSS(_id_, id)).a(_data_result_, _none_);\n    }\n}\n\n// ==================== 文档正文宽度适配可显示的宽度 ==================== //\n\nlet FillWidth_ui = gUndefined;\n\n// 初始化可显示宽度适配\nfunction FillWidth_init() {\n    FillWidth_ui = V_byClass(_v_fill_width_);\n    V_ui_addAnimate(FillWidth_ui);\n\n    iNavCenter.adjust();\n\n    // 点击切换适应宽度\n    FillWidth_ui.uC().ck(() => {\n        FillWidth_ui.a(_class_).i(_enabled_) === -1\n            ? FillWidth_enable()\n            : FillWidth_disable();\n    });\n}\n\n// 启用适配可显示宽度\nfunction FillWidth_enable() {\n    JQ_addClass(FillWidth_ui, _enabled_);\n    JQ_addClass(VOM_doc(), _fill_width_);\n    JQ_addClass(MoreDocContent_ui_before, _fill_width_);\n    JQ_addClass(MoreDocContent_ui_after, _fill_width_);\n}\n\n// 停用适配可显示宽度\nfunction FillWidth_disable() {\n    JQ_removeClass(FillWidth_ui, _enabled_);\n    JQ_removeClass(VOM_doc(), _fill_width_);\n    JQ_removeClass(MoreDocContent_ui_before, _fill_width_);\n    JQ_removeClass(MoreDocContent_ui_after, _fill_width_);\n}\n\n// ==================== 文档导航/文档浏览历史类 ==================== //\n\nlet NavHistory_ui = gUndefined,\n    NavHistoryList = gUndefined,\n    NH_ViewHistory_ui = gUndefined;\n\nfunction NavHistory_init() {\n    NavHistory_ui = V_byClass(_v_nav_history_);\n    V_ui_addAnimate(NavHistory_ui);\n    V_ui_addAnimate(NavHistory_ui.ch(_div_));\n\n    V_isMobile()\n        && JQ_addClass(NavHistory_ui, _mobile_);\n\n    NH_ViewHistory_ui = V_byClass(_v_view_history_);\n    ToolTips_bind(NH_ViewHistory_ui, V_lang_text65() + _br_ + V_ui_sub(_, _, V_ui_wrap_kbd(\"H\")));\n\n    NavHistoryList = new HistoryList(this, gTrue);\n\n    NH_ViewHistory_ui.uC().ck(() => {\n        V_ui_isHidden(LinkTool_panelList)\n            && LinkTool_show(_history_);\n    });\n\n    // ----------\n    // 页面模式非 max（如文库）\n    V_pageMode !== _max_\n        && NavHistory_ui.hide();\n}\n\n/**\n * 启用导航历史入口\n */\nfunction NavHistory_enable() {\n    JQ_addClass(NH_ViewHistory_ui, _enabled_);\n    !isNaN(ResumeReading_lastPosition)\n        && NavHistoryList.add(ResumeReading_lastPosition.toString());\n}\n\n// ==================== 继续上次的阅读类 ==================== //\n\nlet ResumeReading_ui = gUndefined,\n    ResumeReading_lastPosition = gUndefined,\n    ResumeReading_minScrollTop = 1000;\n\nfunction ResumeReading_init() {\n    ResumeReading_ui = V_byClass(_v_resume_reading_);\n    ResumeReading_lastPosition = JS_parseInt(V_data_read(_last_position_));\n    // 有上次阅读位置信息时\n    !isNaN(ResumeReading_lastPosition)\n        ? ResumeReading_ui.c(_display_, _flex_)\n        // 无上次阅读位置信息时\n        : JQ_addClass(NH_ViewHistory_ui, _enabled_);\n\n    // 点击跳转\n    ResumeReading_ui.uC().ck(() => {\n        V_ui_setScrollTop(ResumeReading_lastPosition, gUndefined, gUndefined, gTrue);\n\n        ResumeReading_ui.hide();\n        NavHistory_enable();\n\n        !iNavCenter.on\n            && V_ui_adjustAllDelay();\n    });\n}\n\n/**\n * 处理最后浏览的位置\n * @param restore 是否从非当前窗口恢复后的调用\n */\nfunction ResumeReading_dispose(restore) {\n    if (V_pageMode !== _max_)\n        return;\n\n    // 不是恢复显示时才处理\n    if (!restore && ResumeReading_lastPosition !== gNull) {\n        V_later(() => {\n            ResumeReading_ui.hide();\n            NavHistory_enable();\n        }, 6000);\n    }\n\n    __saveLastPosData();\n\n    // 保存最后浏览位置的数据\n    function __saveLastPosData() {\n        if (!gIsRunning)\n            return;\n\n        let scrollTop = V_ui_getScrollTop();\n        // 与最后保存的不一致则保存\n        if (scrollTop > ResumeReading_minScrollTop && V_data_read(_last_position_) !== scrollTop)\n            V_data_write(_last_position_, scrollTop);\n\n        // 自动定时保存最后浏览位置\n        gTimer_saveLastPosition = V_later(() => {\n            __saveLastPosData();\n        }, 5000);\n    }\n}\n\n// ==================== 导航中心类 ==================== //\n\n/**\n * 构造函数\n * @param mask 遮罩对象\n * @param runMode 关闭模式\n */\nfunction NavCenter(mask, runMode = _auto_) {\n    let T = this;\n    V_length(T, 1);\n    T.ui = V_byClass(_v_nav_center_); // 导航中心主界面\n    T.hdl = V_byClass(_v_nav_center_handle_); // 导航中心引导把手\n\n    V_isMobile() &&\n        JQ_addClass(T.ui, _mobile_);\n\n    !V_isMobile() && V_ui_isSmallScreen() &&\n        JQ_addClass(T.ui, _small_);\n\n    // 关键字搜索\n    T.__keywordBody = V_byClass(_v_search_by_keyword_);\n    T.kw = new TextField(T.__keywordBody, \"toc-\" + _filter_ + _nav_center_, gTrue);\n\n    T.runMode = (runMode === gNull) ? _auto_ : runMode; // 导航中心运行方式\n    T.lastType = _block_; // 最后一次的显示方式（float/block）\n    T.on = gFalse; // 是否已显示\n\n    T.width = T.ui.w(); // 导航中心宽度\n\n    T.toolbar = gUndefined; // 联动的工具栏\n\n    T.hdlTmr = gNull; // 鼠标在边缘悬停计时器\n\n    // 索引内容分类选择\n    T.segs = new SegmentControl(V_byClass(_v_segment_+ \".toc\"), \"toc-segment\");\n    Index_segments = T.segs;\n\n    T.lib = gUndefined;\n\n    // 目录索引组件\n    T.toc = T.segs.add(new TocIndex(this, gFalse), _icoIndexTab_toc_, gTrue, gFalse);\n    // 插图索引组件\n    T.figures = T.segs.add(new FiguresIndex(this, gTrue), _icoIndexTab_figure_, gFalse, gFalse);\n    // 表格索引组件\n    T.tables = T.segs.add(new TablesIndex(this, gTrue), _icoIndexTab_table_, gFalse, gFalse);\n    // 代码块索引组件\n    T.codeblocks = T.segs.add(new CodeblocksIndex(this, gTrue), _icoIndexTab_codeblock_, gFalse, gFalse);\n    // 公式索引组件\n    T.formulas = T.segs.add(new FormulasIndex(this, gTrue), _icoIndexTab_formula_, gFalse, gFalse);\n    // 多媒体索引组件\n    T.media = T.segs.add(new MediaIndex(this, gTrue), _icoIndexTab_media_, gFalse, gFalse);\n\n    // 遮罩\n    T.mask = mask;\n    T.mask.bindPartner(this, T.ui);\n\n    V_ui_addAnimate(T.hdl);\n\n    /**\n     * 当前章节变化事件\n     */\n    T.toc.onChapterChanged = function() {\n        // 更新逐章导航内容\n        !V_isLength0(iChapterNav)\n            && iChapterNav.update();\n    }\n\n    /**\n     * 当切换不同分段后的处理\n     * @param name 分段标识\n     */\n    T.segs.onChanged = function (name) {\n        let str = V_lang_text35();\n        if (name === _figure_)\n            str = V_lang_text58() + \" / \" + V_lang_text68();\n        else if (name === _table_)\n            str = V_lang_text56();\n        else if (name === _codeblock_)\n            str = V_lang_text57();\n        else if (name === _media_)\n            str = V_lang_text59() + \" / \" + V_lang_text60();\n        else if (name === _formula_)\n            str = V_lang_text18();\n        str += \" / ...\";\n        T.kw.tips(str);\n    }\n\n    // 关键字输入组件属性设置\n    T.kw.setIcon(V_ui_svgIcon(_icoSearch_, 16, 16, _text_));\n\n    T.kw.tips(V_lang_text35() + \" / ...\");\n\n    // 绑定输入框事件处理\n\n    T.kw.onInput = function (value) {\n        // 先重置\n        T.toc.nav.rst();\n        T.figures.nav.rst();\n        T.tables.nav.rst();\n        T.tables.nav.rst();\n        T.media.nav.rst();\n        T.codeblocks.nav.rst();\n        T.formulas.nav.rst();\n\n        // 无输入内容\n        if (V_length(value.x()) === 0) {\n            // 对目录的处理\n            T.toc.ui.rs.em();\n            T.segs.checkedItemValue() === T.toc.tNm()\n                && T.toc.ui.body.show();\n            T.toc.hideFilterResult();\n            T.toc.scrollToCurrent();\n            T.toc.upd();\n            // 对 插图、表格、多媒体、代码块 的处理\n            Index_noneKeyword(T.figures);\n            Index_noneKeyword(T.tables);\n            Index_noneKeyword(T.codeblocks);\n            Index_noneKeyword(T.formulas);\n            Index_noneKeyword(T.media);\n        }\n        // 有输入内容\n        else {\n            let valueSet = value.x().l().sp(/\\s+/);\n            // 对目录的处理\n            T.toc.filter(valueSet);\n            // 对 插图、表格、代码块、多媒体 的处理\n            Index_filter(T.figures, valueSet);\n            Index_filter(T.tables, valueSet);\n            Index_filter(T.codeblocks, valueSet);\n            Index_filter(T.formulas, valueSet);\n            Index_filter(T.media, valueSet);\n        }\n    }\n\n    T.kw.onFocus = function() {\n        T.lastType !== _float_\n            && (\n                JQ_addClass(VOM_doc(), _actived_),\n                JQ_addClass(V_byClass(_v_focus_search_), _actived_)\n            );\n    }\n\n    T.kw.onBlur = function() {\n        JQ_removeClass(VOM_doc(), _actived_);\n        JQ_removeClass(V_byClass(_v_focus_search_), _actived_);\n    }\n\n    // 绑定输入框事件处理\n    T.kw.pressEnter = function() {\n        T.kw.in.focus();\n    }\n\n    /**\n     * 触发互动事件\n     */\n    // T.onAct = function() {\n    //     T.adjustClickHash();\n    // }\n\n    /**\n     * 跳转回文档封面\n     */\n    T.gotoCover = function() {\n        V_ui_setScrollTop(0);\n        T.toc.lastTop = 0;\n\n        // 有封面 模式时处理\n        if (V_ui_hasCover()) {\n            if (T.toc.hItem !== gUndefined) {\n                V_ui_tg_resetCurrentItem(T.toc.hItem, gTrue);\n                T.toc.hIdx = 0;\n            }\n            V_ui_adjustAll();\n        }\n        // 无封面 模式时处理\n        else\n            ToolTips_hide();\n    }\n\n    /**\n     * 适配锚点击事件\n     */\n    // T.adjustClickHash = function() {\n    //     T.lastType === _float_\n    //         && T.hide(_auto_);\n    // }\n\n    /**\n     * 显示/隐藏导航中心\n     * @param callback 显示/隐藏导航中心后执行回调函数\n     */\n    T.tg = function (callback) {\n        // 导航中心已显示\n        if (T.on)\n            T.hide(_close_);\n        // 导航中心未显示\n        else {\n            T.runMode = _auto_;\n            // 在封面，或小屏\n            if (V_ui_hasCover() && !V_ui_inHeader() || V_ui_isSmallScreen()) {\n                T.lastType = _float_;\n                T.show();\n            }\n            // 在章节内，非小屏\n            else {\n                // 导航中心运行模式为 auto 时，自动显示导航中心\n                if (T.runMode === _auto_) {\n                    T.lastType = _block_;\n                    T.show();\n                }\n            }\n        }\n\n        typeof(callback) === _function_ && callback();\n        T.afterToggle();\n    }\n\n    /**\n     * 显示导航中心\n     * @returns boolean true: 需要处理显示，false: 已显示，无须重复处理\n     */\n    T.show = function () {\n        // 已显示，或在以动画显示过程中\n        if (V_pageMode !== _max_ || T.on) // || T.ui.oL() > -T.width)\n            return gFalse;\n\n        let left = gWritePaddingRight;\n        T.ui.c(_left_, left);\n\n        T.hdl.hide();\n        JQ_removeClass(T.hdl, _enabled_);\n\n        // 以「占位方式」显示导航中心\n        if (T.lastType === _block_) {\n            // 占位方式的样式设置\n            JQ_removeClass(T.ui, _small_);\n            JQ_removeClass(T.ui, _float_);\n            JQ_removeClass(T.ui, _mobile_);\n            JQ_addClass(T.ui, _block_);\n\n            T.ui.c(_top_, V_ui_hasCover() && !V_ui_inHeader() ? 20 : 70);\n\n            // 更新工具栏导航中心按钮图标\n            !V_isMobile()\n                && T.toolbar.select(_nav_center_);\n\n            VOM_doc().c(_margin_left_, _var_write_margin_left_);\n            MoreDocContent_updateUI();\n\n            // 因为从切换为占位显示后，会影响文档内容布局，所以须调整随大小变化的内容\n            !T.on\n                && V_later(() => {\n                    // 统一同组的分栏引用块的高度\n                    ExtQuote_uniteColumnsHeight();\n                }, 300);\n        }\n        // 以「浮动方式」显示导航中心\n        else if (T.lastType === _float_) {\n            JQ_removeClass(T.ui, _block_);\n            JQ_addClass(T.ui, _float_);\n\n            __adjustTop();\n\n            // 在移动端屏宽较小时，如：\n            // 手机 iPhone 12 Pro 为 390\n            // 手机 iPhone 6/7/8 Plus、iPhone 14 Pro Max 为 414\n            jq_Window.w() <= 425 // 与 CSS @media screen and (max-width: 850px) 同步修改\n                && V_setVarVal(___v_nav_center_width_, jq_Window.w() - left * 2 + \"px\");\n\n            // 显示联动的遮罩\n            if (V_isMobile()) {\n                JQ_removeClass(T.ui, _small_);\n                JQ_removeClass(T.ui, _float_);\n                T.mask.show();\n            }\n            else if (V_ui_isSmallScreen()) {\n                JQ_addClass(T.ui, _small_);\n                // T.mask.show(gFalse);\n            }\n        }\n\n        T.on = gTrue;\n        return gTrue;\n    }\n\n    /**\n     * 隐藏导航中心\n     * @param runMode 导航中心的运行模式（auto/close）\n     * @returns boolean true: 需要处理隐藏，false: 已显示，无须重复处理\n     */\n    T.hide = function (runMode = _auto_) {\n        // 已隐藏，或在以动画隐藏过程中\n        if (!T.on || T.ui.oL() < 10) {\n            T.on = gFalse;\n            return gFalse;\n        }\n\n        // 若最后一次显示以是「占位方式」显示\n        if (T.lastType === _block_) {\n            // 更新运行模式\n            T.runMode = runMode;\n\n            // 统一同组的分栏引用块的高度\n            ExtQuote_uniteColumnsHeight();\n\n            // 更新工具栏导航中心按钮图标\n            !V_isMobile()\n                && JQ_removeClass(T.toolbar.btns[_nav_center_], _selected_);\n        }\n\n        T.ui.c(_left_, _var_nav_center_hidden_left_);\n\n        // 恢复不挤压文档正文区\n        VOM_doc().c(_cssText_, _margin_left_ + \":\" + _auto_ + _css_important_);\n        MoreDocContent_updateUI(VOM_doc());\n\n        T.mask.hide();\n\n        // 非移动设备时显示把手\n        !V_isMobile()\n            && T.showHandle();\n\n        T.on = gFalse;\n        return gTrue;\n    }\n\n    // 适配调整导航中心的高度\n    function __adjustTop() {\n        T.ui.c(_top_,V_isMobile()\n            // 移动端\n            ? 60\n            : V_ui_isSmallScreen()\n                // 非移动端，小屏\n                ? !V_ui_inHeader() && V_ui_hasCover()\n                    ? 70 // 有封面，在封面\n                    : 100 // 无封面，或在章节内\n                // 非移动端，大屏\n                : 70 // 在封面、在章节内\n        );\n    }\n\n    /**\n     * 导航中心根据规则进行布局的自适应处理\n     * @returns boolean true: 需要处理显示/隐藏，false: 已显示/隐藏，无须重复处理\n     */\n    T.adjust = function() {\n        let result = gFalse;\n\n        // 根据导航中心宽度更新相关界面组件的样式\n        V_pageMode === _max_\n            && VOM_doc().c(_cssText_, _margin_left_ + \":\" + _auto_ + _css_important_);\n        T.on && T.lastType === _block_\n            && (\n                VOM_doc().c(_margin_left_, _var_write_margin_left_),\n                MoreDocContent_updateUI()\n            );\n\n        T.width = T.ui.w();\n\n        // 有封面且在封面，或为小屏\n        // if (V_ui_hasCover() && !V_ui_inHeader() || V_ui_isSmallScreen()) {\n        if (V_ui_hasCover() && !V_ui_inHeader() || V_ui_isSmallScreen()) {\n            // 自动隐藏导航中心\n            if (!V_isMobile() && V_ui_isSmallScreen())\n                result = gTrue;\n            else\n                result = T.hide(_auto_);\n\n            __adjustTop();\n\n            // 根据最新窗口大小调整收起位置\n            // T.ui.c(_left_, _var_nav_center_hidden_left_);\n\n            // 更新工具栏导航中心按钮图标\n            !V_isMobile()\n                && JQ_removeClass(T.toolbar.btns[_nav_center_], _selected_);\n        }\n        else {\n            // 导航中心运行模式为 auto 时，自动显示导航中心\n            if (T.runMode === _auto_) {\n                // 对浮动显示的才隐藏，否则会导致滚动到最后时导致页面布局变化无法滚动最后\n                // 特别是像 guide 那样最后都是小章节内容时\n                T.lastType === _float_\n                    && T.hide();\n\n                // 以占位方式显示导航中心\n                T.lastType = _block_;\n                result = T.show();\n\n                // 根据最新窗口大小调整导航中心宽度\n                T.ui.c(_width_, _var_nav_center_width_);\n\n                // 更新工具栏导航中心按钮图标\n                !V_isMobile()\n                    && T.toolbar.select(_nav_center_);\n            }\n        }\n        return result;\n    }\n\n    /**\n     * 显示导航中心引导把手\n     */\n    T.showHandle = function() {\n        if (V_pageMode !== _max_)\n            return;\n\n        T.hdl.c(_top_, (jq_Window.h() - T.hdl.h()) / 2);\n        T.hdl.show();\n        JQ_addClass(T.hdl, _enabled_);\n    }\n\n    /**\n     * 鼠标位置变化对导航中心处理\n     */\n    T.snap = function (event) {\n        // 已显示则跳过\n        if (T.on || V_isMobile())\n            return;\n\n        // 鼠标离左边缘小于指定值时\n        let h = jq_Window.h();\n        if (V_eventClientY(event) > (h * 0.3) && V_eventClientY(event) < (h * 0.7) && V_eventClientX(event) <= gWritePaddingRight) {\n            if (T.hdlTmr !== gNull)\n                return;\n\n            // JQ_addClass(T.hdl, _hover_);\n\n            // 延时（模拟悬停一定时间）以浮动方式显示导航中心\n            T.hdlTmr = V_later(() => {\n                // JQ_removeClass(T.hdl, _hover_);\n                T.lastType = _float_;\n                T.show();\n            }, 1000);\n        }\n        else {\n            // 未显示导航中心前离开边缘则取消显示\n            if (T.hdlTmr !== gNull) {\n                T.hdlTmr = V_clearTimer(T.hdlTmr);\n                // JQ_removeClass(T.hdl, _hover_);\n            }\n        }\n    }\n\n    /**\n     * 显示/隐藏导航中心，并进行关联处理\n     */\n     T.afterToggle = function() {\n        iNavCenter.lastType === _block_\n            && ContentFolder_adjust();\n    }\n\n    /**\n     * 判断是否为小屏的显示模式（不包括移动端情况，主要针对平板或小小窗口）\n     */\n    T.isSmall = function() {\n        return T.ui.a(_class_).i(_small_) > -1;\n    }\n\n    /**\n     * 处理热键操作\n     * @param key 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.hotkey = function (key, combKeys, event) {\n        // 文档库热键操作\n        T.lib !== gUndefined\n            && T.lib.hotkey(key, combKeys, event);\n\n        if (V_ui_isHidden(T.ui))\n            return;\n\n        if (V_noCombKeys(combKeys) && key === _Escape_)\n            !T.kw.inputing && T.on && T.lastType === _float_\n                && (\n                    T.hide(),\n                    // 如果事件已处理，则禁止双重操作\n                    V_preventDefault(event)\n                );\n    }\n}\n\n/**\n * 导航中心初始化\n */\nfunction NavCenter_init() {\n    // 没有生成目录\n    if (V_isLength0(gToc)) {\n        NavCenter.hideErr();\n        return gFalse;\n    }\n\n    // 将复制的目录进行唯一性标识\n    iNavCenter.toc.ui.body.ap(gToc.f(\".\" + _md_toc_item_));\n\n    // 移除原目录数据，避免同名 DOM\n    gToc.rm();\n\n    gVlookToc = V_byID(_vlook_toc_);\n    V_ui_set_dataNoMore(gVlookToc, gVlookToc);\n\n    // 检查目录内容情况\n    if (V_isLength0(gVlookToc)) {\n        NavCenter.hideErr();\n        return gFalse;\n    }\n\n    // 滚动事件处理\n    V_ui_bindScrollWithMoreContent(gVlookToc);\n    // 容器高度变化的处理\n    V_ui_bindObserveHeightChange(gVlookToc);\n\n    // 获取主题中强制控制，对大于指定层级的标题都不显示\n    gHideOutlineOver = JS_parseInt(V_getVarVal(___v_ + _hide_ + \"-\" + _outline__ + \"over\"));\n\n    // 文库\n    iNavCenter.lib = new DocLib(new BgMask(_doc_lib_, _top_), iNavCenter);\n    // 当前文档不是 mini 类型（文库类文档一般为 mini 类型）\n    if (V_pageMode !== _mini_)\n        // 文库\n        V_isLength0(iNavCenter.lib)\n            ? ALERT(_failed_ + \"iDocLib ]\")\n            : iNavCenter.lib.init();\n\n    // 根据文库配置显示入口\n    iNavCenter.lib !== gUndefined && iNavCenter.lib.on\n        && iToolbar.btns[_doc_lib_].c(_display_, _flex_);\n\n    // 有 Typora 生成的原始目录节点，针对 VLOOK 的封面规则进行调整\n    let tocSet = gVlookToc.ch(\".\" + _md_toc__+ \"h1,.\" + _md_toc__+ \"h2,.\" + _md_toc__+ \"h3,.\" + _md_toc__+ \"h4,.\" + _md_toc__+ \"h5,.\" + _md_toc__+ \"h6\"),\n        tocSetLength = V_length(tocSet);\n    tocSet.e((index, element) => {\n        let _t = $(element);\n        // 只处理 h1～h5 的目录节点\n        if (_t.a(_class_).i(_md_toc_ + \"-h6\") === -1) {\n            if (V_ui_hasCover()) // 文档有封面时\n                index < tocSetLength - 1 // 未到最后一个元素\n                    ? iNavCenter.toc.add(_t)\n                    : _t.rm(); // 最后一个 h1 为封底，移除\n            else\n                iNavCenter.toc.add(_t);\n        }\n        // 移除无效的目录节点（如：封面、封底、普通的 h6 节点）\n        else\n            _t.rm();\n    });\n\n    // 不指定打开，则默认收起所有含子章节的 h1 章节\n    let tocAutoCloseLevel = V_getParamVal(_toc_);\n    tocAutoCloseLevel = (tocAutoCloseLevel !== gNull) ? JS_parseInt(tocAutoCloseLevel) : 1;\n    if (tocAutoCloseLevel >= 1 && tocAutoCloseLevel <= 5) {\n        gVlookToc.ch(\".\" + _md_toc__ + \"h\" + tocAutoCloseLevel + V_attrCSS(_data_node_, 1) + V_attrCSS(_data_folded_, _false_)).e((index, element) => {\n            iNavCenter.toc.disposeFold($(element).a(_id_), \"c\", gTrue);\n        });\n    }\n\n    return gTrue;\n}\n\n/**\n * 隐藏导航中心（异常情况使用）\n */\nNavCenter.hideErr = function() {\n    iNavCenter.hide();\n    ERROR(WINDOW_getHref(), [\n        \"文档中没有找到目录信息，请用 Typora 最新版本导出，并应用最新 VLOOK™ 插件\",\n        \"No [TOC] information was found in the \" + _document_ + \", export it with the latest version of Typora and apply the latest VLOOK™ plug-in.\"\n    ][V_lang]);\n}\n\n// ==================== 逐章导航类 ==================== //\n\n/**\n * 构造函数\n */\nfunction ChapterNav() {\n    let T = this,\n        tPrevName = _v_chapter_nav_ + __prev,\n        tCurrentName = _v_chapter_nav_ + __current_,\n        tNextName = _v_chapter_nav_ + __next_,\n        tDocTitleName = _v_chapter_nav_ + __doc_title_;\n    V_length(T, 1);\n\n    // 逐章导航面板主界面\n    T.ui = V_byClass(_v_chapter_nav_ + _);\n\n    T.prev = {\n        ui : V_byClass(tPrevName), // 前一章界面\n        text: V_byClass(_v_chapter_nav_ + __prev + __text_), // 前一章文本界面\n    };\n\n    T.cur = {\n        ui : V_byClass(tCurrentName), // 当前章节界面\n    };\n\n    T.next = {\n        ui : V_byClass(tNextName), // 后一章界面\n        text : V_byClass(_v_chapter_nav_ + __next_ + __text_), // 后一章文本界面\n    };\n\n    // 文档标题\n    T.dt = V_byClass(tDocTitleName);\n    T.dt.t(V_getDocTitle());\n\n    V_pageMode !== _max_\n        && T.ui.hide();\n\n    /**\n     * 初始化动效\n     */\n    T.init = function (target) {\n        // 因 CSS 的 transition 不变动渐变背景过渡效果，须通过增/减不同的预置样式实现过渡效果\n        V_ui_effect >= 1\n            ? (\n                JQ_addClass(V_byClass(target), _effect_),\n                V_ui_addAnimate(V_byClass(target + \".\" + _effect_))\n            )\n            : JQ_exchangeClass(V_byClass(target), _effect_, _no_ + _effect_);\n    }\n    // 初始化动效\n    T.init(tPrevName);\n    T.init(tCurrentName);\n    T.init(tNextName);\n    T.init(tDocTitleName);\n\n    /**\n     * 跳转至前一章节\n     */\n    T.prev.ui.uC().ck(() => {\n        ToolTips_hide();\n\n        iNavCenter.toc.hIdx === 0\n            ? iNavCenter.gotoCover()\n            : iNavCenter.toc.gotoHeader(T.prev.text);\n    });\n\n    /**\n     * 回到封面\n     */\n    T.dt.uC().ck((event) => {\n        // JQ_removeClass(T.dt, _hover_);\n        ToolTips_hide();\n        // V_eventCurrentTarget(event).a(_disabled_) === gUndefined\n        //     && iNavCenter.gotoCover();\n        iNavCenter.gotoCover();\n    });\n\n    /**\n     * 跳转至当前章节\n     */\n    T.cur.ui.uC().ck(() => {\n        ToolTips_hide();\n        iNavCenter.toc.gotoHeader(T.cur.ui);\n    });\n\n    /**\n     * 跳转至后一章节\n     */\n    T.next.ui.uC().ck(() => {\n        ToolTips_hide();\n        iNavCenter.toc.gotoHeader(T.next.text);\n    });\n\n    /**\n     * 更新逐章导航栏 UI 及数据\n     */\n    T.update = function() {\n        let curIdx = iNavCenter.toc.hIdx;\n\n        // ----------------------------------------\n        // 更新「上一章」导航内容\n        if (curIdx > 1) {\n            T.prev.ui.show();\n            T.prev.ui.c(_display_, _block_);\n            T.prev.text.t(V_byID(iNavCenter.toc.h[curIdx - 1]).t());\n            T.prev.text.a(_data_hash_, iNavCenter.toc.h[curIdx - 1]);\n\n            // V_ui_adjustHoverStyle(T.dt);\n\n            JQ_removeClass(T.dt, _in_start_);\n            JQ_removeAttr(T.dt, _disabled_);\n        }\n        // 当前章节为第 1 章时特殊处理，设置为「封面」\n        else if (curIdx === 1) {\n            T.prev.text.t(V_lang_text(1, [\n                \"文档封面\",\n                _Document_ +___+ _cover_\n            ]));\n            T.prev.ui.show();\n            T.cur.ui.show();\n\n            // V_ui_adjustHoverStyle(T.dt);\n\n            JQ_removeClass(T.dt, _in_start_);\n            JQ_removeAttr(T.dt, _disabled_);\n            T.prev.text.a(_data_hash_, iNavCenter.toc.h[curIdx - 1]);\n        }\n        // 无封面 模式时对「文档标题」章节的特殊处理\n        else if (curIdx === 0) {\n            T.prev.ui.hide();\n            T.cur.ui.hide();\n            // 调整为在文档开始位置时的样式\n            JQ_addClass(T.dt, _in_start_);\n            T.dt.a(_disabled_, _true_);\n            // V_ui_unbindHover(T.dt);\n        }\n\n        // ----------------------------------------\n        // 更新「当前章节」导航内容\n        if (iNavCenter.toc.hItem !== gUndefined) {\n            // 无封面 模式\n            iNavCenter.toc.inDocTitle()\n                ? T.cur.ui.hide()\n                : T.cur.ui.show();\n\n            let headerNum = iNavCenter.toc.hItem.a(_data_header_num_);\n            headerNum = (headerNum === gUndefined)\n                ? _\n                : V_ui_span(_, _, headerNum) + ___;\n            T.cur.ui.hm(headerNum + iNavCenter.toc.hItem.a(_title_));\n            T.cur.ui.a(_data_hash_, iNavCenter.toc.h[curIdx]);\n        }\n\n        // ----------------------------------------\n        // 更新「下一章」导航内容\n        curIdx < V_length(iNavCenter.toc.h) - 1\n            ? (\n                T.next.ui.show(),\n                T.next.text.t(V_byID(iNavCenter.toc.h[curIdx + 1]).t()),\n                T.next.text.a(_data_hash_, iNavCenter.toc.h[curIdx + 1])\n            )\n            : T.next.ui.hide();\n    }\n\n    /**\n     * 显示逐章导航栏\n     */\n    T.show = function() {\n        // 若已显示则直接退出\n        if (V_pageMode !== _max_)\n            return;\n\n        JQ_addClass(T.ui, _v_float_card_);\n\n        T.ui.show();\n    }\n\n    /**\n     * 隐藏逐章导航栏\n     */\n    T.hide = function() {\n        // 若已隐藏则直接退出\n        if (JS_parseInt(T.ui.c(_top_)) < 0)\n            return;\n\n        JQ_removeClass(T.ui, _v_float_card_);\n        T.ui.c(_top_, -50);\n        T.ui.hide();\n    }\n\n    /**\n     * 逐章导航栏自适应显示\n     */\n    T.adjust = function() {\n        // ERROR(111, \"chapter adjust\");\n        T.ui.c(_top_, V_ui_isSmallScreen() ? 0 : 10);\n\n        // 无封面时\n        if (!V_ui_hasCover()) {\n            // 在 VLOOK 生成的文档标题处\n            iNavCenter.toc.hIdx === 0\n                && (\n                    T.show(),\n                    T.update()\n                )\n        }\n        // 有封面时\n        else {\n            // 在封面位置，隐藏逐章导航栏\n            if (!V_ui_inHeader()) {\n                V_ui_hasCover()\n                    && T.hide();\n\n                // 初始化前 / 后章节数据\n                T.prev.text.a(_data_hash_, iNavCenter.toc.h[0]);\n                T.next.text.a(_data_hash_, iNavCenter.toc.h[1]);\n            }\n            // 不在封面位置，显示逐章导航栏\n            else {\n                T.show();\n                T.update();\n            }\n        }\n    }\n\n    /**\n     * 逐章导航导航按钮在不同终端的适配处理\n     */\n    // T.adjustHoverStyle = function() {\n    //     // 移动设备时解绑样式事件\n    //     V_isMobile()\n    //         ? (\n    //             T.prev.ui.uH(),\n    //             T.dt.uH(),\n    //             T.cur.ui.uH(),\n    //             T.next.ui.uH()\n    //         )\n    //         // 非移动设备时绑定样式事件\n    //         : (\n    //             // 上一章\n    //             ToolTips_bind(T.prev.ui, _, _auto_),\n    //             // 文档标题\n    //             ToolTips_bind(T.dt, _, _center_),\n    //             // 当前章节\n    //             ToolTips_bind(T.cur.ui, _, _center_),\n    //             // 下一章\n    //             ToolTips_bind(T.next.ui, _, _right_)\n    //         );\n    // }\n\n    /**\n     * 处理热键操作\n     * @param key 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.hotkey = function (key, combKeys, event) {\n        if (V_doc_block)\n            return;\n\n        let handled = gFalse;\n        if (V_noCombKeys(combKeys)) {\n            switch (key) {\n                case _ArrowLeft_: // left\n                case ',':\n                    T.prev.ui.tr(_click_);\n                    handled = gTrue;\n                    break;\n                case _ArrowRight_: // right\n                case '.':\n                    T.next.ui.tr(_click_);\n                    handled = gTrue;\n                    break;\n            }\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        handled && V_preventDefault(event);\n    }\n}\n\n// ==================== 段落漫游类 ==================== //\n\n/**\n * 构造函数\n */\nfunction ParagraphNav() {\n    let T = this;\n    V_length(T, 1);\n    T.count = 0; // 段的总数量\n    T.idx = -1; // 当前段索引号\n    T.on = gFalse; // 是否段落漫游激活\n\n    T.toolbar = gUndefined; // 联动的工具栏\n    T.bd = gUndefined;\n\n    /**\n     * 返回当前段落\n     */\n    T.cur = function() {\n        if (T.idx === -1)\n            return gUndefined;\n        return $(V_attrCSS(_data_id_, _vk_pg__ + T.idx));\n    }\n\n    /**\n     * 切换段落漫游开关\n     * @returns boolean true：开启，false：关闭\n     */\n    T.tg = function (target) {\n        T.on = !T.on;\n        if (T.on) {\n            iInfoTips.bubble(V_lang_text8(), 2000);\n\n            T.toolbar.select(_paragraph_nav_);\n            T.bd.show();\n\n            StsPrs_enable(T.toolbar.btns[_paragraph_nav_], V_lang_text8());\n            T.goto(ParagraphNav_getScreenMiddleElement());\n\n            target !== gUndefined\n                && T.goto(target);\n            return gTrue;\n        }\n        else {\n            T.hide();\n        }\n        return gFalse;\n    }\n\n    /**\n     * 添加段落\n     */\n    T.add = function (item) {\n        item.a(_data_id_, _vk_pg__ + T.count);\n        item.a(_data_pg_idx_, T.count);\n        T.count++;\n\n        // 单击内容块处理\n        item.uC().ck(() => {\n            iParagraphNav.on\n                && T.goto(item);\n        });\n    }\n\n    /**\n     * 上一个段\n     * @param step 跳转的步长\n     * @returns boolean 跳转结果，true：成功，false：失败\n     */\n    T.prevPg = function (step) {\n        if (!T.on || step === 0)\n            return gFalse;\n\n        // 未到首段\n        if (T.idx > 0) {\n            T.idx = T.idx - step;\n\n            if (T.idx < 0)\n                T.idx = 0;\n\n            // 如果目标内容块 item 跳转失败，则再尝试上一个\n            !T.goto(0)\n                && T.prevPg(1);\n\n            return gTrue;\n        }\n        return gFalse\n    }\n\n    /**\n     * 下一个段\n     * @param step 跳转的步长\n     * @returns boolean 跳转结果，true：成功，false：失败\n     */\n    T.nextPg = function (step) {\n        if (!T.on || step === 0)\n            return gFalse;\n\n        // 未到末段\n        if (T.idx < T.count - 1) {\n            T.idx = T.idx + step;\n\n            // 跳转 step 后修正超出最大值的情况\n            if (T.idx > T.count - 1)\n                T.idx = T.count - 1;\n\n            // 如果目标内容块 item 跳转失败，则再尝试下一个\n            !T.goto(0)\n                && T.nextPg(1);\n\n            return gTrue;\n        }\n        return gFalse;\n    }\n\n    /**\n     * 跳到指定的内容块\n     * @param target 跳转的目标。0: 指定跳到上/下一个位置，非0: 指定的目标位置\n     */\n    T.goto = function (target) {\n        // 初始化目标段\n        let item = (target === 0)\n            ? T.cur()\n            : target;\n\n        // 对于目标段落所属的容器被页签组所隐藏时的处理\n        V_ui_switchToTabItem(item);\n\n        // 若目标聚焦块为空（可能是对象已在其他处理过程中被删除）、不可视等情况\n        // 则返回跳转失败\n        if (item === gUndefined || V_ui_isHidden(item) || item.o() === gUndefined)\n            return gFalse;\n\n        // 添加高亮样式\n        T.idx = JS_parseInt(item.a(_data_pg_idx_));\n\n        // 或目标段不在当前窗口显示区域内，则跳转到对应位置\n        let height = item.h() + 100;\n        if (item.oT() !== 0\n            && ((item.oT() - height) < V_ui_getScrollTop()\n            || (item.oT() + height) > (V_ui_getScrollTop() + jq_Window.h()))) {\n                V_ui_setScrollTop(item.oT(), item);\n        }\n\n        // 展开 details\n        V_ui_openDetails(item);\n\n        // 更新遮罩位置、大小\n        let rect = V_ui_getRect(item[0]),\n            pd = 10, // 留白宽度\n            w = rect.width + pd,\n            h = rect.height + pd;\n        // 遮罩边框\n        T.bd.c(_left_, item.oL() - pd/2);\n        T.bd.c(_top_, item.oT() - pd/2);\n        T.bd.c(_width_, w);\n        T.bd.c(_height_, h);\n\n        return gTrue; // 返回跳转成功\n    }\n\n    /**\n     * 隐藏当前段落的高亮样式\n     */\n    T.hide = function() {\n        JQ_removeClass(T.toolbar.btns[_paragraph_nav_], _selected_);\n        T.on = gFalse;\n        StsPrs_disable();\n        T.bd.hide();\n    }\n\n    /**\n     * 处理热键操作\n     * @param key 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.hotkey = function (key, combKeys, event) {\n        if (!T.on)\n            return;\n\n        let handled = gFalse;\n        switch (key) {\n            case 'j': // J\n            case 'J':\n                TableCross_hide();\n                T.nextPg(__calcStep());\n                handled = gTrue;\n                break;\n            case 'k': // K\n            case 'K':\n                TableCross_hide();\n                T.prevPg(__calcStep());\n                handled = gTrue;\n                break;\n            case _Escape_:\n                if (V_noCombKeys(combKeys) && T.on) {\n                    T.hide();\n                    handled = gTrue;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        handled && V_preventDefault(event);\n\n        // 计算步长\n        function __calcStep() {\n            // 当 j 或 k 单键时\n            if (V_noCombKeys(combKeys))\n                return 1;\n            // 配合 shift 双键时\n            if (event.shiftKey)\n                return 10;\n            // 配合 ctrl 或 command 双键时\n            if (event.metaKey || event.ctrlKey)\n                return 5;\n            return 0;\n        }\n    }\n}\n\n/**\n * 初始化段落漫游模式\n */\nfunction ParagraphNav_init() {\n    iParagraphNav = new ParagraphNav();\n    // 添加关联组件\n    iParagraphNav.toolbar = iToolbar;\n    iParagraphNav.bd = V_byID(_v_para_nav_mask_border_);\n\n    // 先清理多余的段落标签\n    $(\"li>p\" + __only_child_).contents().unwrap();\n\n    // 初始化\n    $(_h1_6_ + \",ul>li,\" + _details_ + \",ol>li,#write>p\" + V_attrCSS(_class_, _md_toc__ + _content_, \"!\") + \",blockquote>p,figure,.\" + _md_alert_ + \">p,.\" + _md_diagram_panel_ + \",.MathJax_SVG_Display\").e((index, element) => {\n        let item = $(element);\n        // 跳过不可见元素、子元素有嵌套 p 的情况，如li > p\n        if (item.is(\":\" + _visible_)\n            && (V_length(item.ch(\"p\")) === 0 && V_length(item.t().x()) > 0 || V_tagName(item) === _details_)) {\n            iParagraphNav.add(item);\n        }\n    });\n}\n\n/**\n * 获取显示在屏幕中间位置的元素\n */\nfunction ParagraphNav_getScreenMiddleElement() {\n    let middleY = gWindow.innerHeight / 2,  // 获取屏幕中心的中线坐标\n        quarterY = middleY / 2, // 获取屏幕高度的 1/4 坐标\n        centerElement = gNull,\n        lastElement = gNull;\n\n    // 遍历所有支持段落漫游的对象\n    $(_idWrite_ + \">\" + V_attrCSS(_data_id_, _vk_pg__, \"^\")).e((index, element) => {\n        let rect = V_ui_getRect(element);\n        // 检查元素的上边缘和下边缘是否跨越屏幕中心点\n        if ((rect.top <= middleY && rect.bottom >= middleY) // 跨中线的对象\n            || (rect.top <= (quarterY) && rect.bottom >= (quarterY)) // 不跨中线，但跨 1/4 线\n            || (rect.top >= (quarterY) && rect.bottom <= (middleY)) // 不跨中线，但在 1/4 线与中线之间\n            || rect.top >= middleY) { // 中线后的对象\n            centerElement = element;\n            return gFalse;\n        }\n        lastElement = element;\n    });\n    if (centerElement === gNull)\n        centerElement = lastElement;\n\n    return $(centerElement);\n}\n\n// ==================== 工具栏类 ==================== //\n\n/**\n * 构造函数\n */\nfunction Toolbar() {\n    let T = this;\n    V_length(T, 1);\n    T.ui = V_byClass(_v_toolbar_); // 工具栏主界面\n    T.btns = []; // 工具栏按钮集\n\n    V_pageMode !== _max_\n        && T.ui.hide();\n\n    V_ui_addAnimate(T.ui);\n\n    /**\n     * 添加按钮\n     * @param name 按钮标识\n     * @param clickEvent 按钮点击事件回调函数\n     */\n    T.add = function (name, clickEvent) {\n        T.btns[name] = V_byClass(_v_btn_ + \".\" + name);\n\n        T.btns[name].uC().ck((event) => {\n            ToolTips_hide();\n            typeof(clickEvent) === _function_ && clickEvent(event);\n        });\n\n        V_ui_addAnimate(T.btns[name]);\n\n        // 对 mouseenter 和 mouseleave 事件处理\n        T.btns[name].on(_mouseEnter_, (event) => {\n            // let _t = V_eventCurrentTarget(event),\n                // btnGroup = _t.a(_data_btn_group_);\n            // btnGroup !== gUndefined\n            //     && JQ_addClass(V_byClass(_v_btn_group_ + \".\" + btnGroup), _hover_);\n            ToolTips_show(V_eventCurrentTarget(event), _auto_);\n        }).on(_mouseLeave_, (event) => {\n            // let btnGroup = V_eventCurrentTarget(event).a(_data_btn_group_);\n            // btnGroup !== gUndefined\n            //     && JQ_removeClass(V_byClass(_v_btn_group_ + \".\" + btnGroup), _hover_);\n            ToolTips_hide();\n        });\n    }\n\n    /**\n     * 对指定按钮设置为选中状态\n     * @param btnName 按钮标识\n     */\n    T.select = function (btnName) {\n        let group = T.btns[btnName].a(_data_btn_group_);\n        if (group !== gUndefined)\n            for (let i = 0; i < V_length(T.btns); i++)\n                T.btns[i].a(_data_btn_group_) === group\n                    && JQ_removeClass(T.btns[i], _selected_);\n\n        JQ_addClass(T.btns[btnName], _selected_);\n    }\n\n    /**\n     * 自适应显示工具栏\n     */\n    T.adjust = function() {\n        if (V_pageMode !== _max_)\n            return null;\n\n        let top, // = 0,\n            bottom = _auto_,\n            padding = 0,\n            right = 20;\n\n        // 如果是小屏，或在封面\n        if (V_ui_isSmallScreen() || !V_ui_inHeader()) {\n            // 根据无封面、有封面情况进行样式调整\n            V_ui_toolbarFloat(V_ui_hasCover());\n\n            // 大屏，回到封面及最开始位置进行二次调整\n            if (!V_ui_isSmallScreen() && !V_ui_inHeader()) {\n                if (V_ui_hasCover()) {\n                    padding = 10;\n                    top = (V_ui_getScrollTop() <= 5 ? gWritePaddingRight : 0);\n                }\n                else {\n                    V_ui_toolbarFloat(gFalse);\n                    padding = 10;\n                    top = 10;\n                }\n            }\n            // 小屏，非封面位置进行二次调整\n            else {\n                // 不在封面\n                if (V_ui_inHeader()) {\n                    V_ui_toolbarFloat();\n                    top = 50;\n                    right = _auto_;\n                }\n                // 在封面\n                else {\n                    padding = 10;\n                    // 小屏，在封面及最开始位置进行二次调整\n                    if (V_ui_getScrollTop() <= 5) {\n                        // 有封面\n                        if (V_ui_hasCover()) {\n                            top = gWritePaddingRight;\n                            right = _revert_layer_;\n                        }\n                        // 无封面\n                        else {\n                            V_ui_toolbarFloat();\n                            padding = 0;\n                            top = 50;\n                            right = _auto_;\n                        }\n                    }\n                    // 小屏，在封面位置进行二次调整\n                    else {\n                        V_ui_toolbarFloat();\n                        top = 50;\n                        padding = 0;\n                    }\n                }\n            }\n        }\n        // 宽屏，且不在封面\n        else {\n            V_ui_toolbarFloat(gFalse);\n            padding = 10;\n            top = 10;\n        }\n\n        // 进行调整\n        T.ui.c(_padding_left_, padding)\n                .c(_padding_right_, padding)\n                .c(_top_, top)\n                .c(_bottom_, bottom)\n                .c(_right_, right);\n        T.ui.show();\n\n        // 返回结果集（因为在启用动画时无法实时获得最终度量信息，需要以结果方式直接返回）\n        return {\n            t: top,\n            l: JS_parseInt(T.ui.c(_left_)),\n            r: JS_parseInt(T.ui.c(_right_)),\n            p: padding\n        };\n    }\n}\n\n// ==================== 颜色方案类 ==================== //\n\nlet ColorScheme_auto = gTrue, // 是否为 auto 模式\n    ColorScheme_systemScheme = _light_,\n    ColorScheme_scheme = _light_; // 当前颜色方案，auto/light/dark\n\n/**\n * 初始化\n */\nfunction ColorScheme_init() {\n    let scheme = V_data_read(_color_scheme_, gTrue);\n    if (scheme !== gNull && (scheme === _light_ || scheme === _dark_))\n        ColorScheme_auto = gFalse;\n\n    // 监听系统的 Color Scheme 变化\n    const mediaQuery = gWindow.matchMedia(\"(prefers-\" + _color_scheme_ + \":\" + _dark_ + \")\");\n    mediaQuery.addEventListener(\"change\", __syncScheme);\n\n    // 初始化\n    ColorScheme_systemScheme = mediaQuery.matches ? _dark_ : _light_;\n    ColorScheme_scheme = ColorScheme_systemScheme;\n\n    // 根据系统 Color Scheme 变化进行适配更新颜色方案\n    function __syncScheme(matcher) {\n        ColorScheme_adjustScheme(matcher.matches);\n    }\n}\n\n// 根据系统 Color Scheme 变化进行适配更新图标\nfunction ColorScheme_adjustScheme(dark) {\n    ColorScheme_systemScheme = dark ? _dark_ : _light_;\n    if (!ColorScheme_auto)\n        return;\n\n    dark\n        ? ColorScheme_scheme = _dark_\n        : ColorScheme_scheme = _light_;\n\n    ColorScheme_refresh();\n\n    !LinkTool_checkHashMode\n        && V_ui_changeDocIcon(V_getVarVal(___v_thm_fav_logo_));\n}\n\n/**\n * 根据指定的颜色方案对文档进行刷新\n * @param force 是否强制指定，如应用于根据调校参数指定\n */\nfunction ColorScheme_refresh(force) {\n    if (!force && ColorScheme_auto) {\n        V_data_remove(_color_scheme_, gTrue);\n        ColorScheme_scheme = ColorScheme_systemScheme;\n    }\n    else if (!force)\n        V_data_write(_color_scheme_, ColorScheme_scheme, gTrue);\n\n    // 批量修改颜色方案相关的 CSS 变量为指定的新值\n    let __alt = \"-a\",\n        __fade_bd = __fd_ + \"-bd\",\n        // __cur__ = \"--cur-\",\n        // ---\n        acRed = ___ac_ + \"rd\",\n        acOrange = ___ac_ + \"og\",\n        acYellow = ___ac_ + \"ye\",\n        acLime = ___ac_ + \"lm\",\n        acGreen = ___ac_ + \"gn\",\n        acMineral = ___ac_ + \"mn\",\n        acOlives = ___ac_ + \"ol\",\n        acWine = ___ac_ + \"wn\",\n        acAqua = ___ac_ + \"aq\",\n        acCyan = ___ac_ + \"cy\",\n        acBlue = ___ac_ + \"bu\",\n        acSea = ___ac_ + \"se\",\n        acLavender = ___ac_ + \"la\",\n        acVine = ___ac_ + \"vn\",\n        acPurple = ___ac_ + \"pu\",\n        acRose = ___ac_ + \"ro\",\n        acPink = ___ac_ + \"pk\",\n        acGold = ___ac_ + \"gd\",\n        acBrown = ___ac_ + \"bn\",\n        acGray = ___ac_ + \"gy\",\n        acWhite = ___ac_ + \"wt\",\n        acBlack = ___ac_ + \"bk\",\n        acTheme1 = ___ac_ + \"t1\",\n        acTheme2 = ___ac_ + \"t2\",\n        // ---\n        __cm__ = \"--cm-\";\n\n    let __pn = \"--pn\",\n        __tbl = \"--tbl-\",\n        _variable = \"variable\",\n        _string = \"string\",\n        ___v_fl__ = \"--v-fl-\",\n        __kbd = \"--kbd\",\n        __kbd_bg = __kbd + \"-bg\",\n        __kbd_reflect = __kbd + \"-reflect\";\n    V_changeCssVarSet([\n        ___v_thm_fav_logo_,\n        ___v_ + _invert_dark_,\n        ___v_ + _cover_ + \"-\" + _dark_,\n        ___v_ + _selected_ + \"-c\",\n        \"--\" + _img_ + \"-bd-\" + _invert_,\n        ___d_bc_,\n        \"--d-bi\",\n        \"-\" + __fd_ + \"-r\",\n        \"-\" + __fd_ + \"-g\",\n        \"-\" + __fd_ + \"-b\",\n        \"--d-fc\",\n        \"--bq-bg\",\n        \"--\" + _fig_ + \"-\" + _solid_ + \"-bg\",\n        _var_fig_grid__ + \"l\",\n        _var_fig_grid__ + \"b\",\n        _var_fig_grid__ + \"l-\" + _invert_,\n        _var_fig_grid__ + \"b-\" + _invert_,\n        __pn + \"-c\",\n        __pn + \"-c-a\",\n        __pn + __fd_ + \"-r\",\n        __pn + __fd_ + \"-g\",\n        __pn + __fd_ + \"-b\",\n        \"--\" + _blockquote_ + \"-bg\",\n        \"--a-c\",\n        \"--a-o-c\",\n        \"--\" + _mark_ + \"-bg\",\n        __tbl + \"row-g-alpha\",\n        \"--toc-h-num-c\",\n        \"--h-f\",\n        \"--h-\" + _box_ + \"-sd\",\n        \"--h-bg-\" + _start_,\n        \"--h-bg-end\",\n        \"--code-bg\",\n        \"--std-code\" + \"-sd\",\n        \"--rb-code\" + \"-sd\",\n        ___v_fl__ + \"sd\",\n        ___v_fl__ + \"i-sd\",\n        ___v_fl__ + \"bd\",\n        \"--c-blk-bg\",\n        __kbd_bg,\n        __kbd_reflect,\n        __kbd + \"-sd\",\n        __kbd_bg + \"-i\",\n        __kbd_reflect + \"-i\",\n        __kbd + \"-sd\" + \"-i\",\n        \"--\" + _doc_ + \"-sd\",\n        ___cur__ + _pointer_,\n        ___cur__ + _copy_,\n        // __cur + _copy_ + \"-\" + _normal_,\n        // __cur + _copy_ + \"-as-md\",\n        ___cur__ + _pointer_ + __text_,\n        ___cur__ + _laser_,\n        ___cur__ + \"md\",\n        ___cur__ + \"doclib\",\n        ___cur__ + _http_,\n        ___cur__ + _https_,\n        ___cur__ + \"email\",\n        // ___cur__ + \"docment\",\n        // ___cur__ + \"archive\",\n        ___cur__ + \"risk\",\n        ___cur__ + _inner_,\n        acRed,\n        acRed + __alt,\n        acRed + __fd_,\n        acRed + __fade_bd,\n        acRed + \"-tt\",\n        acOrange,\n        acOrange + __alt,\n        acOrange + __fd_,\n        acOrange + __fade_bd,\n        acOrange + \"-tt\",\n        acYellow,\n        acYellow + __alt,\n        acYellow + __fd_,\n        acYellow + __fade_bd,\n        acYellow + \"-tt\",\n        acLime,\n        acLime + __alt,\n        acLime + __fd_,\n        acLime + __fade_bd,\n        acLime + \"-tt\",\n        acGreen,\n        acGreen + __alt,\n        acGreen + __fd_,\n        acGreen + __fade_bd,\n        acGreen + \"-tt\",\n        acMineral,\n        acMineral + __alt,\n        acMineral + __fd_,\n        acMineral + __fade_bd,\n        acMineral + \"-tt\",\n        acOlives,\n        acOlives + __alt,\n        acOlives + __fd_,\n        acOlives + __fade_bd,\n        acOlives + \"-tt\",\n        acWine,\n        acWine + __alt,\n        acWine + __fd_,\n        acWine + __fade_bd,\n        acWine + \"-tt\",\n        acAqua,\n        acAqua + __alt,\n        acAqua + __fd_,\n        acAqua + __fade_bd,\n        acAqua + \"-tt\",\n        acCyan,\n        acCyan + __alt,\n        acCyan + __fd_,\n        acCyan + __fade_bd,\n        acCyan + \"-tt\",\n        acBlue,\n        acBlue + __alt,\n        acBlue + __fd_,\n        acBlue + __fade_bd,\n        acBlue + \"-tt\",\n        acSea,\n        acSea + __alt,\n        acSea + __fd_,\n        acSea + __fade_bd,\n        acSea + \"-tt\",\n        acLavender,\n        acLavender + __alt,\n        acLavender + __fd_,\n        acLavender + __fade_bd,\n        acLavender + \"-tt\",\n        acVine,\n        acVine + __alt,\n        acVine + __fd_,\n        acVine + __fade_bd,\n        acVine + \"-tt\",\n        acPurple,\n        acPurple + __alt,\n        acPurple + __fd_,\n        acPurple + __fade_bd,\n        acPurple + \"-tt\",\n        acRose,\n        acRose + __alt,\n        acRose + __fd_,\n        acRose + __fade_bd,\n        acRose + \"-tt\",\n        acPink,\n        acPink + __alt,\n        acPink + __fd_,\n        acPink + __fade_bd,\n        acPink + \"-tt\",\n        acGold,\n        acGold + __alt,\n        acGold + __fd_,\n        acGold + __fade_bd,\n        acGold + \"-tt\",\n        acBrown,\n        acBrown + __alt,\n        acBrown + __fd_,\n        acBrown + __fade_bd,\n        acBrown + \"-tt\",\n        acGray,\n        acGray + __alt,\n        acGray + __fd_,\n        acGray + __fade_bd,\n        acGray + \"-tt\",\n        acWhite,\n        acWhite + __alt,\n        acWhite + __fd_,\n        acWhite + __fade_bd,\n        acWhite + \"-tt\",\n        acBlack,\n        acBlack + __alt,\n        acBlack + __fd_,\n        acBlack + __fade_bd,\n        acBlack + \"-tt\",\n        acTheme1,\n        acTheme1 + __alt,\n        acTheme1 + __fd_,\n        acTheme1 + __fade_bd,\n        acTheme1 + \"-tt\",\n        acTheme2,\n        acTheme2 + __alt,\n        acTheme2 + __fd_,\n        acTheme2 + __fade_bd,\n        acTheme2 + \"-tt\",\n        __cm__ + _keyword_,\n        __cm__ + _variable,\n        __cm__ + _variable + \"-2\",\n        __cm__ + _variable + \"-3\",\n        __cm__ + _tag_,\n        __cm__ + _attribute_,\n        __cm__ + _CodeMirror_ + \"-\" + _cursor_,\n        __cm__ + _string,\n        __cm__ + _string + \"-2\",\n        __cm__ + \"comment\",\n        __cm__ + _header_,\n        __cm__ + _quote_,\n        __cm__ + _hr_,\n        __cm__ + _link_,\n        __cm__ + \"negative\",\n        __cm__ + \"positive\",\n        __cm__ + _mata_,\n        __cm__ + \"bulidin\",\n        __cm__ + \"bracket\",\n        __cm__ + \"atom\",\n        __cm__ + \"number\"\n    ], (ColorScheme_scheme === _dark_) ? \"dk\" : \"lg\");\n\n    // 针对 Dark Mode 进行适配处理\n    ExtFigure_adjustColorScheme(gTrue);\n}\n\n// ==================== 字体风格选项、选择器类 ==================== //\n\nlet webfontHostAlt = _openfontsPages_CloudFlare_ + \"/\";\n// let webfontHostAlt = _vlookOriginGitHub_ + \"/openfonts/\";\n// let webfontHostAlt = _httpsPrefix_ + \"madmaxchow.gitee.io/openfonts/\";\n// let webfontHostAlt = _httpsPrefix_ + \"cdn.jsdelivr.net/gh/MadMaxChow/openfonts@master/\";\n\n/**\n * 构造函数\n * @param ui 选项的 UI\n * @param fonts 字体集数组\n */\nfunction FontStyleOption(ui, fonts) {\n    let T = this;\n    V_length(T, 1);\n    T.ui = ui;\n    T.fonts = fonts;\n    T.fontCount = V_length(T.fonts);\n}\n\n/**\n * 构造函数\n * @param mask 遮罩对象\n * @param styleName 默认的字体风格\n */\nfunction FontStyle(mask, styleName) {\n    let T = this;\n    V_length(T, 1);\n    T.styleByTheme = styleName; // 主题配套字体风格\n    T.style = styleName; // 当前字体风格\n    T.ui = V_byClass(_v_font_style_); // 字体风格切换选择界面\n\n    T.statusUI = gUndefined;\n    T.statusTimer = gNull;\n\n    T.restore = V_byClass(_v_font_style_restore_);\n\n    // 字体风格选项：系统默认\n    T.localStyle = new FontStyleOption(V_byClass(_v_font_style_opt_local_), [\n        _VLOOK_DIN_DIGITAL_ + _normal_normal_, _VLOOK_DIN_DIGITAL_ + _normal_bold_ //_VLOOK_Number_ + _normal_italic_,\n    ]);\n    // 字体风格选项：Book 书香里\n    T.bookStyle = new FontStyleOption(V_byClass(_v_font_style_opt_book_), [\n        _VLOOK_DIN_DIGITAL_ + _normal_normal_, _VLOOK_DIN_DIGITAL_ + _normal_bold_ //_VLOOK_Number_ + _normal_italic_,\n    ]);\n    // 字体风格选项：Gov 公文风\n    T.govStyle = new FontStyleOption(V_byClass(_v_font_style_opt_gov_), [\n        _VLOOK_DIN_DIGITAL_ + _normal_normal_, _VLOOK_DIN_DIGITAL_ + _normal_bold_ //_VLOOK_Number_ + _normal_italic_,\n    ])\n    // 字体风格选项：Sans 小清新\n    T.sansStyle = new FontStyleOption(V_byClass(_v_font_style_opt_sans_), [\n            // _VLOOK_Number_ + _normal_normal_, _VLOOK_Number_ + _normal_bold_, //_VLOOK_Number_ + _normal_italic_,\n            _VLOOK_DIN_DIGITAL_ + _normal_normal_, _VLOOK_DIN_DIGITAL_ + _normal_bold_, //_VLOOK_Number_ + _normal_italic_,\n            // _VLOOK_DIN_Sans_ + _normal_normal_, //_VLOOK_DIN_Sans_ + _normal_500_,\n            // _VLOOK_DIN_Sans_ + _normal_bold_, //_VLOOK_DIN_Sans_ + _normal_900_,\n            _VLOOK_Sans_Mono_ + _normal_normal_, //_VLOOK_Sans_Mono_ + _normal_500_,\n            _VLOOK_Sans_Mono_ + _normal_bold_, //_VLOOK_Sans_Mono_ + _normal_900_,\n            _VLOOK_Sans_ + _normal_normal_, _VLOOK_Sans_ + _normal_bold_//, _VLOOK_Sans_ + _normal_900_\n            ]);\n    // 字体风格选项：Serif 文艺范\n    T.serifStyle = new FontStyleOption(V_byClass(_v_font_style_opt_serif_), [\n            // _VLOOK_Number_ + _normal_normal_, _VLOOK_Number_ + _normal_bold_, //_VLOOK_Number_ + _normal_italic_,\n            // _VLOOK_DIN_Serif_ + _normal_normal_, _VLOOK_DIN_Serif_ + _normal_bold_, _VLOOK_DIN_Serif_ + _normal_italic_, _VLOOK_DIN_Serif_ + _italic_bold_,\n            _VLOOK_Serif_Mono_ + _normal_normal_, _VLOOK_Serif_Mono_ + _normal_bold_, _VLOOK_Serif_Mono_ + _normal_italic_, _VLOOK_Serif_Mono_ + _italic_bold_,\n            _VLOOK_Serif_ + _normal_500_, _VLOOK_Serif_ + _normal_900_,\n            _VLOOK_Sans_Mono_ + _normal_normal_,//_VLOOK_Sans_Mono_ + _normal_500_,\n            _VLOOK_Sans_Mono_ + _normal_bold_, //_VLOOK_Sans_Mono_ + _normal_900_,\n            _VLOOK_Sans_ + _normal_normal_, _VLOOK_Sans_ + _normal_bold_//, _VLOOK_Sans_ + _normal_900_\n        ]);\n    // 字体风格选项：活力派\n    T.albbStyle = new FontStyleOption(V_byClass(_v_font_style_opt_albb_), [\n            // _VLOOK_Number_ + _normal_normal_, _VLOOK_Number_ + _normal_bold_, //_VLOOK_Number_ + _normal_italic_,\n            _VLOOK_DIN_DIGITAL_ + _normal_normal_, _VLOOK_DIN_DIGITAL_ + _normal_bold_, //_VLOOK_Number_ + _normal_italic_,\n            // _VLOOK_Sans_Mono_ + _normal_normal_, _VLOOK_Sans_Mono_ + _normal_500_,\n            // _VLOOK_Albb_ + _normal_normal_, _VLOOK_Albb_ + _normal_bold_,\n            _VLOOK_Albb_DT_Sans_ + _normal_normal_,\n            _VLOOK_Albb_DT_JinBu_ + _normal_normal_\n        ]);\n    // 遮罩\n    T.mask = mask;\n    T.mask.bindPartner(this, T.ui);\n\n    V_ui_addAnimate(T.ui);\n\n    // 恢复为主题配套的字体风格\n    T.restore.uC().ck(() => {\n        V_data_remove(_font_style_, gTrue);\n        T.apply(T.styleByTheme, gTrue);\n        T.hide();\n    });\n\n    // 绑定各字体风格选项事件\n    T.localStyle.ui.uC().ck(() => {\n        T.apply(_local_);\n        T.initWF();\n        T.hide();\n    });\n    T.bookStyle.ui.uC().ck(() => {\n        T.apply(_book_);\n        T.initWF();\n        T.hide();\n    });\n    T.govStyle.ui.uC().ck(() => {\n        T.apply(_gov_);\n        T.initWF();\n        T.hide();\n    });\n    T.sansStyle.ui.uC().ck(() => {\n        T.apply(_sans_);\n        T.initWF();\n        T.hide();\n    });\n    T.serifStyle.ui.uC().ck(() => {\n        T.apply(_serif_);\n        T.initWF();\n        T.hide();\n    });\n    T.albbStyle.ui.uC().ck(() => {\n        T.apply(_albb_);\n        T.initWF();\n        T.hide();\n    });\n\n    /**\n     * 初始化\n     * @param style 可选。强制指定的字体风格\n     */\n    T.init = function (style) {\n        // 有指定强制字体风格，同时指定的字体风格合法且与文档配套的不一致，则进行处理\n        if (style !== gUndefined\n            && style.m(/^(local|book|gov|sans|serif|albb)$/i) !== gNull\n            && style !== T.style) {\n                T.style = style;\n                T.apply(T.style);\n        }\n\n        LOG(\"_____ FONT STYLE (\" + T.style + \") _____ \");\n\n        T.syncInfo();\n\n        T.initWF();\n\n        // 对于本地字体风格的状态，直接为就绪\n        $(\":is(.\" + _v_font_info__ + _local_\n            + \",.\" + _v_font_info__ + _book_\n            + \",.\" + _v_font_info__ + _gov_ + \") > \" + _span_).t(\"✅ \" + V_lang_text38());\n    }\n\n    /**\n     * 同频显示当前选择字体风格的加载信息\n     */\n    T.syncInfo = function() {\n        // 使用自定义字体风格时的处理\n        T.statusUI = V_byClass(_v_font_style_current_);\n\n        JQ_removeClass(T.statusUI, _done_);\n\n        // ----------\n        // 页面模式 max\n        if (V_pageMode === _max_) {\n            // 读取高度信息，强制浏览器重新计算元素的样式，后面重新添加 done 样式时能确保动画重新触发\n            T.statusUI.h();\n\n            // 根据导航中心显示情况进行微调\n            if (V_length(iNavCenter) > 0) {\n                let left = iNavCenter.ui.oL();\n                if (left > 0) // 正常以占位显示\n                    left += iNavCenter.ui.oW() + 10;\n                else // 隐藏时\n                    left = 20;\n                T.statusUI.c(_left_, left);\n            }\n\n            T.statusUI.c(_display_, _flex_);\n\n            __syncLoadingInfo();\n        }\n\n        // 同步显示当前选择字体风格的加载信息\n        function __syncLoadingInfo() {\n            let currentFontStyle = V_byClass(_v_font_info__ + T.style);\n            T.statusUI.hm(V_lang_text41() + _nbsp_ + currentFontStyle.hm());\n\n            // 根据工具栏位置进行微调\n            if (V_length(iToolbar) > 0)\n                JS_parseInt(iToolbar.ui.c(_bottom_)) === 0\n                    ? T.statusUI.c(_bottom_, 50)\n                    : T.statusUI.c(_bottom_, _revert_layer_);\n\n            // 已完成加载\n            if (currentFontStyle.a(_class_).i(_done_) > -1) {\n                JQ_addClass(T.statusUI, _done_);\n                T.statusTimer = V_clearTimer(T.statusTimer);\n            }\n            else {\n                T.statusTimer = V_later(() => {\n                    __syncLoadingInfo();\n                }, 2000);\n            }\n        }\n    }\n\n    /**\n     * 初始化 WebFont\n     */\n    T.initWF = function() {\n        let fontWeight500 = 500,\n            fontWeight900 = 900,\n            _Regular = \"-Regular\",\n            _Medium = \"-Medium\",\n            _Bold = \"-Bold\",\n            _Black = \"-Black\",\n            _Italic = \"-Italic\";\n        let unicodeRange = \"U+0021-002F,\" // !\"#$%&'()*+,-./（不含空格）\n            + \"U+0030-0039,\" // 0123456789\n            + \"U+003A-0040,\" // :;<=>?@\n            + \"U+005B-0060,\" // [\\]^_`\n            + \"U+007B-007E\"; // {|}~\n        let timeOutMsg = \"❌ \" + V_lang_text(39, [\"超时\", \"Timeout\"]);\n\n        if ((_local_ + _book_ + _gov_).i(T.style) > -1)\n            // 动态加载字体 VLOOK DIN\n            __loadDinFont();\n        else if (T.style === _sans_) {\n            // 动态加载字体 VLOOK DIN\n            __loadDinFont();\n            // 动态加载字体 VLOOK DIN Sans\n            // __LoadDinSansFont();\n            // 动态加载字体 VLOOK Sans Mono\n            __loadSansMonoFont();\n            // 动态加载字体 VLOOK Sans\n            __loadSansCjkFont();\n\n            // 对 Sans 字体风格的加载超时检测\n            V_later(() => {\n                V_length(T.sansStyle.fonts) > 0\n                    && V_byClass(_v_font_info__ + \"sans > \" + _span_).t(timeOutMsg);\n            }, 1000 * 60 * 20); // 20 分钟后进行超时检测\n        }\n        else if (T.style === _serif_) {\n            // 动态加载字体 VLOOK DIN\n            __loadDinFont();\n            // 动态加载字体 VLOOK DIN Serif\n            // __LoadDinSerifFont();\n            // 动态加载字体 VLOOK Serif Mono\n            __loadSerifMonoFont();\n            // 动态加载字体 VLOOK Serif\n            __loadSerifCjkFont();\n\n            // 动态加载字体 VLOOK Sans Mono\n            __loadSansMonoFont();\n            // 动态加载字体 VLOOK Sans\n            __loadSansCjkFont();\n\n            // 对 Serif 字体风格的加载超时检测\n            V_later(() => {\n                V_length(T.serifStyle.fonts) > 0\n                    && V_byClass(_v_font_info__ + _serif_ + \" > \" + _span_).t(timeOutMsg);\n            }, 600000); // 10 分钟后进行超时检测\n        }\n        else if (T.style === _albb_) {\n            // 动态加载字体 VLOOK DIN\n            __loadDinFont();\n\n            // 动态加载字体 VLOOK Sans Mono\n            __loadSansMonoFont();\n\n            // 动态加载字体 VLOOK Albb\n            // __loadAlbbFont()\n            // 动态加载字体 VLOOK Albb DT-Sans\n            __loadAlbbDtSansFont();\n            // 动态加载字体 VLOOK Albb DT-JinBu\n            __loadAlbbDtJinBuFont();\n\n            // 对 Albb 字体风格的加载超时检测\n            V_later(() => {\n                V_length(T.albbStyle.fonts) > 0\n                    && V_byClass(_v_font_info__ + _albb_ + \" > \" + _span_).t(timeOutMsg);\n            }, 600000); // 10 分钟后进行超时检测\n        }\n\n        // 动态加载字体 VLOOK DIN\n        function __loadDinFont() {\n            let // fontName = _VLOOK_DIN_DIGITAL_,\n                srcName = \"Altinn-DIN\";\n            T.load(_VLOOK_DIN_DIGITAL_, _normal_, _normal_, srcName, srcName + _Regular);\n            T.load(_VLOOK_DIN_DIGITAL_, _normal_, _bold_, srcName, srcName + _Bold);\n            T.load(_VLOOK_DIN_, _normal_, _normal_, srcName, srcName + _Regular);\n            T.load(_VLOOK_DIN_, _normal_, _bold_, srcName, srcName + _Bold);\n        }\n\n        // 动态加载字体 VLOOK DIN Sans\n        // function __LoadDinSansFont() {\n        //     let fontName = _VLOOK_DIN_Sans_,\n        //         srcName = _NotoSansMono_;\n        //     T.load(fontName, _normal_, _normal_, srcName, srcName + _Regular, unicodeRange);\n        //     T.load(fontName, _normal_, _bold_, srcName, srcName + _Bold, unicodeRange);\n        // }\n\n        // 动态加载字体 VLOOK DIN Serif\n        // function __LoadDinSerifFont() {\n        //     let fontName = _VLOOK_DIN_Serif_,\n        //         srcName = _LuxiMono_;\n        //     let luxiMonoSubName = srcName + _Italic;\n        //     T.load(fontName, _normal_, _normal_, srcName, srcName + _Regular, unicodeRange);\n        //     T.load(fontName, _normal_, _bold_, srcName, srcName + _Bold, unicodeRange);\n        //     T.load(fontName, _italic_, _normal_, srcName, luxiMonoSubName + _Regular, unicodeRange);\n        //     T.load(fontName, _italic_, _bold_, srcName, luxiMonoSubName + _Bold, unicodeRange);\n        // }\n\n        // 动态加载字体 VLOOK Sans Mono\n        function __loadSansMonoFont() {\n            let fontName = _VLOOK_Sans_Mono_,\n                srcName = _NotoSansMono_;\n            T.load(fontName, _normal_, _normal_, srcName, srcName + _Regular);\n            T.load(fontName, _normal_, _bold_, srcName, srcName + _Bold);\n        }\n\n        // 动态加载字体 VLOOK Serif Mono\n        function __loadSerifMonoFont() {\n            let fontName = _VLOOK_Serif_Mono_,\n                srcName = _LuxiMono_;\n            let luxiMonoSubName = srcName + _Italic;\n            T.load(fontName, _normal_, _normal_, srcName, srcName + _Regular);\n            T.load(fontName, _normal_, _bold_, srcName, srcName + _Bold);\n            T.load(fontName, _italic_, _normal_, srcName, luxiMonoSubName + _Regular);\n            T.load(fontName, _italic_, _bold_, srcName, luxiMonoSubName + _Bold);\n        }\n\n        // 动态加载字体 VLOOK Sans\n        function __loadSansCjkFont() {\n            let fontName = _VLOOK_Sans_,\n                srcName = \"NotoSansCJKsc\";\n            T.load(fontName, _normal_, _normal_, srcName, srcName + _Regular);\n            T.load(fontName, _normal_, _bold_, srcName, srcName + _Bold);\n        }\n\n        // 动态加载字体 VLOOK Serif\n        function __loadSerifCjkFont() {\n            let fontName = _VLOOK_Serif_,\n                srcName = \"NotoSerifCJKsc\";\n            T.load(fontName, _normal_, fontWeight500, srcName, srcName + _Medium);\n            T.load(fontName, _normal_, fontWeight900, srcName, srcName + _Black);\n        }\n\n        // 动态加载字体 VLOOK Albb\n        // function __loadAlbbFont() {\n        //     let fontName = _VLOOK_Albb_,\n        //         srcName = \"AlibabaPuHuiTi\";\n        //     T.load(fontName, _normal_, _normal_, srcName, srcName + _Regular);\n        //     T.load(fontName, _normal_, _bold_, srcName, srcName + _Bold);\n        // }\n\n        // 动态加载字体 VLOOK Albb DT-Sans\n        function __loadAlbbDtSansFont() {\n            let //fontName = _VLOOK_Albb_DT_Sans_,\n                srcName = _DingTalk_;\n            T.load(_VLOOK_Albb_DT_Sans_, _normal_, _normal_, srcName, srcName + \"-Sans\");\n        }\n\n        // 动态加载字体 VLOOK Albb DT-JinBu\n        function __loadAlbbDtJinBuFont() {\n            let //fontName = _VLOOK_Albb_DT_JinBu_,\n                srcName = _DingTalk_;\n            T.load(_VLOOK_Albb_DT_JinBu_, _normal_, _normal_, srcName, srcName + \"-JinBuTi\");\n        }\n    }\n\n    /**\n     * 绑定选择字体风格操作按钮\n     * @param button 绑定的工具栏按钮\n     */\n    T.bindButton = function (button) {\n        T.button = button; // 绑定的工具栏按钮\n    }\n\n    /**\n     * 加载自定义字体\n     * @param fontFamily 自定义字体名称\n     * @param fontStyle 字体样式\n     * @param fontWeight 字重\n     * @param folderName 字体目录名称\n     * @param srcFontSubName 字体源子名称\n     * @param unicodeRange 指定应用的字符范围\n     */\n    T.load = function (fontFamily, fontStyle, fontWeight, folderName, srcFontSubName, unicodeRange) {\n        if (gDocument.fonts && !T.isExist(fontFamily, fontStyle, fontWeight)) {\n            let woffURL = \"url('\" + webfontHostAlt + folderName + \"-\" + _woff2_ + \"/\" + srcFontSubName + \".\" + _woff2_ + \"') format('\" + _woff2_ + \"')\",\n                fontFace;\n            // 有指定字符范围\n            unicodeRange === gUndefined\n                ? fontFace = new FontFace(fontFamily,\n                    ((_woff2_ !== gUndefined) ? woffURL : _), {\n                        weight: fontWeight,\n                        display: _swap_,\n                        style: fontStyle\n                    })\n                // 无指定字符范围\n                : fontFace = new FontFace(fontFamily,\n                    ((_woff2_ !== gUndefined) ? woffURL : _), {\n                        weight: fontWeight,\n                        display: _swap_,\n                        style: fontStyle,\n                        unicodeRange: \"U+0030-0039\"\n                    });\n\n            // 指定字体加载完成后回调函数\n            fontFace.load().then((loadedFontFace) => {\n                gDocument.fonts.add(loadedFontFace);\n\n                let fontID = fontFamily + \"/\" + fontStyle + \"/\" + fontWeight;\n                LOG(\"↓↓↓ FONT LOADED ↓↓↓\");\n                LOG(fontID);\n\n                // 更新字体包下载进度\n                __updateDownloadProgress(fontID, _local_, T.localStyle);\n                __updateDownloadProgress(fontID, _book_, T.bookStyle);\n                __updateDownloadProgress(fontID, _gov_, T.govStyle);\n                __updateDownloadProgress(fontID, _sans_, T.sansStyle);\n                __updateDownloadProgress(fontID, _serif_, T.serifStyle);\n                __updateDownloadProgress(fontID, _albb_, T.albbStyle);\n            });\n\n            // 更新字体下载进度\n            function __updateDownloadProgress(fontID, style, fontSet) {\n                let readyMsg = \"✅ \" + V_lang_text38(),\n                    loadingMsg = V_lang_text(40, [\"加载中\", _Loading_]);\n\n                // 剔除已下载的字体字形\n                for (let i = 0; i < V_length(fontSet.fonts); i++) {\n                    if (fontSet.fonts[i] === fontID) {\n                        fontSet.fonts.splice(i, 1);\n                        break;\n                    }\n                }\n\n                // 计算进度\n                let loadedCount = fontSet.fontCount - V_length(fontSet.fonts),\n                    status = V_byClass(_v_font_info__ + style + \" > \" + _span_);\n\n                // 未加载完成\n                loadedCount < fontSet.fontCount\n                    ? status.t(loadingMsg + \" (\" + JS_mathRound(loadedCount / fontSet.fontCount * 100) + \"%)\")\n                // 已加载完成\n                    : (\n                        status.t(readyMsg),\n                        JQ_addClass(status.p(), _done_)\n                    );\n            }\n        }\n    }\n\n    /**\n     * 检测指定自定义字体是否已加载\n     * @param fontFamily 自定义字体名称\n     * @param fontStyle 字体样式\n     * @param fontWeight 字重\n     */\n    T.isExist = function (fontFamily, fontStyle, fontWeight) {\n        let values = gDocument.fonts.values(),\n            isHave = gFalse,\n            item = values.next();\n\n        while (!item.done && !isHave) {\n            let fontFace = item.value;\n            if (fontFace.family === fontFamily\n                && fontFace.style === fontStyle\n                && fontFace.weight === fontWeight) {\n                    isHave = gTrue;\n                    LOG(\"///// FONT IS EXIST /////\");\n                    LOG(fontFamily + \"/\" + fontStyle + \"/\" + fontWeight);\n            }\n            item = values.next();\n        }\n        return isHave;\n    }\n\n    /**\n     * 显示字体风格选择器\n     */\n    T.show = function() {\n        // 如果有保存的配置，则显示 恢复 按钮\n        T.restore.c(_display_, V_data_read(_font_style_, gTrue) !== gNull ? _block_ : _none_);\n\n        T.mask.show();\n        V_ui_moveToCenter(T.ui);\n        T.ui.show();\n\n        LOG(_current_ + \": \" + T.style);\n\n        JQ_removeClass(V_byClass(_v_font_style_opt_ + \">img\"), _selected_);\n        JQ_addClass(V_byClass(_v_font_style_opt_ + \"-\"  + T.style), _selected_);\n    }\n\n    /**\n     * 显示/隐藏字体风格选择器\n     */\n    T.tg = function() {\n        V_ui_isShowed(T.ui)\n            ? T.hide()\n            : T.show();\n    }\n\n    /**\n     * 隐藏字体风格选择器\n     */\n    T.hide = function() {\n        T.ui.hide();\n        T.mask.hide();\n    }\n\n    /**\n     * 应用指定字体风格\n     * @param styleName 指定应用的字体风格（local/book/gov/sans/serif/albb），不指定则以为当前字体风格\n     * @param restore 是否为恢复模式\n     */\n    T.apply = function (styleName, restore) {\n        // 修正无指定样式的情况\n        if (styleName === gUndefined)\n            styleName = T.style;\n\n        T.style = styleName;\n        restore !== gTrue\n            && V_data_write(_font_style_, styleName, gTrue);\n\n        // 涉及的 CSS 变量名称列表\n        let varFFm = ___v_f__ + \"fm\",\n            varFw = ___v_f__ + \"w\";\n        const varList = [\n            varFFm + \"-tt\",\n            varFFm + \"-\" + _stt_,\n            varFFm + \"-h\",\n            varFFm + __text_,\n            varFFm + \"-bd\",\n            varFFm + \"-key\",\n            varFFm + __num_,\n            varFFm + \"-\" + _tag_,\n            varFFm + \"-\" + _code_,\n            varFw + \"-bd\",\n            varFw + \"-tt\",\n            varFw + __text_\n        ];\n        // 生成目标字体风格变量值列表\n        let fontVarList = [];\n        for (let i = 0, len = V_length(varList); i < len; i++)\n            fontVarList.push(V_getVarVal(varList[i] + \"-\" + T.style));\n\n        // 遍历所有变量实现字体风格的切换\n        for (let i = 0, len = V_length(varList); i < len; i++)\n            V_setVarVal(varList[i], fontVarList[i]);\n\n        T.syncInfo();\n    }\n\n    /**\n     * 处理热键操作\n     * @param key 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.hotkey = function (key, combKeys, event) {\n        if (V_ui_isHidden(T.ui))\n            return;\n\n        V_noCombKeys(combKeys) && V_isEscape(key)\n            && V_ui_isShowed(T.ui)\n                && (\n                    T.hide(),\n                    // 如果事件已处理，则禁止双重操作\n                    V_preventDefault(event)\n                );\n    }\n}\n\n// ==================== 脚注类 ==================== //\n\n/**\n * 构造函数\n * @param mask 遮罩对象\n */\nfunction Footnote(mask) {\n    let T = this;\n    V_length(T, 1);\n    T.ui = V_byClass(_v_fontnote_pn_); // 脚注主界面\n    T.content = V_byClass(_v_fontnote_pn_content_); // 脚注内容区\n\n    V_ui_set_dataNoMore(T.content, [_]);\n\n    // vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv\n    // 滚动事件处理\n    V_ui_bindScrollWithMoreContent(T.content);\n    // ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n    T.buttonSeeAll = V_byClass(_v_fontnote_pn_ + __footer_); // 查看所有脚注按钮\n    T.buttonSeeAll.uC().ck(() => {\n        T.hide();\n        // 跳转至所有脚注区域\n        WINDOW_setHref(\"#\" + _vk_footer_area_);\n    });\n\n    // 遮罩\n    T.mask = mask;\n    T.mask.bindPartner(this, T.ui);\n\n    /**\n     * 显示脚注弹层\n     */\n    T.show = function() {\n        // 显示关联的遮罩\n        T.mask.show();\n        T.ui.show();\n        // 强制触发一次滚动事件处理，以生成需要的样式\n        V_ui_scrollingUpdate(T.content);\n    }\n\n    /**\n     * 隐藏脚注弹层\n     */\n    T.hide = function() {\n        T.ui.hide();\n        T.mask.hide();\n    }\n\n    /**\n     * 处理热键操作\n     * @param key 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.hotkey = function (key, combKeys, event) {\n        if (V_ui_isHidden(T.ui))\n            return;\n\n        V_noCombKeys(combKeys) && V_isEscape(key)\n            && V_ui_isShowed(T.ui)\n                && (\n                    T.hide(),\n                    // 如果事件已处理，则禁止双重操作\n                    V_preventDefault(event)\n                );\n    }\n}\n\n/**\n * 初始化脚注\n */\nfunction Footnote_init() {\n    // 将 Typora 的脚注调整到封底前，VLOOK 规范的文档中最后一个 <h6> 是封底\n    let footnotesArea = V_byClass(_footnotes_area_);\n    if (V_isLength0(footnotesArea))\n        return;\n\n    // 有脚注时，在文库中添加直达「所有脚注」的入口\n    let vkFooterArea = V_byID(_vk_footer_area_);\n    V_length(vkFooterArea) > 0 && iNavCenter.lib !== gUndefined\n        && iNavCenter.lib.addHashItem(V_ui_svgIcon(_icoDocLibRef_, 20, 18, _alpha_), V_lang_text22(), _vk_footer_area_);\n\n    // 有封面 模式\n    VOM_backcover() !== gUndefined\n        ? VOM_backcover().bf(footnotesArea)\n        // 无封面 模式\n        : VOM_doc().ap(footnotesArea);\n\n    // 将 VLOOK 生成的脚注区锚点调整到生成 HTML 后的实际位置\n    footnotesArea.bf(vkFooterArea);\n\n    // 移除默认的跳转属性\n    let a = $(\"a\" + V_attrCSS(_name_, _ref_footnote_, \"^\")\n        + \",a\" + V_attrCSS(_id_, _ref_footnote_, \"^\"));\n    JQ_removeAttr(a, _href_);\n    // 将脚注角标的事件替换为指定的处理事件\n    a.uC().ck((event) => {\n        // 获取脚注【返回】链接对应的脚注原文信息\n        let _t = V_eventCurrentTarget(event),\n            nameValue = _t.a(_name_),\n            nameValue2 = \"df\" + _ref_footnote_,\n            target = $(\"a\" + V_attrCSS(_name_, \"df\" + nameValue)\n                + \",a\" + V_attrCSS(_id_, \"df\" + nameValue)).p().clone();\n\n        // 更新脚注弹层内容区\n        iFootnote.content.hm(target);\n        // 移除默认的返回链接\n        target.f(\"a\" + V_attrCSS(_name_, nameValue2, \"^\")\n            + \",a\" + V_attrCSS(_id_, nameValue2, \"^\")).rm();\n\n        // 显示脚注弹层\n        iFootnote.show();\n    });\n}\n\n// ==================== 带格式的复制处理类 ==================== //\n\n// let Copyer_rich_ui_start = gUndefined,\n//     Copyer_rich_ui_end = gUndefined;\n\n// function Copyer_init() {\n//     let ui = V_ui_div(\"copy-rich-start\", _, _)\n//         + V_ui_div(\"copy-rich-end\", _, _);\n\n//     V_byClass(_footnotes_area_).bf(ui);\n//     Copyer_rich_ui_start = V_byID(\"copy-rich-start\");\n//     Copyer_rich_ui_end = V_byID(\"copy-rich-end\");\n// }\n\n// /**\n//  * 处理复制操作\n//  * @param event 事件对象\n//  */\n// function Copyer_actionForRich(event) {\n//     // 针对选中的内容进行处理\n//     const selection = window.getSelection();\n//     if (selection.rangeCount > 0 && Copyer_rich_ui_start !== gUndefined) {\n//         let range = selection.getRangeAt(0),\n//             selectedContent = range.cloneContents();\n\n//         // 将临时添加到 #write 内以正确匹配样式后再进行处理\n//         Copyer_rich_ui_start.af($(selectedContent));\n\n//         // 递归处理子元素\n//         let childSet = Copyer_rich_ui_start.nU('#copy-rich-end'),\n//             htmlContent = _,\n//             textContent = _;\n//         for (let child of childSet) {\n//             __convertStylesToInline(child);\n//             htmlContent += child.outerHTML;\n//             textContent += child.textContent;\n//         }\n\n//         // 将完成内联样式处理的内容写入到 clipboard\n//         event.clipboardData.setData(_text_ + \"/\" + _html_, htmlContent);\n//         event.clipboardData.setData(_text_ + \"/plain\", textContent);\n\n//         // 延迟移除临时复制标记内的内容，确保粘贴前内容完整\n//         V_later(() => {\n//             let removeStart = gFalse;\n//             Copyer_rich_ui_start.p().contents().each(function () {\n//                 // 如果当前节点是复制开始标记，开始删除\n//                 if (this === Copyer_rich_ui_start[0])\n//                     removeStart = gTrue;\n//                 // 如果当前节点在复制开始与结束标记之间，且是文本或元素节点，则删除\n//                 else if (removeStart && this !== Copyer_rich_ui_end[0]) {\n//                     if (this.nodeType === Node.TEXT_NODE || this.nodeType === Node.ELEMENT_NODE)\n//                         $(this).rm();\n//                 }\n//                 // 如果当前节点是复制结束标记，停止删除\n//                 else if (this === Copyer_rich_ui_end[0])\n//                     removeStart = gFalse;\n//             });\n\n//             Copyer_processing = gFalse;\n//         }, 1000);\n//     }\n\n//     // 转换内联样式\n//     function __convertStylesToInline(element) {\n//         let computedStyles = window.getComputedStyle(element),\n//             inlineStyle = _,\n//             propertyList = [\n//                 // 字体相关\n//                 _font_family_,\n//                 _font_size_,\n//                 _font_weight_,\n//                 _font_style_,\n//                 _line_height_,\n//                 _text_transform_,\n//                 _letter_spacing_,\n//                 // 颜色、背景\n//                 _color_,\n//                 _background_color_,\n//                 _background_image_,\n//                 _background_clip_,\n//                 // 阴影\n//                 _box_shadow_,\n//                 _text_shadow_,\n//                 // 边框\n//                 _border_,\n//                 _border_left_,\n//                 _border_right_,\n//                 _border_top_,\n//                 _border_bottom_,\n//                 _border_radius_,\n//                 // 对齐\n//                 _text_align_,\n//                 _justify_content_,\n//                 _align_items_,\n//                 _vertical_align_,\n//                 // 大小、布局\n//                 _padding_,\n//                 _margin_,\n//                 _min_width_,\n//                 _max_width_,\n//                 _word_break_,\n//                 _white_space_,\n//                 _display_,\n//                 _position_\n//             ];\n\n//         for (let i = 0; i < V_length(propertyList); i++)\n//             inlineStyle += __genInlineStyle(computedStyles, propertyList[i]);\n\n//         // 处理伪元素\n//         // const pseudoBefore = window.getComputedStyle(element, '::before');\n//         // const pseudoAfter = window.getComputedStyle(element, '::after');\n\n//         // if (pseudoBefore.content !== _none_) {\n//         //     inlineStyle += `::before { content: ${pseudoBefore.content}; } `;\n//         // }\n//         // if (pseudoAfter.content !== _none_) {\n//         //     inlineStyle += `::after { content: ${pseudoAfter.content}; } `;\n//         // }\n\n//         // 设置内联样式\n//         element.setAttribute(_style_, inlineStyle);\n\n//         // 递归处理子元素\n//         for (let child of element.children)\n//             __convertStylesToInline(child);\n//     }\n\n//     // 生成指定属性名的内联样式内容\n//     function __genInlineStyle(style, propertyName) {\n//         let value = V_util_getComputedStyleValue(style, propertyName),\n//             inlineStyle = _;\n//         if (value) inlineStyle = `${propertyName}: ${value}; `;\n//         return inlineStyle;\n//     }\n// }\n\n// ==================== 状态栏类 ==================== //\n\nlet StatusBar_ui = gUndefined,\n    StatusBar_handle = gUndefined,\n    StatusBar_items = []; // 状态栏条目集\n\nlet StsLinkChkResult_ui = gUndefined,\n    StsNewVersion_ui = gUndefined,\n    StsColorScheme_ui = gUndefined,\n    StsDocInfo_ui = gUndefined,\n    StsPrsInfo_ui = gUndefined,\n    StsLinkMap_ui = gUndefined,\n    StsFontStyle_ui = gUndefined;\n\n// 状态栏初始化\nfunction StatusBar_init() {\n    StsLinkChkResult_ui = V_byClass(_v_link_chk_result_); // 检查结果\n    StsNewVersion_ui = V_byClass(_v_new_version_);\n    StsColorScheme_ui = V_byClass(_v_color_scheme_);\n    StsDocInfo_ui = V_byClass(_v_doc_info_);\n    StsPrsInfo_ui = V_byClass(_v_prs_info_);\n\n    // 点击演示工具信息栏事件处理\n    StsPrsInfo_ui.uC().ck(() => {\n       iParagraphNav.hide();\n       iSpotlight.hide();\n       iLaserPointer.hide();\n    });\n\n    StatusBar_ui = V_byClass(_v_status_bar_);\n    V_ui_addAnimate(StatusBar_ui);\n    V_ui_addAnimate(StatusBar_ui.ch(_div_));\n    V_isMobile()\n        && JQ_addClass(StatusBar_ui, _mobile_);\n\n    // 控制隐藏、显示的按钮\n    StatusBar_handle = V_byClass(_v_status_bar_ + __handle_);\n    StatusBar_handle.uC().ck(() => {\n        // 进行隐藏\n        parseInt(StatusBar_ui.c(_right_)) > 0\n            ? StatusBar_hide()\n            // 进行显示\n            : StatusBar_show();\n    });\n\n    // ----------\n    // 功能入口：链接地图\n    StsLinkMap_ui = V_byClass(_v_link_map_);\n    ToolTips_bind(StsLinkMap_ui, V_lang_text3() + _br_ + V_ui_sub(_, _, V_ui_wrap_kbd(\"M\")));\n    StsLinkMap_ui.uC().ck(() => {\n        V_ui_isHidden(LinkTool_panelList)\n            && LinkTool_show(_map_);\n    });\n\n    // ----------\n    // 功能入口：字体风格\n    StsFontStyle_ui = V_byClass(_v_sts_font_style_);\n    ToolTips_bind(StsFontStyle_ui, V_lang_text41() + _br_ + V_ui_sub(_, _, V_ui_wrap_kbd(\"A\")));\n    StsFontStyle_ui.uC().ck(() => {\n        iFontStyle.tg();\n    });\n\n    // ----------\n    // 功能入口：Light / Dark Mode 切换\n    // 页面模式非 max（如文库），中仅支持 Light Mode 时不显示\n\n    // 如没有指定仅支持 Light Mode 时才进行自动适配 Dark Mode 的处理\n    gOnlyLightMode = (V_length(V_getVarVal(\"--v-only-\" + _light_ + \"-\" + _mode_)) > 0);\n    if (V_pageMode !== _max_ || gOnlyLightMode)\n        StsColorScheme_ui.hide();\n\n    // 页面模式非 max（如文库），或为移动端时的处理\n    if (V_pageMode !== _max_ || V_isMobile()) {\n        StsDocInfo_ui.hide();\n        StsLinkChkResult_ui.hide();\n        StsFontStyle_ui.hide();\n\n        // 过滤掉不可见的元素\n        let visibleBtn = StatusBar_ui.ch().filter(function () {\n            return $(this).c(_display_) !== _none_;\n        });\n        // 给最后一个元素添加指定样式\n        JQ_addClass(visibleBtn.last(), _last_);\n    }\n\n    // 状态栏相关的其他初始化处理\n    NewVersion_init();\n    StsColorScheme_init();\n    LinkTool_init(new BgMask(_link_checker_, _right_, gTrue));\n}\n\n// 显示状态栏\nfunction StatusBar_show() {\n    StatusBar_ui.c(_right_, gWritePaddingRight);\n    JQ_removeClass(StatusBar_handle, _hidden_);\n}\n\n// 隐藏状态栏\nfunction StatusBar_hide() {\n    StatusBar_ui.c(_right_, \"-\" + (StatusBar_ui.w() - StatusBar_handle.w() - 2) + \"px\");\n    JQ_addClass(StatusBar_handle, _hidden_);\n}\n\n// ==================== 文档信息类 ==================== //\n\nlet DocInfo_enabled = gTrue;\n\n/**\n * 统计字数\n */\nfunction DocInfo_countWord() {\n    if (!DocInfo_enabled)\n        return;\n\n    // 统计每种语言匹配到的词汇数量\n    let counterResult = V_countWord(VOM_doc().t());\n\n    // 计算阅读时长\n    let readCountPerMin = 200,\n        mins = counterResult.total < readCountPerMin ? 1 : JS_parseInt(counterResult.total / readCountPerMin),\n        times = mins +___+ V_lang_text(42, [\n            \"分钟\",\n            \"minute(s)\"\n        ]);\n    if (mins > 60)\n        times = (mins / 60).toFixed(1) +___+ V_lang_text(43, [\n            \"小时\",\n            \"hour(s)\"\n        ]);\n\n    ToolTips_bind(StsDocInfo_ui, V_ui_strong(times)\n        + V_ui_sub(_, _,\n            _br_ + V_lang_text(11, [\n                    \"中日韩\",\n                    \"CJK\"\n                ])\n            +___+ V_lang_text44() + \":\" +___\n            + V_ui_strong(V_formatting_thousands(JS_toString(counterResult.CJK)))\n            + _br_ + V_lang_text(12, [\n                    \"非中日韩\",\n                    \"Non-CJK\"\n                ])\n            +___+  V_lang_text44() + \":\" +___\n            + V_ui_strong(V_formatting_thousands(JS_toString(counterResult.latin)))\n        ));\n\n    StsDocInfo_ui.hm(V_formatting_thousands(JS_toString(counterResult.total)));\n}\n\n// ==================== 演示工具信息类 ==================== //\n\n// 启用演示工具栏显示\nfunction StsPrs_enable(tool, text) {\n    StatusBar_show();\n\n    StsPrsInfo_ui.hm(\n        V_ui_label(_, _, tool.hm() + text + _2nbsp_ + \"•\" + _2nbsp_ + V_lang_text4() + _2nbsp_ + \"•\" + _2nbsp_  + V_ui_wrap_kbd(\"ESC\") + V_lang_text17())\n    );\n    JQ_addClass(StsPrsInfo_ui, _selected_);\n\n    // 更新演示工具栏提示信息\n    ToolTips_bind(StsPrsInfo_ui, tool.a(_data_tips_));\n}\n\n// 关闭演示工具栏显示\nfunction StsPrs_disable() {\n    JQ_removeClass(StsPrsInfo_ui, _selected_);\n}\n\n// ==================== 状态栏的颜色模式类 ==================== //\n\n/**\n * 构造函数\n */\nfunction StsColorScheme_init() {\n    ToolTips_bind(StsColorScheme_ui, V_lang_text45() + _br_ + V_ui_sub(_, _, V_ui_wrap_kbd(\"D\")));\n\n    StsColorScheme_updateIcons();\n\n    StsColorScheme_ui.uC().ck(() => {\n        if (gOnlyLightMode)\n            return;\n\n        // 根据系统当前的 color scheme，确定不同模式切换的顺序\n        let nextScheme = (ColorScheme_systemScheme === _light_ ? _dark_ : _light_ )\n        // 切换不同模式\n        if (ColorScheme_auto) {\n            ColorScheme_auto = gFalse;\n            ColorScheme_scheme = nextScheme;\n        }\n        else if (ColorScheme_scheme === nextScheme) {\n            ColorScheme_auto = gFalse;\n            ColorScheme_scheme = ColorScheme_systemScheme;\n        }\n        else if (ColorScheme_scheme === ColorScheme_systemScheme) {\n            ColorScheme_auto = gTrue;\n            ColorScheme_scheme = nextScheme;\n        }\n\n        StsColorScheme_updateIcons(gTrue);\n        ColorScheme_refresh();\n    });\n}\n\n/**\n * 更新按钮图标\n * @param showBubble 是否显示泡泡提示\n */\nfunction StsColorScheme_updateIcons(showBubble) {\n    let icon = _icoAutoMode_,\n        info = V_lang_text45() + \" - \",\n        mode;\n\n    // 不是 auto 模式时\n    if (!ColorScheme_auto) {\n        // 切换到匹配的当前模式的图标\n        if (ColorScheme_scheme === _light_) {\n            icon = _icoLightMode_;\n            mode = V_lang_text(91, [\n                \"浅色\",\n                _Light_\n            ]);\n        }\n        else if (ColorScheme_scheme === _dark_) {\n            icon = _icoDarkMode_;\n            mode = V_lang_text(92, [\n                \"深色\",\n                _Dark_\n            ]);\n        }\n        JQ_addClass(StsColorScheme_ui, _selected_);\n    }\n    // 针对 auto 模式\n    else {\n        JQ_removeClass(StsColorScheme_ui, _selected_);\n        mode = V_lang_text(90, [\n            \"跟随系统\",\n            \"Automatically\"\n        ]);\n    }\n\n    // 更新提示\n    ToolTips_bind(StsColorScheme_ui, info + V_ui_strong(mode) + _br_ + V_ui_sub(_, _, V_ui_wrap_kbd(\"D\")));\n    // 工具栏提示没有显示时，则显示泡泡信息\n    showBubble && !ToolTips_isShowed()\n        && iInfoTips.bubble(info + V_ui_strong(mode), 2000, _corner_ + \"3\");\n\n    // 调整模式切换按钮图标\n    StsColorScheme_ui.hm(V_ui_svgIcon(icon, 20, 20, _text_));\n}\n\n// ==================== 状态栏的检查新版本类 ==================== //\n\nlet StsNewVersion_checkOriginCloudFlare = _vlookPagesHost_CloudFlare_, //\"https://vlook-doc.pages.dev\",\n    StsNewVersion_checkUrlCloudFlare = StsNewVersion_checkOriginCloudFlare + \"/act/\" + _chkUpdate_ + \".html?ts=\" + V_getTime(),\n    StsNewVersion_checkOriginGitHub = _madmaxchowHost_GitHub_,\n    StsNewVersion_checkUrlGitHub = StsNewVersion_checkOriginGitHub + \"/VLOOK/act/\" + _chkUpdate_ + \".html?ts=\" + V_getTime();\n/**\n * 构造函数\n */\nfunction NewVersion_init() {\n    ToolTips_bind(StsNewVersion_ui, _VLOOK_ + \"™ \" + V_lang_text(36, [\n        \"- 已推出新版本，请更新！\",\n        \"- A new version has been released, please update!\"\n    ]));\n    StsNewVersion_ui.uC().ck(() => {\n        gWindow.open(_httpsPrefix_ + _githubVlook_ + \"/releases\", \"github-vlook\");\n    });\n}\n\n/**\n * 检查新版本\n */\nfunction NewVersion_check() {\n    let lastCheckTime = V_data_read(_new_version_check_time_, gTrue),\n        latestVer = V_data_read(_new_version_, gTrue);\n    // ！！！不要删除！！！用于测试效果\n    // 用于模拟测试使用\n    // gVer = \"V25.0\";\n    // 在检查周期内时，直接读取本地数据\n    if (lastCheckTime !== gNull\n        && (V_getTime() - JS_parseInt(lastCheckTime)) < (1000 * 3600 * 24 * 7)) { // 检查周期为 7 天 (1000 * 3600 * 24 * 7)\n        // 显示新版本提示\n        latestVer > gVer.ss(1, gVer.length)\n            && NewVersion_yes(latestVer);\n        WARN(\"-> (\" + _local_ +___+ _check_ + \") Lastest \" + _version_, latestVer);\n        return;\n    }\n\n    // ----------\n    // 超出检查周期后才向服务端发起新的检查\n    let frameCloudFlare = document.getElementById(_vlook_chk_update_cloudflare_),\n        frameGitHub = document.getElementById(_vlook_chk_update_github_);\n\n    // 等待窗口打开完成后发送消息\n    frameCloudFlare.onload = function() {\n        LOG(\"-> \" + StsNewVersion_checkOriginCloudFlare);\n        frameCloudFlare.contentWindow.postMessage(gVer, StsNewVersion_checkOriginCloudFlare);\n    }\n    frameGitHub.onload = function() {\n        LOG(\"-> \" + StsNewVersion_checkOriginGitHub);\n        frameGitHub.contentWindow.postMessage(gVer, StsNewVersion_checkOriginGitHub);\n    }\n\n    // 设置检查更新的 src ，触发进行新版本检查\n    frameCloudFlare.src = StsNewVersion_checkUrlCloudFlare;\n    frameGitHub.src = StsNewVersion_checkUrlGitHub;\n\n    // 检查结果的接收通过 window.onmessage 进行处理\n}\n\n/**\n * 显示新版本提示\n */\nfunction NewVersion_yes(latestVer) {\n    StsNewVersion_ui.hm(V_ui_svgIcon(_icoNewVersion_, 20, 20, _text_) + _nbsp_ + \"V\" + latestVer);\n    JQ_addClass(StsNewVersion_ui, _enabled_);\n}\n\n// ==================== 链接检查器类 ==================== //\n\nlet LinkTool_checkHashUI = gUndefined,\n    LinkTool_checkHashMode = gFalse,\n    LinkTool_panelList = gUndefined,\n    LinkTool_panelItems = gUndefined,\n    LinkTool_enabled = gTrue,\n    LinkTool_warningCount = 0,\n    LinkTool_errorAnchorCount = 0,\n    LinkTool_errorAddressCount = 0,\n    LinkTool_headerDupSet = [], // 文本\n    LinkTool_headerDupRegExSet = [], // 正则表达式\n    LinkTool_pageMap = {},\n    LinkTool_textMap = {},\n    LinkTool_mask = gUndefined;\n\n/**\n * 构造函数\n */\nfunction LinkTool_init(mask) {\n    LinkTool_checkHashUI = V_byClass(_v_check_hash_);\n    LinkTool_panelList = V_byClass(_v_link_info_list_); // 坏链主界面\n    LinkTool_panelItems = V_byClass(_v_link_info_list_ + __items_); // 坏链内容列表\n    LinkTool_enabled = gTrue;\n\n    // 读取指定允许重复的章节标题预置选项\n    let headerDup = V_getMetaByName(_vlook__ + \"header-dup\");\n    if (headerDup !== gUndefined) {\n        // 直接使用分号进行分割，是由于导出的标题会自动过滤掉标点符号\n        // 所以一般导出后的 HTML 不会存在标题内容中还含有标点符号的冲突\n        let dups = headerDup.x().sp(\";\");\n        for (let i = 0; i < dups.length; i++) {\n            // 正则表达式\n            dups[i].sW(\"/\") && dups[i].eW(\"/\")\n                ? LinkTool_headerDupRegExSet.push(new RegExp(dups[i].substring(1, dups[i].length - 1)))\n                // 文本\n                : LinkTool_headerDupSet.push(dups[i]);\n        }\n    }\n\n    ToolTips_bind(StsLinkChkResult_ui, V_lang_text81());\n    StsLinkChkResult_ui.uC().ck(() => {\n        V_ui_isHidden(LinkTool_panelList)\n            && LinkTool_show(_checked_);\n    });\n\n    // 遮罩\n    LinkTool_mask = mask;\n    LinkTool_mask.bindPartner(() => {\n        LinkTool_hide()\n    }, LinkTool_panelList);\n\n    // vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv\n    // 滚动事件处理\n    V_ui_bindScrollWithMoreContent(LinkTool_panelItems);\n    // ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n}\n\n/**\n * 将 .md 的链接转换为 .html 链接（或指定后缀）\n */\nfunction LinkTool_mdToHtml() {\n    let xmd = V_getParamVal(_xmd_),\n        newExt = \".html\";\n\n    // 全局配置，禁用转换，则停止\n    if (xmd === _off_)\n        return;\n\n    // 全局配置，指定转换的后缀\n    if (xmd !== gNull)\n        newExt = \".\" + xmd;\n\n    $(\"a\" + V_attrCSS(_href_, \".md\", \"*\")).e((index, element) => {\n        let _t = $(element),\n            href = _t.a(_href_),\n            xmd = V_getUrlQueryParams(href)[_xmd_];\n\n        // 单个链接指定禁用转换，则停止\n        if (xmd === _off_)\n            return gTrue;\n\n        // 单个链接指定转换的后缀\n        xmd !== gUndefined\n            ? _t.a(_href_, href.r(\".md\", \".\" + xmd))\n            : _t.a(_href_, href.r(\".md\", newExt)); // 默认的全局后缀\n    });\n}\n\n/**\n * 添加检查结果条目\n * @param type 类型：warning、error\n * @param targetToJump 目标对象\n * @param content 内容\n */\nfunction LinkTool_addToCheckResult(type, targetToJump, content) {\n    let id = gUndefined;\n    if (type === _warning_) {\n        LinkTool_warningCount++;\n        id = _vk__ + _warning_ + __hash_ + LinkTool_warningCount;\n    }\n    else if (type === _error_ + __hash_) {\n        LinkTool_errorAnchorCount++;\n        id = _vk__ + _error_ + __hash_ + LinkTool_errorAnchorCount;\n    }\n    else if (type === _error_ + __address_) {\n        LinkTool_errorAddressCount++;\n        id = _vk__ + _error_ + __address_ + LinkTool_errorAddressCount;\n    }\n    // 异常涉及的对象无 id 属性时添加，用于后续能跳转至该位置\n    targetToJump.a(_id_) === gUndefined\n        && targetToJump.a(_id_, id);\n\n    let item = $(V_ui_span(_v_toc_item_, V_attr(_data_hash_, targetToJump.a(_id_)), content));\n    V_ui_addAnimate(item);\n    JQ_addClass(item, type);\n\n    // 添加链接异常样式及属性\n    JQ_addClass(V_byID(item.a(_data_hash_)).a(_tabindex_, 99), _v_link_error_);\n    // 添加节点\n    LinkTool_panelItems.ap(item);\n\n    // 刷新状态栏对应的按钮 UI\n    JQ_addClass(StsLinkChkResult_ui, type);\n\n    // V_ui_adjustHoverStyle(item);\n    item.uC().ck(() => {\n        V_ui_tg_currentItem(LinkTool_panelItems, item);\n\n        // 如果没有拖选的文本，则继续\n        V_getSelectedText() === _\n            && (\n                V_gotoHash(item.a(_data_hash_)),\n                LinkTool_hide()\n            );\n    });\n}\n\n/**\n * 检查链接\n * @param hash 锚点\n */\nfunction LinkTool_notFoundHash(hash) {\n    return (!hash.sW(\"#\")\n    // && V_length($(_idWrite_ + \" #\" + hash + \",\"\n        && V_length($(_idWrite_ +___+ V_attrCSS(_id_, hash) + \",\"\n            + _idWrite_ + \" a\" + V_attrCSS(_name_, hash))) === 0);\n}\n\n/**\n * 检查来自 query 参数中的 hash 集合\n */\nfunction LinkTool_checkHashSet() {\n    let count = V_getParamVal(_checkCount_);\n    if (count === gNull)\n        return false;\n\n    // 设置文档图标：检查中\n    let var_iCheck = \"--i-check\";\n    V_ui_changeDocIcon(V_getVarVal(var_iCheck + \"ing\"));\n\n    count = JS_parseInt(count);\n\n    // 检查当前文档中是否有指定的 hash 集\n    let hash = _,\n        info = V_lang_text67() +___,\n        notFoundCount = 0;\n    for (let i = 1; i <= count; i++) {\n        hash = V_getParamVal(_hash_ + i);\n        // 没有找到\n        hash !== gNull && LinkTool_notFoundHash(hash)\n            && (\n                notFoundCount++,\n                LinkTool_checkHashUI.ap(V_ui_div(_, _item_,\n                    V_ui_label(_, _, info + notFoundCount + \" #\") + hash))\n            );\n    }\n\n    // 所有 hash 都能在当前文档中找到\n    let btn;\n    if (notFoundCount === 0) {\n        // 设置文档图标：检查通过\n        V_ui_changeDocIcon(V_getVarVal(var_iCheck + \"-passed\"));\n\n        JQ_addClass(LinkTool_checkHashUI, _all_found_)\n        LinkTool_checkHashUI.ap(V_ui_div(_, _all_found_, V_lang_text(47, [\n            \"检查通过\",\n            \"Hash check passed\"\n            ])));\n        // 关闭标签页\n        btn = $(V_ui_div(_, _v_check_hash_ + \"-re\" + _check_, V_lang_text17()));\n    }\n    // 部分 hash 不存在\n    else {\n        // 设置文档图标：检查不通过\n        V_ui_changeDocIcon(V_getVarVal(var_iCheck + \"-failed\"));\n\n        JQ_addClass(LinkTool_checkHashUI, \"not-\" + _found_)\n        // 重新检查\n        btn = $(V_ui_div(_, _v_check_hash_ + \"-re\" + _check_, V_lang_text(49, [\n            \"已修订，重新检查\",\n            \"Hash check failed\"\n            ])));\n    }\n\n    // 添加操作按钮（根据以上不同检查结果生成）\n    LinkTool_checkHashUI.ap(btn);\n    // V_ui_adjustHoverStyle(btn);\n    btn.uC().ck(() => {\n        gWindow.close();\n    });\n\n    // 关闭检查结果 UI\n    btn = $(V_ui_div(_, _v_check_hash_ + \"-\" + _close_, V_lang_text(23, [\n        _startReading_cn_,\n        _startReading_en_\n        ])));\n    LinkTool_checkHashUI.ap(btn);\n    // V_ui_adjustHoverStyle(btn);\n    btn.uC().ck(() => {\n        LinkTool_checkHashUI.hide();\n    });\n\n    return true;\n}\n\n/**\n * 检查链接\n */\nfunction LinkTool_checkLink() {\n    if (!LinkTool_enabled)\n        return;\n\n    // --------------------\n    // 标题内容检查\n    let headerTextSet = [],\n        xRefSet = [];\n    $(_idWrite_ + \" :is(\" + _h1_6_ + V_not(__first_child_) + \"),\" // h1-h6\n        + _idWrite_ +___+ _blockquote_ + ExtQuote_subTitle + \",\" // 引用块小标题\n        + _idWrite_ +___+ _summary_).e((index, element) => { // 引用块折叠\n        let _t = $(element),\n            text = _t.t().x();\n\n        // 跳过无效的标题\n        if (V_ui_isHidden(_t))\n            return;\n\n        // 是否有重复标题\n        if (headerTextSet.indexOf(text) === -1)\n            headerTextSet.push(text);\n        // 重复标题的处理\n        else if (LinkTool_headerDupSet.indexOf(text) === -1 // 文本匹配\n            && !__matchForHeaderDupReSet(text)) // 正则表达式匹配\n                __addDuplicateChapter(_t, text);\n\n        // --------------------\n        // 标题转换为 id 的检查并修正：去掉 id 中的标点符号（不符合锚点相关规范）\n        let id = _t.a(_id_);\n        if (id !== gUndefined) {\n            let newId = LinkTool_transSpecHash(id);\n            if (V_length(newId) < V_length(_t.a(_id_)) || newId !== id) {\n                // 更新为规范的 id\n                _t.a(_id_, newId);\n                WARN(\"Fixed \" + _header_ + \" id '\" + _t.t() + \"' id:\\n#\" + id + \" --> #\" + newId);\n            }\n        }\n    });\n\n    // 题注交叉引用源 id 检查\n    V_byClass(_v_cap_cntr_ + V_attrCSS(_id_)).e((index, element) => {\n        let _t = $(element),\n            text = _t.a(_data_cap_for_id_), //_t.a(_id_),\n            cap = _t.f(_figcaption_ + \">\" + _span_).t().x();\n\n        // 记录交叉引用源数据\n        V_length(cap) > 0\n            && xRefSet.push([_t.a(_id_), cap]);\n\n        // 是否有重复标题\n        if (headerTextSet.indexOf(text) === -1)\n            headerTextSet.push(text);\n        // 重复标题的处理\n        else if (LinkTool_headerDupSet.indexOf(text) === -1 // 文本匹配\n            && !__matchForHeaderDupReSet(text)) // 正则表达式匹配\n                __addDuplicateChapter(_t, text);\n    });\n\n    // 检查所有页内链接对应的锚点是否都存在\n    $(_idWrite_ + \" a, .\" + _md_toc_item_ + \">a\").e((index, element) => {\n        let _t = $(element),\n            text = _t.t().x(),\n            title = _t.a(_title_),\n            href = _t.a(_href_),\n            page = V_getUrlWithoutHash(href),\n            hash = V_getUrlHash(href),\n            hashNoMark = _;\n\n        // 获取指定对象的所有子元素（及其子元素）的文本内容\n        let joinedText = V_joinNodesText(_t, \" • \");\n        if (V_length(joinedText) > 0)\n            text = joinedText;\n\n        // 忽略无效数据\n        // 对于 href=\"#\" 的情况，在 Typora 1.6.x 开始的版本需要考虑，因为 Typora 生成的 HTML 会自动过滤无效的页内链接，直接用 # 代替\n        if (href === gUndefined)\n            return gTrue;\n\n        // --------------------\n        // 链接内容检查并修正：去掉锚点中的标点符号（不符合锚点相关规范）\n        if (hash !== gUndefined && !href.sW(_mjx__)) {\n            hashNoMark = hash.ss(1, V_length(hash));\n            if (V_length(hashNoMark) > 0) {\n                let newHash = LinkTool_transSpecHash(hashNoMark);\n                if (V_length(newHash) < V_length(hashNoMark) || newHash !== hashNoMark) {\n                    // 更新为规范的 hash\n                    hash = \"#\" + newHash;\n                    // 更新并重新获取 href 的值\n                    _t.a(_href_, V_getUrlWithoutHash(href) + hash);\n                    href = _t.a(_href_);\n\n                    WARN(\"Fixed link [\" + _t.t() + \"](#\" + hashNoMark + \") hash:\\n#\" + hashNoMark + \" --> \" + href);\n                }\n            }\n        }\n\n        // --------------------\n        // 页内链接\n        // 以 #mjx- 开始的链接为行间公式的页内引用块，会导致 jQuery 的正则表达式解析错误，须跳过\n        if (href === \"#\")\n            __addErrorHash(_t, hash);\n        // 检索是否存在与该内链对应的锚点\n        else if (href.sW(\"#\") && !href.sW(_mjx__)) {\n            let anchor = href.ss(1, V_length(href));\n            // 没有检索到对应的锚点\n            LinkTool_notFoundHash(anchor)\n                && __addErrorHash(_t, href);\n\n            // --------------------\n            // 如果为交叉引用，添加指定标识\n            let classValue = _t.p().a(_class_);\n            // 跳过 .md-toc-item 内的 a 链接\n            if (classValue === gUndefined || classValue.i(_md_toc_item_) === -1) {\n                for (let i = 0; i < V_length(xRefSet); i++) {\n                    if (xRefSet[i][0] === anchor) {\n                        _t.a(_data_x_ref_, xRefSet[i][1]);\n                        break;\n                    }\n                }\n            }\n        }\n\n        // --------------------\n        // 将外部链接添加到链接地图中\n        // 在链接内容检查前执行，目的是获得原始的 hash 信息便于出错时查找修正\n        if (V_length(page) > 0 && !page.sW(\"?\")\n            && page.i(_docLibIdentifier_) === -1\n            && !page.sW(\"mailto:\")) {\n            if (title !== gUndefined)\n                title = title.x();\n            if (V_isLength0(text) && V_length(title) > 0)\n                text = title;\n            LinkTool_addToMap(text, page, hashNoMark);\n        }\n    });\n\n    // --------------------\n    // 生成链接地图\n    __genLinkMap();\n\n    // 对无锚点的站内链接、外部链接进行分类排序\n    V_sortByAttr(LinkTool_panelItems,\n        LinkTool_panelItems.f(\".\" + _v_map_item_ + \":is(.a,.b)\"), _class_, gTrue);\n\n    // 以正则表达式进行重复标题检查\n    function __matchForHeaderDupReSet(text) {\n        for (let i = 0; i < LinkTool_headerDupRegExSet.length; i++) {\n            if (text.m(LinkTool_headerDupRegExSet[i]) !== gNull)\n                return gTrue;\n        }\n        return gFalse;\n    }\n\n    // 生成链接地图\n    function __genLinkMap() {\n        let pageIndex = 0;\n        for (let page in LinkTool_pageMap) {\n            pageIndex++;\n\n            // 生成外部页面需要被检查的 hash 对应的 query 参数\n            let urlParams = new URLSearchParams(),\n                hashIndex = 0;\n            urlParams.append(_checkHash_, 0); // 初始检查 hash 的标记\n            for (let i = 0; i < V_length(LinkTool_pageMap[page]); i++) {\n                let h = LinkTool_pageMap[page][i];\n                V_length(h) > 0\n                    && (\n                        hashIndex++,\n                        urlParams.append(_hash_ + hashIndex, LinkTool_transSpecHash(h))\n                    );\n            }\n\n            // 生成外部页面的目标链接，用于检查对应 hash 是否存在\n            urlParams.size > 1\n                ? (\n                    urlParams.append(_checkCount_, hashIndex),\n                    urlParams.set(_checkHash_, 1), // 更新检查 hash 的标记\n                    urlParams.append(\"ws\", 0),\n                    __addLinkMapItem(LinkTool_textMap[page][0], pageIndex, page, urlParams, hashIndex)\n                )\n                : __addLinkMapItem(LinkTool_textMap[page][0], pageIndex, page, _, 0);\n        }\n    }\n\n    // 添加一条链接地图记录\n    function __addLinkMapItem(text, pageIndex, page, urlParams, hashCount) {\n        // 生成直达各锚点的入口\n        let linkToHashSet = _,\n            cc = 0;\n        for (let [key, value] of urlParams) {\n            if (key.sW(_hash_)) {\n                let h = \"#\" + value;\n                linkToHashSet += (++cc > 1 ? _nbsp_+_nbsp_ : _) + V_ui_a(key, page + h, h, page);\n            }\n        }\n\n        let // 超出长度上限时显示的内容\n            overLimit = V_ui_label(_, _, hashCount + V_lang_text(50, [\n                \"超出 URL 最大长度\",\n                \"Maximum URL length exceeded\"\n            ])),\n            // 未超出长度上限，且有锚点时，则生成检查入口\n            hashSet = JS_toString(urlParams),\n            hashSetLen = V_length(hashSet),\n            extLink = (page.i(\"://\") > -1),\n            checkHash = (hashSetLen > 0 ?\n                V_ui_label(_, _, V_ui_strong(hashCount) +___+ V_lang_text(51, [\"个锚点\", \"Hash\"])\n                    + V_ui_a(_, page + (page.i(\"?\") > -1 ? \"&\" : \"?\") + hashSet,\n                            V_ui_svgIcon(_icoCheck_, 12, 14, _theme_) +___+ V_lang_text(52, [\"检查锚点\", \"Check Hash\"]),\n                    __blank_))\n                : _),\n\n            // 生成最终的条目内容\n            item = $(V_ui_div(_v_map_item_ + pageIndex,\n                    // 以下 a, b 是用于对无锚点的站内链接、外部链接进行分类排序\n                    _v_map_item_ +___+ (!extLink && hashCount === 0 ? \"a\" : extLink ? \"b\" : _),\n                    V_ui_div(_, _,\n                        (!extLink\n                            ? V_ui_svgIcon(_icoDocLibBm_, 20, 18, _alpha_) // 站内链接图标\n                            : V_ui_svgIcon(_icoDocLibExt_, 20, 20, _alpha_) // 站外链接图标\n                        ) + _nbsp_\n                        // 页面或链接的直达链接\n                        + V_ui_a(_, page,\n                            // 页面或链接入口\n                            (V_length(text) > 0\n                                ? (V_length(linkToHashSet) > 0\n                                    ? V_lang_text82() : text)\n                                : V_lang_text(83, [\"链接\", \"Link\"])), page)\n                        // 检查锚点的链接\n                        + (V_length(page) + hashSetLen > 8000\n                                ? overLimit\n                                : checkHash)\n                    )\n                    // 页面或链接内容\n                    + (V_length(linkToHashSet) > 0 ? _br_ : _)\n                    + V_ui_span(_, _, JS_decodeURIComponent(page))\n                    // 直达锚点的链接\n                    + linkToHashSet\n                ));\n\n        V_ui_addAnimate(item);\n        // V_ui_adjustHoverStyle(item);\n\n        item.f(\"a\").uC().ck(() => {\n            V_ui_tg_currentItem(LinkTool_panelItems, item);\n        });\n\n        // 有锚点的添加到前面\n        hashCount > 0\n            ? LinkTool_panelItems.pp(item)\n            // 无锚点的添加到后面\n            : LinkTool_panelItems.ap(item);\n    }\n\n    // 添加一条警示记录：重复名称章节标题\n    function __addDuplicateChapter(aObj, text) {\n        LinkTool_addToCheckResult(_warning_, aObj,\n            V_ui_label(_, _, V_lang_text53()) + text);\n    }\n\n    // 添加一条错误记录：无效的页内链接记录\n    function __addErrorHash(aObj, hash) {\n        LinkTool_addToCheckResult(_error_ + __hash_, aObj,\n            V_ui_label(_, _, V_lang_text54()) + aObj.t()\n                + \" (\" + hash + \")\");\n    }\n}\n\n/**\n * 转换为规范的 hash 内容\n * @param hash 要处理的 hash\n */\nfunction LinkTool_transSpecHash(hash) {\n    // 将空格转换为连字符\n    hash = hash.r(/\\s/g, \"-\").l();\n    hash = hash.r(/^~~(.+)~~$/g, \"$1\");\n    // 对标点符号进行转换处理\n    return hash.r(/\\p{P}|\\+/gu, (p) => {\n        if (p === \"-\") return \"-\";\n        else if (p === \"–\") return \"--\";\n        else if (p === \"—\") return \"---\";\n        return _;\n      });\n}\n\n/**\n * 添加到链接地图\n * @param text 链接文本\n * @param page 页面地址（不含 hash）\n * @param hashNoMark 页面 hash（不含 #）\n */\nfunction LinkTool_addToMap(text, page, hashNoMark) {\n    // 如果键不存在，创建一个空数组用于保存内容\n    !(page in LinkTool_pageMap)\n        && (\n            LinkTool_pageMap[page] = [],\n            LinkTool_textMap[page] = [],\n            LinkTool_textMap[page].push(text)\n        );\n\n    // 向对应键的数组中添加内容，重复的 hash 不添加\n    LinkTool_pageMap[page].indexOf(hashNoMark) === -1\n        && LinkTool_pageMap[page].push(hashNoMark);\n}\n\n/**\n * 是否已显示\n * @returns boolean\n */\nfunction LinkTool_isShowed() {\n    return LinkTool_panelList.c(_display_) !== _none_;\n}\n\n/**\n * 显示链接面板\n * @param type 显示的内容，checked: 链接检查结果；map: 链接地图\n */\nfunction LinkTool_show(type) {\n    // 获取不同条目的对象\n    let tocItems = LinkTool_panelList.f(\".\" + _v_toc_item_ + V_not(V_attrCSS(_data_history_))),\n        mapItems = LinkTool_panelList.f(\".\" + _v_map_item_),\n        historyItems = LinkTool_panelList.f(\".\" + _v_toc_item_ + V_attrCSS(_data_history_));\n\n    let curType = LinkTool_panelList.a(_data_content_type_);\n    LinkTool_panelList.a(_data_content_type_, type);\n\n    // 当前显示的不是指定的内容类型才进行处理\n    // 已知问题：如果打开后才被添加的条目，不切换不同的类型时不会刷新显示\n    if (curType === gUndefined || curType !== type) {\n        // 显示当前页面页内链接的检查结果\n        if (type === _checked_) {\n            LinkTool_panelList.a(_data_title_, V_lang_text81());\n            mapItems.hide();\n            historyItems.hide();\n            LinkTool_updateDataNoMore(tocItems);\n            tocItems.show();\n        }\n        // 显示链接地图\n        else if (type === _map_) {\n            LinkTool_panelList.a(_data_title_, V_lang_text3());\n            tocItems.hide();\n            historyItems.hide();\n            LinkTool_updateDataNoMore(mapItems);\n            mapItems.show();\n        }\n        // 显示导航历史\n        else if (type === _history_) {\n            LinkTool_panelList.a(_data_title_, V_lang_text65());\n            tocItems.hide();\n            mapItems.hide();\n            LinkTool_updateDataNoMore(historyItems);\n            historyItems.show();\n        }\n    }\n\n    // 显示面板\n    LinkTool_panelList.show();\n    LinkTool_mask.show();\n    // 强制触发一次滚动事件处理，以生成需要的样式\n    V_ui_scrollingUpdate(LinkTool_panelItems);\n}\n\n/**\n * 更新面板条目提示信息\n * @param items 条目集\n */\nfunction LinkTool_updateDataNoMore(items) {\n    V_ui_set_dataNoMore(LinkTool_panelItems, items);\n}\n\n/**\n * 隐藏坏链列表\n */\nfunction LinkTool_hide() {\n    LinkTool_panelList.hide()\n    LinkTool_mask.hide();\n\n    V_doc_scroll_unfreeze();\n}\n\n/**\n * 处理热键操作\n * @param key 非功能键键\n * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n * @param event 事件对象\n */\nfunction LinkTool_disposeHotkey(key, combKeys, event) {\n    if (V_ui_isHidden(LinkTool_panelList))\n        return;\n\n    if (V_noCombKeys(combKeys) && V_isEscape(key))\n        LinkTool_isShowed() && (\n            LinkTool_hide(),\n            // 如果事件已处理，则禁止双重操作\n            V_preventDefault(event)\n        );\n}\n\n// ==================== 背景遮罩类 ==================== //\n\n/**\n * 构造函数\n * @param id 标识\n * @param align 扩展样式：left / right / bottom / center\n * @param close 是否显示关闭提示器\n */\nfunction BgMask(id, align, close) {\n    let T = this;\n    V_length(T, 1);\n    T.style = align;\n\n    VOM_doc().af(V_ui_div(_, _v_mask_ +___+ (align !== gUndefined ? align +___ : _) + id +___+ _v_backdrop_blurs_,\n        V_ui_copyrightInfo()));\n\n    // 根据动效等级初始化遮罩样式\n    // V_ui_initEffectLevel();\n\n    T.ui = V_byClass(_v_mask_ + \".\" + id);\n    T.closer = gUndefined;\n\n    // 生成关闭提示器\n    if (close !== gNull && close) {\n        T.ui.ap(V_ui_div(_, _v_mask_close_ +___+ T.style,\n            V_ui_svgIcon(_icoMaskCloser_, 14, 60, _btnFc_)));\n        T.closer = T.ui.ch(\".\" + _v_mask_close_);\n    }\n\n    T.prt = gUndefined;\n    T.prtUI = gUndefined;\n\n    /**\n     * 绑定联动对象\n     * @param partner 联动对象\n     * @param ui 联动对象的 UI\n     */\n    T.bindPartner = function (partner, ui) {\n        T.prt = partner;\n        T.prtUI = ui;\n    }\n\n    /**\n     * 显示遮罩\n     */\n    T.show = function(scrollingFreez = gTrue) {\n        // 冻结滚动\n        scrollingFreez\n            && V_doc_scroll_freeze();\n        V_doc_block = gTrue;\n\n        // 总是在 target 下显示\n        T.ui.c(_z_index_, T.prtUI.c(_z_index_) - 1);\n\n        // 对「关闭」提示器的处理\n        if (T.closer !== gUndefined) {\n            // 默认是 style = left 的位置\n            let offset = 30,\n                x = JS_parseInt(T.prtUI.c(_left_)) + T.prtUI.w() + offset,\n                y = JS_parseInt(T.prtUI.c(_top_)) + (T.prtUI.h() - T.closer.h()) / 2;\n            // 对齐方式 left / right 的处理\n            if (T.style === _left_ || T.style === _right_)\n                T.closer.c(_left_, T.style === _right_\n                        ? JS_parseInt(T.prtUI.c(_left_)) - T.closer.w() - offset\n                        : x);\n            // 对齐方式 bottom 的处理\n            else if (T.style === _bottom_) {\n                y = JS_parseInt(T.prtUI.c(_bottom_)) + T.prtUI.h() + offset;\n                T.closer.c(_bottom_, y + 20);\n            }\n        }\n\n        // 绑定 VLOOK logo 的点击事件\n        T.ui.f(\".\" + _v_copyright_ + \" .\" + _v_copyright_svg_ico_).uC().ck((event) => {\n            env.show(V_eventCurrentTarget(event));\n        });\n\n        // 点击遮罩隐藏联动对象\n        T.ui.uC().ck((event) => {\n            if (event.target.tagName === \"A\")\n                return;\n\n            // 取消冻结滚动\n            V_doc_scroll_unfreeze();\n            // 隐藏联动对应\n            typeof(T.prt) === _function_\n                 ? T.prt()\n                : T.prt.hide();\n\n            T.hide();\n        });\n\n        T.ui.show();\n    }\n\n    /**\n     * 隐藏遮罩\n     */\n    T.hide = function() {\n        // 取消冻结滚动\n        V_doc_scroll_unfreeze();\n        V_doc_block = gFalse;\n\n        T.ui.hide();\n    }\n}\n\n// ==================== 长内容折叠类 ==================== //\n\nlet ContentFolder_enabled = gTrue,\n    ContentFolder_enabled_table = gTrue,\n    ContentFolder_enabled_figure = gTrue,\n    ContentFolder_enabled_codeblock = gTrue,\n    ContentFolder_limit = V_devMode ? 300 : 640, // 内容须折叠的高度限值\n    ContentFolder_contents = [], // 须进行折叠判断和处理的内容集\n    ContentFolder_buildTimers = [],\n    ContentFolder_rowNumFilter = _table_ +___+ _tbody_ + \" tr\";\n\nfunction ContentFolder_init() {\n    if (!ContentFolder_enabled)\n        return;\n    // 更新 CSS 对应高度限制变量\n    V_setVarVal(\"--v-ex-limit\", ContentFolder_limit + \"px\");\n}\n\n/**\n * 添加内容\n */\nfunction ContentFolder_add(content, type) {\n    // 跳过不启用折叠，或任意父级元素是引用块折叠的情况\n    if (!ContentFolder_enabled\n        || V_length(content.ps(_blockquote_ + \",\" + _details_)) > 0) {\n        return;\n    }\n\n    if (type === _table_ && ContentFolder_enabled_table === gFalse)\n        return;\n    if (type === _figure_ && ContentFolder_enabled_figure === gFalse)\n        return;\n    if (type === _codeblock_ && ContentFolder_enabled_codeblock === gFalse)\n        return;\n\n    ContentFolder_contents.push(content);\n}\n\n/**\n * 适配内容展开操作区\n */\nlet ContentFolder_adjust = V_debounce(() => { // 以防抖方式执行\n    if (!ContentFolder_enabled)\n        return;\n\n    // 提前中断未完成的处理\n    if (V_length(ContentFolder_buildTimers) > 0)\n        for (let i = 0, len = V_length(ContentFolder_buildTimers); i < len; i++)\n            V_clearTimer(ContentFolder_buildTimers.shift());\n\n    // 重新开始构建内容展开操作区\n    ContentFolder_rebuild();\n}, 1000);\n\n/**\n * 重建部分内容展开操作区，主要是 img, table, .md-fences 等会因导航中心的显示/关闭\n * 导致文档宽度变化而引起的内容高度也跟随变化的情况\n * 如在不显示导航中心时因宽度较变，高度等比变高，或高度反而变短\n * 会导致应该显示展开操作区即不显示，或不应显示却显示的情况\n */\nfunction ContentFolder_rebuild() {\n    if (!ContentFolder_enabled)\n        return;\n\n    // 遍历每个规则\n    let rules = gStyle.cssRules || gStyle.rules;\n    for (let j = V_length(rules) - 1; j >= 0; j--) {\n        // 检查是否是要删除的规则\n        let ruleText = rules[j].selectorText;\n        ruleText !== gUndefined && ruleText.i(\".\" + _v_cap_cntr_ + \".\" + _expander_ + \".id-\") > -1\n            && gStyle.deleteRule(j);\n    }\n\n    // 重建需要重建的部分\n    for (let i = 0, len = V_length(ContentFolder_contents); i < len; i++) {\n        // 对类 img 长内容\n        if (V_tagName(ContentFolder_contents[i]).sW(\"i\")) {\n            // 创建一个Image对象，实现图片的预下载\n            let img = new Image();\n            // 获得图片实际加载的 src（针对 img 指定 srcset, darksrc, darksrcset 的情况）\n            img.src = ContentFolder_contents[i].get(0).currentSrc;\n            // 如果图片已经存在于浏览器缓存，直接处理\n            if (img.complete)\n                ContentFolder_buildTimers.push(\n                    V_later(() => {\n                        ContentFolder_checkAndProcess(ContentFolder_contents[i], gTrue, i);\n                    }, 100)\n                );\n            // 等待图片下载完成后再处理\n            else\n                img.onload = function() {\n                    ContentFolder_checkAndProcess(ContentFolder_contents[i], gTrue, i);\n                }\n        }\n        // 非 img 类长内容\n        else {\n            // 设置按不同时间间隔执行，减少在处理数量过多时，会阻塞 UI\n            ContentFolder_buildTimers.push(\n                V_later(() => {\n                    ContentFolder_checkAndProcess(ContentFolder_contents[i], gTrue, i);\n                }, 100)\n            );\n        }\n    }\n}\n\n/**\n * 检测内容是否过长，过长则进行处理。适用于「插图、表格、代码块」等\n * @param target 折叠的目标对象\n * @param rebuild 本次折叠是否属于重建的（如在页面加载后，由于页面正文区宽度变化后调用时属于重建）\n * @param i 折叠内容序号\n */\nfunction ContentFolder_checkAndProcess(target, rebuild, i) {\n    if (!ContentFolder_enabled)\n        return;\n\n    let container = target.p(),\n        tagName = V_tagName(target),\n        isImg = tagName.sW(\"i\");\n\n    // 重建时已生成题注，所以实际容器对象与初始化时第一次构建会不同\n    if (rebuild)\n        container = container.p();\n\n    // 已被点击展开过了，在重建时则跳过\n    let expanded = container.a(_data_content_expanded_);\n    if (expanded === _true_) {\n        ContentFolder_buildTimers.shift();\n        return;\n    }\n\n    // 针对 img 内容，进行父容器的正确性处理\n    if (isImg) {\n        // 图像若加载晚于 img 的题注生成，其父容器则题注而不是 VLOOK 标识的 img 父容器\n        if (container.a(_data_cntr_) === gUndefined)\n            container = container.p();\n    }\n\n    // 初始化折叠配置\n    container.a(_data_content_folded_, _false_); // 未折叠\n    container.a(_data_content_expanded_, _false_); // 已被点击扩展了\n    container.c(_height_, _auto_);\n    // 针对 Mermaid 图表，不添加会导致出现滚动条\n    tagName.sW(\"s\")\n        && container.c(_padding_bottom_, \"10px\");\n\n    // 高度超出折叠要求高度时进行折叠\n    target.oH() > ContentFolder_limit\n        // 构建内容展开操作区\n        && ContentFolder_buildContentExpander(target, container, tagName, i);\n\n    ContentFolder_buildTimers.shift();\n}\n\n/**\n * 构建内容展开操作区\n * @param target 为目标对象创建展开操作区（如 table）\n * @param container 指定对象所属的容器（如 table 的容器为父元素 figure）\n * @param tagName target 的 HTML 标签名\n * @param i 折叠内容序号\n */\nfunction ContentFolder_buildContentExpander(target, container, tagName, i) {\n    if (!ContentFolder_enabled)\n        return;\n\n    // 设置为已折叠\n    container.a(_data_content_folded_, _true_);\n\n    // 表格 <table>、Mermaid <svg> 图表的特性处理\n    (tagName.sW(\"t\") || tagName.sW(\"s\"))\n        ? container.c(_height_, ContentFolder_limit)\n            .c(_overflow_x_, _auto_) // 可横向滚动\n            .c(_overflow_y_, _hidden_)\n        // 非表格，非 Mermaid 图表的处理\n        : container.c(_height_, ContentFolder_limit)\n            .c(_overflow_y_, _hidden_);\n\n    let w = JS_mathCeil(JS_parseFloat(container.c(_width_)));\n\n    // 如果处理对象为表格，先隐藏表格行号，find 过滤器的内容与对应的 css 要同步更新\n    V_length(container.f(_table_)) > 0\n        && JQ_addClass(container.f(ContentFolder_rowNumFilter), _v_tbl_row_num_hidden_);\n\n    // 重新适配展开操作区尺寸\n    let tW = JS_mathCeil(JS_parseFloat(target.c(_width_)));\n    if (w > tW)\n        w = tW;\n\n    container.a(_data_ex_label_, V_lang_text(55, [\n        \"显示全部\",\n        \"Show all\"\n    ]) + \" ▼\");\n    let newClass = \".\" + _v_cap_cntr_ + \".\" + _expander_\n        + \".id-\" + i + \"::before{\" + _width_ + \":\" + w + \"px;}\";\n    gStyle.insertRule(newClass, 0);\n    JQ_addClass(container, _expander_ + \" id-\" + i);\n\n    container.a(_data_content_type_, tagName);\n\n    // 展开按钮 click 事件处理\n    container.on(_mouseUp_, () => {\n        ContentFolder_expand(container);\n    });\n}\n\n/**\n * 展开被折叠的内容\n * @param container 点击的按钮所在父元素\n */\nfunction ContentFolder_expand(container) {\n    if (!ContentFolder_enabled)\n        return;\n\n    let tagName = container.a(_data_content_type_);\n\n    // 移除内容展开操作区\n    JQ_removeClass(container, _expander_);\n\n    // 展开对应的内容\n    container.a(_data_content_folded_, _false_);\n    container.a(_data_content_expanded_, _true_);\n    container.c(_height_, _auto_);\n    // 针对表格 <table>、Mermaid <svg> 图表增加滚动属性\n    (tagName.sW(\"t\") || tagName.sW(\"s\"))\n        ? container.c(_overflow_, _auto_)\n        // 非表格、非 Mermaid 图表的处理\n        : container.c(_overflow_y_, \"initial\");\n\n    // 如果处理对象为表格，恢复显示表格行号，find 过滤器的的内容与对应的 css 要同步更新\n    V_length(container.f(_table_)) > 0\n        && JQ_removeClass(container.f(ContentFolder_rowNumFilter), _v_tbl_row_num_hidden_);\n}\n\n// ==================== 工具提示信息类 ==================== //\n\nlet ToolTips_ui = gUndefined,\n    ToolTips_continueShow = gFalse, // 是否激活持续显示\n    ToolTips_lastStyle = gUndefined,\n    ToolTips_aniTimer = gNull,\n    ToolTips_continueTimer = gNull,\n    ToolTips_delay = 1000;\n\n/**\n * 构造函数\n */\nfunction ToolTips_init() {\n    ToolTips_ui = V_byClass(_v_tool_tips_);\n\n    V_ui_addAnimate(ToolTips_ui, _opacity_);\n}\n\n/**\n * 绑定操作相关事件\n * @param target 对象\n * @param tips 提示内容\n * @param align 对齐方式，auto/center/right\n */\nfunction ToolTips_bind(target, tips, align) {\n    tips !== gUndefined && V_length(tips.x()) > 0\n        && target.a(_data_tips_, tips);\n\n    if (align === gUndefined)\n        align = _auto_;\n\n    // V_ui_bindHover(target);\n\n    target.on(_mouseEnter_, () => {\n        ToolTips_show(target, align);\n    }).on(_mouseLeave_, () => {\n        ToolTips_hide();\n    });\n}\n\n/**\n * 显示工具提示信息\n *\n * @param follower 提示的目标元素\n * @param align 强制指定工具提示的水平对齐方式（auto/left/center/right）\n * @param classValue 指定微调的样式\n */\nfunction ToolTips_show(follower, align, classValue) {\n    if (V_isMobile())\n        return;\n\n    ToolTips_ui.hm(follower.a(_data_tips_));\n\n    // 强制取消最后一次延时显示的处理\n    ToolTips_aniTimer = V_clearTimer(ToolTips_aniTimer);\n    // 强制取消隐藏后指定时间内取消持续显示的处理\n    ToolTips_continueTimer = V_clearTimer(ToolTips_continueTimer);\n\n    ToolTips_lastStyle = classValue;\n\n    const space = 10,\n        tipsW = ToolTips_ui.iW(),\n        tipsH = ToolTips_ui.iH(),\n        ww = jq_Window.w() - space,\n        wh = jq_Window.h() - space;\n    let left = follower.oL(),\n        top = follower.oT() - V_ui_getScrollTop(),\n        width = follower.iW(),\n        height = follower.iH();\n\n    JQ_removeClass(ToolTips_ui, _top_ +___+ _bottom_ +___+ _center_ +___+ _right_);\n\n    // 指定对齐方式或提示超出屏幕\n    if (align !== _auto_ || (left + tipsW) > ww) {\n        // 对齐方式: right\n        JQ_addClass(ToolTips_ui, _right_);\n        left = follower.oL() - tipsW + width;\n        // 右侧顶边，则微调\n        if (left + tipsW >= ww)\n            left = left - space;\n\n        // 对齐方式: center\n        if (align === _center_) {\n            JQ_removeClass(ToolTips_ui, _right_);\n            JQ_addClass(ToolTips_ui, _center_);\n            left = follower.oL() + (width - tipsW) / 2;\n        }\n    }\n    // 左侧顶边，则微调\n    if (left <= 0)\n        left = space;\n\n    ToolTips_lastStyle !== gUndefined\n        && JQ_addClass(ToolTips_ui, ToolTips_lastStyle);\n\n    if (top + height + tipsH + space < wh) {\n        JQ_addClass(ToolTips_ui, _top_);\n        top = top + height + space;\n    }\n    else {\n        JQ_addClass(ToolTips_ui, _bottom_);\n        top = top - tipsH - space;\n    }\n    ToolTips_ui.c(_left_, left).c(_top_, top);\n\n    // 延时，或立即显示提示\n    let waitTime = (ToolTips_continueShow) ? 0 : ToolTips_delay;\n    ToolTips_aniTimer = V_later(() => {\n        ToolTips_continueShow = gTrue; // 一旦显示后，激活持续显示\n        V_ui_fadeShow(ToolTips_ui);\n\n    }, waitTime);\n}\n\n/**\n * 工具提示当前是否显示\n */\nfunction ToolTips_isShowed() {\n    return ToolTips_ui.c(_visibility_) === _visible_;\n}\n\n/**\n * 隐藏工具提示\n */\nfunction ToolTips_hide() {\n    // 隐藏后在指定时间内取消持续显示\n    ToolTips_continueTimer = V_clearTimer(ToolTips_continueTimer);\n    ToolTips_continueTimer = V_later(() => {\n        ToolTips_continueShow = gFalse;\n    }, ToolTips_delay);\n\n    // 强制取消最后一次延时显示的处理\n    ToolTips_aniTimer = V_clearTimer(ToolTips_aniTimer);\n    V_ui_fadeHide(ToolTips_ui);\n\n    ToolTips_lastStyle !== gUndefined\n        && JQ_removeClass(ToolTips_ui, ToolTips_lastStyle);\n}\n\n// ==================== 弹层提示信息类 ==================== //\n\n/**\n * 构造函数\n * @param mask 遮罩对象\n */\nfunction InfoTips(mask) {\n    let T = this;\n    V_length(T, 1);\n    T.ui = V_byClass(_v_info_tips_);\n    T.aniTimer = gNull;\n\n    // 绑定点击事件\n    T.ui.uC().ck = function() {\n        T.hide();\n    }\n\n    // 遮罩\n    T.mask = mask;\n    T.mask.bindPartner(this, T.ui);\n\n    /**\n     * 显示通知信息\n     * @param message 提示内容\n     * @param delay 延时指定 ms 时间后自动关闭提示\n     * @param mask 是否显示遮罩\n     * @param target 事件源，不为空时则跟随显示\n     */\n    T.inform = function (message, delay, mask, target) {\n        T.show(message, delay, mask, \"inform\", target);\n    }\n\n    /**\n     * 显示泡泡信息\n     * @param message 提示内容\n     * @param delay 延时指定 ms 时间后自动关闭提示\n     * @param pos 显示位置。如果为事件源对象，则表示跟随其位置；如果为 corner3 ，则表示对应的角落；为空时则表示默认居中\n     */\n    T.bubble = function (message, delay, pos) {\n        T.show(message, delay, gFalse, _bubble_, pos);\n    }\n\n    /**\n     * 显示错误信息\n     * @param message 提示内容\n     * @param delay 延时指定 ms 时间后自动关闭提示\n     * @param mask 是否显示遮罩\n     * @param target 事件源，不为空时则跟随显示\n     */\n    T.error = function (message, delay, mask, target) {\n        T.show(message, delay, mask, _error_, target);\n    }\n\n    /**\n     * 显示通知提示信息\n     * @param message 提示内容\n     * @param delay 延时指定 ms 时间后自动关闭提示\n     * @param mask 是否显示遮罩\n     * @param type 类型。info/error\n     * @param targetPos 事件源/位置，如果为事件源对象，则表示跟随其位置；如果为 corner3 ，则表示对应的角落；为空时则表示默认居中\n     */\n    T.show = function (message, delay, mask, type, targetPos) {\n        T.aniTimer = V_clearTimer(T.aniTimer);\n\n        T.ui.hm(message);\n\n        // 先重置为默认值\n        JQ_removeClass(T.ui, _error_);\n        JQ_removeClass(T.ui, _bubble_);\n        T.ui.c(_left_, _)\n            .c(_top_, _)\n            .c(_width_, _)\n            .c(_height_, _)\n            .c(_right_, _auto_)\n            .c(_bottom_, _auto_)\n\n        if (type === _error_)\n            JQ_addClass(T.ui, _error_);\n        else if (type === _bubble_)\n            JQ_addClass(T.ui, _bubble_);\n\n        // 有指定显示位置时\n        if (targetPos !== gUndefined) {\n            // 跟随事件目标对象显示\n            if (targetPos instanceof jQuery)\n                V_ui_moveToTarget(T.ui, targetPos);\n            // 在指定的角显示\n            else if (targetPos.sW(_corner_))\n                V_ui_moveToCorner(T.ui, targetPos);\n        }\n        // 居中显示\n        else\n            V_ui_moveToCenter(T.ui);\n\n        T.ui.show();\n\n        // 延时后自动关闭\n        if (delay !== gNull)\n            T.aniTimer = V_later(() => {\n                    T.hide();\n                }, delay);\n\n        // 显示遮罩\n        mask\n            && T.mask.show();\n    }\n\n    /**\n     * 隐藏弹窗信息\n     */\n    T.hide = function() {\n        T.ui.hide();\n        T.mask.hide();\n    }\n\n    /**\n     * 处理热键操作\n     * @param key 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.hotkey = function (key, combKeys, event) {\n        if (V_ui_isHidden(T.ui))\n            return;\n\n        if (V_noCombKeys(combKeys) && V_isEscape(key))\n            V_ui_isShowed(T.ui) && (\n                T.hide(),\n                // 如果事件已处理，则禁止双重操作\n                V_preventDefault(event)\n            );\n    }\n}\n\n// ==================== 文档更多内容遮罩栏 ==================== //\n\nlet MoreDocContent_ui_before = gUndefined,\n    MoreDocContent_ui_after = gUndefined,\n    MoreDocContent_margin_left = 0;\n/**\n * 构造函数\n */\nfunction MoreDocContent_init() {\n    MoreDocContent_ui_before = V_byClass(_v_more_doc_content_ + _before_);\n    MoreDocContent_ui_after = V_byClass(_v_more_doc_content_ + _after_);\n}\n\n/**\n * 刷新显示更多内容遮罩栏\n * @param scrollTop 文档当前滚动位置，如果为空则自动获取\n */\nfunction MoreDocContent_refresh(scrollTop) {\n    if (scrollTop === gUndefined)\n        scrollTop = V_ui_getScrollTop();\n\n    // 顶部 before UI\n    scrollTop > gScrollEdge\n        ? JQ_removeClass(MoreDocContent_ui_before, _no_more_)\n        : JQ_addClass(MoreDocContent_ui_before, _no_more_);\n    // if (scrollTop > gScrollEdge)\n    //     MoreDocContent_ui_before.c(_display_) === _none_\n    //         && MoreDocContent_ui_before.show();\n    // else\n    //     MoreDocContent_ui_before.hide();\n\n    // 底部 after UI\n    (scrollTop + jq_Window.h()) > (jq_Document.h() - gScrollEdge)\n        ? JQ_addClass(MoreDocContent_ui_after, _no_more_)\n        : JQ_removeClass(MoreDocContent_ui_after, _no_more_);\n    // if ((scrollTop + jq_Window.h()) > (jq_Document.h() - gScrollEdge))\n    //     MoreDocContent_ui_after.hide();\n    // else\n    //     MoreDocContent_ui_after.c(_display_) === _none_\n    //         && MoreDocContent_ui_after.show();\n}\n\n/**\n * 根据 write 动态更新遮罩栏 UI\n */\nfunction MoreDocContent_updateUI() {\n    // 值为 auto 时进行实际像素计算\n    MoreDocContent_margin_left = V_ui_getRect(VOM_doc()[0]).left;\n    if (MoreDocContent_ui_before.a(_class_).i(_fill_width_) === -1) {\n        MoreDocContent_ui_before.c(_margin_left_, MoreDocContent_margin_left);\n        MoreDocContent_ui_after.c(_margin_left_, MoreDocContent_margin_left);\n    }\n}\n\n// ==================== 题注生成器类 ==================== //\n\nlet Caption_spliter = \"  \", // \", \"\n    Caption_lastH1 = [], // 用于按章节分组编号时，指定对应题注类型最后的一级章节号\n    Caption_lastCounter = []; // 用于按章节分组编号，指定对应题注类型最后的计数器\n\n/**\n * 题注预处理，用于给需要生成题注的对象标记归属的一级章节\n */\nfunction Caption_groupPreppare() {\n    let selector = _img_ + \",.\" + _md_diagram_panel_ + \",\" + _table_ + \",\" + gSelector_codeblock + \",\" + _md_math_container_parents_ + \",\" + gSelector_iframeVideo,\n        selectorSub = _img_ + \",\" + _svg_ + \"[id^='\" + _mermaid_ + \"'],\" + _table_ + \",\" + gSelector_codeblock + \",\" + _md_math_container_parents_ + \",\"+ gSelector_iframeVideo;\n    $(_idWrite_ + \">:is(\" + _h1_5_ + \")\").e((index, hx) => {\n        let header = $(hx),\n            betweenSet = header.nU(_h1_5_);\n        betweenSet.filter(selector).add(\n            betweenSet.f(selectorSub)).e((index, element) => {\n                header.a(_data_header_num_)\n                    && $(element).a(_data_cap_group_, header.a(_data_header_num_).x());\n        });\n    });\n}\n\n/**\n * 生成题注前缀内容\n * @param target 需要添加题注的对象\n * @param typeText 题注类型文本，如: 表、图\n * @param counter 题注类型计数器\n */\nfunction Caption_prefix(target, typeText, counter) {\n    let capGroup = target.a(_data_cap_group_),\n        num,\n        lastCount = 0;\n\n    // 指定按章节分组编号\n    if (capGroup !== gUndefined) {\n        if (Caption_lastH1[typeText] !== capGroup) {\n            Caption_lastH1[typeText] = capGroup;\n            Caption_lastCounter[typeText] = counter - 1;\n        }\n\n        lastCount = Caption_lastCounter[typeText];\n    }\n    // 不按章节分组编号\n    else\n        capGroup = _;\n\n    num = counter - lastCount;\n    // 有分组编号数据时处理\n    if (V_length(capGroup) > 0)\n        if (num === 1)\n            num = _;\n        else\n            capGroup = capGroup + \"-\";\n\n    return typeText +___+ capGroup + num;\n}\n\n/**\n * 生成题注\n * @param target 需要添加题注的对象\n * @param typeName 题注类型名称\n */\nfunction Caption_genForTextContent(target, typeName) {\n    let captionPrefix = Caption_prefix(target, V_lang_text56(), V_doc_counter_table),\n        caption,\n        indexObj = gUndefined,\n        anchor,\n        dataForSearch;\n\n    // 代码块 codeblock\n    if (typeName.sW(\"c\")) {\n        indexObj = iNavCenter.codeblocks;\n        captionPrefix = Caption_prefix(target, V_lang_text57(), V_doc_counter_codeblock);\n    }\n    // 表格 table\n    else if (typeName.sW(\"t\")) {\n        indexObj = iNavCenter.tables;\n    }\n    // 公式 formula\n    else if (typeName.sW(\"f\")) {\n        indexObj = iNavCenter.formulas;\n        captionPrefix = Caption_prefix(target, V_lang_text18(), V_doc_counter_formula);\n    }\n\n    // 尝试获得带题注语法的内容\n    let fcSet = Caption_getCaptions(target.p().pr(), typeName);\n    let fc = fcSet[0], // 第 1 题注\n        fc2 = fcSet[1]; // 第 2 题注\n    captionPrefix = V_ui_span(_, _, captionPrefix + Caption_spliter);\n\n    // 无指定的题注内容时\n    if (fc == gNull || V_length(fc.x()) === 0)\n        fc = _;\n    // 指定题注时生成 id 属性用于交叉引用\n    else {\n        target.p().a(_id_, LinkTool_transSpecHash(fc));\n        target.p().a(_data_cap_for_id_, fc);\n    }\n\n    // 代码块 codeblock\n    if (typeName.sW(\"c\")) {\n        anchor = _vk_id_codeblock_ + V_doc_counter_codeblock;\n        target.wrap(V_ui_div(anchor, _v_caption_ +___+ _codeblock_));\n        dataForSearch = target.f(\".\" + _CodeMirror_line_).t();\n    }\n    // 表格 table\n    else if (typeName.sW(\"t\")) {\n        anchor = _vk_id_tbl_ + V_doc_counter_table;\n        target.wrap(V_ui_div(anchor, _v_caption_ +___+ _table_));\n        dataForSearch = target.t();\n    }\n    // 公式 math\n    else if (typeName.sW(\"f\")) {\n        anchor = _vk_id_math_ + V_doc_counter_formula;\n        target.wrap(V_ui_div(anchor, _v_caption_ +___+ _formula_));\n        dataForSearch = target.t();\n    }\n\n    // 无题注内容时，整个题注项内容清空\n    fc = fc.x();\n    caption = (V_isLength0(fc) ? _ : captionPrefix + fc);\n\n    let cap1 = V_ui_figcaption(__v_cap1_.xD() + (V_isLength0(fc) ? ___ + _none_ : _),\n            _, caption),\n        has2Captions = (fc2 != gNull && V_length(fc2) > 0); // 计算题注数量\n    // 有两个题注时\n    if (has2Captions) {\n        // 第 1 题注\n        __insertCap1(cap1);\n        // 第 2 题注\n        target.af(V_ui_figcaption(__v_cap2_.xD(), _, fc2));\n        target.p().a(_data_cap_count_, 2);\n    }\n    // 单题注时\n    else {\n        // 对于公式，在下方插入\n        if (typeName.sW(\"f\"))\n            __insertCap1(cap1, gTrue);\n        // 其他，在上方插入\n        else\n            __insertCap1(cap1);\n    }\n\n    // ----------------------------------------\n    // 添加到对应的内容索引\n    if (V_length(caption) > 0 && indexObj !== gUndefined) {\n        dataForSearch += has2Captions ? fc2 : _;\n        V_byID(anchor).a(_data_title_, caption);\n        indexObj.add(caption, anchor, dataForSearch);\n    }\n\n    // 在上方插入第 1 题注\n    function __insertCap1(content, after) {\n        after === gTrue\n            ? target.af(content)\n            : target.bf(content);\n    }\n}\n\n/**\n * 针对插图（img、mermaid、音频、视频）生成题注\n * @param target 需要添加题注的对象\n * @param typeName 题注类型名称\n */\nfunction Caption_genForMediaContent(target, typeName) {\n    let fc = target.a(_alt_), // 默认尝试获取图片的 alt 内容作为题注内容\n        fc2 = target.a(_title_), // 默认尝试获得图片的 title 作为第二题注内容\n        indexObj = iNavCenter.figures,\n        anchor,\n        dataForSearch = _;\n\n    let fcSet = gNull;\n    // 若 alt 无内容，则尝试获取前面段落中是否有题注语法内容作为第 1、2 题注的内容\n    if (fc == gNull || V_length(fc.x()) === 0) {\n        fc = _;\n        fcSet = Caption_getCaptions(target.p().pr(), typeName);\n        if (fcSet[0] !== gNull)\n            fc = fcSet[0];\n        if (fcSet[1] !== gNull)\n            fc2 = fcSet[1];\n    }\n\n    // 插图（img、mermaid）题注前缀\n    let caption,\n        captionPrefix = Caption_prefix(target, V_lang_text58(), V_doc_counter_figure);\n    // 音频题注 audio\n    if (typeName.sW(\"a\")) {\n        indexObj = iNavCenter.media;\n        captionPrefix = Caption_prefix(target, V_lang_text59(), V_doc_counter_audio);\n    }\n    // 视频频题注 video\n    else if (typeName.sW(\"v\")) {\n        indexObj = iNavCenter.media;\n        captionPrefix = Caption_prefix(target, V_lang_text60(), V_doc_counter_video);\n    }\n\n    captionPrefix = V_ui_span(_, _, captionPrefix + (V_length(fc) > 0 ? Caption_spliter : _));\n\n    // 无指定的题注内容时\n    if (fc == gNull || V_length(fc.x()) === 0)\n        fc = _;\n    // 指定题注时生成 id 属性用于交叉引用\n    else {\n        target.p().a(_id_, LinkTool_transSpecHash(fc));\n        target.p().a(_data_cap_for_id_, fc);\n    }\n\n    // 为插图（mermaid）增加题注 <svg>\n    if (typeName.sW(\"s\")) {\n        anchor = _vk_id_fig_ + V_doc_counter_figure;\n        // 针对 Mermaid 插图，添加额外的类，用于打印前后处理时直接定位 Mermaid 插图的题注\n        target.wrap(V_ui_divExt(anchor, _v_caption_ +___+ _mermaid_, V_attr(_data_fig_type_, typeName)));\n        dataForSearch += target.f(_div_ + \",\" + _span_ + \",tspan,\" + _text_).t();\n    }\n    // 为插图（img）增加题注 <img>\n    else if (typeName.sW(\"i\")) {\n        anchor = _vk_id_fig_ + V_doc_counter_figure;\n        target.wrap(V_ui_divExt(anchor, _v_caption_\n            + (target.a(_loading_) === gUndefined ? _ : ___+ _loading_), // 懒加载时添加 loading 样式\n            V_attr(_data_fig_type_ , typeName)));\n        dataForSearch += target.a(_src_);\n    }\n    // 为音频增加题注 <audio>\n    else if (typeName.sW(\"a\")) {\n        anchor = _vk_id_audio_ + V_doc_counter_audio;\n        target.wrap(V_ui_divExt(anchor, _v_caption_, V_attr(_data_fig_type_, typeName)));\n        dataForSearch += target.a(_src_);\n    }\n    // 为视频增加题注 <video>\n    else if (typeName.sW(\"v\")) {\n        anchor = _vk_id_video_ + V_doc_counter_video;\n        target.wrap(V_ui_divExt(anchor, _v_caption_\n            + (typeName.eW(_iframe_) ? ___+ _iframe_ : _), // 内嵌视频的情况\n            V_attr(_data_fig_type_, typeName)));\n    }\n\n    // 无题注内容时，整个题注项内容清空\n    fc = fc.x();\n    caption = (V_isLength0(fc) ? _ : captionPrefix + fc);\n\n    let cap1 = V_ui_figcaption(__v_cap1_.xD(), _, caption),\n        has2Captions = (fc != gNull && fc2 != gNull && V_length(fc2) > 0); // 计算题注数量\n    // 有两个题注时\n    if (has2Captions) {\n        // 第 1 题注\n        __insertCap1(cap1);\n        // 第 2 题注\n        target.af(V_ui_figcaption(__v_cap2_.xD(), _, fc2));\n        target.p().a(_data_cap_count_, 2);\n    }\n    // 单题注时\n    else {\n        // 对于插图，在下方插入\n        (typeName.sW(\"i\") || typeName.sW(\"s\"))\n            ? __insertCap1(cap1, gTrue)\n            // 其他，在上方插入\n            : __insertCap1(cap1);\n    }\n\n    // ----------------------------------------\n    // 添加到对应的内容索引\n    if (V_length(caption) > 0 && indexObj !== gUndefined) {\n        dataForSearch += has2Captions ? fc2 : _;\n        V_byID(anchor).a(_data_title_, caption);\n        indexObj.add(caption, anchor, dataForSearch);\n    }\n\n    // ----------------------------------------\n    // 修正在 SVG 插图套上题注后的自适应尺寸 <svg>\n    if (typeName.sW(\"s\")) {\n        if (target.a(_height_) !== _none_ || target.c(_height_) !== _none_) { // 有指定高度的\n            JQ_removeAttr(target, _height_);\n            target.c(_height_, _);\n        }\n\n        // 调整SVG插图，尽量按其真实插图的大小显示，超出浏览器宽度的，则左右滚动浏览\n        let style = gUndefined;\n        if (target.c(_max_width_) !== _none_) // CSS 中指定了最大宽度\n            target.p().c(_width_, target.c(_max_width_));\n        else if ((style = target.a(_style_)) !== gUndefined && style.i(_width_) > -1) // 通过 style 指定了宽度\n            target.p().c(_width_, target.c(_width_));\n        else if (target.a(_width_) !== _100pc_) // 指定了 width 属性，且不为 100%\n            target.p().c(_width_, JS_parseInt(target.a(_width_)) + 4); // 4 为两边 border 的宽度\n        else if (target.a(_view_box_) !== _none_) // 指定 width 为 100% 的情况\n            target.p().c(_width_, target.a(_view_box_).sp(___)[2] + \"px\");\n        else\n            target.p().c(_width_, _100pc_);\n    }\n\n    // 在上方插入第 1 题注\n    function __insertCap1(content, after) {\n        after === gTrue\n            ? target.af(content)\n            : target.bf(content);\n    }\n}\n\n/**\n * 返回插图、表格、代码块上方的题注\n * @param caption 潜在的题注内容对象\n * @param tagName 添加题注的目标对象的 HTML 标签名称\n */\nfunction Caption_getCaptions(caption, tagName) {\n    let fcSet = [], // 题注集\n        hideCaptionSrc = gFalse; // 是否隐藏题注源\n\n    let capResult = Caption_parseSyntax(caption);\n    // 单题注\n    if (capResult[1] === 1) {\n        fcSet = __getCaptionSet(caption, 1, capResult[0]);\n        fcSet[1] = gNull;\n        hideCaptionSrc = gTrue;\n    }\n    // 双题注\n    else if (capResult[1] === 2) {\n        fcSet = __getCaptionSet(caption, 2, capResult[0]);\n        hideCaptionSrc = gTrue;\n    }\n\n    // 若成功匹配出题注，且内容不是 <img> 则隐藏原始内容\n    if (hideCaptionSrc && (!tagName.sW(\"i\") || capResult[0] === 200))\n        // 移除前先克隆 id 到题注容器，避免锚点无法跳转到这里\n        caption.rm();\n\n    return fcSet;\n\n    /**\n     * 返回题注数据数组\n     * @param target 题注数据的目标对象\n     * @param count 题注数量\n     * @param type 题注语法类型，100：标准，200：简化语法\n     * @returns [] [0] 为第 1 个题注，[1] 为第 2 个题注\n     */\n    function __getCaptionSet(target, count, type) {\n        let fcSet = [];\n        // 标准语法\n        if (type === 100) {\n            let text = target.t().x();\n            fcSet[0] = text.ss(2, text.i(\"]\", 2));\n            if (count === 2) // \"▲ \" +\n                fcSet[1] = text.ss(text.i(']\"', 2) + 2, V_length(text) - 1);\n        }\n        // 简化语法\n        else if (type === 200) {\n            if (count === 2) // \"▲ \" +\n                fcSet[1] = target.f(_mark_ + \">em\").t().x();\n            target.f(_mark_ + \">em\").rm();\n            fcSet[0] = target.t().x();\n        }\n        return fcSet;\n    }\n}\n\n/**\n * 解析并返回匹配的题注数量\n * @param target 题注语法内容对象\n * @returns [] [0] 语法类型, [1] 题注数量\n */\nfunction Caption_parseSyntax(target) {\n    let reg2 = /^!\\[.+]\".+\"$/, // 有 2 个题注\n        reg1 = /^!\\[.+]$/, // 只有 1 个题注\n        html = _;\n    // 标准语法，双题注\n    if (reg2.test(target.t().x()))\n        return [100, 2]; // 100: 标准语法\n    // 标准语法，单题注\n    else if (reg1.test(target.t().x()))\n        return [100, 1]; // 100: 标准语法\n    // 简化的新语法\n    else if ((html = target.hm()) !== gUndefined) {\n        if (html.sW(\"<em><mar\") && html.eW(\"/em>\")) {\n            if (html.i(\"/em></mark>\") === -1)\n                return [200, 1]; // 200: 简化语法\n            else\n                return [200, 2]; // 200: 简化语法\n        }\n    }\n    return [0, 0]; // 无题注\n}\n\n// ==================== 分步分级类 ==================== //\n\nlet BreadcrumbStyle_count = 0,\n    // 匹配面包屑内容中的指定分隔符号，但不包括 HTML 标签内的内容\n    BreadcrumbStyle_syntax = /(\\s*(\\/|\\\\|▸|▶︎|(&gt;)|(-&gt;)|→)\\s*)(?![^<>]*>)/g;\n\n/**\n * 初始如化分步分级处理\n */\nfunction BreadcrumbStyle_init() {\n    // 对所有分步分级元素进行样式优化\n    $(_idWrite_ + \" em>\" + _mark_ + __only_child_ + \">\" + _span_ + __first_child_).e((index, element) => {\n        BreadcrumbStyle_count++;\n        let _t = $(element),\n            mark = _t.p();\n        mark.unwrap(); // 解包 em\n        // 添加新包\n        mark.wrap(V_ui_span(_v_breadcrumb_style_ + \" id-\" + BreadcrumbStyle_count, _, _));\n        _t.unwrap(); // 解包 mark\n\n        // ------ 正式开始处理 ------\n        let bread = _t.p(), // 获得添加新包后的新父级元素\n            slashOrg = \"</\",\n            slashTmp = \"<___slash___\",\n            html = bread.hm().rA(slashOrg, slashTmp);\n\n        // 生成原始内容\n        bread.a(_data_clipboard_text_, bread.t());\n        // 将目标内容替换为指定标签进行样式优化\n        html = html.rA(BreadcrumbStyle_syntax, V_ui_label(_, _, ___));\n        bread.hm(html.rA(slashTmp, slashOrg));\n\n        // 点击事件处理\n        bread.uC().ck((event) => {\n            let _t = V_eventCurrentTarget(event);\n            Copy_action(_t, _t.a(_data_clipboard_text_));\n        });\n    });\n\n    // 避免与 BreadcrumbStyle 处理中的多层触发\n    $(_idWrite_ + \" .\" + _v_breadcrumb_style_ + \" a\").ck((event) => {\n        V_stopPropagation(event); // 停止事件冒泡\n    });\n}\n\n// ==================== 将多项连续的内容转换为页签组显示 ==================== //\n\nlet TabGroup_tabcap = _,\n    TabGroup_tabico = _;\n\n/**\n * 初始化\n */\nfunction TabGroup_init() {\n    TabGroup_tabcap = V_getParamVal(_tab_ + _cap_);\n    TabGroup_tabico = V_getParamVal(_tab_ + _ico_);\n\n    // 为指定范围的不同类型的连续内容生成页签组\n    $(_idWrite_ + \">p>em\" + __only_child_ + \">sup\" + __only_child_).e((index, element) => {\n        let _t = $(element),\n            para = _t.p().p();\n\n        let count = 0;\n        // 用于调试\n        para.nU(V_not(\"p, blockquote, div, figure\")).e((index, element) => {\n            let _t2 = $(element),\n                classValue = _t2.a(_class_),\n                tagName = V_tagName(_t2);\n\n            if (classValue === gUndefined)\n                classValue = _;\n\n            // 引用块，但不带小标题\n            if (tagName === _blockquote_ && classValue.i(_stt_) === -1)\n                return gFalse; // 提前结束循环\n            // 对于 div，但不是 GSA\n            else if (tagName === _div_ && classValue.i(_md_alert_) === -1 && _t2.a(_data_cntr_) === gUndefined)\n                return gFalse; // 提前结束循环\n            // 非引用块、div，但无 data-cntr 属性\n            else if (tagName !== _blockquote_ && tagName !== _div_ && _t2.a(_data_cntr_) === gUndefined)\n                return gFalse; // 提前结束循环\n\n            // 用于调试\n            // 对页签关联的内容进行标记处理\n            count++;\n            TabGroup_setData(_t2, count);\n        });\n\n        // 有 2 个或以上的页签内容时，进行按组处理\n        count > 1\n            && TabGroup_disposeByGroup(para.n());\n\n        para.rm();\n    });\n\n    // 对 VLOOK UI 统一样式适配处理\n    // V_isMobile()\n    //     ? V_byClass(_tab_group_wrap_ + \">\" + _span_).uH()\n    //     : V_ui_bindHover(V_byClass(_tab_group_wrap_ + \">\" + _span_));\n}\n\n/**\n * 按组进行处理\n * @param firstContent 标签项内容的目标对象\n * @param id 对应的分组 id\n * @param type 内容类型\n */\nfunction TabGroup_disposeByGroup(firstContent, id, type) {\n    if (id === gUndefined)\n        id = firstContent.a(_data_tab_group_id_);\n\n    // 生成页签组\n    firstContent.bf(V_ui_div(\"tab-box\" + id, _v_tab_box_,\n        V_ui_divExt(_tab_group_ + id, _v_tab_group_ +___+ _v_backdrop_blurs_, V_attr(_title_,\n            \"[Tab] / [⇧ Shift + Tab] \" + V_lang_text(2, [\n                \"切换页签\",\n                \"Switch tabs\"\n            ])),\n            V_ui_div(_, _tab_group_wrap_, _)))\n        );\n\n    // 生成页签组内的首个页签\n    let tabGroup = V_byID(_tab_group_ + id),\n        tabBox = tabGroup.p(),\n        tabGroupWrapper = tabGroup.ch(\".\" + _tab_group_wrap_);\n    __addTab(tabBox, tabGroupWrapper, firstContent, type, gTrue);\n\n    // 生成页签组其他页签\n    $(V_attrCSS(_data_tab_group_, id)).e((index, element) => {\n        let content = $(element);\n        __addTab(tabBox, tabGroupWrapper, content, type);\n        content.hide();\n    });\n\n    // 页签组滚动事件处理\n    V_ui_bindScrollWithMoreContent(tabGroup, gFalse);\n    // 强制触发一次滚动事件处理，以生成需要的样式\n    V_ui_scrollingUpdate(tabGroup, gFalse);\n\n    /**\n     * 添加标签项\n     * @param tabBox 页签组父容器\n     * @param tabGroupWrapper 页签组条目容器对象\n     * @param target 标签项内容的目标对象\n     * @param type 内容类型\n     * @param current 是否设置为当前元素\n     */\n    function __addTab(tabBox, tabGroupWrapper, target, type, current = gFalse) {\n        let id, // = _,\n            icon = _,\n            tabTitle, // = _,\n            tabTitleAlt = _,\n            alertType = _,\n            tabicoStyle = (TabGroup_tabico === _fill_) ? __checked_ : _;\n\n        // 无指定 type 时自动适配\n        if (type === gUndefined) {\n            let tagName = V_tagName(target),\n                cntr = target.a(_data_cntr_);\n            if (tagName === _blockquote_) {\n                type = tagName;\n                icon = (TabGroup_tabico === _off_) ? _ : V_ui_svgIcon(_icoIndexTab_blockquote_ + tabicoStyle, 16, 16, _current_color_);\n            }\n            else if (tagName === _div_ && cntr !== _svg_)\n                type = _alert_;\n            else if (cntr === _table_) {\n                type = cntr;\n                tabTitleAlt = V_lang_text56();\n                icon = (TabGroup_tabico === _off_) ? _ : V_ui_svgIcon(_icoIndexTab_table_ + tabicoStyle, 16, 16, _current_color_);\n            }\n            else if (cntr === _codeblock_) {\n                type = cntr;\n                tabTitleAlt = target.f(\".\" + _md_fences_).a(_lang_);\n                if (tabTitleAlt === gUndefined || V_isLength0(tabTitleAlt))\n                    tabTitleAlt = V_lang_text57();\n                icon = (TabGroup_tabico === _off_) ? _ : V_ui_svgIcon(_icoIndexTab_codeblock_ + tabicoStyle, 16, 16, _current_color_);\n            }\n            else if (cntr === _audio_) {\n                type = cntr;\n                tabTitleAlt = V_lang_text59();\n                icon = (TabGroup_tabico === _off_) ? _ : V_ui_svgIcon(_icoIndexTab_audio_ + tabicoStyle, 16, 16, _current_color_);\n            }\n            else if (cntr === _video_) {\n                type = cntr;\n                tabTitleAlt = V_lang_text60();\n                icon = (TabGroup_tabico === _off_) ? _ : V_ui_svgIcon(_icoIndexTab_media_ + tabicoStyle, 16, 16, _current_color_);\n            }\n            else if (cntr === _formula_) {\n                type = cntr;\n                tabTitleAlt = V_lang_text18();\n                icon = (TabGroup_tabico === _off_) ? _ : V_ui_svgIcon(_icoIndexTab_formula_ + tabicoStyle, 16, 16, _current_color_);\n            }\n            else { // 默认为 cntr === _img_ || cntr === _svg_\n                type = _figure_;\n                tabTitleAlt = V_lang_text58();\n                icon = (TabGroup_tabico === _off_) ? _ : V_ui_svgIcon(_icoIndexTab_figure_ + tabicoStyle, 16, 16, _current_color_);\n            }\n        }\n\n        // 针对带小标题的引用块、GSA\n        if (type === _blockquote_ || type === _alert_) {\n            let firstPara = target.f(\">p\" + __first_child_);\n            id = firstPara.a(_data_id_);\n            firstPara.a(_id_, id);\n            tabTitle = firstPara.t();\n\n            // 针对 GSA\n            if (type === _alert_) {\n                // 提取 GSA 的类型\n                alertType = target.a(_class_).m(/(alert-[^ ]+)/);\n                alertType = (alertType !== gNull ? ___+ alertType[1] : _);\n\n                // 提取 GSA 的图标\n                let use = firstPara.f(\".\" + _md_alert_ + __text_ + \">\" + _svg_ + \">\" + _use_ + __first_child_);\n                if (V_length(use) > 0)\n                    icon = V_ui_svgIcon(use.a(_xlink_href_).r(\"#\", _), 16, 16, _current_color_);\n            }\n            // 针对带小标题的引用块\n            else {\n                JQ_addClass(firstPara.n(), _first_ + \"-p\");\n                firstPara.hide();\n            }\n        }\n        // 针对表格、插图、代码块、数学公式\n        else {\n            id = target.ch(\".\" + _v_caption_).a(_id_);\n            // 对表格、插图、数学公式的处理\n            let cap1 = target.f(__v_cap1_);\n            // 题注分类与编号显示在页签上\n            if (TabGroup_tabcap === _on_) {\n                tabTitle = cap1.t().x();\n                if (V_isLength0(tabTitle))\n                    tabTitle = tabTitleAlt;\n                // 除代码块外，隐藏第 1 题注\n                type !== _codeblock_\n                    && cap1.hide();\n            }\n            // 题注分类与编号不显示\n            else {\n                tabTitle = V_textContent(cap1).x();\n                if (V_isLength0(tabTitle))\n                    tabTitle = tabTitleAlt;\n                // 当无题注内容时，显示题注分类与编号\n                if (V_isLength0(tabTitle))\n                    tabTitle = cap1.t();\n            }\n        }\n\n        // 添加 页签 控件\n        tabGroupWrapper.ap(V_ui_span(\n            (current ? _current_ : _) + alertType,\n            V_attr(_data_tab_for_, id)\n                + V_attr(_tabindex_, 1)\n                + V_attr(_data_content_type_, type), icon + tabTitle));\n            // (icon !== _ ? V_ui_svgIcon(icon, 16, 16, _theme_) : _) + tabTitle));\n\n\n        // 将相关元素移入页签组父容器中\n        JQ_addClass(target, _tab_ + __content_ + \"-\" + _target_);\n        target.appendTo(tabBox);\n\n        // 对标签绑定事件\n        tabGroupWrapper.ch(_span_).e((index, element) => {\n            let _item = $(element);\n            _item.uC().ck(() => {\n                TabGroup_disposeTabItemClick(_item);\n            });\n            _item.on(_focus_, () => {\n                _item.tr(_click_);\n            });\n        });\n    }\n}\n\n// 以防抖控制方式调用\nlet TabGroup_disposeTabItemClick = V_debounce(TabGroup_tabItemClick, 100);\n\n/**\n * 页签组条目的点击处理\n * @param item 页签组条目对象\n * @param animation 是否以动画方式滚动\n */\nfunction TabGroup_tabItemClick(item, animation = gTrue) {\n    let tab = item.p().ch(\".\" + _current_);\n        // type = tab.a(_data_content_type_);\n\n    // 隐藏当前标签\n    JQ_removeClass(tab, _current_);\n    V_byID(tab.a(_data_tab_for_)).p().hide();\n\n    // 重新设置当前标签\n    JQ_addClass(item, _current_);\n    V_byID(item.a(_data_tab_for_)).p().show();\n\n    // 滚动到内容位置\n    let scrollTarget = V_byID(item.a(_data_tab_for_)).p();\n    // let scrollTarget = V_byID(item.a(_data_tab_for_));\n    // ERROR(100, item.a(_data_tab_for_), scrollTarget.hm(), scrollTarget.p().hm());\n    V_ui_setScrollTop(scrollTarget.oT(), scrollTarget, gUndefined, animation);\n}\n\n/**\n * 设置页签关联内容的标识数据\n * @param target 关联内容的对象\n * @param index 内关联内容的序号\n */\nfunction TabGroup_setData(target, index) {\n    // 对页签组的第 1 个内容的处理\n    index === 1\n        ? (\n            V_doc_counter_tagGroup++,\n            target.a(_data_tab_group_id_, V_doc_counter_tagGroup)\n        )\n        // 页签组对应首个内容以外的其他内容的处理\n        // 设置归属的页签组\n        : target.a(_data_tab_group_, V_doc_counter_tagGroup);\n}\n\n/**\n * 根据页签组实际渲染的高度更新对应的变量\n * 用于滚动到页签对应内容时能正常预留出上方高度\n * 应用于样式 .tab-content-target\n */\nfunction TabGroup_updateHeight() {\n    // V_setVarVal(___v_ + _tab_group_ + \"-h\", V_byClass(_v_tab_group_ + __first_).oH(gTrue) + \"px\");\n    V_setVarVal(___v_ + _tab_group_ + \"-h\", V_byClass(_v_tab_group_ + __first_).iH() + \"px\");\n}\n\n// ==================== 代码块增强类 ==================== //\n\n/**\n * 初始化代码块\n */\nlet gSelector_codeblock = \".\" + _md_fences_ + V_not(V_attrCSS(_lang_, _math_));\nfunction ExtCodeBlock_init() {\n    // ------------------------------\n    // 遍历所有代码块（排除被标签分组的非首个代码块）\n    $(gSelector_codeblock + V_not(V_attrCSS(_data_tab_group_))).e((index, element) => {\n        let _t = $(element);\n\n        // 绑定内容助手\n        ContentAssistor_bind(_t, _codeblock_);\n\n        // 折叠长代码块\n        ContentFolder_add(_t, _codeblock_);\n\n        // 生成代码块插图题注（行数 > 1 的才进行处理）\n        V_doc_counter_codeblock++;\n        // 外套一个 <figure> 标签，用于内容折叠时与插图、表格的 DOM 结构一致\n        _t.wrap(V_ui_figure(_v_cap_cntr_, V_attr(_data_cntr_, _codeblock_)));\n\n        // 先根据题注语法生成题注\n        Caption_genForTextContent(_t, _codeblock_);\n    });\n}\n\n/**\n * 复制代码块内容\n * @param source 内容源对象\n */\nfunction ExtCodeBlock_copyContent(source) {\n    let content = _,\n        lines = ContentAssistor_lastHover.ch().f(\".\" + _CodeMirror_code_ + \" .\" + _CodeMirror_line_),\n        lineNum = 0,\n        lineCount = V_length(lines),\n        // 用于清除或转换特殊字符\n        badChars = [\n            \"%E2%80%8B\", // ZERO WIDTH SPACE \\u200b\n            \"%C2%A0\", // NO-BREAK SPACE \\u00A0\n            \"%0A\" // NO-BREAK SPACE \\u0A\n        ],\n        goodChars = [\n            _, // 替换 ZERO WIDTH SPACE\n            \"%20\", // for NO-BREAK SPACE\n            _ // for NO-BREAK SPACE\n        ];\n\n    // 逐行读取代码\n    lines.e((index, element) => {\n        lineNum++;\n        let encodeText = JS_encodeURI($(element).t());\n        // 清除或转换特殊字符\n        for (let i = 0; i < V_length(badChars); i++)\n            if (encodeText.i(badChars[i]) > -1)\n                encodeText = encodeText.rA(badChars[i], goodChars[i]);\n        content += JS_decodeURI(encodeText) + (lineNum < lineCount ? \"\\n\" : _);\n    });\n\n    Copy_action(source, content);\n}\n\n// ==================== 代码块换行、不换行类 ==================== //\n\n/**\n * 切换代码块换行、不换行开关\n */\nfunction CodeblockWrap_toggle() {\n    let codeblock = ContentAssistor_lastHover;\n    // 已开启，则关闭\n    CodeblockWrap_isWrap(codeblock)\n        ? (\n            JQ_removeClass(ContentAssistor_btns_wrap, _selected_),\n            JQ_removeClass(codeblock, _unwrap_)\n        )\n        // 未开启，则开启\n        : (\n            JQ_addClass(ContentAssistor_btns_wrap, _selected_),\n            JQ_addClass(codeblock, _unwrap_)\n        )\n}\n\n/**\n * 判断代码块是否启用了换行\n */\nfunction CodeblockWrap_isWrap() {\n    return ContentAssistor_lastHover.a(_class_).i(_unwrap_) > -1;\n}\n\n// ==================== 公式增强类 ==================== //\n\n/**\n * 初始化公式\n */\nfunction ExtMath_init() {\n    // 遍历所有代码块\n    $(_md_math_container_parents_).e((index, element) => {\n        let _t = $(element);\n\n        // 绑定内容助手\n        ContentAssistor_bind(_t, _formula_);\n\n        // 生成代码块插图题注（行数 > 1 的才进行处理）\n        V_doc_counter_formula++;\n        // 外套一个 <figure> 标签，用于内容折叠时与插图、表格的 DOM 结构一致\n        _t.wrap(V_ui_figure(_v_cap_cntr_, V_attr(_data_cntr_, _formula_)));\n\n        // 先根据题注语法生成题注\n        Caption_genForTextContent(_t, _formula_);\n    });\n}\n\n// ==================== 复制处理类 ==================== //\n\nlet Copy_lastActionTime = 0,\n    Copy_processing = gFalse,\n    Copy_modeTimer = gNull;\n    // 带格式复制\n    // Copy_rich_ui = gUndefined,\n    // Copy_rich_ui_start = gUndefined,\n    // Copy_rich_ui_end = gUndefined;\n\n// 初始化\nfunction Copy_init() {\n    // let ui = V_ui_div(_copy_rich_start_, _, _)\n    //         + V_ui_div(_copy_rich_end_, _, _)\n    //         + V_ui_div(_, \"v-write\", _);\n    // DOM_body().ap(ui);\n    // Copy_rich_ui = V_byClass(\"v-write\");\n    // Copy_rich_ui_start = V_byID(_copy_rich_start_);\n    // Copy_rich_ui_end = V_byID(_copy_rich_end_);\n}\n\n/**\n * 执行复制\n * @param source 触发复制的对象\n * @param content 要复制的内容\n * @param successCallback 复制成功后的回调函数\n * @param errorCallback 复制失败后的回调函数\n */\nfunction Copy_action(source, content, successCallback, errorCallback) {\n    // 控制两次复制操作的时间间隔（同时也是解决嵌套情况下的复制失效问题）\n    let ts = V_getTime();\n    if (Copy_processing || ts - Copy_lastActionTime < 200)\n        return;\n    Copy_lastActionTime = ts;\n    Copy_processing = gTrue;\n\n    // 将要复制的内容赋予给 clipboard.js 指定的对象属性 data-clipboard-text\n    // let targetName = \".\" + source.a(_class_).rA(___, \".\").rA(\".\" + _hover_, _);\n    let targetName = \".\" + source.a(_class_).rA(___, \".\");\n    // 测试用 DEBUG(targetName);\n    $(targetName).a(_data_clipboard_text_, content);\n    DEBUG($(targetName).a(_data_clipboard_text_));\n\n    // 创建 clipboard.js 对象用于实现复制\n    let clipboard = new ClipboardJS(targetName);\n\n    // 复制成功事件\n    clipboard.on(\"success\", (event) => {\n        // 显示复制成功提示\n        iInfoTips.bubble(V_lang_text(62, [\n                \"已复制\",\n                \"Copied\"\n            ]), 2000, source);\n        event.clearSelection();\n\n        typeof(successCallback) === _function_ && successCallback();\n\n        // 销毁处理已有对象，避免多次监听\n        clipboard.destroy();\n\n        Copy_processing = gFalse;\n    });\n    // 复制失败事件\n    clipboard.on(_error_, (e) => {\n        // 显示复制失败提示\n        iInfoTips.error(V_ui_strong(V_lang_text(37, [\n            \"抱歉～暂不支持在该浏览器中复制\",\n            \"I'm very sorry~ I don't support copying in this browser\"\n        ])), 3000, gFalse, source);\n\n        ERROR(e);\n\n        typeof(errorCallback) === _function_ && errorCallback();\n\n        // 销毁处理已有对象，避免多次监听\n        clipboard.destroy();\n        Copy_processing = gFalse;\n    });\n}\n\n/**\n * 处理带格式复制的操作\n */\n// async function Copy_actionForRich() {\n//     // 针对选中的内容进行处理\n//     const selection = window.getSelection();\n//     if (selection.rangeCount > 0 && Copy_rich_ui_start !== gUndefined) {\n//         let range = selection.getRangeAt(0),\n//             selectedContent = range.cloneContents();\n\n//         // 将临时添加到 #write 内以正确匹配样式后再进行处理\n//         Copy_rich_ui.a(_id_, \"write\");\n//         Copy_rich_ui.c(_width_, VOM_doc().c(_width_));\n//         Copy_rich_ui.ap($(selectedContent));\n\n//         // 递归处理子元素\n//         __convertStylesToInline(Copy_rich_ui[0]);\n\n//         // 将完成内联样式处理的内容写入到 clipboard\n//         try {\n//             let clipboardItem = new ClipboardItem({\n//                 \"text/html\": new Blob([Copy_rich_ui.hm()], { type: _text_ + \"/\" + _html_ }),\n//                 \"text/plain\": new Blob([Copy_rich_ui.t()], { type: _text_ + \"/plain\" }) // 提供纯文本作为备用\n//             });\n//             // 使用 Clipboard API 写入剪贴板\n//             await navigator.clipboard.write([clipboardItem]);\n//             iInfoTips.bubble(V_lang_text(62, [\n//                 \"已复制\",\n//                 \"Copied\"\n//             ]), 2000);\n//             // LOG(\"源格式的内容已复制到剪贴板\");\n//         } catch (err) {\n//             ALERT([\n//                 \"源格式的内容复制失败：\",\n//                 \"Failed to copy content in source format: \"\n//             ][V_lang] + err);\n//         }\n\n//         // 延迟移除临时复制标记内的内容，确保粘贴前内容完整\n//         V_later(() => {\n//             // 清除临时内容\n//             Copy_rich_ui.ch().rm();\n//             Copy_processing = gFalse;\n//         }, 1000);\n//     }\n\n//     // 转换内联样式\n//     function __convertStylesToInline(element) {\n//         let _t = $(element);\n//         if (V_length(_t.ch()) === 0 && V_length(_t.t().x()) === 0) {\n//             element.setAttribute(_style_, _display_+\":\"+_none_);\n//             return;\n//         }\n\n//         let computedStyles = window.getComputedStyle(element),\n//             inlineStyle = _,\n//             propertyList = [\n//                 // 字体相关\n//                 _font_family_,\n//                 _font_size_,\n//                 _font_weight_,\n//                 _font_style_,\n//                 _line_height_,\n//                 _text_transform_,\n//                 _letter_spacing_,\n//                 // 颜色、背景\n//                 _color_,\n//                 _background_color_,\n//                 _background_image_,\n//                 _background_clip_,\n//                 _background_repeat_,\n//                 _background_position_,\n//                 // 阴影\n//                 _box_shadow_,\n//                 _text_shadow_,\n//                 // 边框\n//                 _border_,\n//                 _border_left_,\n//                 _border_right_,\n//                 _border_top_,\n//                 _border_bottom_,\n//                 _border_radius_,\n//                 // 对齐\n//                 _text_align_,\n//                 _justify_content_,\n//                 _align_items_,\n//                 _vertical_align_,\n//                 // 大小、布局\n//                 // _left_,\n//                 // _width_,\n//                 _padding_,\n//                 _margin_,\n//                 _min_width_,\n//                 _max_width_,\n//                 _word_break_,\n//                 _white_space_,\n//                 _overflow_,\n//                 _overflow_wrap_,\n//                 _display_,\n//                 _position_,\n//                 _z_index_\n//             ];\n\n//         for (let i = 0; i < V_length(propertyList); i++)\n//             inlineStyle += __genInlineStyle(computedStyles, propertyList[i]);\n\n//         // 处理伪元素\n//         // const pseudoBefore = window.getComputedStyle(element, '::before');\n//         // const pseudoAfter = window.getComputedStyle(element, '::after');\n\n//         // if (pseudoBefore.content !== _none_) {\n//         //     inlineStyle += `::before { content: ${pseudoBefore.content}; } `;\n//         // }\n//         // if (pseudoAfter.content !== _none_) {\n//         //     inlineStyle += `::after { content: ${pseudoAfter.content}; } `;\n//         // }\n\n//         // 设置内联样式\n//         element.setAttribute(_style_, inlineStyle);\n\n//         // 递归处理子元素\n//         for (let child of element.children)\n//             __convertStylesToInline(child);\n//     }\n\n//     // 生成指定属性名的内联样式内容\n//     function __genInlineStyle(style, propertyName) {\n//         let value = V_util_getComputedStyleValue(style, propertyName),\n//             inlineStyle = _;\n//         if (value) inlineStyle = `${propertyName}:${value};`;\n//         return inlineStyle;\n//     }\n// }\n\n// ==================== 标记不发布的内容类 ==================== //\n\nfunction Unpublish_init() {\n    // --------------------\n    // 指定的引用块（小标题、折叠）\n    $(_idWrite_ +___+ _blockquote_ + ExtQuote_subTitle + \">\" + _del_ + __only_child_ + \",\"\n    + _idWrite_ +___+ _blockquote_ + \">h6\" + __first_child_ + \">\" + _del_ + __only_child_).e((index, element) => {\n        let _t = $(element).p(),\n            tagName = V_tagName(_t),\n            target = gUndefined;\n\n        if (tagName.sW(\"h6\")) // h6, 扩展语法在生成 detail 前\n            target = _t.p();\n        else if (tagName.sW(\"st\") || tagName.sW(\"ma\")) // strong, mark\n            target = _t.p().p();\n\n        if (target !== gUndefined) {\n            let hr = target.prev();\n            // 先移除前置的可以移除的 hr\n            V_tagName(hr) === _hr_\n                && hr.rm();\n            // 移除目标对象\n            target.rm();\n        }\n    });\n\n    // --------------------\n    // 指定的章节\n    for (let i = 1; i <= 6; i++)\n        __disposeUnpubHeader(i);\n\n    // --------------------\n    // 表格指定列\n    // 在表格列格式化处理的 ColumnFormatting_format() 中进行\n\n    /**\n     * 处理指定分级章节不发布内容的处理\n     * @param headerNum 指定要遍历的章节等级\n     */\n    function __disposeUnpubHeader(headerNum) {\n        $(_idWrite_ + \">h\" + headerNum + \">\" + _del_ + __only_child_).e((index, element) => {\n            let _t = $(element).p(),\n                id = _t.a(_id_);\n            WARN(`Remove unpub. ${_header_}: ${_t.t()} (#${id})`);\n\n            // 移除目录大纲中指定的章节及子章节的目录节点\n            V_byClass(_md_toc_item_ + \">a\" + V_attrCSS(_href_, \"#\" + id)).e((index, element) => {\n                let tocItem = $(element).p();\n                tocItem.nU(__getUntilHeaderSelector(\".\" + _md_toc__ + \"h\")).rm();\n                // 移除自身\n                tocItem.rm();\n            });\n\n            // 移除正文中指定的章节及子章节的内容，直到下一个同级，或更高等级章节\n            _t.nU(__getUntilHeaderSelector(\"h\") + \",.\" + _footnotes_area_).rm(); // 比指定章节等级更高一级的，及当前等级章节\n            // 移除自身\n            _t.rm();\n        });\n\n        // 获取结束的选择器\n        function __getUntilHeaderSelector(prefix) {\n            return prefix + (headerNum === 1\n                ? 1 // 一级章节\n                : (headerNum - 1)  + \",\" + prefix + headerNum);\n        }\n    }\n}\n\n// ==================== 章节标题自动编号增强类 ==================== //\n\nlet HeaderAutoNum_counter = [],\n    HeaderAutoNum_lastLevel = 1,\n    // 自定义的自动编号格式模板（可只指定任意 h1~h6）\n    HeaderAutoNum_tpl = \"h1{{###. }},h2{{### }},h3{{### }},h4{{### }},h5{{### }},h6{{#none# }}\",\n    // 默认的自动编号格式模板\n    HeaderAutoNum_tplSet = HeaderAutoNum_tpl.sp(\",\"),\n    HeaderAutoNum_tpl_syntax = /h([1-6]){{(.*)(#(0*)(#|zh|ZH|alpha|ALPHA|roman|ROMAN|none)(-min|-sup)?#)(.*)}}/,\n    HeaderAutoNum_tpl_leftPad = [_, _, _, _, _, _],\n    HeaderAutoNum_tpl_format = [\"#\", \"#\", \"#\", \"#\", \"#\", \"#\"], // 编号格式\n    HeaderAutoNum_tpl_formatOpt = [0, 0, 0, 0, 0, 0], // 特殊格式选项\n    HeaderAutoNum_tpl_prefix = [_, _, _, _, _, _], // 前缀\n    HeaderAutoNum_tpl_suffix = [_, _, _, _, _, _]; // 后缀\n\n// 特殊格式选项\nconst HEADER_AUTONUM_TPL_FORMAT_OPT_NONE = 0, // 无\n    HEADER_AUTONUM_TPL_FORMAT_OPT_MIN = 1, // -min\n    HEADER_AUTONUM_TPL_FORMAT_OPT_SUP = 2; // -sup\n\n/**\n * 初始化章节目录自动编号\n */\nfunction HeaderAutoNum_initToc() {\n    let metaTpl = V_getMetaByName(_vlook_header_autonum_);\n    // 文档无指定自动编号格式模板时，尝试取主题配套的自动编号格式模板\n    if (metaTpl === gUndefined)\n        metaTpl = V_getVarVal(\"--\" + _vlook_header_autonum_);\n    // 没有目录大纲，同时没有通过预置选项、主题配置指定自动编号格式模板，则跳过\n    if (metaTpl === gUndefined)\n        return;\n\n    // 重置自动编号格式模板\n    HeaderAutoNum_resetTpl(metaTpl);\n\n    // 对目录大纲内的章节条目进行处理\n    if (V_length(gVlookToc) > 0) {\n        HeaderAutoNum_resetCounter();\n        gVlookToc.ch(\".\" + _md_toc_item_).e((index, element) => {\n            let item = $(element);\n            V_ui_addAnimate(item);\n            __genNumContent(item,\n                HeaderAutoNum_parseTocHeaderLevel(item.a(_class_)));\n        });\n    }\n\n    // 对文档中的章节条目进行处理（不包括封底）\n    HeaderAutoNum_resetCounter();\n    VOM_doc().ch(\"h1\" + V_not(__last_child_) + \",h2,h3,h4,h5\").e((index, element) => {\n        let item = $(element);\n        __genNumContent(item,\n            HeaderAutoNum_parseTocHeaderLevel(V_tagName(item)));\n    });\n\n    // 对文档中的 h6 章节条目进行处理（不包括封面）\n    HeaderAutoNum_resetCounter();\n    VOM_doc().ch(_h6_ + V_not(__first_child_)).e((index, element) => {\n        let prefix = (HeaderAutoNum_tpl_prefix[5]),\n            result;\n        if ((result = prefix.m(/var\\((--.+)\\)/)) !== gNull)\n            prefix = V_getVarVal(result[1]);\n        $(element).a(_data_header_num_, prefix);\n    });\n\n    // 生成标题编号\n    function __genNumContent(item, lv) {\n        let diff = lv - HeaderAutoNum_lastLevel,\n            absDiff = Math.abs(diff);\n        // 当前层级比上一层级低\n        if (diff > 0)\n            for (let i = 0; i < absDiff; i++)\n                HeaderAutoNum_push();\n        // 当前层级比上一层级高\n        else if (diff < 0)\n            for (let i = 0; i < absDiff; i++)\n                HeaderAutoNum_pop();\n        // 当前层级与上一层级一样\n        else\n            HeaderAutoNum_counter[HeaderAutoNum_lastLevel - 1]++;\n\n        item.a(_data_header_num_, HeaderAutoNum_toString());\n    }\n}\n\n/**\n * 进入下一级的处理\n */\nfunction HeaderAutoNum_push() {\n    HeaderAutoNum_lastLevel++;\n    HeaderAutoNum_counter[HeaderAutoNum_lastLevel - 1] = 1;\n}\n\n/**\n * 返回上一级的处理\n */\nfunction HeaderAutoNum_pop() {\n    HeaderAutoNum_counter[HeaderAutoNum_lastLevel - 1] = 0;\n    HeaderAutoNum_lastLevel--;\n    HeaderAutoNum_counter[HeaderAutoNum_lastLevel - 1]++;\n}\n\n/**\n * 重置自动编号计数器\n */\nfunction HeaderAutoNum_resetCounter() {\n    HeaderAutoNum_counter = [0, 0, 0, 0, 0, 0];\n    HeaderAutoNum_lastLevel = 1;\n}\n\n/**\n * 根据自动编号格式模板重新重置 h1~h6 自动编号格式\n * @param metaTpl 格式模板内容\n */\nfunction HeaderAutoNum_resetTpl(metaTpl) {\n    // 判断是否有指定自定义自动编号模板\n    if (metaTpl === gUndefined)\n        return;\n    HeaderAutoNum_tpl = metaTpl;\n\n    // ！！！不要删除！！！用于测试效果\n    // HeaderAutoNum_tpl = \"h1{{###. }},h2{{### }},h3{{### }},h4{{### }},h5{{### }}\";\n    // HeaderAutoNum_tpl = \"h1{{第#zh#章 }}\";\n    // HeaderAutoNum_tpl = \"h1{{第#zh#章 }},h2{{Chapter #alpha# }},h5{{### }},h4{{### - }},h3{{§ ###}}\";\n    // HeaderAutoNum_tpl = \"h1{{第#zh#章 }},h2{{步骤 #000## }}\";\n    // HeaderAutoNum_tpl = \"h6{{X ### }}\";\n    // HeaderAutoNum_tpl = \"h1{{###. }},h2{{### }}\";\n    // HeaderAutoNum_tpl = \"h1{{#none#}},h2{{#none#}},h3{{### }},h4{{### }},h5{{#ALPHA-min# }}\";\n\n    if (V_isLength0(HeaderAutoNum_tpl))\n        return;\n\n    // 对自动编号格式模板内容进行处理\n    let tplSet = HeaderAutoNum_tpl.sp(\",\"),\n        lv;\n    for (let i = 0; i < V_length(tplSet); i++) {\n        lv = tplSet[i].ss(1, 2);\n        if (!isNaN(lv))\n            HeaderAutoNum_tplSet[lv - 1] = tplSet[i].x();\n    }\n\n    // 解析自定义编码格式模板内容\n    __parseTplItem(0); // h1\n    __parseTplItem(1); // h2\n    __parseTplItem(2); // h3\n    __parseTplItem(3); // h4\n    __parseTplItem(4); // h5\n    __parseTplItem(5); // h6\n\n    // 解析模板条目\n    function __parseTplItem(lv) {\n        let result;\n        if ((result = HeaderAutoNum_tplSet[lv].m(HeaderAutoNum_tpl_syntax)) !== gNull\n            && V_length(result) === 8) {\n                HeaderAutoNum_tpl_prefix[lv] = result[2];\n                HeaderAutoNum_tpl_leftPad[lv] = result[4];\n                HeaderAutoNum_tpl_format[lv] = result[5];\n                HeaderAutoNum_tpl_formatOpt[lv] =\n                    (result[6] === \"-min\") ? HEADER_AUTONUM_TPL_FORMAT_OPT_MIN\n                    : (result[6] === \"-sup\") ? HEADER_AUTONUM_TPL_FORMAT_OPT_SUP\n                    : HEADER_AUTONUM_TPL_FORMAT_OPT_NONE;\n                HeaderAutoNum_tpl_suffix[lv] = result[7];\n        }\n    }\n}\n\n/**\n * 将当前层级信息转换为字符串\n */\nfunction HeaderAutoNum_toString() {\n    let lv = HeaderAutoNum_lastLevel - 1,\n        superLv = (lv > 0) ? lv - 1 : -1,\n        opt = HeaderAutoNum_tpl_formatOpt[lv],\n        numStr = _;\n\n    // 若指定了特殊的格式选项\n    if (opt > HEADER_AUTONUM_TPL_FORMAT_OPT_NONE) {\n        if (opt === HEADER_AUTONUM_TPL_FORMAT_OPT_SUP && superLv >= 0)\n            numStr =  __formatNum(superLv, opt) + \".\";\n        numStr += __formatNum(lv, opt);\n        // 结束并返回\n        return HeaderAutoNum_tpl_prefix[lv]\n            + numStr\n            + HeaderAutoNum_tpl_suffix[lv];\n    }\n\n    // 没有指定特殊的格式选项\n    let str = 0;\n    for (let i = 0; i < HeaderAutoNum_lastLevel; i++) {\n        str = __formatNum(i, false);\n        numStr += str;\n        if (i < lv && V_length(str) > 0)\n            numStr += \".\";\n    }\n\n    return HeaderAutoNum_tpl_prefix[lv]\n        + numStr\n        + HeaderAutoNum_tpl_suffix[lv];\n\n    /**\n     * 指定层级的编号进行格式化\n     * @param i 层级\n     * @param opt 特殊格式选项\n     */\n    function __formatNum(i, opt) {\n        let ns = _,\n            counter = HeaderAutoNum_counter[i],\n            upperCase = (HeaderAutoNum_tpl_format[i].ss(0, 1).m(/[A-Z]/) !== gNull),\n            format = HeaderAutoNum_tpl_format[i].l();\n\n        // 十进制数字\n        if (format === \"#\")\n            ns = (HeaderAutoNum_lastLevel === 1)\n                // 针对 h1\n                ? HeaderAutoNum_leftPadForDecimal(counter, i)\n                // 针对 h2~h5\n                : (i === 0 // 第1段\n                    ? JS_toString(counter) // 针对 第1段 强制变为数字（避免出现左侧补 0 的情况）\n                    : HeaderAutoNum_leftPadForDecimal(counter, i))\n        // 中文数字\n        else if (format === \"zh\") {\n            ns = (HeaderAutoNum_lastLevel === 1)\n                // 针对 h1\n                ? HeaderAutoNum_decimalToZh(counter, upperCase)\n                // 针对 h2~h5\n                : HeaderAutoNum_leftPadForDecimal(counter, i);\n        }\n        // 英文字母\n        else if (format === _alpha_) {\n            ns = (HeaderAutoNum_lastLevel === 1 || opt > HEADER_AUTONUM_TPL_FORMAT_OPT_NONE)\n                // 针对 h1\n                ? HeaderAutoNum_decimalToAlpha(counter, upperCase)\n                // 针对 h2~h5\n                : HeaderAutoNum_leftPadForDecimal(counter, i);\n        }\n        // 罗马数字\n        else if (format === \"roman\") {\n            ns = (HeaderAutoNum_lastLevel === 1 || opt > HEADER_AUTONUM_TPL_FORMAT_OPT_NONE)\n                // 针对 h1\n                ? HeaderAutoNum_decimalToRoman(counter, upperCase)\n                // 针对 h2~h5\n                : HeaderAutoNum_leftPadForDecimal(counter, i);\n        }\n        else if (format === _off_)\n            ns = _;\n        return ns;\n    }\n}\n\n/**\n * 解析 Typora 生成的目录大纲节点样式名称对应的目录层级（h1~h6）\n * @param value 包含 h1~h6 的标识内容，如：md-toc-h1、h1 等\n * @returns number 目录层级：1~6\n */\nfunction HeaderAutoNum_parseTocHeaderLevel(value) {\n    let lv = value.m(/(h([1-5]))/)[2];\n    return isNaN(lv) ? 0 : JS_parseInt(lv);\n}\n\n/**\n * 左侧补 0\n * @param value 当前值\n * @param lv 级别\n * @returns\n */\nfunction HeaderAutoNum_leftPadForDecimal(value, lv) {\n    let pad = V_length(HeaderAutoNum_tpl_leftPad[lv]),\n        gap = pad - V_length(JS_toString(value)),\n        padStr = _;\n    if (gap > 0)\n        for (let i = 0; i < gap; i++)\n            padStr += 0;\n    return padStr + value;\n}\n\n// 算法参考：https://blog.csdn.net/lavendersue/article/details/81066091\nlet HeaderAutoNum_zhNum = [\"零\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\", \"七\", \"八\", \"九\"], // 数字\n    HeaderAutoNum_zhUnit = [_, \"十\", \"百\", \"千\", \"万\"]; // 单位，最大支持 99,999,999\n/**\n * 数字格式转换：十进制 to 中文\n * @param num 十进制数字\n * @param upperCase 是否使用大写\n */\nfunction HeaderAutoNum_decimalToZh(num, upperCase) {\n    let overWan = Math.floor(num / 10000),\n        noWan = num % 10000;\n    if (V_length(JS_toString(noWan)) < 4)\n        noWan = \"0\" + noWan;\n\n    let numeral = overWan ? __numToZh(overWan) + \"万\" + __numToZh(noWan) : __numToZh(num);\n    // 对于 10－19 的特殊处理\n    if (num >= 10 && num <= 19)\n        numeral = numeral.r(\"一十\", \"十\");\n    return upperCase ? __toZhUpperCase(numeral) : numeral;\n\n    // 阿拉伯数字转换为中文数字\n    function __numToZh(value) {\n        let strArr = JS_toString(value).sp(_).reverse();\n        let newNum = _;\n        for (let i = 0; i < V_length(strArr); i++) {\n          newNum = (\n            (i === 0 && strArr[i] === 0) ? _\n            : (i > 0 && strArr[i] === 0 && strArr[i - 1] === 0 ? _\n            : HeaderAutoNum_zhNum[strArr[i]] + (strArr[i] === 0 ? HeaderAutoNum_zhUnit[0] : HeaderAutoNum_zhUnit[i])\n            ))\n            + newNum;\n        }\n        return newNum;\n    }\n\n    // 将中文数字转换为大写\n    function __toZhUpperCase(value) {\n        return value.rA(/一/g, \"壹\")\n            .rA(/二/g, \"贰\")\n            .rA(/三/g, \"叁\")\n            .rA(/四/g, \"肆\")\n            .rA(/五/g, \"伍\")\n            .rA(/六/g, \"陆\")\n            .rA(/七/g, \"柒\")\n            .rA(/八/g, \"捌\")\n            .rA(/九/g, \"玖\")\n            .rA(/十/g, \"拾\")\n            .rA(/百/g, \"佰\")\n            .rA(/千/g, \"仟\");\n    }\n}\n\n/**\n * 数字格式转换：十进制 to 英文字母\n * @param value 十进制数字\n * @param upperCase 是否使用大写\n */\nfunction HeaderAutoNum_decimalToAlpha(value, upperCase) {\n    let numeral = _;\n    while (value > 0) {\n        let m = value % 26\n        if (m === 0)\n            m = 26;\n        numeral = String.fromCharCode(64 + JS_parseInt(m)) + numeral;\n        value = (value - m) / 26;\n    }\n    return upperCase ? numeral : numeral.l();\n}\n\n// 罗马数字参考：https://baike.baidu.com/item/%E7%BD%97%E9%A9%AC%E6%95%B0%E5%AD%97/772296\n// 算法参考：https://www.mianshigee.com/note/detail/180314zvm/\nlet HeaderAutoNum_romanNum = [\"M\", \"CM\", \"D\", \"CD\", \"C\", \"XC\", \"L\", \"XL\", \"X\", \"IX\", \"V\", \"IV\", \"I\"], // 罗马数字\n    HeaderAutoNum_romanNumArea = [1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1]; // 进位区间\n/**\n * 数字格式转换：十进制 to 罗马\n * @param value 十进制数字\n * @param upperCase 是否使用大写\n */\nfunction HeaderAutoNum_decimalToRoman(value, upperCase) {\n    if (value <= 0 || value >= 4000)\n       return value;\n    let numeral = _;\n    for (let i = 0; i < V_length(HeaderAutoNum_romanNum); i++) {\n       while (value >= HeaderAutoNum_romanNumArea[i]) {\n          value -= HeaderAutoNum_romanNumArea[i];\n          numeral += HeaderAutoNum_romanNum[i];\n       }\n    }\n    return upperCase ? numeral : numeral.l();\n}\n\n// ==================== 引用块增强类 ==================== //\n\nlet ExtQuote_columnsGroupCount = 0,\n    ExtQuote_processingUCH = gFalse,\n    ExtQuote_quoteToColoring = gFalse,\n    ExtQuote_subTitle = \">:is(p\" + __first_child_ + \",p\" + __first_child_ + \"+p)>:is(\" + _strong_ + \",\" + _mark_ + \")\" + __only_child_;\n\n/**\n * 初始化引用块以实现折叠支持\n */\nfunction ExtQuote_init() {\n    // 初始化引用块着色的默认颜色标识\n    let dcQuote = V_getParamVal(_quote_);\n    if (dcQuote !== gNull) {\n        if (dcQuote !== _off_) {\n            ExtQuote_quoteToColoring = gTrue;\n            Quote_defalutColor = dcQuote;\n            Quote_defalutColor_withoutEm = dcQuote.ss(0, 2);\n        }\n    }\n\n    // 遍历所有引用块、详情\n    $(_blockquote_).e((index, element) => {\n        let _t = $(element),\n            matchedQuoteFold = gFalse;\n        // ====================\n        // 处理引用块折叠（details）\n        _t.ch(_h6_ + __first_child_).e((i, e) => {\n            let details = __disposeDetailsFolder($(e));\n            if (details)\n                _t = details;\n            matchedQuoteFold = true;\n        });\n\n        // 存在折叠，则标识，不参与分栏引用块的统一高度处理\n        if (matchedQuoteFold) {\n            _t.a(_data_folding_, _true_);\n            V_tagName(_t.p()) === _blockquote_\n                && _t.p().a(_data_folding_, _true_);\n        }\n        // ====================\n\n        // ====================\n        // 为引用小标题添加锚点\n        // 配合前置的 LinkTool_vlookHashComform() 进行\n        _t.f(ExtQuote_subTitle).e((i, e) => {\n            let title = $(e);\n            title.a(_id_, LinkTool_transSpecHash(title.t()));\n            JQ_addClass(title.p().p(), _stt_);\n        });\n        // ====================\n\n        // --------------------\n        // 默认引用块，转换为引用块着色\n        let parentTag = V_tagName(_t.p());\n\n        // 跳过列表内、引用块内的嵌套引用块\n        if (parentTag === \"li\" || parentTag === _blockquote_ || parentTag === _details_)\n            return gTrue;\n        let validColorCode = gFalse;\n        // 判断引用块内是否包含了引用块着色语法\n        // 针对新语法\n        _t.f(\">p>em\" + __only_child_ + \">sub\" + __only_child_).e((index, element) => {\n            let _t = $(element);\n            // 颜色标签独占一行的情况下才被视为是对引用块、详情的颜色标识\n            if (_t.t().m(Color_syntax) !== gNull) {\n                validColorCode = gTrue;\n                return gFalse; // 提前结束循环\n            }\n        });\n\n        // 引用块内不包含引用块着色语法的，则模拟指定默认的着色语法\n        ExtQuote_quoteToColoring && !validColorCode\n            && _t.ap(\"<p><em>\" + V_ui_sub(_, _, Quote_defalutColor) + \"</em></p>\");\n    });\n\n    // 针对分栏引用块进行初始化\n    ExtQuote_initColumns();\n\n    // 针对分栏列表进行初始化\n    ExtList_initColumns();\n\n    /**\n     * 对 details 折叠进行处理\n     * @param target 带约定 details 折叠的对象\n     * @returns object 成功匹配并处理\n     */\n    function __disposeDetailsFolder(target) {\n        let quote = target.p();\n        // 生成 details\n        quote.wrap('<' + _details_ +___+ V_attr(_id_, V_doc_counter_details) + '></' + _details_ + '>');\n        // 取消 h6，并生成 summary\n        target.unwrap().wrap(\"<\" + _summary_ + \" \" + V_attr(_id_, target.a(_id_)) + \"></\" + _summary_ + \">\");\n        // 删除无用对象\n        target.ch().unwrap();\n\n        // 获取生成的 detail 实例\n        let details = $(_details_ + \"#\" + V_doc_counter_details),\n            summary = details.ch(_summary_);\n        summary.pp(V_ui_svgIcon(_icoDetailsOpen_, 18, 18, _text_, _v_svg_details_));\n\n        let icon = summary.ch(\".\" + _v_svg_details_);\n        V_ui_addAnimate(icon);\n        // 跟踪切换事件\n        details.on(\"toggle\", (event) => {\n            // 自动调整高度\n            summary.ps(_blockquote_ + V_attrCSS(_data_quote_group_)).p().c(_height_, _auto_);\n            summary.p().c(_height_, _auto_);\n\n            event.currentTarget.open\n                ? JQ_addClass(icon, _v_rotate45_)\n                : JQ_removeClass(icon, _v_rotate45_);\n        });\n\n        V_doc_counter_details++;\n        return details;\n    }\n}\n\n/**\n * 对分栏引用块进行初始化\n */\nfunction ExtQuote_initColumns() {\n    // 针对分栏引用块进行修正\n    $(_hr_ + \"+\" + _blockquote_\n        + \",\" + _hr_ + \"+\" + _details_\n        + \",\" + _hr_ + \"+.\" + _md_alert_).e((index, element) => {\n        ExtQuote_columnsGroupCount++;\n        let _t = $(element),\n            hr = _t.pr(),\n            colCount = 0;\n\n        // ----------------------------------------\n        // 隐藏标识分栏的 <hr>\n        __hideHr(hr);\n        colCount = V_length(hr.prevUntil(V_not(_hr_))) + 2; // 计算分栏数量\n        // 有更多的 <hr> 则进行处理\n        colCount > 2\n            && __hideHr(hr.prevUntil(V_not(_hr_)));\n\n        // ----------------------------------------\n        // 对分栏按组进行初始处理\n        __groupingColumns(_t);\n        _t.nU(V_not(_blockquote_ + \",\" + _details_ + \",.\" + _md_alert_)).e((index, element) => {\n            colCount > 0\n                && __groupingColumns($(element));\n        });\n\n        // 隐藏标识分栏的 <hr>\n        function __hideHr(target) {\n            target.c(_visibility_, _hidden_)\n                .c(_margin_, 0)\n                .c(_border_, 0);\n        }\n\n        // 进行分组标识\n        function __groupingColumns(quote) {\n            JQ_addClass(quote, _column_);\n            // 若为带折叠的引用块，则跳过\n            if (quote.a(_data_folding_))\n                return;\n\n            quote.a(_data_quote_group_, ExtQuote_columnsGroupCount);\n            colCount--;\n        }\n    });\n}\n\n/**\n * 对文档内所有分栏，按组为单位进行统一高度处理\n */\nfunction ExtQuote_uniteColumnsHeight() {\n    if (ExtQuote_processingUCH)\n        return;\n\n    ExtQuote_processingUCH = gTrue;\n    for (let i = 1; i <= ExtQuote_columnsGroupCount; i++)\n        ExtQuote_uniteColumnsHeightByGroupId(i);\n    ExtQuote_processingUCH = gFalse;\n}\n\n/**\n * 对指定组的分栏进行统一高度处理\n * @param groupId 分栏组 id\n */\nfunction ExtQuote_uniteColumnsHeightByGroupId(groupId) {\n    if (groupId === gUndefined)\n        return;\n\n    // 找出同一组中最大的高度\n    let maxHeight = 0,\n        quote = $(_blockquote_ + V_attrCSS(_data_quote_group_, groupId) + \",\"\n            + _details_ + V_attrCSS(_data_quote_group_, groupId) + \",.\"\n            + _md_alert_ + V_attrCSS(_data_quote_group_, groupId));\n    quote.e((index, element) => {\n        let _t = $(element);\n        _t.c(_height_, _auto_);\n        // 没有被小屏强制适配为不分栏时才处理\n        if (_t.c(_display_) !== _block_) {\n            let height = _t.oH();\n            if (height > maxHeight)\n                maxHeight = height;\n        }\n    });\n\n    // 没有被小屏强制适配为不分栏时才处理\n    quote.c(_display_) !== _block_ && maxHeight > 0\n        // 将同一组中最大的高度\n        && quote.c(_height_, maxHeight);\n}\n\n// ==================== 列表增强类 ==================== //\n\n/**\n * 对分栏列表进行初始化\n */\nfunction ExtList_initColumns() {\n    // 针对分栏列表进行修正\n    $(_hr_ + \"+ul,\" + _hr_ + \"+ol\").e((index, element) => {\n        let _t = $(element),\n            hr = _t.pr();\n\n        // ----------------------------------------\n        // 隐藏标识分栏的 <hr>\n        hr.c(_display_, _none_);\n        let colCount = V_length(hr.prevUntil(V_not(_hr_))) + 2; // 计算分栏数量\n        // 有更多的 <hr>\n        colCount > 2\n            && hr.prevUntil(V_not(_hr_)).c(_display_, _none_);\n    });\n}\n\n// ==================== 表格增强类 ==================== //\n\n/**\n * 初始化表格数据\n */\nfunction ExtTable_init() {\n    let sw = new Stopwatch();\n\n    // ----------------------------------------\n    // 表格预处理\n    sw.st();\n    $(_table_).e((index, element) => {\n        let _t = $(element),\n            container = _t.p();\n\n        V_doc_counter_table++;\n\n        // 绑定内容助手\n        ContentAssistor_bind(_t, _table_);\n\n        // 表格自定义属性数据\n        container.a(_data_cntr_, _table_);\n        JQ_addClass(container, _v_cap_cntr_);\n\n        // 表格滚动事件\n        container.scroll(() => {\n            TableCross_hide();\n        });\n\n        // 表格单元格初始化处理\n        __initCell(_t);\n\n        // 折叠长表格\n        ContentFolder_add(_t, _table_);\n        // 先根据题注语法生成题注\n        Caption_genForTextContent(_t, _table_);\n    }); // table\n    sw.ed(\"    ├ Prepare: \");\n\n    // ----------------------------------------\n    // 表格单元格合并\n    sw.st();\n    $(_table_ + V_attrCSS(_data_cell_merge_, _true_)).e((index, element) => {\n        let _t = $(element);\n        CellMerge_dispose(_t);\n\n        // 合并后，针对列头纵向合并的情况二次执行列格式处理\n        _t.f(_thead_ + \">tr>th\").e((i, e) => {\n            let cell = $(e);\n            ColumnFormatting_init(_t, cell, cell.t());\n        });\n    });\n    sw.ed(\"    ├ Merge: \");\n\n    // ----------------------------------------\n    // 对表格单元格初始化处理中标识为带列格式的表格，进行列格式化处理\n    sw.st();\n    $(_table_ + V_attrCSS(_data_column_fmting_, _true_)).e((index, element) => {\n        ColumnFormatting_format($(element));\n    });\n    sw.ed(\"    ├ Column Format: \");\n\n    // ----------------------------------------\n    // 表格行折叠\n    sw.st();\n    $(_table_ + V_attrCSS(_data_row_group_, _true_)).e((index, element) => {\n        let _t = $(element);\n        RowGroup_init(_t);\n\n        // 修正行分组的首个单元格的缩进\n        _t.f(\"tr\" + V_attrCSS(_data_folder_, _true_)).e((i, e) => {\n            let td = $(e).ch(\"td:\" + _first_);\n            td.a(_data_ident_level_) !== gUndefined\n                && td.c(_padding_left_, \".5em\");\n        });\n    });\n    sw.ed(\"    ├ Row Group: \");\n\n    /**\n     * 表格单元格初始化\n     * @param table 表格对象\n     */\n    function __initCell(table) {\n        // 遍历表格「列头」行\n        let colIndex = 0;\n        table.f(_thead_ + \">tr\").e((index, element) => {\n            colIndex = 0;\n            let needCheckCellMerge = gTrue,\n                needCheckColumnFormatting = gTrue;\n            // ----------------------------------------\n            // 遍历单元格\n            $(element).f(\"th\").e((i, e) => {\n                let th = $(e),\n                    text = th.t();\n\n                // ---------- 表格排版增强预处理 ----------\n                // 检测是否带合并单元格语法\n                if (needCheckCellMerge\n                    && table.a(_data_cell_merge_) !== _true_\n                    && (CellMerge_syntax_row.test(text)\n                    || CellMerge_syntax_col.test(text))) {\n                        // 将表格标识为带合并单元格语法\n                        table.a(_data_cell_merge_, _true_);\n                        needCheckCellMerge = gFalse;\n                }\n                // 检测是否带列格式语法\n                if (needCheckColumnFormatting) {\n                    if (ColumnFormatting_init(table, th, text))\n                        needCheckColumnFormatting = gFalse;\n                }\n\n                // ----------------------------------------\n                // 添加列号标识，用于列格式化时使用\n                th.a(_data_tbl_col_, \"tbl-\" + V_doc_counter_table + \"-\" + colIndex);\n                colIndex++;\n\n                // ---------- 非列头的单元格阅读模式（十字光标）处理 ----------\n                // 鼠标点击单元格时显示阅读模式（十字光标）\n                TableCross_bind(table, th);\n            });\n        });\n\n        // 标记该表格列太多，用于匹配是否换行、不换行的自动版式\n        colIndex >= 7\n            && table.a(_data_col_too_more_, colIndex);\n\n        // ----------------------------------------\n        // 遍历表格「非列头」行\n        table.f(_tbody_ + \">tr\").e((index, element) => {\n            let colIndex = 0,\n                needCheckCellMerge = gTrue,\n                needCheckRowGroup = gTrue;\n\n            // ----------------------------------------\n            // 遍历单元格\n            $(element).f(\"td\").e((i, e) => {\n                let td = $(e),\n                    text = td.t();\n\n                // 对于屏幕较小时，调整单元格的最大宽度处理\n                jq_Window.oW() <= gUnwrapTableScreenWidth\n                    && TableWrap_minWidthTd(table, td);\n\n                // ---------- 表格排版增强预处理 ----------\n                // 检测是否带合并单元格语法\n                if (needCheckCellMerge\n                    && table.a(_data_cell_merge_) !== _true_\n                    && (CellMerge_syntax_row.test(text)\n                    || CellMerge_syntax_col.test(text))) {\n                        // 将表格标识为带合并单元格语法\n                        table.a(_data_cell_merge_, _true_);\n                        needCheckCellMerge = gFalse;\n                }\n                // 检测是否带行折叠语法\n                if (needCheckRowGroup\n                    && colIndex === 0 // 只检测第 1 列\n                    && table.a(_data_row_group_) !== _true_\n                    && RowGroup_syntax_tag.test(text)) {\n                        // 将表格标识为带行折叠语法\n                        table.a(_data_row_group_, _true_);\n                        needCheckRowGroup = gFalse;\n                }\n                // 对于单元格的内容，都以 <mark> 标签包裹的，则转换为单元格的样式\n                // 同时转换后，在 Table.columnFormatting 的 init 处理中对应添加对应的过滤条件\n                if (/^<ma.+rk>$/.test(td.hm())) {\n                    td.ch().ch().unwrap(); // 解包 <mark>\n                    JQ_addClass(td, _v_tbl_col_fmt_mark_);\n                }\n\n                // 添加列号标识，用于列格式化时使用\n                td.a(_data_tbl_col_, \"tbl-\" + V_doc_counter_table + \"-\" + colIndex);\n                colIndex++;\n\n                // ---------- 列头的单元格阅读模式（十字光标）处理 ----------\n                // 鼠标点击单元格时显示阅读模式（十字光标）\n                TableCross_bind(table, td);\n            }); // find(th, td)\n        }); // find(tr)\n    }\n}\n\n// ==================== 表格单元格合并类 ==================== //\n\n// 单元格合并语法\nlet CellMerge_syntax_row = /^(:)$/, // 行，纵向合并\n    CellMerge_syntax_col = /^(==)$/ // 列，横向合并\n\n/**\n * 表格单元格合并\n * @param table 要进行单元格合并处理的表格对象\n */\nfunction CellMerge_dispose(table) {\n    let colSpanCount = 0,\n        colSpanCell = gNull,\n        colIndex = 0,\n        colCount = 0,\n        lastCell = gNull,\n        tblData = [],\n        tblSpan = [],\n        tblTd2ThData = [],\n        rowIndex = 0,\n        needRowSpan = gFalse;\n\n    // 遍历表格行\n    table.f(\"tr\").e((index, element) => {\n        tblData[rowIndex] = [];\n        tblSpan[rowIndex] = [];\n        let tr = $(element);\n        tr.f(\"td,th\").e((i, e) => {\n            let cell = $(e);\n\n            // --- 行合并：预处理（纵向） ---\n            // 克隆表格对象\n            tblData[rowIndex][colIndex] = cell;\n            tblSpan[rowIndex][colIndex] = 0;\n            if (CellMerge_syntax_row.test(cell.t())) {\n                tblSpan[rowIndex][colIndex] = 1;\n                needRowSpan = gTrue;\n            }\n            colIndex++;\n            colCount++;\n\n            // --- 列合并（横向） ---\n            // 是列合并标识\n            if (CellMerge_syntax_col.test(cell.t())) {\n                colSpanCount++;\n                cell.rm();\n                if (colSpanCount === 1)\n                    colSpanCell = lastCell;\n            }\n            // 不是列合并标识，则进行最近列标识数据进行处理\n            else {\n                if (colSpanCount > 0 && colSpanCell !== gUndefined) {\n                    colSpanCell.a(_colspan_, colSpanCount + 1);\n                    CellMerge_emptyBlankCell(colSpanCell);\n                    colSpanCell.c(_text_align_, _center_);\n                }\n                // 对于不是合并标识时，也清空无内容的单元格\n                else\n                    CellMerge_emptyBlankCell(cell);\n                colSpanCount = 0;\n            }\n            lastCell = cell;\n        }); // find(td, th)\n\n        // 如果列合并了所有列，且内容为空，则取消表格行号等样式\n        if (colCount === colSpanCount + 1 && V_length(tr.t().x()) === 0)\n            JQ_addClass(tr, _v_table_ + \"-colspan-all\");\n\n        // 列间合并：对于最后一列的补充处理\n        if (colSpanCount > 0 && colSpanCell !== gUndefined) {\n            colSpanCell.a(_colspan_, colSpanCount + 1);\n            CellMerge_emptyBlankCell(colSpanCell);\n            colSpanCell.c(_text_align_, _center_);\n        }\n        colSpanCount = 0;\n\n        rowIndex++;\n        colIndex = 0;\n        colCount = 0;\n    }); // tr\n\n    rowIndex = 0;\n\n    // --- 行间合并（纵向）---\n    if (needRowSpan) {\n        tblTd2ThData = [];\n        // 列式遍历（从左到右）\n        for (let c = 0, len = V_length(tblSpan[0]); c < len; c++) {\n            let rowSpanCount = 0,\n                rowSpanCell = gNull;\n            let r = 0,\n                thSpanFlag = gFalse;\n\n            // 列式遍历（从上到下）\n            while (r < V_length(tblSpan)) {\n                if (tblSpan[r][c] === 1) { // 要合并\n                    rowSpanCount++;\n                    if (rowSpanCell === gNull)\n                        rowSpanCell = tblData[r - 1][c];\n                    // 记录最大列头行合并深度\n                    if (r === 1)\n                        thSpanFlag = gTrue;\n                    if (thSpanFlag)\n                        tblTd2ThData[V_length(tblTd2ThData)] = tblData[r][c].p();\n                    tblData[r][c].rm(); // 移除要被合并的单元格\n\n                    // 后接的单元格会变成第 1 列，但不需要预留表格行号显示的空间\n                    c + 1 < V_length(tblSpan[r])\n                        && tblData[r][c + 1].c(_padding_left_, V_getVarVal(\"--tbl-\" + _cell_ + \"-\" + _padding_));\n                } else {\n                    thSpanFlag = gFalse;\n                    // 单元格行合并\n                    if (rowSpanCount > 0 && rowSpanCell !== gNull) {\n                        rowSpanCell.a(_rowspan_, rowSpanCount + 1);\n                        CellMerge_emptyBlankCell(rowSpanCell);\n                        rowSpanCell.c(_vertical_align_, _middle_);\n                        rowSpanCount = 0;\n                        rowSpanCell = gNull;\n                    }\n                }\n                r++;\n            } // while\n\n            // 行合并：对于最后一行的补充处理\n            if (rowSpanCount > 0 && rowSpanCell !== gNull) {\n                rowSpanCell.a(_rowspan_, rowSpanCount + 1);\n                CellMerge_emptyBlankCell(rowSpanCell);\n                rowSpanCell.c(_vertical_align_, _middle_);\n            }\n        } // for\n\n        // 处理列头的纵向合并\n        for (let i = 0, len = V_length(tblTd2ThData); i < len; i++) {\n            tblData[0][0].p().p().ap(tblTd2ThData[i]);\n            // 将 thead 内的 td 标签转换为 th\n            let foundTd = gFalse;\n            tblTd2ThData[i].f(\"td\").e((index, element) => {\n                foundTd = gTrue;\n                // 暂存 td 的属性数据\n                let td = $(element),\n                    style = td.a(_style_),\n                    tblCol = td.a(_data_tbl_col_),\n                    classValue = td.a(_class_),\n                    colspan = td.a(_data_colspan_);\n                // 将 td 转换为 th 标签\n                td.a(_data_td2th_, _true_);\n                td.rW(td.prop(_outerHTML_).rA(\"<td \", \"<th \"));\n                // 将暂存的 td 的属性数据，恢复到新标签中\n                td.p().a(_style_, style);\n                td.p().a(_data_tbl_col_, tblCol);\n                td.p().a(_class_, classValue);\n                td.p().a(_data_colspan_, colspan);\n            });\n            // 对被从 td 转换为 th 单元格，重新绑定：鼠标点击单元格时显示阅读模式（十字光标）\n            foundTd\n                && tblTd2ThData[i].f(\"th\" + V_attrCSS(_data_td2th_)).e((index, element) => {\n                    TableCross_bind(table, $(element));\n                });\n        }\n    } // if\n\n    needRowSpan = gFalse;\n}\n\n/**\n * 清空单元格内容（无内容情况下清空空格 &nbsp;）\n * @param cell 表格单元格对象\n */\nfunction CellMerge_emptyBlankCell(cell) {\n    // 无子元素，或内容只有一个空格的情况\n    if (cell.t().x() === _ || V_isLength0(cell)) {\n        cell.hm(_);\n        JQ_addClass(cell, _v__ + _empty_ + \"-\" + _cell_);\n    }\n}\n\n// ==================== 表格阅读模式（十字光标）类 ==================== //\n\nlet TableCross_ui = gUndefined,\n    TableCross_lastTable = gUndefined, // 最后/当前显示阅读模式（十字光标）的表格\n    TableCross_lastCell = gUndefined; // 最后/当前显示阅读模式（十字光标）的表格单元格\n\nfunction TableCross_init() {\n    TableCross_ui = $(_v_tbl_x_);\n    V_ui_addAnimate(TableCross_ui);\n}\n\n/**\n * 切换表格阅读模式（十字光标）开关\n */\nfunction TableCross_toggle(event) {\n    let table = ContentAssistor_lastHover;\n    // 已打开，则关闭\n    table !== gUndefined && table.a(_data_tbl_x_) === _true_\n        ? TableCross_disable(table)\n        // 未打开，则打开\n        : TableCross_enable(table, event);\n}\n\n// 打开表格阅读模式（十字光标）\nfunction TableCross_enable(table, event) {\n    table.a(_data_tbl_x_, _true_);\n    JQ_addClass(ContentAssistor_btns_tableCross, _selected_);\n\n    // 默认从表体第 1 行第 1 个单元格开始\n    TableCross_goto(table, table.f(\"tbody>tr\" + __first_child_ + \">td\" + __first_child_), event);\n}\n\n// 关闭表格阅读模式（十字光标）\nfunction TableCross_disable(table) {\n    if (table === gUndefined)\n        table = TableCross_lastTable;\n    if (table !== gUndefined) {\n        table.a(_data_tbl_x_, _false_);\n        TableCross_lastTable = gUndefined;\n    }\n    JQ_removeClass(ContentAssistor_btns_tableCross, _selected_);\n    TableCross_hide();\n}\n\n/**\n * 绑定单元格，鼠标点击单元格时显示阅读模式（十字光标）\n * @param table 单元格所属表格对象\n * @param cell 单元格对象\n */\nfunction TableCross_bind(table, cell) {\n    cell.uC().ck((event) => {\n        TableCross_goto(table, cell, event);\n    });\n}\n\n/**\n * 跳转至指定单元格\n * @param table 单元格所属表格对象\n * @param cell 单元格对象\n * @param event 事件对象\n */\nfunction TableCross_goto(table, cell, event) {\n    if (table.a(_data_tbl_x_) !== _true_ || Copy_processing)\n        return;\n\n    // 首次点击，先强制移除动画\n    TableCross_lastTable === gUndefined\n        && V_ui_removeAnimate(TableCross_ui);\n\n    let container = table.p().p(),\n        contentFolded = container.a(_data_content_folded_);\n    // 跳过被折叠表格\n    if (contentFolded === _true_)\n        return;\n\n    // 若点击同时也触发了「代码 / 标签」的复制\n    !Copy_processing && event\n        && V_stopPropagation(event); // 停止事件冒泡，避免与其他事件的处理冲突（如：document.click）\n\n    TableCross_hide(gTrue);\n    JQ_addClass(cell, _v_tbl_x_cell_);\n\n    TableCross_lastCell = cell;\n    TableCross_lastTable = table;\n\n    let tblWidth = JS_parseInt(table.c(_width_)),\n        tblHeight = JS_parseInt(table.c(_height_));\n\n    let cellWidth = JS_parseInt(cell.c(_width_)),\n        cellHeight = JS_parseInt(cell.c(_height_)),\n        cornerLeftX = table.oL(),\n        cornerUpY = table.oT(),\n        cornerLeftWidth = cell.oL() - table.oL(),\n        cornerUpHeight = cell.oT() - table.oT(),\n        cornerRightX = cell.oL()  + cellWidth,\n        cornerDownY = cell.oT() + cellHeight,\n        cornerRightWidth = tblWidth - cornerLeftWidth - cellWidth,\n        cornerDownHeight = tblHeight - cornerUpHeight - cellHeight;\n\n    // 左上角\n    let leftUp = $(_v_tbl_x_ + \".\" + _left_ + \"-\" + _up_);\n    leftUp.c(_left_, cornerLeftX)\n        .c(_top_, cornerUpY)\n        .c(_width_, cornerLeftWidth)\n        .c(_height_, cornerUpHeight)\n        .c(_z_index_, 9);\n\n    // 右上角\n    let rightUp = $(_v_tbl_x_ + \".\" + _right_ + \"-\" + _up_);\n    rightUp.c(_left_, cornerRightX)\n        .c(_top_, cornerUpY)\n        .c(_width_, cornerRightWidth)\n        .c(_height_,  cornerUpHeight)\n        .c(_z_index_, 9);\n\n    // 左下角\n    let leftDown = $(_v_tbl_x_ + \".\" + _left_ + \"-\" + _down_);\n    leftDown.c(_left_, cornerLeftX)\n        .c(_top_, cornerDownY)\n        .c(_width_, cornerLeftWidth)\n        .c(_height_, cornerDownHeight)\n        .c(_z_index_, 9);\n\n    // 右下角\n    let rightDown = $(_v_tbl_x_ + \".\" + _right_ + \"-\" + _down_);\n    rightDown.c(_left_, cornerRightX)\n        .c(_top_, cornerDownY)\n        .c(_width_, cornerRightWidth)\n        .c(_height_, cornerDownHeight)\n        .c(_z_index_, 9);\n\n    // 须延时后再执行显示，让以上代码先完成\n    V_later(() => {\n        // 针对不同表格之间点击强制移除动画后的恢复\n        V_ui_addAnimate(TableCross_ui);\n        V_ui_fadeShow(leftUp);\n        V_ui_fadeShow(rightUp);\n        V_ui_fadeShow(leftDown);\n        V_ui_fadeShow(rightDown);\n    }, 50);\n}\n\n/**\n * 处理热键操作\n * @param key 非功能键键\n * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n * @param event 事件对象\n */\nfunction TableCross_disposeHotkey(key, combKeys, event) {\n    if (TableCross_lastTable === gUndefined || TableCross_lastCell === gUndefined)\n        return gFalse;\n\n    let handled = gFalse,\n        newTr = gUndefined;\n    // 以下未考虑在有单元格合并情况下的处理\n    if (V_noCombKeys(combKeys)) {\n        switch (key) {\n            case _ArrowLeft_: // left\n                __gotoCell(TableCross_lastCell.pr());\n                handled = gTrue;\n                break;\n            case _ArrowRight_: // right\n                __gotoCell(TableCross_lastCell.n());\n                handled = gTrue;\n                break;\n            case _ArrowUp_: // up\n                // 查找上一行\n                newTr = TableCross_lastCell.p().pr();\n                if (V_isLength0(newTr)) {\n                    let trParent = TableCross_lastCell.p().p();\n                    if (V_tagName(trParent) === _tbody_)\n                        newTr = trParent.pr().ch().last();\n                }\n                // 有上一行时的处理\n                __gotoCellByTr(newTr, _ArrowUp_);\n                handled = gTrue;\n                break;\n            case _ArrowDown_: // down\n                // 查找下一行\n                newTr = TableCross_lastCell.p().n();\n                if (V_isLength0(newTr)) {\n                    let trParent = TableCross_lastCell.p().p();\n                    if (V_tagName(trParent) === _thead_)\n                        newTr = trParent.n().ch().first();\n                }\n                // 有下一行时的处理\n                __gotoCellByTr(newTr, _ArrowDown_);\n                handled = gTrue;\n                break;\n            case _Enter_: // Enter\n                if (TableCross_lastCell.a(_class_).i(_v_tbl_row_g_folder_) > -1) {\n                    // 临时保存\n                    let tmp = TableCross_lastTable;\n                    TableCross_lastCell.ch(_v_tbl_row_g_btn_).tr(_click_);\n                    // 恢复最后选择的样式（因为在上面模拟鼠标触发时会关闭）\n                    TableCross_lastTable = tmp;\n                    __gotoCell(TableCross_lastCell);\n                    handled = gTrue;\n                }\n                break;\n            case _Escape_:\n                // 表格为阅读模式时，则退出\n                if (V_ui_isShowed(TableCross_ui)) {\n                    TableCross_disable();\n                    handled = gTrue;\n                }\n                break;\n        }\n    }\n\n    // 移动到指定的 cell 对象位置\n    function __gotoCell(cell) {\n        V_length(cell) > 0\n            && TableCross_goto(TableCross_lastTable, cell, event);\n    }\n\n    // 移动到新一行上对应 cell 对象的新位置\n    function __gotoCellByTr(newTr, arrow) {\n        if (V_length(newTr) > 0) {\n            // 对于表格行分组（未展开时）\n            newTr.c(_display_) === _table_column_\n                // 尝试再寻找下一个常规行（遍历）\n                ? __gotoCellByTr((arrow === _ArrowDown_) ? newTr.n() : newTr.pr(), arrow)\n                // 常规行\n                : __gotoCell(newTr.ch(V_attrCSS(_data_tbl_col_, TableCross_lastCell.a(_data_tbl_col_))));\n        }\n    }\n\n    // 如果事件已处理，则禁止双重操作\n    handled && V_preventDefault(event);\n\n    return handled;\n}\n\n/**\n * 隐藏表格阅读模式（十字光标）\n * @param sameTable true: 同一个表格内的情况，false: 不同表格\n */\nfunction TableCross_hide(sameTable) {\n    if (TableCross_lastCell === gUndefined)\n        return;\n\n    if (sameTable) {\n        JQ_removeClass(TableCross_lastCell, _v_tbl_x_cell_);\n        return;\n    }\n\n    JQ_removeClass(TableCross_lastCell, _v_tbl_x_cell_);\n    V_ui_fadeHide(TableCross_ui);\n    TableCross_lastTable = gUndefined;\n}\n\n// ==================== 表格换行、不换行类 ==================== //\n\n/**\n * 切换表格换行、不换行开关\n */\nfunction TableWrap_toggle() {\n    let table = ContentAssistor_lastHover;\n    // 已开启，则关闭\n    TableWrap_isWrap()\n        ? TableWrap_disable(table)\n        // 未开启，则开启\n        : TableWrap_enable(table);\n}\n\n/**\n * 判断表格是否启用了换行\n */\nfunction TableWrap_isWrap() {\n    return ContentAssistor_lastHover.c(_white_space_) === _pre_wrap_;\n}\n\n// 开启表格换行\nfunction TableWrap_enable(table) {\n    table.f(\"td.\" + _v_long_).e((index, element) => {\n        let _t = $(element);\n        _t.a(_data_long_, gTrue);\n        JQ_removeClass(_t, _v_long_);\n    });\n\n    JQ_addClass(ContentAssistor_btns_wrap, _selected_);\n    JQ_removeClass(table, _unwrap_);\n    JQ_addClass(table, _wrap_);\n}\n\n// 关闭表格换行（即不换行）\nfunction TableWrap_disable(table) {\n    table.f(\"td\" + V_attrCSS(_data_long_, gTrue)).e((index, element) => {\n        let _t = $(element);\n        JQ_addClass(_t, _v_long_);\n        JQ_removeAttr(_t, _data_long_);\n    });\n\n    JQ_removeClass(ContentAssistor_btns_wrap, _selected_);\n    JQ_removeClass(table, _wrap_);\n    JQ_addClass(table, _unwrap_);\n\n    // 关闭表格换行、不换行后的处理\n    table.f(_tbody_ + \">tr\").e((index, element) => {\n        // ----------------------------------------\n        // 遍历单元格\n        $(element).f(\"td\").e((i, e) => {\n            // 对于字符过多时调整单元格宽度\n            TableWrap_minWidthTd(table, $(e));\n        });\n    });\n}\n\n// 关闭表格换行、不换行后的处理\nfunction TableWrap_minWidthTd(table, td) {\n    // 表格列数不超指定上限时，不处理\n    if (table.a(_data_col_too_more_) === gUndefined)\n        return;\n\n    let text = td.t(),\n        wrapLimit = 20; // 单元格内单行字数上限（不含标点符号）\n\n    if (table.c(_white_space_) !== _pre_wrap_ && V_length(text) > wrapLimit) {\n        let lines = __cleanBr(td.hm());\n        // 按行处理\n        for (let i = 1; i < V_length(lines); i++) {\n            let counterResult = V_countWord(lines[i]);\n            // 只处理字符过多的行\n            if (counterResult.latin * 2 + counterResult.CJK > wrapLimit) {\n                JQ_addClass(td, _v_long_);\n                break;\n            }\n        }\n    }\n\n    // 过滤掉 <br> 标签\n    function __cleanBr(text) {\n        const parser = new DOMParser(), // 创建 DOMParser 实例\n            doc = parser.parseFromString(text, \"text/html\"), // 将文本解析为 DOM 文档\n            textNodes = doc.querySelectorAll(V_not(\"br\") + \" *\"), // 获取所有文本节点\n            lines = []; // 将文本节点的内容按换行符分割\n        for (let node of textNodes) {\n            let line = node.textContent.trim();\n            line\n                && lines.push(line);\n        }\n        return lines;\n    }\n}\n\n// ==================== 表格列格式化类 ==================== //\n\nlet ColumnFormatting_syntax_checkbox_header = /\\[ ?] ?/; // 复选框列头格式语法\nlet ColumnFormatting_syntax_checkbox_cell = /(^((\\[[x-]])|[YyNn?？])(\\s.+)*)/; // 复选框列内单元格格式语法\n\n/**\n * 初始化\n * @param table 表格对象\n * @param cell 单元格对象\n * @param text 单元格文本内容\n */\nfunction ColumnFormatting_init(table, cell, text) {\n    if (table.a(_data_column_fmting_) !== _true_\n        && (V_length(cell.f(\":is(\" + _strong_ + \",em,u,\" + _mark_ + \",\" + _del_ + \")\" + __only_child_)) > 0 // 普通列格式\n        || cell.c(_text_align_) === _right_ // 右对齐表示使用数值格式\n        || ColumnFormatting_syntax_checkbox_header.test(text))) { // 复选框列格式\n            // 将表格标识为带列格式语法\n            table.a(_data_column_fmting_, _true_);\n            return gTrue; // 匹配到列格式\n    }\n    return gFalse; // 未匹配到列格式\n}\n\n/**\n * 返回表格内所有非合并的同列单元格对象集合\n * @param table 表格格对象\n * @param th 列头单元格对象\n * @param cells 集合变量\n */\nfunction ColumnFormatting_getCells(table, th, cells) {\n    if (cells === gUndefined)\n        cells = table.f(V_attrCSS(_data_colspan_, _true_, \"!\") + V_attrCSS(_data_tbl_col_, th.a(_data_tbl_col_)));\n    return cells;\n}\n\n/**\n * 返回表格 tbody 内的同列单元格对象集合\n * @param table 表格格对象\n * @param th 列头单元格对象\n * @param tbodyCells 集合变量，为 gUndefined 则重新生成\n */\nfunction ColumnFormatting_getTbodyCells(table, th, tbodyCells) {\n    if (tbodyCells === gUndefined)\n        tbodyCells = table.f(\"td\" + V_attrCSS(_data_tbl_col_, th.a(_data_tbl_col_)));\n    return tbodyCells;\n}\n\n/**\n * 列格式化\n * @param table 表格对象\n */\nfunction ColumnFormatting_format(table) {\n    table.f(_thead_ + \" th\").e((index, element) => {\n        let th = $(element),\n            cells = gUndefined,\n            tbodyCells = gUndefined,\n            cellsCSS = _;\n\n        // 粗体\n        if (V_length(th.ch(_strong_ + __only_child_)) > 0) {\n            cells = ColumnFormatting_getCells(table, th, cells);\n            cellsCSS += _v_tbl_col_fmt_bold_ +___;\n        }\n\n        // 斜体\n        if (V_length(th.f(\"em\" + __only_child_)) > 0) {\n            cells = ColumnFormatting_getCells(table, th, cells);\n            cellsCSS += _v_tbl_col_fmt_em_ +___;\n        }\n\n        // 高亮\n        let thHTML = th.hm();\n        if (thHTML.sW(\"<mar\") && thHTML.eW(\"rk>\") // <mark>...</mark>\n            || th.a(_class_) !== gUndefined\n            && th.a(_class_).i(_v_tbl_col_fmt_mark_) > -1) {\n                $(V_attrCSS(_data_tbl_col_, th.a(_data_tbl_col_))).f(_mark_).ch().unwrap();\n                cells = ColumnFormatting_getCells(table, th, cells);\n                cellsCSS += _v_tbl_col_fmt_mark_ +___;\n        }\n\n        // 批量添加以上列的常规样式\n        cells !== gUndefined && V_length(cellsCSS) > 0\n            && JQ_addClass(cells, cellsCSS);\n\n        // 删除线\n        if (V_length(th.ch(_del_ + __first_child_)) > 0) {\n            // 删除对应的列\n            th.rm();\n            ColumnFormatting_getTbodyCells(table, th, tbodyCells).rm();\n        }\n\n        // 复选框\n        if (ColumnFormatting_syntax_checkbox_header.test(th.t())) {\n            cells = ColumnFormatting_getCells(table, th, cells);\n            JQ_addClass(cells, _v_tbl_col_fmt_chkbox_);\n\n            // 删除列头的复选框语法\n            ColumnFormatting_removeCheckboxSyntax(th, ColumnFormatting_syntax_checkbox_header);\n\n            tbodyCells = ColumnFormatting_getTbodyCells(table, th, tbodyCells);\n\n            tbodyCells.e((i, e) => {\n                let ce = $(e),\n                    ceText = ce.t().x(),\n                    typeFlag = ceText.m(ColumnFormatting_syntax_checkbox_cell),\n                    chkStatus = _no_,\n                    chkStyle = _dark_;\n\n                typeFlag = (typeFlag !== gNull) ? typeFlag[2] : _;\n\n                // 跳过横向合并的单元格\n                if (ce.a(_colspan_) !== gUndefined)\n                    return gTrue; // 跳过当前循环\n\n                // 移除单元格的复选框语法内容\n                ColumnFormatting_removeCheckboxSyntax(ce, typeFlag);\n\n                // 指定为 yes - 已选择\n                if (typeFlag.l() === \"y\") { // 旧语法 || typeFlag === \"[x]\") {\n                    chkStatus = _yes_;\n                    chkStyle = _theme_;\n                }\n                // 指定为 no - 未选择\n                if (typeFlag.l() === \"n\") { // 旧语法 || typeFlag === \"[ ]\") {\n                    chkStatus = _no_;\n                    chkStyle = _dark_;\n                }\n                // 指定为 un - 不确定选择\n                else if (typeFlag === \"?\" || typeFlag === \"？\") { // 旧语法 || typeFlag === \"[-]\") {\n                    chkStatus = _un_;\n                    chkStyle = _theme_;\n                }\n                // 无指定\n                else\n                    ce.rHTML(_nbsp_, _);\n\n                // 添加复选框样式（有指定的内容，或单元内容为空时才添加）\n                if (V_length(typeFlag) > 0 || V_isLength0(ceText))\n                    ce.pp(V_ui_svgIcon(_icoChkbox__ + chkStatus, 14, 14, chkStyle, _, V_attr(_data_chk_, chkStatus)));\n                else\n                    // 添加差异化的文本颜色\n                    ce.pp(\"<em>\" + V_ui_sub(_, _, \"Gy\") + \"</em>\");\n            });\n        }\n\n        // 数值格式\n        if (th.c(_text_align_).sW(\"r\")) {\n            tbodyCells = ColumnFormatting_getTbodyCells(table, th, tbodyCells);\n            // 设置为等宽字体\n            JQ_addClass(tbodyCells, _v_tbl_col_fmt_num_);\n            // 数值格式化处理\n            tbodyCells.e((i, e) => {\n                let ce = $(e),\n                    text = ce.t();\n                // 内容为数值\n                if (text.isNumber()) {\n                    // 添加千位符\n                    ce.hm(V_formatting_decimal( // 添加千位符\n                        V_formatting_thousands(ce.hm()))); // 对小数进行格式化处理\n                    // 根据正负号进行着色处理\n                    ColumnFormatting_coloringNumber(ce, text, gTrue);\n                }\n                // 内容为百分数\n                else if (text.isPercent()) {\n                    // 对小数进行处理\n                    ce.hm(V_formatting_percent( // 对小数进行处理\n                        V_formatting_decimal(ce.hm()))); // 对百分数进行格式化处理\n                    // 根据正负号进行着色处理\n                    let coloring = ColumnFormatting_coloringNumber(ce, text, gTrue),\n                        percent = text.r(/(-|\\+|\\s)/g, _),\n                        percentValue = JS_mathRound(percent.r(\"%\", _)),\n                        bg1 = V_ui_var(___ac_ + \"wt\" + __fd_), // V_ui_formatRGBA(percentBg, 0.1),//\"rgba(128, 128, 128, 0.1)\",\n                        bg2 = V_ui_var(___ac_ + \"t1\" + __fd_), // V_ui_formatRGBA(percentBg, 0.4),//\"rgba(128, 128, 128, 0.4)\",\n                        bgSplit = V_ui_var(___ac_ + \"t1\"); // V_ui_formatRGBA(percentBg, 0.8);//\"rgba(128, 128, 128, 0.8)\";\n\n                    // 对有着色的进行渐变颜色调整\n                    if (coloring) {\n                        let baseColor = ce.a(_class_).i(_v_tbl_col_fmt_num_negative_) > -1 ? \"gn\" : \"rd\";\n                        bg1 = V_ui_var(___ac_ + \"wt\" + __fd_);\n                        bg2 = V_ui_var(___ac_ + baseColor + __fd_);\n                        bgSplit = V_ui_var(___ac_ + baseColor);\n                    }\n                    // 根据百分比生成渐变背景色、最小宽度\n                    ce.c(_background_, _linear_gradient_ + \"(90deg,\" + bg1 + \" 0%,\" + bg2 +___+ (percentValue > 1 ? percentValue - 1 : 0)\n                        + \"%,\" + bgSplit +___+ percent\n                        + \",\" + _transparent_ +___+ percent + \")\")\n                            .c(_min_width_, \"100px\");\n                    // 对 +/- 符号进行处理\n                    ce.hm(ce.hm().r(\">+\", \">▴ \").r(\">-\", \">▾ \"));\n                }\n                // 内容为货币\n                else if (text.isCurrency()) {\n                    // 对货币符号进行格式货\n                    ce.hm(V_formatting_decimal( // 对货币符号进行格式货\n                        V_formatting_thousands( // 添加千位符\n                            V_formatting_currency(ce.hm())))); // 对小数进行格式化处理\n                    // 根据正负号进行着色处理\n                    ColumnFormatting_coloringNumber(ce, text, gFalse);\n                }\n            });\n        } // 数值格式\n\n        // 标识单元格是否为横向合并，横向合并的单元不应用列格式\n        th.a(_colspan_) !== gUndefined\n            ? th.a(_data_colspan_, _true_)\n            : th.a(_data_colspan_, _false_);\n    });\n}\n\n/**\n * 根据数值的正、负号进行着色处理\n * @param target 着色的对象\n * @param text 依据的数值文本\n * @param mode 正负号位置模式，true：在开头，false: 在任意位置\n * @returns boolean 着色结果，true：有着色，false：没有着色\n */\nfunction ColumnFormatting_coloringNumber(target, text, mode) {\n    // 正、负号在文本的开头\n    if (mode) {\n        if (text.sW(\"-\")) {\n            JQ_addClass(target, _v_tbl_col_fmt_num_negative_);\n            return gTrue;\n        }\n        else if (text.sW(\"+\")) {\n            JQ_addClass(target, _v_tbl_col_fmt_num_positive_);\n            return gTrue;\n        }\n    }\n    // 正、负号在文本的任意位置\n    else {\n        if (text.i(\"-\") > -1) {\n            JQ_addClass(target, _v_tbl_col_fmt_num_negative_);\n            return gTrue;\n        }\n        else if (text.i(\"+\") > -1) {\n            JQ_addClass(target, _v_tbl_col_fmt_num_positive_);\n            return gTrue;\n        }\n    }\n    return gFalse;\n}\n\n/**\n * 移除复选框的语法内容\n * @param target 目标单元格对象\n * @param syntaxText 要移除的语法内容\n */\nfunction ColumnFormatting_removeCheckboxSyntax(target, syntaxText) {\n    if (syntaxText === \"n\") { // 避免错将 <span> 中的 n 替换了\n        syntaxText = \">n\";\n        target.rHTML(syntaxText, \">\");\n    }\n    else\n        target.rHTML(syntaxText, _);\n}\n\n// ==================== 表格行分组/折叠类 ==================== //\n\nlet RowGroup_folderCount = 0, // 折叠行内行分组类型的数量\n    RowGroup_syntax_tag = /^>+(\\s)./, // 用于匹配行折叠语法\n    RowGroup_syntax_tag2Replace = /(&gt;)+(\\s)/, // 用于匹配将行折叠语法替换为指定字符\n    RowGroup_spliter = \"> \", // 行折叠语法与内容的分隔标识\n    RowGroup_parentStack = [], // 上级行的堆栈\n    RowGroup_colorStack = [], // 不同分组的背景颜色堆栈\n    // 表格折叠行图标：已收起\n    RowGroup_icoCloser = V_ui_svgIcon(_icoFolded_, 16, 16, _text_);\n\n/**\n * 初始化\n * @param table 表格对象\n */\nfunction RowGroup_init(table) {\n    // 若不是在新标签打开的，将第 1 列的设置缩进样式\n    JQ_addClass(table.f(V_attrCSS(_data_tbl_col_, \"-0\", \"$\")), _v_tbl_row_g_not_folder_);\n\n    let lastLevel = 0, // 上一个缩进等级\n        currentLevel = 0; // 当前缩进等级\n\n    // 遍历所有行的第 1 个单元格\n    table.f(\"td\" + __first_child_).e((index, element) => {\n        let td = $(element),\n            tr = td.p(),\n            text = td.t();\n\n        // 判断每行的首列，是否有行折叠标识\n        // 没有则进入下一个循环\n        if (!RowGroup_syntax_tag.test(text)) {\n            lastLevel = 0;\n            RowGroup_parentStack.length = 0;\n            RowGroup_colorStack.length = 0;\n            return gTrue; // 跳过当前循环\n        }\n\n        // 从语法中获得当前缩进等级\n        currentLevel = text.i(RowGroup_spliter) + 1;\n        // 当前等级比上一次等级要深\n        if (currentLevel > lastLevel) {\n            lastLevel = currentLevel;\n            // 设置为新的行分组\n            RowGroup_newFolder(tr);\n            // 设置为行缩进行\n            RowGroup_ident(tr, td, currentLevel);\n        }\n        // 当前等级比上一次等级要浅\n        else {\n            // 获得等级差进行\n            let count = lastLevel - currentLevel;\n            // 获得当前行对应的上级行\n            if (count > 0)\n                for (let i = 0; i < count; i++) {\n                    RowGroup_parentStack.pop();\n                    RowGroup_colorStack.pop();\n                }\n\n            lastLevel = currentLevel;\n            // 设置为行缩进行\n            RowGroup_ident(tr, td, currentLevel);\n        }\n    });\n}\n\n/**\n * 获得最近一个分组行分组对象\n */\nfunction RowGroup_lastParent() {\n    return RowGroup_parentStack[V_length(RowGroup_parentStack) - 1];\n}\n\n/**\n * 获得最近一个分组颜色对象\n */\nfunction RowGroup_lastColor() {\n    return RowGroup_colorStack[V_length(RowGroup_colorStack) - 1];\n}\n\n/**\n * 设置为新的行分组\n * @param tr 对应的行对象\n */\nfunction RowGroup_newFolder(tr) {\n    let folderRow = tr.pr();\n    RowGroup_folderCount++;\n\n    // 将当前行分组的 id 入栈\n    RowGroup_parentStack.push(RowGroup_folderCount);\n\n    // 设置折叠行分组的属性\n    folderRow.a(_data_folder_id_, RowGroup_folderCount);\n    folderRow.a(_data_folder_, _true_);\n    folderRow.a(_data_row_folded_, _true_);\n\n    // 获得折叠行分组首个单元格\n    let td = folderRow.ch(\"td:\" + _first_),\n        tdHadIdent = td.f(\".\" + _v_tbl_row_g_identer_ + __last_);\n\n    // 设置折叠控件样式\n    V_length(tdHadIdent) > 0\n        ? tdHadIdent.af(V_ui_span(_v_tbl_row_g_btn_.xD(), _, RowGroup_icoCloser))\n        : td.pp(V_ui_label(_v_tbl_row_g_btn_.xD(), _, RowGroup_icoCloser));\n\n    V_ui_addAnimate(td.f(_v_tbl_row_g_btn_ + \">\" + _svg_));\n    // 调整折叠行的缩进样式\n    JQ_removeClass(td, _v_tbl_row_g_not_folder_);\n    JQ_addClass(td, _v_tbl_row_g_folder_);\n    JQ_addClass(tdHadIdent, _v_tbl_row_g_identer_folder_);\n\n    // 添加代表目录的括号及样式\n    // 重新组合生成新的单元格内容，以支持原始带格式的单元格内容\n    let preClass = \".\" + _v_tbl_row_g_identer_ + \",\" + _v_tbl_row_g_btn_,\n        preObjs = td.f(preClass),\n        cloneTd = td.clone();\n    cloneTd.ch(preClass).rm();\n    td.hm(__echoOuterHTML(preObjs) +___+ cloneTd.hm());\n\n    // 设置展开、收起事件\n    td.ch(_v_tbl_row_g_btn_).ck((event) => {\n        RowGroup_toggle(folderRow, event);\n    });\n\n    /**\n     * 遍历获得指定对象集合的所有 outerHTML 内容\n     * @param objectSet 对象集合\n     * @returns String\n     */\n    function __echoOuterHTML(objectSet) {\n        let outerHTML = _;\n        objectSet.e((index, element) => {\n            outerHTML += $(element).prop(_outerHTML_);\n        });\n        return outerHTML;\n    }\n}\n\n/**\n * 展开、收起表格行分组下的表格行\n * @param folderRow 折叠按钮所在的表格行对象\n * @param event 事件对象\n */\nfunction RowGroup_toggle(folderRow, event) {\n    // 取消事件冒泡，用于避免显示表格的阅读模式（十字光标）\n    V_stopPropagation(event);\n\n    // 处理行分组的打开、关闭\n    folderRow.a(_data_row_folded_).sW(\"t\")\n        ? RowGroup_open(folderRow)\n        : RowGroup_close(folderRow);\n\n    // 隐藏表格的阅读模式（十字光标）\n    TableCross_hide();\n}\n\n/**\n * 展开所有表格行分组\n * @param table 指定的表格对象\n * @param mode 指定打开模式。auto：系统自动打开\n * @returns boolean 处理结果。true: 已展开，false: 不符合展开条件\n */\nfunction RowGroup_openAll(table, mode) {\n    if (table.a(_data_row_group_) !== _true_)\n        return gFalse;\n\n    table.f(_v_tbl_row_g_btn_).e((index, element) => {\n        let folderRow = $(element).p().p();\n        folderRow.a(_data_row_folded_) === _true_\n            && RowGroup_open(folderRow, mode);\n    });\n    return gTrue;\n}\n\n/**\n * 收起全部表格行分级\n * @param table 指定的表格对象\n * @param mode 指定处理范围。auto：关闭被自动打开的，不指定时默认全部关闭\n * @returns boolean 处理结果。true: 已展开，false: 不符合展开条件\n */\nfunction RowGroup_closeAll(table, mode) {\n    if (table.a(_data_row_group_) !== _true_)\n        return gFalse;\n\n    // 只对第一级的行分组进行处理，非第一级的行分级为 span.v-tbl-row-g-btn\n    table.f(_label_ + _v_tbl_row_g_btn_).e((index, element) => {\n        let folderRow = $(element).p().p();\n        LOG(mode, folderRow.a(_data_row_open_mode_), folderRow.a(_data_row_folded_));\n        if (mode === _auto_)\n            if (folderRow.a(_data_row_open_mode_) === _auto_ && folderRow.a(_data_row_folded_) === _false_)\n                RowGroup_close(folderRow);\n        else\n            if (folderRow.a(_data_row_folded_) !== _true_)\n                RowGroup_close(folderRow);\n    });\n    return gTrue;\n}\n\n/**\n * 重置清空表格中的行分组相关信息\n * @param target 目标表格\n */\nfunction RowGroup_reset(target) {\n    JQ_removeAttr(target, _data_row_group_);\n    JQ_removeAttr(target.f(\"tr\" + V_attrCSS(_data_parent_folder_id_)), _data_parent_folder_id_);\n}\n\n/**\n * 设置为缩进行\n * @param tr 对应的行对象\n * @param td 对应的行的首个单元格\n * @param level 缩进层级\n */\nfunction RowGroup_ident(tr, td, level) {\n    // 统一缩进节点符号转换，尾行在完成的有处理后再进行修正\n    td.rHTML(RowGroup_syntax_tag2Replace, _);\n\n    // 设置被折叠行的属性\n    tr.a(_data_parent_folder_id_, RowGroup_lastParent());\n    // 设置缩进样式\n    td.a(_data_ident_level_, level);\n    // 调整样式\n    JQ_removeClass(td, _v_tbl_row_g_not_folder_);\n    JQ_addClass(td, _v_tbl_row_g_sub_);\n    // 设置被折叠行的背景色\n    tr.c(_background_color_, RowGroup_lastColor());\n\n    // 生成缩进占位元素\n    for (let i = 0; i < level; i++) {\n        let identer = td.f(\".\" + _v_tbl_row_g_identer_ + __last_),\n            identObj = V_ui_label(_v_tbl_row_g_identer_, _);\n        V_length(identer) > 0\n            ? identer.af(identObj)\n            : td.pp(identObj);\n    }\n\n    // 隐藏被折叠的行\n    tr.c(_display_, _table_column_);\n}\n\n/**\n * 展开表格行分组\n * @param folderRow 行分组对象\n * @param mode 指定打开模式。auto：系统自动打开\n */\nfunction RowGroup_open(folderRow, mode) {\n    // 处理展开行分组\n    let id = folderRow.a(_data_folder_id_),\n        table = folderRow.p().p(),\n        subRows = table.f(\"tr\" + V_attrCSS(_data_parent_folder_id_, id)),\n        folderButton = folderRow.ch(\"td:\" + _first_).ch(_v_tbl_row_g_btn_ + __last_);\n\n    folderRow.a(_data_row_folded_, _false_);\n    mode !== gUndefined\n        && folderRow.a(_data_row_open_mode_, mode);\n    JQ_addClass(folderButton.ch(_svg_), _v_rotate90_);\n    subRows.c(_display_, _);\n}\n\n/**\n * 折叠表格行分组\n * @param folderRow 行分组对象\n */\nfunction RowGroup_close(folderRow) {\n    // 处理折叠行分组\n    let id = folderRow.a(_data_folder_id_),\n        subRows = $(\"tr\" + V_attrCSS(_data_parent_folder_id_, id)),\n        folderButton = folderRow.ch(\"td:\" + _first_).ch(_v_tbl_row_g_btn_ + __last_);\n\n    folderRow.a(_data_row_folded_, _true_);\n    JQ_removeAttr(folderRow, _data_row_open_mode_);\n    JQ_removeClass(folderButton.ch(_svg_), _v_rotate90_);\n\n    // 折叠所有子行（包括行分组）\n    subRows.e((index, element) => {\n        let tr = $(element),\n            folder = tr.a(_data_folder_);\n        folder === _true_\n            && RowGroup_close(tr);\n        tr.c(_display_, _table_column_);\n    });\n}\n\n// ==================== 音频增强类 ==================== //\n\nlet ExtAudio_icon_loading = V_ui_svgIcon(_icoLoading_, 16, 16, _btnFc_),\n    ExtAudio_icon_play = V_ui_svgIcon(_icoPlay_, 16, 16, _btnFc_),\n    ExtAudio_icon_pause = V_ui_svgIcon(_icoPause_, 16, 16, _btnFc_),\n    ExtAudio_icon_stop = V_ui_svgIcon(_icoStop_, 16, 16, _btnFc_),\n    ExtAudio_icon_forbidden = V_ui_svgIcon(_icoForbidden_, 16, 16, _btnFc_);\n\n/**\n * 初始化音频数据\n */\nfunction ExtAudio_init() {\n    // 支持指定类型的音频，以及支持带参数的 URL\n    let writeImg = _idWrite_ +___+ _img_;\n    $(writeImg + V_attrCSS(_src_, _mp3_, \"$\") + \",\" + writeImg + V_attrCSS(_src_, _m4a_, \"$\") + \",\" + writeImg + V_attrCSS(_src_, _ogg_, \"$\") + \",\" + writeImg + V_attrCSS(_src_, _wav_, \"$\") + \",\"\n    + writeImg + V_attrCSS(_src_, _mp3_ + \"?\", \"*\") + \",\" + writeImg + V_attrCSS(_src_, _m4a_ + \"?\", \"*\") + \",\" + writeImg + V_attrCSS(_src_, _ogg_ + \"?\", \"*\") + \",\" + writeImg + V_attrCSS(_src_, _wav_ + \"?\", \"*\") ).e((index, element) => {\n        let audioLike = $(element),\n            audio = gUndefined,\n            src = audioLike.a(_src_),\n            container = audioLike.p(),\n            params = V_getUrlQueryParams(src);\n\n        // 指定为 mini 模式（扩展的自定义控件）\n        if (params[_controls_] === _mini_) {\n            V_doc_counter_audiomini++;\n\n            // 将 URL 为音频资源的 img 标签转换为 audio\n            audio = __transToAudio(audioLike, src);\n            // 设置 audio id 用于自定义 mini 控件\n            audio.a(_id_, _vk_id_mini_audio_ + V_doc_counter_audiomini);\n\n            // 添加音频播放 mini 控件\n            audio.af(V_ui_divExt(_vk_id_mini_audio_ + V_doc_counter_audiomini + __control_, _v_audio_mini_control_,\n                V_attr(_data_title_, _mini_ +___+ _audio_ +___+ V_doc_counter_audiomini), _));\n\n            // 开始加载音频\n            audio.on(_load_+_start_, (event) => {\n                let controls = V_byID(V_eventCurrentTarget(event).a(_id_) + __control_);\n                JQ_addClass(controls, _v_audio_mini_control_);\n                JQ_addClass(controls, _loading_);\n                controls.hm(ExtAudio_icon_loading);\n            });\n\n            // 音频就绪可以开始播放\n            audio.on(\"canplay\", (event) => {\n                let controls = V_byID(V_eventCurrentTarget(event).a(_id_) + __control_);\n                JQ_removeClass(controls, _loading_);\n\n                // 绑定点击事件\n                controls.uC().ck((event) => {\n                    __play(event.currentTarget, audio[0]);\n                });\n                controls.hm(ExtAudio_icon_play);\n                controls.a(_data_pause_, params[_pause_]);\n\n                // 须显示持续时长\n                let dur = params[_duration_];\n                if (dur === _true_) {\n                    let dur2 = audio.a(_data_duration_);\n                    if (dur2 !== _true_) {\n                        // 计算音频时长\n                        let duration = audio[0].duration,\n                            min = Math.floor(duration / 60),\n                            sec = Math.floor(duration -  min * 60);\n                        let minStr = min > 0 ? min + \"′\" : _;\n                        audio.n().af(\" <sup \" + V_attrCSS(_class_, _v__ + _duration_) + \">\" + minStr + sec + \"″</sup>\");\n                        audio.a(_data_duration_, _true_);\n                    }\n                }\n            });\n\n            // 正在播放\n            audio.on(_playing_, (event) => {\n                let controls = V_byID(V_eventCurrentTarget(event).a(_id_) + __control_),\n                    pause = controls.a(_data_pause_);\n\n                JQ_addClass(controls, _v_audio_mini_control_)\n                JQ_addClass(controls, _playing_);\n\n                // 支持暂停播放\n                if (pause !== _true_)\n                    controls.hm(ExtAudio_icon_pause);\n                // 不支持暂停播放，暂时即结束\n                else {\n                    controls.hm(ExtAudio_icon_stop);\n                    audio.currentTime = 0; // 播放都是从头开始\n                }\n            });\n\n            // 播放结束后恢复按钮状态\n            audio.on(\"ended\", (event) => {\n                let controls = V_byID(V_eventCurrentTarget(event).a(_id_) + __control_);\n                controls.hm(ExtAudio_icon_play);\n                JQ_removeClass(controls, _playing_);\n            });\n\n            // 故障或不可用\n            audio.on(_emptied_, (event) => {\n                let id = V_eventCurrentTarget(event).a(_id_) + __control_,\n                    controls = V_byID(id);\n                JQ_removeClass(controls, _loading_);\n                controls.hm(ExtAudio_icon_forbidden);\n                JQ_addClass(controls, _v_audio_mini_control_);\n                JQ_addClass(controls, _disabled_);\n                // 将无法加载的音频信息添加到链接检查器\n                __addToLinkChecker(audio.p());\n            });\n\n            // 加载错误\n            audio.on(_error_, () => {\n                audio.tr(_emptied_);\n            });\n\n            // 鼠标 mouseenter 和 mouseleave 事件\n            // audio.on(_mouseEnter_, (event) => {\n            //     let _t =  V_eventCurrentTarget(event);\n            //     _t.a(_class_).i(_disabled_) === -1\n            //         && JQ_addClass(_t, _hover_);\n            // }).on(_mouseLeave_, (event) => {\n            //     JQ_removeClass(V_eventCurrentTarget(event), _hover_);\n            // });\n        }\n        // 标准控件模式\n        else {\n            V_doc_counter_audio++;\n\n            // 确保 video 有独立的父容器，一般情况下 Typora 导出的为 <p>\n            if (V_tagName(container) !== \"p\") {\n                audioLike.wrap(\"<p></p>\");\n                container = audioLike.p();\n            }\n            // 设置容器样式数据，用于折叠内容时使用\n            container.a(_data_cntr_, _audio_);\n            JQ_addClass(container, _v_cap_cntr_);\n\n            // 先根据题注语法生成题注\n            Caption_genForMediaContent(audioLike, _audio_);\n\n            // 将 URL 为音频资源的 img 标签转换为 audio\n            audio = __transToAudio(audioLike, src);\n            // 设置 audio 为标准控件\n            audio.a(_controls_, _controls_);\n\n            // 若有第 2 题注，则微调样式\n            V_length(audio.n(__v_cap2_)) > 0\n                && audio.c(_margin_bottom_, \"-10px\");\n\n            // 故障或不可用\n            audio.on(_emptied_, () => {\n                // 将无法加载的音频信息添加到链接检查器\n                __addToLinkChecker(audio.p());\n            });\n\n            // 加载错误\n            audio.on(_error_, () => {\n                audio.tr(_emptied_);\n            });\n        }\n\n        /**\n         * 将无效音频源的信息添加到链接检查器\n         *\n         * @param targetToJump 坏链对象\n         */\n        function __addToLinkChecker(targetToJump) {\n            let title = targetToJump.a(_data_title_);\n            if (title === gUndefined)\n                title = targetToJump.a(_src_);\n\n            // 将无法加载的音频信息添加到链接检查器\n            LinkTool_addToCheckResult(_error_ + __address_, targetToJump,\n                V_ui_label(_, _, V_lang_text63()) + title);//targetToJump.a(_dataTitle_));\n        }\n    });\n\n    /**\n     * 转换为 audio 标签\n     * @param audioLike 类 audio 标签（即 src 为音频的 img 标签)\n     * @param src 音频 URL\n     */\n    function __transToAudio(audioLike, src) {\n        let tips = [\n            \"不支持音频标签\",\n            \"Not support audio \" + _tag_\n            ][V_lang];\n\n        // 对 audio 标签的属性进行支持\n        let autoplay = V_getUrlQueryParams(src)[_autoplay_],\n            loop = V_getUrlQueryParams(src)[_loop_],\n            preload = V_getUrlQueryParams(src)[_preload_];\n\n        // 将 URL 为音频资源的 img 标签转换为 audio\n        audioLike.wrap(V_ui_audio(V_attr(_src_, src), tips));\n        let audio = audioLike.p();\n        // 移除图片 img 标签\n        audioLike.rm();\n\n        // 设置 audio 属性\n        autoplay !== gUndefined\n            && audio.a(_autoplay_, _autoplay_);\n        loop !== gUndefined\n            && audio.a(_loop_, _loop_);\n        preload !== gUndefined\n            && audio.a(_preload_, _auto_);\n\n        return audio;\n    }\n\n    /**\n     * 播放音频\n     * @param self 自定义的播放控件对象\n     * @param audio 音频的 JavaScript 对象\n     */\n    function __play(self, audio) {\n        let controls = $(self);\n\n        // 已暂停、未播放\n        if (audio.paused)\n            audio.play();\n        // 播放中\n        else {\n            controls.hm(ExtAudio_icon_play);\n            JQ_removeClass(controls, _playing_);\n            audio.pause();\n\n            // 不支持暂时播放时，暂时即结束\n            if (controls.a(_data_pause_) === gUndefined)\n                audio.currentTime = 0; // 播放都是从头开始\n        }\n    }\n}\n\n// ==================== 音频增强类 ==================== //\n\n/**\n * 初始化音频数据\n */\nfunction ExtVideo_init() {\n    // 支持指定类型的音频，以及支持带参数的 URL\n    let writeImg = _idWrite_ +___+ _img_;\n    $(writeImg + V_attrCSS(_src_, _ogv_, \"$\") + \",\" + writeImg + V_attrCSS(_src_, _mp4_, \"$\") + \",\" + writeImg + V_attrCSS(_src_, _webm_, \"$\") + \",\"\n        + writeImg + V_attrCSS(_src_, _ogv_ + \"?\", \"*\") + \",\" + writeImg + V_attrCSS(_src_, _mp4_ + \"?\", \"*\") + \",\" + writeImg + V_attrCSS(_src_, _webm_ + \"?\", \"*\") + \",\"\n        + gSelector_iframeVideo.r(/\\[src\\*=/g, \"[data-src*=\") // 针对 lazyLoading 后的 src 属性变化\n    ).e((index, element) => {\n        let videoLike = $(element),\n            tagName = V_tagName(videoLike),\n            video = gUndefined,\n            src = videoLike.a(_src_),\n            container = videoLike.p();\n        V_doc_counter_video++;\n\n        // 确保 video 有独立的父容器，一般情况下 Typora 导出的为 <p>\n        if (V_tagName(container) !== \"p\") {\n            videoLike.wrap(\"<p></p>\");\n            container = videoLike.p();\n        }\n        // 设置容器样式数据，用于折叠内容时使用\n        container.a(_data_cntr_, _video_);\n        JQ_addClass(container, _v_cap_cntr_);\n\n        // 先根据题注语法生成题注\n        Caption_genForMediaContent(videoLike, _video_\n            + (tagName === _iframe_ ? _iframe_ : _));\n\n        // 不处理常规视频以外的标签（如内嵌的 iframe）\n        if (tagName !== _img_)\n            return;\n\n        // 将 URL 为音频资源的 img 标签转换为 video\n        video = __transToVideo(videoLike, src);\n\n        // 故障或不可用\n        video.on(_emptied_, () => {\n            let targetToJump = video.p(),\n                title = targetToJump.a(_data_title_);\n            if (title === gUndefined)\n                title = targetToJump.a(_src_);\n\n            // 将无法加载的音频信息添加到链接检查器\n            LinkTool_addToCheckResult(_error_ + __address_, targetToJump,\n                V_ui_label(_, _, V_lang_text63()) + title);\n            });\n\n        // 加载错误\n        video.on(_error_, () => {\n            video.tr(_emptied_);\n        });\n    });\n\n    /**\n     * 转换为 video 标签\n     * @param videoLike 类 video 标签（即 src 为视频的 img 标签)\n     * @param src 视频 URL\n     */\n    function __transToVideo(videoLike, src) {\n        let tips = [\n            \"不支持视频标签\",\n            \"Not support video \" + _tag_\n            ][V_lang];\n\n        // 对 video 标签的属性进行支持\n        let autoplay = V_getUrlQueryParams(src)[_autoplay_],\n            loop = V_getUrlQueryParams(src)[_loop_],\n            preload = V_getUrlQueryParams(src)[_preload_],\n            width = V_getUrlQueryParams(src)[_width_],\n            height = V_getUrlQueryParams(src)[_height_];\n\n        // 将 URL 为音频资源的 img 标签转换为 video\n        videoLike.wrap(V_ui_video(V_attr(_src_, src), tips));\n        let video = videoLike.p();\n        // 移除图片 img 标签\n        videoLike.rm();\n\n        // 设置 video 为标准控件\n        video.a(_controls_, _controls_);\n\n        // 设置 video 属性\n        autoplay !== gUndefined\n            && video.a(_autoplay_, _autoplay_);\n        loop !== gUndefined\n            && video.a(_loop_, _loop_);\n        preload !== gUndefined\n            && video.a(_preload_, _auto_);\n        width !== gUndefined\n            && video.a(_width_, width);\n        height !== gUndefined\n            && video.a(_height_, height);\n\n        return video;\n    }\n}\n\n// ==================== 文本输入框类 ==================== //\n\n/**\n * 构造函数\n * @param target 须在其后添加文本输入组件的目标对象\n * @param id 对象标识\n * @param append 添加模式。true：作为子元素添加，false：作为兄弟元素添加\n */\nfunction TextField(target, id, append) {\n    let T = this;\n    V_length(T, 1);\n    // 文本输入框属性\n    T.ui = gUndefined;\n    T.icon = gUndefined;\n    T.in = gUndefined;\n    T.rst = gUndefined;\n    T.act = gUndefined;\n\n    T.lastV = _;\n    T.chgTmr = gNull;\n\n    T.inputing = gFalse;\n    T.compSts = gUndefined;\n\n    // 文本输入框事件\n    T.onInput = gUndefined;\n    T.onFocus = gUndefined;\n    T.onBlur = gUndefined;\n    T.onKeyDown = gUndefined;\n    T.onAction = gUndefined;\n    T.pressEnter = gUndefined;\n    T.pressESC = gUndefined;\n\n    /**\n     * 将文本输入框实例添加到指定对象之后\n     * @param target 指定对象\n     * @param id 添加到目标对象的 id 值\n     * @param append true: 添加，false: 插入\n     */\n    T.__appendTo = function (target, id, append) {\n        // 文本输入框 UI\n        let ui = V_ui_div(_, _v_text_field_ +___+ id,\n                    V_ui_div(_, _v_text_field_ + __icon_)\n                    + V_ui_input(_, _, _text_)\n                    + V_ui_div(_, _v_text_field_ + __action_)\n                    + V_ui_div(_, _v_text_field_reset_, V_ui_svgIcon(_icoResetInput_, 16, 16, _alpha_))\n                );\n        if (append) {\n            target.ap(ui);\n            T.ui = target.ch(\".\" + _v_text_field_ + \".\" + id);\n        }\n        else {\n            target.af(ui);\n            T.ui = target.p().ch(\".\" + _v_text_field_ + \".\" + id);\n        }\n\n        // 获得实例的各关键对象\n        T.in = T.ui.ch(_input_);\n        T.rst = T.ui.ch(\".\" + _v_text_field_reset_);\n\n        /**\n         * 绑定开始中文输入事件\n         */\n        T.in.on(_composition_ + _start_, () => {\n            T.compSts = _start_;\n        });\n        /**\n         * 绑定结束中文输入事件\n         */\n        T.in.on(_composition_ + _end_, () => {\n            T.compSts = _end_;\n        });\n\n        /**\n         * 绑定文本获得焦点事件\n         */\n        T.in.focus(() => {\n            T.inputing = gTrue; // 标记为输入中的状态\n\n            JQ_addClass(T.ui, _v_text_field_focus_);\n            __checkValueChanged();\n\n            // 针对输入中文的情况，若输入了新的内容则进行查询\n            function __checkValueChanged() {\n                // 针对输入中文的情况，以及若输入了新的内容再进行查询\n                if (T.compSts !== gUndefined && T.compSts !== _start_ && T.lastV !== T.in.v()) {\n                    T.chgTmr = V_clearTimer(T.chgTmr);\n                    T.lastV = T.in.v();\n                    T.processInput();\n                }\n                // 非中文输入的情况，以及若输入了新的内容再进行查询\n                else if (T.compSts === gUndefined && T.lastV !== T.in.v()) {\n                    T.lastV = T.in.v();\n                    T.processInput();\n                }\n\n                // 流控处理，以固定时间间隔处理输入内容\n                T.chgTmr = V_later(__checkValueChanged, 500);\n            }\n            // 触发外部重定义事件\n            typeof(T.onFocus) === _function_ && T.onFocus();\n        });\n\n        /**\n         * 绑定文本失去焦点事件\n         */\n        T.in.blur(() => {\n            T.inputing = gFalse; // 标记为非输入中的状态\n\n            JQ_removeClass(T.ui, _v_text_field_focus_);\n\n            T.chgTmr = V_clearTimer(T.chgTmr);\n\n            // 触发外部重定义事件\n            typeof(T.onBlur) === _function_ && T.onBlur();\n        });\n\n        /**\n         * 绑定键盘按下事件\n         */\n        T.in.on(_keydown_, (event) => {\n            let key = event.key,//event.keyCode || event.which || event.charCode,\n                value = T.in.v(),\n                combKeys = V_ui_getCombKeys(event);\n\n            let handled = gFalse;\n            if (V_noCombKeys(combKeys)) {\n                switch (key) {\n                    case _Enter_:\n                        T.act !== gUndefined\n                            && T.act.tr(_click_);\n                        handled = gTrue;\n                        typeof(T.pressEnter) === _function_ && T.pressEnter(value);\n                        break;\n                    case _Escape_:\n                        // 无内容时则取消取点，退出编辑，键盘事件则由导航中心的键盘事件进行响应\n                        V_isLength0(value)\n                            ? T.in.blur()\n                            // 有内容则清空内容等待重新输入\n                            : T.rst.tr(_click_);\n                        handled = gTrue;\n                        typeof(T.pressESC) === _function_ && T.pressESC();\n                        break;\n                }\n            }\n\n            // 如果事件已处理，则禁止双重操作\n            handled && V_preventDefault(event);\n\n            // 触发外部重定义事件\n            typeof(T.onKeyDown) === _function_ && T.onKeyDown(value, key);\n        });\n\n        /**\n         * 绑定重置输入内容按钮\n         */\n        T.rst.uC().ck(() => {\n            T.processInput(_);\n            // 清空后保持输入焦点\n            JQ_removeClass(T.rst, _enabled_);\n\n            if (T.act !== gUndefined && T.act.a(_class_).i(_enabled_) !== -1) {\n                JQ_removeClass(T.act, _enabled_);\n                // V_ui_unbindHover(T.act);\n            }\n        });\n    }\n\n    /**\n     * 处理文本框输入的内容\n     * @param value 如不指定则使用文本框的值，如指定值则用指定值作为输入并作为文本框中的值\n     */\n    T.processInput = function (value) {\n        if (value === gUndefined)\n            value = T.in.v().x();\n        else {\n            value = value.x();\n            T.in.v(value);\n        }\n\n        if (value === _) {\n            JQ_removeClass(T.rst, _enabled_);\n\n            // 无内容时移除样式\n            if (T.act !== gUndefined && T.act.a(_class_).i(_enabled_) !== -1) {\n                JQ_removeClass(T.act, _enabled_);\n                // V_ui_unbindHover(T.act);\n            }\n        }\n        else {\n            JQ_addClass(T.rst, _enabled_);\n\n            // 有内容时移除样式\n            if (T.act !== gUndefined && T.act.a(_class_).i(_enabled_) === -1) {\n                JQ_addClass(T.act, _enabled_);\n                // T.act.on(_mouseEnter_, () => {\n                //     T.actHover(gTrue);\n                // }).on(_mouseLeave_, () => {\n                //     T.actHover(gFalse);\n                // });\n            }\n        }\n        // 触发外部重定义事件\n        typeof(T.onInput) === _function_ && T.onInput(value);\n    }\n\n    /**\n     * 清空输入框内容\n     */\n    T.clear = function() {\n        T.rst.tr(_click_);\n    }\n\n    /**\n     * 开启输入框前图标\n     * @param icon 图标\n     */\n    T.setIcon = function (icon) {\n        T.icon = T.ui.ch(\".\" + _v_text_field_ + __icon_);\n        T.icon.hm(icon);\n        T.icon.c(_visibility_, _visible_);\n    }\n\n    /**\n     * 开启动作按钮\n     * @param icon 按钮图标\n     */\n    T.setAction = function (icon) {\n        T.act = T.ui.ch(\".\" + _v_text_field_ + __action_);\n        T.act.hm(icon);\n        T.act.show();\n\n        // T.act.on(_mouseEnter_, () => {\n        //     T.actHover(gTrue);\n        // }).on(_mouseLeave_, () => {\n        //     T.actHover(gFalse);\n        // });\n        T.act.uC().ck(() => {\n            let value = T.in.v();\n            // 输入内容不为空\n            V_length(value) > 0\n                && T.in.select();\n\n            // 触发外部重定义事件\n            typeof(T.onAction) === _function_ && T.onAction(value);\n        });\n    }\n\n    /**\n     * 动作按钮鼠标 hover 处理\n     * @param enter true: 鼠标光标进入，false: 鼠标光标离开\n     */\n    // T.actHover = function (enter) {\n    //     if (enter) {\n    //         JQ_addClass(T.act, _hover_);\n    //         T.act.a(_class_).i(_enabled_) !== -1\n    //             && JQ_addClass(T.ui, _hover_action_);\n    //     }\n    //     else {\n    //         JQ_removeClass(T.act, _hover_);\n    //         JQ_removeClass(T.ui, _hover_action_);\n    //     }\n    // }\n\n    /**\n     * 设置提示文本\n     * @param text 提示文本\n     */\n    T.tips = function (text) {\n        T.in.a(_placeholder_, text);\n    }\n\n    /**\n     * 显示文本输入框\n     */\n    T.show = function() {\n        T.ui.show();\n    }\n\n    /**\n     * 隐藏文本输入框\n     */\n    T.hide = function() {\n        T.ui.hide();\n    }\n\n    // 生成控件\n    T.__appendTo(target, id, append);\n}\n\n// ==================== 过滤结果导航器类 ==================== //\n\nfunction FilterResultNavigator(result) {\n    let T = this;\n    V_length(T, 1);\n    T.idx = 0;\n    T.rs = result;\n\n    T.nextItem = function() {\n        if (V_ui_isHidden(T.rs))\n            return;\n\n        let set = T.rs.ch(\":\" + _visible_),\n            item = set.eq(T.idx);\n        T.idx++;\n        if (T.idx >= V_length(set))\n            T.idx = 0;\n        return item;\n    }\n\n    T.rst = function() {\n        T.idx = 0;\n    }\n}\n\n// ==================== 导航中心【目录】组件类 ==================== //\n\n/**\n * 构造函数\n * @param holder 关联的上级容器\n * @param hidden 是否默认为隐藏\n */\nfunction TocIndex(holder, hidden) {\n    let T = this;\n    V_length(T, 1);\n    T.ui = {\n        entry : V_byClass(_v_segment_btn_ + \".\" + _toc_), // 入口\n        body : V_byID(_vlook_toc_),// V_byClass(_v_toc_body_), // 目录索引内容容器\n        rs : V_byClass(_v_index_filter_result_ + \".\" + _toc_) // 过滤结果面板\n    }\n\n    // 滚动事件处理\n    V_ui_bindScrollWithMoreContent(T.ui.rs);\n    // 容器高度变化的处理\n    V_ui_bindObserveHeightChange(T.ui.rs);\n\n    T.hdr = holder;\n\n    T.h = []; // 目录集\n    T.h.push(!V_ui_hasCover()\n        ? _vk_id_doc_title_ // 针对无封面的情况\n        : _vk_id_doc_cover_); // 针对有封面的情况\n\n    T.hIdx = 0; // 当前章节在目录集中的索引\n    T.hItem = gUndefined; // 当前章节对象\n\n    T.fdSet = []; // 非叶子章节集\n    T.lastFd = gUndefined; // 上一个非叶子章节\n    T.lastLv = 0; // 上一个章节的层级\n\n    T.lastTop = 0; // 记录最后一次文档滚动位置\n\n    T.nav = new FilterResultNavigator(T.ui.rs); // 过滤结果导航器\n\n    // 当前章节变化事件\n    T.onChapterChanged = gUndefined;\n\n    // 更新无目录情况下的提示信息\n    T.ui.body.a(_data_toc_empty_, \"( \" + V_lang_text35() + V_lang_text66() + \" )\\n\\n\"\n        + V_lang_text(46, [\n            \"在第一个一级标题前添加 [TOC] 以生成目录\",\n            \"Add [TOC] before the first first-level heading to generate it\"\n        ]));\n\n    /**\n     * 返回 Toc 组件类型名称\n     */\n    T.tNm = function() {\n        return _toc_;\n    }\n\n    /**\n     * 返回 Toc 组件类型描述\n     */\n    T.desc = function() {\n        return V_lang_text35();\n    }\n\n    /**\n     * 是否有目录索引项目\n     */\n    T.hasItem = function() {\n        return (V_length(T.ui.body.ch()) > 0);\n    }\n\n    /**\n     * 根据设备类型自适应hover样式\n     */\n    // T.adjustHoverStyle = function() {\n    //     V_isMobile() // 移动设备时解绑样式事件\n    //         ? $(_v_toc_folder_).uH()\n    //         : V_ui_bindHover($(_v_toc_folder_)); // 非移动设备时绑定样式事件\n    // }\n\n    /**\n     * 添加目录节点\n     * @param item 由 Typora 生成的 [TOC] 目录节点\n     */\n    T.add = function (item) {\n        T.hdr.segs.sts(this.tNm(), gTrue);\n\n        // 将章节记录到目录集中\n        let a = item.ch(\"a\"),\n            href = a.a(_href_);\n\n        // 只处理主题指定不被隐藏的标题 / 大纲范围\n        HeaderAutoNum_parseTocHeaderLevel(item.a(_class_)) <= gHideOutlineOver\n            && T.h.push(LinkTool_transSpecHash(href.ss(1, V_length(href))));\n\n        // 自定义目录节点元数据\n        item.a(_id_, _vk_header_ + item.a(_data_ref_)); // 添加id属性\n        item.a(_data_node_, 0); // 添加节点类型：0:叶子节点, 1:目录节点\n        item.a(_data_folded_, _false_); // 添加节点状态：true:收起, false:展开\n        item.a(_title_, a.t().x());\n\n        // 使用完 <a> 的内容后，将章节中的链接文字提到链接外，用于实现长章节内容截断的 CSS 新式\n        a.af(a.t());\n        a.t(_);\n\n        // V_ui_adjustHoverStyle(item);\n        // 点击目录节点事件\n        item.uC().ck(() => {\n            // 跳转至对应的页内锚点\n            let hash = V_byID(item.a(_id_)).ch(\"a\").a(_href_);\n            V_gotoHash(hash);\n\n            // 触发锚点点击事件\n            // typeof(T.hdr.onAct) === _function_ && T.hdr.onAct();\n        });\n\n        // -----------------------------------\n        // 目录非叶子章节的折叠功能实现\n        // 所有目录节点都添加 folding 空白控件备用\n        $(V_ui_div(\"fd-\" + _vk_header_ + item.a(_data_ref_), _v_toc_folder_.xD(), _nbsp_)).insertBefore(item.f(\"a\"));\n\n        // 记录所有非叶子节点的folder控件\n        let lv = HeaderAutoNum_parseTocHeaderLevel(item.a(_class_));\n        if (T.lastFd !== gUndefined) {\n            // 当前节点比上一个节点层级低，则上一节点为可折叠的节点\n            if (lv > T.lastLv) {\n                // 将最近一个子目录节点折叠控件入栈\n                T.fdSet.push(T.lastFd);\n\n                // 为非叶子的章节添加折叠图标\n                let folder = T.lastFd.hm(V_ui_svgIcon(_icoTocFolded_, 16, 16, _theme_, _v_rotate90_)),\n                    folderParent = folder.p();\n                folderParent.a(_data_node_, 1); // 0:叶子, 1:目录\n                folderParent.a(_data_folded_, _false_); // true:收起， false:展开\n\n                // 折叠控件事件\n                V_ui_addAnimate(folder.ch(_svg_));\n                folder.uC().ck((event) => {\n                    V_stopPropagation(event); // 停止事件冒泡\n\n                    let id = V_eventCurrentTarget(event).p().a(_id_);\n                    T.disposeFold(id, (V_byID(id).a(_data_folded_).sW(\"t\")) ? \"e\" : \"c\", gTrue);\n                });\n            }\n            // 右当前节点比上一个节点层级高，则视为从下级回到上级\n            // 并将最近一个子目录节点折叠控件出栈\n            else if (lv < T.lastLv)\n                T.fdSet.pop();\n\n            // 设置当前节点的父级信息\n            V_length(T.fdSet) > 0\n                && item.a(_data_pid_, T.fdSet[V_length(T.fdSet) - 1].p().a(_id_));\n        }\n\n        // 更新最后处理的folder控件\n        T.lastFd = $(\"#fd-\" + _vk_header_ + item.a(_data_ref_));\n        T.lastLv = lv;\n    }\n\n    /**\n     * 页面滚动时根据页面当前的位置，高亮对应目录大纲中的章节\n     */\n    T.focusHeader = function (scrollTop) {\n        // ----------------------------------------\n        // 控制执行频率，避免处理过快影响性能\n        if (scrollTop === gUndefined)\n            scrollTop = V_ui_getScrollTop();\n\n        // ----------------------------------------\n        // 寻找文档当前显示的章节\n        // 默认为最后一章\n        let curIdx = V_length(T.h) - 1;\n        for (let i = 0, len = V_length(T.h); i < len; i++) {\n            let anchor = JS_decodeURI(T.h[i]), // Firefox 浏览器\n                target = V_byID(anchor),\n                targetTop = target.oT() - V_ui_getScrollTop();\n\n            // 匹配出当前可视空间中的「当前章节」\n            if (targetTop > gScrollMarginTop) {\n                curIdx = i - 1;\n                break;\n            }\n        }\n\n        // 章节没有变化则直接退出\n        if (T.hIdx === curIdx)\n            return;\n\n        // 章节有变化，并记录\n        T.hIdx = curIdx;\n        T.lastTop = scrollTop;\n\n        // 当前文档位置在实际内容章节中时\n        if (T.inHeader()) {\n            // ----------------------------------------\n            // 更新目录内当前节点的样式\n            // 更新「当前章节」的样式\n            let item = V_byID(_vlook_toc_, \" a\" + V_attrCSS(_href_, \"#\" + T.h[curIdx])).p();\n            V_ui_tg_currentItem(T.hItem, item, gTrue);\n            T.hItem = item;\n\n            // 若当前目录节点被折叠隐藏，则向上展开父级目录节点\n            V_ui_isHidden(T.hItem)\n                && __expandUpFolder(T.hItem.a(_data_pid_));\n\n            // 导航中心内容自动滚动当前章节所在位置\n            T.scrollToCurrent();\n        }\n\n        // 触发当前章节变化事件\n        typeof(T.onChapterChanged) === _function_ && T.onChapterChanged();\n\n        /**\n         * 向上展开父级目录\n         * @param id 父级目录 id 值\n         */\n        function __expandUpFolder(id) {\n            if (id === gUndefined)\n                return;\n            // 展开\n            T.disposeFold(id, \"e\", gTrue);\n            // 若未到 h1（即第一级目录），则继续向上展开\n            let item = V_byID(id),\n                tagName = item.prop(_tagName_); // 注意！无法使用 V_util_getTagName ，会导致调用溢出\n            tagName !== gUndefined && tagName.l() !== \"h1\"\n                && __expandUpFolder(item.a(_data_pid_));\n        }\n    }\n\n    /**\n     * 目录大纲自动滚动到当前章节对应的条目位置\n     */\n    T.scrollToCurrent = function() {\n        if (T.hItem === gUndefined || T.hItem.pos() === gUndefined)\n            return;\n\n        let itemPosTop = T.hItem.oT() - T.hItem.p().oT(),\n            scrollTop = V_ui_getScrollTop(T.ui.body), // 目录内当前滚动位置\n            offset = T.hItem.h() * 3;\n\n        // 若当前节点在可视区域的上方，则滚动到该节点的位置\n        if (itemPosTop <= offset)\n            V_ui_setScrollTop(itemPosTop + scrollTop - offset, gUndefined, T.ui.body, gTrue);\n        // 若当前节点在可视区域的下方，则滚动到该节点的位置\n        else if (V_ui_getRect(T.hItem[0]).bottom > V_ui_getRect(T.ui.body[0]).bottom - offset)\n            V_ui_setScrollTop(itemPosTop + scrollTop - T.ui.body.h() + offset * 1.5, gUndefined, T.ui.body, gTrue);\n    }\n\n    /**\n     * 文档当前位置是否在章节内\n     */\n    T.inHeader = function() {\n        return T.hIdx > 0;\n    }\n\n    /**\n     * 当前章节为第 1 章时特殊处理（有封面模式时）\n     */\n    T.inFirstHeader = function() {\n        return (V_ui_hasCover() && T.hIdx === 1);\n    }\n\n    /**\n     * 当前文档位置位于文档标题（无封面模式时）\n     */\n    T.inDocTitle = function() {\n        return (!V_ui_hasCover() && T.hIdx === 0);\n    }\n\n    /**\n     * 按关键字过滤\n     * @param value 过滤的关键字内容\n     * @returns boolean true - 有匹配的结果，false - 无匹配的结果\n     */\n    T.filter = function (value) {\n        if (V_isLength0(value))\n            return gFalse;\n\n        T.hdr.segs.checkedItemValue() === T.tNm()\n            && T.showFilterResult();\n\n        let matched = gFalse;\n        T.ui.rs.em();\n        // 遍历目录节点进行关键字匹配\n        $(_vlookTocItem_).e((index, element) => {\n            let item = $(element),\n                data = item.a(_data_header_num_) + item.a(_title_),\n                multiMatch = gTrue;\n\n            // 进行多关键字的 and 匹配\n            for (let i = 0; i < V_length(value); i++) {\n                if (data.l().i(value[i]) === -1) {\n                    multiMatch = gFalse;\n                    break;\n                }\n            }\n\n            if (multiMatch) {\n                // 匹配结果后，从目录节点中复制节点并移除不必要的样式和内容\n                let cloneItem = item.clone();\n\n                V_ui_addAnimate(cloneItem);\n                JQ_addClass(cloneItem, _v_toc_item_);\n                JQ_removeClass(cloneItem, _md_toc_item_ +___+ _md_toc__ + \"h1 \" + _md_toc__ + \"h2 \" + _md_toc__ + \"h3 \" + _md_toc__ + \"h4 \" + _md_toc__ + \"h5\");\n                cloneItem.ch(_v_toc_folder_).rm();\n                cloneItem.pp(V_ui_span(_, _, cloneItem.a(_data_header_num_)));\n                cloneItem.show();\n                cloneItem.a(_data_keyword_match_, _true_);\n\n                // V_ui_adjustHoverStyle(cloneItem);\n\n                // 绑定同源的点击事件\n                cloneItem.uC().ck((event) => {\n                    V_ui_tg_currentItem(T.ui.rs, V_eventCurrentTarget(event));\n                    item.tr(_click_);\n                });\n\n                // 将匹配的节点添加到过滤结果中\n                T.ui.rs.ap(cloneItem);\n                Index_segments.sts(T.tNm(), gTrue);\n                matched = gTrue;\n            }\n        });\n\n        // 对文库节点进行匹配\n        T.ui.body.f(\".\" + _v_doc_lib_item_).e((index, element) => {\n            let item = $(element),\n                data = item.t() + item.a(_data_keywords_);\n            if (data.l().i(value) > -1) {\n                // 匹配结果后，从目录节点中复制节点并移除不必要的样式和内容\n                let cloneItem = item.clone();\n                cloneItem.show();\n                cloneItem.a(_data_keyword_match_, _true_);\n\n                // 绑定同源的相关事件\n                cloneItem.uC().ck(() => {\n                    item.tr(_click_);\n                });\n                ToolTips_bind(cloneItem);\n                // V_ui_bindHover(cloneItem);\n\n                // 将匹配的节点添加到过滤结果中\n                T.ui.rs.ap(cloneItem);\n                matched = gTrue;\n            }\n        });\n\n        // 匹配结果为空\n        if (!matched) {\n            T.ui.rs.em();\n            V_ui_set_dataNoMore(T.ui.rs, []);\n            Index_segments.sts(T.tNm(), gFalse);\n        }\n        else\n            V_ui_set_dataNoMore(T.ui.rs, [_]);\n\n        return matched;\n    }\n\n    /**\n     * 更新所属分段状态\n     */\n    T.upd = function() {\n        V_length($(_vlookTocItem_)) > 0\n            ? T.hdr.segs.sts(this.tNm(), gTrue)\n            : T.hdr.segs.sts(this.tNm(), gFalse);\n    }\n\n    /**\n     * 显示目录索引组件\n     */\n    T.show = function() {\n        if (V_length(T.hdr.kw.in.v()) > 0) {\n            T.ui.body.hide();\n            T.showFilterResult();\n        }\n        else {\n            T.ui.body.show();\n            T.hideFilterResult();\n        }\n    }\n\n    /**\n     * 隐藏目录索引组件\n     */\n    T.hide = function() {\n        T.ui.body.hide();\n        T.hideFilterResult();\n    }\n    hidden\n        && T.hide();\n\n    /**\n     * 显示过滤结果\n     */\n    T.showFilterResult = function() {\n        T.ui.body.hide();\n        T.ui.rs.show();\n    }\n\n    /**\n     * 隐藏过滤结果\n     */\n    T.hideFilterResult = function() {\n        T.ui.rs.hide();\n    }\n\n    /**\n     * 跳转至指定章节\n     */\n    T.gotoHeader = function (target) {\n        V_gotoHash(\"#\" + target.a(_data_hash_));\n    }\n\n    /**\n     * 处理展开或收起指定章节下的子章节\n     * @param id 对象的id值\n     * @param action 执行动作（c: collect, e: expand）\n     * @param traversal 是否遍历子元素\n     */\n    T.disposeFold = function (id, action, traversal) {\n        let lastItem = gNull,\n            item = V_byID(id),\n            itemSet = item.nA(\".\" + _md_toc_item_),\n            btnFolder = $(\"#fd-\" + id);\n\n        // 更新折叠控件图标\n        if (action === \"e\") {\n            item.a(_data_folded_, _false_);\n            JQ_addClass(btnFolder.ch(_svg_), _v_rotate90_);\n        }\n        else {\n            item.a(_data_folded_, _true_);\n            JQ_removeClass(btnFolder.ch(_svg_), _v_rotate90_);\n        }\n\n        // 将指定节点后的所有节点进行处理\n        for (let i = 0, len = V_length(itemSet); i < len; i++) {\n            let item = $(itemSet[i]);\n            // 对前后节点层级不一致的处理\n            if (lastItem !== gNull) {\n                const hd1 = HeaderAutoNum_parseTocHeaderLevel(item.a(_class_));\n                const hd2 = HeaderAutoNum_parseTocHeaderLevel(lastItem.a(_class_));\n                if (hd1 > hd2) // 当前节点层级大于上一个节点的层级，继续\n                    continue;\n                else if (hd1 < hd2) // 当前节点层级小于上一个节点的层级，终止\n                    break;\n            }\n\n            // 如果是目录节点，同时是已展开，且执行动作为「收起」，才进行递归调用展开子节点\n            if (traversal\n                && item.a(_data_node_) === \"1\"\n                && item.a(_data_folded_).sW(\"f\")\n                && action === \"c\") {\n                    item.a(_data_folded_, _true_);\n                    // 递归处理\n                    T.disposeFold(item.a(_id_), action, traversal);\n            }\n\n            // 收起 / 展开\n            item.c(_display_, (action === \"c\") ? _none_ : _block_);\n            lastItem = item;\n        }\n    }\n}\n\n// ==================== 导航中心分类索引通用类 ==================== //\n\nlet Index_segments = gUndefined;\n\n/**\n * 初始化 UI\n * @param indexObj 目标对象\n */\nfunction Index_initUI(indexObj) {\n    let ui = indexObj.ui;\n    V_ui_addAnimate(ui.entry);\n\n    // 生成提示信息 UI\n    V_ui_set_dataNoMore(ui.rs, []);\n}\n\n/**\n * 无输入关键字的处理\n * @param indexObj 目标对象\n */\nfunction Index_noneKeyword(indexObj) {\n    let ui = indexObj.ui,\n        items = ui.rs.ch(\".\" + _v_toc_item_);\n    items.show();\n    if (V_length(items) > 0) {\n        items.a(_data_keyword_match_, _true_);\n        Index_updateStatus(indexObj);\n    }\n    V_ui_set_dataNoMore(ui.rs, items);\n}\n\n/**\n * 更新所属分段状态\n * @param indexObj 目标对象\n */\nfunction Index_updateStatus(indexObj) {\n    Index_segments.sts(indexObj.tNm(),\n        V_length(indexObj.ui.rs.ch(\".\" + _v_toc_item_ + V_attrCSS(_data_keyword_match_))) > 0);\n}\n\n/**\n * 添加索引项目\n * @param indexObj 目标对象\n * @param text 显示的文本\n * @param anchor 锚点\n * @param forSearch 用于搜索时检索的内容\n */\nfunction Index_add(indexObj, text, anchor, forSearch) {\n    Index_segments.sts(indexObj.tNm(), gTrue);\n\n    let ui = indexObj.ui;\n    V_ui_set_dataNoMore(ui.rs, [_]);\n\n    let item = $(V_ui_span(_v_toc_item_,\n                    V_attr(_data_keywords_, V_clearHtmlQuot((forSearch === gUndefined || V_length(forSearch.x()) === 0) ? _ : forSearch)),\n                    text));\n    ui.rs.ap(item);\n    V_ui_addAnimate(item);\n    item.uC().ck(() => {\n        V_ui_tg_currentItem(ui.rs, item);\n\n        V_gotoHash(\"#\" + anchor);\n\n        // 触发锚点点击事件\n        // typeof(indexObj.hdr.onAct) === _function_ && indexObj.hdr.onAct();\n    });\n}\n\n/**\n * 按关键字过滤\n * @param indexObj 目标对象\n * @param value 过滤的关键字内容\n * @returns boolean true - 有匹配的结果，false - 无匹配的结果\n */\nfunction Index_filter(indexObj, value) {\n    if (V_isLength0(value)) {\n        Index_segments.sts(indexObj.tNm(), gFalse);\n        return gFalse;\n    }\n\n    // 清空索引列表项\n    let ui = indexObj.ui;\n    ui.rs.ch().hide();\n\n    JQ_removeAttr(ui.rs.ch(), _data_keyword_match_);\n    JQ_removeAttr(ui.rs, _data_no_more_);\n\n    V_ui_tg_resetCurrentItem(ui.rs);\n\n    // 遍历目录节点进行关键字匹配\n    let matched = gFalse;\n    ui.rs.ch(\".\" + _v_toc_item_).e((index, element) => {\n        let item = $(element),\n            dataForSearch = item.a(_data_keywords_),\n            multiMatch = gTrue;\n        // 进行多关键字的 and 匹配\n        for (let i = 0; i < V_length(value); i++) {\n            if (item.t().l().i(value[i]) === -1\n                && (dataForSearch !== gUndefined && dataForSearch.l().i(value[i]) === -1)) {\n                multiMatch = gFalse;\n                break;\n            }\n        }\n        if (multiMatch) {\n                item.show();\n                item.a(_data_keyword_match_, _true_);\n                Index_segments.sts(indexObj.tNm(), gTrue);\n                matched = gTrue;\n        }\n    });\n\n    // 匹配结果为空\n    if (!matched) {\n        V_ui_set_dataNoMore(ui.rs, []);\n        Index_segments.sts(indexObj.tNm(), gFalse);\n    }\n    else {\n        V_ui_set_dataNoMore(ui.rs, [_]);\n    }\n\n    return matched;\n}\n\n/**\n * 是否有对应的索引项目\n * @param indexObj 目标对象\n */\nfunction Index_hasIndexItem(indexObj) {\n    return (V_length(indexObj.ui.rs.ch(_span_)) > 0);\n}\n\n/**\n * 显示索引组件\n * @param indexObj 目标对象\n */\nfunction Index_show(indexObj) {\n    indexObj.ui.rs.show();\n}\n\n/**\n * 隐藏索引组件\n * @param indexObj 目标对象\n */\nfunction Index_hide(indexObj) {\n    indexObj.ui.rs.hide();\n}\n\n// ==================== 导航中心【插图】组件类 ==================== //\n\n/**\n * 构造函数\n * @param holder 关联的上级容器\n * @param hidden 是否默认为隐藏\n */\nfunction FiguresIndex(holder, hidden) {\n    let T = this;\n    V_length(T, 1);\n    T.ui = {\n        entry : V_byClass(_v_segment_btn_ + \".\" + _figure_), // 入口\n        rs : V_byClass(_v_index_filter_result_ + \".\" + _figure_) // 过滤结果面板\n    };\n\n    // 滚动事件处理\n    V_ui_bindScrollWithMoreContent(T.ui.rs);\n    // 容器高度变化的处理\n    V_ui_bindObserveHeightChange(T.ui.rs);\n\n    T.hdr = holder;\n\n    T.nav = new FilterResultNavigator(T.ui.rs); // 过滤结果导航器\n\n    // 关键字输入组件属性设置\n    Index_initUI(this);\n\n    /**\n     * 返回 Figure 组件类型名称\n     */\n    T.tNm = function() {\n        return _figure_;\n    }\n\n    /**\n     * 返回 Figure 组件类型描述\n     */\n    T.desc = function() {\n        return V_lang_text58() + \" / \" + V_lang_text68();\n    }\n\n    /**\n     * 是否有图片索引项目\n     */\n    T.hasItem = function() {\n        return Index_hasIndexItem(this);\n    }\n\n    /**\n     * 初始化插图索引\n     * @param text 显示的文本\n     * @param anchor 锚点\n     * @param forSearch 用于搜索时检索的内容\n     */\n    T.add = function (text, anchor, forSearch) {\n        Index_add(this, text, anchor, forSearch);\n    }\n\n    /**\n     * 更新所属分段状态\n     */\n    T.upd = function() {\n        Index_updateStatus(this);\n    }\n\n    /**\n     * 显示插图组件\n     */\n    T.show = function() {\n        Index_show(this);\n    }\n\n    /**\n     * 隐藏插图组件\n     */\n    T.hide = function() {\n        Index_hide(this);\n    }\n    hidden\n        && T.hide();\n}\n\n// ==================== 导航中心【表格】组件类 ==================== //\n\n/**\n * 构造函数\n * @param holder 关联的上级容器\n * @param hidden 是否默认为隐藏\n */\nfunction TablesIndex(holder, hidden) {\n    let T = this;\n    V_length(T, 1);\n    T.ui = {\n        entry : V_byClass(_v_segment_btn_ + \".\" + _table_), // 入口\n        rs : V_byClass(_v_index_filter_result_ + \".\" + _table_) // 过滤结果面板\n    };\n\n    // 滚动事件处理\n    V_ui_bindScrollWithMoreContent(T.ui.rs);\n    // 容器高度变化的处理\n    V_ui_bindObserveHeightChange(T.ui.rs);\n\n    T.hdr = holder;\n\n    T.nav = new FilterResultNavigator(T.ui.rs); // 过滤结果导航器\n\n    // 关键字输入组件属性设置\n    Index_initUI(this);\n\n    /**\n     * 返回 Table 组件类型名称\n     */\n    T.tNm = function() {\n        return _table_;\n    }\n\n    /**\n     * 返回 Table 组件类型描述\n     */\n    T.desc = function() {\n        return V_lang_text56();\n    }\n\n    /**\n     * 是否有表格索引项目\n     */\n    T.hasItem = function() {\n        return Index_hasIndexItem(this);\n    }\n\n    /**\n     * 初始化表格索引\n     * @param text 显示的文本\n     * @param anchor 锚点\n     * @param forSearch 用于搜索时检索的内容\n     */\n    T.add = function (text, anchor, forSearch) {\n        Index_add(this, text, anchor, forSearch);\n    }\n\n    /**\n     * 更新所属分段状态\n     */\n    T.upd = function() {\n        Index_updateStatus(this);\n    }\n\n    /**\n     * 显示表格组件\n     */\n    T.show = function() {\n        Index_show(this);\n    }\n\n    /**\n     * 隐藏表格组件\n     */\n    T.hide = function() {\n        Index_hide(this);\n    }\n    hidden\n        && T.hide();\n}\n\n// ==================== 导航中心【多媒体】组件类 ==================== //\n\n/**\n * 构造函数\n * @param holder 关联的上级容器\n * @param hidden 是否默认为隐藏\n */\nfunction MediaIndex(holder, hidden) {\n    let T = this;\n    V_length(T, 1);\n    T.ui = {\n        entry : V_byClass(_v_segment_btn_ + \".\" + _media_), // 入口\n        rs : V_byClass(_v_index_filter_result_ + \".\" + _media_) // 过滤结果面板\n    };\n\n    // 滚动事件处理\n    V_ui_bindScrollWithMoreContent(T.ui.rs);\n    // 容器高度变化的处理\n    V_ui_bindObserveHeightChange(T.ui.rs);\n\n    T.hdr = holder;\n\n    T.nav = new FilterResultNavigator(T.ui.rs); // 过滤结果导航器\n\n    // 关键字输入组件属性设置\n    Index_initUI(this);\n\n    /**\n     * 返回 Media 组件类型名称\n     */\n    T.tNm = function() {\n        return _media_;\n    }\n\n    /**\n     * 返回 Media 组件类型描述\n     */\n    T.desc = function() {\n        return V_lang_text59() + \" / \" + V_lang_text60();\n    }\n\n    /**\n     * 是否有多媒体索引项目\n     */\n    T.hasItem = function() {\n        return Index_hasIndexItem(this);\n    }\n\n    /**\n     * 初始化多媒体索引\n     * @param text 显示的文本\n     * @param anchor 锚点\n     * @param forSearch 用于搜索时检索的内容\n     */\n    T.add = function (text, anchor, forSearch) {\n        Index_add(this, text, anchor, forSearch);\n    }\n\n    /**\n     * 更新所属分段状态\n     */\n    T.upd = function() {\n        Index_updateStatus(this);\n    }\n\n    /**\n     * 显示多媒体组件\n     */\n    T.show = function() {\n        Index_show(this);\n    }\n\n    /**\n     * 隐藏多媒体组件\n     */\n    T.hide = function() {\n        Index_hide(this);\n    }\n    hidden\n        && T.hide();\n}\n\n// ==================== 导航中心【代码块】组件类 ==================== //\n\n/**\n * 构造函数\n * @param holder 关联的上级容器\n * @param hidden 是否默认为隐藏\n */\nfunction CodeblocksIndex(holder, hidden) {\n    let T = this;\n    V_length(T, 1);\n    T.ui = {\n        entry : V_byClass(_v_segment_btn_ + \".\" + _codeblock_), // 入口\n        rs : V_byClass(_v_index_filter_result_ + \".\" + _codeblock_) // 过滤结果面板\n    };\n\n    // 滚动事件处理\n    V_ui_bindScrollWithMoreContent(T.ui.rs);\n    // 容器高度变化的处理\n    V_ui_bindObserveHeightChange(T.ui.rs);\n\n    T.hdr = holder;\n\n    T.nav = new FilterResultNavigator(T.ui.rs); // 过滤结果导航器\n\n    // 关键字输入组件属性设置\n    Index_initUI(this);\n\n    /**\n     * 返回 Codeblock 组件类型名称\n     */\n    T.tNm = function() {\n        return _codeblock_;\n    }\n\n    /**\n     * 返回 Codeblock 组件类型描述\n     */\n    T.desc = function() {\n        return V_lang_text57();\n    }\n\n    /**\n     * 是否有代码块索引项目\n     */\n    T.hasItem = function() {\n        return Index_hasIndexItem(this);\n    }\n\n    /**\n     * 初始化代码块索引\n     * @param text 显示的文本\n     * @param anchor 锚点\n     * @param forSearch 用于搜索时检索的内容\n     */\n    T.add = function (text, anchor, forSearch) {\n        Index_add(this, text, anchor, forSearch);\n    }\n\n    /**\n     * 更新所属分段状态\n     */\n    T.upd = function() {\n        Index_updateStatus(this);\n    }\n\n    /**\n     * 显示代码块组件\n     */\n    T.show = function() {\n        Index_show(this);\n    }\n\n    /**\n     * 隐藏代码块组件\n     */\n    T.hide = function() {\n        Index_hide(this);\n    }\n    hidden\n        && T.hide();\n}\n\n// ==================== 导航中心【公式】组件类 ==================== //\n\n/**\n * 构造函数\n * @param holder 关联的上级容器\n * @param hidden 是否默认为隐藏\n */\nfunction FormulasIndex(holder, hidden) {\n    let T = this;\n    V_length(T, 1);\n    T.ui = {\n        entry : V_byClass(_v_segment_btn_ + \".\" + _formula_), // 入口\n        rs : V_byClass(_v_index_filter_result_ + \".\" + _formula_) // 过滤结果面板\n    };\n\n    // 滚动事件处理\n    V_ui_bindScrollWithMoreContent(T.ui.rs);\n    // 容器高度变化的处理\n    V_ui_bindObserveHeightChange(T.ui.rs);\n\n    T.hdr = holder;\n\n    T.nav = new FilterResultNavigator(T.ui.rs); // 过滤结果导航器\n\n    // 关键字输入组件属性设置\n    Index_initUI(this);\n\n    /**\n     * 返回 Formula 组件类型名称\n     */\n    T.tNm = function() {\n        return _formula_;\n    }\n\n    /**\n     * 返回 Formula 组件类型描述\n     */\n    T.desc = function() {\n        return V_lang_text18();\n    }\n\n    /**\n     * 是否有公式索引项目\n     */\n    T.hasItem = function() {\n        return Index_hasIndexItem(this);\n    }\n\n    /**\n     * 初始化公式索引\n     * @param text 显示的文本\n     * @param anchor 锚点\n     * @param forSearch 用于搜索时检索的内容\n     */\n    T.add = function (text, anchor, forSearch) {\n        Index_add(this, text, anchor, forSearch);\n    }\n\n    /**\n     * 更新所属分段状态\n     */\n    T.upd = function() {\n        Index_updateStatus(this);\n    }\n\n    /**\n     * 显示公式组件\n     */\n    T.show = function() {\n        Index_show(this);\n    }\n\n    /**\n     * 隐藏公式组件\n     */\n    T.hide = function() {\n        Index_hide(this);\n    }\n    hidden\n        && T.hide();\n}\n\n// ==================== 导航历史的组件类 ==================== //\n\n/**\n * 构造函数\n */\nfunction HistoryList() {\n    let T = this;\n    V_length(T, 1);\n    T.ui = V_byClass(_v_link_info_list_ + __items_);\n\n    /**\n     * 添加导航历史记录\n     * @param hash 页内锚点链接\n     */\n    T.add = function (hash) {\n        if (hash === gUndefined || hash === \"#\" || V_length(hash.x()) === 0)\n            return;\n\n        // 对由 VLOOK 生成的页内锚点，对其显示的条目文本进行处理\n        let content = gUndefined,\n            anchor = hash.ss(1, V_length(hash)),\n            type = _,\n            lastPos = -1;\n        // 插图/表格/多媒体/代码块索引\n        if (anchor.sW(_vk_id_))\n            content = $(hash).a(_data_title_);\n        // 错误的内链 vk-error...\n        else if (anchor.sW(_vk__ + _error_ + __hash_)) {\n            content = V_ui_label(_, _, V_lang_text54()) + $(hash).t() + \" (\" + $(hash).a(_href_) + \")\";\n            type = ___+ _error_ + __hash_;\n        }\n        else if (anchor.sW(_vk__ + _error_ + __address_)) {\n            let cap = $(hash).ch(__v_cap1_);\n            content = V_ui_label(_, _, V_lang_text63())\n                + V_ui_span(_, _, cap.ch(_span_).t()) // 题注的内容\n                + cap.clone().ch().rm().end().t(); // 纯文本元素的内容\n            type = ___+ _error_ + __address_;\n        }\n        // 重复的标题 vk-warning...\n        else if (anchor.sW(_vk__ + \"wa\")) {\n            content = V_ui_label(_, _, V_lang_text53()) + $(hash).t();\n            type = ___+ _warning_;\n        }\n        // 全部脚注\n        else if (anchor.sW(_vk_footer_area_))\n            content = $(hash).t();\n        // 继续上次阅读（最后浏览位置）\n        else if (!hash.sW(\"#\")) {\n            lastPos = hash;\n            content = V_lang_text78();\n        }\n\n        let valueForDataHistory = (lastPos === -1 ?  hash : _last_position_);\n\n        // 未匹配到以上 VLOOK 专属的索引锚点，则按目录索引进行处理\n        if (content === gUndefined) {\n            let hashObj = $(_vlookTocItem_ + \">.\" + _md_toc__ + _inner_ + V_attrCSS(_href_, JS_decodeURI(hash))).p(),\n                span = hashObj.a(_data_header_num_);\n            content = V_ui_span(_, _, \"§ \" + (V_length(span) > 0 ? span : V_lang_text35())) + JS_decodeURI(anchor);\n        }\n        let result = T.ui.ch(_span_ + V_attrCSS(_data_history_, valueForDataHistory));\n\n        // 不存在相同的历史访问记录\n        if (V_isLength0(result)) {\n            let needHide = LinkTool_panelList.a(_data_content_type_) === _history_ ? _ :  ___+ V_attr(_style_, _display_ + \":\" + _none_),\n                newItem = V_ui_span(_v_toc_item_ + type, V_attr(_data_history_, valueForDataHistory) + needHide, content);\n            lastPos === -1 // 普通锚点\n                ? T.ui.pp(newItem)\n                : T.ui.ap(newItem); // 继续上次阅读\n        }\n\n        // 为新增加 / 移动后的记录添加鼠标事件\n        let item = T.ui.ch(_span_ + V_attrCSS(_data_history_, valueForDataHistory));\n        item.a(_data_keyword_match_, _true_);\n\n        // 更新面板条目提示信息\n        LinkTool_updateDataNoMore([_]);\n\n        // !V_isMobile()\n        //     && V_ui_bindHover(item);\n\n        item.uC().ck(() => {\n            V_ui_tg_currentItem(T.ui, item);\n\n            LinkTool_hide();\n            lastPos === -1\n                ? V_gotoHash(hash)\n                : V_ui_setScrollTop(ResumeReading_lastPosition, gUndefined, gUndefined, gTrue);\n        });\n    }\n}\n\n// ==================== 导航中心 DocLib 文库类 ==================== //\n\n/**\n * 构造函数\n * @param mask 遮罩对象\n * @param holder 关联的上级容器\n */\nfunction DocLib(mask, holder) {\n    let T = this;\n    V_length(T, 1);\n    T.ui = V_byClass(_v_doc_lib_);\n    T.toc = gUndefined;\n    T.idx = -1;\n    T.title = _;\n    T.fstToc = gUndefined;\n    T.iframe = gUndefined;\n    T.off = gFalse;\n    T.on = gFalse;\n    T.page = gUndefined;\n    T.hash = _;\n    T.counter = 0;\n    T.paths = [];\n    T.hdr = holder;\n\n    // 遮罩\n    T.mask = mask;\n    T.mask.bindPartner(this, T.ui);\n\n    T.init = function() {\n        if (V_getParamVal(_vdl_) === _off_)\n            T.off = gTrue;\n\n        // ------------------------------\n        // 处理文档内的文库专用链接\n        let re_TargetVDL = new RegExp(\"[?&]\" + _target_ + \"=\" + _vdl_, \"i\");\n        $(\"a\" + V_attrCSS(_href_, _docLibIdentifier_, \"*\")).e((index, element) => {\n            let a = $(element),\n                href = a.a(_href_),\n                page = V_getUrlWithoutHash(href).r(re_TargetVDL, _),\n                hash = V_getUrlHash(href);\n\n            JQ_removeAttr(a, _href_); // 移除 href\n\n            if (!T.off) {\n                a.a(_target_, _vdl_);\n                a.uC().ck(() => {\n                    T.show(page, hash);\n                });\n            }\n        });\n\n        if (T.off) // 指定关闭文库则不再进行后续处理\n            return;\n\n        // ==============================\n\n        let docLibValue = V_getMetaByName(_vlook_doc_lib_),\n            result = gNull,\n            curPage = V_getUrlWithoutQueryAndHash(WINDOW_getHref());\n\n        T.iframe = $(_iframe_ + V_attrCSS(_name_, _vlook_doc_lib_));\n\n        T.toc = gVlookToc;\n\n        // ------------------------------\n        // 处理 YAML 中的文库配置，支持以逗号分隔的多段内容\n        if (docLibValue !== gUndefined) {\n            let docLibList = docLibValue.sp(/,(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/),\n                item = _,\n                page = _,\n                hash = _,\n                text = _,\n                title = _;\n\n            // 获取目录大纲中的第 1 个条目\n            T.fstToc = T.toc.ch(\".\" + _md_toc_item_ + __first_);\n\n            // 预处理：记录当前页面在文库清单中的位置\n            for (let i = 0; i < V_length(docLibList); i++) {\n                item = docLibList[i].x();\n                result = item.m(/^(\\[([^\\]]+)]\\(([^)\\s]+)(\\s+\"([^\"]+)\")?\\))$/);\n                page = (result === gNull\n                    ? page = item\n                    : V_getUrlWithoutHash(result[3]));\n                if (T.idx < 0 && curPage === new URL(V_getUrlWithoutQueryAndHash(page), WINDOW_getHref()).href) {\n                    T.idx = i;\n                    T.title = result[2];\n                    break;\n                }\n            }\n\n            // 正式处理\n            for (let i = 0; i < V_length(docLibList); i++) {\n                item = docLibList[i].x();\n                result = item.m(/^(\\[([^\\]]+)]\\(([^)\\s]+)(\\s+\"([^\"]+)\")?\\))$/);\n                // 按 [text](url \"title\") 格式配置的文库\n                if (result !== gNull) {\n                    page = V_getUrlWithoutHash(result[3]);\n                    hash = V_getUrlHash(result[3]);\n                    text = result[2].x();\n                    title = (V_length(result) > 5) ? result[5] : _;\n                    if (V_isLength0(text) && V_length(title) > 0)\n                        text = title;\n                }\n                // 按默认只有 url 方式配置的文库\n                else {\n                    page = V_getUrlWithoutHash(item);\n                    hash = V_getUrlHash(item);\n                    text = V_lang_text7();\n                    title = _;\n                }\n\n                // 与当面不重复的文库链接才进行处理\n                if (curPage !== new URL(V_getUrlWithoutQueryAndHash(page), WINDOW_getHref()).href) {\n                    hash = \"#\" + LinkTool_transSpecHash(hash);\n                    __addDocLibItem(i, text, page, hash, title);\n                    // 添加到链接地图\n                    LinkTool_addToMap(text, page, hash.ss(1, V_length(hash)).l());\n                }\n            }\n\n            // --------------------\n            // 给目录大纲添加对应当前文档的标题\n            if (V_length(T.fstToc) > 0 && T.idx > -1) {\n                T.fstToc.before(V_ui_divExt(_, _v_toc_title_ +___+ _current_, V_attr(_data_title_, V_lang_text(6, [\n                        \"当前文档\",\n                        \"Current \" + _Document_\n                    ])), T.title));\n                T.toc.ch(\".md-toc-item:last\").af(V_ui_div(_, _v_toc_title_, _));\n            }\n        }\n\n        // --------------------\n        // 添加动画效果\n        V_ui_addAnimate($(\"#\" + _vlook_toc_ + \">:is(.\" + _v_doc_lib_item_\n            + \",.\" + _v_doc_lib_item_ + \">svg)\"));\n\n        // to-do: 首次加载时，避免设置为第 1 个文库链接后，触发浏览器的预加载\n        // T.reload();\n\n        /**\n         * 添加文库项\n         * @param index\n         * @param text 文库名称\n         * @param page 文库页面路径\n         * @param hash 文库页面锚点\n         * @param title 文库用于被关键字检索的内容\n         */\n        function __addDocLibItem(index, text, page, hash, title) {\n            // 无锚点的情况\n            if (hash === \"#\")\n                hash = _;\n            // 过滤重复的文库链接\n            if (T.paths.includes(page + hash))\n                return;\n            T.paths.push(page + hash);\n\n            T.on = gTrue;\n\n            // 初始化第一个文库项\n            T.counter++;\n            if (T.counter === 1) {\n                T.page = page;\n                T.hash = hash;\n            }\n\n            // 添加文库项\n            let target = V_getUrlQueryParams(page)[_target_],\n                hasTarget = (target !== gUndefined && V_length(target) > 0),\n                isSelf = (target === \"_self\"),\n                id = _v_doc_lib_item_ + \" id-\" + T.counter,\n                extLink = (page.i(\"://\") > -1),\n                innerIcon = (isSelf\n                    ? V_ui_svgIcon(_icoDocLibSelf_, 20, 20, _alpha_) // 图标：在当前页面内打开站内链接\n                    : V_ui_svgIcon(_icoDocLibBm_, 20, 18, _alpha_)), // 图标：在新标签打开站内链接\n                icon = (hasTarget\n                        ? (!extLink\n                            ? innerIcon // 站内链接的图标\n                            : V_ui_svgIcon(_icoDocLibExt_, 20, 20, _alpha_)) // 图标：在新标签中打开外部链接\n                        : V_ui_svgIcon(_icoDocLib_, 20, 18, _alpha_)), // 图标：在文库窗口中打开\n                content = V_ui_span(_, _, icon) + V_ui_div(_,_, text);\n\n            // 在当前页面内打开的文库项，与目录大纲排序上进行融合\n            if (isSelf || !hasTarget) {\n                // 在目录大纲前添加\n                T.idx > index && V_length(T.fstToc) > 0\n                    ? $(V_ui_div(_, id, content)).insertBefore(T.fstToc)\n                    // 在目录大纲后添加\n                    : T.toc.ap(V_ui_div(_, id, content));\n            }\n            // 在新标签中打开的文库项\n            else\n                T.toc.ap(V_ui_div(_, id, content));\n\n            // 初始化文库项数据\n            let item = T.toc.f(\".\" + _v_doc_lib_item_ + \".id-\" + T.counter);\n            item.a(_data_page_, page);\n            ToolTips_bind(item, V_ui_strong(text) + (title === gUndefined ? _ : _br_ + V_ui_sub(_, _, title)));\n            // 设置用于被关键字搜索的内容\n            item.a(_data_keywords_, _vdl_ + _doc_lib_cn_ + (title === gUndefined ? _ : title));\n            item.uC().ck(() => {\n                if (hasTarget) {\n                    // 去掉 target 参数内容\n                    let urlParams = new URLSearchParams(new URL(page, gDocument.baseURI).search);\n                    urlParams.delete(_target_);\n                    // 新标签中打开\n                    gWindow.open(V_getUrlWithoutQueryAndHash(page)\n                        + JS_toString(urlParams) + hash, target);\n                }\n                else\n                    T.show(page, hash);\n            });\n\n            LOG(\"    ├ DocLib: \" + page + hash);\n        }\n    }\n\n    /**\n     * 添加 hash 条目\n     * @param icon 图标\n     * @param text 条目文本\n     * @param hash 指定的 hash\n     */\n    T.addHashItem = function (icon, text, hash) {\n        // 添加界面内容\n        T.counter++;\n        T.toc.ap(V_ui_div(_, _v_doc_lib_item_ + \" id-\" + T.counter,\n            V_ui_span(_, _, icon) + V_ui_div(_,_, text)\n        ));\n\n        // 设置数据\n        let item = T.toc.f(\".\" + _v_doc_lib_item_ + \".id-\" + T.counter);\n        ToolTips_bind(item, V_ui_strong(text));\n        item.a(_data_keywords_, _vdl_ + _doc_lib_cn_);\n\n        // 处理点击事件\n        item.uC().ck(() => {\n            // 跳转至目标 hash\n            WINDOW_setHref(\"#\" + hash);\n        });\n    }\n\n    /**\n     * 重新加载文库内容\n     * @param scheme （可选）指定的颜色方案，light / dark\n     * @param page 指定的文库路径\n     * @param hash 指定的锚点\n     */\n    T.reload = function (scheme, page, hash) {\n        // 避免初始化时，与 ColorScheme_refresh 重复加载\n        if (scheme === ColorScheme_scheme\n            && (page === gUndefined || T.page === gUndefined))\n            return;\n\n        let cs = _;\n\n        // 指定的颜色方案不为空时\n        if (scheme !== gUndefined)\n            cs = \"&cs=\" + scheme;\n\n        // 指定的页面为空时（不包括 ?target=vdl 这种情况）\n        if (page === gUndefined)\n            page = T.page;\n        if (page === gUndefined)\n            return;\n\n        // 指定的锚点为空时\n        if (hash === gUndefined)\n            hash = _;\n\n        T.iframe.a(_src_,\n            page + ((page.i(\"?\") > -1) ? \"&\" : \"?\")\n            + \"ws=\" + _off_ + \"&\" + _page_ + _mode_ + \"=\" + _mini_\n            + cs + \"&ts=\" + V_getTime()\n            + hash);\n    }\n\n    /**\n     * 显示文库\n     * @param newPage 指定的文库路径\n     * @param hash 指定的锚点\n     */\n    T.show = function (newPage, hash) {\n        // typeof(T.hdr.onAct) === _function_ && T.hdr.onAct();\n\n        let path = V_getUrlWithoutQueryAndHash(newPage);\n\n        T.mask.show();\n        // 使用 hide() show() 会导航无法保留上次显示的位置\n        V_ui_fadeShow(T.ui);\n\n        // 如果指定的页面为空，则使用当前页面\n        if (V_isLength0(path)) {\n            path = T.page;\n            newPage = T.page;\n        }\n\n        // 如果指定的锚点为空，且路径与当前页面一致，则不刷新页面\n        if (V_isLength0(hash)\n            && path === V_getUrlWithoutQueryAndHash(T.iframe.a(_src_)))\n            return;\n\n        // 刷新文库页面显示\n        path === T.page\n            ? T.reload(gUndefined, gUndefined, hash)\n            : T.reload(gUndefined, newPage, hash);\n    }\n\n    /**\n     * 隐藏文库\n     */\n    T.hide = function() {\n        // 使用 hide() show() 会导航无法保留上次显示的位置\n        V_ui_fadeHide(T.ui);\n        T.mask.hide();\n    }\n\n    /**\n     * 处理热键操作\n     * @param key 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.hotkey = function (key, combKeys, event) {\n        if (V_ui_isHidden(T.ui))\n            return;\n\n        V_noCombKeys(combKeys) && V_isEscape(key)\n            && V_ui_isShowed(T.ui)\n                && (\n                    T.hide(),\n                    // 如果事件已处理，则禁止双重操作\n                    V_preventDefault(event)\n                );\n    }\n}\n\n// ==================== 插图增强类 ==================== //\n\n/**\n * 初始化插图数据\n */\nfunction ExtFigure_init() {\n    let sw = new Stopwatch();\n\n    // ----------------------------------------\n    // 对 svg 类插图（Mermaid）进行初始化处理\n    sw.st();\n    // to-do: 检查最新 Typora 集成的 Mermaid 是否已修复\n    // 针对 Mermaid 饼图为双 SVG 结构（标准的 Mermaid 是单 SVG 结构），进行规范化调整\n    V_byClass(_md_diagram_panel_ + \">svg>svg>g\").e((index, element) => {\n        $(element).unwrap();\n    });\n    sw.ed(\"    ├ prepare svg: \");\n\n    // ----------------------------------------\n    // 对 img 类插图（Mermaid）进行初始化处理\n    sw.st();\n\n    $(_idWrite_ + \" :is(p,a,kbd,td,strong,mark,summary)>\" + _img_ + \",\"\n    + _idWrite_ + \" .\" + _md_diagram_panel_ + \">\" + _svg_).e((index, element) => {\n        let fig = $(element),\n            src = V_getSrcValue(fig),\n            container = fig.p(),\n            tagName = V_tagName(fig),\n            params = _,\n            hash = _,\n            isPostcard = gFalse;\n\n        // ----------------------------------------\n        // 对 img 类插图的处理\n        if (src !== gUndefined) {\n            // 对于 img 类插图的预处理\n            params = V_getUrlQueryParams(JS_encodeURI(src));\n            hash = V_getUrlHash(src);\n\n            fig.a(_id_, _vk_id__ + _img_ + V_doc_counter_img);\n\n            // 初始化图片对「颜色方案」的适配处理\n            __initColorScheme(fig, params);\n\n            // 初始化图片对「高清屏」的适配处理\n            __initHighDPI(fig, params);\n\n            // 初始化图片对「图文卡片」的适配处理\n            __initPostcard(fig, src, hash);\n\n            V_doc_counter_img++;\n\n            // 跳过带指定显示版式的图片\n            if (V_isNotFigure(hash, container))\n                return gTrue;\n\n            // 插图（非明信片）的处理\n            isPostcard = __isPostcard(hash);\n            if (!isPostcard) {\n                // 初始化图片背景的适配处理\n                // __initBackground(fig, hash);\n\n                // 添加插图容器\n                container = fig.p();\n                // 确保 img 有独立的父容器，一般情况下 Typora 导出的为 <p>\n                if (V_tagName(container) !== \"p\") {\n                    fig.wrap(\"<p></p>\");\n                    container = fig.p();\n                }\n            }\n        }\n\n        // 插图（非明信片）的处理\n        if (!isPostcard) {\n            // 绑定内容助手\n            src !== gUndefined\n                ? ContentAssistor_bind(fig, _fig_ + _suffixImg_)\n                : ContentAssistor_bind(fig, _fig_ + _suffixSvg_);\n\n            V_doc_counter_figure++;\n\n            // 处理题注\n            __disposeCaption(fig, tagName);\n\n            // 设置容器数据，用于折叠内容时使用\n            container.a(_data_cntr_, tagName);\n            JQ_addClass(container, _v_cap_cntr_);\n            // 折叠长插图（一行多图的情况则跳过）\n            let prevFig = fig.p().p();\n            if (prevFig === undefined || V_length(prevFig.ch(\".\" + _v_caption_ + \",\" + _img_)) === 1)\n                ContentFolder_add(fig, _figure_);\n\n            V_length(hash) > 0 && hash.sW(\"#\" + _blur_)\n                && fig.wrap(V_ui_div(_, _v__ + _blur_, _));\n        }\n    }); // 结束初始化处理\n\n    // 对 插图 和 明信片进行分类排序\n    // V_util_sort(iNavCenter.figures.ui.rs, iNavCenter.figures.ui.rs.ch(\".\" + _v_toc_item_));\n    sw.ed(\"    ├ figure set: \");\n\n    // 进行图片对颜色方案的适配处理\n    ExtFigure_adjustColorScheme(gFalse);\n    sw.ed(\"    └ DPR & misc.: \");\n\n    /**\n     * 处理题注\n     * @param fig 插图对象\n     * @param tagName 插图所属标签 img、svg\n     */\n    function __disposeCaption(fig, tagName) {\n        // 设置插图属性数据\n        fig.a(_data_fig_num_, V_doc_counter_figure);\n        JQ_addClass(fig, _v_fig_);\n\n        // 先根据题注语法生成题注\n        Caption_genForMediaContent(fig, tagName);\n    }\n\n    /**\n     * 判断是否属于明信片\n     * @param hash 插图路径\n     * @returns boolean true：不属于明信片，false：属于明信片\n     */\n    function __isPostcard(hash) {\n        return hash.i(\"#\" + _card_) > -1;\n    }\n\n    /**\n     * 初始化图片对颜色方案（Light / Dark）的适配处理\n     * @param img img 对象\n     * @param params img 对象 src 值的 URL 参数数组\n     */\n    function __initColorScheme(img, params) {\n        // 未指定 darksrc 参数，或同时指定了 fill 参数，则跳过\n        if (params[_darksrc_] === gUndefined)\n            return;\n\n        // 适配 Dark Mode 的方式：反转\n        if (params[_darksrc_] === _invert_  )\n            img.a(_data_dark_src_, _invert_);\n        // 适配 Dark Mode 的方式：替换\n        else {\n            img.a(_data_dark_src_, _alter_);\n\n            let src = V_getSrcValue(img),\n                path = V_getPath(src),\n                queryString = V_getUrlQueryString(src);\n            // 补全 URL 参数内容\n            let darksrc = params[_darksrc_] + (queryString !== _ ? (\"?\" + queryString) : _);\n            // 如果 darksrc 只含文件名，则用 src 的路径进行补全\n            if (darksrc.i(\"/\") === -1)\n                darksrc = path + darksrc;\n\n            // 初始化不同颜色方案的 src 内容\n            img.a(_data_src_light_, V_getSrcValue(img));\n            img.a(_data_src_dark_, darksrc);\n\n            // 初始化不同颜色方案的 srcset 内容\n            params[_srcset_] !== gUndefined\n                && img.a(_data_srcset_light_, params[_srcset_]);\n            params[_darksrcset_] !== gUndefined\n                && img.a(_data_srcset_dark_, params[_darksrcset_]);\n        }\n    }\n\n    /**\n     * 初始化图片高清屏的适配处理\n     * @param img img 对象\n     * @param params img 对象 src 值的 URL 参数数组\n     */\n    function __initHighDPI(img, params) {\n        let // src = img.a(_src_),\n            src = V_getSrcValue(img),\n            srcset = params[_srcset_],\n            darksrcset = params[_darksrcset_];\n\n        // 针对 Light Mode 对应的图片集\n        if (srcset !== gUndefined) {\n            srcset = __transUrlSrcSet(src, srcset);\n            img.a(_data_srcset_light_, srcset);\n            // 设置默认值\n            img.a(_srcset_, srcset);\n        }\n\n        // 针对 Dark Mode 对应的图片集\n        if (darksrcset !== gUndefined) {\n            darksrcset = __transUrlSrcSet(img.a(_data_src_dark_), darksrcset);\n            img.a(_data_srcset_dark_, darksrcset);\n        }\n    }\n\n    /**\n     * 初始化明信片处理\n     * @param img img 对象\n     * @param src img 对象 src 值\n     * @param hash img 对象 src 值中的锚点\n     */\n    function __initPostcard(img, src, hash) {\n        // 未指定 card 参数，则跳过\n        if (hash === gUndefined || hash.i(_card_) === -1)\n            return;\n\n        // 如果是嵌套在 blockquote 中，则对其进行样式调整\n        let blockquote = img.closest(_blockquote_),\n            inBlockquote = (V_length(blockquote) > 0);\n        if (inBlockquote) {\n            blockquote.c(_cssText_, _padding_ + \":0\" + _css_important_);\n            blockquote.c(_box_shadow_, _none_);\n            blockquote.c(_height_, _auto_);\n            JQ_removeAttr(blockquote, _data_quote_group_);\n        }\n\n        // 插入卡片元素\n        let altText = img.a(_alt_),\n            altTextForSearch = altText,\n            titleText = img.a(_title_),\n            cardBody = img.closest(\"p\").n(), // 考虑明信片带 a 链接等情况\n            border = (hash.i(\"#border\") > -1 ? gTrue : gFalse),\n            fitMax = (hash.i(\"#fitmax\") > -1 ? gTrue : gFalse),\n            dual = (hash.i(\"#cardd\") > -1 ? gTrue : gFalse);\n\n        // 若添加了通过引用块指定为正文内容的，则进行处理\n        if (cardBody !== gUndefined && V_length(cardBody) > 0) {\n            if (V_tagName(cardBody) === _blockquote_) {\n                altText = cardBody.hm();\n                altTextForSearch = cardBody.t();\n                cardBody.rm();\n            }\n        }\n\n        JQ_removeAttr(img, _title_);\n\n        // img.af(V_ui_article(_, _v_post_card_ +___+ _v_backdrop_blurs_ +___+ (dual ? _ : \"hover \"),\n        img.af(V_ui_article(_, _v_post_card_ +___+ _v_backdrop_blurs_,\n                (titleText === gUndefined ? _ : V_ui_header(_, _v_card_ + __title_, titleText))\n                + (altText === gUndefined ? _ : V_ui_section(_, _v_card_ + __text_, altText))\n            ));\n\n        // 针对 card dual 模式的处理\n        if (dual)\n            // 完成图片加载后再进行处理\n            img.on(_load_, () => {\n                img.n().c(_width_, inBlockquote\n                    ? _100pc_\n                    : img.c(_width_));\n            });\n        // 针对 card 模式的处理\n        else {\n            // 图片 mouseenter 和 mouseleave 事件\n            img.on(_mouseEnter_, (event) => {\n                if (jq_Window.w() <= gMobileScreenWidth)\n                    return;\n\n                let _t = V_eventCurrentTarget(event),\n                    card = _t.n();\n                if (card.c(_display_) !== _none_)\n                    return;\n\n                _t.c(_filter_, _brightness_ + \"(.8)\");\n\n                __setCardSize(_t, card, border, fitMax);\n\n                // 显示\n                card.c(_display_, _block_);\n                card.on(_mouseLeave_, (event) => {\n                    V_eventCurrentTarget(event).hide();\n                    _t.c(_filter_, _none_);\n                });\n            }).on(_mouseLeave_, (event) => {\n                if (jq_Window.w() <= gMobileScreenWidth)\n                    return;\n\n                let _t = V_eventCurrentTarget(event),\n                    card = _t.n();\n                if (!v_ui_mouseDropIn(_t, event)) {\n                    _t.c(_filter_, _none_);\n                    card.c(_display_, _none_);\n                }\n            });\n\n        }\n\n        V_doc_counter_postcard++;\n\n        // 无指定 title 时，使用图片的文件名作为题注\n        if (titleText === gUndefined)\n            titleText = V_getUrlWithoutQueryAndHash(src.ss(src.lastIndexOf('/') + 1));\n\n        // 生成用于被检索的内容\n        if (altTextForSearch === gUndefined)\n            altTextForSearch = _;\n\n        let anchor = _vk_id__ + \"psc\" + V_doc_counter_postcard,\n            caption = V_ui_span(_, _, Caption_prefix(img, V_lang_text68(),  V_doc_counter_postcard) + Caption_spliter) + titleText,\n            dataForSearch = titleText + altTextForSearch;\n        img.a(_id_, anchor);\n        img.a(_data_title_, caption);\n        iNavCenter.figures.add(caption, anchor, dataForSearch);\n    }\n\n    /**\n     * 设置明信片尺寸\n     * @param img 明信片对象\n     * @param card 明信片的文本对象\n     * @param border 明信片的是否有指定 #border\n     * @param fitMax 明信片的是否有指定 #fitmax\n     */\n    function __setCardSize(img, card, border, fitMax) {\n        // 先调整宽度\n        let w = img.oW();\n        if (fitMax === gTrue) // 取父元素的宽度\n            w = JS_parseInt(img.p().oW(gTrue));\n        card.c(_width_, w);\n\n        // 后根据实际宽度渲染结果，计算最终高度\n        card.c(_top_, img.pos().top + img.oH() - card.oH() + (border ? 1 : 0));\n    }\n\n    /**\n     * 转换图片地址中的 srcset / darksrcset 参数为符合 <img> srcset 属性的格式\n     * @param src 图片地址\n     * @param srcset srcset 或 darksrcset 参数的内容\n     */\n    function __transUrlSrcSet(src, srcset) {\n        // 针对 html 与 图片同一目录的情况\n        let path = V_getPath(src);\n\n        // 针对 @2x/@3x 图片资源为自动匹配名称的语法\n        // 针对 2x/3x 的文件名为 <文件名@2x.xxx> 或 <文件名@3x.xxx> 的情况\n        if (/^@2x(,@3x)?$/.test(srcset)) {\n            let pureSrc = src.ss(0, src.i(\"?\", 5)),\n                fileName = pureSrc.ss(0, pureSrc.lastIndexOf(\".\")), // 图片资源文件名（不含扩展名）\n                suffix = pureSrc.ss(pureSrc.lastIndexOf(\".\"), V_length(pureSrc)); // 图片资源扩展名\n            // 自动补全图片资源 URL\n            srcset = srcset.r(/@2x/, fileName + \"@2x\" + suffix + \" 2x\");\n            srcset = srcset.r(/@3x/, fileName + \"@3x\" + suffix + \" 3x\");\n        }\n        // 针对 @2x/@3x 图片资源为指定文件名的语法\n        else {\n            // 将倍数标识转换为 srcset 标准语法\n            // 要从图片扩展名开始替换，避免将文件中的 @2x @3x 误替换掉\n            srcset = srcset.rAfter(\".\", \"@2x\", \" 2x\");\n            srcset = srcset.rAfter(\".\", \"@3x\", \" 3x\");\n        }\n\n        // 为 2x 图添加图片路径\n        let sss = srcset.sp(\",\");\n        if (sss[0].i(\"/\") === -1) // 仅为文件名时才添加路径\n            srcset = path + srcset;\n        // 为 3x 图添加图片路径\n        if (V_length(sss) > 1 && sss[1].i(\"/\") === -1) // 仅为文件名时才添加路径\n            srcset = srcset.r(\" 2x,\", \" 2x,\" + path);\n\n        return srcset;\n    }\n}\n\n/**\n * 复制图片地址\n * @param source 内容源对象\n */\nfunction ExtFigure_copySrc(source) {\n    Copy_action(source, ContentAssistor_lastHover.a(_src_));\n }\n\n/**\n * 适配指定图片在 Light / Dark Mode 的适配处理\n */\nfunction ExtFigure_adjustColorScheme() {\n    let scheme = ColorScheme_scheme,\n        darkMode = (scheme === _dark_);\n    // --------------------\n    // 对图片在 Dark Mode 时的适配处理\n    // 先对适配方式为「反转」的处理\n    $(_img_ + V_attrCSS(_data_dark_src_, _invert_) + \",\" + _svg_ + V_attrCSS(_data_dark_src_, _invert_)).e((index, element) => {\n        let img = $(element),\n            src = V_getSrcValue(img);\n        if (darkMode) {\n            // 如果图片没有指定替换颜色时才进行处理\n            if (img.a(_data_img_fill_) === gUndefined) {\n                // 设置默认的 srcset\n                src !== gUndefined\n                    && img.a(_srcset_, img.a(_data_srcset_light_));\n                // 添加反转样式\n                JQ_addClass(img, _v_img_invert_dark_);\n            }\n        }\n        else {\n            JQ_removeClass(img, _v_img_invert_dark_);\n            src !== gUndefined\n                && img.a(_srcset_, img.a(_data_srcset_light_));\n        }\n    });\n    // 后对适配方式为「替换」的处理\n    $(_img_ + V_attrCSS(_data_dark_src_, _alter_)).e((index, element) => {\n        let img = $(element);\n        JQ_removeClass(img, _v_img_invert_dark_);\n        img.a(_src_, img.a(_data_src__ + scheme));\n        img.a(_data_src_, img.a(_src_));\n        img.a(_srcset_, img.a(_data_srcset__ + scheme));\n        img.a(_data_srcset_, img.a(_srcset_));\n    });\n\n    // --------------------\n    // 对图片指定为颜色替换的处理\n    $(_img_ + V_attrCSS(_data_img_fill_, _text_)\n        + \",\" + _img_ + V_attrCSS(_data_img_fill_, _theme_ + 1)\n        + \",\" + _img_ + V_attrCSS(_data_img_fill_, _theme_ + 2)\n        + \",\" + _svg_ + V_attrCSS(_data_img_fill_, _text_)\n        + \",\" + _svg_ + V_attrCSS(_data_img_fill_, _theme_ + 1)\n        + \",\" + _svg_ + V_attrCSS(_data_img_fill_, _theme_ + 2)).e((index, element) => {\n        let fig = $(element),\n            fill = fig.a(_data_img_fill_);\n        // 针对 SVG 对象，或 src 为 .svg 的 img 对象\n        if (V_tagName(fig).sW(\"s\") || V_getSrcValue(fig).i(_suffixSvg_, 1) > -1)\n            ExtFigure_fillSVG(fill, fig);\n        // 其他情况\n        else {\n            let dropShadowPrefix = \"drop-shadow(12345px 0px \";\n            if (fill === _text_)\n                fig.c(_filter_, dropShadowPrefix + fig.p().c(_color_) + \")\");\n            else\n                fig.c(_filter_, dropShadowPrefix + V_ui_var(___ac_ + fill + __lg_) + \")\");\n\n            if (fig.a(_data_fig_num_) !== gUndefined)\n                fig.c(_background_, _none_);\n        }\n    });\n}\n\n/**\n * 对 *.svg 格式的 img 图片注入为 SVG 实例后，对颜色进行替换的适配处理\n * @param fill 图片剪影方式：text / theme1 / theme2\n * @param svg SVG 实例对象\n */\nfunction ExtFigure_fillSVG(fill, svg) {\n    // 跳过按钮内的 svg 处理\n    if (V_tagName(svg.p()) === _kbd_)\n        return;\n\n    // 先取消可能会因数 darksrc=invert 的 CSS 配置影响\n    svg.c(_filter_, _none_);\n    // 再针对进行微调\n    let svgSets = \"path,rect,ellipse,polygon\";\n    fill === _text_\n        ? svg.f(svgSets).c(_fill_, svg.p().c(_color_))\n        : svg.f(svgSets).c(_fill_, V_ui_var(___ac_ + fill.l()));\n}\n\n// ==================== 插图导航模块 ==================== //\n\nlet FigureNav_ui = gUndefined, // 插图导航主界面\n    FigureNav_btns = gUndefined,\n    FigureNav_content = gUndefined, // 显示插图内容的控件\n    FigureNav_figNum = 1; // 当前插图索引序号，对应 vk-id-fig 中的值\n\nfunction FigureNav_init() {\n    FigureNav_ui = V_byClass(_v_fig_nav_); // 插图导航主界面\n\n    FigureNav_btns = {\n        ui : V_byClass(_v_fig_nav_btn_), // 所有导航按钮\n        prev : V_byClass(_v_fig_nav_btn_ + \".\" + _prev_), // 上一张插图按钮\n        next : V_byClass(_v_fig_nav_btn_ + \".\" + _next_), // 下一张插图按钮\n        close : V_byClass(_v_btn_ + __close_figure_nav_), // 关闭按钮\n    };\n    FigureNav_content = V_byClass(_v_fig_content_); // 显示插图内容的控件\n    FigureNav_figNum = 1; // 当前插图索引序号，对应 vk-id-fig 中的值\n\n    V_ui_addAnimate(FigureNav_content.ch(_img_ + \",\" + _svg_));\n\n    // 绑定各按钮事件\n    FigureNav_btns.prev.uC().ck(() => {\n        FigureNav_prevFig();\n    });\n    FigureNav_btns.next.uC().ck(() => {\n        FigureNav_nextFig();\n    });\n    FigureNav_btns.close.uC().ck(() => {\n        FigureNav_hide();\n    });\n    FigureNav_content.uC().ck(() => {\n        FigureNav_hide();\n    });\n}\n\n/**\n * 插图导航导航按钮在不同终端的适配处理\n */\n// function FigureNav_adjustHoverStyle() {\n//     // 移动设备时解绑样式事件\n//     if (V_isMobile()) {\n//         FigureNav_btns.prev.uH();\n//         FigureNav_btns.next.uH();\n//     }\n//     // 非移动设备时绑定样式事件\n//     else {\n//         let transformValue = _translate_ + \"Y(-2px)\";\n//         FigureNav_btns.ui.on(_mouseEnter_, (event) => {\n//             V_eventCurrentTarget(event).c(_transform_, transformValue);\n//         }).on(_mouseLeave_, (event) => {\n//             V_eventCurrentTarget(event).c(_transform_, _none_);\n//         });\n//         // 鼠标键按下事件，模拟 :active\n//         FigureNav_btns.ui.on(_mouseDown_, (index, element) => {\n//             $(element).c(_transform_, _none_);\n//         });\n//         // 鼠标键释放事件，模拟恢复正常\n//         FigureNav_btns.ui.on(_mouseUp_, (index, element) => {\n//             $(element).c(_transform_, transformValue);\n//         });\n//     }\n// }\n\n/**\n * 是否已显示\n * @returns boolean\n */\nfunction FigureNav_isShowed() {\n    return FigureNav_ui.c(_display_) !== _none_;\n}\n\n/**\n * 显示插图导航\n */\nfunction FigureNav_show() {\n    if (V_doc_counter_figure === 0)\n        return;\n\n    let fig = ContentAssistor_lastHover;\n\n    V_doc_scroll_freeze();\n    V_doc_block = gTrue;\n\n    if (fig === gUndefined)\n        fig = $(V_attrCSS(_data_fig_num_, FigureNav_figNum));\n\n    // 在插图导航中显示对应插图\n    FigureNav_figNum = JS_parseInt(fig.a(_data_fig_num_));\n\n    V_ui_fadeShow(FigureNav_ui);\n\n    FigureNav_display();\n    FigureNav_updateUI();\n}\n\n/**\n * 关闭插图导航\n */\nfunction FigureNav_hide() {\n    FigureNav_content.em();\n    V_ui_fadeHide(FigureNav_ui);\n\n    V_doc_scroll_unfreeze();\n    V_doc_block = gFalse;\n}\n\n/**\n * 显示插图内容\n */\nfunction FigureNav_display() {\n    let fig = $(V_attrCSS(_data_fig_num_, FigureNav_figNum));\n    FigureNav_content.em();\n    FigureNav_content.show();\n\n    JQ_addClass(FigureNav_content, _loading_);\n\n    let newFig = fig.clone();\n    // JQ_addClass(newFig, _v__ + \"interactive\");\n    JQ_addClass(newFig, _v_fig_ + __action_);\n    V_ui_fadeHide(newFig);\n\n    // 针对懒加载进行适配处理\n    gResObserver.observe(newFig[0]);\n\n    // 添加鼠标移入/移出事件\n    // V_ui_bindHover(newFig);\n\n    // 添加鼠标点击事件\n    newFig.uC().ck(() => {\n        // 跳转到对应位置\n        V_gotoHash(\"#\" + _vk_id_fig_ + FigureNav_figNum);\n        FigureNav_hide();\n    });\n\n    FigureNav_content.ap(newFig);\n    V_ui_fadeShow(newFig);\n}\n\n/**\n * 查看上一个插图\n */\nfunction FigureNav_prevFig() {\n    if (FigureNav_figNum > 1) {\n        FigureNav_figNum--;\n        FigureNav_display();\n        FigureNav_updateUI();\n    }\n}\n\n/**\n * 查看下一个插图\n */\nfunction FigureNav_nextFig() {\n    if (FigureNav_figNum < V_doc_counter_figure) {\n        FigureNav_figNum++;\n        FigureNav_display();\n        FigureNav_updateUI();\n    }\n}\n\n/**\n * 更新插图导航界面\n */\nfunction FigureNav_updateUI() {\n    let pageNum = V_byClass(_v_fig_nav_ + __title_);\n\n    pageNum.hm(V_ui_span(_v__ + _fig_ + \"-\" + _page_ + __num_, _, FigureNav_figNum + \"/\" + V_doc_counter_figure)\n        +___+ V_byID(_vk_id_fig_ + FigureNav_figNum, \">\" + __v_cap1_).t());\n\n    // 根据当前插图索引更新浏览按钮有效状态\n    FigureNav_btns.prev.c(_opacity_, 0);\n    FigureNav_btns.next.c(_opacity_, 0);\n\n    FigureNav_figNum > 1\n        && FigureNav_btns.prev.c(_opacity_, 1);\n\n    FigureNav_figNum < V_doc_counter_figure\n        && FigureNav_btns.next.c(_opacity_, 1);\n}\n\n/**\n * 处理热键操作\n * @param key 非功能键键\n * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n * @param event 事件对象\n */\nfunction FigureNav_disposeHotkey(key, combKeys, event) {\n    if (V_ui_isHidden(FigureNav_ui))\n        return;\n\n    let handled = gFalse;\n    if (V_noCombKeys(combKeys)) {\n        switch (key) {\n            case _ArrowLeft_: // left\n            case ',':\n                FigureNav_prevFig();\n                handled = gTrue;\n                break;\n            case _ArrowRight_: // right\n            case '.':\n                FigureNav_nextFig();\n                handled = gTrue;\n                break;\n            case _Escape_: // esc\n                if (FigureNav_isShowed()) {\n                    FigureNav_hide();\n                    handled = gTrue;\n                }\n                break;\n        }\n    }\n\n    // 如果事件已处理，则禁止双重操作\n    handled && V_preventDefault(event);\n}\n\n// ==================== Mermaid - 脑图交互类 ==================== //\n\nfunction mmMindmap_init() {\n    // to-do: 新特性，未完成\n    let rootIndex = 0;\n        //sectionGroup = _;\n    $(_svg_ + V_attrCSS(_ariaRoledescription_, _mindmap_) + '>.mindmap-nodes>.mindmap-node').e((index, element) => {\n        let _t = $(element);\n        if (rootIndex > 0) {\n            _t.uC().ck((event) => {\n                mmMindmapToggleNode(V_eventCurrentTarget(event));\n            });\n            _t.c(_visibility_, _hidden_);\n        }\n        else {\n            _t.uC().ck((event) => {\n                mmMindmapToggleRoot(V_eventCurrentTarget(event));\n            });\n        }\n        rootIndex++;\n    });\n\n    $(_svg_ + V_attrCSS(_ariaRoledescription_, _mindmap_) + '>.mindmap-edges>.edge').e((index, element) => {\n        $(element).c(_visibility_, _hidden_);\n    });\n}\n\nfunction mmMindmapToggleRoot(node) {\n}\n\nfunction mmMindmapToggleNode(node) {\n    let cssValue = node.a(_class_),\n        si = cssValue.i(\"section-\"),\n        secNum = 0;\n    if (si > -1) {\n        secNum = cssValue.ss(si + 8, V_length(cssValue));\n        if (secNum.isNumber()) {\n            $(_svg_ + V_attrCSS(_ariaRoledescription_, _mindmap_) + '>.mindmap-nodes>.section-' + secNum).e((index, element) => {\n                $(element).c(_visibility_, _visible_);\n            });\n\n            $(_svg_ + V_attrCSS(_ariaRoledescription_, _mindmap_) + '>.mindmap-edges>.section-edge-' + secNum).e((index, element) => {\n                $(element).c(_visibility_, _visible_);\n            });\n        }\n    }\n}\n\n// ==================== 样式重制类 ==================== //\n\n/**\n * 调整任务清单复选框的样式\n */\nfunction Restyler_forTaskList() {\n    // 对任务清单的 checkbox 组件转换为 SVG 图标\n    $(_idWrite_ +___+ _input_ + V_attrCSS(_type_, _checkbox_)).e((index, element) => {\n        let chkStatus = _no_, // 默认为未完成\n            chkStyle = _dark_; // 默认样式\n\n        // 已完成\n        let _t =  $(element),\n            checked = _t.a(_checked_);\n        if (checked !== gUndefined && checked.sW(\"c\")) { // checked\n            chkStatus = _yes_;\n            chkStyle = _theme_;\n        }\n        // 部分完成（不确定选择）\n        else if (_t[0].indeterminate)\n            chkStatus = _un_;\n\n        // 替换为 SVG 图标\n        _t.bf(V_ui_svgIcon(_icoChkbox__ + chkStatus, 14, 14, chkStyle, _v__ + \"svg-\" + _input_ + \"-\" + _checkbox_));\n        _t.rm();\n    });\n}\n\n/**\n * 调整默认的 Mermaid 样式\n */\nfunction Restyler_forMermaid() {\n    // ========== ZenUML 图 ==========\n    let zenSelector = \".\" + _md_diagram_panel_ + \">div>svg\" + V_attrCSS(_ariaRoledescription_, \"zenuml\");\n    // 调整 ZenUML 尺寸因主题原因导致强制被限制大小的情况\n    $(zenSelector).e((index, element) => {\n        let target = $(element);\n        target.f(\".zenuml.bg-skin-canvas\").e((i, e) => {\n            let zenuml = $(e);\n            target.c(_width_, zenuml.w())\n                .c(_height_, zenuml.h());\n            // 同时修正题注框的宽度、高度\n            target.ps(\".\" + _v_caption_).c(_width_, _auto_)\n                    .c(_height_, _auto_);\n        });\n    });\n    // to-do: 临时修复方式（多个图标同名渐变色定义冲突）\n    // 待 ZenUML 官方修复后可取消\n    let idPrefix = \"linearGradient-\",\n        svgIconCount = 0;\n    $(zenSelector + \" div\" + V_attrCSS(_alt_, \"icon\", \"^\") + \">\" + _svg_).e((index, element) => {\n        svgIconCount++;\n        let svgIcon = $(element),\n            idValue = \"linearGradient-vk-fixed-\" + svgIconCount;\n        // 图标渐变色定义 id 更名\n        svgIcon.f(\"defs>linearGradient\" + V_attrCSS(_id_, idPrefix, \"^\")).attr(\"id\", idValue);\n        // 更新图标渐变色定义 id 值\n        svgIcon.f(\"g\" + V_attrCSS(_fill_, \"url(#\" + idPrefix, \"^\")).attr(_fill_, \"url(#\" + idValue + \")\");\n    });\n\n    // ========== 时序图 ==========\n    let seqSelector = \".\" + _md_diagram_panel_ + \" svg\" + V_attrCSS(_ariaRoledescription_, \"sequence\");\n    // 修正顺序图整体的样式\n    $(seqSelector).e((index, element) => {\n        let target = $(element),\n            viewBox = target.a(_view_box_).sp(/\\s+/),\n            paddingBottom = (target.c(_padding_bottom_));\n        // 修正顺序图的下边距，前提先在 CSS 中设置了合适的 padding-bottom 值\n        target.a(_view_box_,\n            viewBox[0] +___+ viewBox[1] +___+ viewBox[2] +___\n            + (JS_parseInt(viewBox[3]) + JS_parseInt(paddingBottom)));\n        // 重置 CSS 中的 padding-bottom 值，因为已由上面的下边距值替换\n        JQ_addClass(target, _v_mermaid_restyler_);\n    });\n\n    // 更新顺序图中的角色样式\n    const front = /@.+/g, // 前端触点角色\n        keySys = /^\\*\\*.+/g, // 重要系统角色\n        extSys = /^--.+/g; // 外部系统角色\n    $(seqSelector + \" g>rect\" + V_attrCSS(_class_, \"actor\", \"*\")).e((index, element) => {\n        let actor = $(element),\n            text = actor.n(_text_).ch(), // actor text object\n            tmpText = text.t(),\n            prefix = _;\n\n        // 更新 <前端触点角色> 样式\n        if (front.test(tmpText)) {\n            let h = actor.h(),\n                line = (actor.p().pr(_line_) || actor.pr(_line_));\n            actor.a(_rx_, (h - 20) / 2);\n            actor.a(_ry_, (h - 20) / 2);\n            actor.a(\"y\", JS_parseInt(actor.a(\"y\")) + 10);\n            actor.a(_height_, h - 20);\n            line.a(\"y1\", JS_parseInt(line.a(\"y1\")) + 10);\n            line.a(\"y2\", JS_parseInt(line.a(\"y2\")) - 20);\n            JQ_addClass(actor.pr(_line_), _v_actor_ + \"-front\");\n            text.t(prefix + tmpText.ss(1, V_length(tmpText)));\n        }\n        // 更新 <重要系统角色> 样式\n        else if (keySys.test(tmpText)) {\n            JQ_addClass(actor, _v_actor_key_sys_);\n            JQ_addClass(actor.pr(_line_), _v_actor_key_sys_);\n            JQ_addClass(actor.nA(_text_).ch(), _v_actor_key_sys_);\n            text.t(prefix + tmpText.ss(2, V_length(tmpText)));\n        }\n        // 更新 <外部系统角色> 样式\n        else if (extSys.test(tmpText)) {\n            JQ_addClass(actor, _v_actor_ext_sys_);\n            JQ_addClass(actor.nA(_text_).ch(), _v_actor_ext_sys_);\n            text.t(prefix + tmpText.ss(2, V_length(tmpText)));\n        }\n        else {\n            text.t(prefix + tmpText);\n        }\n    });\n\n    // 更新顺序图中消息序号的样式\n    $(seqSelector + \">text.sequenceNumber\").e((index, element) => {\n        // 移除文本宽度，避免不同字体大小时显示效果问题\n        JQ_removeAttr($(element), _textLength_);\n    });\n\n    // 更新顺序图中的片断（如：loop、opt、par、alt）样式和位置\n    $(seqSelector + \" polygon+.labelText\").e((index, element) => {\n        let fragment = $(element),\n            g = fragment.p(),\n            segType = fragment.t();\n\n        // 默认的样式（par 片断）\n        let bgColor = _var_ac_og_,\n            borderColor = _var_ac_og_,\n            titleColor = _var_ac_og_lg_;\n        // 为 alt 片断设置样式\n        if (segType === _alt_) {\n            bgColor = _var_ac_rd_;\n            borderColor = _var_ac_rd_;\n            titleColor = _var_ac_rd_lg_;\n        }\n        // 为 loop 片断设置样式\n        else if (segType === _loop_) {\n            bgColor = _var_ac_cy_;\n            borderColor = _var_ac_cy_;\n            titleColor = _var_ac_cy_lg_;\n        }\n        // 为 alt、loop、par 片断应用样式设置\n        if (segType !== \"opt\") {\n            // 背景色\n            g.f(\"polygon.labelBox\").c(_cssText_, _fill_ + \":\" + bgColor + _css_important_);\n            // 边框色\n            g.f(\"line.loopLine\").c(_cssText_, _stroke_ + \":\" + borderColor + _css_important_);\n            // 片断标题颜色\n            g.f(\"text.loopText,text.loopText>tspan\").c(_cssText_, _fill_ + \":\" + titleColor + _css_important_);\n        }\n\n        // 将 alt(alternative)、opt(optional)、loop(loops) 片断文本翻译为其他语言\n        if (segType === _alt_)\n            fragment.t(V_lang_text(69, [\n                \"分支\",\n                \"Alt.\"\n            ]));\n        else if (segType === \"opt\")\n            fragment.t(V_lang_text(70, [\n                \"可选\",\n                \"Opt.\"\n            ]));\n        else if (segType === _loop_)\n            fragment.t(V_lang_text(71, [\n                \"循环\",\n                \"Loop.\"\n            ]));\n        else if (segType === \"par\")\n            fragment.t(V_lang_text(72, [\n                \"并行\",\n                \"Par.\"\n            ]));\n    });\n\n    // 调整片断的标题文本\n    $(seqSelector + \" text.loopText>tspan\").e((index, element) => {\n        // 去掉文本内容前后的中括号\n        let fragmentTitle = $(element);\n        fragmentTitle.p().a(_style_, \"text-anchor:\"  +_start_);\n\n        // 调整文本的位置\n        let label = fragmentTitle.p().p().f(\".labelBox\"),\n            rect = label[0].getBBox();\n        fragmentTitle.a(\"x\", rect.x + rect.width + 10);\n\n        let nextText = fragmentTitle.p().n();\n        if (nextText !== gUndefined && nextText.a(_class_) !== gUndefined && nextText.a(_class_).i(\"loopText\") > -1)\n            nextText.a(\"x\", rect.x + rect.width + 40);\n    });\n\n    // 针对 VLOOK 衍生的 Mermaid 的状态机图节点\n    let radius = V_getVarVal(_v_r_b_);\n    // 针对 VLOOK 顺序图开始、结束节点、子图\n    $(seqSelector + \" .cluster rect\").e((index, element) => {\n        $(element).a(_rx_, radius)\n            .a(_ry_, radius);\n    });\n}\n\n/**\n * 针对使用了 Typora 的图片缩放功能的检查与提示\n */\nfunction Restyler_forImgZoom() {\n    V_length($(_idWrite_ +___+ _img_ + V_attrCSS(_style_, _zoom_, \"*\"))) > 0\n        && ALERT(V_lang_text(64, [\n            \"⚠️ 警告 ⚠️\\n\\n您的文档中使用了 Typora 的图片缩放功能，会存在兼容问题！\\n\\n建议替换为 VLOOK™ 的「图片缩放」，如：\\npic.jpg#400w\\npic.jpg#200h\",\n            \"⚠️ WARNING ⚠️\\n\\nIn your \" + _document_ + \", you used Typora's image scaling feature, which may cause compatibility issues!\\n\\nIt is recommended to replace it with VLOOK™'s \\\"image scaling\\\" such as:\\npic.jpg#400w\\npic.jpg#200h\"\n        ]));\n}\n\n// ==================== Sup/Sub Magic 模块 ==================== //\n\n/**\n * 初始化\n */\nfunction SupSubMagic_preprocess() {\n    // ---------- 注音新语法预处理：_^注音^_ ----------\n    $(\"em\" + V_not(__only_child_) + \">sup\" + __only_child_).e((index, element) => {\n        let _t = $(element),\n            result = [];\n        result.push(_); // 主结构，在此忽略内容\n        result.push(_t.t());\n        TextPhonetic_buildForSup(_t.p(), result);\n    });\n\n    // 遍历段落内的 sub 下标（针对段落或指定格式）\n    $(_idWrite_ + \" sub\").e((index, element) => {\n        let _t = $(element),\n            text = _t.t(),\n            colorSet;\n        if ((colorSet = text.m(Color_syntaxOld)) !== gNull)\n            // 只处理非独占一行的情况（独占一行的由引用块进行处理）\n            text !== _t.p().t()\n                && RainbowTextAndCell_build(_t, colorSet);\n    });\n\n    // ---------- 色号新语法的预处理：_~色号~_ ----------\n    // 引用块、详情的颜色标识\n    $(_idWrite_ + \" :is(\" + _blockquote_ + \",\" + _details_ + \")>p>em\" + __only_child_ + \">sub\" + __only_child_).e((index, element) => {\n        let _t = $(element),\n            text = _t.t(),\n            colorSet;\n        (colorSet = text.m(Color_syntax)) !== gNull\n            && QuoteColoring_build(_t.p().p().p(), _t.p(), colorSet);\n    });\n\n    // 文本颜色、段落着色\n    $(_idWrite_ + \" em>sub\" + __only_child_).e((index, element) => {\n        let _t = $(element),\n            text = _t.t(),\n            colorSet;\n        if ((colorSet = text.m(Color_syntax)) !== gNull)\n            // 只处理非独占一行的情况（独占一行的由引用块进行处理）\n            text !== _t.p().p().t()\n                && RainbowTextAndCell_build(_t.p(), colorSet);\n    });\n\n    // 针对 GitHub Style Alert 移除内嵌的着色样式\n    V_byClass(_md_alert_).e((index, element) => {\n        let _t = $(element);\n        // 取消内嵌的引用块着色、summary、引用块小标题样式\n        _t.f(\".v-q,\" + _summary_ + \",\" + _strong_ + V_attrCSS(_class_, _title_, \"*\")).e((index, element) => {\n            JQ_removeAttr($(element), _class_);\n        });\n        // 根据浏览器语言更换类型文本\n        let mdAlertText__ = \".\" + _md_alert_ + __text_ + \"-\";\n        _t.f(mdAlertText__ + _note_).e((i, e) => {\n            $(e).hm(V_ui_svgIcon2(_icoAlert_note_, 16, 16) + V_lang_text(73, [\n                \"备忘\",\n                _Note_\n            ]));\n        });\n        _t.f(mdAlertText__ + _tip_).e((i, e) => {\n            $(e).hm(V_ui_svgIcon2(_icoAlert_tip_, 16, 16) + V_lang_text(74, [\n                \"提示\",\n                _Tip_\n            ]));\n        });\n        _t.f(mdAlertText__ + _important_).e((i, e) => {\n            $(e).hm(V_ui_svgIcon2(_icoAlert_important_, 16, 16) + V_lang_text(75, [\n                \"重要\",\n                _Important_\n            ]));\n        });\n        _t.f(mdAlertText__ + _warning_).e((i, e) => {\n            $(e).hm(V_ui_svgIcon2(_icoAlert_warning_, 16, 16) + V_lang_text(76, [\n                \"注意\",\n                _Warning_\n            ]));\n        });\n        _t.f(mdAlertText__ + _caution_).e((i, e) => {\n            $(e).hm(V_ui_svgIcon2(_icoAlert_caution_, 16, 16) + V_lang_text(77, [\n                \"警告\",\n                _Caution_\n            ]));\n        });\n    });\n}\n\n// ==================== Sup/Sub Magic：文本注音模块 ==================== //\n\n// 新语法：^[symbol]^\nlet TextPhonetic_syntaxOld = /^\\[(\\S+)]$/; // 旧语法\n\n/**\n * 构建「注音」\n * @param target 源对象\n * @param result 正则表达式匹配后的结果数组\n */\nfunction TextPhonetic_buildForSup(target, result) {\n    let symbol = result[1].rA(\"_\", ___),\n        symbolCount = V_length(symbol.sp(___)),\n        targetPrev = target.pr();\n\n    // 注音内容前没有内容则不处理\n    if (V_length(targetPrev) === 0)\n        return;\n\n    let prevText = targetPrev.t(),\n        wordText;\n\n    // 拉丁内容结尾\n    if (/(.*)[a-z]$/i.test(prevText))\n        wordText = prevText.r(/(.*)(\\b\\w+\\b)/, \"$2\");\n    // 非拉丁内容结尾\n    else\n        wordText = prevText.ss(V_length(prevText) - symbolCount, V_length(prevText));\n\n    // 生成注音内容\n    let rubyHTML = \"$1<ruby>\" + wordText\n        + \"<rp>(</rp><rt>\" + symbol\n        + \"</rt><rp>)\" + _nbsp_ + \"</rp></ruby>\";\n    targetPrev.hm(targetPrev.hm().r(new RegExp(String.raw`(.*)${wordText}`), rubyHTML));\n\n    // 绑定注音的点击事件\n    targetPrev.f(\"ruby>rt\").uC().ck((event) => {\n        TextPhonetic_translation(wordText, symbol, event);\n    });\n    // 删除预置颜色标识\n    target.rm();\n}\n\n/**\n * 释义或翻译\n * @param text 被注音的内容\n * @param symbol 注音\n * @param event 事件对象\n */\nfunction TextPhonetic_translation(text, symbol, event) {\n    V_stopPropagation(event); // 停止事件冒泡\n\n    // 默认翻译为中文的服务\n    let translator = _httpsPrefix_ + \"www.bing.com/translator/?from=&to=zh-chs&text=\",\n        // translator = _httpsPrefix_ + \"translate.google.cn/?langpair=auto&sl=auto&op=translate&text=\",\n        url = translator + JS_encodeURI(text);\n    // 若 symbol 为日文假名，则跳转至翻译平台翻译 symbol\n    if (/^[\\u3040-\\u30FF]/.test(symbol))\n        url = translator + JS_encodeURI(symbol);\n    // 若 text 为中文，则跳转至汉典，翻译 text\n    else if (/^[\\u4e00-\\u9fa5]/.test(text))\n        url = _httpsPrefix_ + \"www.zdic.net/hans/\" + JS_encodeURI(text);\n\n    gWindow.open(url, text);\n}\n\n// ==================== Sup/Sub Magic：引用块着色模块 ==================== //\n\nlet Quote_defalutColor = \"T1!\",\n    Quote_defalutColor_withoutEm = \"T1\";\n\n/**\n * 构建引用块着色样式\n * @param quote 所属引用块对象\n * @param colorCode 匹配色号标签的对象\n * @param colorSet 正则表达式匹配后的结果数组\n */\nfunction QuoteColoring_build(quote, colorCode, colorSet) {\n    let color = Quote_getColor(colorSet[1]), // 颜色标识\n        em = ColorCode_isEm(colorSet) ? \" em\" : _, // 判断是否指定了强调样式\n        tag = V_tagName(quote);\n\n    // 针对 <blockquote> 或 <details>\n    if (tag.sW(\"bl\") || tag.sW(\"de\")) {\n        // 删除预置颜色标识\n        colorCode.p().rm();\n\n        // 引用着色样式的处理\n        JQ_addClass(quote, _v__ + \"q \" + color + em);\n\n        // 针对 detail 的处理\n        JQ_addClass(quote.f(_summary_), _title_ + \"-\" + color + em);\n\n        // 引用块小标题的处理\n        JQ_addClass(quote.f(ExtQuote_subTitle), _title_ + \"-\" + color + em);\n    }\n}\n\n/**\n * 获得获取对应的颜色标识\n * @param color 文档中指定的预置颜色标识\n * @returns string 返回有效的的颜色值\n */\nfunction Quote_getColor(color) {\n    // 没有指定颜色，则为默认颜色\n    if (color === gUndefined)\n        return Quote_defalutColor;\n    return color.l();\n}\n\n// ==================== Sup/Sub Magic：文本颜色模块 ==================== //\n\n/**\n * 构建文本颜色与单元格样式\n * @param colorCode 颜色标识对象\n * @param colorSet 正则表达式匹配后的结果数组\n */\nfunction RainbowTextAndCell_build(colorCode, colorSet) {\n    let color = Badge_getColor(colorSet[1]), // 颜色标识\n        tableCellBgMode = ColorCode_isEm(colorSet),\n        solid = V_length(color) < 4 || color.i(\"-\") > -1, // true - 单色，false - 渐变色\n        gradientColors = [], // 渐变色标识数组\n        renderTarget = colorCode.pr(),\n        wholeRendering = gFalse;\n\n    // 颜色标识为第 1 个子元素时，代表是要对整个段落（或单元格）进行着色\n    if (!tableCellBgMode\n        && renderTarget !== gUndefined && V_isLength0(renderTarget)) {\n            renderTarget = colorCode.p();\n            wholeRendering = gTrue;\n    }\n\n    // 获取目标对象的 HTML 标签名称\n    let tagName = V_tagName(renderTarget);\n\n    // 当颜色标识为渐变色配置时，进行拆分渐变色的预处理\n    if (!solid)\n        gradientColors = V_ui_splitColors(color);\n\n    // 针对整个段落（或单元格）着色模式时\n    // 针对里面的 u 和 mark 标签进行独立处理\n    if (wholeRendering) {\n        __disposeUnderline(renderTarget.f(\"u\"));\n        __disposeMark(renderTarget.f(_mark_));\n    }\n\n    // 文本颜色\n    if (!tableCellBgMode) {\n        // 针对 mark 标签的处理\n        if (tagName === _mark_)\n            __disposeMark(renderTarget);\n        // 针对 mark 以外的标签的处理，如：p u strong span 等\n        else {\n            __disposeText(renderTarget);\n            if (tagName === \"u\")\n                __disposeUnderline(renderTarget);\n        }\n    }\n    // 单元格着色\n    else {\n        renderTarget = colorCode.p();\n        tagName = V_tagName(renderTarget);\n\n        if (tagName === \"th\" || tagName === \"td\")\n            __disposeCell(renderTarget);\n    }\n\n    // 删除预置颜色标识\n    colorCode.rm();\n\n    /**\n     * 处理文本颜色\n     * @param obj 文本对象\n     */\n    function __disposeText(obj) {\n        if (obj === gUndefined)\n            return;\n\n        // 单色\n        if (solid) {\n            // 针对亮度较高的预置色，选择更深一些的 title 色值\n            let title = ColorTooLight.test(color) ? \"-tt\" : _;\n            obj.c(_color_, V_ui_var(___ac_ + color + title));\n        }\n        // 渐变色\n        else {\n            let span = obj.f(_span_);\n            if (V_isLength0(span)) // 无子元素 span 时恢复为 obj\n                span = obj;\n            if (span !== gUndefined) {\n                span.c(_cssText_, _background_image_ + \":\" + _linear_gradient_ + \"(90deg,\"\n                    + V_ui_genGradColorCSS(gradientColors, _, __lg_) + \")\" + _css_important_ + _box_shadow_none_);\n                span.c(_background_clip_, _text_);\n                span.c(_color_, _transparent_);\n            }\n        }\n\n        wholeRendering\n            ? obj.a(_data_rb_whole_text_, V_ui_campColor(color))\n            : obj.a(_data_rb_text_, V_ui_campColor(color));\n    }\n\n    /**\n     * 处理下划线着色\n     * @param obj 文本对象\n     */\n    function __disposeUnderline(obj) {\n        if (obj === gUndefined)\n            return;\n\n        // 单色\n        solid\n            ? obj.c(_border_color_, V_ui_var(___ac_ + color))\n            // 渐变色\n            : obj.c(_border_image_, _linear_gradient_ + \"(90deg,\"\n                + V_ui_genGradColorCSS(gradientColors, _, __lg_) + \") 0 0 1 0\");\n    }\n\n    /**\n     * 处理标识着色\n     * @param obj 文本对象\n     */\n    function __disposeMark(obj) {\n        if (obj === gUndefined)\n            return;\n\n        // 单色\n        solid\n            ? obj.c(_box_shadow_, \"0 \" + V_ui_var(\"--mark-bg-h-inset\") + \" 0 0 \" + V_ui_var(___ac_ + color + __fd_) +___+ _inset_)\n            // 渐变色\n            : obj.c(_box_shadow_, _none_)\n                .c(_text_shadow_, _none_)\n                .c(_cssText_, _background_ + \":\" + _linear_gradient_ + \"(90deg,\"\n                    + V_ui_genGradColorCSS(gradientColors, __fd_, __lg_) + \")0 .4375em/100% \" + V_ui_var(\"--mark-bg-h\") +___+ _no_repeat_ + _css_important_ + _box_shadow_none_);\n    }\n\n    /**\n     * 处理表格单元格着色\n     * @param obj 文本对象\n     */\n    function __disposeCell(obj) {\n        if (obj === gUndefined)\n            return;\n\n        // 单色\n        solid\n            ? obj.c(_background_color_, V_ui_var(___ac_ + color + __fd_))\n            // 渐变色\n            : obj.c(_cssText_, _background_image_ + \":\" + _linear_gradient_ + \"(135deg,\"\n                + V_ui_genGradColorCSS(gradientColors, __fd_, __lg_) + \")\" + _css_important_ + _box_shadow_none_);\n\n        obj.a(_data_rb_cell_bg_, V_ui_campColor(color));\n    }\n}\n\n// ==================== Code Code 模块 ==================== //\n\nlet ColorCode = \"(r[do]|og|ye|l[am]|g[nyd]|aq|cy|wt|b[unk]|se|vn|p[uk]|[mw]n|ol|t[12])\",\n    Color_syntax = new RegExp(\"^\\(\" + ColorCode + \"+)(!)?\\$\", \"i\"),\n    Color_syntaxOld = new RegExp(\"^\\\\((\" + ColorCode + \"+)(!)?\\\\)$\", \"i\"),\n    Color_syntaxByClass = new RegExp(\"\\\\s(\" + ColorCode + \"+)\\\\s(em)?\", \"i\"),\n    ColorTooLight = /ye|lm|aq|la|pk|gd|cy/i; // 属于亮度较高，用于文字显示时须要降低亮度的颜色标识\n\n/**\n * 初始化标签、刮刮卡的默认颜色标识\n */\nfunction ColorCode_init() {\n    // 注：引用块着色的初始化在 ExtQuote 中进行\n    let dcTag = V_getParamVal(_tag_),\n        dcBadge = V_getParamVal(_badge_),\n        dcCoating = V_getParamVal(_coating_);\n    if (dcTag !== gNull)\n        Tag_defalutColor = dcTag;\n    if (dcBadge !== gNull)\n        Badge_defalutColor = dcBadge;\n    if (dcCoating !== gNull)\n        Coating_defalutColor = dcCoating;\n}\n\n/**\n * 处理标签、引用块、刮刮卡指定的颜色\n * @param target 颜色标识对象\n * @return Array[] 正则表达式匹配的颜色标识数组\n */\nfunction ColorCode_parse(target) {\n    let tagName = V_tagName(target),\n        newColors = gNull;\n    // 针对 <sub> 标签\n    if (tagName === \"em\"\n        && V_length(target.ch(\"sub\" + __only_child_)) > 0\n        && (newColors = target.t().m(Color_syntax)) !== gNull)\n            target.rm();\n    return newColors;\n}\n\n/**\n * 判断是否为颜色标识的强调风格\n * @param colorSet 颜色标识的正则匹配结果集\n * @return boolean 是否强调\n */\nfunction ColorCode_isEm(colorSet) {\n    let em = colorSet[V_length(colorSet) - 1];\n    return (em !== gUndefined && em === \"!\");\n}\n\n// ==================== Code Magic 模块 ==================== //\n\n/**\n * 初始化\n */\nfunction CodeMagic_init() {\n    // 遍历所有 不是 em>code 的范围（包单级标签、多级标签的旧语法）\n    let stdCount = 0;\n    $(V_not(\"em\") + V_not(_strong_) + \">\" + _code_).e((index, element) => {\n        let _t = $(element),\n            codeText = _t.t(),\n            result;\n        // 先处理：多级标签格式\n        if ((result = codeText.m(Badge_syntax)) !== gNull)\n            Badge_build(_t, result);\n        // 文字注音格式（代码式语法）\n        else if ((result = codeText.m(TextPhonetic_syntaxForCode)) !== gNull)\n            TextPhonetic_buildForCode(_t, result);\n        // 普通代码增加样式标识，以用于深色模式时的识别\n        else {\n            stdCount++;\n            JQ_addClass(_t, _v_std_code_ + \" id-\" + stdCount);\n            _t.uC().ck(() => {\n                let content = _t.t();\n                ContentAssistor_lastTarget = _t;\n                Copy_action(_t, content);\n            });\n        }\n    });\n\n    // 处理刮刮卡（新语法）\n    $(\"em>\" + _span_ + __first_child_ + \"+\" + _strong_ + __last_child_ + \",em>\" + _strong_ + __only_child_).e((index, element) => {\n        let _t = $(element),\n            result = [],\n            tip = _t.pr();\n\n        // 解包 em\n        _t.p().wrap(V_ui_span(_, _, _));\n        _t.unwrap();\n\n        // 构建兼容旧语法的数据结构\n        result.push(_); // 主结构，在此忽略内容\n        result.push(V_isLength0(tip) ? _ : tip.t()); // 提示的内容\n        result.push(_t.t()); // 隐藏的内容\n\n        // 生成刮刮卡\n        Coating_build(_t.p(), result);\n    });\n\n    // 先处理：多级标签（新语法）\n    $(\"em>\" + _span_ + __first_child_ + \"+\" + _code_ + \",em>\" + _code_ + __first_child_ + \"+\" + _span_ + __last_child_).e((index, element) => {\n        let _t = $(element),\n            value2 = _t.n(),\n            result = [];\n\n        // 解包 em\n        _t.p().wrap(\"<\" + _code_ + \"></\" + _code_ + \">\");\n        _t.unwrap();\n\n        let bName = _t.pr().t(),\n            bValue = _t.t(),\n            bValue2 = _;\n        if (V_tagName(_t) === _span_) {\n            bValue2 = bValue;\n            bValue = bName;\n            bName = _;\n        }\n        else {\n            if (V_length(value2) > 0)\n                bValue2 = value2.t();\n        }\n\n        // 构建兼容旧语法的数据结构\n        result.push(_); // 主结构，在此忽略内容\n        result.push(bName); // 多级标签标题（第1段）\n        result.push(bValue); // 多级标签内容（第2段）\n        // 多级标签内容2（第3段）的处理\n        if (V_length(bValue2) > 0) {\n            result.push(_);\n            result.push(bValue2);\n        }\n\n        // 生成多级标签\n        Badge_build(_t.p(), result);\n    });\n\n    // 后处理：标签（新语法）\n    $(\"em>\" + _code_ + __only_child_).e((index, element) => {\n        let _t = $(element),\n            codeText = _t.t(),\n            result;\n\n        // 解包 em\n        _t.unwrap();\n        // 解析处理\n        (result = codeText.m(Tag_syntax)) !== gNull\n            && Tag_build(_t, result);\n    });\n}\n\n// ==================== Code Magic：标签模块 ==================== //\n\n// 语法：#tag#(color)\nlet Tag_count = 0,\n    Tag_syntax = /^(.+)$/i,\n    Tag_defalutColor = \"t2-a\"; // theme1\n\n/**\n * 构建单标签样式\n * @param target 目标 code 对象\n * @param result 正则表达式匹配后的结果数组\n */\nfunction Tag_build(target, result) {\n    let tag = result[1],\n        color = Tag_getColor(),\n        em = _; // 强调样式的标识\n\n    Tag_count++;\n\n    // 颜色标识新语法处理\n    // 新色号语法：_~色号~_\n    let colorSet = ColorCode_parse(target.n());\n    if (colorSet !== gNull) {\n        color = Tag_getColor(colorSet[1]);\n        em = ColorCode_isEm(colorSet) ? \" em\" : _;\n    }\n\n    target.t(tag);\n\n    // 过滤语法内容\n    let solid = V_length(color) < 4 || color.i(\"-\") > -1, // 如：t1, t2-a\n        gradientColors = [], // 渐变色标识数组\n        id = \" id-\" + Tag_count;\n    // 针对渐变色语法\n    if (!solid) {\n        em = \" em\"; // 强制转为强调样式（不管是否有指定）\n        gradientColors = V_ui_splitColors(color);\n        target.a(_class_, _v_tag_ +___+ gradientColors[0] + em + id);\n        target.c(_cssText_, _background_image_ + \":\" + _linear_gradient_ + \"(90deg,\"\n            + V_ui_genGradColorCSS(gradientColors, _, __lg_) + \")\" + _css_important_\n            + (color.i(\"wt\") > -1 ? _border_color_ + \":\" + _var_d_bc_ + _css_important_ : _)\n            + _box_shadow_none_);\n    }\n    // 针对单色语法\n    else\n        target.a(_class_, _v_tag_ +___+ color + em + id);\n\n    // 复制标签内容\n    target.a(_value_, target.t());\n    target.uC().ck((event) => {\n        let _t = V_eventCurrentTarget(event),\n            content = _t.a(_value_);\n        ContentAssistor_lastTarget = _t;\n        Copy_action(_t, content);\n    });\n}\n\n/**\n * 获得获取对应的颜色标识\n * @param color 文档中指定的预置颜色标识\n * @returns string 返回有效的的颜色值\n */\nfunction Tag_getColor(color = gUndefined) {\n    // 没有指定颜色，则为默认颜色\n    if (color === gUndefined)\n        return Tag_defalutColor;\n    return color.l();\n}\n\n// ==================== Code Magic：多级标签模块 ==================== //\n\n// 语法：#badge_name|badge_value|badge_value2#\nlet Badge_count = 0,\n    Badge_syntax = /^#([^|]*)\\|([^|]+)(\\|([^|]+))?#$/i, // 多级标签\n    Badge_syntax_variable = /^(.*)({{.+}}|%.+%|\\${.+}|#{.+}|\\$.+\\$|var\\(.+\\))(.*)$/i, // 变量语法\n    Badge_defalutColor = \"t1\";\n\n/**\n * 构建多级标签样式\n * @param target 目标 code 对象\n * @param result 正则表达式匹配后的结果数组\n */\nfunction Badge_build(target, result) {\n    let color = Badge_getColor(gUndefined, target), // 颜色标识\n        badgeName = result[1],\n        badgeValue = result[2],\n        badgeValue2 = (V_length(result) > 4) ? result[4] : gUndefined,\n        varStr;\n\n    Badge_count++;\n\n    // 颜色标识新语法处理\n    // 新色号语法：_~色号~_\n    let colorSet = ColorCode_parse(target.n());\n    if (colorSet !== gNull)\n        color = Badge_getColor(colorSet[1], target);\n\n    // 过滤语法内容\n    let solid = V_length(color) < 4,\n        gradientColors = [], // 渐变色标识数组\n        id = \"id-\" + Badge_count;\n\n    // ----- 多级标签标题（第1段）\n    // 针对渐变色语法\n    if (!solid) {\n        gradientColors = V_ui_splitColors(color);\n        target.wrap(\"<\" + _code_ +___+ V_attr(_class_, _v_badge_name_ +___+ gradientColors[0] +___+ id) + \"></\" + _code_ + \">\");\n        target.p().c(_cssText_, _background_image_ + \":\" + _linear_gradient_ + \"(90deg,\"\n            + V_ui_genGradColorCSS(gradientColors, _, __lg_) + \")\" + _css_important_\n            + (color.i(\"wt\") > -1 ? _border_color_ + \":\" + _var_d_bc_ + _css_important_ : _)\n            + _box_shadow_none_);\n    }\n    // 针对单色语法\n    else\n        target.wrap(\"<\" + _code_ +___+ V_attr(_class_, _v_badge_name_ +___+ color +___+ id) + \"></\" + _code_ + \">\");\n\n    // 复制多级标签标题内容（第2段）\n    let badge = V_byClass(_v_badge_name_ + \".\" + id);\n    V_length(badgeName) > 0\n        && badge.pp(V_ui_label(_, _, badgeName));\n\n    // 点击事件\n    badge.uC().ck((event) => {\n        let _t = V_eventCurrentTarget(event),\n            content = _t.a(_value_);\n\n        ContentAssistor_lastTarget = _t;\n        Copy_action(_t, content);\n    });\n\n    // ----- 多级标签内容（第2段）\n    JQ_addClass(target, _v_badge_value_ +___+ id);\n    // 处理含变量的情况\n    if ((varStr = badgeValue.m(Badge_syntax_variable)) !== gNull)\n        badgeValue = badgeValue.r(varStr[2], V_ui_span(\"var\", _, varStr[2]));\n    target.hm(badgeValue);\n\n    // 复制多级标签内容（第2段）\n    target.uC().ck((event) => {\n        let _t = V_eventCurrentTarget(event),\n            value2 = _t.n();\n        Copy_action(_t, _t.t()\n            + (V_length(value2) > 0 ? ___+ value2.t() : _)); // 如果有 value2 的处理\n    });\n\n    // ----- 多级标签内容2（第3段）\n    if (badgeValue2 !== gUndefined) {\n        target.af(V_ui_span(_v_badge_value_ + \"2 \" + id, _, badgeValue2));\n        JQ_addClass(target.p(), _hastwo_);\n        JQ_addClass(target, _hastwo_);\n\n        target.n().uC().ck((event) => {\n            let _t = V_eventCurrentTarget(event);\n            Copy_action(_t, _t.t());\n        });\n    }\n\n    // 生成普通内容，用于复制\n    let nodeCnt = 0,\n        plainContent = _;\n    badge.contents().e((index, element) => {\n        nodeCnt++;\n        plainContent += ((nodeCnt > 1) ? ___ : _) + $(element).t();\n    });\n    badge.a(_value_, plainContent);\n}\n\n/**\n * 获得获取对应的颜色标识\n * @param color 文档中指定的预置颜色标识\n * @param target 目标 code 对象\n * @returns string 返回有效的的颜色值\n */\nfunction Badge_getColor(color, target = gUndefined) {\n    // 没有指定颜色，则为默认颜色\n    if (color === gUndefined) {\n        // 针对封面内的多级标签（未指定颜色标识）的处理\n        if (target !== gUndefined) {\n            let p = target.p(),\n                tagName = (p !== gUndefined ? V_tagName(p) : gUndefined);\n            if (tagName !== gUndefined\n                && tagName.l() === _h6_ && p.p().a(_id_) === _write_ )\n                    return \"t2\";\n        }\n        return Badge_defalutColor;\n    }\n    return color.l();\n}\n\n// ==================== 进度条 ==================== //\n\nlet Progressbar_count = 0,\n    Progressbar_defalutColor = \"t1\";\n\n/**\n * 进度条初始化\n */\nfunction Progressbar_init() {\n    // 处理进度条\n    $(_strong_ + \">\" + _mark_ + __only_child_).e((index, element) => {\n        let _t = $(element).p(),\n            value = _t.t();\n\n        // 指定数值时的处理\n        if (value.isNumber()) {\n            // 解包 mark\n            _t.hm(V_ui_label(_, _, _) + value);\n            Progressbar_build(_t, value);\n        }\n        // 指定自动计算时的处理\n        else if (value === \"?\" || value === \"？\") {\n            let taskList = _t.p().n();\n            if (V_isLength0(taskList))\n                return;\n\n            let count = V_length(taskList.f(\"li\" + V_not(\":has(ul)\"))),\n                doneCount = V_length(taskList.f(\"li\" + V_not(\":has(ul)\") + \".task-list-\" + _done_)),\n                calcValue = (doneCount / count * 100).toFixed(1);\n\n            if (calcValue >= 100)\n                calcValue = 100;\n            // 解包 mark\n            _t.hm(V_ui_label(_, _, _) + calcValue);\n            Progressbar_build(_t, calcValue);\n        }\n    });\n}\n\n/**\n * 构建单标签样式\n * @param target 目标 code 对象\n * @param value 进度值\n */\nfunction Progressbar_build(target, value) {\n    // 赋于样式，后续才能获取正常渲染后尺寸信息\n    Progressbar_count++;\n    JQ_addClass(target, _v__ + \"pgbar id-\" + Progressbar_count);\n\n    let label = target.ch(_label_),\n        width = label.w(),\n        outlineWidth = JS_parseInt(label.c(_outline_width_)),\n        rbTextSet = [\"og\", \"gn\", \"bu\", \"vn\", \"pu\", \"bk\"],\n        rbText = target.a(_data_rb_text_),\n        autoColor = (rbText === gUndefined),\n        color,\n        colorAlt,\n        outlineStyle = _solid_;\n\n    // 根据进度值自动适配颜色\n    if (autoColor) {\n        if (value < 0)\n            rbText = \"rd\";\n        else if (value === 0)\n            rbText = \"gy\";\n        else if (value > 100)\n            rbText = \"ro\";\n        else\n            rbText = rbTextSet[Math.floor(value / 20)];\n    }\n    // 指定固定颜色\n    else {\n        rbText = Progressbar_getColor(rbText);\n    }\n\n    color = V_ui_var(___ac_ + rbText);\n    colorAlt = V_ui_var(___ac_ + rbText + \"-a-lg\");\n\n    autoColor\n        && target.c(_color_, color);\n\n    let overValue = value - 100,\n        overWidth = overValue / 100 * width,\n        shadowSuffix = \"px 0 0 0 \" + color;\n    // 大于 100% 的处理\n    if (overValue > 0) {\n        overWidth = overValue / 100 * width;\n        // 渲染超出部分\n        label.c(_box_shadow_, (overWidth + outlineWidth) + shadowSuffix);\n        label.c(_margin_right_, overWidth + 5);\n    }\n    // 小于 0% 的处理\n    else if (value < 0) {\n        overWidth = value / 100 * width;\n        // 渲染超出部分\n        label.c(_box_shadow_, (overWidth + outlineWidth) + shadowSuffix);\n        label.c(_margin_left_, Math.abs(overWidth));\n        color = colorAlt;\n        outlineStyle = \"dashed\";\n    }\n\n    // 渲染正常部分\n    value = (value > 100) ? 100 : (value < 0 ? 0 : value);\n    label.c(_background_, `${_linear_gradient_}(90deg, ${color} ${value}%, ${_var_d_bc_} ${value}%, ${_var_d_bc_} 100%)`);\n    label.c(_outline_style_, outlineStyle);\n}\n\n/**\n * 获得获取对应的颜色标识\n * @param color 文档中指定的预置颜色标识\n * @returns string 返回有效的的颜色值\n */\nfunction Progressbar_getColor(color) {\n    // 没有指定颜色，则为默认颜色\n    if (color === gUndefined)\n        return Progressbar_defalutColor;\n    return color.l();\n}\n\n// ==================== Code Magic：刮刮卡模块 ==================== //\n\nlet coatingCount = 0,\n    Coating_defalutColor = \"gy\";\n\n/**\n * 构建「刮刮卡」\n * @param target 源对象\n * @param result 正则表达式匹配后的结果数组\n */\nfunction Coating_build(target, result) {\n    let tip = \"••••\",\n        hiddenText = result[2],\n        color = Coating_getColor(gUndefined);\n\n    // 颜色标识新语法处理\n    // 新色号语法：_~色号~_\n    let colorSet = ColorCode_parse(target.n());\n    if (colorSet !== gNull)\n        color = Coating_getColor(colorSet[1]);\n    color = V_ui_var(___ac_ + color);\n\n    // 自定义提示信息\n    if (result[1] !== gUndefined && result[1] !== _)\n        tip = result[1];\n\n    // 初始化「刮刮卡」数据\n    coatingCount++;\n    JQ_addClass(target, _v_coating_ + \" id-\" + coatingCount);\n    target.a(_data_coating_tip_, tip);\n    target.a(_data_coating_hidden_, hiddenText);\n    target.a(_data_coating_showed_, _false_);\n    target.t(tip);\n    target.c(_background_, __genCoatingBg(V_length(tip), color))\n        .c(_border_color_, color);\n\n    // 针对「刮刮卡」的点击事件\n    target.uC().ck((event) => {\n        Coating_toggle(V_eventCurrentTarget(event), event);\n    });\n\n    /**\n     * 根据提示信息字数生成条纹背景\n     * @param charCount 提示信息字数\n     * @param color 条纹背景色\n     * @returns string 生成 CSS 规范的背景\n     */\n    function __genCoatingBg(charCount, color) {\n        let count = 16,\n            result = _linear_gradient_ + \"(135deg,\";\n        // 根据字数调整条纹数量\n        if (charCount <= 8)\n            count = 4;\n        else if (charCount <= 12)\n            count = 8;\n        else if (charCount <= 20)\n            count = 10;\n        // 计算每个条纹的步长\n        let step = 100 / count;\n        // 自动生成条纹背景\n        for (let i = 0; i < count; i++) {\n            let start = i * step,\n                end = start + step,\n                c = (i % 2 === 0) ? color : _var_d_fc_;\n            result += c +___+ start + \"%,\" + c +___+ end + \"%\"; // 分段渐变\n            result += (i < count - 1) ? \",\" : \")\";\n        }\n        return result;\n    }\n}\n\n/**\n * 获得获取对应的颜色标识\n * @param color 文档中指定的预置颜色标识\n * @returns string 返回有效的的颜色值\n */\nfunction Coating_getColor(color) {\n    // 没有指定颜色，则为默认颜色\n    if (color === gUndefined)\n        return Coating_defalutColor;\n    return color.l();\n}\n\n/**\n * 显示 / 隐藏「刮刮卡」的内容\n * @param target 刮刮卡对象\n * @param event 事件对象\n */\nfunction Coating_toggle(target, event) {\n    // 如果有拖选的文本，则跳过处理\n    if (V_getSelectedText() !== _)\n        return;\n\n    target.a(_data_coating_showed_).sW(\"f\")\n        ? (\n            V_stopPropagation(event), // 停止事件冒泡\n            Coating_show(target)\n        )\n        : Coating_hide(target);\n}\n\n/**\n * 显示「刮刮卡」的内容\n * @param target 刮刮卡对象\n */\nfunction Coating_show(target) {\n    JQ_addClass(target, _opened_);\n    // 显示原始信息\n    target.t(target.a(_data_coating_hidden_));\n    // 针对「刮刮卡」自定义数据\n    target.a(_data_coating_showed_, _true_)\n}\n\n/**\n * 隐藏「刮刮卡」的内容\n * @param target 刮刮卡对象\n */\nfunction Coating_hide(target) {\n    JQ_removeClass(target, _opened_);\n    // 显示提示信息\n    target.t(target.a(_data_coating_tip_));\n    // 针对「刮刮卡」自定义数据\n    target.a(_data_coating_showed_, _false_);\n}\n\n// ==================== Code Magic：文本注音模块 ==================== //\n\n// 旧语法：{text}(symbol)\nlet TextPhonetic_syntaxForCode = /^{(.+)}\\((.+)\\)$/;\n\n/**\n * 构建「注音」（代码式语法）\n * @param target 源对象\n * @param result 正则表达式匹配后的结果数组\n */\nfunction TextPhonetic_buildForCode(target, result) {\n    let text = result[1],\n        symbol = result[2];\n    // 生成注音内容\n    target.af(\"<ruby>\" + text\n        + \"<rp>(</rp><rt>\" + symbol\n        + \"</rt><rp>)\" + _nbsp_ + \"</rp></ruby>\");\n    // 绑定注音的点击事件\n    target.n().ch(\"rt\").uC().ck((event) => {\n        TextPhonetic_translation(text, symbol, event);\n    });\n    // 删除预置颜色标识\n    target.rm();\n}\n\n// ==================== VLOOK UI 模块 ==================== //\n\n/**\n * 加载欢迎页资源\n */\nfunction VLOOKui_welcomePage() {\n    let title = V_getDocTitle(),\n        date = V_getMetaByName(_date_),\n        author = V_getMetaByName(\"author\"),\n        defalutContent = (title !== gUndefined ? V_ui_div(_, _, title) : _)\n            + (date !== gUndefined ? V_ui_div(_, _v__ + _date_, \"( \" + date + \" )\") : _)\n            + (author !== gUndefined ? V_ui_strong(author) : _),\n        metaContent = V_getMetaByName(_vlook__ + _welcome_);\n\n    // 无指定欢迎页内容，则使用默认内容\n    if (metaContent === gUndefined)\n        metaContent = defalutContent;\n    metaContent += _2br_;\n    // --------------------------------------------------\n    // 欢迎页\n    return V_ui_div(_, _v_welcome_page_,\n            // 文档专属图标\n            V_ui_div(_, _v_thm_fav_logo_)\n            // 欢迎信息\n            + V_ui_div(_, _v_tips_, metaContent.x())\n            // 文档加载进度及进入按钮\n            + V_ui_div(_, _v_loading_, _Loading_)\n        );\n}\n\n/**\n * 加载 VLOOK CC 封面四角资源\n */\nfunction VLOOKui_cc() {\n    return V_ui_div(_, _v_cc_ +___+ _top_ +___+ _left_, _)\n        + V_ui_div(_, _v_cc_ +___+ _top_ +___+ _right_, _)\n        + V_ui_div(_, _v_cc_ +___+ _bottom_ +___+ _left_, _)\n        + V_ui_div(_, _v_cc_ +___+ _bottom_ +___+ _right_, _);\n}\n\n/**\n * 加载检查 hash 资源\n */\nfunction VLOOKui_checkHash() {\n    return V_ui_div(_, _v_check_hash_, _);\n}\n\n/**\n * 加载图标集资源\n */\nfunction VLOOKui_iconSet() {\n    let ui = '<' + _svg_ +___+ V_attr(_style_, _display_ + \":\" + _none_) + '>',\n        tagRectX = '<rect x=\"',\n        tagRectTransformRotate = '<rect ' + _transform_ + '=\"' + _rotate_ + '(',\n        widthHeightRx = '\" ' + _width_ + '=\"2\" ' + _height_ + '=\"4\" rx=\"1\"/>',\n        blankRect = 'M0 0h16v16H0z';\n\n        // 图标集：图标|VLOOK LOGO\n    ui += V_ui_symbol(_icoVLOOK_,\n            V_ui_path('M14.291 0c1.985 0 2.705.207 3.43.595a4.046 4.046 0 0 1 1.684 1.683c.388.726.595 1.446.595 3.43v8.583c0 1.985-.207 2.705-.595 3.43a4.046 4.046 0 0 1-1.683 1.684c-.726.388-1.446.595-3.43.595H5.708c-1.985 0-2.705-.207-3.43-.595a4.046 4.046 0 0 1-1.684-1.683C.207 16.996 0 16.276 0 14.292V5.708c0-1.985.207-2.705.595-3.43A4.046 4.046 0 0 1 2.278.594C3.004.207 3.724 0 5.708 0h8.583zM10.18 14.146a.217.217 0 0 0-.278 0l-.797.663a.217.217 0 0 0-.041.288l.796 1.193a.217.217 0 0 0 .362 0l.796-1.193a.217.217 0 0 0-.041-.288zm-4.12-6.403a3.616 3.616 0 0 0-3.619 3.614 3.616 3.616 0 0 0 3.619 3.613 3.616 3.616 0 0 0 3.62-3.613 3.616 3.616 0 0 0-3.62-3.614zm7.962 0a3.616 3.616 0 0 0-3.62 3.614 3.616 3.616 0 0 0 3.62 3.613 3.616 3.616 0 0 0 3.619-3.613 3.616 3.616 0 0 0-3.619-3.614zM6.059 8.827c1.4 0 2.533 1.133 2.533 2.53a2.531 2.531 0 0 1-2.533 2.53 2.531 2.531 0 0 1-2.533-2.53 2.531 2.531 0 0 1 2.533-2.53zm7.962 0c1.4 0 2.533 1.133 2.533 2.53a2.531 2.531 0 0 1-2.533 2.53 2.531 2.531 0 0 1-2.533-2.53 2.531 2.531 0 0 1 2.533-2.53zm2.402-4.312a.543.543 0 0 0-.71-.267l-.011.005-5.663 2.357-5.66-2.357-.012-.005a.543.543 0 0 0-.448.987l5.863 2.443.011.005a.54.54 0 0 0 .247.045.54.54 0 0 0 .247-.045l.011-.005 5.863-2.443a.542.542 0 0 0 .262-.72z'))\n        // 图标集：图标|导航中心\n        + V_ui_symbol(_icoNavCenter_,\n            V_ui_path('M7.087.453a.82.82 0 0 1 1.1-.366L13 2.493V17.2a.8.8 0 0 1-1.158.716L7 15.493V.82a.82.82 0 0 1 .087-.367zm12.755.797a1.5 1.5 0 0 1 .158.67v11.72a3 3 0 0 1-1.658 2.683l-3.184 1.592A.8.8 0 0 1 14 17.199V2.493L17.83.58a1.5 1.5 0 0 1 2.012.67zM5.913.453A.82.82 0 0 1 6 .82v14.673l-3.83 1.915A1.5 1.5 0 0 1 0 16.066V4.348a3 3 0 0 1 1.658-2.684L4.813.087a.82.82 0 0 1 1.1.366zM18.99 1.7a.5.5 0 0 0-.668-.23L15.61 2.79a.5.5 0 0 0-.046.874l2.71 1.693a.5.5 0 0 0 .765-.424V1.918a.5.5 0 0 0-.05-.219z'))\n        // 图标集：图标|导航中心分段控制|目录索引\n        + V_ui_symbol(_icoIndexTab_toc_,\n            V_ui_path(blankRect, _none_)\n            + V_ui_path('M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zm0 1H3a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zm0 8a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2h6zm-9 0a1 1 0 0 1 0 2H3a1 1 0 0 1 0-2h1zm9-3a1 1 0 0 1 0 2H7a1 1 0 1 1 0-2h6zM4 7a1 1 0 1 1 0 2H3a1 1 0 1 1 0-2h1zm9-3a1 1 0 0 1 0 2H7a1 1 0 1 1 0-2h6zM4 4a1 1 0 1 1 0 2H3a1 1 0 1 1 0-2h1z'))\n        + V_ui_symbol(_icoIndexTab_toc_ + __checked_,\n            V_ui_path(blankRect, _none_)\n            + V_ui_path('M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zm0 10H7a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2zm-9 0H3a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2zm9-4H7a1 1 0 1 0 0 2h6a1 1 0 0 0 0-2zM4 7H3a1 1 0 1 0 0 2h1a1 1 0 1 0 0-2zm9-4H7a1 1 0 1 0 0 2h6a1 1 0 0 0 0-2zM4 3H3a1 1 0 1 0 0 2h1a1 1 0 1 0 0-2z'))\n        // 图标集：图标|导航中心分段控制|插图索引，与页签组共用\n        + V_ui_symbol(_icoIndexTab_figure_,\n            V_ui_path(blankRect, _none_)\n            + V_ui_path('M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zm0 1H3a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zM5.823 7.22a1 1 0 0 1 .288.252l1.821 2.343a1 1 0 0 0 1.34.221l1.567-1.034a1 1 0 0 1 1.331.21l1.188 1.483a.8.8 0 0 1-.624 1.3H3.288a.8.8 0 0 1-.692-1.201l1.86-3.21a1 1 0 0 1 1.367-.364zM10 4a2 2 0 1 1 0 4 2 2 0 0 1 0-4z'))\n        + V_ui_symbol(_icoIndexTab_figure_ + __checked_,\n            V_ui_path(blankRect, _none_)\n            + V_ui_path('M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zM5.823 7.22a1 1 0 0 0-1.367.364l-1.86 3.21a.8.8 0 0 0 .692 1.201h9.446a.8.8 0 0 0 .624-1.3L12.17 9.212a1 1 0 0 0-1.331-.21l-1.567 1.034a1 1 0 0 1-1.34-.221L6.111 7.472a1 1 0 0 0-.288-.252zM10 4a2 2 0 1 0 0 4 2 2 0 0 0 0-4z'))\n        // 图标集：图标|导航中心分段控制|表格索引，与页签组共用\n        + V_ui_symbol(_icoIndexTab_table_,\n            V_ui_path(blankRect, _none_)\n            + V_ui_path('M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zM5 11H1v1a2 2 0 0 0 2 2h2v-3zm5 0H6v3h4v-3zm5 0h-4v3h2a2 2 0 0 0 2-2v-1zM5 6H1v4h4V6zm5 0H6v4h4V6zm5 0h-4v4h4V6zM5 2H3a2 2 0 0 0-2 2v1h4V2zm5 0H6v3h4V2zm3 0h-2v3h4V4a2 2 0 0 0-2-2z'))\n        + V_ui_symbol(_icoIndexTab_table_ + __checked_,\n            V_ui_path(blankRect, _none_)\n            + V_ui_path('M16 11v1a3 3 0 0 1-3 3h-1v-4h4zM4 11v4H3a3 3 0 0 1-3-3v-1h4zm7 0v4H5v-4h6zm0-5v4H5V6h6zm5 0v4h-4V6h4zm-5-5v4H5V1h6zm2 0a3 3 0 0 1 3 3v1h-4V1h1zM4 1v4H0V4a3 3 0 0 1 3-3h1zM0 6h4v4H0V6z'))\n        // 图标集：图标|导航中心分段控制|多媒体索引，与页签组共用\n        + V_ui_symbol(_icoIndexTab_media_,\n            V_ui_path(blankRect, _none_)\n            + V_ui_path('M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zm-1 1.001H4v12h8v-12zM3 11H1v1a2 2 0 0 0 2 2v-3zm12 0h-2v3l.15-.005A2 2 0 0 0 15 12v-1zM3.002 6h-2v4h2V6zm11.997 0h-2v4h2V6zM3 2a2 2 0 0 0-2 2v1h2zm10 0v3h2V4a2 2 0 0 0-2-2zm-2.936 6.655L7.259 10.62A.8.8 0 0 1 6 9.963V6.037a.8.8 0 0 1 1.259-.656l2.805 1.964a.8.8 0 0 1 0 1.31z'))\n        + V_ui_symbol(_icoIndexTab_media_ + __checked_,\n            V_ui_path(blankRect, _none_)\n            + V_ui_path('M16 11v1a3 3 0 0 1-3 3v-4h3zM3 11v4a3 3 0 0 1-3-3v-1h3zm9-10v14H4V1h8zM6.8 5.237a.8.8 0 0 0-.8.8v3.926a.8.8 0 0 0 1.259.656l2.805-1.964a.8.8 0 0 0 0-1.31L7.259 5.38a.8.8 0 0 0-.459-.144zM16 6v4h-3V6h3zM3 6v4H0V6h3zm10-5a3 3 0 0 1 3 3v1h-3V1zM3 1v4H0V4a3 3 0 0 1 3-3z'))\n        // 图标集：图标|导航中心分段控制|代码块索引，与页签组共用\n        + V_ui_symbol(_icoIndexTab_codeblock_,\n            V_ui_path(blankRect, _none_)\n            + V_ui_path('M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zm0 1H3a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zM6.555 4.168a1 1 0 0 1 .277 1.387L5.201 7.999l1.631 2.446a1 1 0 0 1-.184 1.317l-.093.07a1 1 0 0 1-1.387-.277L3.353 8.832a1.5 1.5 0 0 1 0-1.664l1.815-2.723a1 1 0 0 1 1.387-.277zm2.89 0a1 1 0 0 1 1.387.277l1.815 2.723a1.5 1.5 0 0 1 0 1.664l-1.815 2.723a1 1 0 0 1-1.387.277l-.093-.07a1 1 0 0 1-.184-1.317L10.799 8 9.168 5.555a1 1 0 0 1 .277-1.387z'))\n        + V_ui_symbol(_icoIndexTab_codeblock_ + __checked_,\n            V_ui_path(blankRect, _none_)\n            + V_ui_path('M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zM5.454 4.168a1 1 0 0 0-1.387.277L2.252 7.168a1.5 1.5 0 0 0 0 1.664l1.815 2.723a1 1 0 0 0 1.387.277l.093-.07a1 1 0 0 0 .184-1.317L4.101 8l1.63-2.444a1 1 0 0 0-.277-1.387zm4.89 0a1 1 0 0 0-.277 1.387l1.631 2.444-1.631 2.446a1 1 0 0 0 .184 1.317l.093.07a1 1 0 0 0 1.387-.277l1.815-2.723a1.5 1.5 0 0 0 0-1.664l-1.815-2.723a1 1 0 0 0-1.387-.277z'))\n        // 图标集：图标|导航中心分段控制|公式索引，与页签组共用\n        + V_ui_symbol(_icoIndexTab_formula_,\n            V_ui_path(blankRect, _none_)\n            + V_ui_path('M13 0a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3h10zm0 1H3a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2zM3.735 3l3.876.003a.741.741 0 0 1 .738.706.746.746 0 0 1-.653.79l-.085.004L5.225 4.5l2.041 2.043c.18.24.202.567.054.83l-.054.084L5.226 9.5h2.386a.74.74 0 0 1 .73.662l.004.087c0 .38-.279.7-.648.745L7.61 11H3.735a.732.732 0 0 1-.64-.382.764.764 0 0 1 .011-.756l.046-.069 2.604-2.791-2.604-2.795a.763.763 0 0 1-.093-.75.736.736 0 0 1 .595-.452L3.735 3zm8.948 3.062a.76.76 0 0 1 .145 1.05l-.986 1.338 1.009 1.32a.76.76 0 0 1-.133 1.043.724.724 0 0 1-1.025-.12l-.767-1.002-.75 1.015a.724.724 0 0 1-1.018.133.76.76 0 0 1-.155-1.035l.987-1.337-1.01-1.32a.76.76 0 0 1 .133-1.044.724.724 0 0 1 1.025.12l.767 1.003.75-1.016a.725.725 0 0 1 1.028-.148z'))\n        + V_ui_symbol(_icoIndexTab_formula_ + __checked_,\n            V_ui_path(blankRect, _none_)\n            + V_ui_path('M13 0a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3h10zM3.735 3l-.08.005a.736.736 0 0 0-.596.452.763.763 0 0 0 .093.75l2.604 2.795-2.604 2.791-.046.069a.764.764 0 0 0-.011.756c.13.236.375.382.64.382h3.876l.087-.006a.745.745 0 0 0 .648-.745l-.005-.087a.74.74 0 0 0-.73-.662H5.226l2.041-2.042.054-.084a.763.763 0 0 0-.054-.83l-2.04-2.043 2.385.002.085-.005a.746.746 0 0 0 .653-.789.741.741 0 0 0-.738-.706L3.735 3zm8.948 3.062a.725.725 0 0 0-1.028.148l-.75 1.016-.767-1.002a.724.724 0 0 0-1.025-.121.76.76 0 0 0-.133 1.044l1.01 1.32-.987 1.337a.76.76 0 0 0 .155 1.035.724.724 0 0 0 1.018-.133l.75-1.015.767 1.002a.724.724 0 0 0 1.025.12.76.76 0 0 0 .133-1.044L11.84 8.45l.987-1.338a.76.76 0 0 0-.145-1.05z'))\n        // 图标集：图标|页签组|音频\n        + V_ui_symbol(_icoIndexTab_audio_,\n            V_ui_path(blankRect, _none_)\n            + V_ui_path('M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zm0 1H3a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zM6.625 4c.483 0 .875.392.875.875v6.25a.875.875 0 1 1-1.75 0v-6.25c0-.483.392-.875.875-.875zm2.75 1c.483 0 .875.392.875.875v4.25a.875.875 0 1 1-1.75 0v-4.25c0-.483.392-.875.875-.875zm-5.5 1c.483 0 .875.392.875.875v2.25a.875.875 0 1 1-1.75 0v-2.25C3 6.392 3.392 6 3.875 6zm8.25 0c.483 0 .875.392.875.875v2.25a.875.875 0 1 1-1.75 0v-2.25c0-.483.392-.875.875-.875z'))\n        + V_ui_symbol(_icoIndexTab_audio_ + __checked_,\n            V_ui_path(blankRect, _none_)\n            + V_ui_path('M0 0h16v16H0z\"/><path d=\"M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zM6.625 4a.875.875 0 0 0-.875.875v6.25a.875.875 0 1 0 1.75 0v-6.25A.875.875 0 0 0 6.625 4zm2.75 1a.875.875 0 0 0-.875.875v4.25a.875.875 0 1 0 1.75 0v-4.25A.875.875 0 0 0 9.375 5zm-5.5 1A.875.875 0 0 0 3 6.875v2.25a.875.875 0 1 0 1.75 0v-2.25A.875.875 0 0 0 3.875 6zm8.25 0a.875.875 0 0 0-.875.875v2.25a.875.875 0 1 0 1.75 0v-2.25A.875.875 0 0 0 12.125 6z'))\n        // 图标集：图标|页签组|引用块\n        + V_ui_symbol(_icoIndexTab_blockquote_,\n            V_ui_path(blankRect, _none_)\n            + V_ui_path('M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zm0 1H3a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zM4 4h4a1 1 0 1 1 0 2H4a1 1 0 1 1 0-2zm-.5 5h9a.5.5 0 1 1 0 1h-9a.5.5 0 0 1 0-1zm0 2h9a.5.5 0 1 1 0 1h-9a.5.5 0 1 1 0-1z'))\n        + V_ui_symbol(_icoIndexTab_blockquote_ + __checked_,\n            V_ui_path(blankRect, _none_)\n            + V_ui_path('M0 0h16v16H0z\"/><path d=\"M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zm-.5 10h-9a.5.5 0 1 0 0 1h9a.5.5 0 1 0 0-1zm0-2h-9a.5.5 0 0 0 0 1h9a.5.5 0 1 0 0-1zM8 4H4a1 1 0 1 0 0 2h4a1 1 0 1 0 0-2z'))\n        // 图标集：图标|导航历史\n        + V_ui_symbol(_icoNavHistory_,\n            V_ui_path('M10.63 0c5.17 0 9.375 4.262 9.375 9.5S15.8 19 10.631 19c-4.05 0-7.51-2.616-8.817-6.27l1.325-.768c1.026 3.198 3.997 5.518 7.49 5.518 4.34 0 7.875-3.581 7.875-7.98 0-4.399-3.534-7.98-7.875-7.98-2.98 0-5.58 1.688-6.916 4.17l1.247.41a.625.625 0 0 1 .14 1.12L2.225 9.057a.625.625 0 0 1-.917-.297L.044 5.56a.625.625 0 0 1 .777-.823l1.445.476C3.814 2.123 6.982 0 10.631 0zm-.5 4.18c.691 0 1.25.56 1.25 1.25V9.79l2.402 1.403a1.25 1.25 0 0 1 .456 1.697l-.013.023a1.248 1.248 0 0 1-1.714.461L9.5 11.618a1.247 1.247 0 0 1-.594-.83l-.009-.049a1.26 1.26 0 0 1-.017-.21v-5.1c0-.69.56-1.249 1.25-1.249z'))\n        // 图标集：图标|搜索\n        + V_ui_symbol(_icoSearch_,\n            V_ui_path('M14.999 14.596a1.375 1.375 0 0 1-1.953 0L11.46 12.94a6.372 6.372 0 0 1-3.466 1.032c-3.559 0-6.444-2.904-6.444-6.486S4.435 1 7.994 1c3.56 0 6.445 2.904 6.445 6.486a6.47 6.47 0 0 1-1.026 3.488l1.586 1.656c.54.543.54 1.423 0 1.966zM7.993 2.32c-2.834 0-5.132 2.313-5.132 5.166s2.298 5.165 5.132 5.165c2.835 0 5.133-2.312 5.133-5.165s-2.298-5.166-5.133-5.166z'))\n        + V_ui_symbol(_icoMaskCloser_,\n            V_ui_path('M11.98.176l.035.013c1.506.534 2.311 2.123 1.86 3.607L6.21 30l7.61 26.04c.546 1.475-.186 3.097-1.64 3.707l-.2.077c-1.502.532-3.154-.18-3.781-1.597l-.065-.16L.315 31.916a5.987 5.987 0 0 1 0-3.832L8.133 1.933C8.702.41 10.422-.375 11.979.176z'))\n        // 图标集：图标|插图导航的上一张\n        + V_ui_symbol(_icoPrevFig_,\n            V_ui_path('M11.03.091c.765.284 1.159 1.147.88 1.927L3.002 27l8.91 24.982a1.516 1.516 0 0 1-.75 1.87l-.13.057a1.462 1.462 0 0 1-1.834-.765l-.055-.134L.12 27.705C.112 27.685 0 27.435 0 27c0-.435.111-.684.12-.706L9.141.99A1.465 1.465 0 0 1 11.03.09z'))\n        // 图标集：图标|逐章导航的上一章'\n        + V_ui_symbol(_icoPrevChapter_,\n            V_ui_path('M7.364.293a1 1 0 0 1 0 1.414l-4.97 4.969 4.974 4.974a1 1 0 0 1-1.415 1.414L.296 7.407a.996.996 0 0 1-.291-.658.995.995 0 0 1 .288-.8L5.95.294a1 1 0 0 1 1.414 0z'))\n        // 图标集：图标|已收起的 目录节点\n        + V_ui_symbol(_icoTocFolded_,\n            V_ui_path('M11.614 8.72L7.37 12.961a1 1 0 0 1-1.414-1.414l3.542-3.543-3.542-3.543A1 1 0 1 1 7.37 3.048l4.243 4.243a.997.997 0 0 1 .293.707v.014a.997.997 0 0 1-.293.707z'))\n        // 图标集：图标|已收起的 表格行分组节点\n        + V_ui_symbol(_icoFolded_,\n            V_ui_path('M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zm-.336 3.757A1 1 0 1 0 6.25 5.172l2.835 2.835-2.835 2.836a1 1 0 1 0 1.414 1.414l3.535-3.536a.997.997 0 0 0 .293-.707V8a.997.997 0 0 0-.293-.707z'))\n        // 图标集：图标|关闭\n        + V_ui_symbol(_icoClose_,\n            V_ui_path('M7,7 L7,-1 C7,-1.55228475 7.44771525,-2 8,-2 C8.55228475,-2 9,-1.55228475 9,-1 L9,7 L17,7 C17.5522847,7 18,7.44771525 18,8 C18,8.55228475 17.5522847,9 17,9 L9,9 L9,17 C9,17.5522847 8.55228475,18 8,18 C7.44771525,18 7,17.5522847 7,17 L7,9 L-1,9 C-1.55228475,9 -2,8.55228475 -2,8 C-2,7.44771525 -1.55228475,7 -1,7 L7,7 Z\"' +___+ V_attr(_transform_, _translate_ + '(8.000000, 8.000000) ' + _rotate_ + '(45.000000) ' + _translate_ + '(-8.000000, -8.000000)'), _))\n        // 图标集：图标|清空输入\n        + V_ui_symbol(_icoResetInput_,\n            V_ui_path('M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zM5.737 4.606a.8.8 0 0 0-1.131 1.131L6.869 8l-2.263 2.263a.8.8 0 1 0 1.131 1.131L8 9.131l2.263 2.263a.8.8 0 1 0 1.131-1.131L9.131 8l2.263-2.263a.8.8 0 1 0-1.131-1.131L8 6.869z'))\n        // 图标集：图标|浅色外观（Light）\n        + V_ui_symbol(_icoLightMode_,\n            V_ui_path('M10 17a1 1 0 0 1 1 1v1a1 1 0 0 1-2 0v-1a1 1 0 0 1 1-1zm6.364-2.05l.707.707a1 1 0 0 1-1.414 1.414l-.707-.707a1 1 0 1 1 1.414-1.414zm-11.314 0a1 1 0 0 1 0 1.414l-.707.707a1 1 0 1 1-1.414-1.414l.707-.707a1 1 0 0 1 1.414 0zM10 5a5 5 0 1 1 0 10 5 5 0 0 1 0-10zm9 4a1 1 0 0 1 0 2h-1a1 1 0 0 1 0-2h1zM2 9a1 1 0 0 1 0 2H1a1 1 0 0 1 0-2h1zm15.071-6.071a1 1 0 0 1 0 1.414l-.707.707a1 1 0 1 1-1.414-1.414l.707-.707a1 1 0 0 1 1.414 0zm-12.728 0l.707.707A1 1 0 1 1 3.636 5.05l-.707-.707A1 1 0 0 1 4.343 2.93zM10 0a1 1 0 0 1 1 1v1a1 1 0 0 1-2 0V1a1 1 0 0 1 1-1z'))\n        // 图标集：图标|深色外观（Dark）\n        + V_ui_symbol(_icoDarkMode_,\n            V_ui_path('M5.646 2.646A9.003 9.003 0 0 0 9 20a9.003 9.003 0 0 0 8.354-5.646A9 9 0 0 1 5.613 2.729zM15.5 3l-1.065 2.7a1.303 1.303 0 0 1-.734.735L11 7.5l2.7 1.065c.337.133.602.398.735.734L15.5 12l1.065-2.7c.133-.337.398-.602.734-.735L20 7.5l-2.7-1.065a1.303 1.303 0 0 1-.735-.734L15.5 3zm-4.829-3l-.547 1.389a1 1 0 0 1-.564.563L8.171 2.5l1.39.548a1 1 0 0 1 .563.563L10.67 5l.548-1.389a1 1 0 0 1 .563-.563l1.39-.548-1.39-.548a1 1 0 0 1-.563-.563L10.671 0z'))\n        // 图标集：图标|外观跟随系统（Light / Dark）\n        + V_ui_symbol(_icoAutoMode_,\n            V_ui_path('M10 0c5.523 0 10 4.477 10 10s-4.477 10-10 10S0 15.523 0 10 4.477 0 10 0zm0 2v4a4 4 0 0 0-.2 7.995L10 14v4a8 8 0 1 0 0-16zm0 4a4 4 0 0 1 .2 7.995L10 14z'))\n        // 图标集：图标|链接地图\n        + V_ui_symbol(_icoLinkMap_,\n            V_ui_path('M17.143 12.857c-.496 0-.956.139-1.362.362l-3.095-2.278c.103-.296.171-.61.171-.941 0-.1-.02-.194-.03-.292l2.86-1.716a2.13 2.13 0 0 0 1.456.58A2.143 2.143 0 1 0 15 6.428c0 .1.016.195.03.292l-2.71 1.625a2.852 2.852 0 0 0-1.606-1.102V5.613a2.855 2.855 0 0 0 2.143-2.756A2.86 2.86 0 0 0 10 0a2.86 2.86 0 0 0-2.857 2.857c0 1.327.914 2.437 2.143 2.756v1.631c-.697.18-1.3.617-1.689 1.223L4.951 6.88a2.143 2.143 0 1 0-2.094 1.692c.488-.001.96-.17 1.337-.48L7.156 9.87c-.002.045-.013.086-.013.131 0 .332.068.646.172.942l-3.06 2.296a2.816 2.816 0 0 0-1.398-.38A2.86 2.86 0 0 0 0 15.713a2.86 2.86 0 0 0 2.857 2.857 2.86 2.86 0 0 0 2.857-2.857c0-.54-.159-1.039-.42-1.47l2.82-2.115c.335.299.737.513 1.172.627v3.09a2.136 2.136 0 0 0-1.429 2.011 2.143 2.143 0 1 0 4.286 0 2.136 2.136 0 0 0-1.429-2.011v-3.09a2.837 2.837 0 0 0 1.174-.627l2.834 2.085c-.283.45-.435.97-.436 1.5a2.86 2.86 0 0 0 2.857 2.857A2.86 2.86 0 0 0 20 15.714a2.86 2.86 0 0 0-2.857-2.857zm-8.572-10a1.43 1.43 0 0 1 2.857 0A1.43 1.43 0 0 1 10 4.286a1.43 1.43 0 0 1-1.429-1.429zM2.857 17.143a1.43 1.43 0 0 1-1.428-1.429c0-.788.64-1.428 1.428-1.428.788 0 1.429.64 1.429 1.428a1.43 1.43 0 0 1-1.429 1.429zM10 11.429A1.43 1.43 0 0 1 8.571 10a1.43 1.43 0 0 1 2.857 0A1.43 1.43 0 0 1 10 11.429zm7.143 5.714a1.43 1.43 0 0 1-1.429-1.429 1.43 1.43 0 0 1 2.857 0 1.43 1.43 0 0 1-1.428 1.429z'))\n        // 图标集：图标|聚光灯\n        + V_ui_symbol(_icoSpotlight_,\n            V_ui_path('M7 0a7 7 0 0 1 6.992 6.67A7.002 7.002 0 0 1 11 20a7 7 0 0 1-6.992-6.67A7.002 7.002 0 0 1 7 0zm4 6a7 7 0 0 0-6.992 7.33 7 7 0 0 0 9.985-6.662A6.984 6.984 0 0 0 11 6.001z'))\n        // 图标集：图标|激光笔\n        + V_ui_symbol(_icoLaserPointer_,\n            V_ui_path('M5.574 5.078a3.5 3.5 0 0 1 4.913.603l6.772 8.668a3.5 3.5 0 1 1-5.516 4.31L4.971 9.991a3.5 3.5 0 0 1 .603-4.913zm.576.769a2.5 2.5 0 1 0 3.078 3.94 2.5 2.5 0 0 0-3.078-3.94zm6.562-3.138a1 1 0 1 1 1.231 1.576l-.788.616a1 1 0 1 1-1.231-1.576l.788-.616zm-10.5 8a1 1 0 1 1 1.231 1.576l-.788.616a1 1 0 0 1-1.231-1.576l.788-.616zm-1.177-4.68l1 .034a1 1 0 0 1-.07 1.999l-1-.035a1 1 0 0 1 .07-1.999zM8.838.021a1 1 0 0 1 .77 1.186l-.208.978a1 1 0 0 1-1.956-.416l.208-.978a1 1 0 0 1 1.186-.77zM2.724 1.409a1 1 0 0 1 1.403.172l.616.788a1 1 0 0 1-1.576 1.232l-.616-.788a1 1 0 0 1 .173-1.404z'))\n        // 图标集：图标|段落漫游\n        + V_ui_symbol(_icoParagraphNav_,\n            V_ui_path('M3.5 9.5a2.5 2.5 0 1 0 0 5H8a2.5 2.5 0 0 1 2.5-2.5h6a2.5 2.5 0 0 1 2.5 2.5v1a2.5 2.5 0 0 1-2.5 2.5h-6A2.5 2.5 0 0 1 8 15.5H3.3A3.51 3.51 0 0 1 0 12a3.5 3.5 0 0 1 3.3-3.494L16.5 8.5a2.5 2.5 0 1 0 0-5H12A2.5 2.5 0 0 1 9.5 6h-6A2.5 2.5 0 0 1 1 3.5v-1A2.5 2.5 0 0 1 3.5 0h6A2.5 2.5 0 0 1 12 2.5h4.8v.013a3.5 3.5 0 0 1 0 6.974V9.5H3.5z'))\n        // 图标集：图标|字体风格\n        + V_ui_symbol(_icoFontStyle_,\n            V_ui_path('M2.26 17.998l.59-1.85h3.015l.59 1.85h1.843a.5.5 0 0 0 .465-.683l-2.648-6.74a1 1 0 0 0-.931-.635h-1.57a1 1 0 0 0-.93.634l-2.65 6.74a.5.5 0 0 0 .466.684h1.76zm3.14-3.342H3.315l.22-.682c.26-.8.534-1.741.78-2.585h.055c.275.822.535 1.785.81 2.585l.218.682zm6.745 3.544c.893 0 1.644-.364 2.31-.892h.071l.17.716h2.055v-4.058c0-2.236-1.176-3.266-3.26-3.266-1.26 0-2.408.377-3.471.942l.879 1.47c.807-.402 1.473-.628 2.11-.628.823 0 1.163.34 1.22.917-3.146.302-4.478 1.118-4.478 2.626 0 1.193.907 2.173 2.394 2.173zm.865-1.734c-.524 0-.865-.2-.865-.615 0-.503.51-.917 2.083-1.093V15.9c-.368.352-.708.565-1.218.565zM13.802 0l3.473 7.75.724.078V8.4h-4.33v-.573l1.066-.124-.727-1.864h-3.201l-.8 1.853.712.146V8.4H8.1V8.16c-.325.256-.749.37-1.314.37-.943 0-1.472-.428-1.686-1.129-.729.727-1.272 1.13-2.414 1.13-1.23 0-2.086-.676-2.086-1.766 0-1.181.743-1.818 3.043-2.428.4-.104.9-.22 1.4-.337v-.792c0-1.35-.343-1.753-1.429-1.753-.2 0-.386.013-.6.052l-.1.922c-.043.883-.528 1.233-1.071 1.233-.515 0-.872-.233-.986-.662C.97 1.78 2.213 1 4.427 1c2.029 0 2.843.792 2.843 2.674v3.492c0 .494.172.662.443.662.214 0 .372-.103.643-.493l.243.182a2.323 2.323 0 0 1-.152.262l.49-.086L12.31 0h1.492zm-8.76 4.35a7.258 7.258 0 0 0-.786.22c-1 .376-1.529.987-1.529 1.934 0 .78.4 1.143 1.072 1.143.386 0 .714-.17 1.243-.598zm7.43-2.615l-1.507 3.533h2.87l-1.363-3.533z'))\n        // 图标集：图标|灰色模式（Gray Mode）\n        + V_ui_symbol(_icoGray_,\n            V_ui_path('M7.826 9.565a1.74 1.74 0 1 0 0-3.478 1.74 1.74 0 0 0 0 3.478zm4.348 0a1.74 1.74 0 1 0 0-3.478 1.74 1.74 0 0 0 0 3.478zm-4.348 4.348a1.74 1.74 0 1 0 0-3.478 1.74 1.74 0 0 0 0 3.478zm4.348 0a1.74 1.74 0 1 0 0-3.478 1.74 1.74 0 0 0 0 3.478zm3.84-4.783a1.304 1.304 0 1 0 0-2.608 1.304 1.304 0 0 0 0 2.608zm0 4.348a1.304 1.304 0 1 0 0-2.608 1.304 1.304 0 0 0 0 2.608zm.001 3.742a1.205 1.205 0 1 0 0-2.41 1.205 1.205 0 0 0 0 2.41zM3.985 9.13a1.304 1.304 0 1 0 0-2.608 1.304 1.304 0 0 0 0 2.608zm0-3.94a1.205 1.205 0 1 0 0-2.41 1.205 1.205 0 0 0 0 2.41zm0 8.288a1.304 1.304 0 1 0 0-2.608 1.304 1.304 0 0 0 0 2.608zm0 3.742a1.205 1.205 0 1 0 0-2.41 1.205 1.205 0 0 0 0 2.41zm8.189.099a1.304 1.304 0 1 0 0-2.609 1.304 1.304 0 0 0 0 2.609zm-4.348 0a1.304 1.304 0 1 0 0-2.609 1.304 1.304 0 0 0 0 2.609zm4.348-12.03a1.304 1.304 0 1 0 0-2.609 1.304 1.304 0 0 0 0 2.609zm3.841-.099a1.205 1.205 0 1 0 0-2.41 1.205 1.205 0 0 0 0 2.41zm-8.189.099a1.304 1.304 0 1 0 0-2.609 1.304 1.304 0 0 0 0 2.609zM19.13 8.696a.87.87 0 1 0 0-1.74.87.87 0 0 0 0 1.74zm0 4.347a.87.87 0 1 0 0-1.739.87.87 0 0 0 0 1.74zM.87 8.696a.87.87 0 1 0 0-1.74.87.87 0 0 0 0 1.74zm6.956-6.957a.87.87 0 1 0 0-1.739.87.87 0 0 0 0 1.74zm4.348 0a.87.87 0 1 0 0-1.739.87.87 0 0 0 0 1.74zM7.826 20a.87.87 0 1 0 0-1.74.87.87 0 0 0 0 1.74zm4.348 0a.87.87 0 1 0 0-1.74.87.87 0 0 0 0 1.74zM.87 13.043a.87.87 0 1 0 0-1.739.87.87 0 0 0 0 1.74z'))\n        // 图标集：图标|文库\n        + V_ui_symbol(_icoDocLib_,\n            V_ui_path('M17 0a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3h14zm.001 7h-14a2 2 0 0 0-2 2h6a3 3 0 0 0 6 0h6l-.005-.15A2 2 0 0 0 17 7zm0-3h-14a2 2 0 0 0-2 2h18l-.005-.15A2 2 0 0 0 17 4zm0-3h-14a2 2 0 0 0-2 2h18l-.005-.15A2 2 0 0 0 17 1z'))\n        // 图标集：图标|文库-当前页面中打开链接\n        + V_ui_symbol(_icoDocLibSelf_,\n            V_ui_path('M12.5 19a.5.5 0 1 1 0 1h-5a.5.5 0 1 1 0-1h5zm3.014-19l.35.01A1.2 1.2 0 0 1 17 1.21v12.123a1.5 1.5 0 0 1-1.504 1.497h-.01a6.119 6.119 0 0 0-2.794.621 9.371 9.371 0 0 0-2.192 1.475v.046H18a1 1 0 0 0 1-1v-11a1 1 0 0 0-1-1v-1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2h-7.5V18h-.998l-.002-.001H2a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5.5c.813 0 1.55.324 2.09.849L9.5 4c.582-1.023 1.31-1.927 2.7-2.85C13.167.51 14.472-.004 15.514 0zM7.5 4H2a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h7.5V6a2 2 0 0 0-2-2zm7.978-3c-.887 0-2.04.49-2.865 1.062-1.028.712-1.508 1.397-2.001 2.062l-.112.16v11.344l.098-.074c.407-.301.841-.575 1.302-.821l.351-.18a7.118 7.118 0 0 1 3.244-.723.5.5 0 0 0 .505-.497V1.208a.2.2 0 0 0-.19-.2L15.479 1zM8 14v1H3v-1h5zm0-2v1H3v-1h5zM6 6v3H3V6h3z'))\n        // 图标集：图标|文库-新标签中打开同站链接\n        + V_ui_symbol(_icoDocLibBm_,\n            V_ui_path('M17 0a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3h14zm1 15H2v1h16v-1zm0-2H2v1h16v-1zm-8-4H2v2h8V9zm7.4-7h-3.6a.6.6 0 0 0 0 1.2h2.15l-3.774 3.776a.6.6 0 0 0 .848.848L16.8 4.048V6.2a.6.6 0 1 0 1.199 0V2.572l-.002-.023V2.53a.598.598 0 0 0-.014-.075l-.004-.015a.6.6 0 0 0-.322-.383l-.013-.006-.014-.006-.012-.005a.595.595 0 0 0-.054-.018l-.013-.003a.6.6 0 0 0-.02-.006l-.017-.003-.05-.008h-.003l-.006-.001.006.001L17.4 2zM5 2H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z'))\n        // 图标集：图标|文库-参考注释（脚注）汇总\n        + V_ui_symbol(_icoDocLibRef_,\n            V_ui_path('M7.5 17h5a.5.5 0 1 1 0 1h-5a.5.5 0 1 1 0-1zm0-17c1.044 0 1.964.534 2.501 1.343A2.989 2.989 0 0 1 12.5 0H18a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5zm0 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h7.5V3a2 2 0 0 0-2-2zM18 1h-5.5a2 2 0 0 0-2 2v12H18a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zm-2.25 5.356l-.001 4.728H17V12h-5v-.915l1.249-.001V6.965l-.624.001v-.61h3.125zM14.5 3c.69 0 1.25.546 1.25 1.22 0 .436-.238.84-.625 1.057a1.276 1.276 0 0 1-1.25 0 1.215 1.215 0 0 1-.625-1.057c0-.674.56-1.22 1.25-1.22z'))\n        // 图标集：图标|文库-新标签中打开外部链接\n        + V_ui_symbol(_icoDocLibExt_,\n            V_ui_path('M20 10a9.95 9.95 0 0 0-.773-3.856v-.037h-.013A10.006 10.006 0 0 0 10.116.006L10.104 0l-.008.004C10.063.004 10.03 0 10 0 4.477 0 0 4.479 0 10c0 5.523 4.476 10 10 10 .031 0 .063-.004.094-.004a.07.07 0 0 1 .01.004l.012-.006C15.584 19.931 20 15.484 20 10zm-9.894 8.621c-.696-.577-1.945-2-2.517-5.037h5.028c-.573 3.045-1.821 4.466-2.511 5.037zM7.43 12.434a19.427 19.427 0 0 1 .061-5.176h5.223a19.214 19.214 0 0 1 .065 5.176H7.43zM1.15 10c0-.957.157-1.877.44-2.741h4.723a21.412 21.412 0 0 0-.177 2.81c0 .862.053 1.64.133 2.365h-4.77A8.778 8.778 0 0 1 1.15 10zm8.95-8.593c.661.589 1.803 1.982 2.41 4.7H7.69c.601-2.727 1.737-4.11 2.41-4.7zm3.796 5.852h4.514c.281.864.439 1.784.439 2.741 0 .846-.126 1.66-.349 2.434h-4.56c.08-.725.133-1.503.133-2.365 0-1.035-.066-1.968-.177-2.81zm4.04-1.152h-4.232c-.484-2.374-1.358-3.88-2.127-4.807a8.872 8.872 0 0 1 6.359 4.807zM8.66 1.263c-.774.923-1.667 2.438-2.157 4.844h-4.44a8.855 8.855 0 0 1 6.597-4.844zM1.914 13.584h4.517c.458 2.583 1.373 4.19 2.18 5.146a8.87 8.87 0 0 1-6.697-5.146zm9.716 5.109c.8-.96 1.696-2.562 2.147-5.109h4.307a8.874 8.874 0 0 1-6.454 5.109z'))\n        // 图标集：图标|引用块折叠、details、summary 打开详情\n        + V_ui_symbol(_icoDetailsOpen_,\n            V_ui_path('M9 0a9 9 0 1 1 0 18A9 9 0 0 1 9 0zm1 3H8v5H3v2h5v5h2v-5h5V8h-5V3z'))\n        // 图标集：图标|检查\n        + V_ui_symbol(_icoCheck_,\n            V_ui_path('M6.323.102a19.026 19.026 0 0 0 5.27 2.566c.242.074.407.3.406.556V5.31a10.05 10.05 0 0 1-1.444 5.306L9.05 9.134A3.8 3.8 0 0 0 5.98 3.1a3.79 3.79 0 0 0-2.684 1.115 3.794 3.794 0 0 0-.18 5.137 3.802 3.802 0 0 0 5.109.607l1.65 1.625c-.963 1.183-2.212 2.055-3.668 2.374a.58.58 0 0 1-.208.042.662.662 0 0 1-.203-.036c-3.541-.78-5.858-4.828-5.794-8.66V3.225c0-.256.164-.48.405-.555A19.024 19.024 0 0 0 5.674.102a.566.566 0 0 1 .65 0zM6.02 4.447c.66 0 1.279.257 1.747.72a2.469 2.469 0 0 1-1.747 4.217A2.468 2.468 0 0 1 3.547 6.91 2.457 2.457 0 0 1 6.02 4.447z'))\n        // 图标集：图标|内容助手-表格阅读模式（十字光标）\n        + V_ui_symbol(_icoTableX_,\n            V_ui_path('M15.6 0A2.4 2.4 0 0 1 18 2.4v11.2a2.4 2.4 0 0 1-2.4 2.4H2.4A2.4 2.4 0 0 1 0 13.6V2.4A2.4 2.4 0 0 1 2.4 0h13.2zM12 1H6v4.5A1.5 1.5 0 0 1 4.5 7H1v5h3.5A1.5 1.5 0 0 1 6 13.5V15h6v-1.5a1.5 1.5 0 0 1 1.5-1.5H17V7h-3.5A1.5 1.5 0 0 1 12 5.5V1zm-1.5 6A1.5 1.5 0 0 1 12 8.5v2a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 6 10.5v-2A1.5 1.5 0 0 1 7.5 7h3zm-.167 1H7.667A.667.667 0 0 0 7 8.667v1.666c0 .369.298.667.667.667h2.666a.667.667 0 0 0 .667-.667V8.667A.667.667 0 0 0 10.333 8z'))\n        // 图标集：图标|内容助手-表格、代码的换行、不换行\n        + V_ui_symbol(_icoWrapUnwrap_,\n            V_ui_path('M12 0a2 2 0 0 1 2 2h5.5a.5.5 0 1 1 0 1H14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h10zM2.5 3a.5.5 0 0 1 0-1H13a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1H2.5zM17 5.1c.961.52 1.628.953 2 1.3.372.347.705.847 1 1.5l-2.001-.001L18 10.5a2.9 2.9 0 0 1-2.9 2.9h-.801l.001 2.1c-.673-.383-1.173-.75-1.5-1.1-.327-.35-.76-.984-1.3-1.9.52-.961.953-1.628 1.3-2 .347-.372.847-.705 1.5-1l-.001 2.1h.801a1.1 1.1 0 0 0 1.1-1.1l-.001-2.6H14c.383-.673.75-1.173 1.1-1.5.35-.327.984-.76 1.9-1.3zM8 7a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h6zm-2.5 6h-3a.5.5 0 1 0 0 1h3a.5.5 0 1 0 0-1zm2-2h-5a.5.5 0 1 0 0 1h5a.5.5 0 1 0 0-1zm0-2h-5a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1z'))\n        // 图标集：图标|内容助手-画中画\n        + V_ui_symbol(_icoPicInPic_,\n            V_ui_path('M16 9a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h7zM1 8v5a1 1 0 0 0 1 1h3v1H2a2 2 0 0 1-2-2V8h1zm14-8a2 2 0 0 1 2 2v5h-1V2a1 1 0 0 0-.883-.993L15 1H8V0h7zM.471.508a.725.725 0 0 1 1.025 0l3.48 3.48V1.642c0-.365.295-.66.66-.661h.014a.689.689 0 0 1 .675.69L6.32 5.693a.662.662 0 0 1-.2.473.657.657 0 0 1-.466.193l-4.024.004a.689.689 0 0 1-.689-.675v-.013c0-.366.296-.662.661-.662h2.35L.47 1.534a.725.725 0 0 1 0-1.026z'))\n        // 图标集：图标|画中画的放大模式\n        + V_ui_symbol(_icoZoomIn_,\n            V_ui_path('M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zm4 7.503l-.117.007a1 1 0 0 0-.883.993v2.492H8.4a1 1 0 0 0 0 2h3.1a1.5 1.5 0 0 0 1.5-1.5V8.504a1 1 0 0 0-1-1zM7.58 3H4.5A1.5 1.5 0 0 0 3 4.5v3.062a1 1 0 0 0 1 1l.117-.007A1 1 0 0 0 5 7.562V5h2.58a1 1 0 1 0 0-2z'))\n        // 图标集：图标|内容助手-画中画的缩小模式\n        + V_ui_symbol(_icoZoomOut_,\n            V_ui_path('M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zm4.58 8H9.5A1.5 1.5 0 0 0 8 9.5v3.062a1 1 0 0 0 1 1l.117-.007a1 1 0 0 0 .883-.993V10h2.58a1 1 0 1 0 0-2zM7 2.503l-.117.007A1 1 0 0 0 6 3.503v2.492H3.4a1 1 0 1 0 0 2h3.1a1.5 1.5 0 0 0 1.5-1.5V3.504a1 1 0 0 0-1-1z\"', 'evenodd'))\n        // 图标集：图标|复制\n        + V_ui_symbol(_icoCopy_,\n            V_ui_path('M0 10V3a3 3 0 0 1 3-3h9a3 3 0 0 1 3 3 3 3 0 0 1 3 3v7a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3 3 3 0 0 1-3-3zm15-6H6a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z'))\n        // 图标集：图标|加载中\n        + V_ui_symbol(_icoLoading_,\n            tagRectX + '7' + widthHeightRx\n            + tagRectTransformRotate + '45 12.243 3.757)\" x=\"11.243\" y=\"1.757' + widthHeightRx\n            + tagRectTransformRotate + '90 14 8)\" x=\"13\" y=\"6' + widthHeightRx\n            + tagRectTransformRotate + '135 12.243 12.243)\" x=\"11.243\" y=\"10.243' + widthHeightRx\n            + tagRectTransformRotate + '180 8 14)\" x=\"7\" y=\"12' + widthHeightRx\n            + tagRectTransformRotate + '-135 3.757 12.243)\" x=\"2.757\" y=\"10.243' + widthHeightRx\n            + tagRectTransformRotate + '-90 2 8)\" x=\"1\" y=\"6' + widthHeightRx\n            + tagRectTransformRotate + '-45 3.757 3.757)\" x=\"2.757\" y=\"1.757' + widthHeightRx)\n        // 图标集：图标|播放\n        + V_ui_symbol(_icoPlay_,\n            V_ui_path('M14.133 9.605l-7.86 6.028c-.93.633-2.223.427-2.887-.459A1.909 1.909 0 0 1 3 14.028V1.972C3 .882 3.927 0 5.07 0c.432 0 .852.128 1.203.367l7.86 6.028c.93.633 1.146 1.865.481 2.751a2.024 2.024 0 0 1-.481.459z', _)\n            + V_ui_path(blankRect, _none_))\n        // 图标集：图标|暂停\n        + V_ui_symbol(_icoPause_,\n            V_ui_path('M3 2h1a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm9 0h1a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z', _)\n            + V_ui_path(blankRect, _none_))\n        // 图标集：图标|停止\n        + V_ui_symbol(_icoStop_,\n            tagRectX + '2\" y=\"2\" ' + _width_ + '=\"12\" ' + _height_ + '=\"12\" rx=\"2\"/>'\n            + V_ui_path(blankRect, _none_))\n        // 图标集：图标|无法播放\n        + V_ui_symbol(_icoForbidden_,\n            V_ui_path('M3.11 4.523a6.001 6.001 0 0 0 8.368 8.367L3.11 4.523zM4.522 3.11l8.368 8.367A6 6 0 0 0 4.522 3.11zM8 16A8.001 8.001 0 1 1 8.002.002 8.001 8.001 0 0 1 8 16z', _)\n            + V_ui_path(blankRect, _none_))\n        // 图标集：图标|复选框（未选择）\n        + V_ui_symbol(_icoChkbox__ + _no_,\n            V_ui_path('M10 0a4 4 0 0 1 4 4v6a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4h6zm-.5 2h-5c-.69 0-1.315.28-1.768.732A2.492 2.492 0 0 0 2 4.5v5c0 .69.28 1.315.732 1.768A2.492 2.492 0 0 0 4.5 12h5c.69 0 1.315-.28 1.768-.732A2.492 2.492 0 0 0 12 9.5v-5c0-.69-.28-1.315-.732-1.768A2.492 2.492 0 0 0 9.5 2z\" opacity=\".5'))\n        // 图标集：图标|复选框（已选择）\n        + V_ui_symbol(_icoChkbox__ + _yes_,\n            V_ui_path('M10 0a4 4 0 0 1 4 4v6a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4h6zm.435 3.36a1 1 0 0 0-1.393.245L5.703 8.372 4.421 7.09a1 1 0 1 0-1.414 1.414l2.121 2.121a1 1 0 0 0 1.225.15l.01-.007.01-.005a.997.997 0 0 0 .292-.277l4.015-5.734a1 1 0 0 0-.245-1.393z'))\n        // 图标集：图标|复选框（不确定选择）\n        + V_ui_symbol(_icoChkbox__ + _un_,\n            V_ui_path('M10 0a4 4 0 0 1 4 4v6a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4h6zm0 6H4a1 1 0 1 0 0 2h6a1 1 0 0 0 0-2z\" opacity=\".5'))\n        // 图标集：图标|有新版本\n        + V_ui_symbol(_icoNewVersion_,\n            V_ui_path('M10 20C4.5 20 0 15.5 0 10S4.5 0 10 0s10 4.5 10 10-4.5 10-10 10zm.885-13.548l2.211 2.21a.856.856 0 0 0 1.239 0 .854.854 0 0 0 0-1.237L11.238 4.33c-.707-.707-1.769-.707-2.476 0L5.665 7.425a.854.854 0 0 0 0 1.237.856.856 0 0 0 1.239 0l2.211-2.21v8.664c0 .53.354.884.885.884.53 0 .885-.354.885-.884V6.452z'))\n        // 图标集：图标|链接检查结果异常\n        + V_ui_symbol(_icoLinkError_,\n            V_ui_path('M19.59 14.956l-7.846-13.7c-.96-1.675-2.528-1.675-3.488 0L.41 14.956C-.55 16.632.235 18 2.153 18h15.695c1.917 0 2.701-1.368 1.743-3.044zM8.923 5.143c.282-.307.64-.46 1.078-.46.438 0 .796.151 1.078.454.28.304.42.683.42 1.14 0 .392-.585 3.28-.78 5.38h-1.41c-.171-2.1-.806-4.988-.806-5.38 0-.45.14-.828.42-1.134zm2.136 9.989c-.296.29-.65.436-1.058.436-.408 0-.761-.145-1.058-.436a1.424 1.424 0 0 1-.442-1.056c0-.411.147-.767.442-1.065.297-.298.65-.447 1.058-.447.409 0 .762.149 1.058.447.296.298.443.654.443 1.065 0 .413-.147.765-.443 1.056z'))\n        // 图标集：GitHub Style Alert | Note\n        + V_ui_symbol(_icoAlert_note_,\n            V_ui_path('M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zm.25 7h-1a.75.75 0 0 0 0 1.5h.25v2h-.25a.75.75 0 1 0 0 1.5h2a.75.75 0 1 0 0-1.5H9V7.75A.75.75 0 0 0 8.25 7zM8 4a1 1 0 1 0 0 2 1 1 0 0 0 0-2z'))\n        // 图标集：GitHub Style Alert | Tip\n        + V_ui_symbol(_icoAlert_tip_,\n            V_ui_path('M5.5 0C8.637 0 11 2.31 11 5.25c0 1.516-.701 2.5-1.328 3.259l-.268.319c-.207.245-.383.453-.541.681-.208.3-.33.595-.37.877a.76.76 0 0 1-.773.616L3.2 11a.748.748 0 0 1-.692-.614c-.04-.282-.163-.577-.37-.877a8.456 8.456 0 0 0-.354-.46l-.456-.54-.237-.296C.537 7.496 0 6.577 0 5.25 0 2.31 2.363 0 5.5 0zM3.25 12h4.5a.75.75 0 1 1 0 1.5h-4.5a.75.75 0 1 1 0-1.5zm.25 3.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75z'))\n        // 图标集：GitHub Style Alert | Important\n        + V_ui_symbol(_icoAlert_important_,\n            V_ui_path('M14.25 0C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0 1 14.25 13H8.06l-2.573 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25v-9.5C0 .784.784 0 1.75 0h12.5zM8 9a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm0-7c-.552 0-1 .42-1 .938v4.124C7 7.58 7.448 8 8 8s1-.42 1-.938V2.938C9 2.42 8.552 2 8 2z'))\n        // 图标集：GitHub Style Alert | Warning\n        + V_ui_symbol(_icoAlert_warning_,\n            V_ui_path('M9.576.933l6.213 11.471c.296.547.28 1.207-.043 1.739a1.792 1.792 0 0 1-1.533.857H1.787c-.628 0-1.21-.326-1.533-.857a1.744 1.744 0 0 1-.043-1.739L6.424.934c.673-1.245 2.479-1.245 3.152 0zM8 11a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm0-7c-.552 0-1 .42-1 .938v4.125C7 9.58 7.448 10 8 10s1-.42 1-.938V4.939C9 4.42 8.552 4 8 4z'))\n        // 图标集：GitHub Style Alert | Caution\n        + V_ui_symbol(_icoAlert_caution_,\n            V_ui_path('M11 0c.199 0 .389.079.53.22l4.25 4.25c.141.14.22.331.22.53v6c0 .199-.08.39-.22.53l-4.25 4.25A.749.749 0 0 1 11 16H5a.749.749 0 0 1-.53-.22L.22 11.53A.749.749 0 0 1 0 11V5c0-.199.079-.389.22-.53L4.47.22C4.61.08 4.801 0 5 0h6zM8 11a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm0-7c-.552 0-1 .42-1 .938v4.125C7 9.58 7.448 10 8 10s1-.42 1-.938V4.939C9 4.42 8.552 4 8 4z'))\n    + '</svg>';\n    return ui;\n}\n\n/**\n * 加载工具栏 UI 资源\n */\nfunction VLOOKui_toolbar() {\n    // ==================================================\n    // 页面工具栏\n    return V_ui_nav(_, _v_toolbar_ +___+ _v_focus_search_, _,\n            // 导航中心\n            V_ui_div(_, _v_btn_ +___+ _nav_center_, V_ui_svgIcon(_icoNavCenter_, 20, 18, _btnFc_))\n            // 文库\n            + V_ui_div(_, _v_btn_ +___+ _doc_lib_, V_ui_svgIcon(_icoDocLib_, 20, 18, _btnFc_))\n            + V_ui_div(_, _v_btn_group_ +___+ _prs_,\n                // 激光笔\n                V_ui_divExt(_, _v_btn_ +___+ _laser_pointer_, V_attr(_data_btn_group_, _prs_),\n                    V_ui_svgIcon(_icoLaserPointer_, 18, 20, _btnFc_))\n                // 聚光灯\n                + V_ui_divExt(_, _v_btn_ +___+ _spotlight_, V_attr(_data_btn_group_, _prs_),\n                    V_ui_svgIcon(_icoSpotlight_, 18, 20, _btnFc_))\n                // 段落漫游\n                + V_ui_divExt(_, _v_btn_ +___+ _paragraph_nav_, V_attr(_data_btn_group_, _prs_),\n                    V_ui_svgIcon(_icoParagraphNav_, 20, 18, _btnFc_))\n            )\n            // 分隔符\n        );\n}\n\n/**\n * 加载导航中心 UI 资源\n */\nfunction VLOOKui_allNav() {\n    // ==================================================\n    // 逐章导航栏\n    let classSvgChpNav = _v__ + \"svg-chp\" + __nav_,\n        ui = V_ui_nav(_, _v_chapter_nav_ +___+ _v_focus_search_, _,\n            // 上一章\n            V_ui_div(_, _v_chapter_nav_ + __prev,\n                V_ui_svgIcon(_icoPrevChapter_, 10, 15, _btnFc_, classSvgChpNav +___+ _left_)\n                + V_ui_div(_, _v_chapter_nav_ + __prev + __text_)\n            )\n            // 文档标题\n            + V_ui_div(_, _v_chapter_nav_ + __doc_title_)\n            // 当前章节\n            + V_ui_div(_, _v_chapter_nav_ + __current_)\n            // 下一章\n            + V_ui_div(_, _v_chapter_nav_ + __next_,\n                V_ui_div(_, _v_chapter_nav_ + __next_ + __text_, _next_)\n                + V_ui_svgIcon(_icoPrevChapter_, 10, 15, _btnFc_, classSvgChpNav +___+ _right_)\n            )\n        );\n\n    // --------------------------------------------------\n    // 导航中心\n    let classTocFilterResult = _v_index_filter_result_ +___;\n    ui += V_ui_nav(_, _v_nav_center_, V_attr(_data_title_, V_lang_text6()),\n        // --- 导航中心头部 ---\n        V_ui_div(_, _v_nav_center_ + __header_,\n            // 关键字搜索\n            V_ui_div(_, _v_search_by_keyword_)\n            // 分段控制器组件\n            + V_ui_nav(_, _v_segment_ + \" toc\"), _)\n            // 导航历史标题\n            // --- 导航中心内容区 ---\n            + V_ui_div(_, _v_nav_center_ + __body_,\n                V_ui_nav(_vlook_toc_, _, V_attr(_data_toc_empty_, \"( \" + V_lang_text35() + V_lang_text66() + \" )\"))\n                + V_ui_nav(_, classTocFilterResult + _toc_, _)\n                + V_ui_nav(_, classTocFilterResult + _figure_, _)\n                + V_ui_nav(_, classTocFilterResult + _table_, _)\n                + V_ui_nav(_, classTocFilterResult + _codeblock_, _)\n                + V_ui_nav(_, classTocFilterResult + _formula_, _)\n                + V_ui_nav(_, classTocFilterResult + _media_, _)\n            )\n        // + V_ui_div(_, _v_nav_center_ + __footer_)\n    );\n\n    // --------------------------------------------------\n    // 导航中心收起/展开引导把手\n    ui += V_ui_div(_, _v_nav_center_handle_);\n\n    // --------------------------------------------------\n    // 段落漫游遮罩\n    ui += V_ui_divExt(_v_para_nav_mask_border_, _, V_attr(_data_title_, V_lang_text(34, [\"暂停\", _Pause_])), _);\n\n    return ui;\n }\n\n /**\n * 加载文档导航/文档浏览历史 UI 资源\n */\nfunction VLOOKui_documentNavHistory() {\n    return V_ui_nav(_, _v_nav_history_, _,\n        V_ui_div(_, _v_resume_reading_,\n            V_lang_text78() + V_ui_svgIcon(_icoTocFolded_, 16, 16, _text_))\n        + V_ui_div(_, _v_view_history_ +___+ _v_transition_all_, V_ui_svgIcon(_icoNavHistory_, 20, 19, _text_))\n    );\n}\n\n/**\n * 加载共用的 UI 资源\n */\nfunction VLOOKui_common() {\n    // --------------------------------------------------\n    // 聚光灯\n    let ui = V_ui_div(_, _v_spotlight_, V_ui_div(_, _));\n\n    // --------------------------------------------------\n    // 字体风格选择器\n    let previewPath = _vlookPagesHost_CloudFlare_ + \"/pic/\";\n    ui += V_ui_aside(_, _v_font_style_, V_attr(_data_title_, V_lang_text41()),\n            V_ui_div(_, _v_font_style_restore_, \"↺ \" + V_lang_text(85, [\"重置回主题配套字体风格\", _Reset_ + \" to \" + _theme_ +___+ _font_ +___+ _style_]))\n            + V_ui_span(_v_font_style_opt_, _,\n                V_ui_img(_v_font_style_opt_local_, \"默认 Default\", previewPath + \"fs-local.png\", previewPath + \"fs-local@2x.png 2x\", _lazy_)\n                + V_ui_div(_, _v_font_info__ + _local_ +___+ _done_,\n                    V_ui_span(_, _, \"✅ \" + _Ready_)\n                )\n            )\n            + V_ui_span(_v_font_style_opt_, _,\n                V_ui_img(_v_font_style_opt_book_, \"书香里 Book\", previewPath + \"fs-book.png\", previewPath + \"fs-book@2x.png 2x\", _lazy_)\n                + V_ui_div(_, _v_font_info__ + _book_ +___+ _done_,\n                    V_ui_span(_, _, \"✅ \" + _Ready_)\n                )\n            )\n            + V_ui_span(_v_font_style_opt_, _,\n                V_ui_img(_v_font_style_opt_albb_, \"活力派 Vibrant\", previewPath + \"fs-albb.png\", previewPath + \"fs-albb@2x.png 2x\", _lazy_)\n                + V_ui_div(_, _v_font_info__ + _albb_,\n                    V_ui_span(_, _, _notLoaded_)\n                )\n            )\n            + V_ui_span(_v_font_style_opt_, _,\n                V_ui_img(_v_font_style_opt_gov_, \"公文风 Gov\", previewPath + \"fs-gov.png\", previewPath + \"fs-gov@2x.png 2x\", _lazy_)\n                + V_ui_div(_, _v_font_info__ + _gov_ +___+ _done_,\n                    V_ui_span(_, _, \"✅ \" + _Ready_)\n                )\n            )\n            + V_ui_span(_v_font_style_opt_, _,\n                V_ui_img(_v_font_style_opt_serif_, \"文艺范 Artsy\", previewPath + \"fs-serif.png\", previewPath + \"fs-serif@2x.png 2x\", _lazy_)\n                + V_ui_div(_, _v_font_info__ + _serif_,\n                    V_ui_span(_, _, _notLoaded_)\n                )\n            )\n            + V_ui_span(_v_font_style_opt_, _,\n                V_ui_img(_v_font_style_opt_sans_, \"小清新 Fresh\", previewPath + \"fs-sans.png\", previewPath + \"fs-sans@2x.png 2x\", _lazy_)\n                + V_ui_div(_, _v_font_info__ + _sans_,\n                    V_ui_span(_, _, _notLoaded_)\n                )\n            )\n            + V_ui_div(_, _v_font_style_download_, _)\n        );\n\n    // --------------------------------------------------\n    // 正文区左下角的字体加载进度\n    ui += V_ui_div(_, _v_font_style_current_ +___+ _v_float_card2_, V_lang_text41());\n\n    // --------------------------------------------------\n    // 插图导航面板\n    ui += V_ui_aside(_, _v_fig_nav_ +___+ _v_backdrop_blurs_, _,\n            V_ui_div(_, _v_fig_content_ +___+ _loading_)\n            + V_ui_div(_, _v_fig_nav_ + __title_)\n            + V_ui_div(_, _v_fig_nav_btn_ +___+ _prev_, V_ui_svgIcon(_icoPrevFig_, 12, 54, _current_color_))\n            + V_ui_div(_, _v_fig_nav_btn_ +___+ _next_, V_ui_svgIcon(_icoPrevFig_, 12, 54, _current_color_))\n            + V_ui_div(_, _v_btn_ + __close_figure_nav_, V_ui_svgIcon(_icoClose_, 16, 16, _btnFc_))\n        );\n\n    // --------------------------------------------------\n    // 脚注弹层\n    ui += V_ui_aside(_, _v_fontnote_pn_, V_attr(_data_title_, V_lang_text(84, [\"脚注\", \"Footnote\"])),\n            V_ui_div(_, _v_fontnote_pn_content_, _)\n            + V_ui_div(_, _v_fontnote_pn_ + __footer_, V_ui_a(_, _, V_lang_text22() + \" ❯❯\")\n            + V_ui_a(_vk_footer_area_, _, V_lang_text22()))\n        );\n\n    // --------------------------------------------------\n    // 复制内容的按钮\n    let classBtnAssistor = _v_btn_ +___+ _assistor_ +___;\n    ui += V_ui_div(_, _v_content_assistor_ +___+ _v_float_card_,\n            V_ui_div(_, classBtnAssistor + _copy_, V_ui_svgIcon(_icoCopy_, 18, 16, _btnFc_))\n            // + V_ui_div(_, classBtnAssistor + _open_in_figure_nav_, V_ui_svgIcon(_icoOpenInFigureNav_, 18, 16, _btnFc_))\n            + V_ui_div(_, classBtnAssistor + _table_cross_, V_ui_svgIcon(_icoTableX_, 18, 16, _btnFc_))\n            + V_ui_div(_, classBtnAssistor + _wrap_, V_ui_svgIcon(_icoWrapUnwrap_, 20, 16, _btnFc_))\n            + V_ui_div(_, classBtnAssistor + _pic_in_pic_, V_ui_svgIcon(_icoPicInPic_, 18, 16, _btnFc_))\n        );\n\n    // --------------------------------------------------\n    // 画中画容器\n    let classPinBtn = _v_pip_btn_ +___+ _zoom_out_ +___+ _v_float_card_ +___;\n    ui += V_ui_aside(_, _v_pic_in_pic_, _,\n            V_ui_div(_, classPinBtn + _zoom_, V_ui_svgIcon(_icoZoomIn_, 16, 16, _theme_))\n            + V_ui_div(_, classPinBtn + _close_, V_ui_svgIcon(_icoResetInput_, 16, 16, _theme_))\n            + V_ui_div(_, _v_content_)\n        );\n\n    // --------------------------------------------------\n    // 提示信息\n    ui += V_ui_div(_, _v_tool_tips_)\n        + V_ui_div(_, _v_info_tips_ +___+ _v_float_card_);\n\n    // --------------------------------------------------\n    // 文档更多内容遮罩栏\n    ui += V_ui_div(_, _v_more_doc_content_ + _before_ +___+ _no_more_)\n        + V_ui_div(_, _v_more_doc_content_ + _after_);\n\n    // --------------------------------------------------\n    // 表格阅读模式（十字光标）\n    let classTableCross = _v_tbl_x_.xD() +___;\n    ui += V_ui_div(_, classTableCross + _left_ + \"-up\", _nbsp_)\n        + V_ui_div(_, classTableCross + _right_ + \"-up\", _nbsp_)\n        + V_ui_div(_, classTableCross + _left_ + __down, _nbsp_)\n        + V_ui_div(_, classTableCross + _right_ + __down, _nbsp_);\n\n    // --------------------------------------------------\n    // 页面坏链检查结果及错误列表\n    ui += V_ui_aside(_, _v_link_info_list_ +___+ _v_float_card_, _,\n            V_ui_nav(_, _v_link_info_list_ + __items_, _)\n        );\n\n    // --------------------------------------------------\n    // 适配宽度\n    // 对应的样式要与 v-nav-center-handle 及 hover 保持一致\n    ui += V_ui_div(_, _v_fill_width_, V_ui_svgIcon(_icoMaskCloser_, 14, 60, _alpha_));\n\n    // --------------------------------------------------\n    // 状态栏\n    ui += V_ui_nav(_, _v_status_bar_ +___+ _v_focus_search_, _,\n            V_ui_div(_, _v_status_bar_ + __handle_, V_ui_svgIcon(_icoTocFolded_, 16, 16, _text_))\n            + V_ui_div(_, _v_doc_info_, \"- -\")\n            + V_ui_div(_, _v_prs_info_, _)\n            + V_ui_div(_, _v_new_version_, V_ui_svgIcon(_icoNewVersion_, 20, 20, _text_))\n            + V_ui_div(_, _v_link_chk_result_, V_ui_svgIcon(_icoLinkError_, 20, 18, _text_))\n            + V_ui_div(_, _v_link_map_, V_ui_svgIcon(_icoLinkMap_, 20, 20, _text_))\n            + V_ui_div(_, _v_sts_font_style_, V_ui_svgIcon(_icoFontStyle_, 18, 18, _text_))\n            + V_ui_div(_, _v_sts_gray_, V_ui_svgIcon(_icoGray_, 20, 20, _text_) + _nbsp_ + V_lang_text48())\n            + V_ui_div(_, _v_color_scheme_, V_ui_svgIcon(_icoDarkMode_, 20, 20, _text_))\n        );\n\n    // --------------------------------------------------\n    //统计数据上报中转页面\n    ui += V_ui_iframe(_, _vlook_stat_github_);\n    // 针对 debug 模式时不上报到这个渠道\n    if (!V_devMode)\n        ui += V_ui_iframe(_, _vlook_stat_cloudflare_);\n\n    // --------------------------------------------------\n    // 检查新版本\n    ui += V_ui_iframe(_vlook_chk_update_cloudflare_, _);\n    ui += V_ui_iframe(_vlook_chk_update_github_, _);\n\n    // --------------------------------------------------\n    // 文库显示区\n    ui += V_ui_aside(_, _v_doc_lib_ +___+ _v_float_card_, V_attr(_data_title_, V_lang_text7()),\n        V_ui_iframe(_, _vlook_doc_lib_, _lazy_)\n    );\n    return ui;\n}\n\n// ==================== 加载与初始化 VLOOK ==================== //\n\n// 对插图（img）、内嵌流媒体平台（iframe）等内容，启用「懒加载」特性\nfunction V_lazyLoading() {\n    // 先调整 src 属性以避免立即加载\n    $(_img_ + \",\" + gSelector_iframeVideo).e((index, element) => {\n        let _t = $(element),\n            src = _t.a(_src_),\n            srcset = _t.a(_srcset_),\n            ext = V_getExtension(src);\n        // 只处理插图、非多媒体\n        if (V_length(ext) > 1 && (_mp3_ + _m4a_ + _ogg_ + _wav_ + _mp4_ + _ogv_ + _webm_).i(ext) === -1) {\n            _t.a(_loading_, _lazy_);\n            _t.a(_data_src_, _t.a(_src_));\n            JQ_removeAttr(_t, _src_);\n            srcset !== gUndefined\n                && (\n                    _t.a(_data_srcset_, _t.a(_srcset_)),\n                    JQ_removeAttr(_t, _srcset_)\n                );\n        }\n    });\n\n    // 绑定「懒加载」处理\n    $(V_attrCSS(_loading_) + V_attrCSS(_data_src_)).e((index, element) => {\n        gResObserver.observe(element);\n    });\n}\n\n// 处理观察目标元素与视口（viewport）交集的变化情况，如果浏览到该对象时才进行加载\nlet gResObserver = new IntersectionObserver((entries, observer) => {\n    entries.forEach(entry => {\n        if (entry.isIntersecting) {\n            let _t = $(entry.target);\n            // 对 src 属性的处理\n            _t.a(_src_, _t.a(_data_src_)); // 替换为真实的 URL\n            JQ_removeAttr(_t, _data_src_); // 移除自定义属性\n            // 对 srcset 属性的处理\n            _t.a(_srcset_)\n                && (\n                    _t.a(_srcset_, _t.a(_data_srcset_)), // 替换为真实的 URL\n                    JQ_removeAttr(_t, _data_srcset_) // 移除自定义属性\n                );\n            // 停止观察\n            observer.unobserve(_t[0]);\n\n            // 针对图片标签的处理\n            V_tagName(_t) === _img_\n                && (\n                    // 图片加载结果的处理\n                    V_bindLoadChecker(_t),\n                    // 对图片剪影的处理\n                    V_lazyLoading_imageFilling(_t, _t.a(_src_), V_getUrlQueryParams(JS_encodeURI(_t.a(_src_))))\n                );\n        }\n    });\n});\n\n/**\n * 懒加载中对图片剪影的处理\n * @param fig img 对象\n * @param src img 对象的 src 值\n * @param params — img 对象 src 值的 URL 参数数组\n */\nfunction V_lazyLoading_imageFilling(fig, src, params) {\n    let fill = params[_fill_];\n    if (fill === gUndefined)// && tagName !== _kbd_ && tagName !== \"a\")\n        return;\n\n    fig.a(_data_img_fill_, fill);\n\n    // 注意：为适配浏览器安全策略！！！\n    // 由于不同浏览器的安全策略不同，所以针对不同浏览器的图片剪影处理进行微调\n    // 若 SVG 文件与当前 HTML 文件不在同一域名下，浏览顺会存跨域权限问题无法完成处理\n    // 非 Firefox / Safari 以本地打开方式下无法进行处理\n    let httpMode = WINDOW_getHref().sW(_http_),\n        canImageFill = (httpMode || env.browser.Firefox || env.browser.Safari),\n        hostname = gLocation.hostname,\n        imgHost = V_getMetaByName(_vlook__ + _image_ + \"-host\");\n\n    if (imgHost !== gUndefined && !imgHost.eW(\"/\"))\n        imgHost += \"/\";\n\n    // 针对非 SVG 图片\n    if (src.i(_suffixSvg_, 1) === -1)\n        fig.on(_load_, () => {\n            JQ_addClass(fig, _enabled_);\n        });\n    // 针对 SVG 图片，同时当前 HTML 的打开方式可进行图片「图片剪影」的适配处理\n    else if (canImageFill === gTrue) {\n        // 获得图片路径的域名\n        let src2ImageFill = src,\n            matchRes = src2ImageFill.m(/^https?:\\/\\/([^\\/?#]+)(?:[\\/?#]|$)/i),\n            srcHost = matchRes && matchRes[1],\n            container = fig.p(),\n            hash = V_getUrlHash(src);\n\n        // 对于相对路径，或与当前 HTML 域名一致\n        if (srcHost === gNull || hostname === srcHost) {\n            // 针对 Safari 且指定了默认图床域名\n            // 进行图片剪影处理前，先调整原始 <img> 的 src\n            let needImgHost = (env.browser.Safari && !httpMode && imgHost !== gUndefined);\n            if (needImgHost) {\n                src2ImageFill = imgHost + src2ImageFill;\n                fig.a(_src_, src2ImageFill);\n            }\n\n            // 进行 svg 图片剪影处理，png 图片通过 css 样式实现\n            __disposeSvgImageFilling(fig, container, params, hash, src2ImageFill);\n\n            // 恢复原始 <img> 的 src\n            needImgHost\n                && fig.a(_src_, src);\n        }\n    }\n\n    /**\n     * 对 svg 图片剪影的适配处理\n     * @param img img 对象\n     * @param container img 对象的父级元素\n     * @param params img 对象 src 值的 URL 参数数组\n     * @param hash img 对象 hash 值\n     * @param src img 对象的 src 值\n     */\n    function __disposeSvgImageFilling(img, container, params, hash, src) {\n        // 图片为 SVG 格式时，将源文件通过 SVGInject 注入到 HTML 文档中\n        if (src.i(_suffixSvg_, 1) > -1) {\n            SVGInject(img[0], {\n                // 注入成功\n                afterInject : function (img, svg) {\n                    let svgObj = $(svg);\n                    // 属于插图的，则绑定内容助手\n                    !V_isNotFigure(hash, container)\n                        && ContentAssistor_bind(svgObj, _fig_ + _suffixSvg_);\n                    // 对颜色进行替换的适配处理\n                    ExtFigure_fillSVG(svgObj.a(_data_img_fill_), svgObj);\n                },\n                // 注入失败\n                onFail : function (img, svg) {\n                    ERROR(\"SVGInject ERROR:\", $(img).a(_src_));\n                }\n            });\n        }\n    }\n}\n\n/**\n * 文档加载完成后执行主流程\n */\n$(() => { // 等价于 $(document).ready()\n\n    // 读取动画持续时长配置\n    gTransDuration = JS_parseInt(V_getVarVal(___v_trans_dur_ + \"-js\"));\n    gTransDurationLong = JS_parseInt(V_getVarVal(___v_trans_dur_ + \"-l-js\"));\n\n    // ----------------------------------------\n    // 懒加载处理\n    V_lazyLoading();\n\n    // ----------------------------------------\n    // 初始化启动参数\n    V_query_init();\n\n    // 重置所有保存在缓存的 vlook 相关数据\n    if (V_getParamVal(_reset_) === _true_) {\n        WARN(\"!!! RESET VLOOK DATA !!!\");\n        V_data_remove(_new_version_check_time_, gTrue);\n        V_data_remove(_last_position_);\n        V_data_remove(_color_scheme_, gTrue);\n        V_data_remove(_font_style_, gTrue);\n    }\n\n    // 判断文档类型\n    if (V_getParamVal(_page_ + _mode_) === _mini_)\n        V_pageMode = _mini_;\n\n    // ----------------------------------------\n    // 初始化语言\n    V_lang_init();\n\n    // ----------------------------------------\n    // 判断环境并添加对应样式标记，样式名称与 Typora 编辑时的标记保持一致\n    env.os.Windows\n        ? JQ_addClass(DOM_body(), \"os-windows\")\n        : JQ_addClass(DOM_body(), _html_ + \"-\" + _for_ + \"-mac\");\n\n    // ----------------------------------------\n    INFO(\"- Ready\");\n    gTimes = iStopwatch.ed(_4space_);\n    // 打印环境信息\n    env.info();\n\n    iStopwatch.st();\n    INFO(\"=== Load VLOOK™ ===\");\n\n    // 先隐藏文档原始内容，减少页面重绘\n    VOM_doc().hide();\n\n    // ----------------------------------------\n    // 加载生成 VLOOK 界面\n    loadVLOOKui();\n\n    // ----------------------------------------\n    // 灰色模式 Gray Mode\n    GrayMode_init();\n\n    // ----------------------------------------\n    // 动效初始化\n    // iStopwatch.st(\"* Effect\");\n    let effect = V_getParamVal(_effect_);\n    V_ui_effect = (effect === gNull) ? 2 : JS_parseInt(effect);\n    V_ui_effect = V_isMobile() ? 0 : V_ui_effect;\n    LOG(\"    └ Level [ \" + V_ui_effect + \" ]\");\n    // V_ui_initEffectLevel();\n    // iStopwatch.ed(_cost_);\n\n    // 先隐藏文档原始内容，减少页面重绘\n    VOM_doc().hide();\n\n    // ----------------------------------------\n    // 初始化欢迎页\n    iStopwatch.st(\"* Welcome Page Init\");\n    let wsMode = V_getParamVal(\"ws\");\n    wsMode = (wsMode === gNull) ? _auto_ : wsMode;\n    LOG(\"    └ mode: \" + wsMode);\n    WelcomePage_init(wsMode);\n\n    // 文档不符合 VLOOK 规范则不加载 VLOOK 插件\n    if (!V_checkSpec()) {\n        V_byClass(_v_welcome_page_).hide();\n        V_byClass(_v_toolbar_).hide();\n        V_byClass(_v_btn_).hide();\n        return;\n    }\n    iStopwatch.ed(_cost_);\n\n    // ----------------------------------------\n    // 初始化关键组件实例\n    iStopwatch.st(\"* Intance\");\n    V_init();\n    iStopwatch.ed(_cost_);\n\n    // ----------------------------------------\n    // 获取当前文档的 style 对象\n    gStyle = gDocument.styleSheets[0];\n\n    // ----------------------------------------\n    // 延后加载 VLOOK 插件，避免欢迎页的 UI 刷新阻塞\n    // 独立线程进行处理\n    V_later(loadVLOOKplugin, 100);\n});\n\n/**\n * 字体加载完成后执行的主流程\n */\ngDocument.fonts.ready.then(() => {\n    // 字体加载完成后的逻辑\n    LOG(\"!!! ALL FONT READY !!!\");\n});\n\n/**\n * 加载 VLOOK UI 资源\n */\nfunction loadVLOOKui() {\n    V_byClass(_v__ + _vlook__ + \"inside\").af(\n        VLOOKui_welcomePage()\n        + VLOOKui_cc()\n        + VLOOKui_checkHash()\n        + VLOOKui_iconSet()\n        + VLOOKui_toolbar()\n        + VLOOKui_allNav()\n        + VLOOKui_documentNavHistory()\n        + VLOOKui_common());\n}\n\n/**\n * 加载 VLOOK 插件\n */\nfunction loadVLOOKplugin() {\n    // ----------------------------------------\n    // 推荐的浏览器类型检测\n    iStopwatch.st(\"* Browser Check\");\n    !env.browser.Chrome && !env.browser.Edge && !env.browser.Firefox && !env.browser.Safari && !env.core.webkit\n        && ALERT(V_lang_text(79, [\n            \"为获得最佳兼容性，建议使用 Chrome/Firefox/Edge 浏览器\",\n            \"For best compatibility, it is recommended to use Chrome/Firefox/Edge browser\"\n        ]));\n\n    iStopwatch.ed(_4space_);\n\n    // ========================================\n    // 初始化 VLOOK 核心模块\n    V_initKernel();\n\n    // // ----------------------------------------\n    // // 动效初始化\n    iStopwatch.st(\"* Effect\");\n    // let effect = V_getParamVal(_effect_);\n    // V_ui_effect = (effect === gNull) ? 2 : JS_parseInt(effect);\n    // V_ui_effect = V_isMobile() ? 0 : V_ui_effect;\n    // LOG(\"    └ Level [ \" + V_ui_effect + \" ]\");\n    V_ui_initEffectLevel();\n    iStopwatch.ed(_cost_);\n\n    // ----------------------------------------\n    // 修改主题默认的圆角风格\n    let newRadius = V_getParamVal(_radius_);\n    if (newRadius === _small_ || newRadius === \"big\") {\n        // 批量修改圆角相关的 CSS 变量为指定的新值\n        V_changeCssVarSet([\n            _v_r_b_,\n            _v_r_s_,\n            _v_r_t_,\n            _v_r_tag_,\n            _v_r_c_\n        ], newRadius);\n    }\n    else if (newRadius === _none_) {\n        // 批量修改圆角相关的 CSS 变量为 0\n        V_changeCssVarSet([\n            _v_r_b_,\n            _v_r_s_,\n            _v_r_t_,\n            _v_r_tag_,\n            _v_r_c_\n        ]);\n    }\n\n    // ----------------------------------------\n    // 统一同组的分栏引用块的高度\n    __fork(\"Quote Unite Columns Height\", () => {\n        ExtQuote_uniteColumnsHeight();\n    }, 2000);\n\n    // ----------------------------------------\n    // 段落漫游初始化\n    __fork(V_lang_text8(), () => {\n        ParagraphNav_init();\n\n        // ----------------------------------------\n        // 连续内容转换为页签组\n        let tab = V_getParamVal(_tab_);\n        tab !== _off_\n            && (TabGroup_init(), TabGroup_updateHeight(), V_ui_initEffectLevel());\n    }, 1000);\n\n    // ----------------------------------------\n    // 完成初始化后恢复显示\n    iStopwatch.st(\"* Write Ready\");\n    JQ_addClass(VOM_doc(), _v__ + _load_ + \"-\" + _done_ +___+ _v_focus_search_ +___+ V_pageMode);\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 初始化外部链接\n    // __fork(\"External Link\", () => {\n        V_doc_link_adjustExternal();\n    // }, 100);\n\n    // ----------------------------------------\n    // 初始化全局热键\n    __fork(\"Hotkey\", () => {\n        V_ui_initHotkey();\n    }, 3000);\n\n    // ----------------------------------------\n    // 初始化须在页面 body 显示后才能执行的部分\n    // __fork(\"Restyle\", () => {\n        V_initRestyle();\n    // }, 200);\n\n    // ----------------------------------------\n    // 初始化，并安装自动适配器，实时跟随系统 Color Scheme 的变化\n    // 如没有指定仅支持 Light Mode 时才进行自动适配 Dark Mode 的处理\n    if (!gOnlyLightMode) {\n        ColorScheme_init();\n        INFO(\"* Appearance [ \" + ColorScheme_systemScheme + \" ]\");\n        ColorScheme_scheme = V_getVarVal(___v_color_scheme_);\n        // 通过调校参数指定了颜色方案\n        let colorScheme = V_getParamVal(\"cs\");\n        if (colorScheme === _light_ || colorScheme === _dark_) {\n            INFO(\"    Force [ \" + colorScheme + \" ]\");\n            ColorScheme_scheme = colorScheme;\n            StsColorScheme_updateIcons();\n            ColorScheme_refresh(gTrue);\n        }\n        // 若没有通过调校参数指定\n        else {\n            if (colorScheme === gNull)\n                colorScheme = V_data_read(_color_scheme_, gTrue);\n            // 通过同域配置指定\n            if (colorScheme !== gNull && (colorScheme === _light_ || colorScheme === _dark_)) {\n                INFO(\"    From config [ \" + colorScheme + \" ]\");\n                ColorScheme_scheme = colorScheme;\n                StsColorScheme_updateIcons();\n                ColorScheme_refresh();\n            }\n            // 针对 auto 模式，自动适配\n            else {\n                INFO(\"    Auto [ \" + ColorScheme_scheme + \" ]\");\n                StsColorScheme_updateIcons();\n                ColorScheme_refresh();\n            }\n        }\n    }\n\n    // ----------------------------------------\n    // 初始化内容助手\n    // 须隐藏文档原始内容前执行，避免部分样式失效\n    __fork(\"Content Assistor\", () => {\n        ContentAssistor_init();\n        PicInPic_init();\n\n        // 设置表格阅读模式的开关状态（不指定则默认关闭）\n        V_getParamVal(\"tr\") === _on_\n            && TableCross_toggle();\n    }, 1000);\n\n    // ----------------------------------------\n    // 针对 URL 带锚点的处理\n    __fork(\"Redirect to Hash\", () => {\n        let redirect = V_redirectTo();\n        if (!V_ui_hasCover() && !redirect) {\n            iNavCenter.toc.hIdx = 0;\n            V_ui_adjustAll();\n            ExtQuote_uniteColumnsHeight();\n        }\n    }, 2000);\n\n    // ----------------------------------------\n    // 字数统计\n    __fork(\"Words \" + _count_, () => {\n        !V_ui_isHidden(StsDocInfo_ui)\n            && DocInfo_countWord();\n\n        // 指定默认隐藏状态栏\n        V_getParamVal(_sts_) === _hide_ && DOM_body().a(_class_).i(_gray_) === -1\n            && StatusBar_hide();\n    }, 3000);\n\n    // ----------------------------------------\n    // 检查新版本\n    !V_isMobile()\n        && __fork(\"Checking \" + _for_ +___+ _update_, () => {\n            NewVersion_check();\n        }, 10000);\n\n    // ----------------------------------------\n    // 更新欢迎页\n    iStopwatch.st();\n    INFO(\"* Welcome Page Done (\" + WelcomePage_mode + \")\");\n    WelcomePage_done();\n    iStopwatch.ed(_cost_);\n\n    if (V_ui_hasCover()) {\n        VOM_backcover().bf(\"<hr>\");\n        VOM_backcover().bf(V_ui_copyrightInfo());\n    }\n    else {\n        VOM_doc().ap(\"<hr>\");\n        VOM_doc().ap(V_ui_copyrightInfo());\n    }\n\n    // ----------------------------------------\n    // 针对触摸操作的样式处理\n    // let boxes =  document.querySelectorAll('.btn');\n    // boxes.forEach(box => {\n    //     // touchstart 添加 active 样式\n    //     box.addEventListener('touchstart', () => {\n    //         box.classList.add('active');\n    //     });\n    //     // touchend 移除 active 样式\n    //     box.addEventListener('touchend', () => {\n    //         box.classList.remove('active');\n    //     });\n    //     // 防止 touchmove 过程中出现残留状态\n    //     box.addEventListener('touchcancel', () => {\n    //         box.classList.remove('active');\n    //     });\n    // });\n\n    // ----------------------------------------\n    // 显示 VLOOK 加载完成后的信息\n    gTotalTimes = iStopwatch.stop();// - 200;\n    INFO(\"=== !!! MAIN PROCESS DONE !!! ===\");\n    INFO(\"TOTAL COST   ⏱ \" + gTotalTimes + \" ms\");\n    INFO(\"    ├ HTML   ⏱ \" + gTimes + \" ms\");\n    INFO(\"    └ VLOOK™  ⏱ \" + (gTotalTimes - gTimes) + \" ms\");\n\n    // ----------------------------------------\n    V_pageMode === _max_ && gThmVer !== gVer\n        && ALERT([\n            \"⚠️ 注意 ⚠️\\n\\n本文档使用的 VLOOK™ 主题与插件版本不匹配，会影响实际使用，请将更新至匹配的版本！！！\"\n                + `\\n\\n当前主题 [ ${gThmName} ]\\n`\n                + `主题版本 [ ${gThmVer} ]\\n\\n`\n                + `插件版本 [ ${gVer} ]`,\n            \"⚠️ WARNING ⚠️\\n\\nThe VLOOK™ theme and plugin version used in this \" + _document_ + \" do not match, which may affect actual use. Please update to the matching version !!!\"\n                + `\\n\\nCurrent Theme [ ${gThmName} ]\\n`\n                + `Theme Version [ ${gThmVer} ]\\n\\n`\n                + `Plugin Version [ ${gVer} ]`\n        ][V_lang]);\n\n    // ----------------------------------------\n    // 提交统计数据\n    V_pageMode === _max_ // 非文库方式显示时才上报\n        && V_report_submit(gTotalTimes - gTimes);\n\n    // ----------------------------------------\n    // 正文宽度适配可显示宽度\n    FillWidth_init();\n    // 指定默认启用正文宽度适配可显示宽度\n    V_getParamVal(_fill_ + \"w\") === _on_\n        && FillWidth_enable();\n\n    // 更新文档更多内容遮罩栏 UI\n    MoreDocContent_updateUI(VOM_doc());\n\n    // ----------------------------------------\n    // 继续上次的阅读\n    ResumeReading_init();\n    ResumeReading_dispose(gFalse);\n\n    /**\n     * 创建独立线程执行\n     * @param msg 线程信息\n     * @param callback 线程执行的回调函数\n     * @param delay 0 - 立即时间，>0 - 延时执行（毫秒）\n     */\n    function __fork(msg, callback, delay) {\n        V_later(() => {\n            let sw = new Stopwatch();\n            sw.st(\"-->> thread [\" + msg + \"]\");\n            typeof(callback) === _function_ && callback();\n            sw.ed(_4space_);\n        }, delay);\n    }\n}\n"],"mappings":"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U,EAASR,GACTQ,EAAST,EACTS,EAAS,MACTC,EACAA,EAASX,EACTW,EAAST,GACTS,EAASV,EACTU,EAAS,MACTC,EACAA,EAASZ,EACTY,EAASV,GACTU,EAASX,EACTW,EAAS,MACTC,EACAA,EAASb,EACTa,EAASX,GACTW,EAASZ,EACTY,EAAS,MACTC,EACAA,EAAQd,EACRc,EAAQZ,GACRY,EAAQb,EACRa,EAAQ,MACRC,EACAA,EAAaf,EACbe,EAAab,GACba,EAAad,EACbc,EAAa,MACbC,EACAA,EAAShB,EACTgB,EAASd,GACTc,EAASf,EACTe,EAAS,MACTC,EACAA,EAAWjB,EACXiB,EAAWf,GACXe,EAAWhB,EACXgB,EAAW,MACXC,EACAA,EAASlB,EACTkB,EAAShB,GACTgB,EAASjB,EACTiB,EAAS,MACTC,EACAA,EAASnB,EACTmB,EAASjB,GACTiB,EAASlB,EACTkB,EAAS,MACTC,EACAA,EAASpB,EACToB,EAASlB,GACTkB,EAASnB,EACTmB,EAAS,MACTC,EACAA,EAAUrB,EACVqB,EAAUnB,GACVmB,EAAUpB,EACVoB,EAAU,MACVC,EACAA,EAAStB,EACTsB,EAASpB,GACToB,EAASrB,EACTqB,EAAS,MACTC,EACAA,EAAUvB,EACVuB,EAAUrB,GACVqB,EAAUtB,EACVsB,EAAU,MACVC,EACAA,EAAUxB,EACVwB,EAAUtB,GACVsB,EAAUvB,EACVuB,EAAU,MACVC,EACAA,EAAWzB,EACXyB,EAAWvB,GACXuB,EAAWxB,EACXwB,EAAW,MACXC,EACAA,EAAW1B,EACX0B,EAAWxB,GACXwB,EAAWzB,EACXyB,EAAW,MACXC,EAASoB,GACTpB,EAASG,EACTH,EAASG,EAAY,KACrBH,EAASG,EAAY,KACrBH,EAASqB,GACTrB,EAASr8B,GACTq8B,EAASsB,GAAe,IAAM9Y,GAC9BwX,EAASI,EACTJ,EAASI,EAAU,KACnBJ,EAAS,UACTA,EAAShiC,GACTgiC,EAASuB,GACTvB,EAASwB,GACTxB,EAASyB,GACTzB,EAAS,WACTA,EAAS,WACTA,EAASrvB,GACTqvB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","ignoreList":[]}