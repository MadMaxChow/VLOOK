{"version":3,"names":["LOG","console","log","apply","arguments","INFO","info","WARN","warn","ERROR","error","DEBUG","V_debugMode","ALERT","m","alert","WINDOW_getHref","window","location","href","WINDOW_setHref","value","WINDOW_getHash","hash","JQ_addClass","target","className","gUndefined","addClass","JQ_removeClass","removeClass","JQ_removeAttr","attrName","removeAttr","JQ_exchangeClass","oldClassName","newClassName","JQ_remove","remove","JS_parseInt","parseInt","JS_parseFloat","parseFloat","JS_mathRound","Math","round","JS_mathCeil","ceil","JS_decodeURIComponent","uri","result","v_util_isValidURIComponent","gFalse","JS_decodeURI","_","decodeURI","DOM_html","DOM_h","$","_html_","length","_failed_","DOM_body","DOM_b","VOM_doc","VOM_d","_write_","VOM_cover","VOM_c","_firstChild_","_h6_","VOM_docTitle","VOM_backcover","VOM_bc","fns","V_byClass","_footnotesArea_","backcover","pr","tagName","V_util_getTagName","VOM_dt","V_byID","_vkIdDocTitle_","V_params_init","V_params_url","V_util_getUrlQueryParams","vp","V_util_getMetaByName","_vlook__","V_params_yaml","idName","decodeURIComponent","e","V_util_getDocTitle","document","a","_title_","metaName","content","_mata_","V_attrCSS","_name_","_content_","V_util_getParamVal","pName","v","u","h","i","si","ss","qs","p","is","sp","item","l","V_util_getUrlHash","V_util_getUrlQueryString","V_util_getUrlWithoutHash","V_util_getUrlWithoutQueryAndHash","queryIdx","hashIdx","V_util_getPath","qi","ti","lastIndexOf","pi","V_util_clearHtmlQuot","text","r","V_util_truncateText","limit","__calcCharsLen","init","step","count","charCodeAt","len","frontChars","backChars","V_util_redirectTo","setTimeout","V_ui_tuningScrollTop","gTrue","V_util_gotoHash","last","V_util_getVarVal","varName","getComputedStyle","documentElement","getPropertyValue","V_util_setVarVal","style","setProperty","V_util_getTemplateThemeName","rA","x","V_util_getTemplateThemeVersion","V_util_changeCssVarSet","varSet","flag","tmp","push","prop","_tagName_","V_util_wrapBackquote","__hasBackquote","bq1","bq2","V_formatting_thousands","str","V_formatting_decimal","V_ui_span","_vTblColFmtNumDecimal_","V_formatting_percent","_vTblColFmtPercent_","V_formatting_currency","gRE_CurrencyNoEscape","gRE_CurrencyNoEscape2","_vTblColFmtCurrency_","V_checkSpec","c","V_lang_id","_class_","gToc","_mdToc_","V_init","sw","Stopwatch","st","iFontTheme","FontTheme","BgMask","_fontTheme_","_center_","ed","iSpotlight","Spotlight","BottomTips","_spotlight_","iLaserPointer","LaserPointer","cf","ContentFolder_enabled","_off_","_on_","ContentFolder_enabled_table","_table_","ContentFolder_enabled_figure","_figure_","ContentFolder_enabled_codeblock","_codeblock_","ContentFolder_init","ToolTips_init","iInfoTips","InfoTips","_infoTips_","runMode","iNavCenter","NavCenter","_navCenter_","_left_","iChapterNav","ChapterNav","chpNav","iToolbar","Toolbar","add","keyword","input","val","_vdl_","clear","V_ui_isSmallScreen","tg","_docLib_","docLib","counter","showed","segs","setChecked","_catalog_","focus","select","show","addSpliter","_toolbarSpliter_","_paragraphNav_","inform","V_ui_strong","hide","iParagraphNav","_laserPointer_","_print_","V_print_ready","toolbar","bindButton","btns","iFigNav","FigureNav","MoreDocContent_init","iFootNote","FootNote","_bottom_","StsDocInfo_init","StsFontTheme_init","StsColorScheme_init","StsLinkMap_init","StsLinkTool_init","_linkChecker_","_right_","StatusBar_init","StatusBar_add","StsDocInfo_ui","StsFontTheme_ui","_color_","__scheme_","StsColorScheme_ui","_link_","StsLinkMap_ui","StsLinkTool_resultUI","V_initKernel","iStopwatch","icoLg","_vDocLog_","_light_","_backgroundImage_","icoDk","_dark_","linkIcon","ap","_docIcon_","V_attr","_href_","___","_type_","_imageXicon_","_4space_","pp","V_ui_div","_vDoc_","V_pageMode","V_ui_initI18n","CaptionGenerator_autoContent","ExtAudio_init","ExtVideo_init","ExtQuote_init","ExtQuote_adjustHoverStyle","ExtFigure_init","_cost_","ExtTable_init","TableCross_init","RowGroup_adjustHoverStyle","ExtCodeBlock_init","ColorCode_init","CodeMagic_init","SupSubMagic_preprocess","Progressbar_init","LinkTool_mdToHtml","LinkTool_checkLink","BreadcrumbStyle_init","V_ui_adjustHoverStyle","ContentFolder_adjust","env","device","mobile","showHandle","adjust","StatusBar_adjust","catalog","adjustHoverStyle","ChpAutoNum_initToc","hasCatalog","hasIndexItem","hasFigure","figure","hasTable","table","hasCodeblock","codeblock","hasMedia","media","_media_","addEventListener","event","repaint","snap","uC","ck","TableCross_hide","on","_scroll_","currentTime","Date","getTime","scrollTop","timeInterval","docHeight","V_doc_scroll_lastUpdate","MoreDocContent_refresh","abs","V_doc_scroll_lastTop","V_doc_scroll_update","V_ui_adjustAll","focusHeader","ExtQuote_uniteColumnsHeight","onbeforeprint","_mini_","V_print_mode","_VLOOK_","onafterprint","V_print_done","anchor","sW","history","gLastHash","browser","Firefox","V_ui_adjustAllDelay","V_initRestyle","Restyler_forTaskList","Restyler_forMermaid","V_ui_show","t","_visibility_","_visible_","_opacity_","V_ui_hide","_hidden_","V_ui_wrap_kbd","src","V_ui_getCtrlKeyUI","unwrap","short","key","os","macOS","V_ui_getShiftKeyUI","V_ui_getAltKeyUI","V_ui_getMetaKeyUI","V_ui_copyrightInfo","_vCopyright_","V_ui_svgIcon","_icoVLOOK_","_vCopyrightSvgIco_","_2nbsp_","V_ui_a","_httpsPrefix_","__blank_","V_ver","encodeURI","print","oW","gSmallScreenWidth","ui","_top_","_height_","y","aObj","tag","_refFootnote_","V_not","attrValue","op","icon","w","color","classValue","extAttr","V_ui_svgIcon2","V_ui_symbol","idValue","V_ui_htmlTag","V_ui_img","alt","srcset","_alt_","_src_","_srcset_","_img_","V_ui_iframe","name","_iframe_","V_ui_input","id","type","_id_","_value_","_input_","V_ui_figure","V_ui_figcaption","V_ui_nav","V_ui_aside","V_ui_article","V_ui_header","V_ui_section","V_ui_divExt","V_ui_var","_strong_","_span_","V_ui_sub","_sub_","V_ui_label","_label_","_target_","V_ui_audio","_audio_","V_ui_video","_video_","V_ui_holdKey_Alt","v_ui_mouseDropIn","mx","pageX","clientX","body","scrollLeft","my","pageY","clientY","padding","_paddingTop_","borderBottomWidth","_borderBottomWidth_","oL","oT","V_ui_campColor","gradientColors","V_ui_splitColors","colorStr","gColor","charAt","slice","filter","V_ui_hexToRGB","hex","rgb","V_ui_formatRGBA","opacity","V_ui_genGradColorCSS","fade","suffix","css","_dataTips_","_documentLibrary_","prev","next","dt","current","close","f","_vFontPackage_","_font_","_vFontThemeInfo_","hm","buttonSeeAll","ch","_footnotes_","V_ui_moveToCenter","_auto_","V_ui_moveToTarget","source","_paddingLeft_","_paddingRight_","_borderWidth_","V_ui_processingAdjust","_vBtn__BtnGroup_","uH","_vSegmentBtn_","_vAccentBtn_","_docLibToc_","_vDocLibItem_","_vStdCode_","_vTag_","_vBadgeName_","_vBadgeValue_","V_ui_bindHover","cancleParent","_mouseEnter_","_t","currentTarget","_hover_","_mouseLeave_","tr","V_ui_unbindHover","unbind","V_ui_initEffectLevel","V_ui_effect","_none_","_vBackdropBlurs_","_enabled_","V_ui_addAnimate","V_ui_initEffectLevel2","_vTransitionAll_","attrSet","_vTransition__","V_ui_removeAnimate","V_ui_initHotkey","_keydown_","__showHideNavCenter","isShowed","_click_","combKeys","ctrlKey","shiftKey","altKey","metaKey","code","ContentAssistor_toggleCopyMode","disposeHotkey","WelcomePage_disposeHotkey","LinkTool_disposeHotkey","V_doc_block","activeElement","handled","preventDefault","navigator","clipboard","readText","then","catch","enabled","isHidden","LinkTool_isShowed","LinkTool_hide","_escape_","TableCross_ui","TableCross_disable","ContentAssistor_copyAsMarkdown","GrayMode_init","__padZero","grayModeSwitcher","date","today","getMonth","getDate","grayMode","grayModeDaySet","test","addSet","itemSet","j","indexOf","_filter_","V_lang_init","language","base","V_doc_scroll_freeze","_unfreeze_","_freeze_","V_doc_scroll_unfreeze","V_doc_link_adjustExternal","index","element","ColorScheme","scheme","schemeBeforePrint","refresh","_vCaption_Mermaid_","_beforePrintWidth_","_width_","_100pc_","_svg_","_style_","_maxWidth_","_beforePrintMaxWidth_","_details_","_open_","_summary_","_dataContentFolded_","_true_","_mouseUp_","_vTblRowGBtn_","RowGroup_open","PicInPic_hide","coatings","_vCoating_","confirm","_dataCoatingShowed_","Coating_show","V_report_submit","loadTimeCost","sd","vlookStatViaGithub","_vlookStatGithub_","vlookStatViaCloudFlare","_vlookStatCloudFlare_","RandomColor_generate","floor","random","RandomColor_dissimilarRgb","RandomColor_palette","d","idx","sqrt","T","this","sT","lT","reset","pre","slient","msg","stop","WelcomePage_init","mode","WelcomePage_ui","WelcomePage_uiName","WelcomePage_button","_vLoading_","WelcomePage_tips","_vTips_","WelcomePage_finished","WelcomePage_mode","WelcomePage_close","WelcomePage_done","_cursor_","WelcomePage_stopAni","_animation_","WelcomePage_updateCloseButton","_vBtn_","delay","WelcomePage_autoClose","_wait_","__timeToClose","delaySecs","clearTimeout","closeTimer","sec","_enter_","ContentAssistor_init","__actionCopy","ContentAssistor_lastHover","ContentAssistor_lastContentType","ExtCodeBlock_copyContent","_fig_","_suffixImg_","ExtFigure_copySrc","ExtTable_copyContent","ContentAssistor_ui","_vContentAssistor_","ContentAssistor_btns_copyContent","_vBtn_Assistor_","_copy_","ContentAssistor_btns_openInFigureNav","_openInFigureNav_","ContentAssistor_btns_tableCross","_tableCross_","ContentAssistor_btns_tableWrap","_tableWrap_","ContentAssistor_btns_picInPic","_picInPic_","ContentAssistor_hide","TableCross_toggle","TableWrap_toggle","PicInPic_show","ToolTips_bind","_varCurCopy_","_icoCopyAsMd_","_normal_","_icoCopy_","ContentAssistor_bind","contentType","asMarkdown","ContentAssistor_show","_first__enable__last_","eW","_enabled__first_","_enabled__last_","_dataTblX_","_selected_","_whiteSpace_","_preWrap_","caption","container","offset","_vCaption_","_vCaptionContainer_","capWidth","conWidth","_borderLeftWidth_","_borderTopWidth_","PicInPic_init","PicInPic_ui_body","_vPicInPic_","PicInPic_ui_content","_vContent_","PicInPic_ui_zoom","_vPipBtn_","_zoom_","PicInPic_ui_close","_close_","pipBtn","PicInPic_ratio","_zoomIn_","_zoomOut_","_icoZoomIn_","_theme_","_icoZoomOut_","PicInPic_zoom","_min_","__cloneForPicInPic","openAll","RowGroup_openAll","ContentFolder_expand","newClone","clone","_margin_","_border_","img","svg","_dataFigNum_","_vMermaidRestyler_","RowGroup_reset","RowGroup_closeAll","PicInPic_calcSize","empty","pic","PicInPic_fitContentSize","baseW","baseH","PicInPic_size_width","PicInPic_size_height","__getImgSize","width","height","sourcePadding","uiPadding","Image","complete","onload","wWithPadding","_transformOrigin_","hWithPadding","_transform_","radius","tips","_vSpotlight_","zoom","normal","bigger","lastPos","toggleZoom","_vSpotlightInDark_","pointerScope","_vCursorLaser_","key1","key2","isEnabled","_background_","enable","SegmentControl","control","group","__indicator","segCnt","_vSegment_","indicator","checked","status","__updateIcon","entry","_dataIcon_","__checked_","typeName","_dataResult_","change","update","checkedItem","_checked_","sts","space","spacePercent","_first_","pos","left","_marginLeft_","mask","_vNavCenter_","handle","_vTocHandle_","__keywordBody","_vSearchByKeyword_","TextField","lastDisplayType","_float_","snapTimer","TocIndex_segments","TocCatalog","_icoTocTabCatalog_","TocFigure","_icoTocTabFigure_","TocTable","_icoTocTabTable_","TocCodeblock","_icoTocTabCodeblock_","TocMedia","_icoTocTabMedia_","TocHistory","_icoTocTabHistory_","bindPartner","onChapterChanged","setIcon","_icoRetrieval_","_alpha_","cmdKey","placeholder","_search_","onInput","resultNav","hideFilterResult","scrollToCurrent","updateStatus","TocIndex_noneKeyword","TocIndex_filter","onFocus","search","_actived_","_vFocusSearch_","onBlur","pressEnter","onInteractive","adjustClickHash","gotoCover","currentItem","_vTocItemCurrent_","currentHeaderIndex","ToolTips_hide","callback","inHeader","_block_","_function_","afterToggle","_max_","_vNavCenterFloat_","_vFloatCard_","_vNavCenterBlock_","_writeMarginLeft_","_varNavCenterHiddenLeft_","setWidth","_varNavCenterWidth_","inputing","__prevName","_vChapterNav_","__prev","__currentName","__current_","__nextName","__next_","__docTitleName","__docTitle_","__text_","adjustEffectLevel","_effect_","_dataAnchor_","_cover_","gotoHeader","_disabled_","curIdx","_display_","_inStart_","inFirstHeader","inDocTitle","headerNum","_dataHeaderNum_","_arrowLeft_","_arrowRight_","ParagraphNav","cur","_dataId_","MoreDocContent_hideAfter","key3","goto","_dataPgIdx_","ThreeClicker_tick","prevPg","blurFocus","nextPg","o","_vPgCurrentItem_","ExtQuote_autoUnfold","ThreeClicker_active","ThreeClicker_activeTime","getSelection","removeAllRanges","_vToolbar_","clickEvent","btnGroup","_dataBtnGroup_","_vBtnGroup_","ToolTips_show","offsetY","btnCount","btnWidth","FontThemeOption","fonts","fontCount","theme","_vFontTheme_","localTheme","_vFontThemeOpt_","_local_","bookTheme","_book_","sansTheme","_sans_","_VLOOK_Number_","_normal_normal_","_normal_bold_","_normal_italic_","_VLOOK_Digital_Sans_","_normal_500_","_normal_900_","_VLOOK_Sans_Mono_","_VLOOK_Sans_","serifTheme","_serif_","_VLOOK_Digital_Serif_","_italic_bold_","_VLOOK_Serif_Mono_","_VLOOK_Serif_","initWebFont","_vFontInfo_","_fontsetStatus_","_ready_","__loadNumberFont","fontName","srcName","loadFont","_bold_","_Bold","_italic_","_Italic","__LoadDigitalSansFont","_NotoSansMono_","_Regular","unicodeRange","fontWeight500","_Medium","fontWeight900","_Black","__LoadDigitalSerifFont","_LuxiMono_","luxiMonoSubName","__loadSansMonoFont","__loadSerifMonoFont","__loadSansCjkFont","__loadSerifCjkFont","timeOutMsg","button","fontFamily","fontStyle","fontWeight","srcFontName","srcFontSubName","isExist","woffURL","webfontHostAlt","_woff2_","fontFace","FontFace","weight","display","load","loadedFontFace","fontID","readyMsg","loadingMsg","splice","sansLoadedCount","sansStatus","serifLoadedCount","serifStatus","values","isHave","done","family","varFFm","varFw","varList","__title_","_code_","fontVarList","_vFontnotePn_","__footer_","_vkFooterArea_","_vStatusBar_","StatusBar_items","StatusBar_options","_vDocInfo_","DocInfo_countWord","latin","cjk","gRE_cjk","latinCount","cjkCount","wordCount","readCountPerMin","mins","times","toFixed","_dataDefault_","toString","_dataExtend_","_vStsFontTheme_","_vColorScheme_","StsColorScheme_updateIcons","_icoDarkMode_","_icoLightMode_","_vLinkMap_","LinkTool_panelList","LinkTool_show","_map_","_vLinkChkResult_","_vLinkInfoList_","LinkTool_panelHeader","__header_","LinkTool_panelItems","__items_","LinkTool_enabled","chpDup","LinkTool_chpDup","_icoLinkError_","LinkTool_mask","xmd","newExt","LinkTool_addToCheckResult","targetToJump","_warning_","LinkTool_warningCount","__anchor_","_error_","LinkTool_errorCount","_vTocItem_","_tabindex_","__genLinkMap","page","LinkTool_map","urlParams","URLSearchParams","hashIndex","append","hashSet","__addLinkMapItem","__disposeNonConformHash","hashCount","overLimit","checkHash","_vMapItem_","__addDuplicateChapter","__addErrorLink","_mdToc__","_inner_","_mjx__","hashNoMark","_docLibIdentifier_","newHash","headerTextSet","_h1_6_","tocItems","mapItems","curType","_dataContentType_","af","_vMask_","closer","_vMaskClose_","_icoMaskCloser_","partner","partnerUI","_zIndex_","_padding_","ContentFolder_limit","ContentFolder_add","ps","_blockquote_","ContentFolder_contents","ContentFolder_buildTimers","shift","ContentFolder_rebuild","rules","gStyle","cssRules","ruleText","selectorText","_expander_","deleteRule","get","currentSrc","ContentFolder_checkAndProcess","rebuild","isImg","expanded","_dataContentExpanded_","folded","_dataBeforePrintFolded_","_dataContainer_","_false_","_paddingBottom_","ContentFolder_buildContentExpander","_overflowX_","_overflowY_","ContentFolder_rowNumFilter","_vTblRowNumHidden_","tW","newClass","insertRule","_overflow_","ToolTips_ui","_vToolTips_","align","follow","ToolTips_aniTimer","ToolTips_continueTimer","ToolTips_lastStyle","tipsW","iW","tipsH","iH","ww","wh","top","waitTime","ToolTips_continueShow","ToolTips_delay","_vInfoTips_","aniTimer","message","bubble","_bubble_","_borderRadius_","_varVRB_","sourceName","_vBottomTips","_tips_","MoreDocContent_ui_before","_vMoreDocContent_","_before_","MoreDocContent_ui_after","_after_","CaptionGenerator_actionForTextContent","__genFromLang","lang","_lang_","captionPrefix","V_doc_counter_table","indexObj","dataForSearch","V_doc_counter_codeblock","fcSet","CaptionGenerator_getCaptions","fc","fc2","CaptionGenerator_spliter","_vCodeMirrorLine_","_vkIdCodeblock_","wrap","_vkIdTbl_","bf","_vCap1_","xD","has2Captions","_vCap2_","_dataCaptionCount_","_dataTitle_","CaptionGenerator_actionForMediaContent","V_doc_counter_figure","V_doc_counter_audio","V_doc_counter_video","_vkIdFig_","_dataFigType_","_div_","_text_","_vkIdAudio_","_vkIdVideo_","_viewBox_","__getCaptionSet","_mark_","captionTagName","hideCaptionSrc","capResult","CaptionGenerator_parseSyntax","_position_","_absolute_","reg2","reg1","html","_onlyChild_","BreadcrumbStyle_count","mark","_vBreadcrumbStyle_","bread","slashOrg","slashTmp","_dataClipboardText_","BreadcrumbStyle_syntax","Copyer_action","stopPropagation","_vFences_","_pre_","lines","lineNum","lineCount","badChars","goodChars","encodeText","supportMarkdown","successCallback","errorCallback","ts","Copyer_processing","Copyer_lastActionTime","targetName","ClipboardJS","note","clearSelection","destroy","Copyer_copyModeTimer","__genNumContent","lv","diff","ChpAutoNum_lastLevel","absDiff","ChpAutoNum_push","ChpAutoNum_pop","ChpAutoNum_counter","ChpAutoNum_toString","metaTpl","gTocContent","isEmpty","ChpAutoNum_resetTpl","ChpAutoNum_resetCounter","_mdTocItem_","ChpAutoNum_parseTocHeaderLevel","_lastChild_","prefix","ChpAutoNum_tpl_prefix","__parseTplItem","ChpAutoNum_tplSet","ChpAutoNum_tpl_syntax","ChpAutoNum_tpl_leftPad","ChpAutoNum_tpl_format","ChpAutoNum_tpl_formatOpt","CHPAUTONUM_TPL_FORMAT_OPT_MIN","CHPAUTONUM_TPL_FORMAT_OPT_SUP","CHPAUTONUM_TPL_FORMAT_OPT_NONE","ChpAutoNum_tpl_suffix","ChpAutoNum_tpl","tplSet","isNaN","__formatNum","opt","ns","upperCase","format","ChpAutoNum_leftPadForDecimal","ChpAutoNum_decimalToZh","ChpAutoNum_decimalToAlpha","ChpAutoNum_decimalToRoman","superLv","numStr","pad","gap","padStr","num","__numToZh","strArr","reverse","newNum","ChpAutoNum_zhNum","ChpAutoNum_zhUnit","__toZhUpperCase","overWan","noWan","numeral","String","fromCharCode","ChpAutoNum_romanNum","ChpAutoNum_romanNumArea","__disposeDetailsFolder","quote","V_doc_counter_details","details","summary","_icoDetailsOpen_","_vSvgDetails_","_dataQuoteGroup_","open","_vRotate45_","dcQuote","_quote_","ExtQuote_quoteToColoring","Quote_defalutColor","matchedQuoteFold","_dataFolding_","parentTag","validColorCode","Color_syntax","ExtQuote_isValidColorMark","Color_syntaxOld","ExtQuote_initColumns","ExtList_initColumns","pText","__hideHr","__groupingColumns","ExtQuote_columnsGroupCount","colCount","hr","prevUntil","nextUntil","ExtQuote_processingUCH","ExtQuote_uniteColumnsHeightForGroup","groupId","maxHeight","__openDetails","parent","__initCell","__splitByBr","parser","doc","textNodes","DOMParser","parseFromString","querySelectorAll","node","line","textContent","trim","colIndex","_thead_","needCheckCellMerge","needCheckColumnFormatting","needCheckThRpt","th","_dataCellMerge_","CellMerge_syntax_row","CellMerge_syntax_col","ColumnFormatting_init","ThRepeater_syntax_tag","_dataThRpt_","rHTML","_dataTblCol_","TableCross_bind","_tbody_","needCheckRowGroup","td","wrapLimit","wrapLimit2","_vLong_","_dataRowGroup_","RowGroup_syntax_tag","_vTblColFmtMark_","scroll","CellMerge_dispose","cell","_dataColumnFmting_","ColumnFormatting_format","RowGroup_init","_dataFolder_","_dataIdentLevel_","ThRepeater_init","__createTheadSpliter","alignSet","lastAlign","spliter","__maybeAsMarkdown","mdStr","plainStr","__transCellContent","cellHTML","cellBg","cellWholeText","__transCellContent_badge","gRE_badge","__transCellContent_code","__transCellContent_tag","gRE_badge2","gRE_tag","gRE_code","__transCellContent_rainbowText","gRE_boldRainbowText","gRE_italicRainbowText","gRE_highlightRainbowText","gRE_underlineRainbowText","brTmp","regExp","_dataAsMarkdown_","exp","__printXspanArr","debugMode","rowCount","sss","xspanMatrix","trSet","theadCount","columnFmting","theadRepeater","rowGroup","rowIndex","__disposeRowspan","htmlText","rowspan","cellSet","re_LabelTag","RegExp","colspan","colFmtChkbox","colFmtMark","_dataRbCellBg_","_dataRbWholeText_","_vTblColFmt_Chkbox_","yes","_dataChk_","_yes_","un","_un_","_textAlign_","_vTblRowGSub_","identerCount","_vTblRowGIdenter_","_rowspan_","_colspan_","colSpanCount","colSpanCell","lastCell","tblData","tblSpan","tblTd2ThData","needRowSpan","CellMerge_emptyBlankCell","_vTable_","rowSpanCount","rowSpanCell","thSpanFlag","_verticalAlign_","_middle_","foundTd","tblCol","_dataColspan_","_dataTd2th_","rW","_outerHTML_","_vTblX_","TableCross_enable","TableCross_lastTable","TableCross_lastCell","contentFolded","_vTblXCell_","tblWidth","tblHeight","cellWidth","cellHeight","cornerLeftX","cornerUpY","cornerLeftWidth","cornerUpHeight","cornerRightX","cornerDownY","cornerRightWidth","cornerDownHeight","leftUp","rightUp","leftDown","rightDown","sameTable","TableWrap_disable","TableWrap_enable","_dataLong_","_vTableUnwrap_","_vTableWrap_","_del_","ColumnFormatting_syntax_checkbox_header","ColumnFormatting_getCells","cells","ColumnFormatting_getTbodyCells","tbodyCells","cellsCSS","_vTblColFmt_Bold_","_vTblColFmt_Em_","thHTML","ColumnFormatting_removeCheckboxSyntax","ce","ceText","typeFlag","ColumnFormatting_syntax_checkbox","chkStatus","_no_","chkStyle","_nbsp_","_icoChkbox__","_vTblColFmtNum_","isNumber","ColumnFormatting_coloringNumber","isPercent","coloring","percent","percentValue","percentBg","bg1","bg2","bgSplit","baseBg","_linearGradient_","_minWidth_","isCurrency","_vTblColFmtNumNegative_","_vTblColFmtNumPositive_","syntaxText","_vTblRowGNotFolder_","lastLevel","currentLevel","RowGroup_parentStack","RowGroup_colorStack","RowGroup_spliter","beforeChanged","RowGroup_newFolder","_varTblRowAlpha_","RowGroup_ident","pop","RowGroup_lastParent","RowGroup_lastColor","level","__echoOuterHTML","objectSet","outerHTML","folderRow","RowGroup_folderCount","_dataFolderId_","_dataRowFolded_","tdHadIdent","_last_","RowGroup_icoCloser","_vTblRowGFolder_","_vTblRowGIdenterFolder_","preClass","preObjs","cloneTd","RowGroup_toggle","RowGroup_close","_dataRowOpenMode_","_dataParentFolderId_","RowGroup_syntax_tag2Replace","_backgroundColor_","identer","identObj","__column_","subRows","folderButton","_vRotate90_","thRow","_group_","tdHTML","colID","prevThRow","_vThRepeater_","folder","hasRowGroup","pageSize","skipRowCount","lastSkipRowCount","tbody","rowSpan","n","__transToAudio","audioLike","autoplay","_autoplay_","loop","_loop_","preload","_preload_","audio","__play","self","controls","paused","play","ExtAudio_icon_play","_playing_","pause","_dataPause_","writeImg","_mp3_","_m4a_","_ogg_","_wav_","__addToLinkChecker","title","params","_controls_","V_doc_counter_audiomini","_vkIdMiniAudio_","__control_","_vAudioMiniControl_","bind","_loading_","ExtAudio_icon_loading","dur","dur2","_dataDuration_","duration","min","minStr","ExtAudio_icon_pause","ExtAudio_icon_stop","_emptied_","ExtAudio_icon_forbidden","_marginBottom_","__transToVideo","videoLike","video","_ogv_","_mp4_","_webm_","action","lastValue","timerValueChanged","onKeyDown","onAction","pressESC","__appendTo","__processInput","actionHover","_vTextField_","__icon_","__action_","__reset_","_icoResetInput_","_start_","__checkComValueChanged","_vTextFieldFocus_","blur","setAction","enter","_hoverAction_","_placeholder_","FilterResultNavigator","nextItem","set","eq","holder","hidden","_vTocCatalogBody_","_vTocFilterResult_","foldItems","lastHeaderFolder","lastHeaderLevel","lastDocScrollTop","_dataCatalogEmpty_","_vTocFolder_","_vkHeader_","_dataRef_","_dataNode_","_dataFolded_","insertBefore","_icoTocFolded_","folderParent","disposeFold","_dataPid_","__expandUpFolder","headerHeight","_vlookToc_","preDis","sTop","sBottom","showFilterResult","matched","_tocItem_","data","cloneItem","_dataKeywordMatch_","_dataKeywords_","_vTocFilterResultNone_","TocIndex_updateStatus","traversal","lastItem","nextAll","btnFolder","hd1","hd2","TocIndex_initUI","TocIndex_showTips","items","TocIndex_add","forSearch","TocIndex_hasIndexItem","TocIndex_show","TocIndex_hide","_vTocHistory_","__result_","hashObj","_dataHistory_","existsItem","tocItem","noneHistory","DocLib","_vDocLib_","iframe","paths","__addDocLibItem","includes","hasTarget","docLibToc","_icoDocLibExt_","_icoDocLib_","_dataPage_","_dataHash_","URL","origin","delete","docLibValue","_vlookDocLib_","docLibList","re_TargetVDL","docLibTocItems","sort","b","bObj","targetA","targetB","textA","textB","detach","appendTo","reload","cs","newPage","path","__disposeCaption","fig","_vFig_","__bindLoadChecker","cp1","__loadDefaultOnError","__isNotFigure","iconMode","logoMode","frameMode","__isPostcard","_card_","__initAlign","_align_","__initBackground","grid","_dataFigGrid_","__initFillAlter","_fill_","_dataImgFill_","_suffixSvg_","SVGInject","afterInject","svgObj","ExtFigure_adjustFillAlterForSVG","onFail","__initColorScheme","_darksrc_","_invert_","_dataDarkSrc_","_alter_","queryString","darksrc","_dataSrcLight_","_dataSrcDark_","_dataSrcsetLight_","_darksrcset_","_dataSrcsetDark_","__initHighDPI","darksrcset","__transUrlSrcSet","__initPostcard","blockquote","parentsUntil","inBlockquote","_cssText_","_important_","_boxShadow_","altText","altTextForSearch","titleText","cardBody","dual","_vCard_","__setCardSize","card","_brightness_","V_doc_counter_postcard","imgH","bd","pureSrc","fileName","rAfter","_mdDiagramPanel_","httpMode","_http_","canFillAlter","Safari","hostname","imgHost","_image_","src2FillAlter","isPostcard","V_doc_counter_img","matchRes","srcHost","needImgHost","prevFig","undefined","DPR","ExtFigure_adjustColorScheme","disposeGrid","darkMode","_vImgInvertDark_","_dataSrc_","_dataSrcset_","fill","_lineDark","_blockDark","_figSolid__","_figGrid__","gridType","darkInvert","_line_","svgSets","_vFigNav_","_vFigNavBtns_","_vFigContent_","figNum","nextFig","_mouseDown_","updateUI","newFig","_maxHeight_","pageNum","_checkbox_","indeterminate","zenSelector","_ariaRoledescription_","zenuml","idPrefix","svgIconCount","svgIcon","attr","seqSelector","viewBox","paddingBottom","actor","tmpText","front","keySys","extSys","_rx_","_ry_","_vActor_","_vActorKeySys_","_vActorExtSys_","_textLength_","fragment","g","segType","bgColor","_varMmOrange_","borderColor","titleColor","_varAcOrangeLg_","_varMmRed_","_varAcRedLg_","_varMmCyan_","_varAcCyanLg_","_stroke_","fragmentTitle","label","rect","getBBox","nextText","_V_R_B_","TextPhonetic_syntaxOld","TextPhonetic_buildForSup","colorSet","QuoteColoring_build","RainbowTextAndCell_build","_mdAlert_","mdAlertText","_icoAlertNote_","__tip_","_icoAlertTip_","_icoAlertImportant_","_icoAlertWarning_","_icoAlertCaution_","symbol","symbolCount","targetPrev","prevText","wordText","rubyHTML","raw","TextPhonetic_translation","translator","url","colorCode","Quote_getColor","em","ColorCode_isEm","__disposeText","obj","solid","ColorTooLight","span","wholeRendering","_dataRbText_","__disposeUnderline","_borderColor_","_borderImage_","__disposeMark","__fade_","_textShadow_","__disposeCell","Badge_getColor","tableCellBgMode","renderTarget","dcTag","dcBadge","dcCoating","Tag_defalutColor","Badge_defalutColor","Coating_defalutColor","ColorCode_parseOld","newColors","ColorCode_parse","ColorCode_genAsMarkdown","defaultColor","stdCount","codeText","Badge_syntax","Badge_build","Tag_syntaxOld","Tag_build","Coating_syntax","Coating_build","TextPhonetic_syntaxForCode","TextPhonetic_buildForCode","ContentAssistor_lastTarget","tip","value2","bName","bValue","bValue2","Tag_syntax","__asMarkdown","Tag_getColor","Tag_count","badgeName","badgeValue","badgeValue2","varStr","Badge_count","badge","Badge_syntax_variable","_hastwo_","nodeCnt","plainContent","contents","Progressbar_build","taskList","doneCount","calcValue","Progressbar_count","outlineWidth","_outlineWidth_","rbTextSet","rbText","autoColor","colorAlt","outlineStyle","Progressbar_getColor","overValue","overWidth","_marginRight_","_outlineStyle_","Progressbar_defalutColor","__genCoatingBg","charCount","start","end","_varDFC_","hiddenText","Coating_getColor","coatingCount","_dataCoatingTip_","_dataCoatingHidden_","Coating_toggle","__getSelectedText","selection","createRange","Coating_hide","_opened_","VLOOKui_loadWelcomePage","author","defalutContent","metaContent","_br_","VLOOKui_loadIconSet","tagPathD","fillNone","tagRectX","tagRectTransformRotate","widthHeightRx","_icoNavCenter_","_icoPrevFig_","_icoPrevChapter_","_icoFolded_","_icoClose_","_icoLinkMap_","_icoSpotlight_","_icoLaserPointer_","_icoParagraphNav_","_icoFontTheme_","_icoPrint_","_icoOpenInFigureNav_","_icoTableX_","_icoTableWrap_","_icoPicInPic_","_icoLoading_","_icoPlay_","_icoPause_","_icoStop_","_icoForbidden_","VLOOKui_loadTopbar","__spliter_","classSvgChpNav","VLOOKui_loadNavCenter","classTocFilterResult","__body_","VLOOKui_loadCommon","classFontThemeOpt","previewPath","_notLoaded_","classBtnAssistor","_assistor_","classPinBtn","classTableCross","loadVLOOKui","loadVLOOKplugin","__fork","Chrome","Edge","core","webkit","newRadius","_radius_","_V_R_S_","_V_R_T_","_V_R_Tag_","_V_R_C_","_varColorScheme_","colorScheme","redirect","gTotalTimes","gTimes","gThmVer","gVer","gThmName","_arrow_","_beforePrint_","__shadow_","_folded_","_dataFig__","_folder_","_keyword_","_coating_","_dTbl__","__child_","_ico_","_alert_","_icoTocTab_","__status_","_pointer_","_mouse_","_toolbar_","_vlookStat__","_varFigGrid__","_V_R_","_vBadge_","_vToc__","_vRotate_","_vTbl__","_vTblRow_","__identer_","_vTblColFmt__","prototype","click","children","each","find","innerWidth","margin","outerWidth","innerHeight","position","parents","prepend","after","before","replaceWith","toggle","trigger","match","searchValue","replaceValue","replace","regExpString","re","replaceAll","startsWith","endsWith","toLowerCase","toUpperCase","substring","split","wrapText","suff","oldValue","newValue","userAgent","trident","presto","gecko","iOS","android","iPhone","iPad","browserVer","Windows","Linux","full","subset","devicePixelRatio","silent","devMode","hideOnError","vlookToc","tocContent","navToc","tocSet","tocSetLength","hasCover","tocAutoCloseLevel","__setLightIcon","__darkIcon","head","__lightIcon","__setDarkIcon","__syncScheme","matcher","matches","__initScheme","dark","querySelector","mediaQuery","matchMedia","ac","__alt","__fade_bd","_title","__cur","acRed","acOrange","acYellow","acLime","acGreen","acMineral","acOlives","acWine","acAqua","acCyan","acBlue","acSea","acLavender","acVine","acPurple","acRose","acPink","acGold","acBrown","acGray","acBlack","acTheme1","acTheme2","mm","mmRed","mmOrange","mmYellow","mmGreen","mmCyan","mmBlue","mmPurple","mmPink","mmBrown","mmGray","cm","__pn","__tbl","_variable","_string","footnotesArea","nameValue","nameValue2","ColorCode","effect","wsMode","styleSheets","ready"],"sources":["../../src/vlook.js"],"sourcesContent":["/**************************************\n *\n * VLOOK JS - Typora Plugin\n *\n * V24.1\n * 2024-05-11\n * powered by MAX°孟兆\n *s\n * QQ Group: 805502564\n * Telegram Channel: t.me/vlook_markdown\n * email: maxchow@qq.com\n *\n * https://github.com/MadMaxChow/VLOOK\n * https://gitee.com/madmaxchow/VLOOK\n * https://vlook-doc.pages.dev\n *\n *************************************/\n\nlet _ = \"\",\n    ___ = \" \",\n    gVer = \"V24.1\",\n    gThmVer = _,\n    gThmName = _,\n    iStopwatch = new Stopwatch(), // 初始化计时器\n    gUndefined = undefined,\n    gTrue = true,\n    gFalse = false,\n    gTimes = 0,\n    gTotalTimes = 0,\n    gLastHash = null,\n    // **********\n    // 修改时须同步修改 media.less 的同名参数\n    gSmallScreenWidth = 1270,\n    // **********\n    gToc = gUndefined, // 文档大纲对象\n    gTocContent = gUndefined, // 文档大纲内容\n    gStyle = gUndefined, // 文档的 style 对象\n    // 以下 _xxx_ 格式变量为字符串\n    _100pc_ = \"100%\",\n    _4space_ = ___+___+___+___,\n    _absolute_ = \"absolute\",\n    _actived_ = \"actived\",\n    __action_ = \"-action\",\n    _after_ = \"after\",\n    _align_ = \"align\",\n    _alt_ = \"alt\",\n    _alter_ = \"alter\",\n    _alpha_ = \"alpha\",\n    _ariaRoledescription_ = \"aria-roledescription\",\n    _arrow_ = \"Arrow\",\n    _arrowLeft_ = _arrow_ + \"Left\",\n    _arrowRight_ = _arrow_ + \"Right\",\n    _assistor_ = \"assistor\",\n    _audio_ = \"audio\",\n    _animation_ = \"animation\",\n    _auto_ = \"auto\",\n    _autoplay_ = _auto_ + \"play\",\n    _background_ = \"background\",\n    _color_ = \"color\",\n    _backgroundColor_ = _background_ + \"-\" + _color_,\n    _image_ = \"image\",\n    _backgroundImage_ = _background_ + \"-\" + _image_,\n    _before_ = \"before\",\n    _print_ = \"print\",\n    _beforePrint_ = _before_ + \"-\" + _print_ + \"-\",\n    _width_ = \"width\",\n    _max_ = \"max\",\n    _maxWidth_ = _max_ + \"-\" + _width_,\n    _beforePrintWidth_ = _beforePrint_ + _width_,\n    _beforePrintMaxWidth_ = _beforePrint_ + _maxWidth_,\n    __blank_ = \"_blank\",\n    _block_ = \"block\",\n    _quote_ = \"quote\",\n    _blockquote_ = _block_ + _quote_,\n    __body_ = \"-body\",\n    _bold_ = \"bold\",\n    _book_ = \"book\",\n    _border_ = \"border\",\n    _bottom_ = \"bottom\",\n    _borderBottomWidth_ = _border_ + \"-\" + _bottom_ + \"-\" + _width_,\n    _right_ = \"right\",\n    _radius_ = \"radius\",\n    _borderBottomRightRadius_ = _border_ + \"-\" + _bottom_ + \"-\" + _right_ + \"-\" + _radius_,\n    _borderColor_ = _border_ + \"-\" + _color_,\n    _borderImage_ = _border_ + \"-\" + _image_,\n    _borderRadius_ = _border_ + \"-\" + _radius_,\n    _borderWidth_ = _border_ + \"-\" + _width_,\n    _left_ = \"left\",\n    _borderLeftWidth_ = _border_ + \"-\" + _left_ + \"-\" + _width_,\n    _top_ = \"top\",\n    _borderTopWidth_ = _border_ + \"-\" + _top_ + \"-\" + _width_,\n    _scroll_ = \"scroll\",\n    __shadow_ = \"-shadow\",\n    _boxShadow_ = \"box\" + __shadow_,\n    _br_ = \"<br>\",\n    _brightness_ = \"brightness\",\n    _bubble_ = \"bubble\",\n    _card_ = \"card\",\n    _catalog_ = \"catalog\",\n    _center_ = \"center\",\n    _cssText_ = \"cssText\",\n    _checkbox_ = \"checkbox\",\n    _checked_ = \"checked\",\n    __checked_ = \"-\" + _checked_,\n    _class_ = \"class\",\n    _click_ = \"click\",\n    _close_ = \"close\",\n    _code_ = \"code\",\n    _codeblock_ = \"codeblock\",\n    __column_ = \"-column\",\n    _colspan_ = \"colspan\",\n    _content_ = \"content\",\n    _controls_ = \"controls\",\n    __control_ = \"-control\",\n    _cursor_ = \"cursor\",\n    __current_ = \"-current\",\n    _cost_ = \"    COST \",\n    _cover_ = \"cover\",\n    _dark_ = \"dark\",\n    _light_ = \"light\",\n    _darksrc_ = _dark_ + \"src\",\n    _darksrcset_ = _dark_ + \"srcset\",\n    __anchor_ = \"-anchor\",\n    _dataAnchor_ = \"d\" + __anchor_,\n    _dataAsMarkdown_ = \"d-as-markdown\",\n    _folded_ = \"folded\",\n    _dataBeforePrintFolded_ = \"d-\" + _before_ + \"-\" + _print_ + \"-\" + _folded_,\n    _group_ = \"group\",\n    _dataBtnGroup_ = \"d-btn-\" + _group_,\n    _dataCaptionCount_ =\"d-cap-count\",\n    _dataCatalogEmpty_ = \"d-\" + _catalog_ + \"-empty\",\n    _dataCellMerge_ = \"d-cell-merge\",\n    _dataChk_ = \"d-chk\",\n    _text_ = \"text\",\n    __text_ = \"-\" + _text_,\n    _dataClipboardText_ = \"data-clipboard\" + __text_,\n    _dataColspan_ = \"d-colspan\",\n    _dataColumnFmting_ = \"d\" + __column_ + \"-fmting\",\n    _dataContainer_ = \"d-cntr\",\n    _dataContentExpanded_ = \"d-\" + _content_ + \"-expanded\",\n    _dataContentFolded_ = \"d-\" + _content_ + \"-\" + _folded_,\n    _dataContentType_ = \"d-\" + _content_ + \"-type\",\n    _dataDefault_ = \"d-default\",\n    _dataExtend_ = \"d-extend\",\n    _dataFig__ = \"d-fig-\",\n    _dataFigNum_ = _dataFig__ + \"num\",\n    _dataFigType_ = _dataFig__ + \"type\",\n    _dataFolded_ = \"d-\" + _folded_,\n    _folder_ = \"folder\",\n    _dataFolder_ = \"d-\" + _folder_,\n    _dataFolderId_ = \"d-\" + _folder_ + \"-id\",\n    _dataFolding_ = \"d-folding\",\n    _keyword_ = \"keyword\",\n    _dataKeywords_ = \"d-\" + _keyword_ + \"s\",\n    _dataDarkSrc_ = \"d-darksrc\",\n    _dataDuration_ = \"d-duration\",\n    _dataFigGrid_ = _dataFig__ + \"grid\",\n    _h1_6_ = \"h1,h2,h3,h4,h5,h6\",\n    _html_ = \"html\",\n    __header_ = \"-header\",\n    _dataHeaderNum_ = \"d\" + __header_ + \"-num\",\n    _dataHash_ = \"d-hash\",\n    _dataHistory_ = \"d-history\",\n    __icon_ = \"-icon\",\n    _dataIcon_ = \"d\" + __icon_,\n    _dataIdFigType_ = \"d-id-fig-type\",\n    _dataKeywordMatch_ = \"d-\" + _keyword_ + \"-match\",\n    _dataLong_ = \"d-long\",\n    _dataNode_ = \"d-node\",\n    _dataPage_ = \"d-page\",\n    _dataParentFolderId_ = \"d-parent-\" + _folder_ + \"-id\",\n    _dataPid_ = \"d-pid\",\n    _dataQuoteGroup_ = \"d-\" + _quote_ + \"-\" + _group_,\n    _dataRef_ = \"data-ref\",\n    _dataRbCellBg_ = \"d-rb-cell-bg\",\n    _dataRbText_ = \"d-rb\" + __text_,\n    _dataRbWholeText_ = \"d-rb-whole\" + __text_,\n    _dataRowFolded_ = \"d-row-\" + _folded_,\n    _dataRowOpenMode_ = \"d-row-open-mode\",\n    _dataSrc_ = \"d-src-\",\n    _dataSrcDark_ = _dataSrc_ + _dark_,\n    _dataSrcLight_ = _dataSrc_ + _light_,\n    _dataSrcset_ = \"d-srcset-\",\n    _dataSrcsetDark_ = _dataSrcset_ + _dark_,\n    _dataSrcsetLight_ = _dataSrcset_ + _light_,\n    _dataTd2th_ = \"d-td2th\",\n    _title_ = \"title\",\n    __title_ = \"-\" + _title_,\n    _dataTitle_ = \"d\" + __title_,\n    _dataId_ = \"d-id\",\n    _dataIdentLevel_ = \"d-ident-level\",\n    _dataImgFill_ = \"d-img-fill\",\n    _dataPause_ = \"d-pause\",\n    _dataPgIdx_ = \"d-pg-idx\",\n    __result_ = \"-result\",\n    _dataResult_ = \"d\" + __result_,\n    _coating_ = \"coating\",\n    _hidden_ = \"hidden\",\n    _dataCoatingHidden_ = \"d-\" + _coating_ + \"-\" + _hidden_,\n    __tip_ = \"-tip\",\n    _dataCoatingTip_ = \"d-\" + _coating_ + __tip_,\n    _dataCoatingShowed_ = \"d-\" + _coating_ + \"-showed\",\n    _dataRowGroup_ = \"d-row-\" + _group_,\n    _dTbl__ = \"d-tbl-\",\n    _dataTblCol_ = _dTbl__ + \"col\",\n    _dataTblX_ = _dTbl__ + \"x\",\n    _dataThRpt_ = \"d-th-rpt\",\n    _tips_ = \"tips\",\n    _dataTips_ = \"d-\" + _tips_,\n    _del_ = \"del\",\n    _details_ = \"details\",\n    _disabled_ = \"disabled\",\n    _display_ = \"display\",\n    _div_ = \"div\",\n    _docLib_ = \"doc-lib\",\n    _docLibToc_ = _docLib_ + \"-toc\",\n    _docIcon_ = \"doc\" + __icon_ + \"-\",\n    _documentLibrary_ = \"Document Library\",\n    _copy_ = \"copy\",\n    _figure_ = \"figure\",\n    _openInFigureNav_ = \"open-in-\" + _figure_ + \"-nav\",\n    _table_ = \"table\",\n    _tableCross_ = _table_ + \"-cross\",\n    _tableWrap_ = _table_ + \"-wrap\",\n    _picInPic_ = \"pic-in-pic\",\n    __docTitle_ = \"-doc\" + __title_,\n    _effect_ = \"effect\",\n    _enabled_ = \"enabled\",\n    _first_ = \"first\",\n    _enabled__first_ = _enabled_+ ___ + _first_,\n    _enabled__last_ = _enabled_ + \" last\",\n    _enter_ = \"Enter\",\n    _emptied_ = \"emptied\",\n    _error_ = \"error\",\n    _escape_ = \"Escape\",\n    __fade_ = \"-fade\",\n    _failed_ = \"Failed [ \",\n    _false_ = \"false\",\n    _fig_ = \"fig\",\n    _vFig_ = \"v-\" + _fig_,\n    _figGrid__ = _vFig_ + \"-grid-\",\n    _figSolid__ = _vFig_ + \"-solid-\",\n    _fill_ = \"fill\",\n    _filter_ = \"filter\",\n    _first__enable__last_ = _first_ + \" enabled last\",\n    __child_ = \"-child\",\n    _firstChild_ = \":\" + _first_ + __child_,\n    _float_ = \"float\",\n    _font_ = \"Font\",\n    _theme_ = \"theme\",\n    _fontTheme_ = \"font-\" + _theme_,\n    __footer_ = \"-footer\",\n    _footnotes_ = \"footnotes\",\n    _footnotesArea_ = _footnotes_ + \"-area\",\n    _freeze_ = \"freeze\",\n    _function_ = \"function\",\n    _h6_ = \"h6\",\n    _height_ = \"height\",\n    _hover_ = \"hover\",\n    _hoverAction_ = \"hover\" + __action_,\n    _href_ = \"href\",\n    _http_ = \"http\",\n    _httpsPrefix_ = \"https://\",\n    _ico_ = \"ico\",\n    _alert_ = \"Alert\",\n    _icoAlertNote_ = _ico_ + _alert_ + \"Note\",\n    _icoAlertTip_ = _ico_ + _alert_ + \"Tip\",\n    _icoAlertImportant_ = _ico_ + _alert_ + \"Important\",\n    _icoAlertWarning_ = _ico_ + _alert_ + \"Warning\",\n    _icoAlertCaution_ = _ico_ + _alert_ + \"Caution\",\n    _icoChkbox__ = _ico_ + \"Chkbox_\",\n    _icoClose_ = _ico_ + \"Close\",\n    _icoCopy_ = _ico_ + \"Copy\",\n    _icoCopyAsMd_ = _ico_ + \"CopyAsMd\",\n    _icoDarkMode_ = _ico_ + \"DarkMode\",\n    _icoDetailsOpen_ = _ico_ + \"DetailsOpen\",\n    _icoDocLib_ = _ico_ + \"DocLib\",\n    _icoDocLibExt_ = _ico_ + \"DocLibExt\",\n    _icoFolded_ = _ico_ + \"Folded\",\n    _icoFontTheme_ = _ico_ + \"FontTheme\",\n    _icoForbidden_ = _ico_ + \"Forbidden\",\n    _icoLaserPointer_ = _ico_ + \"LaserPointer\",\n    _icoLightMode_ = _ico_ + \"LightMode\",\n    _icoLinkError_ = _ico_ + \"LinkError\",\n    _icoLinkMap_ =  _ico_ + \"LinkMap\",\n    _icoLoading_ = _ico_ + \"Loading\",\n    _icoMaskCloser_ = _ico_ + \"MaskCloser\",\n    _icoNavCenter_ = _ico_ + \"NavCenter\",\n    _icoOpenInFigureNav_ = _ico_ + \"OpenInFigureNav\",\n    _icoParagraphNav_ = _ico_ + \"ParagraphNav\",\n    _icoPause_ = _ico_ + \"Pause\",\n    _icoPicInPic_ = _ico_ + \"PicInPic\",\n    _icoPlay_ = _ico_ + \"Play\",\n    _icoPrevFig_ = _ico_ + \"PrevFig\",\n    _icoPrevChapter_ = _ico_ + \"PrevChapter\",\n    _icoPrint_ = _ico_ + \"Print\",\n    _icoResetInput_ = _ico_ + \"ResetInput\",\n    _icoRetrieval_ = _ico_ + \"Retrieval\",\n    _icoSpotlight_ = _ico_ + \"Spot\" + _light_,\n    _icoStop_ = _ico_ + \"Stop\",\n    _icoTableX_ = _ico_ + \"TableX\",\n    _icoTocFolded_ = _ico_ + \"TocFolded\",\n    _icoTocTab_ = _ico_ + \"TocTab\",\n    _icoTocTabCatalog_ = _icoTocTab_ + \"Catalog\",\n    _icoTocTabCodeblock_ = _icoTocTab_ + \"Codeblock\",\n    _icoTocTabFigure_ = _icoTocTab_ + \"Figure\",\n    _icoTocTabHistory_ = _icoTocTab_ + \"History\",\n    _icoTocTabMedia_ = _icoTocTab_ + \"Media\",\n    _icoTocTabTable_ = _icoTocTab_ + \"Table\",\n    _icoTableWrap_ = _ico_ + \"TableWrap\",\n    _loading_ = \"loading\",\n    _vLoading_ = \"v-\" + _loading_,\n    _vLong_ = \"v-long\",\n    _VLOOK_ = \"VLOOK\",\n    _VLOOK_Number_ = _VLOOK_ + \" Number\",\n    _VLOOK_Digital_Sans_ = _VLOOK_ + \" Digital Sans\",\n    _VLOOK_Digital_Serif_ = _VLOOK_ + \" Digital Serif\",\n    _VLOOK_Sans_Mono_ = _VLOOK_ + \" Sans Mono\",\n    _VLOOK_Serif_Mono_ = _VLOOK_ + \" Serif Mono\",\n    _VLOOK_Sans_ = _VLOOK_ + \" Sans\",\n    _VLOOK_Serif_ = _VLOOK_ + \" Serif\",\n    _NotoSansMono_ = \"NotoSansMono\",\n    _LuxiMono_ = \"LuxiMono\",\n    _icoVLOOK_ = _ico_ + _VLOOK_,\n    _icoZoomIn_ = _ico_ + \"ZoomIn\",\n    _icoZoomOut_ = _ico_ + \"ZoomOut\",\n    _id_ = \"id\",\n    __status_ = \"-status\",\n    _fontsetStatus_ = \"fontset\" + __status_,\n    _iframe_ = \"iframe\",\n    _imageXicon_ = _image_ + \"/x\" + __icon_,\n    _img_ = \"img\",\n    _important_ = \" !important;\",\n    _inner_ = \"inner\",\n    _input_ = \"input\",\n    _start_ = \"start\",\n    _inStart_ = \"in-\" + _start_,\n    _invert_ = \"invert\",\n    _italic_ = \"italic\",\n    _italic_bold_ = \"/\" + _italic_ + \"/bold\",\n    __items_ = \"-items\",\n    _keydown_ = \"keydown\",\n    _label_ = \"label\",\n    _lang_ = \"lang\",\n    _pointer_ = \"pointer\",\n    _laserPointer_ = \"laser-\" + _pointer_,\n    _last_ = \":last\",\n    _lastChild_ = _last_ + __child_,\n    _link_ = \"link\",\n    _linkChecker_ = _link_ + \"-checker\",\n    _line_ = \"line\",\n    _linearGradient_ = \"linear-gradient\",\n    _local_ = \"local\",\n    _loop_ = \"loop\",\n    _margin_ = \"margin\",\n    _map_ = \"map\",\n    _marginBottom_ =_margin_ +  \"-\" + _bottom_,\n    _marginLeft_ = _margin_ + \"-\" + _left_,\n    _marginRight_ = _margin_ + \"-\" + _right_,\n    _mark_ = \"mark\",\n    _mata_ = \"meta\",\n    _maxHeight_ = \"max-height\",\n    _media_ = \"media\",\n    _mdAlert_ = \"md-alert\",\n    _mdDiagramPanel_ = \"md-diagram-panel\",\n    _mdTocItem_ = \"md-toc-item\",\n    _middle_ = \"middle\",\n    _min_ = \"min\",\n    _mindmap_ = \"mindmap\",\n    _mini_ = \"mini\",\n    _minWidth_ = \"min-width\",\n    _mjx__ = \"#mjx-\",\n    _mouse_ = \"mouse\",\n    _mouseDown_ = _mouse_ + \"down\",\n    _mouseUp_ = _mouse_ + \"up\",\n    _mouseEnter_ = _mouse_ + \"enter\",\n    _mouseLeave_ = _mouse_ + \"leave\",\n    _mp3_ = \".mp3\",\n    _mp4_ = \".mp4\",\n    _m4a_ = \".m4a\",\n    _ogg_ = \".ogg\",\n    _ogv_ = \".ogv\",\n    _wav_ = \".wav\",\n    _webm_ = \".webm\",\n    _name_ = \"name\",\n    _navCenter_ = \"nav-\" + _center_,\n    __next_ = \"-next\",\n    _no_ = \"no\",\n    _none_ = \"none\",\n    _normal_ = \"normal\",\n    _normal_normal_ = \"/\" + _normal_ + \"/\" + _normal_,\n    _normal_bold_ = \"/\" + _normal_ + \"/\" + _bold_,\n    _normal_500_ = \"/\" + _normal_ + \"/500\",\n    _normal_900_ = \"/\" + _normal_ + \"/900\",\n    _normal_italic_ = \"/\" + _italic_ + \"/\" + _normal_,\n    _notLoaded_ = \"NOT LOADED\",\n    _off_ = \"off\",\n    _on_ = \"on\",\n    _onlyChild_ = \":only\" + __child_,\n    _opacity_ = \"opacity\",\n    _open_ = \"open\",\n    _opened_ = \"opened\",\n    _outerHTML_ = \"outerHTML\",\n    _outlineStyle_ = \"outline-style\",\n    _outlineWidth_ = \"outline-width\",\n    _overflow_ = \"overflow\",\n    _overflowX_ = _overflow_ + \"-x\",\n    _overflowY_ = _overflow_ + \"-y\",\n    _padding_ = \"padding\",\n    _paddingBottom_ = _padding_ + \"-\" + _bottom_,\n    _paddingLeft_ = _padding_ + \"-\" + _left_,\n    _paddingRight_ = _padding_ + \"-\" + _right_,\n    _paddingTop_ = _padding_ + \"-top\",\n    _paragraphNav_ = \"paragraph-nav\",\n    _placeholder_ = \"placeholder\",\n    _playing_ = \"playing\",\n    _position_ = \"position\",\n    _pre_ = \"pre\",\n    _preload_ = \"preload\",\n    _preWrap_ = \"pre-wrap\",\n    __prev = \"-prev\",\n    _ready_ = \"Ready\",\n    __reset_ = \"-reset\",\n    _refFootnote_ = \"ref-footnote\",\n    _rowspan_ = \"rowspan\",\n    _rx_ = \"rx\",\n    _ry_ = \"ry\",\n    _sans_ = \"sans\",\n    _selected_ = \"selected\",\n    _serif_ = \"serif\",\n    _span_ = \"span\",\n    _sub_ = \"sub\",\n    _spotlight_ = \"spot\" + _light_,\n    _src_ = \"src\",\n    _srcset_ = \"srcset\",\n    _stroke_ = \"stroke\",\n    _strong_ = \"strong\",\n    _style_ = \"style\",\n    _svg_ = \"svg\",\n    _suffixImg_ = \".\" + _img_,\n    _suffixSvg_ = \".\" + _svg_,\n    _summary_ = \"summary\",\n    _tabindex_ = \"tabindex\",\n    _tagName_ = \"tagName\",\n    _target_ = \"target\",\n    _tbody_ = \"tbody\",\n    _textAlign_ = _text_ + \"-\" + _align_,\n    _textLength_ = _text_ + \"Length\",\n    _textShadow_ = _text_ + __shadow_,\n    _thead_ = \"thead\",\n    _type_ = \"type\",\n    _vlook__ = \"vlook-\",\n    _vlookToc_ = _vlook__ + \"toc\",\n    _tocItem_ = \"#\" + _vlookToc_ + \">.\" + _mdTocItem_,\n    __spliter_ = \"-spliter\",\n    _toolbar_ = \"toolbar\",\n    _toolbarSpliter_ = _toolbar_ + __spliter_,\n    _transform_ = \"transform\",\n    _transformOrigin_ = _transform_ + \"-origin\",\n    _true_ = \"true\",\n    _ttf_ = \"ttf\",\n    _hastwo_ = \"hastwo\",\n    _un_ = \"un\",\n    _unfreeze_ = \"unfreeze\",\n    _vdl_ = \"vdl\",\n    _docLibIdentifier_ = _target_ + \"=\" + _vdl_,\n    _vkFooterArea_ = \"#vk-footer-area\",\n    _vkHeader_ = \"vk\" + __header_ + \"-\",\n    _vkIdDocTitle_ = \"vk-id\" + __docTitle_,\n    _vkIdFig_ = \"vk-id-fig\",\n    _vkIdAudio_ = \"vk-id-\" + _audio_,\n    _vkIdVideo_ = \"vk-id-video\",\n    _vkIdTbl_ = \"vk-id-tbl\",\n    _vkIdCodeblock_ = \"vk-id-\" + _codeblock_,\n    _vkIdMiniAudio_ = \"vk-id-mini-\" + _audio_,\n    _vlookDocLib_ = _vlook__ + _docLib_,\n    _vlookStat__ = _vlook__ + \"stat-\",\n    _vlookStatGitee_ = _vlookStat__ + \"gitee\",\n    _vlookStatGithub_ = _vlookStat__ + \"github\",\n    _vlookStatCloudFlare_ = _vlookStat__ + \"cloudflare\",\n    _varAcRedLg_ = V_ui_var(\"--ac-rd-lg\"),\n    _varAcOrangeLg_ = V_ui_var(\"--ac-og-lg\"),\n    _varAcCyanLg_ = V_ui_var(\"--ac-cy-lg\"),\n    __scheme_ = \"-scheme\",\n    _varColorScheme_ = \"--v-\" + _color_ + __scheme_,\n    _varCurCopy_ = \"--cur-copy\",\n    _varDBc_ = V_ui_var(\"--d-bc\"),\n    _varDFC_ = V_ui_var(\"--d-fc\"),\n    _varFigGrid__ = \"--\" + _figGrid__,\n    _varMarkBg_ = V_ui_var(\"--mark-bg\"),\n    _varMmCyan_ = V_ui_var(\"--mm-c-cy\"),\n    _varMmOrange_ = V_ui_var(\"--mm-c-og\"),\n    _varMmRed_ = V_ui_var(\"--mm-c-rd\"),\n    _vNavCenter_ = \"v-nav-\" + _center_,\n    _varNavCenterHiddenLeft_ = \"--\" + _vNavCenter_ + \"-\" + _hidden_ + \"-l\",\n    _varNavCenterWidth_ = V_ui_var(\"--\" + _vNavCenter_ + \"-w\"),\n    _V_R_ = \"--v-r-\",\n    _V_R_B_ = _V_R_ + \"b\",\n    _varVRB_ = V_ui_var(_V_R_B_),\n    _V_R_C_ = _V_R_ + \"c\",\n    _V_R_S_ = _V_R_ + \"s\",\n    _V_R_T_ = _V_R_ + \"t\",\n    _V_R_Tag_ = _V_R_ + \"tag\",\n    _varTblRowAlpha_ = V_ui_var(\"--tbl-row-g-alpha\"),\n    _vAccentBtn_ = \"v-accent-btn\",\n    _vActor_ = \"v-actor\",\n    _vActorKeySys_ = _vActor_ + \"-key-sys\",\n    _vActorExtSys_ = _vActor_ + \"-ext-sys\",\n    _vAudioMiniControl_ = \"v-\" + _audio_ + \"-mini-control\",\n    _vBackdropBlurs_ = \"v-backdrop-blurs\",\n    _vBadge_ = \"v-badge-\",\n    _vBadgeName_ = _vBadge_ + \"name\",\n    _value_ = \"value\",\n    _vBadgeValue_ = _vBadge_ + _value_,\n    // _vBlockquoteFolder_ = \"v-blockquote-folder\",\n    _vBtn_ = \"v-btn\",\n    _vBtnGroup_ = _vBtn_ + \"-\" + _group_,\n    _vBtn__BtnGroup_ = \".\" + _vBtn_ + \",.\" + _vBtnGroup_,\n    _vBtn_Assistor_ = \".\" + _vBtn_ + \".\" + _assistor_,\n    _vColorScheme_ = \"v-\" + _color_ + __scheme_,\n    _vContent_ = \"v-\" + _content_,\n    _vContentAssistor_ = _vContent_ + \"-\" + _assistor_,\n    _vCard_ = \"v-\" + _card_,\n    _vCap1_ = \".v-cap-1\",\n    _vCap2_ = \".v-cap-2\",\n    _vCaptionContainer_ = \"v-cap-cntr\",\n    _vCaption_ = \"v-caption\",\n    _vCaption_Mermaid_ = _vCaption_ + \".mermaid\",\n    _vChapterNav_ = \"v-chapter-nav\",\n    _vCodeMirrorLine_ = \"CodeMirror-line\",\n    _vCopyright_ = \"v-copyright\",\n    _vCopyrightSvgIco_ = _vCopyright_ + \"-svg-ico\",\n    _vCursorLaser_ = \"v-\" + _cursor_ + \"-laser\",\n    _vDoc_ = \"v-doc-\",\n    _vDocInfo_ = _vDoc_ + \"info\",\n    _vDocLib_ = _vDoc_ + \"lib\",\n    _vDocLibItem_ = _vDocLib_ + \"-item\",\n    _vDocLog_ = _vDoc_ + \"logo-\",\n    _expander_ = \"expander\",\n    _vFences_ = \"md-fences\",\n    _vFloatCard_ = \"v-\" + _float_ + \"-\" + _card_,\n    _vFigContent_ = _vFig_ + \"-\" + _content_,\n    _vFigNav_ = _vFig_ + \"-nav\",\n    _vFigNavBtns_ = \".\" + _vFigNav_ + \"-btns\",\n    _search_ = \"search\",\n    _vFocusSearch_ = \"v-focus-\" + _search_,\n    _vFontInfo_ = \"v-fontinfo-\",\n    _vFontnotePn_ = \"v-footnote-pn\",\n    _vFontPackage_ = \"v-font-package\",\n    _vFontTheme_ = \"v-\" + _fontTheme_,\n    _vFontThemeInfo_ = \"v-\" + _fontTheme_ + \"-info\",\n    _vFontThemeOpt_ = \"v-\" + _fontTheme_ + \"-opt\",\n    _infoTips_ = \"info-\" + _tips_,\n    _vInfoTips_ = \"v-\" + _infoTips_,\n    _vStdCode_ = \"v-std-\" + _code_,\n    _vBreadcrumbStyle_ = \"v-stepwise\",\n    _vTable_ = \"v-\" + _table_,\n    _vTableWrap_ = _vTable_ + \"-wrap\",\n    _vTableUnwrap_ = _vTable_ + \"-unwrap\",\n    _vTag_ = \"v-tag\",\n    _vTips_ = \"v-\" + _tips_,\n    _vToc__ = \"v-toc-\",\n    _vTocCatalogBody_ = _vToc__ + _catalog_ + \"-body\",\n    _vTocFilterResultNone_ = _vToc__ + _filter_ + __result_ + \"-\" + _none_,\n    _vTocHandle_ = _vToc__ + \"handle\",\n    _vTocHistory_ = _vToc__ + \"history\",\n    _vToolTips_ = \"v-tool-\" + _tips_,\n    _vToolbar_ = \"v-\" + _toolbar_,\n    _vImgInvertDark_ = \"v-img-\" + _invert_ + \"-\" + _dark_,\n    _vLinkChkResult_ = \"v-\" + _link_ + \"-chk\" + __result_,\n    _vLinkInfoList_ = \"v-\" + _link_ + \"-info-list\",\n    _vLinkMap_ = \"v-\" + _link_ + \"-map\",\n    _vMapItem_ = \"v-map-item\",\n    _vMask_ = \"v-mask\",\n    _vMaskClose_ = _vMask_ + \"-\" + _close_,\n    _mdToc_ = \"md-toc\",\n    _mdToc__ = _mdToc_ + \"-\",\n    _vMermaidRestyler_ = \"v-mermaid-restyler\",\n    _vMoreDocContent_ = \"v-more-doc-\" + _content_ + \"-\",\n    _vNavCenterBlock_ = _vNavCenter_ + \"-block\",\n    _vNavCenterFloat_ = _vNavCenter_ + \"-\" + _float_,\n    _vPgCurrentItem_ = \"v-pg\" + __current_ + \"-item\",\n    _vPicInPic_ = \"v-\" + _picInPic_,\n    _vPipBtn_ = \"v-pip-btn\",\n    _vCoating_ = \"v-\" + _coating_,\n    _vRotate_ = \"v-rotate\",\n    _vRotate45_ = _vRotate_ + 45,\n    _vRotate90_ = _vRotate_ + 90,\n    _vSearchByKeyword_ = \"v-\" + _search_ +\"-by-\" + _keyword_,\n    _vSegment_ = \"v-segment\",\n    _vSegmentBtn_ = _vSegment_ + \"-btn\",\n    _vStsFontTheme_ = \"v-sts-\" + _fontTheme_,\n    _vSpotlight_ = \"v-\" + _spotlight_,\n    _vSpotlightInDark_ = _vSpotlight_ + \"-in-\" + _dark_,\n    _vStatusBar_ = \"v\" + __status_ + \"-bar\",\n    _vSvgDetails_ = \"v-svg-\" + _details_,\n    _vTbl__ = \"v-tbl-\",\n    _vTblX_ = \".\" + _vTbl__ + \"x\",\n    _vTblXCell_ = _vTbl__ + \"x-cell\",\n    _vTblRow_ = _vTbl__ + \"row-\",\n    _vTblRowGFolder_ = _vTblRow_ + \"g-\" + _folder_,\n    __identer_ = \"-identer\",\n    _vTblRowGIdenterFolder_ = _vTblRow_ + \"g\" + __identer_ + _folder_,\n    _vTblRowGNotFolder_ = _vTblRow_ + \"g-not-\" + _folder_,\n    _vTblRowGBtn_ = \".\" + _vTblRow_ + \"g-btn\",\n    _vTblRowNumHidden_ = _vTblRow_ + \"num-\" + _hidden_,\n    _vTblColFmt__ = _vTbl__ + \"col-fmt-\",\n    _vTblColFmt_Chkbox_ = _vTblColFmt__ + \"chkbox\",\n    _vTblColFmt_Bold_ = _vTblColFmt__ + \"bold\",\n    _vTblColFmt_Em_ = _vTblColFmt__ + \"em\",\n    _vTblColFmtMark_ = _vTblColFmt__ + _mark_,\n    _vTblColFmtNum_ = _vTblColFmt__ + \"num\",\n    _vTblColFmtNumDecimal_ = _vTblColFmt__ + \"num-decimal\",\n    _vTblColFmtNumNegative_ = _vTblColFmt__ + \"num-negative\",\n    _vTblColFmtNumPositive_ = _vTblColFmt__ + \"num-positive\",\n    _vTblColFmtPercent_ = _vTblColFmt__ + \"percent\",\n    _vTblColFmtCurrency_ = _vTblColFmt__ + \"currency\",\n    _vTblRowGSub_ = _vTblRow_ + \"g-sub\",\n    _vTblRowGIdenter_ = _vTblRow_ + \"g\" + __identer_,\n    _vTextField_ = \"v-textfield\",\n    _vTextFieldFocus_ = _vTextField_ + \"-focus\",\n    _vThRepeater_ = \"v-th-repeater\",\n    _vTocFolder_ = \".\" + _vToc__ + _folder_,\n    _vTocFilterResult_ = _vToc__ + _filter_ + __result_,\n    _vTocItem_ = _vToc__ + \"item\",\n    _vTocItemCurrent_ = _vTocItem_ + __current_,\n    _vTransition__ = \"v-transition-\",\n    _vTransitionAll_ = _vTransition__ + \"all\",\n    _verticalAlign_ = \"vertical-\" + _align_,\n    _video_ = \"video\",\n    _viewBox_ = \"viewBox\",\n    _visible_ = \"visible\",\n    _visibility_ = \"visibility\",\n    _wait_ = \"wait\",\n    _warning_ = \"warning\",\n    _whiteSpace_ = \"white-space\",\n    _write_ = \"#write\",\n    _woff2_ = \"woff2\",\n    _writeMarginLeft_ = \"calc(\" + _varNavCenterWidth_ + \" + 30px)\",\n    _yes_ = \"yes\",\n    _zIndex_ = \"z-index\",\n    _zoom_ = \"zoom\",\n    _zoomIn_ = _zoom_ + \"-in\",\n    _zoomOut_ = _zoom_ + \"-out\",\n    _nbsp_ = \"&nbsp;\",\n    _2nbsp_ = _nbsp_ + _nbsp_;\niStopwatch.st();\n\n// ==================== 内置函数调用简化 ==================== //\n\n// 控制台打印日志\nfunction LOG() {\n    console.log.apply(console, arguments);\n}\n// 控制台打印通知\nfunction INFO() {\n    console.info.apply(console, arguments);\n}\n// 控制台打印警告\nfunction WARN() {\n    console.warn.apply(console, arguments);\n}\n// 控制台打印错误\nfunction ERROR() {\n    console.error.apply(console, arguments);\n}\n// 在 debug 模式下输出调试信息\nfunction DEBUG(...info) {\n    if (V_debugMode) {\n        ERROR(\"| DEBUG INFO |\");\n        WARN(...info);\n    }\n}\n// 弹窗显示信息\nfunction ALERT(m) {\n    alert(m);\n}\n\n// 获得文档 URL\nfunction WINDOW_getHref() {\n    return window.location.href;\n}\n\n// 设置文档 URL\nfunction WINDOW_setHref(value) {\n    window.location.href = value;\n}\n\n// 获得文档 URL 的 hash\nfunction WINDOW_getHash() {\n    return window.location.hash;\n}\n\n// ==================== JQuery 方法调用简化 ==================== //\n\n// addClass 简化版\nfunction JQ_addClass(target, className) {\n    if (target !== gUndefined)\n        target.addClass(className);\n}\n\n// removeClass 简化版\nfunction JQ_removeClass(target, className) {\n    if (target !== gUndefined)\n        target.removeClass(className);\n}\n\n// removeAttr 简化版\nfunction JQ_removeAttr(target, attrName) {\n    if (target !== gUndefined)\n        target.removeAttr(attrName);\n}\n\n// 交替切换不同样式\nfunction JQ_exchangeClass(target, oldClassName, newClassName) {\n    if (target !== gUndefined) {\n        target.removeClass(oldClassName);\n        target.addClass(newClassName);\n    }\n}\n\n// remove 简化版\nfunction JQ_remove(target) {\n    if (target !== gUndefined)\n        target.remove();\n}\n\n// attr 简化版\n$.prototype.a = function (key, value) {\n    if (value === gUndefined)\n        return this.attr(key);\n    else\n        return this.attr(key, value);\n}\n\n// css 简化版\n$.prototype.c = function (key, value) {\n    if (value === gUndefined)\n        return this.css(key);\n    else\n        return this.css(key, value);\n}\n\n// click 简化版\n$.prototype.ck = function (callback) {\n    this.click(callback);\n}\n\n// mouseenter 简化版\n// $.prototype.me = function (callback) {\n//     return this.mouseenter(callback);\n// }\n\n// mouseleave 简化版\n// $.prototype.ml = function (callback) {\n//     return this.mouseleave(callback);\n// }\n\n// prev 简化版\n$.prototype.pr = function (value) {\n    return this.prev(value);\n}\n\n// next 简化版\n$.prototype.n = function (value) {\n    return this.next(value);\n}\n\n// children 简化版\n$.prototype.ch = function (value) {\n    return this.children(value);\n}\n\n// each 简化版\n$.prototype.e = function (callback) {\n    this.each(callback);\n}\n\n// find 简化版\n$.prototype.f = function (value) {\n    return this.find(value);\n}\n\n// html 简化版\n$.prototype.hm = function (value) {\n    if (value === gUndefined)\n        return this.html();\n    else\n        return this.html(value);\n}\n\n// width 简化版\n$.prototype.w = function () {\n    return this.width();\n}\n// innerWidth 简化版\n$.prototype.iW = function () {\n    return this.innerWidth();\n}\n// outerWidth 简化版\n$.prototype.oW = function (margin) {\n    if (margin !== gTrue)\n        return this.outerWidth();\n    else\n        return this.outerWidth(gTrue);\n}\n\n// height 简化版\n$.prototype.h = function () {\n    return this.height();\n}\n// innerHeight 简化版\n$.prototype.iH = function () {\n    return this.innerHeight();\n}\n\n// offset 简化版\n$.prototype.o = function () {\n    return this.offset();\n}\n\n// offset().left 简化版\n$.prototype.oL = function () {\n    return this.offset().left;\n}\n\n// offset().top 简化版\n$.prototype.oT = function () {\n    if (this.offset() === gUndefined)\n        return 0;\n    return this.offset().top;\n}\n\n// position 简化版\n$.prototype.pos = function () {\n    return this.position();\n}\n\n// parent 简化版\n$.prototype.p = function () {\n    return this.parent();\n}\n\n// parents 简化版\n$.prototype.ps = function (value) {\n    return this.parents(value);\n}\n\n// append 简化版\n$.prototype.ap = function (value) {\n    return this.append(value);\n}\n\n// prepend 简化版\n$.prototype.pp = function (value) {\n    return this.prepend(value);\n}\n\n// after 简化版\n$.prototype.af = function (value) {\n    return this.after(value);\n}\n\n// before 简化版\n$.prototype.bf = function (value) {\n    return this.before(value);\n}\n\n// replaceWith 简化版（outerHTML）\n$.prototype.rW = function (value) {\n    return this.replaceWith(value);\n}\n\n// text 简化版\n$.prototype.t = function (value) {\n    if (value === gUndefined)\n        return this.text();\n    else\n        return this.text(value);\n}\n\n// toggle 简化版\n$.prototype.tg = function (value) {\n    this.toggle(value);\n}\n\n// trigger 简化版\n$.prototype.tr = function (value) {\n    this.trigger(value);\n}\n\n// unbind(\"click\") 简化版\n$.prototype.uC = function () {\n    return this.unbind(_click_);\n}\n\n// unbind(\"hover\") 简化版\n$.prototype.uH = function () {\n    return this.unbind(_mouseEnter_).unbind(_mouseLeave_);\n    // return this.unbind(_hover_);\n}\n\n// ==================== JavaScript 方法调用简化 ==================== //\n\n// match 简化版\nString.prototype.m = function (value) {\n    return this.match(value);\n}\n\n// replace 简化版\nString.prototype.r = function (searchValue, replaceValue) {\n    return this.replace(searchValue, replaceValue);\n}\n\n// replaceAll 简化版\nString.prototype.rA = function (regExpString, value) {\n    const re = new RegExp(regExpString, \"g\");\n    return this.replaceAll(re, value);\n}\n\n// 去掉字符串中的英文句号 .\nString.prototype.xD = function () {\n    return this.replaceAll(/\\./g, _);\n}\n\n// trim 简化版\nString.prototype.x = function () {\n    return this.trim();\n}\n\n// startsWith 简化版\nString.prototype.sW = function (value) {\n    return this.startsWith(value);\n}\n\n// endsWith 简化版\nString.prototype.eW = function (value) {\n    return this.endsWith(value);\n}\n\n// indexOf 简化版\nString.prototype.i = function (value) {\n    return this.indexOf(value);\n}\n\n// toLowerCase 简化版\nString.prototype.l = function () {\n    return this.toLowerCase();\n}\n\n// toUpperCase 简化版\nString.prototype.u = function () {\n    return this.toUpperCase();\n}\n\n// substring 简化版\nString.prototype.ss = function (start, end) {\n    return this.substring(start, end);\n}\n\n// split 简化版\nString.prototype.sp = function (exp) {\n    return this.split(exp);\n}\n\n// parseInt 简化版\nfunction JS_parseInt(value) {\n    return parseInt(value);\n}\n\n// parseFloat 简化版\nfunction JS_parseFloat(value) {\n    return parseFloat(value);\n}\n\n// Math.round 简化版\nfunction JS_mathRound(value) {\n    return Math.round(value);\n}\n\n// Math.ceil 简化版\nfunction JS_mathCeil(value) {\n    return Math.ceil(value);\n}\n\n// decodeURIComponent 简化版\nfunction JS_decodeURIComponent(uri) {\n    let result = v_util_isValidURIComponent(uri);\n    if (result !== gFalse)\n        return result;\n    return uri;\n}\n\n// decodeURI 简化版\nfunction JS_decodeURI(uri) {\n    if (uri === gUndefined)\n        return _;\n    return decodeURI(uri);\n}\n\n// ======================================== //\n\nINFO(\"=== Load Document ===\");\n\n// UI 元素\nlet iToolbar = gUndefined,\n    iNavCenter = gUndefined,\n    iChapterNav = gUndefined,\n    iParagraphNav = gUndefined,\n    iSpotlight = gUndefined,\n    iLaserPointer = gUndefined,\n    iFontTheme = gUndefined,\n    iFigNav = gUndefined,\n    iInfoTips = gUndefined,\n    iFootNote = gUndefined;\n\n// ==================== 文档对象模型 ==================== //\n\n// 文档的 html 对象\nlet DOM_h = gUndefined;\nfunction DOM_html() {\n    if (DOM_h === gUndefined) {\n        DOM_h = $(_html_);\n        if (DOM_h.length === 0) {\n            DOM_h = gUndefined;\n            ERROR(_failed_ + \"DOM.html ]\");\n        }\n    }\n    return DOM_h;\n}\n\n// 文档的 body 对象\nlet DOM_b = gUndefined;\nfunction DOM_body() {\n    if (DOM_b === gUndefined) {\n        DOM_b = $(\"body\");\n        if (DOM_b.length === 0) {\n            DOM_b = gUndefined;\n            ERROR(_failed_ + \"DOM.body ]\");\n        }\n    }\n    return DOM_b;\n}\n\n// ==================== VLOOK 对象模型 ==================== //\n\n// Markdown 导出为 HTML 的内容对象\nlet VOM_d = gUndefined;\nfunction VOM_doc() {\n    if (VOM_d === gUndefined) {\n        VOM_d = $(_write_);\n        if (VOM_d.length === 0) {\n            VOM_d = gUndefined;\n            ERROR(_failed_ + \"VOM.doc ]\");\n        }\n    }\n    return VOM_d;\n}\n\n// 封面对象\nlet VOM_c = gUndefined;\nfunction VOM_cover() {\n    if (VOM_c === gUndefined) {\n        VOM_c = $(_write_ + \">pre.md-meta-block\" + _firstChild_ + \"+\" + _h6_ + \",\" + _write_ + \">\" + _h6_ + _firstChild_);\n        if (VOM_c.length === 0) {\n            VOM_c = gUndefined;\n            if (VOM_docTitle() === gUndefined)\n                WARN(_failed_ + \"VOM.c ], maybe no cover: \" + WINDOW_getHref());\n        }\n    }\n    return VOM_c;\n}\n\n// 封底对象\nlet VOM_bc = gUndefined;\nfunction VOM_backcover() {\n    // 注意该方法调用，必须在 #vk-footer-area 的位置调整前完成\n    if (VOM_bc === gUndefined) {\n        let fns = V_byClass(_footnotesArea_);\n        if (fns !== gUndefined) {\n            let backcover = fns.pr(),\n                tagName = V_util_getTagName(backcover);\n            if (tagName === \"h1\")\n                VOM_bc = backcover;\n        }\n        else {\n            VOM_bc = gUndefined;\n            WARN(_failed_ + \"VOM.bc ], maybe no backcover\");\n        }\n    }\n    return VOM_bc;\n}\n\n// 文档标题对象（无封面模式）\nlet VOM_dt = gUndefined;\nfunction VOM_docTitle() {\n    if (VOM_dt === gUndefined) {\n        VOM_dt = V_byID(_vkIdDocTitle_);\n        if (VOM_dt.length === 0) {\n            VOM_dt = gUndefined;\n            WARN(_failed_ + \"VOM.dt ] \" + WINDOW_getHref());\n        }\n    }\n    return VOM_dt;\n}\n\n// ==================== 通用方法 ==================== //\n\n/**\n * 检查是否为空对象\n */\n$.prototype.isEmpty = function () {\n    return (typeof (this) == \"undefined\");\n}\n\n/**\n * 判断对象是否已隐藏\n */\n$.prototype.isHidden = function () {\n    let T = this;\n    return T !== gUndefined\n        && (T.c(_display_) === _none_ || T.c(_visibility_) === _hidden_ || T.c(_opacity_) === \"0\");\n}\n\n/**\n * 判断对象是否已显示\n */\n$.prototype.isShowed = function () {\n    return !this.isHidden();\n}\n\n/**\n * 在元素前后以指定的前缀和后缀文本进行包裹\n * @param pre 前缀文本\n * @param suff 后缀文本\n*/\n$.prototype.wrapText = function (pre, suff) {\n    this.hm(pre + this.hm() + suff);\n}\n\n/**\n * 替换 innerHTML 的内容\n * @param exp 用于匹配内容的正则表达式\n * @param value 将匹配的内容替换成该内容\n*/\n$.prototype.rHTML = function (exp, value) {\n    this.hm(this.hm().replace(exp, value));\n}\n\n/**\n * 从指定内容开始，替换之后的匹配的内容\n * @param str 从指定内容出现的位置开始进行替换\n * @param oldValue 被替换的内容\n * @param newValue 用于替换的新内容\n */\nString.prototype.rAfter = function (str, oldValue, newValue) {\n    let T = this,\n        i = T.i(str);\n    if (i > -1) {\n        let pre = T.ss(0, i),\n            suff = T.ss(i, T.length);\n        return pre + suff.r(oldValue, newValue);\n    }\n    return this;\n};\n\n/**\n * 判断是否为数值型\n */\nString.prototype.isNumber = function () {\n    return /^([-+])*\\d+(\\.\\d+)?$/.test(this);\n}\n\n/**\n * 判断是否为百分数\n */\nString.prototype.isPercent = function () {\n    return /^([-+])*\\d+(\\.\\d+)?%$/.test(this);\n}\n\n/**\n * 判断是否为货币型\n */\nString.prototype.isCurrency = function () {\n    return /^(\\D{1,3} )([-+])*\\d+(\\.\\d+)?$/.test(this);\n}\n\n/**\n * 环境信息类\n */\nconst env = {\n    /*\n    Windows 平台样例：\n        - (Chrome) Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36\n        - (Edge) Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.102 Safari/537.36 Edge/18.18362\n        - (Firefox) Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:69.0) Gecko/20100101 Firefox/69.0\n\n    macOS 平台样例：\n        - (Safari) Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.2 Safari/605.1.15\n        - (Chrome) Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36\n        - (Edge) Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.0.0 Safari/537.36 Edg/113.0.1774.35\n        - (Firefox) Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:69.0) Gecko/20100101 Firefox/69.0\n\n    iPhone 平台样例：\n        - (Safari) Mozilla/5.0 (iPhone; CPU iPhone OS 15_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.2 Mobile/15E148 Safari/604.1\n        - (Chrome) Mozilla/5.0 (iPhone; CPU iPhone OS 15_02 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/97.0.04692.72 Mobile/15E148 Safari/604.1\n        - (Edge) Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1 Edg/113.0.0.0\n        - (Firefox) Mozilla/5.0 (iPhone; CPU iPhone OS 15_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/40.2 Mobile/15E148 Safari/605.1.15\n        // 以下情况建议暂按以内核为判断标准 //\n        - (QQ) Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148 QQ/8.9.75.613 V1_IPH_SQ_8.9.75_1_APP_A Pixel/1125 MiniAppEnable SimpleUISwitch/0 StudyMode/0 CurrentMode/0 CurrentFontScale/1.000000 QQTheme/1000 AppId/537172547 Core/WKWebView Device/Apple(iPhone XS) NetType/WIFI QBWebViewType/1 WKType/1\n        - (微信) Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148 MicroMessenger/8.0.40(0x18002830) NetType/WIFI Language/zh_CN\n        - (钉钉) Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/20G75 AliApp(DingTalk/7.0.50) com.laiwang.DingTalk/31322509 Channel/201200 language/zh-Hans-CN UT4Aplus/0.0.6 WK\n    */\n\n    // 浏览器内核信息\n    core : function () {\n        const u = navigator.userAgent;\n        return {\n            trident: u.i(\"Trident\") > -1, // IE内核\n            presto: u.i(\"Presto\") > -1, // Opera内核\n            webkit: u.i(\"AppleWebKit\") > -1, // 苹果、谷歌内核\n            gecko: u.i(\"Gecko\") > -1 && u.i(\"KHTML\") === -1 // 火狐内核\n        };\n    }(),\n\n    // 设备信息\n    device : function () {\n        const u = navigator.userAgent;\n        return {\n            mobile: u.i(\"Mobile\") > -1, // 是否为移动终端\n            iOS: u.i(\"iPhone\") > -1, // iOS 类终端\n            android: u.i(\"Android\") > -1 || u.i(\"Linux\") > -1, // android 终端或者 UC 浏览器\n            iPhone: u.i(\"iPhone\") > -1, // 是否为 iPhone 或者 QQHD 浏览器\n            iPad: u.i(\"iPad\") > -1 // 是否 iPad\n        };\n    }(),\n\n    // 浏览器类型\n    browser : function () {\n        const u = navigator.userAgent;\n        return {\n            Chrome: (u.i(\"Chrome\") > -1 && u.i(\"Edg\") < 0) || u.i(\"CriOS\") > -1, // Chrome 浏览器\n            Firefox: u.i(\"Firefox\") > -1 || u.i(\"FxiOS\") > -1, // Firefox 浏览器\n            Safari: u.i(\"Safari\") > -1 && (u.i(\"Chrome\") < 0 || u.i(\"CriOSc\") < 0 || u.i(\"Edg\") < 0 || u.i(\"FxiOS\") < 0), // Safari 浏览器\n            Edge: u.i(\"Edg\") > -1 // Edge 浏览器\n        };\n    }(),\n\n    // 浏览器版本信息\n    browserVer : function () {\n        const u = navigator.userAgent;\n        return {\n            Chrome: u.m(/Chrome\\/[\\d.]+/gi) ? u.m(/Chrome\\/[\\d.]+/gi)[0].m(/\\d+/)[0] : 0, // Chrome 浏览器版本\n            Firefox: u.m(/Firefox\\/[\\d.]+/gi) ? u.m(/Firefox\\/[\\d.]+/gi)[0].m(/\\d+/)[0] : 0, // Firefox 浏览器版本\n            Safari: u.m(/Version\\/[\\d.]+.+Safari\\/[\\d.]+/gi) ? u.m(/Version\\/[\\d.]+.+Safari\\/[\\d.]+/gi)[0].m(/\\d+/)[0] : 0, // Safari 浏览器版本\n            Edge: u.m(/Edg\\/[\\d.]+/gi) ? u.m(/Edg\\/[\\d.]+/gi)[0].m(/\\d+/)[0] : 0 // Edge 浏览器版本\n        };\n    }(),\n\n    // 操作系统信息\n    os : function () {\n        const u = navigator.userAgent;\n        return {\n            Windows: /windows|win32|win64/i.test(u), // 是否为 Windows 平台\n            macOS: /macintosh/i.test(u), // 是否为 macOS 平台\n            iOS: /iphone os/i.test(u), // 是否为 iOS 平台\n            Linux: /linux/i.test(u) // 是否为 Linux 平台\n        };\n    }(),\n\n    // 语言信息\n    language : function () {\n        const lang = navigator.language;\n        return {\n            full: lang.l(),\n            base: lang.ss(0, 2),\n            subset: lang.ss(3, lang.length)\n        };\n    }(),\n\n    // 显示信息\n    display : function () {\n        return {\n            DPR : window.devicePixelRatio\n        };\n    }(),\n\n    /**\n     * 打印环境信息\n     * @param silent 是否为静默模式，静默模式只反馈环境信息值，不打印到控制台\n     * @returns string 环境信息\n     */\n    print : function (silent = gFalse) {\n        let info = \"::: Environmental :::\\n\",\n            r = info;\n        if (!silent) LOG(info);\n\n        info = \"    ├ Language   [ \"\n            + env.language.base\n            + (env.language.subset.length > 0 ? \"_\" + env.language.subset : _)\n            + \", \" + V_lang_id\n            + \" ]\\n\";\n        r += info;\n        if (!silent) LOG(info);\n\n        info = \"    ├ Device     [ \"\n            + (env.device.mobile ? \"Mobile\" : _)\n            + (env.device.iOS ? \"/iOS\" : _)\n            + (env.device.android ? \"/Android\" : _)\n            + (env.device.iPhone ? \"/iPhone\" : _)\n            + (env.device.iPad ? \"/iPad\" : _)\n            + \"]\\n\";\n        r += info;\n        if (!silent) LOG(info);\n\n        info = \"    ├ OS         \" +\n            (env.os.macOS ? \"[ macOS ]\"\n                : (env.os.Windows ? \"[ Windows ]\"\n                    : (env.os.iOS ? \"[ iOS ]\"\n                        : (env.os.Linux ? \"[Linux]\" : \"[Others]\"))))\n            + \"\\n\";\n        r += info;\n        if (!silent) LOG(info);\n\n        info = \"    ├ Browser    [ \"\n            + (env.browser.Chrome ? \"Chrome / \" + env.browserVer.Chrome : _)\n            + (env.browser.Firefox ? \"Firefox / \" + env.browserVer.Firefox : _)\n            + (env.browser.Safari ? \"Safari / \" + env.browserVer.Safari : _)\n            + (env.browser.Edge ? \"Edge / \" + env.browserVer.Edge : _)\n            + \" ]\\n\";\n        r += info;\n        if (!silent) LOG(info);\n\n        info = \"    ├ Core       [ \"\n            + (env.core.gecko ? \"Gecko\" : _)\n            + (env.core.presto ? \"Presto\" : _)\n            + (env.core.trident ? \"Trident\" : _)\n            + (env.core.webkit ? \"WebKit\" : _)\n            + \" ]\\n\";\n        r += info;\n        if (!silent) LOG(info);\n\n        info = \"    ├ DPR        [ \"\n            + env.display.DPR\n            + \" ]\\n\"; // Device Pixel Ratio\n        r += info;\n        if (!silent) LOG(info);\n\n        info = \"    ├ VLOOK™ Plugin [ \"\n            + gVer\n            + (devMode ? \" < DEV >\" : \" RELEASED\" )\n            + \" ]\\n\"; // 插件版本\n        r += info;\n        if (!silent) LOG(info);\n\n        info = \"    ├ VLOOK™ Theme  [ \"\n            + (gThmName = V_util_getTemplateThemeName())\n            + \" / \" + (gThmVer = V_util_getTemplateThemeVersion())\n            + \" ]\\n\"; // 文档主题\n        r += info;\n        if (!silent) LOG(info);\n\n        info = \"    └ VLOOK™ Type   [ \"\n            + V_pageMode\n            + \" ]\\n\"; // VLOOK 插件运行类型\n        r += info;\n        if (!silent) LOG(info);\n\n        info = navigator.userAgent + \"\\n\";\n        r += info;\n        if (!silent) LOG(info);\n\n        return r;\n    },\n\n    // 打印 Mermaid 缩放信息\n    // printMermaidDPR : function () {\n    //     let info = \"::: Mermaid DPR :::\\n\"\n    //         + \"    ├ DPR of builder  [ \" + RepairTool_mermaidDPR_builder + \" ]\\n\"\n    //         + \"    └ DPR of render   [ \" + RepairTool_mermaidDPR_render + \" ]\\n\";\n    //     LOG(info);\n    //     return info;\n    // },\n\n    /**\n     * 屏幕上显示环境信息、Mermaid 信息等\n     **/\n    show : function (source) {\n        let info = env.print()\n            // + env.printMermaidDPR()\n            + \"\\n----------\\nPowered by MAX°孟兆\\n\";\n        console.log(info);\n        Copyer_action(source, info, gFalse);\n        ALERT(info);\n    }\n};\n\n// ==================== VLOOK 关键信息类 ==================== //\n\nlet V_ver = gVer, // VLOOK 版本信息\n    V_debugMode = debugMode, // 是否为开发模式\n    V_pageMode = _max_, // 页面模式：max, pro, mini\n    V_params_url = [], // VLOOK 的调校参数\n    V_params_yaml = []; // VLOOK 文档的 YAML\n\n// 初始化调校参数\nfunction V_params_init() {\n    V_params_url = V_util_getUrlQueryParams(WINDOW_getHref());\n    let vp = V_util_getMetaByName(_vlook__ + \"query\");\n    V_params_yaml = V_util_getUrlQueryParams(\"file.html\" + (vp !== gUndefined ? \"?\" + vp : _));\n}\n// ========================================\n\n// ========================================\n// VLOOK 检索对象实例\n// 以 id 进行检索\nfunction V_byID(idName) {\n    return $(\"#\" + idName);\n}\n\n// 以 className 进行检索\nfunction V_byClass(className) {\n    return $(\".\" + className);\n}\n// ========================================\n\n// ========================================\n// VLOOK 本地数据读/写\n// 获得数据\n// function V_data_get(key) {\n//     return localStorage[_VLOOK_ + \"-\" + key];\n// }\n// 写入数据\n// function V_data_set(key, value) {\n//     localStorage[_VLOOK_ + \"-\" + key] = value;\n// }\n// ========================================\n\n// ========================================\n// VLOOK 工具包\n\n/**\n * 对 URI 进行解码\n * @param uri\n * @returns 解码失败侧返回 false，成功则返回解码后的内容\n */\nfunction v_util_isValidURIComponent(uri) {\n    let result = _;\n    try {\n        // 尝试解码 URI 组件\n        result = decodeURIComponent(uri);\n        return result;\n    } catch (e) {\n        // 解码出现错误，说明 URI 不合法\n        return false;\n    }\n}\n\n/**\n * 获取 HTML 文档标题\n */\nfunction V_util_getDocTitle() {\n    return $(document).a(_title_);\n}\n\n/**\n * 获取 HTML <meta> 标签的内容\n * @param metaName 指定 meta 的名称\n * @returns 指定 meta 的内容\n */\nfunction V_util_getMetaByName(metaName) {\n    let content = $(_mata_ + V_attrCSS(_name_, metaName)).a(_content_);\n    return ((content === gUndefined || content.length === 0 || content === \"${\" + metaName + \"}\") ? gUndefined : content);\n}\n\n/**\n * 获取启动参数的值\n * @param pName 启动参数名称\n * @returns string 启动参数的值\n */\nfunction V_util_getParamVal(pName) {\n    let v = V_params_url[pName];\n    // URL 中无指定，则深度通过 YAML 中获取\n    if (v === gUndefined)\n        v = V_params_yaml[pName];\n    return v;\n}\n\n/**\n * 获取 URL 中的参数数组\n * @param u 完整的 URL 内容\n */\nfunction V_util_getUrlQueryParams(u) {\n    if (u === gUndefined)\n        return {};\n\n    let h = u.i(\"#\");\n    u = h > -1 ? u.ss(0, h) : u; // 只截取 URL 中 # 前的内容\n\n    let si = u.i(\"?\"),\n        qs = u.ss(si > -1 ? si + 1 : u.length, u.length), // 获取url中\"?\"符后的字串\n        p = {}, // 保存参数数据的对象\n        is = (qs.length > 0) ? qs.sp(\"&\") : [], // 取得每一个参数项,\n        item = null,\n        l = is.length;\n\n    // 将所有参数拆解至数组中\n    for (let i = 0; i < l; i++) {\n        item = is[i].sp(\"=\");\n        p[JS_decodeURIComponent(item[0])] = JS_decodeURIComponent(item[1]);\n    }\n    return p;\n}\n\n/**\n * 获取 URL 中的锚点\n * @param u 完整的 URL 内容\n */\nfunction V_util_getUrlHash(u) {\n    if (u === gUndefined)\n        return _;\n\n    let i = u.i(\"#\");\n    return i > -1 ? u.ss(i, u.length) : _;\n}\n\n/**\n * 获取 URL 中的参数字符串\n * @param u 完整的 URL 内容\n */\nfunction V_util_getUrlQueryString(u) {\n    if (u === gUndefined)\n        return _;\n\n    let i = u.i(\"?\");\n    return i > -1 ? u.ss(i + 1, u.length) : _;\n}\n\n/**\n * 获取 URL 中的不含锚点的部分\n * @param u 完整的 URL 内容\n */\nfunction V_util_getUrlWithoutHash(u) {\n    if (u === gUndefined)\n        return _;\n\n    let i = u.i(\"#\");\n    return i > -1 ? u.ss(0, i) : u;\n}\n\n/**\n * 获取 URL 中的不含锚点、参数的部分\n * @param u 完整的 URL 内容\n */\nfunction V_util_getUrlWithoutQueryAndHash(u) {\n    if (u === gUndefined)\n        return _;\n\n    let queryIdx = u.i('?');\n    if (queryIdx > -1)\n        u = u.ss(0, queryIdx);\n    else {\n        let hashIdx = u.i('#');\n        if (hashIdx > -1)\n            u = u.ss(0, hashIdx);\n    }\n    return u;\n}\n\n/**\n * 获得 URL 中的路径部分\n * @param u URL 地址\n */\nfunction V_util_getPath(u) {\n    let qi = u.i(\"?\"),\n        ti = u.ss(0, qi).lastIndexOf(\"/\"),\n        pi = ti === -1 ? 0 : ti;\n    return u.ss(0, pi + 1);\n}\n\n/**\n * 进行 HTML 标签符转义\n * @param text 原始文本\n * @return String 转义后文本\n */\n// function V_util_htmlTagEncode(text) {\n//     if (text.length === 0)\n//         return _;\n//     return text.r(/</g, \"&lt;\")\n//         .r(/>/g, \"&gt;\");\n// }\n\n/**\n * 清理 HTML 中的单、双引号\n * @param text 原始文本\n * @return String 清理后的文本\n */\nfunction V_util_clearHtmlQuot(text) {\n    if (text.length === 0)\n        return _;\n    return text.r(/'/g, _)\n        .r(/\"/g, _);\n}\n\n/**\n * 处理并返回省略后的文本\n * @param text 原始文本\n * @param limit 头、尾长度限制\n * @return String 省略后的文本\n */\nfunction V_util_truncateText(text, limit) {\n    let len = text.length;\n    if (len <= limit)\n        return text;\n\n    // 遍历字符串，计算指定字符的总数，中文字符按 2 个字符计算\n    let frontChars = __calcCharsLen(0, 1),\n        backChars = __calcCharsLen(len - 1, -1);\n\n    // 计算要保留的前面和最后的字符的数量\n    frontChars = (frontChars > limit ? Math.ceil(frontChars / 2) : frontChars);\n    backChars = (backChars > limit ? Math.ceil(backChars / 2) : backChars);\n\n    // 截取字符串并添加省略号\n    return text.ss(0, frontChars) + '...' + text.ss(len - backChars - 1, len - 1);\n\n    /**\n     * 计算指定长度字符的总数，中文字符按 2 个字符计算\n     * @param init 初始值\n     * @param step 步长\n     */\n    function __calcCharsLen(init, step) {\n        let count = 0,\n            i = init;\n        while (count < limit) {\n            count += (text.charCodeAt(i) > 255 ? 2 : 1)\n            i += step;\n        }\n        return count;\n    }\n}\n\n/**\n * 重定位至锚点\n * @return boolean true：已进行重定向，false：无须进行重定向\n */\nfunction V_util_redirectTo() {\n    let hash = WINDOW_getHash();\n    // 如果 URL 带锚点\n    if (hash.length > 0 && hash !== \"#\" + _vkIdDocTitle_) {\n        LOG(\"    ↩ Redirect to h: \" + JS_decodeURI(hash));\n        WINDOW_setHref(\"#\"); // 强制先清空当前 hash\n        WINDOW_setHref(hash);\n        // 若最后访问的锚点与本次相同，则强制进行一次微调\n        setTimeout(() => {\n            V_ui_tuningScrollTop(hash);\n        }, 300);\n        return gTrue;\n    }\n    return gFalse;\n}\n\n/**\n * 跳转至页内锚点，并自动进行位置微调适配\n */\nfunction V_util_gotoHash(hash) {\n    let last = JS_decodeURI(WINDOW_getHash());\n    WINDOW_setHref(hash);\n    // 若前后锚点一样，则会导致不会触发 hashchange 事件，须强制进行一次微调\n    if (last === JS_decodeURI(hash))\n        V_ui_tuningScrollTop(hash);\n}\n\n/**\n * 获取 CSS 变量值\n * @param varName CSS 变量名\n */\nfunction V_util_getVarVal(varName) {\n    return getComputedStyle(document.documentElement).getPropertyValue(varName);\n}\n\n/**\n * 设置 CSS 变量值\n * @param varName CSS 变量名\n * @param value CSS 变量值\n */\nfunction V_util_setVarVal(varName, value) {\n    document.documentElement.style.setProperty(varName, value);\n}\n/**\n * 获取 HTML 文档使用的模板主题\n */\nfunction V_util_getTemplateThemeName() {\n    return V_util_getVarVal(\"--v-theme-name\").rA('\"', _).x();\n}\n/**\n * 获取 HTML 文档使用的模板主题\n */\nfunction V_util_getTemplateThemeVersion() {\n    return V_util_getVarVal(\"--v-theme-version\").rA('\"', _).x();\n}\n\n/**\n * 批量修改指定的 CSS 变量集\n * @param varSet 变量数组\n * @param flag 修改为指定变量集的标识\n */\nfunction V_util_changeCssVarSet(varSet, flag) {\n    // 生成目标颜色方案值列表\n    let tmp = [];\n    if (flag !== gUndefined) {\n        for (let i = 0, len = varSet.length; i < len; i++) {\n            tmp.push(V_util_getVarVal(varSet[i] + \"-\" + flag));\n        }\n    }\n    // 遍历所有变量实现 ColorScheme 切换\n    for (let i = 0, len = varSet.length; i < len; i++) {\n        if (flag !== gUndefined)\n            V_util_setVarVal(varSet[i], tmp[i]);\n        else\n            V_util_setVarVal(varSet[i], 0);\n    }\n}\n\n/**\n * 获取 HTML 标签名称\n * @param target 标签对象\n */\nfunction V_util_getTagName(target) {\n    let tagName = (target === gUndefined ? _ : target.prop(_tagName_));\n    return (tagName === gUndefined ? _ : tagName.l());\n}\n\n/**\n * 生成用反引号包裹的文本\n * @param text 文本\n */\nfunction V_util_wrapBackquote(text) {\n    let bq1 = __hasBackquote(text) ? \"`` \" : \"`\",\n        bq2 = __hasBackquote(text) ? \" ``\" : \"`\";\n    return bq1 + text + bq2;\n\n    // 是否含有反引号 `\n    function __hasBackquote(text) {\n        return (text.i(\"`\") > -1);\n    }\n}\n\n// VLOOK 工具 包\n// ========================================\n\n// ========================================\n// 通用的格式化操作\n/**\n * 添加千位符\n * @param str 需要进行格式化的目标字符串\n * @returns string 格式化后的字符串\n */\nfunction V_formatting_thousands(str) {\n    return str.r(/(\\d)(?=(\\d{3})+(\\.\\d+)*(\\D)*$)/g, \"$1,\");\n}\n\n/**\n * 对小数部分进行格式化\n * @param str 需要进行格式化的目标字符串\n * @returns string 格式化后的字符串\n */\nfunction V_formatting_decimal(str) {\n    return str.r(/\\.(\\d+)/, \".\" + V_ui_span(_vTblColFmtNumDecimal_, _, \"$1\"));\n}\n\n/**\n * 对百分号进行格式化\n * @param str 需要进行格式化的目标字符串\n * @returns string 格式化后的字符串\n */\nfunction V_formatting_percent(str) {\n    return str.r(/%</, V_ui_span(_vTblColFmtPercent_, _, \" %\") + \"<\");\n}\n\nlet gRE_CurrencyNoEscape = new RegExp(\"<\\\\/\" + _span_ + \"><\" + _span_ + \">([$])<\\\\/\" + _span_ + \"><\" + _span_ + \">\", _),\n    gRE_CurrencyNoEscape2 = new RegExp(\">([$])<\\\\/\" + _span_ + \"><\" + _span_ + \">\", _);\n/**\n * 对货币符号进行格式化\n * @param str 需要进行格式化的目标字符串\n * @returns string 格式化后的字符串\n */\nfunction V_formatting_currency(str) {\n    // 对于存在转义符号 $ 时（与 Markdown 的数学公式格式冲突，所以一般会写成 \\$）\n    // 先将其处理成不存在转义的标准形式，如：HK$\n    str = str.r(gRE_CurrencyNoEscape, \"$1\");\n    str = str.r(gRE_CurrencyNoEscape2, \">$1\");\n    // 因 html() 中含有 > 字符，所以替换的内容中须进行 > 的前后拼接调整\n    return str.r(/>([a-z$¥￥]{0,3})\\s/i, \">\" + V_ui_span(_vTblColFmtCurrency_, _, \"$1\"));\n}\n// ========================================\n\n// ========================================\n// 检查文档结构是否符合 VLOOK 规范程度\nfunction V_checkSpec () {\n    let v = gTrue,\n        c = [\n            \"因以下原因无法激活 VLOOK 插件：\\n\\n\",\n            \"The VLOOK plugin cannot be activated for the following reasons:\\n\\n\"\n            ][V_lang_id];\n\n    // 只支持由 Typora 导出的 HTML 文件\n    if (DOM_body().a(_class_).i(\"typora-export\") === -1) {\n        c += [\n            \"• 只支持由 Typora 导出的 HTML 文件\\n\",\n            \"• Only HTML files exported by Typora are supported\\n\"\n            ][V_lang_id];\n        v = gFalse;\n    }\n\n    // 缺少目录\n    gToc = V_byClass(_mdToc_);//V_by_Class(_vMdToc_);\n    if (gToc.length === 0) {\n        c += [\n            \"• 缺少 [TOC], 这是 GFM 标准的「目录」语法\\n\",\n            \"• Missing [TOC], the GFM standard \\\"Table of Content\\\"\\n\"\n            ][V_lang_id];\n    }\n\n    // 存在不符合规范的情况\n    if (!v) {\n        c += [\n            \"\\n建议参考文档模板：\",\n            \"\\nSuggestion Reference document template: \"\n        ][V_lang_id] + \"\\nreleased/demo/VLOOK-Document-Template.md\";\n\n        ALERT(c);\n        return gFalse;\n    }\n\n    // 符合规范\n    return gTrue;\n}\n// ========================================\n\n\n/**\n * 初始化关键组件实例\n */\nfunction V_init() {\n    let sw = new Stopwatch();\n    sw.st();\n    iFontTheme = new FontTheme(new BgMask(_fontTheme_, _center_), V_util_getVarVal(\"--v-f-theme\"));\n    if (iFontTheme === gFalse)\n        ALERT(_failed_ + \"iFntThm ]\");\n    else\n        iFontTheme.init(V_util_getParamVal(\"font\")); // 初始化\n    sw.ed(\"    ├ Font Themer: \");\n\n    // ==================== UI====================\n\n    // 聚光灯\n    sw.st();\n    iSpotlight = new Spotlight(180, new BottomTips(_spotlight_));\n    if (iSpotlight === gFalse)\n        ALERT(_failed_ + \"iSpotlight ]\");\n    sw.ed(\"    ├ Spotlight: \");\n\n    // 激光笔\n    iLaserPointer = new LaserPointer(new BottomTips(\"laserPointe\"));\n    if (iLaserPointer === gFalse)\n        ALERT(_failed_ + \"iPter ]\");\n    sw.ed(\"    ├ LaserPointer: \");\n\n    // 长内容折叠\n    sw.st();\n    let cf = V_util_getParamVal(\"fold\");\n    ContentFolder_enabled = (cf !== _off_);\n    // 指定对象（table,figure,codeblock）启用的处理\n    if (cf !== gUndefined && cf !== _on_ && cf !== _off_) {\n        ContentFolder_enabled_table = (cf.i(_table_) > -1);\n        ContentFolder_enabled_figure = (cf.i(_figure_) > -1);\n        ContentFolder_enabled_codeblock = (cf.i(_codeblock_) > -1);\n    }\n    ContentFolder_init();\n    sw.ed(\"    ├ Content Folding: \");\n\n    // 工具提示\n    ToolTips_init();\n\n    // 弹窗信息提示\n    iInfoTips = new InfoTips(new BgMask(_infoTips_, _center_));\n    if (iInfoTips.length === 0)\n        ALERT(_failed_ + \"iInfoTips ]\");\n\n    // 导航中心\n    sw.st();\n    let runMode = V_util_getParamVal(\"nav\");\n    iNavCenter = new NavCenter(new BgMask(_navCenter_, _left_, gTrue), runMode);\n    if (iNavCenter === gFalse)\n        ALERT(_failed_ + \"iNavCenter ]\");\n    sw.ed(\"    ├ Nav Center: \");\n\n    // 逐章导航\n    sw.st();\n    iChapterNav = new ChapterNav(iNavCenter);\n    if (iChapterNav === gFalse)\n        ALERT(_failed_ + \"iChapNav ]\");\n    else {\n        // 添加关联组件\n        iNavCenter.chpNav = iChapterNav;\n    }\n    sw.ed(\"    ├ Chapter Nav: \");\n\n    // 工具栏\n    sw.st();\n    iToolbar = new Toolbar(iNavCenter, iChapterNav);\n    if (iToolbar === gFalse)\n        ALERT(_failed_ + \"iTb ]\");\n    else {\n        // 导航中心按钮\n        iToolbar.add(_navCenter_, () => {\n            // 针对当前只显示了文库的处理\n            if (iNavCenter.keyword.input.val() === _vdl_) {\n                iNavCenter.keyword.clear();\n                // 小屏时仍正常切换显示大纲\n                if (V_ui_isSmallScreen())\n                    iNavCenter.tg();\n                return;\n            }\n\n            iNavCenter.tg();\n        });\n\n        // 文库\n        iToolbar.add(_docLib_, () => {\n            if (iNavCenter.docLib.counter > 1) {\n                if (!iNavCenter.showed)\n                    iNavCenter.tg();\n                // 选中目录分段\n                iNavCenter.segs.setChecked(_catalog_);\n                // 设置关键字搜索的内容\n                iNavCenter.keyword.input.focus();\n                iNavCenter.keyword.input.val(_vdl_);\n                iNavCenter.keyword.input.select();\n            }\n            else\n                iNavCenter.docLib.show(_, _);\n        });\n\n        // 分隔条\n        iToolbar.addSpliter(_toolbarSpliter_);\n\n        // 段落导航\n        iToolbar.add(_paragraphNav_, () => {\n            iInfoTips.inform([\n                \"开启方式：<br />\" + V_ui_strong(\"三击文档中的「任意段落」\"),\n                \"Open method:<br />\" + V_ui_strong(\"three click \\\"any paragraph\\\" in the document\")\n            ][V_lang_id], 10000, gTrue);\n        });\n\n        // 聚光灯\n        iToolbar.add(_spotlight_, () => {\n            iLaserPointer.hide();\n            if (iSpotlight.tg())\n                iParagraphNav.hide();\n        });\n\n        // 激光笔\n        iToolbar.add(_laserPointer_, () => {\n            iSpotlight.hide();\n            if (iLaserPointer.tg())\n                iParagraphNav.hide();\n        });\n\n        // 打印按钮\n        iToolbar.add(_print_, () => {\n            V_print_ready();\n        });\n\n        // 添加关联组件\n        iNavCenter.toolbar = iToolbar;\n        iSpotlight.toolbar = iToolbar;\n        iLaserPointer.toolbar = iToolbar;\n\n        // 绑定选择字体风格的工具栏按钮\n        iFontTheme.bindButton(iToolbar.btns[_fontTheme_]);\n    }\n    sw.ed(\"    ├ Toolbar: \");\n\n    // 插图浏览器\n    sw.st();\n    iFigNav = new FigureNav();\n    if (iFigNav === gFalse)\n        ALERT(_failed_ + \"iFigNav ]\");\n    sw.ed(\"    ├ Figure Nav: \");\n\n    // ----------------------------------------\n    sw.st();\n\n    // 文档更多内容栏遮罩栏\n    MoreDocContent_init();\n\n    // 脚注\n    iFootNote = new FootNote(new BgMask(\"foot-note\", _bottom_, gTrue));\n    if (iFootNote === gFalse)\n        ALERT(_failed_ + \"iFootNote ]\");\n\n    // 状态栏相关\n    StsDocInfo_init();\n    StsFontTheme_init();\n    StsColorScheme_init();\n    StsLinkMap_init();\n    StsLinkTool_init(new BgMask(_linkChecker_, _right_, gTrue));\n\n    // 状态栏\n    StatusBar_init();\n    StatusBar_add(\"doc-info\", StsDocInfo_ui);\n    StatusBar_add(_fontTheme_, StsFontTheme_ui);\n    StatusBar_add(_color_ + __scheme_, StsColorScheme_ui);\n    StatusBar_add(_link_ + \"-map\", StsLinkMap_ui);\n    StatusBar_add(_linkChecker_, StsLinkTool_resultUI);\n\n    sw.ed(\"    └ Misc: \");\n}\n\n/**\n * 初始化 VLOOK 核心模块\n */\nfunction V_initKernel() {\n    // ----------------------------------------\n    // 加载本文档主题配套的 Logo 图标\n    iStopwatch.st(\"* Document Logo\");\n    let icoLg = V_byClass(_vDocLog_ + _light_).c(_backgroundImage_),\n        icoDk = V_byClass(_vDocLog_ + _dark_).c(_backgroundImage_),\n        linkIcon = \"<\" + _link_ + \" rel='icon' id='\";\n    $(\"head\").ap(linkIcon + _docIcon_ + _light_ + \"' \" + V_attr(_href_ , icoLg.ss(5, icoLg.length - 2)) +___+ V_attr(_type_, _imageXicon_) + \"/>\"\n        + linkIcon + _docIcon_ + _dark_ + \"' \" + V_attr(_href_, icoDk.ss(5, icoDk.length - 2)) +___+ V_attr(_type_, _imageXicon_) + \"/>\");\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 无封面时的处理\n    if (VOM_cover() === gUndefined) {\n        // let pageMode = _;\n        // // 页面模式为 mini 时的处理\n        // if (V_pageMode === _mini_) {\n        //     pageMode = \" mini\";\n        //     JQ_addClass(MoreDocContent_ui_before, _mini_);\n        // }\n        // 添加文档大标题\n        VOM_doc().pp(V_ui_div(_vkIdDocTitle_, _vDoc_ + _title_ + ___ + V_pageMode, V_util_getDocTitle()));\n        // VOM_doc().pp(V_ui_div(_vkIdDocTitle_, _vDoc_ + _title_ + pageMode, V_util_getDocTitle()));\n    }\n\n    // ----------------------------------------\n    // 初始化国际化 UI\n    iStopwatch.st(\"* UI i18n\");\n    V_ui_initI18n();\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 初始化题注生成器配置\n    if (V_util_getParamVal(\"capauto\") === _off_)\n        CaptionGenerator_autoContent = gFalse;\n\n    // ----------------------------------------\n    // 初始化音频数据\n    iStopwatch.st(\"* Audio: \");\n    ExtAudio_init();\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 初始化视频数据\n    iStopwatch.st(\"* Video: \");\n    ExtVideo_init();\n    iStopwatch.ed(_4space_);\n\n    // ========================================\n    // 初始化引用块\n    // 须在 ExtFigure 处理前，避免引用块折叠处理中，对其内含有 svg 颜色替换处理导致 DOM 冲突而失效\n    iStopwatch.st(\"* Quote: \");\n    ExtQuote_init();\n    ExtQuote_adjustHoverStyle();\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 初始化插图数据\n    iStopwatch.st(\"* Figure: \");\n    ExtFigure_init();\n    iStopwatch.ed(_cost_);\n\n    // ----------------------------------------\n    // 初始化表格\n    iStopwatch.st(\"* Table: \");\n    ExtTable_init();\n    iStopwatch.ed(_cost_);\n\n    TableCross_init();\n    // 设置表格阅读模式的开关状态（不指定则默认开启）\n    RowGroup_adjustHoverStyle();\n\n    // ----------------------------------------\n    // 初始化代码块\n    iStopwatch.st(\"* Code Block: \");\n    ExtCodeBlock_init();\n    iStopwatch.ed(_4space_);\n\n    // ========================================\n    // Code Magic 处理\n    // （注意：须在 ExtQuote 初始化之后执行）\n    // 包括了：标签、徽章、引用块着色、刮刮卡、文字注音等\n    iStopwatch.st(\"* Code & Xscript °Magic: \");\n    ColorCode_init();\n    CodeMagic_init();\n    SupSubMagic_preprocess();\n    Progressbar_init();\n    iStopwatch.ed(_4space_);\n    // ========================================\n\n    // ----------------------------------------\n    // 检查页内链接坏链\n    // 因涉及对 xmd 的处理，需要在文库处理之前（DocLib）进行\n    iStopwatch.st(\"* Check Hash Link: \");\n    LinkTool_mdToHtml();\n    LinkTool_checkLink();\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 增强脚注\n    iStopwatch.st(\"* Foot Note: \");\n    FootNote.init();\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 分步分级处理\n    iStopwatch.st(\"* Stepwise: \");\n    BreadcrumbStyle_init();\n    iStopwatch.ed(_4space_);\n\n    // VLOOK UI 统一样式适配处理\n    V_ui_adjustHoverStyle();\n\n    // 主要针对小屏情况，完成表格初始化后进行适配\n    // 如果不是小屏，则由 adjustAll 触发\n    ContentFolder_adjust();\n\n    // ----------------------------------------\n    // 初始化 导航中心、章节导航 数据\n    iStopwatch.st(\"* Adjust NavCenter/ChapterNav/FigureNav/Toolbar/StatusBar\");\n    if (NavCenter.init()) {\n        if (!env.device.mobile)\n            iNavCenter.showHandle();\n\n        iNavCenter.adjust();\n        iChapterNav.adjust();\n        iToolbar.adjust();\n        StatusBar_adjust();\n\n        // 根据设备类型自适应 hover 样式\n        iNavCenter.catalog.adjustHoverStyle();\n        iChapterNav.adjustHoverStyle();\n        iFigNav.adjustHoverStyle();\n    }\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 自动生成可通过 DOM 引用块的目录自动编号\n    ChpAutoNum_initToc();\n\n    // ----------------------------------------\n    // 文档没有任何可索引的对象时，默认不显示导航中心\n    let hasCatalog = iNavCenter.catalog.hasIndexItem(),\n        hasFigure = iNavCenter.figure.hasIndexItem(),\n        hasTable = iNavCenter.table.hasIndexItem(),\n        hasCodeblock = iNavCenter.codeblock.hasIndexItem(),\n        hasMedia = iNavCenter.media.hasIndexItem();\n    if (!hasCatalog && !hasFigure && !hasTable && !hasMedia && !hasCodeblock)\n            iNavCenter.runMode = \"closed\";\n    // 默认选择首个不为空的索引分类\n    else {\n        if (hasCatalog) iNavCenter.segs.setChecked(_catalog_);\n        else if (hasFigure) iNavCenter.segs.setChecked(_figure_);\n        else if (hasTable) iNavCenter.segs.setChecked(_table_);\n        else if (hasCodeblock) iNavCenter.segs.setChecked(_codeblock_);\n        else if (hasMedia) iNavCenter.segs.setChecked(_media_);\n    }\n\n    // ----------------------------------------\n    iStopwatch.st(\"* Binding Event\");\n    // 绑定文档鼠标移动事件，聚光灯跟随鼠标移动\n    document.addEventListener(\"mousemove\", (event) => {\n        iSpotlight.repaint(event);\n        iNavCenter.snap(event);\n    });\n\n    // to-do\n    // mmMindmap_init();\n\n    // 绑定文档的单击事件\n    $(document).uC().ck((event) => {\n        TableCross_hide();\n    });\n\n    // 绑定文档的鼠标滚轮事件\n    document.addEventListener(\"mousewheel\", (event) => {\n        // 忽略处理，提升性能\n        return false;\n    }, false);\n\n    // 绑定文档的滚动事件\n    $(document).on(_scroll_, () => {\n        let currentTime = new Date().getTime(),\n            scrollTop = $(document).scrollTop(),\n            timeInterval = gFalse,\n            docHeight = $(document).h();\n\n        // 显示或隐藏文档更多内容遮罩栏\n        if (scrollTop < 20\n            || scrollTop > (docHeight - 20)\n            || currentTime - V_doc_scroll_lastUpdate > 500)\n                MoreDocContent_refresh(scrollTop);\n\n        // ----------------------------------------\n        // 控制执行频率，避免处理过快影响性能\n        if (scrollTop < 20\n            || scrollTop > (docHeight - 20)\n            || (timeInterval = (currentTime - V_doc_scroll_lastUpdate) > 500)\n            || (timeInterval && Math.abs(scrollTop - V_doc_scroll_lastTop) > 100)) {\n                // 更新控制执行频率相关判断数据\n                V_doc_scroll_update(currentTime, $(document).scrollTop());\n                // 根据是屏幕大小进行不同的适配控制\n                V_ui_adjustAll();\n        }\n\n        // 由于涉及到章节导航栏数据更新等不同逻辑处理，执行频率由 focusHeader 内进行控制\n        iNavCenter.catalog.focusHeader(scrollTop);\n    });\n\n    // 绑定窗口大小缩放事件\n    $(window).on(\"resize\", () => {\n        TableCross_hide();\n        iNavCenter.catalog.focusHeader();\n        V_ui_adjustAll();\n        ExtQuote_uniteColumnsHeight();\n    });\n\n    // 绑定打印前的触发事件\n    window.onbeforeprint = function () {\n        if (V_pageMode === _mini_)\n            return;\n        // 不是通过 VLOOK 打印按钮进行打印时进行提醒\n        if (V_print_mode !== _VLOOK_)\n            ALERT([\n                \"注意！为确保打印正常，建议使用文档内工具栏左侧的【打印】按钮进行打印！\",\n                \"Notice! To ensure normal printing, it is recommended to use the [Print] button on the left side of the toolbar in the document to print!\"\n            ][V_lang_id]);\n    };\n    // 绑定打印后的触发事件\n    window.onafterprint = function () {\n        if (V_pageMode === _mini_)\n            return;\n        V_print_done();\n    };\n\n    // 监听页内锚点链接跳转\n    // 注意：同一个锚点连续点击不会触发该事件\n    $(window).on(\"hashchange\", (event) => {\n        let hash = WINDOW_getHash(),\n            anchor = hash.ss(1, hash.length);\n        if (anchor.x().length === 0 || anchor.sW(\"#\"))\n            return;\n\n        iNavCenter.history.add(hash);\n\n        // 锚点未显示的处理（如所在父元素被隐藏）\n        // let aObj = V_byID(JS_decodeURI(anchor) + \",a\" + V_attrCSS(_name_, anchor));\n        // if (aObj !== gUndefined && aObj.o() !== gUndefined && aObj.oT() === 0) {\n            // let hiddenObj = aObj.closest(_blockquote_);\n            // 若属于被折叠的引用块，则模拟点击展开，并重新定位到该引用块\n            // if (hiddenObj.length > 0 && hiddenObj.isHidden()) {\n            //     let fd = hiddenObj.pr().f(\".\" + _vBlockquoteFolder_);\n            //     if (fd.length > 0) {\n            //         fd.tr(_mouseUp_);\n            //         WINDOW_setHref(hash);\n            //     }\n            // }\n        // }\n\n        // 页内位置改变后，微调滚动条位置\n        if (gLastHash == null || gLastHash !== hash) {\n            // 其中对于 Firefox 若不延时微调会存在微调无效的情况\n            setTimeout(() => {\n                V_ui_tuningScrollTop(JS_decodeURI(anchor));\n            }, env.browser.Firefox ? 300 : 0);\n        }\n        gLastHash = hash;\n\n        // 若导航中心没有显示，则强制进行延时适配处理（如从封面直接到指定章节）\n        if (!iNavCenter.showed)\n            V_ui_adjustAllDelay();\n    });\n\n    iStopwatch.ed(_4space_);\n}\n\n/**\n * 初始化须在页面 body 显示后才能执行的部分\n */\nfunction V_initRestyle() {\n    let sw = new Stopwatch();\n\n    // ----------------------------------------\n    // 重置任务清单样式\n    sw.st();\n    Restyler_forTaskList();\n    sw.ed(\"    ├ TaskList: \");\n\n    // ----------------------------------------\n    // 重置脚本化图表样式，须在以上页面内容恢复显示后再处理\n    sw.st();\n    Restyler_forMermaid();\n    sw.ed(\"    └ Mermaid: \");\n}\n\n// ========================================\n// VLOOK UI 包\nlet V_ui_effect = 0, // 0: 无动效\n    V_ui_processingAdjust= gFalse;\n\n/**\n * 淡入显示\n * @param t 目标对象\n */\nfunction V_ui_show(t) {\n    if (t === gUndefined)\n        return;\n\n    t.c(_visibility_, _visible_)\n        .c(_opacity_, 1);\n}\n\n/**\n * 淡出隐藏\n * @param t 目标对象\n */\nfunction V_ui_hide(t) {\n    if (t === gUndefined)\n        return;\n\n    t.c(_visibility_, _hidden_)\n        .c(_opacity_, 0);\n}\n\nfunction V_ui_wrap_kbd(src) {\n    return \"<kbd>\" + src + \"</kbd>\"\n}\n/**\n * 获得当前 OS 环境下的 Ctrl 键 UI 元素\n */\nfunction V_ui_getCtrlKeyUI(unwrap, short) {\n    let key = short ? \"⌃\"\n        : (env.os.macOS ? \"⌃ control\" : \"⌃ Ctrl\");\n    return unwrap ? key : V_ui_wrap_kbd(key);\n}\n\n/**\n * 获得当前 OS 环境下的 Shift 键 UI 元素\n */\nfunction V_ui_getShiftKeyUI(unwrap, short) {\n    let key = short ? \"⇧\" : \"⇧ shift\";\n    return unwrap ? key : V_ui_wrap_kbd(key);\n}\n\n/**\n * 获得当前 OS 环境下的 Alt / Option 键 UI 元素\n */\nfunction V_ui_getAltKeyUI(unwrap, short) {\n    let str = env.os.macOS\n        ? (short ? \"⌥\" : \"⌥ option\") : \"Alt\";\n    return unwrap ? str : V_ui_wrap_kbd(str);\n}\n\n/**\n * 获得当前 OS 环境下的 Windows / Command 键 UI 元素\n */\nfunction V_ui_getMetaKeyUI(unwrap, short) {\n    let str = env.os.macOS\n        ? (short ? \"⌘\" : \"⌘ command\") : \"Win\";\n    return unwrap ? str : V_ui_wrap_kbd(str);\n}\n\n/**\n * 获得 VLOOK 与技术支持信息内容\n * @returns string VLOOK 与技术支持信息内容\n */\nfunction V_ui_copyrightInfo() {\n    return V_ui_div(_, _vCopyright_,\n        V_ui_svgIcon(_icoVLOOK_, 24, 24, _dark_, _vCopyrightSvgIco_)\n        + _2nbsp_\n        + 'Published with ' + V_ui_a(_, _httpsPrefix_ + \"github.com/MadMaxChow/VLOOK\", V_ui_strong(_VLOOK_), __blank_)\n        + '™ (V24.1) &amp; ' + V_ui_a(_, _httpsPrefix_ + \"www.typora.io\", V_ui_strong(\"Typora\"), __blank_) + '.' + _2nbsp_\n        + 'Support: ' + V_ui_a(_, _httpsPrefix_ + \"qm.qq.com/cgi-bin/qm/qr?k=oB8wpFG_4SEMf1CL9qVy-jMw0CMfSwff&jump_from=webapi\", V_ui_strong(\"QQ Group\"))\n        + ' / ' + V_ui_a(_, 'mailto:67870144@qq.com?subject=Feedback%20about%20VLOOK%20' + V_ver + '&body=Hi,%0D%0A%0D%0A====================%0D%0A%0D%0A' + encodeURI(env.print(gTrue)), V_ui_strong(\"Email\")) + '.'\n    );\n}\n\n/**\n * 判断是否为小屏\n */\nfunction V_ui_isSmallScreen() {\n    return $(window).oW() <= gSmallScreenWidth;\n}\n\n/**\n * 微调页内跳转后的滚动条位置\n * @param anchor 锚点名称，不含 #，如含 # 会自动过滤\n */\nfunction V_ui_tuningScrollTop(anchor) {\n    if (anchor !== gUndefined && anchor.sW(\"#\"))\n        anchor = anchor.ss(1, anchor.length);\n    if (anchor === gUndefined || anchor.x().length === 0 || anchor.sW(\"#\"))\n        return;\n\n    let t = JS_parseInt(iChapterNav.ui.c(_top_)),\n        h = JS_parseInt(iChapterNav.ui.c(_height_)),\n        y = 10,\n        aObj = V_byID(JS_decodeURI(anchor) + \",a\" + V_attrCSS(_name_, anchor)),\n        tag = V_util_getTagName(aObj);\n\n    // h1-6\n    if (\"h1h2h3h4h5h6\".i(tag) > -1) {\n        y += (tag === _h6_)\n            ? (t + h + 16)\n            : (aObj.h() + 10 + (JS_parseInt(tag.ss(1, 2)) - 1) * 6);\n        y -= JS_parseInt(V_util_getVarVal(\"--v-top-margin\"));\n    }\n    // 从底部脚注列表回到脚注位置\n    else if (anchor.sW(_refFootnote_))\n        y += 70;\n    // 其他情况\n    else\n        y += t + h;\n    // 微调滚动位置\n    $(document).scrollTop($(document).scrollTop() - y);\n}\n\n/**\n * 生成 jQuery / CSS 选择器 :not() 的内容\n * @param value 属性值\n */\nfunction V_not(value) {\n    return \":not(\" + value + \")\";\n}\n\n/**\n * 生成 HTML 标签属性与值内容（指定关系运算符）\n * @param attrName 属性名称\n * @param attrValue 属性值\n */\nfunction V_attr(attrName, attrValue) {\n    return attrName + '=\"' + attrValue + '\"';\n}\n\n/**\n * 生成 jQuery / CSS 选择器的属性与值内容\n * @param attrName 属性名称\n * @param attrValue 属性值\n * @param op 关系运算符，不指定时默认为 =，可添加指定前缀，如 * ^ !\n */\nfunction V_attrCSS(attrName, attrValue, op) {\n    if (op === gUndefined)\n        op = \"=\";\n    else\n        op += \"=\";\n    attrValue = (attrValue !== gUndefined) ? op + '\"' + attrValue + '\"': _;\n    if (attrName.length > 0 )\n        attrValue += \"]\";\n    return \"[\" + attrName + attrValue;\n}\n\n/**\n * 生成 SVG 图标\n * @param icon 图标资源集标识\n * @param w 图标宽度\n * @param h 图标高度\n * @param color 内置图标样式 v-svg-ico-xxx 标识：light / dark / alpha / ...\n * @param classValue 扩展补充的 class 样式\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n */\nfunction V_ui_svgIcon(icon, w, h, color, classValue, extAttr) {\n    // class\n    classValue = (classValue !== gUndefined && classValue.length > 0) ? ___+ classValue : _;\n    // ext attr\n    extAttr = (extAttr !== gUndefined && extAttr.length > 0) ? ___+ extAttr : _;\n    return '<svg width=\"' + w + 'px\" height=\"' + h + 'px\" class=\"v-svg-small-ico' + classValue + '\"' + extAttr + '>'\n        + '<use class=\"v-svg-ico-' + color + '\" xlink:href=\"#' + icon + '\">'\n        + '</use></svg>';\n}\nfunction V_ui_svgIcon2(icon, w, h) {\n    return '<svg width=\"' + w + 'px\" height=\"' + h + 'px\">'\n        + '<use xlink:href=\"#' + icon + '\">'\n        + '</use></svg>';\n}\n\n/**\n * 生成 svg 的 symbol 标签（不用于嵌套）\n * @param idValue id 属性值\n * @param content 标签的内容\n */\nfunction V_ui_symbol(idValue, content) {\n    return V_ui_htmlTag(\"symbol\", idValue, _, _, content);\n}\n\n/**\n * 生成 img 标签\n * @param classValue class 属性值\n * @param alt alt 属性值\n * @param src src 属性值\n * @param srcset srcset 属性值\n */\nfunction V_ui_img(classValue, alt, src, srcset) {\n    classValue = (classValue !== gUndefined && classValue.length > 0) ? ___+ V_attr(_class_, classValue) : _;\n    alt = (alt !== gUndefined && alt.length > 0) ? ___+ V_attr(_alt_, alt) : _;\n    src = (src !== gUndefined && src.length > 0) ? ___+ V_attr(_src_, src) : _;\n    srcset = (srcset !== gUndefined && srcset.length > 0) ? ___+ V_attr(_srcset_, srcset) : _;\n    return '<' + _img_ + classValue + alt + src + srcset + '>';\n}\n\n/**\n * 生成 iframe 标签\n * @param name name 属性值\n */\nfunction V_ui_iframe(name) {\n    name = (name !== gUndefined && name.length > 0) ? ___+ V_attr(_name_, name) : _;\n    return V_ui_htmlTag(_iframe_, _, _, name, _);\n}\n\n/**\n * 生成 input 标签\n * @param id id 属性值\n * @param name name 属性值\n * @param type type 属性值\n * @param value value 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n */\nfunction V_ui_input(id, name, type, value, extAttr) {\n    id = (id !== gUndefined && id.length > 0) ? ___+ V_attr(_id_, id) : _;\n    name = (name !== gUndefined && name.length > 0) ? ___+ V_attr(_name_, name) : _;\n    type = (type !== gUndefined && type.length > 0) ? ___+ V_attr(_type_, type) : _;\n    value = (value !== gUndefined && value.length > 0) ? ___+ V_attr(_value_, value) : _;\n    extAttr = (extAttr !== gUndefined && extAttr.length > 0) ? ___+ extAttr : _;\n    return '<' + _input_ + id + name + type + value + extAttr + ' />';\n}\n\n/**\n * 生成 figure 标签\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n*/\nfunction V_ui_figure(classValue, extAttr, content) {\n    return V_ui_htmlTag(\"figure\", _, classValue, extAttr, content);\n}\n\n/**\n * 生成 figcaption 标签\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n*/\nfunction V_ui_figcaption(classValue, extAttr, content) {\n    return V_ui_htmlTag(\"figcaption\", _, classValue, extAttr, content);\n}\n\n/**\n * 生成 nav 标签\n * @param idValue id 属性值\n * @param classValue class 属性值\n * @param content 标签的内容\n */\nfunction V_ui_nav(idValue, classValue, content) {\n    return V_ui_htmlTag(\"nav\", idValue, classValue, _, content);\n}\n\n/**\n * 生成 aside 标签\n * @param idValue id 属性值\n * @param classValue class 属性值\n * @param content 标签的内容\n */\nfunction V_ui_aside(idValue, classValue, content) {\n    return V_ui_htmlTag(\"aside\", idValue, classValue, _, content);\n}\n\n/**\n * 生成 article 标签\n * @param idValue id 属性值\n * @param classValue class 属性值\n * @param content 标签的内容\n */\nfunction V_ui_article(idValue, classValue, content) {\n    return V_ui_htmlTag(\"article\", idValue, classValue, _, content);\n}\n\n/**\n * 生成 header 标签\n * @param idValue id 属性值\n * @param classValue class 属性值\n * @param content 标签的内容\n */\nfunction V_ui_header(idValue, classValue, content) {\n    return V_ui_htmlTag(\"header\", idValue, classValue, _, content);\n}\n\n/**\n * 生成 section 标签\n * @param idValue id 属性值\n * @param classValue class 属性值\n * @param content 标签的内容\n */\nfunction V_ui_section(idValue, classValue, content) {\n    return V_ui_htmlTag(\"section\", idValue, classValue, _, content);\n}\n\n/**\n * 生成 progress 标签\n * @param idValue id 属性值\n * @param classValue class 属性值\n * @param content 标签的内容\n */\n// function V_ui_progress(idValue, classValue, content) {\n//     return V_ui_htmlTag(\"progress\", idValue, classValue, _, content);\n// }\n\n/**\n * 生成 div 标签\n * @param idValue id 属性值\n * @param classValue class 属性值\n * @param content 标签的内容\n */\nfunction V_ui_div(idValue, classValue, content) {\n    return V_ui_htmlTag(\"div\", idValue, classValue, _, content);\n}\n\n/**\n * 生成 div 标签\n * @param idValue id 属性值\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_divExt(idValue, classValue, extAttr, content) {\n    return V_ui_htmlTag(\"div\", idValue, classValue, extAttr, content);\n}\n\n/**\n * 生成 CSS 变量\n * @param varName 变量名称\n */\nfunction V_ui_var(varName) {\n    return 'var(' + varName+ ')';\n}\n\n/**\n * 生成 strong 标签\n * @param content 标签的内容\n */\nfunction V_ui_strong(content) {\n    return V_ui_htmlTag(_strong_, _, _, _, content);\n}\n\n/**\n * 生成 span 标签\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_span(classValue, extAttr, content) {\n    return V_ui_htmlTag(_span_, _, classValue, extAttr, content);\n}\n\n/**\n * 生成 sub 标签\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_sub(classValue, extAttr, content) {\n    return V_ui_htmlTag(_sub_, _, classValue, extAttr, content);\n}\n\n/**\n * 生成 label 标签\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_label(classValue, extAttr, content) {\n    return V_ui_htmlTag(_label_, _, classValue, extAttr, content);\n}\n\n/**\n * 生成 a 标签\n * @param idValue id 属性值\n * @param href href 属性值\n * @param content 标签的内容\n * @param target href 属性值\n */\nfunction V_ui_a(idValue, href, content, target) {\n    href = (href !== gUndefined && href.length > 0) ? ___+ V_attr(_href_, href): _;\n    target = (target !== gUndefined && target.length > 0) ? ___+ V_attr(_target_, target) : _;\n    return V_ui_htmlTag(\"a\", idValue, _, href + target, content);\n}\n\n/**\n * 生成 audio 标签\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_audio(extAttr, content) {\n    return V_ui_htmlTag(_audio_, _, _, extAttr, content);\n}\n\n/**\n * 生成 video 标签\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_video(extAttr, content) {\n    return V_ui_htmlTag(_video_, _, _, extAttr, content);\n}\n\n/**\n * 生成 html 的标签\n * @param tag 标签名称，如：strong, div, span 等\n * @param idValue id 属性值\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_htmlTag(tag, idValue, classValue, extAttr, content) {\n    // id\n    idValue = (idValue !== gUndefined && idValue.length > 0) ? ___+ V_attr(_id_, idValue) : _;\n    // class\n    classValue = (classValue !== gUndefined && classValue.length > 0) ? ___+ V_attr(_class_, classValue) : _;\n    // ext attr\n    extAttr = (extAttr !== gUndefined && extAttr.length > 0) ? ___+ extAttr : _;\n    // content\n    if (content === gUndefined)\n        content = _;\n    return '<' + tag + idValue + classValue + extAttr + '>' + content + '</' + tag + '>';\n}\n\n/**\n * 获取 Alt / Option 修饰键情况\n * @returns boolean true：按下，false：未按下\n */\nfunction V_ui_holdKey_Alt(event) {\n    return (event.altKey);\n}\n\n/**\n * 判断鼠标当前位置是否落在指定对象的区域范围内\n * @param target 指定对象\n * @param event 事件对象\n */\nfunction v_ui_mouseDropIn(target, event) {\n    let mx = event.pageX || event.clientX + document.body.scrollLeft,\n        my = event.pageY || event.clientY + document.body.scrollTop,\n        padding = JS_parseInt(target.c(_paddingTop_)) * 2,\n        borderBottomWidth = JS_parseInt(target.c(_borderBottomWidth_));\n    return !(mx <= target.oL() || mx >= (target.oL() + target.w() + padding)\n        || my <= target.oT() || my >= (target.oT() + target.h() + padding + borderBottomWidth));\n}\n\n/**\n * 将预置颜色标识转换为驼峰格式\n * @param color 预置的颜色标识\n */\nfunction V_ui_campColor(color) {\n    // 渐变色\n    if (color.length > 3) {\n        let gradientColors = V_ui_splitColors(color),\n            count = gradientColors.length,\n            colorStr = _, gColor;\n        for (let i = 0; i < count; i++) {\n            gColor = gradientColors[i];\n            colorStr += gColor.charAt(0).u() + gColor.slice(1);\n        }\n        return colorStr;\n    }\n    // 单色\n    return color.charAt(0).u() + color.slice(1);\n}\n\n/**\n * 拆分渐变的预置颜色标识\n * @param color 预置的颜色标识\n * @return Array[] 颜色标识数组\n */\nfunction V_ui_splitColors(color) {\n    let gradientColors = color.l().sp(/(\\S{2})/i);\n    return gradientColors.filter(item => item !== _);\n}\n\n/**\n * 将 HEX 颜色格式转换为 RGB 数组\n * @param hex 十六进制格式颜色，如：#F1A2C3\n */\nfunction V_ui_hexToRGB(hex) {\n    let rgb = [];\n    rgb.push(parseInt(hex.ss(1, 3), 16));\n    rgb.push(parseInt(hex.ss(3, 5), 16));\n    rgb.push(parseInt(hex.ss(5, 7), 16));\n\n    return rgb;\n}\n\n/**\n * 格式化颜色为 rgba 格式\n * @param rgb RGB 颜色分量数组\n * @param opacity 透明度，0:透明，1:不透明\n */\nfunction V_ui_formatRGBA(rgb, opacity) {\n    return \"rgba(\" + rgb[0] + \",\" + rgb[1] + \",\" + rgb[2] + \",\" + opacity + \")\";\n}\n\n/**\n * 生成文本渐变色 CSS 代码\n * @param gradientColors 渐变色色号内容，如：RdBuYe\n * @param fade 透明度子标识\n * @param suffix 颜色后缀子标识\n */\nfunction V_ui_genGradColorCSS(gradientColors, fade, suffix) {\n    let css = _,\n        count = gradientColors.length,\n        color = _;\n    for (let i = 0; i < count; i++) {\n        color = gradientColors[i];\n        css += V_ui_var(\"--ac-\" + color + fade\n            + (color === \"bk\" ? _ : suffix));\n        if (i < count - 1)\n            css += \",\";\n    }\n    return css;\n}\n\n/**\n * 初始 UI 国际化\n */\nfunction V_ui_initI18n() {\n    iToolbar.btns[_navCenter_].a(_dataTips_, [\n        V_ui_strong(\"隐藏\") + \" / \" + V_ui_strong(\"显示\") + \" 导航中心\",\n        V_ui_strong(\"Hide\") + \" / \" + V_ui_strong(\"Show\") + \" Navigation Center\"\n    ][V_lang_id] + \"\\n\" + V_ui_sub(_, _, V_ui_wrap_kbd(\"O\")));\n\n    iToolbar.btns[_docLib_].a(_dataTips_, [\n        \"浏览文库\",\n        _documentLibrary_\n    ][V_lang_id] + \"\\n\" + V_ui_sub(_, _, V_ui_wrap_kbd(\"L\")));\n\n    iToolbar.btns[_paragraphNav_].a(_dataTips_, [\n        \"段落导航 模式\",\n        \"Paragraph Navigation mode\"\n    ][V_lang_id]);\n\n    iToolbar.btns[_spotlight_].a(_dataTips_, [\n        \"聚光灯\",\n        \"Spot\" + _light_\n    ][V_lang_id] + \"\\n\" + V_ui_sub(_, _, V_ui_wrap_kbd(\"S\")));\n\n    iToolbar.btns[_laserPointer_].a(_dataTips_, [\n        \"激光笔\",\n        \"Laser Pointer\"\n    ][V_lang_id] + \"\\n\" + V_ui_sub(_, _, V_ui_wrap_kbd(\"P\")));\n\n    iToolbar.btns[_print_].a(_dataTips_, [\n        \"打印...\",\n        \"Print...\"\n    ][V_lang_id]);\n\n    iChapterNav.prev.ui.a(_dataTips_, [\n        \"前一章\",\n        \"Previous Chapter\"\n    ][V_lang_id] + \"\\n\" + V_ui_sub(_, _, V_ui_wrap_kbd(\"◄\")));\n\n    iChapterNav.next.ui.a(_dataTips_, [\n        \"后一章\",\n        \"Next Chapter\"\n    ][V_lang_id] + \"\\n\" + V_ui_sub(_, _, V_ui_wrap_kbd(\"►\")));\n\n    iChapterNav.dt.a(_dataTips_, [\n        \"回到封面\",\n        \"Back to cover\"\n    ][V_lang_id]);\n\n    iChapterNav.current.ui.a(_dataTips_, [\n        \"回到本章的开始\",\n        \"Go back to the beginning of this chapter\"\n    ][V_lang_id]);\n\n    iFigNav.btns.prev.a(_title_, \"[ ← ] \" + [\n        \"前一张\",\n        \"Previous\"\n    ][V_lang_id]);\n\n    iFigNav.btns.next.a(_title_, \"[ → ] \" + [\n        \"后一张\",\n        \"Next\"\n    ][V_lang_id]);\n\n    iFigNav.btns.close.a(_title_, \"[ ESC ] \" + [\n        \"关闭\",\n        \"Close\"\n    ][V_lang_id]);\n\n    iFontTheme.ui.f(\".\" + _vFontPackage_).t([\n        \"字体\",\n        _font_\n    ][V_lang_id] +___);\n\n    iFontTheme.ui.f(\".\" + _vFontThemeInfo_).hm([\n        \"若无法连接互联网加载在线版本字体，建议将字体直接下载到本地\",\n        \"If you cannot connect to the Internet to load the online version of the font, it is recommended to download the font directly to the local\"\n    ][V_lang_id] + \" (\" + V_ui_a(_, _httpsPrefix_ + \"github.com/MadMaxChow/openfonts\", [\n        \"主站\",\n        \"Primary\"\n    ][V_lang_id]) + \" | \" + V_ui_a(_, _httpsPrefix_ + \"github.com/MadMaxChow/openfonts\", [\n        \"备用\",\n        \"Standby\"\n    ][V_lang_id]) + \")\");\n\n    iFootNote.buttonSeeAll.ch(\"a\").t([\n        \"查看所有脚注\",\n        \"View all \" + _footnotes_\n    ][V_lang_id] + \" ▶\");\n}\n\n/**\n * 移动到中间\n * @param target 源对象\n */\nfunction V_ui_moveToCenter(target) {\n    let l = ($(window).w() - target.w()) / 2,\n        r = _auto_;\n    if (env.device.mobile) { // 移动端\n        l = 10;\n        r = 10;\n    }\n\n    target.c(_left_, l)\n        .c(_right_, r)\n        .c(_top_, ($(window).h() - target.h()) / 2);\n}\n\n/**\n * 移动到中间\n * @param source 源对象\n * @param target 目标对象\n */\nfunction V_ui_moveToTarget(source, target) {\n    let l = target.oL(),\n        w = source.w() + JS_parseInt(source.c(_paddingLeft_))\n            + JS_parseInt(source.c(_paddingRight_))\n            + JS_parseInt(source.c(_borderWidth_)) * 2;\n\n    if (l + w + 10 > $(window).w())\n        l = $(window).w() - w - 10;\n\n    source.c(_left_, l)\n        .c(_top_, target.oT() - $(document).scrollTop() + target.h() + 10);\n}\n\n/**\n * 进行文档导航相关的 UI 元素的适配处理\n */\nfunction V_ui_adjustAll() {\n    if (V_ui_processingAdjust)\n        return;\n\n    V_ui_processingAdjust = gTrue;\n\n    if (iNavCenter.adjust())\n        ContentFolder_adjust();\n    iChapterNav.adjust();\n    iToolbar.adjust();\n\n    V_ui_processingAdjust = gFalse;\n}\n\n/**\n * 模拟等待页面完成跳转后，再进行导航中心布局自适应处理\n */\nfunction V_ui_adjustAllDelay() {\n    setTimeout(() => {\n        V_ui_adjustAll();\n        ExtQuote_uniteColumnsHeight();\n    }, 500);\n}\n\n/**\n * 根据设备类型自适应hover样式\n */\nfunction V_ui_adjustHoverStyle() {\n    // 移动设备时解绑样式事件\n    if (env.device.mobile) {\n        $(_vBtn__BtnGroup_).uH();\n        V_byClass(_vSegmentBtn_).uH();\n        V_byClass(_vAccentBtn_).uH();\n        StsFontTheme_ui.uH();\n        StsColorScheme_ui.uH();\n        StsLinkMap_ui.uH();\n        V_byID(_docLibToc_ + \">.\" + _vDocLibItem_).uH();\n        V_byClass(_vStdCode_ + \",.\" + _vTag_ + \",.\" + _vBadgeName_).uH();\n        V_byClass(_vBadgeValue_).uH();\n    }\n    // 非移动设备时绑定样式事件\n    else {\n        // 所有常规按钮 hover 事件处理\n        V_ui_bindHover($(_vBtn__BtnGroup_));\n        // 所有导航中心分段控制按钮 hover 事件处理\n        V_ui_bindHover(V_byClass(_vSegmentBtn_));\n        // 所有辅助按钮 hover 事件处理\n        V_ui_bindHover(V_byClass(_vAccentBtn_));\n        // 状态栏上的按钮\n        V_ui_bindHover(StsFontTheme_ui);\n        V_ui_bindHover(StsColorScheme_ui);\n        V_ui_bindHover(StsLinkMap_ui);\n        // 文库按钮 hover 事件处理\n        V_ui_bindHover(V_byID(_docLibToc_ + \">.\" + _vDocLibItem_));\n        // 代码、标签类 hover 事件处理\n        V_ui_bindHover(V_byClass(_vBadgeValue_), gTrue);\n    }\n}\n\n/**\n * 为对象绑定 mouseenter 和 mouseleave 事件\n * @param target 目标对象\n * @param cancleParent 是否临时模拟取消父元素的 hover 处理（即 mouseenter 和 mouseleave）\n */\nfunction V_ui_bindHover(target, cancleParent) {\n    target.on(_mouseEnter_, (event) => {\n        let _t = $(event.currentTarget);\n        JQ_addClass(_t, _hover_);\n        if (cancleParent)\n            JQ_removeClass(_t.p(), _hover_);\n    }).on(_mouseLeave_, (event) => {\n        let _t = $(event.currentTarget);\n        JQ_removeClass(_t, _hover_);\n        if (cancleParent)\n            _t.p().tr(_mouseEnter_);\n    });\n}\n\n/**\n * 为对象取消 hover 事件绑定\n * @param t 目标对象\n */\nfunction V_ui_unbindHover(t) {\n    t.unbind(_mouseEnter_).unbind(_mouseLeave_);\n}\n\n/**\n * 初始化动效处理\n */\nfunction V_ui_initEffectLevel() {\n    // 不启用动效\n    if (V_ui_effect < 1)\n        V_util_setVarVal(\"--v-trans-value\", _none_);\n    // 动效等级为 2 或更高级时才开启毛玻璃动效（如遮罩、插图浏览器背景）\n    else if (V_ui_effect >= 2)\n        JQ_addClass(V_byClass(_vBackdropBlurs_), _enabled_);\n    // 以下动效等级为 1 或更高级时才开启\n    V_ui_addAnimate($(\"a kbd,a \" + _img_));\n}\nfunction V_ui_initEffectLevel2() {\n    if (V_ui_effect >= 2)\n        JQ_addClass(V_byClass(_vBackdropBlurs_), _enabled_);\n}\n\n/**\n * 为指定对象添加过渡动画\n * @param t 目标对象\n * @param css 应用的属性，不指定时默认为 “all”\n */\nfunction V_ui_addAnimate(t, css) {\n    if (V_ui_effect >= 1) {\n        if  (css === gUndefined) {\n            JQ_addClass(t, _vTransitionAll_);\n        }\n        else {\n            let attrSet = css.sp(___);\n            for (let i = 0; i < attrSet.length; i++)\n                JQ_addClass(t, _vTransition__ + attrSet[i]);\n        }\n    }\n}\n\n/**\n * 为指定对象移除过渡动画\n * @param t 目标对象\n * @param css 应用的属性，不指定时默认为 “all”\n */\nfunction V_ui_removeAnimate(t, css) {\n    if  (css === gUndefined)\n        JQ_removeClass(t, _vTransitionAll_);\n    else {\n        let attrSet = css.sp(___);\n        for (let i = 0; i < attrSet.length; i++)\n            JQ_removeClass(t, _vTransition__ + attrSet[i]);\n    }\n}\n\n/**\n * 初始化热键\n */\nfunction V_ui_initHotkey() {\n    // 键盘按下事件\n    $(document).on(_keydown_, (event) => {\n        const // code = event.code,//event.keyCode || event.which || event.charCode,\n            key = event.key,\n            combKeys = (event.ctrlKey ? V_ui_getCtrlKeyUI(true) : _)\n                + (event.shiftKey ? V_ui_getShiftKeyUI(true) : _)\n                + (event.altKey ? V_ui_getAltKeyUI(true) : _)\n                + (event.metaKey ? V_ui_getMetaKeyUI(true) : _);\n\n        // DEBUG(`CombKeys[${combKeys} ${String.fromCharCode(code)} (${key})]`);\n        DEBUG(`CombKeys[${combKeys}] key[${key}] code[${event.code}]`);\n\n        // 按下 alt / option 键\n        if (V_ui_holdKey_Alt(event) === gTrue) {\n            ContentAssistor_toggleCopyMode(gTrue);\n        }\n\n        // 热键操作处理\n        iSpotlight.disposeHotkey(key, combKeys, event);\n        iLaserPointer.disposeHotkey(key, combKeys, event);\n        iParagraphNav.disposeHotkey(key, combKeys, event);\n        WelcomePage_disposeHotkey(key, combKeys, event);\n        iFigNav.disposeHotkey(key, combKeys, event);\n        iNavCenter.disposeHotkey(key, combKeys, event);\n        iFontTheme.disposeHotkey(key, combKeys, event);\n        iInfoTips.disposeHotkey(key, combKeys, event);\n        iFootNote.disposeHotkey(key, combKeys, event);\n        LinkTool_disposeHotkey(key, combKeys, event);\n\n        // 文档的热键操作处理，只在文档为当前焦点且没有弹层时才有效\n        if (V_doc_block || document.activeElement.tagName.l() !== \"body\")\n            return;\n\n        // 逐章导航热键操作处理\n        iChapterNav.disposeHotkey(key, combKeys, event);\n\n        let handled = false;\n        switch (key) {\n            case 'o': // O 显示/隐藏导航中心\n                __showHideNavCenter();\n                handled = true;\n                break;\n            case '/': // / 导航中心搜索\n                // 与 Firefox 的 / 快捷键会存在冲突\n                // 所以针对 Firefox，快捷键为 Ctrl + / 或 Cmd + /\n                // 阻止默认的浏览器行为\n                event.preventDefault();\n                if (!iNavCenter.showed) {\n                    __showHideNavCenter();\n                }\n                iNavCenter.keyword.input.focus();\n\n                // 自动读取并粘贴剪粘板的文本内容\n                navigator.clipboard.readText().then((value) => {\n                        iNavCenter.keyword.input.val(value);\n                        iNavCenter.keyword.input.select();\n                    }).catch((value) => {\n                        ERROR(\"GET CLIPBOARD FAILED：\", value);\n                    });\n                handled = true;\n                break;\n            case 'l': // L 文库\n                if (iNavCenter.docLib.enabled)\n                    iToolbar.btns[_docLib_].tr(_click_);\n                handled = true;\n                break;\n            case 'd': // D Light / Dark Mode\n                StsColorScheme_ui.tr(_click_);\n                handled = true;\n                break;\n            case 'a': // A 字体风格\n                if (iFontTheme.ui.isHidden())\n                    StsFontTheme_ui.tr(_click_);\n                else\n                    iFontTheme.hide();\n                handled = true;\n                break;\n            case 'm': // M 链接地图\n                if (!StsLinkMap_ui.isHidden() && !LinkTool_isShowed())\n                    StsLinkMap_ui.tr(_click_);\n                else\n                    LinkTool_hide.hide();\n                handled = true;\n                break;\n            case 'p': // P 激活笔\n                iParagraphNav.hide();\n                iSpotlight.hide();\n                iLaserPointer.tg();\n                handled = true;\n                break;\n            case 's': // S 聚光灯\n                iParagraphNav.hide();\n                iLaserPointer.hide();\n                iSpotlight.tg();\n                handled = true;\n                break;\n            case _escape_: // ESC 退出处理\n                // 表格为阅读模式时，则退出\n                if (!TableCross_ui.isHidden()) {\n                    TableCross_disable();\n                    handled = true;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n\n        function __showHideNavCenter() {\n            if (iFigNav.ui.isShowed())\n                return;\n            iToolbar.btns[_navCenter_].tr(_click_);\n        }\n    });\n\n    // 松开任意键\n    $(document).on(\"keyup\", (event) => {\n        // 更新复制模式\n        if (ContentAssistor_copyAsMarkdown === gTrue)\n            ContentAssistor_toggleCopyMode(gFalse);\n    });\n}\n// VLOOK UI 包\n// ========================================\n\n// ========================================\n// Gray Mode\n/**\n * 初始化 Gray Mode\n */\nfunction GrayMode_init() {\n    // 先判断是否通过 query 参数临时停用\n    let grayModeSwitcher = V_util_getParamVal(\"gray\");\n    if (grayModeSwitcher === _off_)\n        return;\n\n    // 获取当前日期\n    const date = new Date(),\n        today = __padZero(date.getMonth() + 1)\n            + \"-\" + __padZero(date.getDate());\n\n    // 获取需要增加的日期集合\n    let grayMode = V_util_getMetaByName(_vlook__ + \"gray-mode\"),\n        grayModeDaySet = [];\n\n    // 处理指定要增加的日期集合\n    if (grayMode !== gUndefined) {\n        if (/^((\\d{1,2}-\\d{1,2});?)+$/g.test(grayMode.x())) {\n            let addSet = grayMode.sp(\";\");\n            for (let i = 0; i < addSet.length; i++) {\n                let item = _,\n                    itemSet = addSet[i].sp(\"-\");\n                // 补零处理\n                for (let j = 0; j < itemSet.length; j++) {\n                    item += __padZero(JS_parseInt(itemSet[j]))\n                        + (j === 0 ? \"-\" : _);\n                }\n                grayModeDaySet.push(item);\n            }\n        }\n    }\n\n    // 中文语言环境中，默认添加的日期\n    if (V_lang_id === 0)\n        // 注意预置的默认日期需要补零处理，如：04-01\n        grayModeDaySet.push(\"12-13\"); // 中国国家公祭日 12-13\n\n    // 今天如果与 Gray Mode 日期集任一日期匹配则启用\n    if (grayModeDaySet.indexOf(today) > -1)\n        DOM_body().c(_filter_, \"grayscale(100%)\");\n\n    // 月份、日期前补零对齐\n    function __padZero(value) {\n        return value < 10 ? `0${value}` : value;\n    }\n}\n// Gray Mode\n// ========================================\n\n// ========================================\n// VLOOK 语言类\nlet V_lang_id = 1;\n\n/**\n * 初始化语言\n */\nfunction V_lang_init() {\n    switch (env.language.base) {\n        case \"zh\":\n            V_lang_id = 0; // 中（简）\n            break;\n        default:\n            V_lang_id = 1; // 默认：英语\n    }\n}\n// V.lang\n// ========================================\n\n// ========================================\n// 文档类\nlet V_doc_block = gFalse; // 当前文档是否被模态窗口阻塞\n\n// 滚动信息\nlet V_doc_scroll_lastUpdate = 0, // 最后一次根据滚动变动更新 UI 的时间\n    V_doc_scroll_lastTop = 0; // 最后一次记录的滚动位置\n/**\n * 更新页面滚动信息\n *\n * @param u 最后更新滚动信息的时间时间\n * @param t 最后更新的滚动位置\n */\nfunction V_doc_scroll_update(u, t) {\n    V_doc_scroll_lastUpdate = u;\n    V_doc_scroll_lastTop = t;\n}\n\n/**\n * 冻结文档滚动\n */\nfunction V_doc_scroll_freeze() {\n    JQ_exchangeClass(DOM_body(), _unfreeze_, _freeze_);\n}\n\n/**\n * 解冻文档滚动\n */\nfunction V_doc_scroll_unfreeze() {\n    JQ_exchangeClass(DOM_body(), _freeze_, _unfreeze_);\n}\n\n// 内容计数器\nlet V_doc_counter_img = 0, // 图片总数\n    V_doc_counter_figure = 0, // 插图总数\n    V_doc_counter_postcard = 0, // 明信片数量\n    V_doc_counter_table = 0, // 表格总数\n    V_doc_counter_codeblock = 0, // 代码块总数\n    V_doc_counter_audio = 0, // 非 mini 模式音频总数\n    V_doc_counter_audiomini = 0, // mini 模式音频总数\n    V_doc_counter_video = 0, // 视频总数\n    V_doc_counter_details = 0; // 详情总数\n\n/**\n * 初始化外部链接（如：http://、https://、ftp://、站内链接等），为其添加 target 参数\n */\nfunction V_doc_link_adjustExternal() {\n    $(\"a\" + V_not(V_attrCSS(_href_, \"#\", \"^\"))).e((index, element) => {\n        let a = $(element);\n        a.a(_target_, a.a(_href_));\n    });\n}\n// ========================================\n\n// ========================================\n// 打印类\n// 打印模式。none：指由直接使用浏览器自带的打印，vlook：指先通过 vlook 进行预处理\nlet V_print_mode = _none_;\n\n/**\n * 打印文档前处理\n */\nfunction V_print_ready() {\n    V_print_mode = _VLOOK_;\n\n    // 若当前为 Dark Mode 则强制临时切换为 Light 模式\n    if (ColorScheme.scheme === _dark_) {\n        ColorScheme.schemeBeforePrint = ColorScheme.scheme;\n        ColorScheme.scheme = _light_;\n        ColorScheme.refresh();\n    }\n\n    // 将 Mermaid 图表题注 width 等属性临时禁用，并调整为 100%，以适应打印纸张宽度\n    V_byClass(_vCaption_Mermaid_).e((index, element) => {\n        let _t = $(element);\n        _t.a(_beforePrintWidth_, _t.c(_width_));\n        _t.c(_width_, _100pc_);\n    });\n\n    // 将 Mermaid 图表的 width, max-width 等属性临时禁用，并调整为 100%，以适应打印纸张宽度\n    V_byClass(_vCaption_Mermaid_ +___+ _svg_).e((index, element) => {\n        let _t = $(element);\n        if (_t.a(_width_) === _100pc_) {\n            // 针对流程图\n            if (_t.a(_style_).i(_maxWidth_ + \":\") > -1) {\n                _t.a(_beforePrintMaxWidth_, _t.c(_maxWidth_));\n                _t.c(_maxWidth_, _);\n            }\n            // 针对状态机图\n            else if (_t.a(_style_).i(_width_ + \":\") > -1) {\n                _t.a(_beforePrintWidth_, _t.c(_width_));\n                _t.c(_width_, _100pc_);\n            }\n        }\n        else { // 针对顺序图\n            _t.a(_beforePrintWidth_, _t.a(_width_));\n            _t.c(_width_, _100pc_);\n        }\n    });\n\n    // 展开折叠的引用块\n    $(_details_ + V_not(V_attrCSS(_open_))).e((index, element) => {\n        $(element).ch(_summary_).tr(_click_);\n    });\n\n    // 展开所有折叠的长内容\n    $(V_attrCSS(_dataContentFolded_, _true_)).e((index, element) => {\n        $(element).tr(_mouseUp_);\n    });\n\n    // 展开所有折叠的表格行\n    $(_vTblRowGBtn_).e((index, element) => {\n        RowGroup_open($(element).p().p());\n    });\n\n    // 隐藏画中画\n    PicInPic_hide();\n\n    // 若存在「刮刮卡」内容，则先让用户确认是否显示\n    let coatings = V_byClass(_vCoating_);\n    if (coatings.length > 0) {\n        if (confirm(\"文档含有「刮刮卡」内容，打印前是否显示实际内容？\")) {\n            coatings.e((index, element) => {\n                let _t = $(element);\n                if (_t.a(_dataCoatingShowed_).sW(\"f\"))\n                    Coating_show(_t);\n            });\n        }\n    }\n\n    // 调用浏览器的打印功能\n    // 延后是为以上相关的异步和界面完成刷新\n    setTimeout(() => {\n        window.print();\n    }, 2000);\n}\n\n/**\n * 打印文档后处理\n */\nfunction V_print_done () {\n    // 若打印前为 Dark Mode 则先恢复为 Dark Mode\n    if (ColorScheme.schemeBeforePrint === _dark_) {\n        ColorScheme.tg();\n    }\n\n    // 恢复打印前的配置，详见 V_print_ready()\n    V_byClass(_vCaption_Mermaid_).e((index, element) => {\n        let _t = $(element);\n        _t.c(_width_, _t.a(_beforePrintWidth_));\n        JQ_removeAttr(_t, _beforePrintWidth_);\n    });\n\n    // 恢复打印前的配置，详见 V_print_ready()\n    V_byClass(_vCaption_Mermaid_ +___+ _svg_).e((index, element) => {\n        let _t = $(element);\n        if (_t.a(_width_) === _100pc_) {\n            // 针对流程图\n            if (_t.a(_style_).i(_maxWidth_ + \":\") > -1) {\n                _t.c(_maxWidth_, _t.a(_beforePrintMaxWidth_));\n                JQ_removeAttr(_t, _beforePrintMaxWidth_);\n            }\n            // 针对状态机图\n            else if (_t.a(_style_).i(_width_ + \":\") > -1) {\n                _t.c(_width_, _t.a(_beforePrintWidth_));\n                JQ_removeAttr(_t, _beforePrintWidth_);\n            }\n        } else { // 针对顺序图\n            _t.c(_width_, _t.a(_beforePrintWidth_));\n            JQ_removeAttr(_t, _beforePrintWidth_);\n        }\n    });\n\n    V_print_mode = _none_;\n}\n\n// ========================================\n// VLOOK 埋点数据统计\n// 上报事件的累计次数，用于标识不同的上报事件 iframe 的 id\nlet V_report_count =  0;\n\n/**\n * 提交统计数据\n */\nfunction V_report_submit(loadTimeCost) {\n    // VLOOK 基本信息\n    let sd = \"?p=vlook\"\n        + \"&ver=\" + V_ver\n        + \"&thm=\" + V_util_getTemplateThemeName();\n\n    if (1 === 2) {\n        sd += \"&d=\" + (env.device.mobile ? \"mob\" : _) // 设备类型\n            + \"&dpr=\" + env.display.DPR; // DPR\n\n        // OS 信息\n        sd += \"&os=\";\n        if (env.os.macOS)\n            sd += \"macOS\";\n        else if (env.os.Windows)\n            sd += \"Windows\";\n        else if (env.os.iOS)\n            sd += \"iPhone\";\n        else if (env.os.Linux)\n            sd += \"iPhone\";\n        else\n            sd += \"others\";\n\n        // 浏览器及版本\n        sd += \"&b=\";\n        if (env.browser.Edge)\n            sd += \"edge&bv=\" + env.browserVer.Edge;\n        else if (env.browser.Chrome)\n            sd += \"chrome&bv=\" + env.browserVer.Chrome;\n        else if (env.browser.Firefox)\n            sd += \"firefox&bv=\" + env.browserVer.Firefox;\n        else if (env.browser.Safari)\n            sd += \"safari&bv=\" + env.browserVer.Safari;\n        else\n            sd += \"others&bv=\";\n\n        // 浏览器的颜色方案\n        sd += \"&cs=\" + V_util_getVarVal(_varColorScheme_).rA('\"', _).x();\n\n        sd += \"&lang=\" + V_lang_id // 浏览器语言\n            + \"&size=\" + VOM_doc().t().length // 文档大小\n            + \"&time=\" + loadTimeCost; // 加载文档时间\n\n        // 图片插图数据\n        sd += \"&\" + _img_ + \"=\" + V_byClass(_vFig_).length\n            + \"&\" + _img_ + \"-fold=\" + $(\"p\" + V_attrCSS(_dataContainer_, _img_) + V_attrCSS(_dataContentFolded_, _true_)).length\n            + \"&\" + _img_ + \"-fill=\" + $(_img_ + V_not(V_attrCSS(_dataImgFill_))).length\n            + \"&\" + _img_ + \"-\" + _invert_ + \"=\" + $(_img_ + V_attrCSS(_dataDarkSrc_, _invert_)).length\n            + \"&\" + _img_ + \"-alter=\" + $(_img_ + V_attrCSS(_dataDarkSrc_, _alter_)).length\n            + \"&\" + _img_ + \"-cap1=\" + $(_div_ + V_attrCSS(_id_, _vkIdFig_, \"^\") + V_attrCSS(_dataIdFigType_, _img_) +___+ _vCap1_).length\n            // + \"&\" + _img_ + \"-cap1=\" + $(_div_ + V_attrCSS(_id_, _vkIdFig_, \"^=\") + V_attrCSS(_dataIdFigType_, _img_) +___+ _vCap1_).length\n            + \"&\" + _img_ + \"-cap2=\" + $(_div_ + V_attrCSS(_id_, _vkIdFig_, \"^\") + V_attrCSS(_dataIdFigType_, _img_) +___+ _vCap2_).length;\n            // + \"&\" + _img_ + \"-cap2=\" + $(_div_ + V_attrCSS(_id_, _vkIdFig_, \"^=\") + V_attrCSS(_dataIdFigType_, _img_) +___+ _vCap2_).length;\n\n        // Mermaid 插图数据\n        let mermaid = V_byClass(_mdDiagramPanel_);\n        sd += \"&mm=\" + mermaid.length\n            + \"&mm-fold=\" + $(_div_ + V_attrCSS(_dataContainer_, _svg_) + V_attrCSS(_dataContentFolded_, _true_)).length\n            + \"&mm-cap1=\" + $(_div_ + V_attrCSS(_id_, _vkIdFig_, \"^\") + V_attrCSS(_dataIdFigType_, _svg_) +___+ _vCap1_).length\n            // + \"&mm-cap1=\" + $(_div_ + V_attrCSS(_id_, _vkIdFig_, \"^=\") + V_attrCSS(_dataIdFigType_, _svg_) +___+ _vCap1_).length\n            + \"&mm-cap2=\" + $(_div_ + V_attrCSS(_id_, _vkIdFig_, \"^\") + V_attrCSS(_dataIdFigType_, _svg_) +___+ _vCap2_).length;\n            // + \"&mm-cap2=\" + $(_div_ + V_attrCSS(_id_, _vkIdFig_, \"^=\") + V_attrCSS(_dataIdFigType_, _svg_) +___+ _vCap2_).length;\n\n        // Mermaid 音频数据\n        sd += \"&audio=\" + $(_audio_).length\n            + \"&mm-cap1=\" + $(_div_ + V_attrCSS(_id_, _vkIdAudio_, \"^\") +___+ _vCap1_).length\n            // + \"&mm-cap1=\" + $(_div_ + V_attrCSS(_id_, _vkIdAudio_, \"^=\") +___+ _vCap1_).length\n            + \"&mm-cap2=\" + $(_div_ + V_attrCSS(_id_, _vkIdAudio_, \"^\") +___+ _vCap2_).length;\n            // + \"&mm-cap2=\" + $(_div_ + V_attrCSS(_id_, _vkIdAudio_, \"^=\") +___+ _vCap2_).length;\n\n        // Mermaid 视频数据\n        sd += \"&video=\" + $(_video_).length\n            + \"&mm-cap1=\" + $(_div_ + V_attrCSS(_id_, _vkIdVideo_, \"^\") +___+ _vCap1_).length\n            // + \"&mm-cap1=\" + $(_div_ + V_attrCSS(_id_, _vkIdVideo_, \"^=\") +___+ _vCap1_).length\n            + \"&mm-cap2=\" + $(_div_ + V_attrCSS(_id_, _vkIdVideo_, \"^\") +___+ _vCap2_).length;\n            // + \"&mm-cap2=\" + $(_div_ + V_attrCSS(_id_, _vkIdVideo_, \"^=\") +___+ _vCap2_).length;\n\n        // Mermaid 图的细类\n        let pie = 0,\n            flow = 0,\n            flowSTART = 0,\n            flowINIT = 0,\n            state = 0,\n            seq = 0,\n            classD = 0,\n            gantt = 0;\n        mermaid.e((index, element) => {\n            let _t = $(element);\n            if (_t.f(\"g.legend\").length > 0)\n                pie++; // 饼图\n            else if (_t.f(\"g.output g.nodes\").length > 0) {\n                flow++; // 流程图\n                if (_t.f(\"g.output g.nodes g#START.node\").length > 0)\n                    flowSTART++; // VLOOK 标准的流程图\n                else if (_t.f(\"g.output g.nodes g#INIT.node\").length > 0)\n                    flowINIT++; // VLOOK 标准的状态机图\n            }\n            else if (_t.f(\"g.stateGroup\").length > 0)\n                state++; // 状态机图（原生）\n            else if (_t.f(\"g rect.actor\").length > 0)\n                seq++; // 顺序图\n            else if (_t.f(\"g.classGroup\").length > 0)\n                classD++; // 类图\n            else if (_t.f(\"g rect.section\").length > 0)\n                gantt++; // 甘特图\n        });\n        sd += \"&mm-pie=\" + pie\n            + \"&mm-flow=\" + flow\n            + \"&mm-flow-S=\" + flowSTART\n            + \"&mm-flow-I=\" + flowINIT\n            + \"&mm-state=\" + state\n            + \"&mm-seq=\" + seq\n            + \"&mm-class=\" + classD\n            + \"&mm-gantt=\" + gantt;\n\n        // 表格数据\n        sd += \"&tbl=\" + $(_table_).length\n            + \"&tbl-fold=\" + $(_figure_ + V_attrCSS(_dataContainer_, _table_) + V_attrCSS(_dataContentFolded_, _true_)).length\n            + \"&tbl-cap1=\" + $(_div_ + V_attrCSS(_id_, _vkIdTbl_) +___+ _vCap1_).length\n            + \"&tbl-cap2=\" + $(_div_ + V_attrCSS(_id_, _vkIdTbl_) +___+ _vCap2_).length;\n\n        // 表格列格式数据\n        let fmBold = 0,\n            fmEm = 0,\n            fmUnderline = 0,\n            fmMark = 0,\n            fmDel = 0,\n            fmChk = 0,\n            fmNum = 0;\n        $(_table_ + V_attrCSS(_dataColumnFmting_, _true_)).e((index, element) => {\n            let _t = $(element);\n            if (_t.f(_thead_ + \" .\" + _vTblColFmt_Bold_).length > 0)\n                fmBold++;\n            if (_t.f(_thead_ + \" .\" + _vTblColFmt_Em_).length > 0)\n                fmEm++;\n            if (_t.f(_thead_ + \" u\").length > 0)\n                fmUnderline++;\n            if (_t.f(_thead_ + \" .\" + _vTblColFmtMark_).length > 0)\n                fmMark++;\n            if (_t.f(_thead_ +___+ _del_).length > 0)\n                fmDel++;\n            if (_t.f(_thead_ + \" .\" + _vTblColFmt_Chkbox_).length > 0)\n                fmChk++;\n            if (_t.f(_thead_ + \" .\" + _vTblColFmtNum_).length > 0)\n                fmNum++;\n        });\n        sd += \"&tbl-fm-b=\" + fmBold\n            + \"&tbl-fm-em=\" + fmEm\n            + \"&tbl-fm-u=\" + fmUnderline\n            + \"&tbl-fm-m=\" + fmMark\n            + \"&tbl-fm-d=\" + fmDel\n            + \"&tbl-fm-chk=\" + fmChk\n            + \"&tbl-fm-num=\" + fmNum;\n\n        // 带单元格合并的表格数\n        sd += \"&tbl-cell-merge=\" + $(_table_ + V_attrCSS(_dataCellMerge_, _true_)).length;\n\n        // 带行折叠的表格数\n        sd += \"&tbl-row-group=\" + $(_table_ + V_attrCSS(_dataRowGroup_, _true_)).length;\n\n        // 代码块数据\n        sd += \"&cb=\" + V_byClass(_vFences_).length\n            + \"&cb-fold=\" + $(\"p\" + V_attrCSS(_dataContainer_, _pre_) + V_attrCSS(_dataContentFolded_, _true_)).length\n            + \"&cb-cap1=\" + $(_div_ + V_attrCSS(_id_, _vkIdCodeblock_) +___+ _vCap1_).length\n            + \"&cb-cap2=\" + $(_div_ + V_attrCSS(_id_, _vkIdCodeblock_) +___+ _vCap2_).length;\n\n        // 标签数据\n        sd += \"&tag=\" + $(_code_ + V_attrCSS(_class_, _vTag_)).length\n            + \"&badge=\" + $(_code_ + V_attrCSS(_class_, _vBadgeName_)).length;\n\n        // 折叠引用块数据\n        sd += \"&dt=\" + $(_details_).length;\n\n        // 脚注数据\n        sd += \"&fn=\" + V_byClass(\"md-footnote\").length;\n\n        // 当前文档的 URL\n        sd += \"&url=\" + WINDOW_getHref();\n    }\n\n    // 提交统计数据\n    let // vlookStatViaGitee = $(_iframe_ + V_attrCSS(_name_, _vlookStatGitee_)),\n        vlookStatViaGithub = $(_iframe_ + V_attrCSS(_name_, _vlookStatGithub_)),\n        vlookStatViaCloudFlare = $(_iframe_ + V_attrCSS(_name_, _vlookStatCloudFlare_));\n\n    // vlookStatViaGitee.a(_src_, _httpsPrefix_ + \"madmaxchow.gitee.io/vlook/act/\" + (V_debugMode ? \"dev-\" : _) + \"stat-gitee.html\" + encodeURI(sd));\n    // DEBUG(\"STAT DATA (Gitee):\", vlookStatViaGitee.a(_src_));\n\n    vlookStatViaGithub.a(_src_, _httpsPrefix_ + \"madmaxchow.github.io/VLOOK/act/\" + (V_debugMode ? \"dev-\" : _) + \"stat-github.html\" + encodeURI(sd));\n    DEBUG(\"STAT DATA (GitHub):\", vlookStatViaGithub.a(_src_));\n\n    vlookStatViaCloudFlare.a(_src_, _httpsPrefix_ + _vlook__ + \"doc.pages.dev/act/\" + (V_debugMode ? \"dev-\" : _) + \"stat-cloudflare.html\" + encodeURI(sd));\n    DEBUG(\"STAT DATA (CloudFlare):\", vlookStatViaCloudFlare.a(_src_));\n}\n// VLOOK 埋点数据统计\n// ========================================\n\n// ==================== 随机颜色类 ==================== //\n\nlet RandomColor_palette = []; // 不相似颜色的色板\n\n/**\n * 生成随机颜色\n * @returns number[] R/G/B 颜色分量是数组\n */\nfunction RandomColor_generate() {\n    let c = [0, 0, 0];\n    c[0] = Math.floor(Math.random() * 255);\n    c[1] = Math.floor(Math.random() * 255);\n    c[2] = Math.floor(Math.random() * 255);\n    return c;\n}\n\n/**\n * 生成不相似的随机颜色\n * @returns number[] R/G/B 颜色分量是数组\n */\nfunction RandomColor_dissimilarRgb() {\n    // 色板为空时，生成随机颜色后直接返回\n    let c = [0, 0, 0];\n    if (RandomColor_palette.length === 0) {\n        c = RandomColor_generate();\n        RandomColor_palette.push(c);\n        return c;\n    }\n\n    // 色板不为空时，避免相似的颜色\n    let flag = gFalse,\n        t = 0,\n        d = [0, 0, 0];\n\n    // 随机生成不相似的颜色（最多尝试次数上限为 20）\n    while (!flag && t < 20) {\n        c = RandomColor_generate();\n        // 判断新生成的随机颜色，色板中是否已有相似的\n        let idx = 0;\n        for (let i = 0; i < RandomColor_palette.length; i++) {\n            idx = i;\n            d[0] = (RandomColor_palette[i][0] - c[0]) / 256;\n            d[1] = (RandomColor_palette[i][1] - c[1]) / 256;\n            d[2] = (RandomColor_palette[i][2] - c[2]) / 256;\n            // 比例两个颜色的 RGB 色差来作为相似性的依据（0.3 为经验值，值越大差异最大）\n            if (Math.sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]) < 0.3)\n                break;\n        }\n\n        // 色板中没有找到相似的颜色\n        if (idx === RandomColor_palette.length) {\n            RandomColor_palette.push(c);\n            flag = gTrue;\n        }\n        t++;\n    }\n    return c;\n}\n\n// ==================== 处理耗时计时器类 ==================== //\n\n/**\n * 构造函数\n */\nfunction Stopwatch() {\n    let T = this;\n    T.sT = null; // 重置后的初始时间\n    T.lT = null; // 每次中间计时的初始时间\n\n    /**\n     * 重置计时器\n     */\n    T.reset = function () {\n        T.sT = new Date().getTime();\n    }\n\n    /**\n     * 一次中间计时开始\n     */\n    T.st = function (t) {\n        if (t !== gUndefined)\n            LOG(t);\n        T.lT = new Date().getTime();\n    }\n\n    /**\n     * 一次中间计时结束\n     * @param pre 输出内容前缀\n     * @param slient 是否为静默模式，true：是\n     */\n    T.ed = function (pre, slient) {\n        let c = new Date().getTime() - T.lT;\n        // 非静默模式时，输出计时结果\n        if (!slient) {\n            let msg = pre + \"⏱ \" + c + \" ms\";\n            if (c < 300)\n                INFO(msg);\n            else if (c < 500)\n                WARN(msg);\n            else\n                ERROR(msg);\n        }\n        return c;\n    }\n\n    /**\n     * 计时器结束\n     */\n    T.stop = function () {\n        return new Date().getTime() - T.sT;\n    }\n\n    // 初始化计时器\n    T.reset();\n}\n\n// ==================== 欢迎页 ==================== //\n\nlet WelcomePage_uiName = \".v-welcome-page\",\n    WelcomePage_ui = gUndefined, // 欢迎页主界面\n    WelcomePage_button = gUndefined, // 关闭欢迎页按钮\n    WelcomePage_tips = gUndefined, // 欢迎信息\n    WelcomePage_finished = gFalse, // 是否已加载\n    WelcomePage_mode = \"auto\"; // 模式\n\n/**\n * 构造函数\n * @param mode 欢迎页显示模式\n */\nfunction WelcomePage_init(mode) {\n    WelcomePage_ui = $(WelcomePage_uiName); // 欢迎页主界面\n    WelcomePage_button = $(WelcomePage_uiName + \">.\" + _vLoading_); // 关闭欢迎页按钮\n    WelcomePage_tips = $(WelcomePage_uiName + \">.\" + _vTips_); // 欢迎信息\n    WelcomePage_finished = gFalse; // 是否已加载\n    WelcomePage_mode = mode; // 模式\n\n    // 初始执行\n    if (WelcomePage_mode === _off_)\n        WelcomePage_close();\n    else\n        V_ui_show(WelcomePage_ui);\n}\n\n/**\n * 完成所有内容加载后调用\n */\nfunction WelcomePage_done() {\n    // 关闭欢迎页事件\n    WelcomePage_button.uC().ck(() => {\n        WelcomePage_close();\n    });\n\n    WelcomePage_ui.c(_cursor_, \"default\");\n    WelcomePage_stopAni();\n\n    WelcomePage_tips.c(_animation_, _none_);\n\n    WelcomePage_updateCloseButton(null);\n    JQ_addClass(WelcomePage_button, _vBtn_ + \"-done\");\n\n    WelcomePage_finished = gTrue;\n\n    // auto 模式时延时自动关闭\n    let delay = JS_parseInt(WelcomePage_mode);\n    if (delay > 60) // 控制秒数上限\n        delay = 60;\n    if (WelcomePage_mode === _auto_ || delay >= 0)\n        WelcomePage_autoClose(delay);\n    // wait 模式\n    else if (WelcomePage_mode === _wait_)\n        JQ_addClass(WelcomePage_button, _wait_);\n}\n\n/**\n * 自动延时关闭\n * @param delay VLOOK Query 调校参数指定的延时自动关闭秒数\n */\nfunction WelcomePage_autoClose(delay) {\n    let delaySecs = (delay >= 0 ? delay : JS_parseInt(V_util_getVarVal(\"--v-ws-delay\"))),\n        closeTimer = null;\n\n    __timeToClose();\n\n    // 关闭倒计时\n    function __timeToClose() {\n        WelcomePage_updateCloseButton(delaySecs);\n        delaySecs--;\n        if (delaySecs < 0) { // 倒计时结束\n            clearTimeout(closeTimer);\n            closeTimer = null;\n            WelcomePage_close();\n        }\n        else\n            closeTimer = setTimeout(__timeToClose, 1000);\n    }\n}\n\n/**\n * 更新关闭按钮\n * @param sec 显示倒计时的秒数\n */\nfunction WelcomePage_updateCloseButton(sec) {\n    WelcomePage_button.hm([\n        \"开始阅览\",\n        \"Start Reading\"\n    ][V_lang_id]\n        + (sec == null ? _ : ___+ V_ui_span(_, _, \"(\" + sec + \"s)\")));\n}\n\n/**\n * 停止加载时的呼吸动画\n */\nfunction WelcomePage_stopAni() {\n    WelcomePage_tips.c(_animation_, _none_);\n}\n\n/**\n * 关闭欢迎页\n */\nfunction WelcomePage_close() {\n    WelcomePage_ui.hide();\n    V_doc_scroll_unfreeze();\n}\n\n/**\n * 处理热键操作\n * @param key 非功能键键\n * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n * @param event 事件对象\n */\nfunction WelcomePage_disposeHotkey(key, combKeys, event) {\n    if (!WelcomePage_finished || WelcomePage_ui.isHidden())\n        return;\n\n    let handled = false;\n    switch (key) {\n        case _enter_: // 关闭欢迎页\n            WelcomePage_close();\n            handled = true;\n            break;\n    }\n\n    // 如果事件已处理，则禁止双重操作\n    if (handled)\n        event.preventDefault();\n}\n\n// ==================== 内容助手类 ==================== //\n\nlet ContentAssistor_ui = gUndefined,\n    ContentAssistor_btns_openInFigureNav = gUndefined, // 插图浏览器中打开\n    ContentAssistor_btns_copyContent = gUndefined, // 复制内容\n    ContentAssistor_btns_tableCross = gUndefined, // 表格阅读模式（十字光标）\n    ContentAssistor_btns_tableWrap = gUndefined, // 表格自动换行\n    ContentAssistor_btns_picInPic = gUndefined, // 「画中画」\n    ContentAssistor_copyAsMarkdown = gFalse, // 复制模式\n    // 最后显示新标签打开按钮的内容（插图/表格等\n    ContentAssistor_lastTarget = gUndefined, // 用于代码、标签、徽章\n    ContentAssistor_lastHover = gUndefined,\n    ContentAssistor_lastContentType = gUndefined;\n\nfunction ContentAssistor_init() {\n    ContentAssistor_ui = V_byClass(_vContentAssistor_);\n    ContentAssistor_btns_copyContent = $(_vBtn_Assistor_ + \".\" + _copy_); // 复制内容\n    ContentAssistor_btns_openInFigureNav = $(_vBtn_Assistor_ + \".\" + _openInFigureNav_); // 插图浏览器中打开\n    ContentAssistor_btns_tableCross = $(_vBtn_Assistor_ + \".\" + _tableCross_); // 表格阅读模式（十字光标）\n    ContentAssistor_btns_tableWrap = $(_vBtn_Assistor_ + \".\" + _tableWrap_); // 表格自动换行\n    ContentAssistor_btns_picInPic = $(_vBtn_Assistor_ + \".\" + _picInPic_); // 「画中画」\n\n    ContentAssistor_btns_openInFigureNav.a(_dataTips_, [\n        \"全屏显示\",\n        \"Full screen\"\n    ][V_lang_id]);\n\n    ContentAssistor_btns_tableCross.a(_dataTips_, [\n        \"阅读模式\",\n        \"Reading mode\"\n    ][V_lang_id]);\n\n    ContentAssistor_btns_tableWrap.a(_dataTips_,  [\n        \"自动换行 / 不换行\",\n        \"Wrap / Unwrap\"\n    ][V_lang_id]);\n\n    ContentAssistor_btns_picInPic.a(_dataTips_, [\n        \"画中画\",\n        \"Picture in picture\"\n    ][V_lang_id]);\n\n    ContentAssistor_ui.on(_mouseLeave_, (event) => {\n        if (!v_ui_mouseDropIn(ContentAssistor_lastHover, event))\n            ContentAssistor_hide();\n    });\n\n    /**\n     * 初始化内容助手\n     */\n    // 在插图浏览器中打开\n    ContentAssistor_btns_openInFigureNav.uC().ck(() => {\n        ContentAssistor_hide();\n        iFigNav.show(ContentAssistor_lastHover);\n    });\n\n    //  开/关表格阅读模式（十字光标）\n    ContentAssistor_btns_tableCross.uC().ck(() => {\n        TableCross_toggle(ContentAssistor_lastHover);\n    });\n\n    //  开/关表格自动换行\n    ContentAssistor_btns_tableWrap.uC().ck(() => {\n        TableWrap_toggle(ContentAssistor_lastHover);\n    });\n\n    ContentAssistor_btns_copyContent.uC().ck((event) => {\n        __actionCopy($(event.currentTarget), event);\n    });\n\n    // 画中画\n    ContentAssistor_btns_picInPic.uC().ck(() => {\n        PicInPic_show(ContentAssistor_lastHover);\n    });\n\n    ToolTips_bind(ContentAssistor_btns_copyContent);\n    ToolTips_bind(ContentAssistor_btns_openInFigureNav);\n    ToolTips_bind(ContentAssistor_btns_tableCross);\n    ToolTips_bind(ContentAssistor_btns_tableWrap);\n    ToolTips_bind(ContentAssistor_btns_picInPic);\n\n    function __actionCopy(target, event) {\n        if (ContentAssistor_lastHover === gUndefined)\n            return;\n\n        if (ContentAssistor_lastContentType === _codeblock_)\n            ExtCodeBlock_copyContent(target, event);\n        else if (ContentAssistor_lastContentType === _fig_ + _suffixImg_)\n            ExtFigure_copySrc(target, event);\n        else if (ContentAssistor_lastContentType === _table_)\n            ExtTable_copyContent(target, event);\n    }\n}\n\n/**\n * 切换「复制」模式\n * @param mode false: 普通，true: 复制为 Markdown\n */\nfunction ContentAssistor_toggleCopyMode(mode) {\n    ContentAssistor_copyAsMarkdown = mode;\n    if (ContentAssistor_copyAsMarkdown) {\n        // 切换复制光标、内容助手的复制图标\n        V_util_setVarVal(_varCurCopy_, V_util_getVarVal(_varCurCopy_ + \"-as-md\"));\n        ContentAssistor_btns_copyContent.hm(V_ui_svgIcon(_icoCopyAsMd_, 18, 16, _light_));\n    }\n    else {\n        // 恢复复制光标、内容助手的复制图标\n        V_util_setVarVal(_varCurCopy_, V_util_getVarVal(_varCurCopy_ + \"-\" + _normal_));\n        ContentAssistor_btns_copyContent.hm(V_ui_svgIcon(_icoCopy_, 18, 16, _light_));\n    }\n}\n\n/**\n * 绑定对象的 hover 行为\n * @param target 目标对象\n * @param contentType 内容类型：Figure/Table/CodeBlock\n */\nfunction ContentAssistor_bind(target, contentType) {\n    // 鼠标悬停时事件处理\n    target.on(_mouseEnter_, (event) => {\n        V_ui_removeAnimate(ContentAssistor_ui);\n\n        // 更新复制模式\n        if (ContentAssistor_lastHover !== target)\n            ContentAssistor_toggleCopyMode(gFalse);\n\n        ContentAssistor_lastHover = target;\n        ContentAssistor_lastContentType = contentType;\n\n        let asMarkdown =  \"\\n\" + V_ui_sub(_, _, [\n            \"按住\",\n            \"Hold\"\n            ][V_lang_id]\n            + _2nbsp_+ V_ui_getAltKeyUI() + [\n                _2nbsp_ +\"- 复制为 Markdown\",\n                _2nbsp_ +\"- Copy as Markdown\"\n                ][V_lang_id]);\n        if (contentType === _codeblock_) {\n            ContentAssistor_btns_copyContent.a(_dataTips_, [\n                \"复制全部代码\",\n                \"Copy code\"\n            ][V_lang_id] + asMarkdown);\n        }\n        else if (contentType === _fig_ + _suffixImg_) {\n            ContentAssistor_btns_copyContent.a(_dataTips_, [\n                \"复制图片地址\",\n                \"Copy Image Link\"\n            ][V_lang_id] + asMarkdown);\n        }\n        else if (contentType === _table_) {\n            ContentAssistor_btns_copyContent.a(_dataTips_, [\n                \"复制表格内容\",\n                \"Copy Table Content\"\n            ][V_lang_id] + asMarkdown);\n        }\n\n        ContentAssistor_show();\n    }).on(_mouseLeave_, (event) => {\n        if (!v_ui_mouseDropIn(ContentAssistor_lastHover, event))\n            ContentAssistor_hide();\n    });\n}\n\n/**\n * 显示指定内容的内容助手\n */\nfunction ContentAssistor_show() {\n    if (ContentAssistor_lastHover === gUndefined)\n        return;\n\n    // 圆角重置样式\n    JQ_removeClass(ContentAssistor_btns_copyContent, _first__enable__last_);\n    JQ_removeClass(ContentAssistor_btns_openInFigureNav, _first__enable__last_);\n    JQ_removeClass(ContentAssistor_btns_tableCross, _first__enable__last_);\n    JQ_removeClass(ContentAssistor_btns_tableWrap, _first__enable__last_);\n    JQ_removeClass(ContentAssistor_btns_picInPic, _first__enable__last_);\n\n    // 插图\n    if (ContentAssistor_lastContentType.sW(_fig_)) {\n        // 图片插图\n        if (ContentAssistor_lastContentType.eW(_svg_)) {\n            JQ_addClass(ContentAssistor_btns_copyContent, _enabled__first_);\n            JQ_addClass(ContentAssistor_btns_openInFigureNav, _enabled_);\n        }\n        // 非图片插图\n        else\n            JQ_addClass(ContentAssistor_btns_openInFigureNav, _enabled__first_);\n        // 画中画\n        JQ_addClass(ContentAssistor_btns_picInPic, _enabled__last_);\n    }\n    // 表格\n    else if (ContentAssistor_lastContentType === _table_) {\n        // 复制\n        JQ_addClass(ContentAssistor_btns_copyContent, _enabled__first_);\n        // 阅读模式\n        JQ_addClass(ContentAssistor_btns_tableCross, _enabled_);\n        if (ContentAssistor_lastHover.a(_dataTblX_) === _true_)\n            JQ_addClass(ContentAssistor_btns_tableCross, _selected_);\n        else\n            JQ_removeClass(ContentAssistor_btns_tableCross, _selected_);\n        // 自动换行\n        JQ_addClass(ContentAssistor_btns_tableWrap, _enabled_);\n        if (ContentAssistor_lastHover.c(_whiteSpace_) === _preWrap_)\n            JQ_addClass(ContentAssistor_btns_tableWrap, _selected_);\n        else\n            JQ_removeClass(ContentAssistor_btns_tableWrap, _selected_);\n        // 画中画\n        JQ_addClass(ContentAssistor_btns_picInPic, _enabled__last_);\n    }\n    // 代码块\n    else if (ContentAssistor_lastContentType === _codeblock_) {\n        // 复制\n        JQ_addClass(ContentAssistor_btns_copyContent, _enabled__first_);\n        // 画中画\n        JQ_addClass(ContentAssistor_btns_picInPic, _enabled__last_);\n    }\n\n    // ----------------------------------------\n    // 计算助手显示的位置\n    let caption = ContentAssistor_lastHover.p(),\n        className = caption.a(_class_),\n        container = caption.p(),\n        offset = 0;\n    // 对于存在横向滚动的情况时，须计算其偏移量用来位置调整\n    if (className !== gUndefined && className.i(_vCaption_) > -1\n        && container !== gUndefined) {\n            className = container.a(_class_);\n            if (className !== gUndefined && className.i(_vCaptionContainer_) > -1) {\n                let capWidth = JS_parseInt(caption.w()),\n                    conWidth = JS_parseInt(container.w());\n                if (capWidth > conWidth)\n                    offset = capWidth - conWidth + 1;\n            }\n    }\n    // 显示\n    ContentAssistor_ui.c(_left_, ContentAssistor_lastHover.oL()\n            + ContentAssistor_lastHover.w()\n            + JS_parseInt(ContentAssistor_lastHover.c(_borderLeftWidth_))\n            - ContentAssistor_ui.w()\n            + JS_parseInt(ContentAssistor_lastHover.c(_paddingLeft_))\n            + JS_parseInt(ContentAssistor_lastHover.c(_paddingRight_))\n            - offset)\n        .c(_top_, ContentAssistor_lastHover.oT()\n            + JS_parseInt(ContentAssistor_lastHover.c(_borderTopWidth_)));\n\n    // 须延时后再执行显示，让以上代码先完成\n    setTimeout(() => {\n        V_ui_addAnimate(ContentAssistor_ui);\n        V_ui_show(ContentAssistor_ui);\n    }, 50);\n}\n\n/**\n * 隐藏内容辅助动作按钮\n */\nfunction ContentAssistor_hide() {\n    V_ui_hide(ContentAssistor_ui);\n}\n\n// ==================== 画中画类 ==================== //\n\nlet PicInPic_ui_body = gUndefined,\n    PicInPic_ui_content = gUndefined,\n    PicInPic_ui_zoom = gUndefined,\n    PicInPic_ui_close = gUndefined;\n\nlet PicInPic_ratio = 0.75;\n\nlet PicInPic_size_width = 0,\n    PicInPic_size_height = 0;\n\n/**\n * 初始化画中画\n */\nfunction PicInPic_init() {\n    PicInPic_ui_body = V_byClass(_vPicInPic_);\n    PicInPic_ui_content = PicInPic_ui_body.ch(\".\" + _vContent_);\n    PicInPic_ui_zoom = V_byClass(_vPipBtn_ + \".\" + _zoom_);\n    PicInPic_ui_close = V_byClass(_vPipBtn_ + \".\" + _close_);\n\n    // 缩放事件处理\n    PicInPic_ui_zoom.uC().ck((event) => {\n        let _t = $(event.currentTarget),\n            pipBtn = V_byClass(_vPipBtn_);\n        if (PicInPic_ratio === 1) {\n            PicInPic_ratio = 0.75;\n            JQ_exchangeClass(pipBtn, _zoomIn_, _zoomOut_);\n            _t.hm(V_ui_svgIcon(_icoZoomIn_, 16, 16, _theme_));\n        }\n        else {\n            PicInPic_ratio = 1;\n            JQ_exchangeClass(pipBtn, _zoomOut_, _zoomIn_);\n            _t.hm(V_ui_svgIcon(_icoZoomOut_, 16, 16, _theme_));\n        }\n        PicInPic_zoom();\n    });\n\n    PicInPic_ui_close.uC().ck(() => {\n        PicInPic_hide();\n    });\n\n    PicInPic_ui_body.on(_mouseEnter_, (event) => {\n        // 高度过小时调整操作按钮位置\n        if (PicInPic_ui_body.h() < 30) {\n            JQ_addClass(PicInPic_ui_zoom, _min_);\n            JQ_addClass(PicInPic_ui_close, _min_);\n        }\n        else {\n            JQ_removeClass(PicInPic_ui_zoom, _min_);\n            JQ_removeClass(PicInPic_ui_close, _min_);\n        }\n        V_ui_show(PicInPic_ui_zoom);\n        V_ui_show(PicInPic_ui_close);\n    }).on(_mouseLeave_, (event) => {\n        V_ui_hide(PicInPic_ui_zoom);\n        V_ui_hide(PicInPic_ui_close);\n    });\n}\n\n/**\n * 显示画中画\n * @param source 显示内容的来源对象\n */\nfunction PicInPic_show(source) {\n    PicInPic_calcSize();\n\n    // 清空原有内容（除关闭按钮）\n    PicInPic_ui_content.empty();\n\n    // 为画中画进行克隆处理\n    let pic = __cloneForPicInPic(source);\n\n    // 缩放并显示\n    PicInPic_zoom();\n    PicInPic_ui_body.show();\n\n    // 根据内容调整画中画的展示\n    PicInPic_fitContentSize(pic);\n    PicInPic_ui_content.scrollTop(0);\n\n    /**\n     * 为画中画进行克隆处理\n     * @param source 源对象\n     */\n    function __cloneForPicInPic (source) {\n        let openAll = gFalse,\n            tagName = V_util_getTagName(source);\n        // 针对表格的处理\n        if (tagName === _table_) {\n            // 1. 先展开所有行分组\n            openAll = RowGroup_openAll(source, _auto_);\n            // 2. 先展开长内容\n            let container = source.p().p();\n            if (container.a(_dataContentFolded_) === _true_)\n                ContentFolder_expand(container);\n        }\n\n        // 将来源对象的内容进行克隆\n        let newClone = source.clone();\n        newClone.c(_margin_, 0)\n            .c(_border_, 0);\n        PicInPic_ui_content.ap(newClone);\n\n        // 针对插图的处理\n        let img = (tagName === _svg_),\n            svg = tagName === _svg_;\n        if (img || svg) {\n            JQ_removeAttr(newClone, _dataFigNum_);\n            if (svg)\n                JQ_addClass(newClone, _vMermaidRestyler_);\n        }\n\n        // 对展开了所有行分组的表格进行克隆后的干净处理\n        if (openAll) {\n            RowGroup_reset(newClone); // 重置、切断\n            RowGroup_closeAll(source, _auto_); // 全部收起\n        }\n\n        return newClone;\n    }\n}\n\n/**\n * 隐藏画中画\n */\nfunction PicInPic_hide() {\n    PicInPic_ui_body.hide();\n}\n\n/**\n * 计算画中画建议的基准尺寸\n */\nfunction PicInPic_calcSize() {\n    // 计算基准大小\n    let baseW = 550,\n        baseH = 350,\n        w = $(window).w() / 2.5,\n        h = $(window).h() / 3;\n    PicInPic_size_width = w < baseW ? baseW : w;\n    PicInPic_size_height = h < baseH ? baseH : h;\n    PicInPic_ui_body.c(_width_, PicInPic_size_width)\n        .c(_height_, PicInPic_size_height);\n}\n\n/**\n * 调整画中画的基准大小，以适应内容的实际大小\n */\nfunction PicInPic_fitContentSize(source) {\n    // 宽度\n    let tagName = V_util_getTagName(source),\n        w = source.w(),\n        h = source.h(),\n        sourcePadding = JS_parseInt(source.c(_paddingTop_)) * 2,\n        uiPadding = JS_parseInt(PicInPic_ui_body.c(_paddingTop_)) * 2;\n\n    // 针对图片尺寸的兼容性处理（部分浏览器不使用该处理尺寸不正常，如：Firefox）\n    if (tagName === _svg_) {\n        let img = new Image();\n        img.src = source.a(_src_);\n        if (img.complete)\n            __getImgSize(img);\n        else\n            img.onload = function () {\n                __getImgSize(img);\n            }\n    }\n\n    // 宽度\n    let wWithPadding = w + sourcePadding;\n    if (w > 0 && wWithPadding < PicInPic_size_width) {\n        PicInPic_size_width = w;\n        PicInPic_ui_body.c(_width_, wWithPadding)\n            .c(_transformOrigin_, PicInPic_size_width + \"px \" + PicInPic_size_height + \"px\");\n    }\n\n    // 高度\n    h = source.h(); // 重新获得画中画最新高度\n    let hWithPadding = h + uiPadding + sourcePadding;\n    if (h > 0 && hWithPadding < PicInPic_size_height) {\n        // 针对会进行等比缩放的对象进行高度微调\n        if ((tagName === _svg_ || tagName === _svg_)\n            && h > source.h()) {\n                h = source.h();\n                hWithPadding = h + uiPadding + sourcePadding;\n        }\n        PicInPic_size_height = h;\n        PicInPic_ui_body.c(_height_, hWithPadding)\n            .c(_transformOrigin_, PicInPic_size_width + \"px \" + PicInPic_size_height + \"px\");\n    }\n\n    /**\n     * 获得 img 对象的实际长宽\n     * @param img img 对象\n     */\n    function __getImgSize(img) {\n        w = img.width;\n        h = img.height;\n    }\n}\n\n/**\n * 放大、缩放显示\n */\nfunction PicInPic_zoom() {\n    V_ui_removeAnimate(PicInPic_ui_zoom);\n    V_ui_removeAnimate(PicInPic_ui_close);\n\n    PicInPic_ui_body.c(_transform_, \"scale(\" + PicInPic_ratio + \")\")\n        .c(_transformOrigin_, PicInPic_size_width + \"px \" + PicInPic_size_height + \"px\");\n\n    setTimeout(() => {\n        V_ui_addAnimate(PicInPic_ui_zoom);\n        V_ui_addAnimate(PicInPic_ui_close);\n    }, 50);\n}\n\n// ==================== 聚光灯类 ==================== //\n\n/**\n * 构造函数\n * @param radius 半径大小\n * @param tips 操作提示栏对象\n */\nfunction Spotlight(radius, tips) {\n    let T = this;\n    T.ui = V_byClass(_vSpotlight_);\n    T.radius = radius; // 聚光灯半径\n    T.tips = tips;\n    T.zoom = {\n        normal: radius, // 标准大半径\n        bigger: radius * 1.4, // 放大的半径\n    };\n    T.lastPos = {\n        x : -1,\n        y : -1\n    };\n\n    T.toolbar = gUndefined; // 联动的工具栏\n\n    /**\n     * 切换聚光灯的不同大小\n     */\n    T.toggleZoom = function () {\n        if (T.ui.isHidden())\n            return;\n\n        T.radius = T.radius < T.zoom.bigger\n            ? T.zoom.bigger\n            : T.zoom.normal;\n\n        T.repaint();\n    }\n\n    /**\n     * 使用聚光灯模式\n     */\n    T.show = function () {\n        JQ_removeClass(T.toolbar.btns[_laserPointer_], _selected_);\n        JQ_addClass(T.toolbar.btns[_spotlight_], _selected_);\n\n        // Dark Mode 时先添加微调的样式\n        if (ColorScheme.scheme === _dark_)\n            JQ_addClass(VOM_doc(), _vSpotlightInDark_);\n\n        T.mode = \"S\";\n        T.ui.show();\n        JQ_removeClass($(T.pointerScope), _vCursorLaser_);\n        T.repaint();\n\n        let key1 = V_ui_wrap_kbd(\"⇧ Shift\") + _2nbsp_,\n            key2 = _2nbsp_ + _2nbsp_ +\"-\" + _2nbsp_ + _2nbsp_ + V_ui_wrap_kbd(\"ESC\") + _2nbsp_;\n        T.tips.show([\n            key1 + \"调整聚光灯大小\" + key2 + \"退出\",\n            key1 + \"Adjust the size of the spot\" + _light_ + key2 + \"Exit\"\n        ][V_lang_id]);\n    }\n\n    /**\n     * 刷新聚光灯的显示\n     * @param event window.event 鼠标事件对象\n     */\n    T.repaint = function (event) {\n        // 记录鼠标最新位置，避免通过快捷键显示时无法在鼠标位置正常渲染\n        if (event !== gUndefined) {\n            if (event.clientX !== gUndefined)\n                T.lastPos.x = event.clientX;\n            if (event.clientY !== gUndefined)\n                T.lastPos.y = event.clientY;\n        }\n\n        // 未启用则跳过\n        if (!T.isEnabled())\n            return;\n\n        // 聚光灯模式\n        T.ui.c(_background_, \"radial-gradient(circle at \"\n            + T.lastPos.x + \"px \" + T.lastPos.y + \"px,\"\n            + \"transparent \" + T.radius + \"px,\"\n            + \"rgba(0,0,0,.4)\" + (T.radius + 5) + \"px,rgba(0,0,0,.9) 900px)\");\n    }\n\n    /**\n     * 是否已显示\n     */\n    T.isEnabled = function () {\n        return T.ui.isShowed();\n    }\n\n    /**\n     * 切换聚光灯的开关\n     */\n    T.tg = function () {\n        // 已打开，则关闭\n        if (T.isEnabled()) {\n            T.hide();\n        }\n        // 未打开，则打开\n        else {\n            T.show();\n            return gTrue;\n        }\n        return gFalse;\n    }\n\n    /**\n     * 隐藏聚光灯\n     */\n    T.hide = function () {\n        MoreDocContent_refresh();\n        T.tips.hide();\n        JQ_removeClass(T.toolbar.btns[_spotlight_], _selected_);\n        JQ_removeClass(VOM_doc(), _vSpotlightInDark_);\n        T.ui.hide();\n    }\n\n    /**\n     * 处理热键操作\n     * @param key 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (key, combKeys, event) {\n        if (V_doc_block)\n            return;\n\n        let handled = false;\n        switch (key) {\n            case 'Shift':\n                T.toggleZoom();\n                handled = true;\n                break;\n            case _escape_:\n                if (T.isEnabled()) {\n                    T.hide();\n                    handled = true;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n    }\n}\n\n// ==================== 激光笔类 ==================== //\n\n/**\n * 构造函数\n * @param tips 操作提示栏对象\n */\n function LaserPointer(tips) {\n    let T = this;\n    T.tips = tips;\n    T.toolbar = gUndefined; // 联动的工具栏\n\n    T.enable = gFalse;\n\n    // 激光笔模式时鼠标形状影响的范围\n    T.pointerScope = \"body *\";\n\n    /**\n     * 使用激光笔\n     */\n    T.show = function () {\n        JQ_removeClass(T.toolbar.btns[_spotlight_], _selected_);\n        JQ_addClass(T.toolbar.btns[_laserPointer_], _selected_);\n\n        T.enable = gTrue;\n        JQ_addClass($(T.pointerScope), _vCursorLaser_);\n\n        T.tips.show(V_ui_wrap_kbd(\"ESC\") + _2nbsp_ + [\n            \"退出\",\n            \"Exit\"\n        ][V_lang_id]);\n    }\n\n    /**\n     * 是否已显示\n     */\n    T.isEnabled = function () {\n        return T.enable;\n    }\n\n    /**\n     * 切换激活笔开关\n     */\n    T.tg = function () {\n        // 已打开，则关闭\n        if (T.isEnabled()) {\n            T.hide();\n        }\n        // 未打开，则打开\n        else {\n            T.show();\n            return gTrue;\n        }\n        return gFalse;\n    }\n\n    /**\n     * 隐藏激活笔\n     */\n    T.hide = function () {\n        MoreDocContent_refresh();\n        T.tips.hide();\n        T.enable = gFalse;\n        JQ_removeClass(T.toolbar.btns[_laserPointer_], _selected_);\n        JQ_removeClass($(T.pointerScope), _vCursorLaser_);\n    }\n\n    /**\n     * 处理热键操作\n     * @param key 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (key, combKeys, event) {\n        if (V_doc_block)\n            return;\n\n        let handled = false;\n        switch (key) {\n            case _escape_:\n                if (T.isEnabled()) {\n                    T.hide();\n                    handled = true;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n    }\n}\n\n// ==================== 分段控制器类 ==================== //\n\n/**\n * @param control 控件 UI 对象\n * @param group 分段控制器分组标识\n */\nfunction SegmentControl(control, group) {\n    let T = this,\n        __indicator = \"-indicator\";\n    T.ui = control;\n    T.group = group;\n\n    T.last = gUndefined;\n    T.segs = [];\n    T.segCnt = 0;\n\n    T.ui.ap(V_ui_span(_vSegment_ + __indicator));\n    T.indicator = T.ui.ch(\".\" + _vSegment_ + __indicator); // 当前选中分段的滑块\n\n    /**\n     * 添加分段\n     * @param target 分段对应的组件\n     * @param icon 分段使用的图标标识\n     * @param checked 是否为默认选中\n     * @param status 默认状态\n     */\n    T.add = function (target, icon, checked, status) {\n        let name = target.typeName();\n        T.segCnt++;\n        T.segs[name] = target;\n\n        // 新增段的 UI\n        let id = T.group + \"-\" + name,\n            ui = V_ui_input(id, T.group, \"radio\", name, 'onfocus=\"this.blur()\"' + (status ? ___ : ___+ _dataResult_ + '=\"' + _none_ + '\"' + (checked ? ' checked' : _)))\n                + V_ui_label(_vSegmentBtn_ +___+ name, V_attr(\"for\", id) +___+ V_attr(_dataIcon_, icon),\n                    V_ui_svgIcon(icon, 16, 16, _dark_)\n                );\n\n        T.ui.ap(ui);\n        target.ui.entry = T.ui.ch(\".\" + _vSegmentBtn_ + \".\" + name);\n\n        // 指定为默认选项\n        if (checked) {\n            T.last = target;\n            __updateIcon(gTrue);\n        }\n\n        // 为新添加的段绑定事件\n        T.ui.f(_input_ + \"#\" + id).change((event) => {\n            // 隐藏切换前选择的组件\n            T.last.hide();\n            __updateIcon(gFalse);\n            // 显示最新选择的组件\n            T.last = T.segs[$(event.currentTarget).val()];\n            __updateIcon(gTrue);\n\n            T.last.show();\n            T.update();\n        });\n\n        return T.segs[name];\n\n        /**\n         * 更新分段的图标\n         *\n         * @param checked 是否为选择状态\n         */\n        function __updateIcon(checked) {\n            T.last.ui.entry.hm(V_ui_svgIcon(T.last.ui.entry.a(_dataIcon_)\n                + (checked ? __checked_ : _) , 16, 16, _dark_));\n        }\n    }\n\n    /**\n     * 获得当前选中的分段\n     * @returns string 当前选中的分段\n     */\n    T.checkedItem = function () {\n        return T.ui.f(_input_ + V_attrCSS(_name_, T.group) + \":\" + _checked_).val();\n    }\n\n    /**\n     * 选中指定的分段\n     * @param name 分段的名称，如：catalog, figure, table, codeblock, media\n     */\n    T.setChecked = function (name) {\n        V_byID(T.group + \"-\" + name).tr(_click_);\n    }\n\n    /**\n     * 获得、设置指定分段的状态\n     * @returns 无 value 时，返回指定分段的状态\n     */\n    T.sts = function (target, value) {\n        let id = T.group + \"-\" + target.typeName();\n        if (value === gUndefined) {\n            return T.ui.f(_input_ + V_attrCSS(_id_, id)).a(_dataResult_);\n        }\n\n        if (value) {\n            JQ_removeAttr(T.ui.f(_input_ + V_attrCSS(_id_, id)), _dataResult_);\n        }\n        else {\n            T.ui.f(_input_ + V_attrCSS(_id_, id)).a(_dataResult_, _none_);\n        }\n    }\n\n    /**\n     * 更新分段控制器界面\n     */\n    T.update = function () {\n        // 更新各分段 UI 大小、间隔等\n        let space = 2,\n            spacePercent = (space * (T.segCnt - 1)) / T.ui.w() * 100,\n            width = (100 - spacePercent) / T.segCnt;\n        T.ui.ch(\".\" + _vSegmentBtn_).c(_margin_, \"0 0 0 \" + space + \"px\")\n            .c(_width_, width + \"%\");\n        // 修正第一个\n        T.ui.ch(\".\" + _vSegmentBtn_ + \":\" + _first_).c(_margin_, 0);\n\n        // 更新当前选择分段相关 UI\n        if (T.last === gUndefined)\n            return;\n        let target = T.last.ui.entry;\n        T.indicator.c(_left_, target.pos().left + JS_parseInt(target.c(_marginLeft_)))\n            .c(_width_, target.w());\n    }\n}\n\n// ==================== 导航中心类 ==================== //\n\n/**\n * 构造函数\n * @param mask 遮罩对象\n * @param runMode 关闭模式\n */\nfunction NavCenter(mask, runMode = _auto_) {\n    let T = this;\n    T.ui = V_byClass(_vNavCenter_); // 导航中心主界面\n    T.handle = V_byClass(_vTocHandle_); // 导航中心引导把手\n\n    // 关键字搜索\n    T.__keywordBody = V_byClass(_vSearchByKeyword_);\n    T.keyword = new TextField(T.__keywordBody, \"toc-\" + _filter_ + \"-nav-\" + _center_, gTrue);\n\n    T.runMode = (runMode === gUndefined) ? _auto_ : runMode; // 导航中心运行方式\n    T.lastDisplayType = _float_; // 最后一次的显示方式（float/block）\n    T.showed = gFalse; // 是否已显示\n\n    T.width = T.ui.w(); // 导航中心宽度\n\n    T.chpNav = gUndefined; // 联动的章节导航栏\n    T.toolbar = gUndefined; // 联动的工具栏\n\n    T.snapTimer = null; // 鼠标在边缘悬停计时器\n\n    // 索引内容分类选择\n    T.segs = new SegmentControl(V_byClass(_vSegment_+ \".toc\"), \"toc-segment\");\n    TocIndex_segments = T.segs;\n\n    // 目录索引组件\n    T.catalog = T.segs.add(new TocCatalog(this, gFalse), _icoTocTabCatalog_, gTrue, gFalse);\n    // 插图索引组件\n    T.figure = T.segs.add(new TocFigure(this, gTrue), _icoTocTabFigure_, gFalse, gFalse);\n    // 表格索引组件\n    T.table = T.segs.add(new TocTable(this, gTrue), _icoTocTabTable_, gFalse, gFalse);\n    // 代码块索引组件\n    T.codeblock = T.segs.add(new TocCodeblock(this, gTrue), _icoTocTabCodeblock_, gFalse, gFalse);\n    // 多媒体索引组件\n    T.media = T.segs.add(new TocMedia(this, gTrue), _icoTocTabMedia_, gFalse, gFalse);\n    // 访问历史组件\n    T.history = T.segs.add(new TocHistory(this, gTrue), _icoTocTabHistory_, gFalse, gFalse);\n\n    // 遮罩\n    T.mask = mask;\n    T.mask.bindPartner(this, T.ui);\n\n    T.segs.update();\n\n    V_ui_addAnimate(T.handle);\n\n    /**\n     * 当前章节变化事件\n     */\n    T.catalog.onChapterChanged = function () {\n        // 更新逐章导航内容\n        if (T.chpNav !== gUndefined)\n            T.chpNav.update();\n    }\n\n    // 关键字输入组件属性设置\n    T.keyword.setIcon(V_ui_svgIcon(_icoRetrieval_, 16, 16, _alpha_));\n\n    let cmdKey = _;\n    T.keyword.placeholder([\n        \"按下 [\" + cmdKey + \"／] 进行搜索\",\n        \"Type [\" + cmdKey + \"／] to \" + _search_\n    ][V_lang_id]);\n\n    // 绑定输入框事件处理\n    T.keyword.onInput = function (source, value) {\n        T.catalog.resultNav.reset();\n        T.figure.resultNav.reset();\n        T.table.resultNav.reset();\n        T.table.resultNav.reset();\n        T.media.resultNav.reset();\n        T.codeblock.resultNav.reset();\n\n        if (value.x().length === 0) {\n            // 目录\n            T.catalog.ui.result.empty();\n            if (T.segs.checkedItem() === T.catalog.typeName())\n               T.catalog.ui.body.show();\n            T.catalog.hideFilterResult();\n            T.catalog.scrollToCurrent();\n            T.catalog.updateStatus();\n            // 插图、表格、多媒体、代码块\n            TocIndex_noneKeyword(T.figure);\n            TocIndex_noneKeyword(T.table);\n            TocIndex_noneKeyword(T.media);\n            TocIndex_noneKeyword(T.codeblock);\n        }\n        else {\n            // 目录\n            T.catalog.filter(value.l());\n            // 插图、表格、多媒体、代码块\n            TocIndex_filter(T.figure, value.l());\n            TocIndex_filter(T.table, value.l());\n            TocIndex_filter(T.media, value.l());\n            TocIndex_filter(T.codeblock, value.l());\n        }\n    }\n\n    T.keyword.onFocus = function (source) {\n        if (T.lastDisplayType !== _float_) {\n            JQ_addClass(VOM_doc(), _actived_);\n            let search = V_byClass(_vFocusSearch_);\n            JQ_addClass(search, _actived_);\n        }\n    }\n\n    T.keyword.onBlur = function (source) {\n        JQ_removeClass(VOM_doc(), _actived_);\n        JQ_removeClass(V_byClass(_vFocusSearch_), _actived_);\n    }\n\n    // 绑定输入框事件处理\n    T.keyword.pressEnter = function (source, value) {\n        T.keyword.input.focus();\n    }\n\n    /**\n     * 触发互动事件\n     */\n    T.onInteractive = function () {\n        T.adjustClickHash();\n    }\n\n    /**\n     * 跳转回文档封面\n     */\n    T.gotoCover = function () {\n        // WINDOW_setHref(\"#\");\n        $(document).scrollTop(0);\n        // 【有封面】模式时处理\n        if (VOM_cover() !== gUndefined) {\n            if (T.catalog.currentItem !== gUndefined) {\n                JQ_removeClass(T.catalog.currentItem, _vTocItemCurrent_);\n                T.catalog.currentHeaderIndex = -1;\n            }\n            T.adjust();\n            T.chpNav.adjust();\n            T.toolbar.adjust();\n        }\n        // 【无封面】模式时处理\n        else {\n            ToolTips_hide();\n        }\n    }\n\n    /**\n     * 适配锚点击事件\n     */\n    T.adjustClickHash = function () {\n        if (T.lastDisplayType === _float_)\n            T.hide(_auto_);\n    }\n\n    /**\n     * 显示/隐藏导航中心\n     * @param callback 显示/隐藏导航中心后执行回调函数\n     */\n    T.tg = function (callback) {\n        // 导航中心已显示\n        if (T.showed) {\n            T.hide(\"closed\");\n        }\n        // 导航中心未显示\n        else {\n            T.runMode = _auto_;\n            // 在封面，或小屏\n            if (!T.catalog.inHeader() || V_ui_isSmallScreen()) {\n                T.show(_float_);\n            }\n            // 在章节内，非小屏\n            else {\n                // 导航中心运行模式为 auto 时，自动显示导航中心\n                if (T.runMode === _auto_)\n                    T.show(_block_);\n            }\n        }\n\n        typeof(callback) === _function_ && callback();\n        T.afterToggle();\n    }\n\n    /**\n     * 显示导航中心\n     * @param lastDisplayType float: 以浮动形式显示，block: 以占位形式显示\n     * @returns boolean true: 需要处理显示，false: 已显示，无须重复处理\n     */\n    T.show = function (lastDisplayType) {\n        // 已显示，或在以动画显示过程中\n        if (V_pageMode !== _max_ || T.showed || T.ui.oL() > -T.width) {\n            return gFalse;\n        }\n\n        T.ui.c(_left_, 20);\n        T.handle.hide();\n\n        T.lastDisplayType = lastDisplayType;\n        // 以「占位方式」显示导航中心\n        if (T.lastDisplayType === _block_) {\n            // 占位方式的样式设置\n            JQ_removeClass(T.ui, _vNavCenterFloat_);\n            JQ_removeClass(T.ui, _vFloatCard_);\n            JQ_addClass(T.ui, _vNavCenterBlock_);\n\n            // 更新工具栏导航中心按钮图标\n            if (!env.device.mobile)\n                JQ_addClass(T.toolbar.btns[_navCenter_], _selected_);\n\n            VOM_doc().c(_marginLeft_, _writeMarginLeft_);\n\n            // 因为从切换为占位显示后，会影响文档内容布局，所以须调整随大小变化的内容\n            if (!T.showed) {\n                setTimeout(() => {\n                    // 重定位至当前锚点\n                    V_util_redirectTo();\n                    // 统一同组的分栏引用块的高度\n                    ExtQuote_uniteColumnsHeight();\n                }, 300);\n            }\n        }\n        // 以「浮动方式」显示导航中心\n        else if (T.lastDisplayType === _float_) {\n            // 浮动方式的样式设置\n            JQ_removeClass(T.ui, _vNavCenterBlock_);\n            JQ_addClass(T.ui, _vNavCenterFloat_);\n            JQ_addClass(T.ui, _vFloatCard_);\n\n            // 显示联动的遮罩\n            T.mask.show();\n\n            // 若文档可视空间比导航中心宽度要小，则进行微调\n            if ($(window).w() < T.width + 20)\n                T.ui.c(_width_, $(window).w() - 20);\n            // 若文档空间比导航中心宽度大，则直接显示原始大小\n            else\n                T.ui.c(_width_, T.width);\n        }\n\n        T.showed = gTrue;\n        return gTrue;\n    }\n\n    /**\n     * 隐藏导航中心\n     * @param runMode 导航中心的运行模式（auto/closed）\n     * @returns boolean true: 需要处理隐藏，false: 已显示，无须重复处理\n     */\n    T.hide = function (runMode = _auto_) {\n        // 已隐藏，或在以动画隐藏过程中\n        if (!T.showed || T.ui.oL() < 10)\n            return gFalse;\n\n        // 若最后一次显示以是「占位方式」显示\n        if (T.lastDisplayType === _block_) {\n            // 更新运行模式\n            T.runMode = runMode;\n\n            // 统一同组的分栏引用块的高度\n            ExtQuote_uniteColumnsHeight();\n\n            // 更新工具栏导航中心按钮图标\n            if (!env.device.mobile)\n                JQ_removeClass(T.toolbar.btns[_navCenter_], _selected_);\n        }\n\n        T.ui.c(_left_, V_util_getVarVal(_varNavCenterHiddenLeft_));\n\n        // 恢复不挤压文档正文区\n        VOM_doc().c(_marginLeft_, 0);\n\n        T.mask.hide();\n\n        // 非移动设备时显示把手\n        if (!env.device.mobile)\n            T.showHandle();\n\n        T.showed = gFalse;\n\n        return gTrue;\n    }\n\n    /**\n     * 导航中心根据规则进行布局的自适应处理\n     * @returns boolean true: 需要处理显示/隐藏，false: 已显示/隐藏，无须重复处理\n     */\n    T.adjust = function () {\n        let result = gFalse;\n\n        // 根据导航中心宽度更新相关界面组件的样式\n        if (T.showed && T.lastDisplayType === _block_)\n            VOM_doc().c(_marginLeft_, _writeMarginLeft_);\n\n        T.width = T.ui.w();\n\n        T.keyword.setWidth(T.width - 2 - JS_parseInt(T.__keywordBody.c(_marginLeft_)) * 2);\n\n        // 根据最新窗口大小调整宽度\n        T.segs.update();\n\n        // 在封面，或为小屏\n        if (!T.catalog.inHeader() || V_ui_isSmallScreen()) {\n            // 自动隐藏导航中心\n            result = T.hide(_auto_);\n\n            // 根据最新窗口大小调整收起位置\n            T.ui.c(_left_, V_ui_var(_varNavCenterHiddenLeft_));\n\n            // 更新工具栏导航中心按钮图标\n            if (!env.device.mobile)\n                JQ_removeClass(T.toolbar.btns[_navCenter_], _selected_);\n        }\n        // 不在封面\n        else {\n            // 导航中心运行模式为 auto 时，自动显示导航中心\n            if (T.runMode === _auto_) {\n                // 以占位方式显示导航中心\n                result = T.show(_block_);\n\n                // 根据最新窗口大小调整导航中心宽度\n                T.ui.c(_width_, _varNavCenterWidth_);\n\n                // 更新工具栏导航中心按钮图标\n                if (!env.device.mobile)\n                    JQ_addClass(T.toolbar.btns[_navCenter_], _selected_);\n            }\n        }\n        return result;\n    }\n\n    /**\n     * 显示导航中心引导把手\n     */\n    T.showHandle = function () {\n        if (V_pageMode !== _max_)\n            return;\n\n        T.handle.c(_top_, ($(window).h() - T.handle.h()) / 2);\n        T.handle.show();\n    }\n\n    /**\n     * 鼠标位置变化对导航中心处理\n     */\n    T.snap = function (event) {\n        // 已显示则跳过\n        if (T.showed || env.device.mobile)\n            return;\n\n        // 鼠标离左边缘小于指定值时\n        if (event.clientY > 200 && event.clientY < ($(window).h() - 300) && event.clientX <= 20) {\n            if (T.snapTimer != null)\n                return;\n\n            JQ_addClass(T.handle, _hover_);\n\n            // 延时（模拟悬停一定时间）以浮动方式显示导航中心\n            T.snapTimer = setTimeout(() => {\n                JQ_removeClass(T.handle, _hover_);\n                T.show(_float_);\n            }, 1000);\n        }\n        else {\n            // 未显示导航中心前离开边缘则取消显示\n            if (T.snapTimer != null) {\n                clearTimeout(T.snapTimer);\n                T.snapTimer = null;\n                JQ_removeClass(T.handle, _hover_);\n            }\n        }\n    }\n\n    /**\n     * 显示/隐藏导航中心，并进行关联处理\n     */\n     T.afterToggle = function () {\n        if (iNavCenter.lastDisplayType === _block_)\n            ContentFolder_adjust();\n    }\n\n    /**\n     * 处理热键操作\n     * @param key 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (key, combKeys, event) {\n        // 文档库热键操作\n        T.docLib.disposeHotkey(key, combKeys, event);\n\n        if (T.ui.isHidden())\n            return;\n\n        let handled = false;\n        switch (key) {\n            case _escape_:\n                if (!T.keyword.inputing && T.showed && T.lastDisplayType === _float_) {\n                    T.hide();\n                    handled = true;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n    }\n}\n\n/**\n * 导航中心初始化\n */\nNavCenter.init = function () {\n    // 没有生成目录\n    if (gToc.isEmpty()) {\n        NavCenter.hideOnError();\n        return gFalse;\n    }\n\n    // 有生成目录，则复制 toc 内容\n    // let vlookToc = gToc.clone();\n    // 转换到生成的 <nav> 下\n    let vlookToc = gToc.clone(false), // false 指不复制子元素\n        tocContent = gToc.ch(\".\" + _mdToc__ + _content_),\n        navToc = $(V_ui_nav(_, _, _));\n    // 克隆属性数据\n    $.each(tocContent.prop(\"attributes\"), (index, element) => {\n        navToc.attr(element.name, element.value);\n    });\n    navToc.hm(tocContent.hm());\n    vlookToc.hm(navToc.prop(_outerHTML_));\n\n    // 移除原目录数据，避免同名 DOM\n    JQ_remove(gToc);\n    // 将复制的目录进行唯一性标识\n    vlookToc.f(\".\" + _mdToc__ + _content_).a(_id_, _vlookToc_);\n    iNavCenter.catalog.ui.body.ap(vlookToc);\n\n    gTocContent = V_byID(_vlookToc_);\n    gToc = gTocContent.p(); // 更新引用块\n    // 检查目录内容情况\n    if (gTocContent.isEmpty()) {\n        NavCenter.hideOnError();\n        return gFalse;\n    }\n\n    // 文库\n    iNavCenter.docLib = new DocLib(new BgMask(_docLib_, _center_), this);\n    // 当前文档不是 mini 类型（文库类文档一般为 mini 类型）\n    if (V_pageMode !== _mini_) {\n        // 文库\n        if (iNavCenter.docLib.length === 0)\n            ALERT(_failed_ + \"iDocLib ]\");\n        else if (V_util_getParamVal(_vdl_) !== _off_) {\n            iNavCenter.docLib.init();\n        }\n    }\n    // 根据文库配置显示入口\n    if (iNavCenter.docLib.enabled)\n        iToolbar.btns[_docLib_].c(_display_, \"flex\");\n\n    // 有 Typora 生成的原始目录节点，针对 VLOOK 的封面规则进行调整\n    let tocSet = gTocContent.ch(\".\" + _mdToc__+ \"h1,.\" + _mdToc__+ \"h2,.\" + _mdToc__+ \"h3,.\" + _mdToc__+ \"h4,.\" + _mdToc__+ \"h5,.\" + _mdToc__+ \"h6\"),\n        tocSetLength = tocSet.length,\n        hasCover = (VOM_cover() !== gUndefined);\n    tocSet.e((index, element) => {\n        let _t = $(element);\n        // 只处理 h1～h5 的目录节点\n        if (_t.a(_class_).i(_mdToc_ + \"-h6\") === -1) {\n            if (hasCover) { // 文档有封面时\n                if (index < tocSetLength - 1) // 未到最后一个元素\n                    iNavCenter.catalog.add(_t);\n                else // 最后一个 h1 为封底，移除\n                    JQ_remove(_t);\n            }\n            else\n                iNavCenter.catalog.add(_t);\n        }\n        // 移除无效的目录节点（如：封面、封底、普通的 h6 节点）\n        else\n            JQ_remove(_t);\n    });\n\n    // 不指定打开，则默认收起所有含子章节的 h1 章节\n    let tocAutoCloseLevel = V_util_getParamVal(\"toc\");\n    tocAutoCloseLevel = (tocAutoCloseLevel !== gUndefined) ? JS_parseInt(tocAutoCloseLevel) : 1;\n    if (tocAutoCloseLevel >= 1 && tocAutoCloseLevel <=5) {\n        // ERROR(555, \".\" + _vMdToc__ + \"h\" + tocAutoCloseLevel + V_attrCSS(_dataNode_, 1) + V_attrCSS(_dataFolded_, _false_));\n        gTocContent.ch(\".\" + _mdToc__ + \"h\" + tocAutoCloseLevel + V_attrCSS(_dataNode_, 1) + V_attrCSS(_dataFolded_, _false_)).e((index, element) => {\n            iNavCenter.catalog.disposeFold($(element).a(_id_), \"c\", gTrue);\n        });\n    }\n\n    return gTrue;\n}\n\n/**\n * 隐藏导航中心（异常情况使用）\n */\nNavCenter.hideOnError = function () {\n    iNavCenter.hide();\n\n    ERROR([\n        \"文档中没有找到目录信息，请用Typora最新版本导出，并应用最新VLOOK插件\",\n        \"No [TOC] information was found in the document, export it with the latest version of Typora and apply the latest VLOOK plug-in.\"\n    ][V_lang_id]);\n}\n\n// ==================== 逐章导航类 ==================== //\n\n/**\n * 构造函数\n */\nfunction ChapterNav() {\n    let T = this,\n        __prevName = _vChapterNav_ + __prev,\n        __currentName = _vChapterNav_ + __current_,\n        __nextName = _vChapterNav_ + __next_,\n        __docTitleName = _vChapterNav_ + __docTitle_;\n    // 逐章导航面板主界面\n    T.ui = V_byClass(_vChapterNav_ + _);\n\n    T.prev = {\n        ui : V_byClass(__prevName), // 前一章界面\n        text: V_byClass(_vChapterNav_ + __prev + __text_), // 前一章文本界面\n    };\n\n    T.current = {\n        ui : V_byClass(__currentName), // 当前章节界面\n    };\n\n    T.next = {\n        ui : V_byClass(__nextName), // 后一章界面\n        text : V_byClass(_vChapterNav_ + __next_ + __text_), // 后一章文本界面\n    };\n\n    // 文档标题\n    T.dt = V_byClass(__docTitleName);\n    T.dt.t(V_util_getDocTitle());\n\n    if (V_pageMode !== _max_)\n        T.ui.hide();\n\n    /**\n     * 初始化动效\n     */\n    T.adjustEffectLevel = function (target) {\n        // 因 CSS 的 transition 不变动渐变背景过渡效果，须通过增/减不同的预置样式实现过渡效果\n        if (V_ui_effect >= 1) {\n            JQ_addClass(V_byClass(target), _effect_);\n            V_ui_addAnimate(V_byClass(target + \".effect\"));\n        }\n        else {\n            JQ_exchangeClass(V_byClass(target), _effect_, \"noeffect\");\n        }\n    }\n    // 初始化动效\n    T.adjustEffectLevel(__prevName);\n    T.adjustEffectLevel(__currentName);\n    T.adjustEffectLevel(__nextName);\n    T.adjustEffectLevel(__docTitleName);\n\n    /**\n     * 跳转至前一章节\n     */\n    T.prev.ui.uC().ck(() => {\n        ToolTips_hide();\n        if (T.prev.text.a(_dataAnchor_) === _cover_)\n            iNavCenter.gotoCover();\n        else\n            iNavCenter.catalog.gotoHeader(T.prev.text);\n    });\n\n    /**\n     * 回到封面\n     */\n    T.dt.uC().ck((event) => {\n        ToolTips_hide();\n        if ($(event.currentTarget).a(_disabled_) === gUndefined)\n            iNavCenter.gotoCover();\n    });\n\n    /**\n     * 跳转至当前章节\n     */\n    T.current.ui.uC().ck(() => {\n        ToolTips_hide();\n        iNavCenter.catalog.gotoHeader(T.current.ui);\n    });\n\n    /**\n     * 跳转至后一章节\n     */\n    T.next.ui.uC().ck(() => {\n        ToolTips_hide();\n        iNavCenter.catalog.gotoHeader(T.next.text);\n    });\n\n    /**\n     * 更新逐章导航栏 UI 及数据\n     */\n    T.update = function () {\n        let curIdx = iNavCenter.catalog.currentHeaderIndex;\n\n        // ----------------------------------------\n        // 更新「上一章」导航内容\n        if (curIdx > 0) {\n            T.prev.ui.show();\n            T.prev.ui.c(_display_, _block_);\n            T.prev.text.t(V_byID(iNavCenter.catalog.h[curIdx - 1]).t());\n            T.prev.text.a(_dataAnchor_, iNavCenter.catalog.h[curIdx - 1]);\n\n            // 【无封面】模式时处理\n            if (VOM_cover() === gUndefined) {\n                JQ_removeClass(T.dt, _inStart_);\n                JQ_removeAttr(T.dt, _disabled_);\n                T.adjustEffectLevel(__docTitleName);\n                ToolTips_bind(T.dt, _center_);\n            }\n        }\n        // 当前章节为第 1 章时特殊处理，设置为「封面」\n        else if (iNavCenter.catalog.inFirstHeader()) {\n            T.prev.text.t([\n                \"封面\",\n                \"Cover\"\n            ][V_lang_id]);\n            T.prev.text.a(_dataAnchor_, _cover_);\n        }\n        // 「无封面」模式时对「文档标题」章节的特殊处理\n        else if (iNavCenter.catalog.inDocTitle()) {\n            T.prev.ui.hide();\n            T.current.ui.hide();\n            // 调整为在文档开始位置时的样式\n            JQ_removeClass(T.dt, \"noeffect effect hover\");\n            JQ_addClass(T.dt, _inStart_);\n            T.dt.a(_disabled_, _true_);\n            V_ui_unbindHover(T.dt);\n        }\n\n        // ----------------------------------------\n        // 更新「当前章节」导航内容\n        if (iNavCenter.catalog.currentItem !== gUndefined) {\n            // 【无封面】模式\n            if (iNavCenter.catalog.inDocTitle())\n                T.current.ui.hide();\n            else\n                T.current.ui.show();\n\n            let headerNum = iNavCenter.catalog.currentItem.a(_dataHeaderNum_);\n            if (headerNum === gUndefined)\n                headerNum = _;\n            T.current.ui.hm(V_ui_span(_, _, headerNum)\n                + iNavCenter.catalog.currentItem.a(_title_));\n            T.current.ui.a(_dataAnchor_, iNavCenter.catalog.h[curIdx]);\n        }\n\n        // ----------------------------------------\n        // 更新「下一章」导航内容\n        if (curIdx < iNavCenter.catalog.h.length - 1) {\n            T.next.ui.show();\n            T.next.text.t(V_byID(iNavCenter.catalog.h[curIdx + 1]).t());\n            T.next.text.a(_dataAnchor_, iNavCenter.catalog.h[curIdx + 1]);\n        }\n        else\n            T.next.ui.hide();\n    }\n\n    /**\n     * 显示逐章导航栏\n     */\n    T.show = function () {\n        // 若已显示则直接退出\n        if (V_pageMode !== _max_ || JS_parseInt(T.ui.c(_top_)) >= 0)\n            return;\n\n        JQ_addClass(T.ui, _vFloatCard_);\n        T.ui.c(_top_, 0);\n        T.ui.show();\n    }\n\n    /**\n     * 隐藏逐章导航栏\n     */\n    T.hide = function () {\n        // 若已隐藏则直接退出\n        if (JS_parseInt(T.ui.c(_top_)) < 0)\n            return;\n\n        JQ_removeClass(T.ui, _vFloatCard_);\n        T.ui.c(_top_, -50);\n        T.ui.hide();\n    }\n\n    /**\n     * 逐章导航栏自适应显示\n     */\n    T.adjust = function () {\n        // 在封面时，隐藏逐章导航栏\n        if (!iNavCenter.catalog.inHeader()) {\n            T.hide();\n            // JQ_addClass(MoreDocContent_ui_before, _cover_);\n\n            // 初始化前 / 后章节数据\n            T.prev.text.a(_dataAnchor_, _cover_);\n            T.next.text.a(_dataAnchor_, iNavCenter.catalog.h[0]);\n        }\n        // 不在封面时，显示逐章导航栏\n        else {\n            // JQ_removeClass(MoreDocContent_ui_before, _cover_);\n            T.show();\n            T.update();\n        }\n    }\n\n    /**\n     * 逐章导航导航按钮在不同终端的适配处理\n     */\n    T.adjustHoverStyle = function () {\n        // 移动设备时解绑样式事件\n        if (env.device.mobile) {\n            T.prev.ui.uH();\n            T.current.ui.uH();\n            T.next.ui.uH();\n        }\n        // 非移动设备时绑定样式事件\n        else {\n            // 上一章\n            ToolTips_bind(T.prev.ui, _auto_);\n            // 文档标题\n            ToolTips_bind(T.dt, _center_);\n            // 当前章节\n            ToolTips_bind(T.current.ui, _center_);\n            // 下一章\n            ToolTips_bind(T.next.ui, _right_);\n        }\n    }\n\n    /**\n     * 处理热键操作\n     * @param key 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (key, combKeys, event) {\n        if (V_doc_block)\n            return;\n\n        let handled = false;\n        switch (key) {\n            case _arrowLeft_:\n            case ',':\n                T.prev.ui.tr(_click_);\n                // 自适应页面内容显示\n                iNavCenter.catalog.focusHeader();\n                handled = true;\n                break;\n            case _arrowRight_:\n            case '.':\n                T.next.ui.tr(_click_);\n                // 强制设置滚动间隔已超时，以强制触发 focusHeader 中的处理\n                V_doc_scroll_update(0, 0);\n                // 自适应页面内容显示\n                iNavCenter.catalog.focusHeader();\n                handled = true;\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n    }\n}\n\n// ==================== 段落导航类 ==================== //\n\n/**\n * 构造函数\n * @param tips 操作提示栏对象\n */\nfunction ParagraphNav(tips) {\n    let T = this;\n    T.tips = tips;\n    T.count = 0; // 段的总数量\n    T.curIdx = -1; // 当前段索引号\n    T.enabled = gFalse; // 是否段落导航激活\n\n    T.toolbar = gUndefined; // 联动的工具栏\n\n    /**\n     * 返回当前段落\n     */\n    T.cur = function () {\n        if (T.curIdx === -1)\n            return gUndefined;\n        return $(V_attrCSS(_dataId_, \"vk-pg-\" + T.curIdx));\n    }\n\n    /**\n     * 切换段落导航开关\n     * @returns boolean true：开启，false：关闭\n     */\n    T.tg = function (target) {\n        T.enabled = !T.enabled;\n        if (T.enabled) {\n            JQ_addClass(T.toolbar.btns[_paragraphNav_], _selected_);\n            MoreDocContent_hideAfter();\n\n            // 显示工具底栏提示信息\n            let key1 = V_ui_wrap_kbd(\"J\") + _2nbsp_ + \"↑\" + _2nbsp_,\n                key2 = _2nbsp_ +\"-\" + _2nbsp_ + V_ui_wrap_kbd(\"K\") + _2nbsp_ + \"↓\" + _2nbsp_,\n                key3 = _2nbsp_ + _2nbsp_ +\"/\" + _2nbsp_ + _2nbsp_ + V_ui_wrap_kbd(\"ESC\") + _2nbsp_;\n            T.tips.show([\n                key1 + \"上一个段落\"\n                    + key2 + \"下一个段落\"\n                    + key3 + \"退出\",\n                key1 + \"Previous paragraph\"\n                    + key2 + \"Next paragraphs\"\n                    + key3 + \"Exit\"\n            ][V_lang_id]);\n\n            T.goto(target);\n            return gTrue;\n        }\n        else {\n            T.hide();\n        }\n        return gFalse;\n    }\n\n    /**\n     * 添加段落\n     */\n    T.add = function (item) {\n        item.a(_dataId_, \"vk-pg-\" + T.count);\n        item.a(_dataPgIdx_, T.count);\n        T.count++;\n\n        // 单击内容块处理\n        item.uC().ck(() => {\n            // 未激活段落导航模式模式\n            if (!iParagraphNav.enabled) {\n                if (ThreeClicker_tick()\n                    && iParagraphNav.tg(item)) {\n                        iSpotlight.hide();\n                        iLaserPointer.hide();\n                    }\n            }\n            else {\n                T.goto(item);\n                if (ThreeClicker_tick()) {\n                    iParagraphNav.tg(item);\n                }\n            }\n        });\n    }\n\n    /**\n     * 上一个段\n     * @param step 跳转的步长\n     * @returns boolean 跳转结果，true：成功，false：失败\n     */\n    T.prevPg = function (step) {\n        if (!T.enabled)\n            return gFalse;\n\n        T.blurFocus();\n\n        // 未到首段\n        if (T.curIdx > 0) {\n            T.curIdx = T.curIdx - step;\n\n            if (T.curIdx < 0)\n                T.curIdx = 0;\n\n            // 如果目标内容块 item 跳转失败，则再尝试上一个\n            if (!T.goto(0))\n                T.prevPg(1);\n\n            return gTrue;\n        }\n        return gFalse\n    }\n\n    /**\n     * 下一个段\n     * @param step 跳转的步长\n     * @returns boolean 跳转结果，true：成功，false：失败\n     */\n    T.nextPg = function (step) {\n        if (!T.enabled)\n            return gFalse;\n\n        T.blurFocus();\n\n        // 未到末段\n        if (T.curIdx < T.count - 1) {\n            T.curIdx = T.curIdx + step;\n\n            // 跳转 step 后修正超出最大值的情况\n            if (T.curIdx > T.count - 1)\n                T.curIdx = T.count - 1;\n\n            // 如果目标内容块 item 跳转失败，则再尝试下一个\n            if (!T.goto(0))\n                T.nextPg(1);\n\n            return gTrue;\n        }\n        return gFalse;\n    }\n\n    /**\n     * 跳到指定的内容块，或最新的_blockFocusItemIndex指定的内容块\n     * @param target 跳转的目标。0: 指定跳到上/下一个位置，非0: 指定的目标位置\n     */\n    T.goto = function (target) {\n        T.blurFocus();\n\n        // 初始化目标段\n        let item = (target === 0)\n            ? T.cur()\n            : target;\n\n        // 若目标聚焦块为空（可能是对象已在其他处理过程中被删除）、不可视等情况\n        // 则返回跳转失败\n        if (item === gUndefined || item.isHidden() || item.o() === gUndefined)\n            return gFalse;\n\n        // 添加高亮样式\n        JQ_addClass(item, _vPgCurrentItem_);\n        T.curIdx = JS_parseInt(item.a(_dataPgIdx_));\n\n        // 或目标段不在当前窗口显示区域内，则跳转到对应位置\n        let height = item.h() * 3;\n        if (item.oT() !== 0\n            && ((item.oT() - height) < $(document).scrollTop()\n            || (item.oT() + height) > ($(document).scrollTop() + $(window).h()))) {\n                DOM_html().scrollTop(item.oT() - $(window).h() / 2);\n        }\n\n        return gTrue; // 返回跳转成功\n    }\n\n    /**\n     * 让当前聚焦段其失去聚焦效果\n     */\n    T.blurFocus = function () {\n        if (T.cur() !== gUndefined)\n            JQ_removeClass(T.cur(), _vPgCurrentItem_);\n    }\n\n    /**\n     * 隐藏当前段落的高亮样式\n     */\n    T.hide = function () {\n        MoreDocContent_refresh();\n        T.tips.hide();\n        JQ_removeClass(T.toolbar.btns[_paragraphNav_], _selected_);\n        T.enabled = gFalse;\n        T.blurFocus();\n    }\n\n    /**\n     * 处理热键操作\n     * @param key 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (key, combKeys, event) {\n        if (!T.enabled)\n            return;\n\n        let handled = false;\n        switch (key) {\n            case 'j':\n                TableCross_hide();\n                if (T.nextPg(1)) // 步长1\n                    ExtQuote_autoUnfold(); // 自动展开引用块\n                handled = true;\n                break;\n            case 'k':\n                TableCross_hide();\n                if (T.prevPg(1)) // 步长1\n                    ExtQuote_autoUnfold(); // 自动展开引用块\n                handled = true;\n                break;\n            case _escape_:\n                if (T.enabled) {\n                    T.hide();\n                    handled = true;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n    }\n}\n\n/**\n * 初始化段落导航模式\n */\nParagraphNav.init = function () {\n    iParagraphNav = new ParagraphNav(new BottomTips(_paragraphNav_));\n    // 添加关联组件\n    iParagraphNav.toolbar = iToolbar;\n\n    // 先清理多余的段落标签\n    $(\"li>p\" + _onlyChild_).contents().unwrap();\n\n    // 初始化\n    $(_h1_6_ + \",ul>li, \" + _summary_ + \",ol>li,p\" + V_attrCSS(_class_, _mdToc__ + _content_, \"!\") + \",figure,.\" + _mdDiagramPanel_ + \",.MathJax_SVG_Display\").e((index, element) => {\n        let item = $(element);\n        // 跳过不可见元素、子元素有嵌套 p 的情况，如li > p\n        if (item.is(\":\" + _visible_)\n            && (item.ch(\"p\").length === 0 || V_util_getTagName(item) === _details_)) {\n            iParagraphNav.add(item);\n\n            // 双击内容块\n            item.on(\"dblclick\", () => {\n                // 激活三击检查\n                // 配合段落的单击事件对 ThreeClicker_tick() 的判断实现\n                ThreeClicker_active();\n            });\n        }\n    });\n}\n\n// ==================== 三击处理器 ==================== //\n\nlet ThreeClicker_activeTime = 0;\n\n/**\n * 进入激活状态（在双击事件中触发）\n */\nfunction ThreeClicker_active() {\n    ThreeClicker_activeTime = new Date().getTime();\n}\n\n/**\n * 三击触发尝试\n * @returns boolean true：成功触发三击，false：未满足触发三击\n */\nfunction ThreeClicker_tick() {\n    // 未进入激活状态\n    if (ThreeClicker_activeTime === 0)\n        return gFalse;\n\n        // 与进入激活状态时间隔小于指定时间，则满足触发三击条件\n    if (new Date().getTime() - ThreeClicker_activeTime < 300) {\n        // 取消文本选择\n        window.getSelection().removeAllRanges();\n        return gTrue;\n    }\n\n    // 超过指定时间隔音则恢复为未激活\n    ThreeClicker_activeTime = 0;\n    return gFalse;\n}\n\n// ==================== 工具栏类 ==================== //\n\n/**\n * 构造函数\n * @param chpNav 章节导航对象\n */\nfunction Toolbar(chpNav) {\n    let T = this;\n    T.ui = V_byClass(_vToolbar_); // 工具栏主界面\n    T.btns = []; // 工具栏按钮集\n    T.chpNav = chpNav;\n\n    if (V_pageMode !== _max_)\n        T.ui.hide();\n\n    /**\n     * 添加按钮\n     * @param name 按钮标识\n     * @param clickEvent 按钮点击事件回调函数\n     */\n    T.add = function (name, clickEvent) {\n        T.btns[name] = V_byClass(_vBtn_ + \".\" + name);\n\n        T.btns[name].uC().ck(() => {\n            ToolTips_hide();\n            typeof(clickEvent) === _function_ && clickEvent();\n        });\n\n        // mouseenter 和 mouseleave 事件处理\n        T.btns[name].on(_mouseEnter_, (event) => {\n            let _t = $(event.currentTarget),\n                btnGroup = _t.a(_dataBtnGroup_);\n            if (btnGroup !== gUndefined)\n                JQ_addClass(V_byClass(_vBtnGroup_ + \".\" + btnGroup), _hover_);\n            ToolTips_show(_t, _auto_);\n        }).on(_mouseLeave_, (event) => {\n            let btnGroup = $(event.currentTarget).a(_dataBtnGroup_);\n            if (btnGroup !== gUndefined)\n                JQ_removeClass(V_byClass(_vBtnGroup_ + \".\" + btnGroup), _hover_);\n            ToolTips_hide();\n        });\n    }\n\n    /**\n     * 添加分隔条\n     * @param name 分隔条标识\n     */\n    T.addSpliter = function (name) {\n        T.btns[name] = V_byClass(\"v-\" + name);\n    }\n\n    /**\n     * 自适应显示工具栏\n     */\n    T.adjust = function () {\n        if (V_pageMode !== _max_)\n            return;\n\n        // 移动端下隐藏不必要的功能入口\n        if (env.device.mobile) {\n            T.btns[_paragraphNav_].hide();\n            T.btns[_spotlight_].hide();\n            T.btns[_laserPointer_].hide();\n            T.btns[_print_].hide();\n            T.btns[_toolbarSpliter_].hide();\n        }\n\n        // 如果是小屏，或在封面\n        if (V_ui_isSmallScreen() || !iNavCenter.catalog.inHeader()) {\n            let offsetY = 0;\n            // 小屏\n            if (V_ui_isSmallScreen()) {\n                T.ui.c(_paddingLeft_, 0)\n                    .c(_paddingRight_, 0)\n                    .c(_top_, 50 + offsetY);\n            }\n\n            // 微调工具栏分隔宽度\n            T.btns[_toolbarSpliter_].c(_width_, 20);\n\n            // 调整工具栏样式\n            JQ_removeClass(T.ui, _vFloatCard_);\n            JQ_addClass(T.ui, _cover_);\n\n            // 为去掉工具栏背景的按钮添加浮动样式\n            JQ_addClass(T.ui.ch(_vBtn__BtnGroup_), _vFloatCard_);\n            JQ_addClass(T.ui.ch(_vBtn__BtnGroup_), _float_);\n\n            // 大屏，回到封面及最开始位置进行二次调整\n            if (!V_ui_isSmallScreen()\n                && !iNavCenter.catalog.inHeader()) {\n                if ($(document).scrollTop() <= 5) {\n                    T.ui.c(_paddingLeft_, 10)\n                        .c(_paddingRight_, 10)\n                        .c(_top_, 10);\n                }\n                else {\n                    T.ui.c(_paddingLeft_, 10)\n                        .c(_paddingRight_, 10)\n                        .c(_top_, 0);\n                }\n            }\n            else {\n                // 小屏，在非封面位置进行二次调整\n                if (V_ui_isSmallScreen() && iNavCenter.catalog.inHeader())\n                    T.ui.c(_paddingLeft_, 0)\n                        .c(_paddingRight_, 0)\n                        .c(_top_, 50 + offsetY);\n                else {\n                    // 小屏，在封面及最开始位置进行二次调整\n                    if ($(document).scrollTop() <= 5)\n                        T.ui.c(_paddingLeft_, 10)\n                            .c(_paddingRight_, 10)\n                            .c(_top_, 10);\n                    // 小屏，在封面位置进行二次调整\n                    else\n                        T.ui.c(_paddingLeft_, 10)\n                            .c(_paddingRight_, 10)\n                            .c(_top_, 0);\n                }\n            }\n        }\n        // 宽屏，且不在封面\n        else {\n            if (T.ui.oT() === 0)\n                return;\n\n            // 调整工具栏样式\n            JQ_removeClass(T.ui, _cover_);\n            JQ_addClass(T.ui, _vFloatCard_);\n\n            // 微调工具栏分隔宽度\n            let btnCount = T.ui.f(\".\" + _vBtn_).length,\n                btnWidth = JS_parseInt(V_util_getVarVal(\"--v-tb-btn-w\")),\n                space = JS_parseInt(V_util_getVarVal(\"--v-tb-btn-s\"));\n            T.btns[_toolbarSpliter_].c(_width_, \"calc((\" + _varNavCenterWidth_ + \" - \"\n                    + (btnCount * btnWidth + JS_parseInt(T.ui.c(_paddingLeft_)) * 2 + (btnCount - 4) * space) + \"px) / 2)\");\n\n            T.ui.c(_paddingLeft_, 10)\n                .c(_paddingRight_, 10)\n                .c(_top_, 0);\n            // 为增加了工具栏按钮的背景去掉浮动样式\n            JQ_removeClass(T.ui.ch(_vBtn__BtnGroup_), _vFloatCard_);\n            JQ_removeClass(T.ui.ch(_vBtn__BtnGroup_), _float_);\n        } // else\n        T.ui.show();\n    }\n}\n\n// ==================== 颜色方案类 ==================== //\n\n/**\n * 构造函数\n */\nfunction ColorScheme() {}\n\nColorScheme.scheme = _light_; // 当前颜色以方案，light/dark\nColorScheme.schemeBeforePrint = _light_; // 打印前的颜色方案\n\n/**\n * 初始化\n */\nColorScheme.init = function () {\n    const __lightIcon = document.querySelector(_link_ + \"#\" + _docIcon_ + _light_);\n    const __darkIcon = document.querySelector(_link_ + \"#\" + _docIcon_ + _dark_);\n\n    // Light Mode 时的文档图标\n    function __setLightIcon() {\n        // 浏览器中显示的文档图标\n        JQ_remove(__darkIcon);\n        document.head.append(__lightIcon);\n    }\n\n    // Dark Mode 时的文档图标\n    function __setDarkIcon() {\n        // 浏览器中显示的文档图标\n        JQ_remove(__lightIcon);\n        document.head.append(__darkIcon);\n    }\n\n    // 根据系统 Color Scheme 变化进行适配更新颜色方案\n    function __syncScheme(matcher) {\n        if (matcher.matches) {\n            __initScheme(gTrue);\n            ColorScheme.tg(_dark_);\n        }\n        else {\n            __initScheme(gFalse);\n            ColorScheme.tg(_light_);\n        }\n    }\n\n    // 根据系统 Color Scheme 变化进行适配更新图标\n    function __initScheme(dark) {\n        if (dark) {\n            __setDarkIcon();\n            ColorScheme.scheme = _dark_;\n        }\n        else {\n            __setLightIcon();\n            ColorScheme.scheme = _light_;\n        }\n        StsColorScheme_updateIcons();\n    }\n\n    // 监听系统的 Color Scheme 变化\n    const mediaQuery = window.matchMedia(\"(prefers-\" + _color_ + __scheme_ + \":\" + _dark_ + \")\");\n    mediaQuery.addEventListener(\"change\", __syncScheme);\n\n    // 初始执行\n    __initScheme(mediaQuery.matches);\n}\n\n/**\n * 切换颜色方案\n * @param scheme 指定方案，为空时则轮换\n */\nColorScheme.tg = function (scheme) {\n    if (scheme === gUndefined)\n        scheme = (ColorScheme.scheme === _light_) ? _dark_ : _light_;\n\n    ColorScheme.scheme = scheme;\n    INFO(\"    Switch to ... [ \" + ColorScheme.scheme + \" ]\");\n    // 应用最新颜色方案\n    ColorScheme.refresh();\n\n    if (iNavCenter.docLib.enabled)\n        iNavCenter.docLib.reload(ColorScheme.scheme);\n\n    INFO(\"    DONE!\");\n}\n\n/**\n * 根据指定的颜色方案进行文档刷新\n */\nColorScheme.refresh = function () {\n    StsColorScheme_updateIcons();\n    // iToolbar.updateIcons();\n\n    // 批量修改颜色方案相关的 CSS 变量为指定的新值\n    let ac = \"--ac-\",\n        __alt = \"-a\",\n        __fade_bd = __fade_ + \"-bd\",\n        _title = __title_,\n        __cur = \"--cur-\",\n        // ---\n        acRed = ac + \"rd\",\n        acOrange = ac + \"og\",\n        acYellow = ac + \"ye\",\n        acLime = ac + \"lm\",\n        acGreen = ac + \"gn\",\n        acMineral = ac + \"mn\",\n        acOlives = ac + \"ol\",\n        acWine = ac + \"wn\",\n        acAqua = ac + \"aq\",\n        acCyan = ac + \"cy\",\n        acBlue = ac + \"bu\",\n        acSea = ac + \"se\",\n        acLavender = ac + \"la\",\n        acVine = ac + \"vn\",\n        acPurple = ac + \"pu\",\n        acRose = ac + \"ro\",\n        acPink = ac + \"pk\",\n        acGold = ac + \"gd\",\n        acBrown = ac + \"bn\",\n        acGray = ac + \"gy\",\n        acBlack = ac + \"bk\",\n        acTheme1 = ac + \"t1\",\n        acTheme2 = ac + \"t2\",\n        // ---\n        mm = \"--mm-c-\",\n        // ---\n        mmRed = mm + \"rd\",\n        mmOrange = mm + \"og\",\n        mmYellow = mm + \"ye\",\n        mmGreen = mm + \"gn\",\n        mmCyan = mm + \"cy\",\n        mmBlue = mm + \"bu\",\n        mmPurple = mm + \"pu\",\n        mmPink = mm + \"pk\",\n        mmBrown = mm + \"bn\",\n        mmGray = mm + \"gy\",\n        // ---\n        cm = \"--cm-\";\n\n    let __pn = \"--pn\",\n        __tbl = \"--tbl-\",\n        _variable = \"variable\",\n        _string = \"string\";\n    V_util_changeCssVarSet([\n        \"--v-\" + _invert_ + \"-\" + _dark_,\n        \"--v-\" + _brightness_ + \"-\" + _dark_,\n        \"--d-bc\",\n        \"--d-bi\",\n        \"-\" + __fade_ + \"-r\",\n        \"-\" + __fade_ + \"-g\",\n        \"-\" + __fade_ + \"-b\",\n        \"--d-fc\",\n        \"--fig-solid-bg\",\n        _varFigGrid__ + \"l\",\n        _varFigGrid__ + \"b\",\n        _varFigGrid__ + \"l-\" + _invert_,\n        _varFigGrid__ + \"b-\" + _invert_,\n        __pn + \"-c\",\n        __pn + \"-c-a\",\n        __pn + __fade_ + \"-r\",\n        __pn + __fade_ + \"-g\",\n        __pn + __fade_ + \"-b\",\n        \"--\" + _blockquote_ + \"-bg\",\n        \"--a-\" + _color_,\n        \"--\" + _mark_ + \"-bg\",\n        __tbl + \"bd\",\n        __tbl + \"tr-hv\",\n        __tbl + \"th-bg\",\n        __tbl + \"td-bg\",\n        __tbl + \"cell-bd\",\n        __tbl + \"row-g-alpha\",\n        \"--toc-h-num-\" + _color_,\n        \"--h-f\",\n        \"--h-box\" + __shadow_,\n        \"--h-bg-\" + _start_,\n        \"--h-bg-end\",\n        \"--code-bg\",\n        \"--std-code\" + __shadow_,\n        \"--rb-code\" + __shadow_,\n        \"--v-fl-sd\",\n        \"--v-fl-i-sd\",\n        \"--c-blk-bg\",\n        \"--key-bg\",\n        \"--key-reflect\",\n        \"--key\" + __shadow_,\n        \"--doc\" + __shadow_,\n        __cur + _pointer_,\n        __cur + _copy_ + \"-\" + _normal_,\n        __cur + _copy_ + \"-as-md\",\n        __cur + _text_,\n        __cur + \"laser\",\n        __cur + \"md\",\n        __cur + \"doclib\",\n        __cur + _http_,\n        __cur + \"https\",\n        __cur + \"email\",\n        __cur + \"docment\",\n        __cur + \"archive\",\n        __cur + \"risk\",\n        __cur + _inner_,\n        acRed,\n        acRed + __alt,\n        acRed + __fade_,\n        acRed + __fade_bd,\n        acRed + _title,\n        acOrange,\n        acOrange + __alt,\n        acOrange + __fade_,\n        acOrange + __fade_bd,\n        acOrange + _title,\n        acYellow,\n        acYellow + __alt,\n        acYellow + __fade_,\n        acYellow + __fade_bd,\n        acYellow + _title,\n        acLime,\n        acLime + __alt,\n        acLime + __fade_,\n        acLime + __fade_bd,\n        acLime + _title,\n        acGreen,\n        acGreen + __alt,\n        acGreen + __fade_,\n        acGreen + __fade_bd,\n        acGreen + _title,\n        acMineral,\n        acMineral + __alt,\n        acMineral + __fade_,\n        acMineral + __fade_bd,\n        acMineral + _title,\n        acOlives,\n        acOlives + __alt,\n        acOlives + __fade_,\n        acOlives + __fade_bd,\n        acOlives + _title,\n        acWine,\n        acWine + __alt,\n        acWine + __fade_,\n        acWine + __fade_bd,\n        acWine + _title,\n        acAqua,\n        acAqua + __alt,\n        acAqua + __fade_,\n        acAqua + __fade_bd,\n        acAqua + _title,\n        acCyan,\n        acCyan + __alt,\n        acCyan + __fade_,\n        acCyan + __fade_bd,\n        acCyan + _title,\n        acBlue,\n        acBlue + __alt,\n        acBlue + __fade_,\n        acBlue + __fade_bd,\n        acBlue + _title,\n        acSea,\n        acSea + __alt,\n        acSea + __fade_,\n        acSea + __fade_bd,\n        acSea + _title,\n        acLavender,\n        acLavender + __alt,\n        acLavender + __fade_,\n        acLavender + __fade_bd,\n        acLavender + _title,\n        acVine,\n        acVine + __alt,\n        acVine + __fade_,\n        acVine + __fade_bd,\n        acVine + _title,\n        acPurple,\n        acPurple + __alt,\n        acPurple + __fade_,\n        acPurple + __fade_bd,\n        acPurple + _title,\n        acRose,\n        acRose + __alt,\n        acRose + __fade_,\n        acRose + __fade_bd,\n        acRose + _title,\n        acPink,\n        acPink + __alt,\n        acPink + __fade_,\n        acPink + __fade_bd,\n        acPink + _title,\n        acGold,\n        acGold + __alt,\n        acGold + __fade_,\n        acGold + __fade_bd,\n        acGold + _title,\n        acBrown,\n        acBrown + __alt,\n        acBrown + __fade_,\n        acBrown + __fade_bd,\n        acBrown + _title,\n        acGray,\n        acGray + __alt,\n        acGray + __fade_,\n        acGray + __fade_bd,\n        acGray + _title,\n        acBlack,\n        acBlack + __alt,\n        acBlack + __fade_,\n        acBlack + __fade_bd,\n        acBlack + _title,\n        acTheme1,\n        acTheme1 + __alt,\n        acTheme1 + __fade_,\n        acTheme1 + __fade_bd,\n        acTheme1 + _title,\n        acTheme2,\n        acTheme2 + __alt,\n        acTheme2 + __fade_,\n        acTheme2 + __fade_bd,\n        acTheme2 + _title,\n        mmRed,\n        mmRed + __alt,\n        mmOrange,\n        mmOrange + __alt,\n        mmYellow,\n        mmYellow + __alt,\n        mmGreen,\n        mmGreen + __alt,\n        mmCyan,\n        mmCyan + __alt,\n        mmBlue,\n        mmBlue + __alt,\n        mmPurple,\n        mmPurple + __alt,\n        mmPink,\n        mmPink + __alt,\n        mmBrown,\n        mmBrown + __alt,\n        mmGray,\n        mmGray + __alt,\n        cm + _keyword_,\n        cm + _variable,\n        cm + _variable + \"-2\",\n        cm + _variable + \"-3\",\n        cm + \"tag\",\n        cm + \"attribute\",\n        cm + \"CodeMirror-cursor\",\n        cm + _string,\n        cm + _string + \"-2\",\n        cm + \"comment\",\n        cm + \"header\",\n        cm + _quote_,\n        cm + \"hr\",\n        cm + \"link\",\n        cm + \"negative\",\n        cm + \"positive\",\n        cm + _mata_,\n        cm + \"bulidin\",\n        cm + \"bracket\",\n        cm + \"atom\",\n        cm + \"number\"\n    ], (ColorScheme.scheme === _dark_) ? \"dk\" : \"lg\");\n\n    // 针对 Dark Mode 进行适配处理\n    ExtFigure_adjustColorScheme(gTrue);\n}\n\n// ==================== 字体风格选项、选择器类 ==================== //\n\nlet webfontHostAlt = _httpsPrefix_ + \"madmaxchow.github.io/openfonts/\";\n// let webfontHostAlt = _httpsPrefix_ + \"madmaxchow.gitee.io/openfonts/\";\n// let webfontHostAlt = _httpsPrefix_ + \"cdn.jsdelivr.net/gh/MadMaxChow/openfonts@master/\";\n\n/**\n * 构造函数\n * @param ui 选项的 UI\n * @param fonts 字体集数组\n */\nfunction FontThemeOption(ui, fonts) {\n    let T = this;\n    T.ui = ui;\n    T.fonts = fonts;\n    T.fontCount = T.fonts.length;\n}\n\n/**\n * 构造函数\n * @param mask 遮罩对象\n * @param theme 默认的字体主题\n */\nfunction FontTheme(mask, theme) {\n    let T = this;\n    T.theme = theme; // 当前字体风格，sans：非衬线（小清新），serif：衬线（文艺范）\n    T.ui = V_byClass(_vFontTheme_); // 字体风格切换选择界面\n    // 系统默认字体风格选项\n    T.localTheme = new FontThemeOption(V_byClass(_vFontThemeOpt_ + \"-\"  + _local_), []);\n    // Book 风格选项\n    T.bookTheme = new FontThemeOption(V_byClass(_vFontThemeOpt_ + \"-\" + _book_), []);\n    // 小清新字体风格选项\n    T.sansTheme = new FontThemeOption(V_byClass(_vFontThemeOpt_ + \"-\" + _sans_),\n        [\n            _VLOOK_Number_ + _normal_normal_, _VLOOK_Number_ + _normal_bold_, _VLOOK_Number_ + _normal_italic_,\n            _VLOOK_Digital_Sans_ + _normal_normal_, _VLOOK_Digital_Sans_ + _normal_500_, _VLOOK_Digital_Sans_ + _normal_bold_, _VLOOK_Digital_Sans_ + _normal_900_,\n            _VLOOK_Sans_Mono_ + _normal_normal_, _VLOOK_Sans_Mono_ + _normal_500_, _VLOOK_Sans_Mono_ + _normal_bold_, _VLOOK_Sans_Mono_ + _normal_900_,\n            _VLOOK_Sans_ + _normal_normal_, _VLOOK_Sans_ + _normal_bold_, _VLOOK_Sans_ + _normal_900_\n            ]);\n    // 艺术范字体风格选项\n    T.serifTheme = new FontThemeOption(V_byClass(_vFontThemeOpt_ + \"-\" + _serif_),\n        [\n            _VLOOK_Number_ + _normal_normal_, _VLOOK_Number_ + _normal_bold_, _VLOOK_Number_ + _normal_italic_,\n            _VLOOK_Digital_Serif_ + _normal_normal_, _VLOOK_Digital_Serif_ + _normal_bold_, _VLOOK_Digital_Serif_ + _normal_italic_, _VLOOK_Digital_Serif_ + _italic_bold_,\n            _VLOOK_Serif_Mono_ + _normal_normal_, _VLOOK_Serif_Mono_ + _normal_bold_, _VLOOK_Serif_Mono_ + _normal_italic_, _VLOOK_Serif_Mono_ + _italic_bold_,\n            _VLOOK_Serif_ + _normal_500_, _VLOOK_Serif_ + _normal_900_,\n            _VLOOK_Sans_Mono_ + _normal_normal_, _VLOOK_Sans_Mono_ + _normal_500_, _VLOOK_Sans_Mono_ + _normal_bold_, _VLOOK_Sans_Mono_ + _normal_900_,\n            _VLOOK_Sans_ + _normal_normal_, _VLOOK_Sans_ + _normal_bold_, _VLOOK_Sans_ + _normal_900_\n        ]);\n    // 遮罩\n    T.mask = mask;\n    T.mask.bindPartner(this, T.ui);\n\n    V_ui_addAnimate(T.ui);\n\n    // 绑定各字体风格选项事件\n    T.localTheme.ui.uC().ck(() => {\n        T.apply(_local_);\n        T.hide();\n    });\n    T.bookTheme.ui.uC().ck(() => {\n        T.apply(_book_);\n        T.hide();\n    });\n    T.sansTheme.ui.uC().ck(() => {\n        T.apply(_sans_);\n        T.initWebFont();\n        T.hide();\n    });\n    T.serifTheme.ui.uC().ck(() => {\n        T.apply(_serif_);\n        T.initWebFont();\n        T.hide();\n    });\n\n    /**\n     * 初始化\n     * @param theme 可选。强制指定的字体主题\n     */\n    T.init = function (theme) {\n        // 有指定强制字体主题，同时指定的字体主题合法且与文档配套的不一致，则进行处理\n        if (theme !== gUndefined\n            && theme.m(/^(local|sans|serif)$/i) != null\n            && theme !== T.theme) {\n                T.theme = theme;\n                T.apply(T.theme);\n        }\n\n        LOG(\"_____ FONT THEME (\" + T.theme + \") _____ \");\n\n        T.initWebFont();\n\n        // 对于本地字体主题的状态，直接为就绪\n        $(\":is(.\" + _vFontInfo_ + \"-local,.\" + _vFontInfo_ + \"book) > #\" + _fontsetStatus_).t(\"✅ \" + [\n            \"已就绪\",\n            _ready_\n        ][V_lang_id]);\n    }\n\n    /**\n     * 初始化 WebFont\n     */\n    T.initWebFont = function () {\n        let fontWeight500 = 500,\n            fontWeight900 = 900,\n            _Regular = \"-Regular\",\n            _Medium = \"-Medium\",\n            _Bold = \"-Bold\",\n            _Black = \"-Black\",\n            _Italic = \"-Italic\";\n        let unicodeRange = \"U+0021-002F,\" // !\"#$%&'()*+,-./（不含空格）\n            + \"U+0030-0039,\" // 0123456789\n            + \"U+003A-0040,\" // :;<=>?@\n            + \"U+005B-0060,\" // [\\]^_`\n            + \"U+007B-007E\"; // {|}~\n        let timeOutMsg = \"❌ \" + [\"超时\", \"Timeout\"][V_lang_id];\n\n        if (T.theme === _local_) {\n            // 动态加载字体 VLOOK Number\n            __loadNumberFont();\n        }\n        else if (T.theme === _sans_) {\n            // 动态加载字体 VLOOK Number\n            __loadNumberFont();\n            // 动态加载字体 VLOOK Digital Sans\n            __LoadDigitalSansFont();\n            // 动态加载字体 VLOOK Sans Mono\n            __loadSansMonoFont();\n            // 动态加载字体 VLOOK Noto Sans CJK SC\n            __loadSansCjkFont();\n\n            // Sans 字体主题的加载超时检测\n            setTimeout(() => {\n                if (T.sansTheme.fonts.length > 0)\n                    V_byClass(_vFontInfo_ + \"sans > #\" + _fontsetStatus_).t(timeOutMsg);\n            }, 600000); // 10 分钟后进行超时检测\n        }\n        else if (T.theme === _serif_) {\n            // 动态加载字体 VLOOK Number\n            __loadNumberFont();\n            // 动态加载字体 VLOOK Digital Serif\n            __LoadDigitalSerifFont();\n            // 动态加载字体 VLOOK Serif Mono\n            __loadSerifMonoFont();\n            // 动态加载字体 VLOOK Noto Serif CJK SC\n            __loadSerifCjkFont();\n\n            // 动态加载字体 VLOOK Sans Mono\n            __loadSansMonoFont();\n            // 动态加载字体 VLOOK Noto Sans CJK SC\n            __loadSansCjkFont();\n\n            // Serif 字体主题的加载超时检测\n            setTimeout(() => {\n                if (T.serifTheme.fonts.length > 0)\n                    V_byClass(_vFontInfo_ + \"serif > #\" + _fontsetStatus_).t(timeOutMsg);\n            }, 600000); // 10 分钟后进行超时检测\n        }\n\n        // 动态加载字体 VLOOK Number\n        function __loadNumberFont() {\n            let fontName = _VLOOK_Number_,\n                srcName = \"Altinn-DIN\";\n            T.loadFont(fontName, _normal_, _normal_, srcName, srcName);\n            T.loadFont(fontName, _normal_, _bold_, srcName, srcName + _Bold);\n            T.loadFont(fontName, _italic_, _normal_, srcName, srcName + _Italic);\n        }\n\n        // 动态加载字体 VLOOK Digital Sans\n        function __LoadDigitalSansFont() {\n            let fontName = _VLOOK_Digital_Sans_,\n                srcName = _NotoSansMono_;\n            T.loadFont(fontName, _normal_, _normal_, srcName, srcName + _Regular, unicodeRange);\n            T.loadFont(fontName, _normal_, fontWeight500, srcName, srcName + _Medium, unicodeRange);\n            T.loadFont(fontName, _normal_, _bold_, srcName, srcName + _Bold, unicodeRange);\n            T.loadFont(fontName, _normal_, fontWeight900, srcName, srcName + _Black, unicodeRange);\n        }\n\n        // 动态加载字体 VLOOK Digital Serif\n        function __LoadDigitalSerifFont() {\n            let fontName = _VLOOK_Digital_Serif_,\n                srcName = _LuxiMono_;\n            let luxiMonoSubName = srcName + _Italic;\n            T.loadFont(fontName, _normal_, _normal_, srcName, srcName + _Regular, unicodeRange);\n            T.loadFont(fontName, _normal_, _bold_, srcName, srcName + _Bold, unicodeRange);\n            T.loadFont(fontName, _italic_, _normal_, srcName, luxiMonoSubName + _Regular, unicodeRange);\n            T.loadFont(fontName, _italic_, _bold_, srcName, luxiMonoSubName + _Bold, unicodeRange);\n        }\n\n        // 动态加载字体 VLOOK Sans Mono\n        function __loadSansMonoFont() {\n            let fontName = _VLOOK_Sans_Mono_,\n                srcName = _NotoSansMono_;\n            T.loadFont(fontName, _normal_, _normal_, srcName, srcName + _Regular);\n            T.loadFont(fontName, _normal_, fontWeight500, srcName, srcName +_Medium);\n            T.loadFont(fontName, _normal_, _bold_, srcName, srcName + _Bold);\n            T.loadFont(fontName, _normal_, fontWeight900, srcName, srcName + _Black);\n        }\n\n        // 动态加载字体 VLOOK Serif Mono\n        function __loadSerifMonoFont() {\n            let fontName = _VLOOK_Serif_Mono_,\n                srcName = _LuxiMono_;\n            let luxiMonoSubName = srcName + _Italic;\n            T.loadFont(fontName, _normal_, _normal_, srcName, srcName + _Regular);\n            T.loadFont(fontName, _normal_, _bold_, srcName, srcName + _Bold);\n            T.loadFont(fontName, _italic_, _normal_, srcName, luxiMonoSubName + _Regular);\n            T.loadFont(fontName, _italic_, _bold_, srcName, luxiMonoSubName + _Bold);\n        }\n\n        // 动态加载字体 VLOOK Noto Sans CJK SC\n        function __loadSansCjkFont() {\n            let fontName = _VLOOK_Sans_,\n                srcName = \"NotoSansCJKsc\";\n            T.loadFont(fontName, _normal_, _normal_, srcName, srcName + _Regular);\n            T.loadFont(fontName, _normal_, _bold_, srcName, srcName + _Bold);\n            T.loadFont(fontName, _normal_, fontWeight900, srcName, srcName + _Black);\n        }\n\n        // 动态加载字体 VLOOK Noto Serif CJK SC\n        function __loadSerifCjkFont() {\n            let fontName = _VLOOK_Serif_,\n                srcName = \"NotoSerifCJKsc\";\n            T.loadFont(fontName, _normal_, fontWeight500, srcName, srcName + _Medium);\n            T.loadFont(fontName, _normal_, fontWeight900, srcName, srcName + _Black);\n        }\n    }\n\n    /**\n     * 绑定选择字体风格操作按钮\n     * @param button 绑定的工具栏按钮\n     */\n    T.bindButton = function (button) {\n        T.button = button; // 绑定的工具栏按钮\n    }\n\n    /**\n     * 加载自定义字体\n     * @param fontFamily 自定义字体名称\n     * @param fontStyle 字体样式\n     * @param fontWeight 字重\n     * @param srcFontName 字体源名称\n     * @param srcFontSubName 字体源子名称\n     * @param unicodeRange 指定应用的字符范围\n     */\n    T.loadFont = function (fontFamily, fontStyle, fontWeight, srcFontName, srcFontSubName, unicodeRange) {\n        if (document.fonts && !T.isExist(fontFamily, fontStyle, fontWeight)) {\n            let woffURL = \"url('\" + webfontHostAlt + srcFontName + \"-\" + _woff2_ + \"/\" + srcFontSubName + \".\" + _woff2_ + \"') format('\" + _woff2_ + \"')\",\n                fontFace;\n            if (unicodeRange === gUndefined) {\n                fontFace = new FontFace(fontFamily,\n                    ((_woff2_ !== gUndefined) ? woffURL : _), {\n                        style: fontStyle,\n                        weight: fontWeight,\n                        display: \"swap\"\n                    });\n            }\n            else {\n                fontFace = new FontFace(fontFamily,\n                    ((_woff2_ !== gUndefined) ? woffURL : _), {\n                        style: fontStyle,\n                        weight: fontWeight,\n                        display: \"swap\",\n                        unicodeRange: \"U+0030-0039\"\n                    });\n            }\n\n            // 指定字体加载完成后回调函数\n            fontFace.load().then((loadedFontFace) => {\n                document.fonts.add(loadedFontFace);\n\n                let fontID = fontFamily + \"/\" + fontStyle + \"/\" + fontWeight,\n                    readyMsg = \"✅ \" + [\"已就绪\", _ready_][V_lang_id],\n                    loadingMsg = [\"加载中\", \"Loading\"][V_lang_id];\n                LOG(\"↓↓↓ FONT LOADED ↓↓↓\");\n                LOG(fontID);\n\n                // --------------------\n                // 更新小清新风格字体包下载进度\n                // 剔除已下载的字体字形\n                for (let i = 0; i < T.sansTheme.fonts.length; i++) {\n                    if (T.sansTheme.fonts[i] === fontID) {\n                        T.sansTheme.fonts.splice(i, 1);\n                        break;\n                    }\n                }\n                // 计算进度\n                let sansLoadedCount = T.sansTheme.fontCount - T.sansTheme.fonts.length,\n                    sansStatus = V_byClass(_vFontInfo_ + \"sans > #\" + _fontsetStatus_);\n                if (sansLoadedCount < T.sansTheme.fontCount)\n                    sansStatus.t(loadingMsg + \"... (\" + JS_mathRound(sansLoadedCount / T.sansTheme.fontCount * 100) + \"%)\");\n                else\n                    sansStatus.t(readyMsg);\n\n                // --------------------\n                // 更新艺术范风格字体包下载进度\n                // 剔除已下载的字体字形\n                for (let i = 0; i < T.serifTheme.fonts.length; i++) {\n                    if (T.serifTheme.fonts[i] === fontID) {\n                        T.serifTheme.fonts.splice(i, 1);\n                        break;\n                    }\n                }\n                // 计算进度\n                let serifLoadedCount = T.serifTheme.fontCount - T.serifTheme.fonts.length,\n                    serifStatus = V_byClass(_vFontInfo_ + \"serif > #\" + _fontsetStatus_);\n                if (serifLoadedCount < T.serifTheme.fontCount)\n                    serifStatus.t(loadingMsg + \"... (\" + JS_mathRound(serifLoadedCount / T.serifTheme.fontCount * 100) + \"%)\");\n                else\n                    serifStatus.t(readyMsg);\n            });\n        }\n    }\n\n    /**\n     * 检测指定自定义字体是否已加载\n     * @param fontFamily 自定义字体名称\n     * @param fontStyle 字体样式\n     * @param fontWeight 字重\n     */\n    T.isExist = function (fontFamily, fontStyle, fontWeight) {\n        let values = document.fonts.values(),\n            isHave = gFalse,\n            item = values.next();\n\n        while (!item.done && !isHave) {\n            let fontFace = item.value;\n            if (fontFace.family === fontFamily\n                && fontFace.style === fontStyle\n                && fontFace.weight === fontWeight) {\n                    isHave = gTrue;\n                    LOG(\"///// FONT IS EXIST /////\");\n                    LOG(fontFamily + \"/\" + fontStyle + \"/\" + fontWeight);\n            }\n            item = values.next();\n        }\n        return isHave;\n    }\n\n    /**\n     * 显示字体风格选择器\n     */\n    T.show = function () {\n        T.mask.show();\n        V_ui_moveToCenter(T.ui);\n        T.ui.show();\n\n        LOG(\"'\" + T.theme + \"'\");\n        if (T.theme === _local_) {\n            JQ_addClass(T.localTheme.ui, _selected_);\n            JQ_removeClass(T.bookTheme.ui, _selected_);\n            JQ_removeClass(T.sansTheme.ui, _selected_);\n            JQ_removeClass(T.serifTheme.ui, _selected_);\n        }\n        else if (T.theme === _book_) {\n            JQ_removeClass(T.localTheme.ui, _selected_);\n            JQ_addClass(T.bookTheme.ui, _selected_);\n            JQ_removeClass(T.sansTheme.ui, _selected_);\n            JQ_removeClass(T.serifTheme.ui, _selected_);\n        }\n        else if (T.theme === _sans_) {\n            JQ_removeClass(T.localTheme.ui, _selected_);\n            JQ_removeClass(T.bookTheme.ui, _selected_);\n            JQ_addClass(T.sansTheme.ui, _selected_);\n            JQ_removeClass(T.serifTheme.ui, _selected_);\n        }\n        else {\n            JQ_removeClass(T.localTheme.ui, _selected_);\n            JQ_removeClass(T.bookTheme.ui, _selected_);\n            JQ_addClass(T.serifTheme.ui, _selected_);\n            JQ_removeClass(T.sansTheme.ui, _selected_);\n        }\n    }\n\n    /**\n     * 是否已显示\n     * @returns boolean\n     */\n    T.isShowed = function () {\n        return T.ui.c(_display_) !== _none_;\n    }\n    /**\n     * 显示/隐藏字体风格选择器\n     */\n    T.tg = function () {\n        if (T.isShowed()) {\n            T.hide();\n        }\n        else {\n            T.show();\n        }\n    }\n\n    /**\n     * 隐藏字体风格选择器\n     */\n    T.hide = function () {\n        T.ui.hide();\n        T.mask.hide();\n    }\n\n    /**\n     * 应用指定字体风格\n     * @param theme 指定应用的字体风格（sans/serif），不指定则以为当前字体风格\n     */\n    T.apply = function (theme) {\n        // 修正无指定样式的情况\n        if (theme === gUndefined)\n            theme = T.theme;\n        T.theme = theme;\n\n        // CSS 变量名称列表\n        let varFFm = \"--v-f-fm\",\n            varFw = \"--v-f-w\";\n        const varList = [\n            varFFm + __title_,\n            varFFm + \"-subtitle\",\n            varFFm + \"-h\",\n            varFFm + __text_,\n            varFFm + \"-bd\",\n            varFFm + \"-key\",\n            varFFm + \"-num\",\n            varFFm + \"-tag\",\n            varFFm + \"-\" + _code_,\n            varFw + \"-bd\",\n            varFw + __title_,\n            varFw + __text_\n        ];\n        // 生成目标字体主题变量值列表\n        let fontVarList = [];\n        for (let i = 0, len = varList.length; i < len; i++) {\n            fontVarList.push(V_util_getVarVal(varList[i] + \"-\" + T.theme));\n        }\n        // 遍历所有变量实现字体主题的切换\n        for (let i = 0, len = varList.length; i < len; i++) {\n            V_util_setVarVal(varList[i], fontVarList[i]);\n        }\n    }\n\n    /**\n     * 处理热键操作\n     * @param key 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (key, combKeys, event) {\n        if (T.ui.isHidden())\n            return;\n\n        let handled = false;\n        switch (key) {\n            case _escape_:\n                if (T.isShowed()) {\n                    T.hide();\n                    handled = true;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n    }\n}\n\n// ==================== 脚注类 ==================== //\n\n/**\n * 构造函数\n * @param mask 遮罩对象\n */\nfunction FootNote(mask) {\n    let T = this;\n    T.ui = V_byClass(_vFontnotePn_); // 脚注主界面\n    T.content = V_byClass(_vFontnotePn_ + \"-\" + _content_); // 脚注内容区\n\n    T.buttonSeeAll = V_byClass(_vFontnotePn_ + __footer_); // 查看所有脚注按钮\n    T.buttonSeeAll.uC().ck(() => {\n        T.hide();\n        // 跳转至所有脚注区域\n        WINDOW_setHref(_vkFooterArea_);\n    });\n\n    // 遮罩\n    T.mask = mask;\n    T.mask.bindPartner(this, T.ui);\n\n    /**\n     * 是否已显示\n     * @returns boolean\n     */\n    T.isShowed = function () {\n        return T.ui.c(_display_) !== _none_;\n    }\n\n    /**\n     * 显示脚注弹层\n     */\n    T.show = function () {\n        // 显示关联的遮罩\n        T.mask.show();\n\n        if (V_ui_isSmallScreen())\n            T.ui.c(_left_, 20)\n                .c(_right_, 20);\n        else\n            T.ui.c(_left_, \"15%\")\n                .c(_right_, \"15%\");\n\n        T.ui.show();\n    }\n\n    /**\n     * 隐藏脚注弹层\n     */\n    T.hide = function () {\n        T.ui.hide();\n        T.mask.hide();\n    }\n\n    /**\n     * 处理热键操作\n     * @param key 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (key, combKeys, event) {\n        if (T.ui.isHidden())\n            return;\n\n        let handled = false;\n        switch (key) {\n            case _escape_:\n                if (T.isShowed()) {\n                    T.hide();\n                    handled = true;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n    }\n}\n\n/**\n * 初始化脚注\n */\nFootNote.init = function () {\n    // 将 Typora 的脚注调整到封底前，VLOOK 规范的文档中最后一个 <h6> 是封底\n    let footnotesArea = V_byClass(_footnotesArea_);\n    // 「有封面」模式\n    if (VOM_backcover() !== gUndefined)\n        footnotesArea.insertBefore(VOM_backcover());\n    // 「无封面」模式\n    else\n        VOM_doc().ap(footnotesArea);\n\n    // 将 VLOOK 生成的脚注区锚点调整到生成 HTML 后的实际位置\n    $(_vkFooterArea_).insertBefore(footnotesArea);\n\n    // 移除默认的跳转属性\n    let a = $(\"a\" + V_attrCSS(_name_, _refFootnote_, \"^\")\n        + \",a\" + V_attrCSS(_id_, _refFootnote_, \"^\"));\n    JQ_removeAttr(a, _href_);\n    // 将脚注角标的事件替换为指定的处理事件\n    a.uC().ck((event) => {\n        // 获取脚注【返回】链接对应的脚注原文信息\n        let _t = $(event.currentTarget),\n            nameValue = _t.a(_name_),\n            nameValue2 = \"df\" + _refFootnote_,\n            target = $(\"a\" + V_attrCSS(_name_, \"df\" + nameValue)\n                + \",a\" + V_attrCSS(_id_, \"df\" + nameValue)).p().clone();\n\n        // 更新脚注弹层内容区\n        // LOG(target, target.t());\n        iFootNote.content.hm(target);\n        // 移除默认的返回链接\n        JQ_remove(target.f(\"a\" + V_attrCSS(_name_, nameValue2, \"^\")\n            + \",a\" + V_attrCSS(_id_, nameValue2, \"^\")));\n\n        // 显示脚注弹层\n        iFootNote.show();\n    });\n}\n\n// ==================== 状态栏类 ==================== //\n\nlet StatusBar_ui = gUndefined,\n    StatusBar_items = [], // 状态栏条目集\n    StatusBar_options = V_util_getParamVal(\"stsbar\");\n/**\n * 构造函数\n */\nfunction StatusBar_init() {\n    StatusBar_ui = V_byClass(_vStatusBar_);\n}\n\n/**\n * 添加状态栏条目\n * @param name 条目标识\n * @param item 条目对象\n */\nfunction StatusBar_add(name, item) {\n    StatusBar_items[name] = item;\n    if (StatusBar_options !== gUndefined && StatusBar_options.i(name) > -1) {\n        item.enabled = gFalse;\n        JQ_remove(item.ui);\n    }\n}\n\n/**\n * 自适应显示状态栏\n */\nfunction StatusBar_adjust() {\n    // 移动端下隐藏不必要的功能入口\n    if (env.device.mobile) {\n        JQ_remove(StatusBar_items[\"zoom-view\"]);\n    }\n}\n\n// ==================== 文档信息类 ==================== //\n\nlet StsDocInfo_ui = gUndefined,\n    DocInfo_enabled = gTrue,\n    gRE_cjk = /\\p{Unified_Ideograph}/ug;\n/**\n * 构造函数\n */\nfunction StsDocInfo_init() {\n    StsDocInfo_ui = V_byClass(_vDocInfo_);\n}\n\n/**\n * 统计字数\n */\nfunction DocInfo_countWord() {\n    if (!DocInfo_enabled)\n        return;\n\n    let latin = VOM_doc().t().m(/[\\w\\-]+/g),\n        cjk = VOM_doc().t().m(gRE_cjk);\n    let latinCount = (latin == null) ? 0 : latin.length,\n        cjkCount = (cjk == null) ? 0 : cjk.length,\n        wordCount = latinCount + cjkCount,\n        readCountPerMin = 180;\n\n    // 计算阅读时长\n    let mins = wordCount < readCountPerMin ? 1 : JS_parseInt(wordCount / readCountPerMin),\n        times = mins +___+ [\n            \"分钟\",\n            \"minutes\"\n        ][V_lang_id];\n    if (mins > 60)\n        times = (mins / 60).toFixed(1) +___+ [\n            \"小时\",\n            \"hours\"\n        ][V_lang_id];\n    // 默认信息\n    StsDocInfo_ui.a(_dataDefault_,\n        times + \" • \" + V_formatting_thousands(wordCount.toString()) +___\n        + [\n            \"字\",\n            \"words\"\n        ][V_lang_id]);\n    // 扩展信息\n    StsDocInfo_ui.a(_dataExtend_,\n        V_formatting_thousands(cjkCount.toString()) +___+ [\n            \"中日韩，\",\n            \"CJK, \"\n        ][V_lang_id]\n        + V_formatting_thousands(latinCount.toString()) +___+ [\n            \"非中日韩\",\n            \"Non-CJK\"\n        ][V_lang_id]);\n\n    // mouseenter 和 mouseleave 时显示扩展信息\n    StsDocInfo_ui.on(_mouseEnter_, (event) => {\n        StsDocInfo_ui.hm(StsDocInfo_ui.a(_dataExtend_));\n    }).on(_mouseLeave_, (event) => {\n        StsDocInfo_ui.hm(StsDocInfo_ui.a(_dataDefault_));\n    });\n    StsDocInfo_ui.hm(StsDocInfo_ui.a(_dataDefault_));\n}\n\n// ==================== 状态栏的字体主题类 ==================== //\n\nlet StsFontTheme_ui = gUndefined;\n/**\n * 构造函数\n */\nfunction StsFontTheme_init() {\n    StsFontTheme_ui = V_byClass(_vStsFontTheme_);\n    if (V_pageMode !== _max_)\n        StsFontTheme_ui.hide();\n\n    StsFontTheme_ui.a(_dataTips_, [\n        \"切换 字体风格\",\n        \"Switch Font Theme\"\n    ][V_lang_id] + \"\\n\" + V_ui_sub(_, _, V_ui_wrap_kbd(\"A\")));\n\n    ToolTips_bind(StsFontTheme_ui);\n    StsFontTheme_ui.uC().ck(() => {\n        iFontTheme.tg();\n    });\n}\n\n// ==================== 状态栏的颜色模式类 ==================== //\n\nlet StsColorScheme_ui = gUndefined;\n/**\n * 构造函数\n */\nfunction StsColorScheme_init() {\n    StsColorScheme_ui = V_byClass(_vColorScheme_);\n    if (V_pageMode !== _max_)\n        StsColorScheme_ui.hide();\n\n    StsColorScheme_ui.a(_dataTips_, [\n        \"切换 [ \" + V_ui_strong(\"黑暗\") + \" / \" + V_ui_strong(\"明亮\") + \" ] 模式\",\n        \"Switch \" + V_ui_strong(\"Dark\") + \" / \" + V_ui_strong(\"Light\") + \" Mode\"\n    ][V_lang_id] + \"\\n\" + V_ui_sub(_, _, V_ui_wrap_kbd(\"D\")));\n\n    ToolTips_bind(StsColorScheme_ui);\n    StsColorScheme_ui.uC().ck(() => {\n        ColorScheme.tg();\n    });\n}\n\n/**\n * 更新按钮图标\n */\nfunction StsColorScheme_updateIcons() {\n    // 调整模式切换按钮图标\n    StsColorScheme_ui.hm(V_ui_svgIcon(\n        (ColorScheme.scheme === _light_ ? _icoDarkMode_ : _icoLightMode_),\n        20, 20, _theme_));\n}\n\n// ==================== 状态栏的链接地图类 ==================== //\n\nlet StsLinkMap_ui = gUndefined;\n/**\n * 构造函数\n */\nfunction StsLinkMap_init() {\n    StsLinkMap_ui = V_byClass(_vLinkMap_);\n    if (V_pageMode !== _max_)\n        StsLinkMap_ui.hide();\n\n    StsLinkMap_ui.a(_dataTips_, [\n        \"链接地图\",\n        \"Link Map\"\n    ][V_lang_id] + \"\\n\" + V_ui_sub(_, _, V_ui_wrap_kbd(\"M\")));\n\n    ToolTips_bind(StsLinkMap_ui);\n    StsLinkMap_ui.uC().ck(() => {\n        // to-do:\n        if (LinkTool_panelList.isHidden())\n            LinkTool_show(_map_);\n        else\n            LinkTool_hide();\n    });\n}\n\n// ==================== 链接检查器类 ==================== //\n\nlet StsLinkTool_resultUI = gUndefined,\n    LinkTool_panelList = gUndefined,\n    LinkTool_panelHeader = gUndefined,\n    LinkTool_panelItems = gUndefined,\n    LinkTool_enabled = gTrue,\n    // LinkTool_iconError = _,\n    LinkTool_warningCount = 0,\n    LinkTool_errorCount = 0,\n    LinkTool_chpDup = [],\n    LinkTool_map = {},\n    LinkTool_mask = gUndefined;\n\n/**\n * 构造函数\n */\nfunction StsLinkTool_init(mask) {\n    StsLinkTool_resultUI = V_byClass(_vLinkChkResult_); // 检查结果\n    LinkTool_panelList = V_byClass(_vLinkInfoList_); // 坏链主界面\n    LinkTool_panelHeader = V_byClass(_vLinkInfoList_ + __header_);\n    LinkTool_panelItems = V_byClass(_vLinkInfoList_ + __items_); // 坏链内容列表\n    LinkTool_enabled = gTrue;\n\n    // 读取指定允许重复的章节标题预置选项\n    let chpDup = V_util_getMetaByName(_vlook__ + \"chp-dup\");\n    if (chpDup !== gUndefined)\n        LinkTool_chpDup = chpDup.x().sp(\";\");\n\n    StsLinkTool_resultUI.hm(V_ui_svgIcon(_icoLinkError_, 18, 18, \"wh\"));\n    StsLinkTool_resultUI.uC().ck((event) => {\n        if (LinkTool_panelList.isHidden())\n            LinkTool_show(_checked_);\n        else\n            LinkTool_hide();\n    });\n\n    // 遮罩\n    LinkTool_mask = mask;\n    LinkTool_mask.bindPartner(() => {\n        LinkTool_hide()\n    }, LinkTool_panelList);\n\n    // 滚动事件处理\n    LinkTool_panelItems.on(_scroll_, () => {\n        // 滚出了顶部则显示顶部渐变条\n        if (LinkTool_panelHeader.isHidden() && LinkTool_panelItems.scrollTop() > 10)\n            LinkTool_panelHeader.show()\n        // 否则隐藏\n        else if (LinkTool_panelItems.scrollTop() <= 10)\n            LinkTool_panelHeader.hide()\n    });\n}\n\n/**\n * 将 .md 的链接转换为 .html 链接（或指定后缀）\n */\nfunction LinkTool_mdToHtml() {\n    let xmd = V_util_getParamVal(\"xmd\"),\n        newExt = \".html\";\n\n    // 全局配置，禁用转换，则停止\n    if (xmd === _off_)\n        return;\n\n    // 全局配置，指定转换的后缀\n    if (xmd !== gUndefined)\n        newExt = \".\" + xmd;\n\n    $(\"a\" + V_attrCSS(_href_, \".md\", \"*\")).e((index, element) => {\n        let _t = $(element),\n            href = _t.a(_href_),\n            xmd = V_util_getUrlQueryParams(href)[\"xmd\"];\n\n        // 单个链接指定禁用转换，则停止\n        if (xmd === _off_)\n            return gTrue;\n\n        // 单个链接指定转换的后缀\n        if (xmd !== gUndefined)\n            _t.a(_href_, href.r(\".md\", \".\" + xmd));\n        else // 默认的全局后缀\n            _t.a(_href_, href.r(\".md\", newExt));\n    });\n}\n\n/**\n * 添加检查结果条目\n * @param type 类型：warning、error\n * @param targetToJump 目标对象\n * @param content 内容\n */\nfunction LinkTool_addToCheckResult(type, targetToJump, content) {\n    let id = targetToJump.a(_id_);\n    if (id === gUndefined) {\n        if (type === _warning_) {\n            LinkTool_warningCount++;\n            id = \"vk-\" + _warning_ + __anchor_ + LinkTool_warningCount\n        }\n        else if (type === _error_) {\n            LinkTool_errorCount++;\n            id = \"vk-\" + _error_ + __anchor_ + LinkTool_errorCount;\n        }\n        // 标记目标对象\n        targetToJump.a(_id_, id);\n    }\n\n    let item = $(V_ui_span(_vTocItem_, V_attr(_dataAnchor_, \"#\" + id), content));\n    JQ_addClass(item, type);\n\n    // 添加链接异常样式及属性\n    JQ_addClass($(item.a(_dataAnchor_)).a(_tabindex_, 0), \"v-link-error-source\");\n    // 添加节点\n    LinkTool_panelItems.ap(item);\n\n    // 刷新状态栏对应的按钮 UI\n    JQ_addClass(StsLinkTool_resultUI, type);\n    // LinkTool_updateStsUI();\n\n    item.uC().ck(() => {\n        JQ_removeClass(LinkTool_panelItems.ch(\".\" + _vTocItemCurrent_), _vTocItemCurrent_);\n        JQ_addClass(item, _vTocItemCurrent_);\n\n        V_util_gotoHash(item.a(_dataAnchor_));\n        LinkTool_hide();\n    });\n}\n\n/**\n * 检查链接\n */\nfunction LinkTool_checkLink() {\n    if (!LinkTool_enabled)\n        return;\n\n    // 检查所有页内链接对应的锚点是否都存在\n    $(_write_ + \" a\" + V_not(V_attrCSS(_class_, _mdToc__ + _inner_, \"*\"))).e((index, element) => {\n        let _t = $(element),\n            href = _t.a(_href_),\n            page = V_util_getUrlWithoutHash(href),\n            hash = V_util_getUrlHash(href);\n        // 忽略无效数据\n        // 对于 href=\"#\" 的情况，在 Typora 1.6.x 开始的版本需要考虑，因为 Typora 生成的 HTML 会自动过滤无效的页内链接，直接用 # 代替\n        if (href === gUndefined) // || href.length <= 1)\n            return gTrue;\n\n        // --------------------\n        // 页内链接\n        // 以 #mjx- 开始的链接为行间公式的页内引用块，会导致 jQuery 的正则表达式解析错误，须跳过\n        if (href === \"#\")\n            __addErrorLink(_t, hash);\n        else if (href.sW(\"#\") && !href.sW(_mjx__)) {\n            // 检索是否存在与该内链对应的锚点\n            let anchor = href.ss(1, href.length);\n            // 没有检索到对应的锚点\n            if (!anchor.sW(\"#\")\n                && $(_write_ + \" #\" + anchor + \",\" + _write_ + \" a\" + V_attrCSS(_name_, anchor)).length === 0) {\n                __addErrorLink(_t, hash);\n            }\n        }\n\n        // --------------------\n        // 将外部链接添加到链接地图中\n        // 在链接内容检查前执行，目的是获得原始的 hash 信息便于出错时查找修正\n        let hashNoMark = hash.ss(1, hash.length);\n        if (page.length > 0 && !page.sW(\"?\") && page.i(_docLibIdentifier_) === -1) {\n            // 如果键不存在，创建一个空数组用于保存内容\n            if (!(page in LinkTool_map))\n                LinkTool_map[page] = [];\n\n            // 向对应键的数组中添加内容，重复的 hash 不添加\n            if (LinkTool_map[page].indexOf(hashNoMark) === -1)\n                LinkTool_map[page].push(hashNoMark);\n        }\n\n        // --------------------\n        // 链接内容检查并修正：链接的锚点是否使用了标点符号（不符合锚点相关规范）\n        if (href.sW(_mjx__) || hash === gUndefined)\n            return;\n        // hash = hash.ss(1, hash.length);\n        if (hashNoMark.length > 0) {\n            let newHash = __disposeNonConformHash(hashNoMark);\n            if (newHash.length < hashNoMark.length || newHash !== hashNoMark) {\n                _t.a(_href_, V_util_getUrlWithoutHash(href) + \"#\" + newHash);\n                WARN(\"Fixed link [\" + _t.t() + \"] hash:\\n#\" + hashNoMark + \" --> \" + \"#\" + newHash);\n            }\n        }\n    });\n\n    // --------------------\n    // 生成链接地图\n    __genLinkMap();\n\n    // --------------------\n    // 标题内容检查\n    let headerTextSet = [];\n    $(_write_ + \" :is(\" + _h1_6_ + V_not(_firstChild_) + \")\").e((index, element) => {\n        let _t = $(element),\n            text = _t.t();\n\n        // 跳过无效的标题\n        if (_t.c(_visibility_) === _hidden_)\n            return;\n\n        // 是否有重复标题\n        if (headerTextSet.indexOf(text) === -1)\n            headerTextSet.push(text);\n        else if (LinkTool_chpDup.indexOf(text) === -1)\n            __addDuplicateChapter(_t);\n    });\n\n    // 刷新状态栏对应的按钮 UI\n    // LinkTool_updateStsUI();\n\n    // 生成链接地图\n    function __genLinkMap() {\n        let pageIndex = 0;\n        for (let page in LinkTool_map) {\n            pageIndex++;\n            // WARN(`Page[${pageIndex}]\\n` + page);\n            // 生成外部页面需要被检查的 hash 对应的 query 参数\n            let urlParams = new URLSearchParams(),\n                hashIndex = 0;\n            for (let i = 0; i < LinkTool_map[page].length; i++) {\n                let h = LinkTool_map[page][i];\n                hashIndex++;\n                if (h.length > 0)\n                    urlParams.append(\"vhash\" + hashIndex, h);\n            }\n            // 生成外部页面的目标链接，用于检查对应 hash 是否存在\n            let hashSet = urlParams.toString();\n            if (hashSet.length > 0) {\n                urlParams.append(\"vhashcount\", hashIndex);\n                hashSet = urlParams.toString();\n                __addLinkMapItem(page, hashSet, hashIndex);\n            }\n            else {\n                __addLinkMapItem(page, _, 0);\n            }\n        }\n    }\n\n    // 处理不规范的 hash 内容\n    function __disposeNonConformHash(hash) {\n        // 将空格转换为连字符\n        hash = hash.l().r(/\\s/g, \"-\");\n        // 对标点符号进行转换处理\n        return hash.r(/\\p{P}/gu, (p) => {\n            if (p === \"-\") return \"-\";\n            else if (p === \"–\") return \"--\";\n            else if (p === \"—\") return \"---\";\n            return _;\n          });\n    }\n\n    // 添加一条链接地图记录\n    function __addLinkMapItem(page, hashSet, hashCount) {\n        let // 超出长度上限时显示的内容\n            overLimit = V_ui_label(_, _, hashCount + [\n                \"超出 URL 最大长度\",\n                \"Over URL limit\"\n            ][V_lang_id]),\n            // 未超出长度上限，且有锚点时，则生成检查入口\n            checkHash = (hashSet.length > 0 ?\n                V_ui_label(_, _, V_ui_strong(hashCount) + [\n                    \" 个锚点\",\n                    \" Anchor\" + (hashCount > 1 ? \"s\" : _)\n                ][V_lang_id]\n                    + V_ui_a(\"check-hash\", page + \"?\" + hashSet, [\n                        \"检查 #️⃣\",\n                        \"Check #️⃣\"\n                    ][V_lang_id], __blank_))\n                : _),\n            // 生成最终的条目内容\n            item = V_ui_div(_, _vMapItem_, \"🔗 \"\n                + V_ui_a(_, page, JS_decodeURIComponent(page), __blank_)\n                + (page.length + hashSet.length > 8000\n                        ? overLimit\n                        : checkHash\n                    )\n        );\n\n        // 有锚点的添加到前面\n        if (hashCount > 0)\n            LinkTool_panelItems.pp(item);\n        // 无锚点的添加到后面\n        else\n            LinkTool_panelItems.ap(item);\n    }\n\n    // 添加一条警示记录：重复名称章节标题\n    function __addDuplicateChapter(aObj) {\n        LinkTool_addToCheckResult(_warning_, aObj,\n            V_ui_label(_, _, \"⚠️ 📖 \" + [\n                \"重复名称的标题\",\n                \"Duplicate Chapter\"\n            ][V_lang_id]) + aObj.t());\n    }\n\n    // 添加一条错误记录：无效的页内链接记录\n    function __addErrorLink(aObj, hash) {\n        LinkTool_addToCheckResult(_error_, aObj,\n            V_ui_label(_, _, \"🚫 🔗 \" + [\n                    \"无效页内链接\",\n                    \"Invalid Inner Link\"\n                ][V_lang_id]) + aObj.t()\n                + (\"#\" + aObj.t() === hash ? _ : \" (\" + hash + \")\"));\n    }\n}\n\n/**\n * 刷新状态栏对应的按钮 UI\n */\n// function LinkTool_updateStsUI() {\n//     // 有错误记录时\n//     if (LinkTool_panelItems.ch(_span_).length > 0 &&\n//         StsLinkTool_resultUI.a(_class_).i(_error_) < 0) {\n//         // 显示错误链接错误图标\n//         JQ_addClass(StsLinkTool_resultUI, _error_);\n//         StsLinkTool_resultUI.hm(LinkTool_iconError);\n//         StsLinkTool_resultUI.show();\n\n//         // 点击图标行为\n//         StsLinkTool_resultUI.uC().ck(() => {\n//             if (LinkTool_panelList.isHidden())\n//                 LinkTool_show(_checked_);\n//             else\n//                 LinkTool_hide();\n//         });\n//     }\n//     // 无错误记录时\n//     else if (LinkTool_panelItems.ch(_span_).length === 0) {\n//         StsLinkTool_resultUI.hide();\n//     }\n// }\n\n/**\n * 是否已显示\n * @returns boolean\n */\nfunction LinkTool_isShowed() {\n    // return StsLinkTool_resultUI.c(_display_) !== _none_;\n    return LinkTool_panelList.c(_display_) !== _none_;\n}\n\n/**\n * 显示链接面板\n * @param type 显示的内容，checked: 链接检查结果；map: 链接地图\n */\nfunction LinkTool_show(type) {\n    // 获取不同条目的对象\n    let tocItems = LinkTool_panelList.f(\".\" + _vTocItem_),\n        mapItems = LinkTool_panelList.f(\".\" + _vMapItem_);\n\n    let curType = LinkTool_panelList.a(_dataContentType_);\n    // if (curType === gUndefined)\n    //     curType = _checked_;\n    LinkTool_panelList.a(_dataContentType_, type);\n\n    // 当前显示的不是指定的内容类型才进行处理\n    if (curType === gUndefined || curType !== type) {\n        // 显示当前页面页内链接的检查结果\n        if (type === _checked_) {\n            mapItems.hide();\n            tocItems.show();\n        }\n        // 显示链接地图\n        else if (type === _map_) {\n            tocItems.hide();\n            mapItems.show();\n        }\n    }\n\n    // 显示面板\n    LinkTool_panelList.show();\n    LinkTool_mask.show();\n}\n\n/**\n * 隐藏坏链列表\n */\nfunction LinkTool_hide() {\n    LinkTool_panelList.hide()\n    LinkTool_mask.hide();\n\n    V_doc_scroll_unfreeze();\n}\n\n/**\n * 处理热键操作\n * @param key 非功能键键\n * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n * @param event 事件对象\n */\nfunction LinkTool_disposeHotkey(key, combKeys, event) {\n    if (LinkTool_panelList.isHidden())\n        return;\n\n    let handled = false;\n    switch (key) {\n        case _escape_:\n            if (LinkTool_isShowed()) {\n                LinkTool_hide();\n                handled = true;\n            }\n            break;\n    }\n\n    // 如果事件已处理，则禁止双重操作\n    if (handled)\n        event.preventDefault();\n}\n\n// ==================== 背景遮罩类 ==================== //\n\n/**\n * 构造函数\n * @param id 标识\n * @param style 扩展样式：left / right / bottom / center\n * @param close 是否显示关闭提示器\n */\nfunction BgMask(id, style, close) {\n    let T = this;\n    T.style = style;\n\n    // DOM_body().after\n    VOM_doc().af(V_ui_div(_, _vMask_ +___+ (style !== gUndefined ? style +___ : _) + id +___+ _vBackdropBlurs_,\n        V_ui_copyrightInfo()));\n\n    // 根据动效等级初始化遮罩样式\n    V_ui_initEffectLevel2();\n\n    T.ui = V_byClass(_vMask_ + \".\" + id);\n    T.closer = gUndefined;\n\n    // 生成关闭提示器\n    if (close !== gUndefined && close) {\n        T.ui.ap(V_ui_div(_, _vMaskClose_ +___+ T.style,\n            V_ui_svgIcon(_icoMaskCloser_, 16, 60, _light_)));\n        T.closer = T.ui.ch(\".\" + _vMaskClose_);\n    }\n\n    T.partner = gUndefined;\n    T.partnerUI = gUndefined;\n\n    /**\n     * 绑定联动对象\n     * @param partner 联动对象\n     * @param ui 联动对象的 UI\n     */\n    T.bindPartner = function (partner, ui) {\n        T.partner = partner;\n        T.partnerUI = ui;\n    }\n\n    /**\n     * 显示遮罩\n     */\n    T.show = function () {\n        // 冻结滚动\n        V_doc_scroll_freeze();\n        V_doc_block = gTrue;\n\n        // 总是在 target 下显示\n        T.ui.c(_zIndex_, T.partnerUI.c(_zIndex_) - 1);\n\n        // 对「关闭」提示器的处理\n        if (T.closer !== gUndefined) {\n            // 默认是 style = left 的位置\n            let offset = 30,\n                x = JS_parseInt(T.partnerUI.c(_left_)) + T.partnerUI.w() + offset,\n                y = JS_parseInt(T.partnerUI.c(_top_)) + (T.partnerUI.h() - T.closer.h()) / 2;\n            // left / right 的处理\n            if (T.style === _left_ || T.style === _right_) {\n                T.closer.c(_left_, T.style === _right_\n                        ? JS_parseInt(T.partnerUI.c(_left_)) - T.closer.w() - offset\n                        : x)\n                    .c(_top_, y);\n            }\n            // bottom 的处理\n            else if (T.style === _bottom_) {\n                y = JS_parseInt(T.partnerUI.c(_bottom_)) + T.partnerUI.h() + offset;\n                T.closer\n                    .c(_bottom_, y + 20)\n                    .c(_padding_, \"0px 50%\");\n            }\n        }\n\n        // 绑定 VLOOK logo 的点击事件\n        T.ui.f(\".\" + _vCopyright_ + \" .\" + _vCopyrightSvgIco_).uC().ck((event) => {\n            env.show($(event.currentTarget));\n        });\n\n        // 点击遮罩隐藏联动对象\n        T.ui.uC().ck(() => {\n            // 取消冻结滚动\n            V_doc_scroll_unfreeze();\n            // 隐藏联动对应\n            if (typeof(T.partner) === _function_)\n                 T.partner();\n            else\n                T.partner.hide();\n\n            T.hide();\n        });\n\n        T.ui.show();\n    }\n\n    /**\n     * 隐藏遮罩\n     */\n    T.hide = function () {\n        // 取消冻结滚动\n        V_doc_scroll_unfreeze();\n        V_doc_block = gFalse;\n\n        T.ui.hide();\n    }\n}\n\n// ==================== 长内容折叠类 ==================== //\n\nlet ContentFolder_enabled = gTrue,\n    ContentFolder_enabled_table = gTrue,\n    ContentFolder_enabled_figure = gTrue,\n    ContentFolder_enabled_codeblock = gTrue,\n    ContentFolder_limit = V_debugMode ? 300 : 640, // 内容须折叠的高度限值\n    ContentFolder_contents = [], // 须进行折叠判断和处理的内容集\n    ContentFolder_buildTimers = [],\n    ContentFolder_rowNumFilter = _table_ +___+ _tbody_ + \" tr\";\n\nfunction ContentFolder_init() {\n    if (!ContentFolder_enabled)\n        return;\n    // 更新 CSS 对应高度限制变量\n    V_util_setVarVal(\"--v-ex-limit\", ContentFolder_limit + \"px\");\n}\n\n/**\n * 添加内容\n */\nfunction ContentFolder_add(content, type) {\n    // 跳过不启用折叠，或任意父级元素是折叠引用块的情况\n    if (!ContentFolder_enabled\n        || content.ps(_details_ + \",\" + _blockquote_).length > 0) {\n        return;\n    }\n\n    if (type === _table_ && ContentFolder_enabled_table === gFalse)\n        return;\n    if (type === _figure_ && ContentFolder_enabled_figure === gFalse)\n        return;\n    if (type === _codeblock_ && ContentFolder_enabled_codeblock === gFalse)\n        return;\n\n    ContentFolder_contents.push(content);\n}\n\n/**\n * 适配内容展开操作区\n */\nfunction ContentFolder_adjust() {\n    if (!ContentFolder_enabled)\n        return;\n\n    // 提前中断未完成的处理\n    if (ContentFolder_buildTimers.length > 0) {\n        for (let i = 0, len = ContentFolder_buildTimers.length; i < len; i++)\n            clearTimeout(ContentFolder_buildTimers.shift());\n    }\n    // 重新开始构建内容展开操作区\n    ContentFolder_rebuild();\n}\n\n/**\n * 重建部分内容展开操作区，主要是 img, table, .md-fences 等会因导航中心的显示/关闭\n * 导致文档宽度变化而引起的内容高度也跟随变化的情况\n * 如在不显示导航中心时因宽度较变，高度等比变高，或高度反而变短\n * 会导致应该显示展开操作区即不显示，或不应显示却显示的情况\n */\nfunction ContentFolder_rebuild() {\n    if (!ContentFolder_enabled)\n        return;\n\n    // 遍历每个规则\n    let rules = gStyle.cssRules || gStyle.rules;\n    for (let j = rules.length - 1; j >= 0; j--) {\n        // 检查是否是要删除的规则\n        let ruleText = rules[j].selectorText;\n        if (ruleText !== gUndefined && ruleText.i(\n                \".\" + _vCaptionContainer_ + \".\" + _expander_ + \".id-\") > -1)\n                gStyle.deleteRule(j);\n    }\n\n    // 重建需要重建的部分\n    for (let i = 0, len = ContentFolder_contents.length; i < len; i++) {\n        // img 类长内容\n        if (V_util_getTagName(ContentFolder_contents[i]).sW(\"i\")) {\n            // 创建一个Image对象，实现图片的预下载\n            let img = new Image();\n            // 获得图片实际加载的 src（针对 img 指定 srcset, darksrc, darksrcset 的情况）\n            img.src = ContentFolder_contents[i].get(0).currentSrc;\n            // 如果图片已经存在于浏览器缓存，直接处理\n            if (img.complete)\n                ContentFolder_buildTimers.push(\n                    setTimeout(() => {\n                        ContentFolder_checkAndProcess(ContentFolder_contents[i], gTrue, i);\n                    }, 50)\n                );\n            // 等待图片下载完成后再处理\n            else\n                img.onload = function () {\n                    ContentFolder_checkAndProcess(ContentFolder_contents[i], gTrue, i);\n                }\n        }\n        // 非 img 类长内容\n        else {\n            // 设置按不同时间间隔执行，减少在处理数量过多时，会阻塞 UI\n            ContentFolder_buildTimers.push(\n                setTimeout(() => {\n                    ContentFolder_checkAndProcess(ContentFolder_contents[i], gTrue, i);\n                }, 50)\n            );\n        }\n    }\n}\n\n/**\n * 检测内容是否过长，过长则进行处理。适用于「插图、表格、代码块」等\n * @param target 折叠的目标对象\n * @param rebuild 本次折叠是否属于重建的（如在页面加载后，由于页面正文区宽度变化后调用时属于重建）\n * @param i 折叠内容序号\n */\nfunction ContentFolder_checkAndProcess(target, rebuild, i) {\n    if (!ContentFolder_enabled)\n        return;\n\n    let container = target.p(),\n        tagName = V_util_getTagName(target),\n        isImg = tagName.sW(\"i\");\n\n    // 重建时已生成题注，所以实际容器对象与初始化时第一次构建会不同\n    if (rebuild)\n        container = container.p();\n\n    // 已被点击展开过了，在重建时则跳过\n    let expanded = container.a(_dataContentExpanded_);\n    if (expanded !== gUndefined && expanded.sW(\"t\")) {\n        let folded = container.a(_dataBeforePrintFolded_);\n        if (folded !== gUndefined && !expanded.sW(\"t\")) {\n            ContentFolder_buildTimers.shift();\n            return;\n        }\n    }\n\n    // 针对 img 内容，进行父容器的正确性处理\n    if (isImg) {\n        // 图像若加载晚于 img 的题注生成，其父容器则题注而不是 VLOOK 标识的 img 父容器\n        if (container.a(_dataContainer_) === gUndefined)\n            container = container.p();\n    }\n\n    // 初始化折叠配置\n    container.a(_dataContentFolded_, _false_); // 未折叠\n    container.a(_dataContentExpanded_, _false_); // 已被点击扩展了\n    container.c(_height_, _auto_);\n    // 针对 Mermaid 图表，不添加会导致出现滚动条\n    if (tagName.sW(\"s\"))\n        container.c(_paddingBottom_, \"10px\");\n\n    let h = JS_parseInt(target.c(_height_));\n    // 高度超出折叠要求高度时进行折叠\n    if (h > ContentFolder_limit) {\n        // 构建内容展开操作区\n        ContentFolder_buildContentExpander(target, container, tagName, i);\n    }\n\n    ContentFolder_buildTimers.shift();\n}\n\n/**\n * 构建内容展开操作区\n * @param target 为目标对象创建展开操作区（如 table）\n * @param container 指定对象所属的容器（如 table 的容器为父元素 figure）\n * @param tagName target 的 HTML 标签名\n * @param i 折叠内容序号\n */\nfunction ContentFolder_buildContentExpander(target, container, tagName, i) {\n    if (!ContentFolder_enabled)\n        return;\n\n    // 设置为已折叠\n    container.a(_dataContentFolded_, _true_);\n\n    // 表格 <table>、Mermaid <svg> 图表的特性处理\n    if (tagName.sW(\"t\") || tagName.sW(\"s\")) {\n        container.c(_height_, ContentFolder_limit)\n            .c(_overflowX_, _auto_) // 可横向滚动\n            .c(_overflowY_, _hidden_);\n    }\n    // 非表格，非 Mermaid 图表的处理\n    else {\n        container.c(_height_, ContentFolder_limit)\n            .c(_overflowY_, _hidden_);\n    }\n\n    let w = JS_mathCeil(JS_parseFloat(container.c(_width_)));\n\n    // 如果处理对象为表格，先隐藏表格行号，find 过滤器的内容与对应的 css 要同步更新\n    if (container.f(_table_).length > 0)\n        JQ_addClass(container.f(ContentFolder_rowNumFilter), _vTblRowNumHidden_);\n\n    // 重新适配展开操作区尺寸\n    let tW = JS_mathCeil(JS_parseFloat(target.c(_width_)));\n    if (w > tW)\n        w = tW;\n\n    container.a(\"d-ex-label\", [\n        \"显示全部 ▼\",\n        \"Show all ▼\"\n    ][V_lang_id]);\n    let newClass = \".\" + _vCaptionContainer_ + \".\" + _expander_\n        + \".id-\" + i + \"::before{\" + _width_ + \":\" + w + \"px;}\";\n    gStyle.insertRule(newClass, 0);\n    JQ_addClass(container, _expander_ + \" id-\" + i);\n\n    container.a(_dataContentType_, tagName);\n\n    // 展开按钮 click 事件处理\n    container.on(_mouseUp_, () => {\n        ContentFolder_expand(container);\n    });\n}\n\n/**\n * 展开被折叠的内容\n * @param container 点击的按钮所在父元素\n */\nfunction ContentFolder_expand(container) {\n    if (!ContentFolder_enabled)\n        return;\n\n    let tagName = container.a(_dataContentType_);\n    // ERROR(222, tagName, container.hm());\n\n    // 移除内容展开操作区\n    JQ_removeClass(container, _expander_);\n\n    // 展开对应的内容\n    container.a(_dataContentFolded_, _false_);\n    container.a(_dataContentExpanded_, _true_);\n    container.c(_height_, _auto_);\n    // 针对表格 <table>、Mermaid <svg> 图表增加滚动属性\n    if (tagName.sW(\"t\") || tagName.sW(\"s\"))\n        container.c(_overflow_, _auto_);\n    // 非表格、非 Mermaid 图表的处理\n    else\n        container.c(_overflowY_, \"initial\");\n\n    // 如果处理对象为表格，恢复显示表格行号，find 过滤器的的内容与对应的 css 要同步更新\n    if (container.f(_table_).length > 0)\n        JQ_removeClass(container.f(ContentFolder_rowNumFilter), _vTblRowNumHidden_);\n}\n\n// ==================== 工具提示信息类 ==================== //\n\nlet ToolTips_ui = gUndefined,\n    ToolTips_continueShow = gFalse, // 是否激活持续显示\n    ToolTips_lastStyle = gUndefined,\n    ToolTips_aniTimer = null,\n    ToolTips_continueTimer = null,\n    ToolTips_delay = 2000;\n\n/**\n * 构造函数\n */\nfunction ToolTips_init() {\n    ToolTips_ui = V_byClass(_vToolTips_);\n\n    V_ui_addAnimate(ToolTips_ui, _opacity_);\n}\n\n/**\n * 绑定操作相关事件\n * @param source 对象\n * @param align 对齐方式，auto/center/right\n */\nfunction ToolTips_bind(source, align = _auto_) {\n    V_ui_bindHover(source);\n\n    source.on(_mouseEnter_, (event) => {\n        ToolTips_show(source, align);\n    }).on(_mouseLeave_, (event) => {\n        ToolTips_hide();\n    });\n}\n\n/**\n * 显示工具提示信息\n *\n * @param follow 提示的目标元素\n * @param align 强制指定工具提示的水平对齐方式（auto/left/center/right）\n * @param classValue 指定微调的样式\n */\nfunction ToolTips_show(follow, align, classValue) {\n    if (env.device.mobile)\n        return;\n\n    ToolTips_ui.hm(follow.a(_dataTips_));\n\n    // 强制取消最后一次延时显示的处理\n    clearTimeout(ToolTips_aniTimer);\n    ToolTips_aniTimer = null;\n    // 强制取消隐藏后指定时间内取消持续显示的处理\n    clearTimeout(ToolTips_continueTimer);\n    ToolTips_continueTimer = null;\n\n    ToolTips_lastStyle = classValue;\n\n    const space = 10,\n        tipsW = ToolTips_ui.iW(),\n        tipsH = ToolTips_ui.iH(),\n        ww = $(window).w() - space,\n        wh = $(window).h() - space;\n    let left = follow.oL(),\n        top = follow.oT() - $(document).scrollTop(),\n        width = follow.iW(),\n        height = follow.iH();\n\n    JQ_removeClass(ToolTips_ui, _top_ +___+ _bottom_ +___+ _center_ +___+ _right_);\n\n    // 指定对齐方式或提示超出屏幕\n    if (align !== _auto_ || (left + tipsW) > ww) {\n        // align: right\n        JQ_addClass(ToolTips_ui, _right_);\n        left = follow.oL() - tipsW + width;\n        // 右侧顶边，则微调\n        if (left + tipsW >= ww)\n            left = left - space;\n\n        // align: center\n        if (align === _center_) {\n            JQ_removeClass(ToolTips_ui, _right_);\n            JQ_addClass(ToolTips_ui, _center_);\n            left = follow.oL() + (width - tipsW) / 2;\n        }\n    }\n    // 左侧顶边，则微调\n    if (left <= 0)\n        left = space;\n\n    if (ToolTips_lastStyle !== gUndefined)\n        JQ_addClass(ToolTips_ui, ToolTips_lastStyle);\n\n    if (top + height + tipsH + space < wh) {\n        JQ_addClass(ToolTips_ui, _top_);\n        top = top + height + space;\n    }\n    else {\n        JQ_addClass(ToolTips_ui, _bottom_);\n        top = top - tipsH - space;\n    }\n    ToolTips_ui.c(_left_, left).c(_top_, top);\n\n    // 延时，或立即显示提示\n    let waitTime = (ToolTips_continueShow) ? 0 : ToolTips_delay;\n    ToolTips_aniTimer = setTimeout(() => {\n        ToolTips_continueShow = gTrue; // 一旦显示后，激活持续显示\n        V_ui_show(ToolTips_ui);\n\n    }, waitTime);\n}\n\n/**\n * 隐藏工具提示\n */\nfunction ToolTips_hide() {\n    // 隐藏后在指定时间内取消持续显示\n    clearTimeout(ToolTips_continueTimer);\n    ToolTips_continueTimer = setTimeout(() => {\n        ToolTips_continueShow = gFalse;\n    }, ToolTips_delay);\n\n    // V_doc_scroll_unfreeze();\n    // 强制取消最后一次延时显示的处理\n    clearTimeout(ToolTips_aniTimer);\n    ToolTips_aniTimer = null;\n    V_ui_hide(ToolTips_ui);\n\n    if (ToolTips_lastStyle !== gUndefined)\n        JQ_removeClass(ToolTips_ui, ToolTips_lastStyle);\n}\n\n// ==================== 弹层提示信息类 ==================== //\n\n/**\n * 构造函数\n * @param mask 遮罩对象\n */\nfunction InfoTips(mask) {\n    let T = this;\n    T.ui = V_byClass(_vInfoTips_);\n    T.aniTimer = null;\n\n    // 绑定点击事件\n    T.ui.uC().ck = function () {\n        T.hide();\n    }\n\n    // 遮罩\n    T.mask = mask;\n    T.mask.bindPartner(this, T.ui);\n\n    /**\n     * 显示通知信息\n     * @param message 提示内容\n     * @param delay 延时指定 ms 时间后自动关闭提示\n     * @param mask 是否显示遮罩\n     * @param target 事件源，不为空时则跟随显示\n     */\n    T.inform = function (message, delay, mask, target) {\n        T.show(message, delay, mask, \"inform\", target);\n    }\n\n    /**\n     * 显示泡泡信息\n     * @param message 提示内容\n     * @param delay 延时指定 ms 时间后自动关闭提示\n     * @param mask 是否显示遮罩\n     * @param target 事件源，不为空时则跟随显示\n     */\n    T.bubble = function (message, delay, mask, target) {\n        T.show(message, delay, mask, _bubble_, target);\n    }\n\n    /**\n     * 显示错误信息\n     * @param message 提示内容\n     * @param delay 延时指定 ms 时间后自动关闭提示\n     * @param mask 是否显示遮罩\n     * @param target 事件源，不为空时则跟随显示\n     */\n    T.error = function (message, delay, mask, target) {\n        T.show(message, delay, mask, _error_, target);\n    }\n\n    /**\n     * 是否已显示\n     * @returns boolean\n     */\n    T.isShowed = function () {\n        return T.ui.c(_display_) !== _none_;\n    }\n\n    /**\n     * 显示通知提示信息\n     * @param message 提示内容\n     * @param delay 延时指定 ms 时间后自动关闭提示\n     * @param mask 是否显示遮罩\n     * @param type 类型。info/error\n     * @param target 事件源，不为空时则跟随显示\n     */\n    T.show = function (message, delay, mask, type, target) {\n        clearTimeout(T.aniTimer);\n        T.aniTimer = null;\n\n        T.ui.hm(message);\n\n        // 先重置为默认值\n        JQ_removeClass(T.ui, _error_);\n        JQ_removeClass(T.ui, _bubble_);\n        T.ui.c(_width_, _)\n            .c(_height_, _)\n            .c(_right_, _auto_)\n            .c(_bottom_, _auto_)\n            .c(_borderRadius_, _varVRB_);\n        if (type === _error_)\n            JQ_addClass(T.ui, _error_);\n        else if (type === _bubble_)\n            JQ_addClass(T.ui, _bubble_);\n\n        // 跟随事件源显示\n        if (target !== gUndefined) {\n            V_ui_moveToTarget(T.ui, target);\n        }\n        // 居中显示\n        else\n            V_ui_moveToCenter(T.ui);\n\n        T.ui.show();\n\n        // 延时后自动关闭\n        if (delay != null) {\n            T.aniTimer = setTimeout(() => {\n                    T.hide();\n                }, delay);\n        }\n\n        // 显示遮罩\n        if (mask)\n            T.mask.show();\n    }\n\n    /**\n     * 隐藏弹窗信息\n     */\n    T.hide = function () {\n        T.ui.hide();\n        T.mask.hide();\n    }\n\n    /**\n     * 处理热键操作\n     * @param key 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (key, combKeys, event) {\n        if (T.ui.isHidden())\n            return;\n\n        let handled = false;\n        switch (key) {\n            case _escape_:\n                if (T.isShowed()) {\n                    T.hide();\n                    handled = true;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n    }\n}\n\n// ==================== 底部提示信息类 ==================== //\n\n/**\n * 构造函数\n * @param sourceName 配套的源对象标识\n */\nfunction BottomTips(sourceName) {\n    let T = this,\n        _vBottomTips = \"v-bottom-\" + _tips_;\n    VOM_doc().af(\n        V_ui_div(_, _vBottomTips +___+ sourceName,\n            V_ui_div(_, _)));\n\n    T.ui = V_byClass(_vBottomTips + \".\" + sourceName);\n\n    /**\n     * 显示底部提示栏\n     * @param message 提示内容\n     */\n    T.show = function (message) {\n        T.ui.ch(\"div\").hm(message);\n        T.ui.show();\n    }\n\n    /**\n     * 隐藏底部提示栏\n     */\n    T.hide = function () {\n        T.ui.hide();\n    }\n}\n\n// ==================== 文档更多内容遮罩栏 ==================== //\n\nlet MoreDocContent_ui_before = gUndefined,\n    MoreDocContent_ui_after = gUndefined;\n/**\n * 构造函数\n */\nfunction MoreDocContent_init() {\n    MoreDocContent_ui_before = V_byClass(_vMoreDocContent_ + _before_);\n    MoreDocContent_ui_after = V_byClass(_vMoreDocContent_ + _after_)\n}\n\n/**\n * 刷新显示更多内容遮罩栏\n * @param scrollTop 文档当前滚动位置，如果为空则自动获取\n */\nfunction MoreDocContent_refresh(scrollTop) {\n    if (scrollTop === gUndefined)\n        scrollTop = $(document).scrollTop();\n\n    // before UI\n    if (scrollTop > 20) {\n        if (MoreDocContent_ui_before.c(_display_) === _none_)\n            MoreDocContent_ui_before.show();\n    }\n    else\n        MoreDocContent_ui_before.hide();\n\n    // after UI\n    if (scrollTop + $(window).h() > ($(document).h() - 20))\n        MoreDocContent_ui_after.hide();\n    else {\n        if (MoreDocContent_ui_after.c(_display_) === _none_)\n            MoreDocContent_ui_after.show();\n    }\n}\n\n/**\n * 隐藏更多内容遮罩栏\n */\nfunction MoreDocContent_hideAfter() {\n    MoreDocContent_ui_after.hide();\n}\n\n// ==================== 题注生成器类 ==================== //\n\nlet CaptionGenerator_spliter = \". \",\n    CaptionGenerator_autoContent = gTrue; // 自动根据内索引对象内容生成题注\n\n/**\n * 生成题注\n * @param target 需要添加题注的对象\n * @param tagName HTML 标签名称\n */\nfunction CaptionGenerator_actionForTextContent(target, tagName) {\n    let captionPrefix = [\n            \"表 \",\n            \"Table \"\n        ][V_lang_id] + V_doc_counter_table,\n        caption = _,\n        indexObj = gUndefined,\n        anchor = _,\n        dataForSearch = _,\n        lang = _;\n\n    // 代码块 <pre>\n    if (tagName.sW(\"pr\")) {\n        lang = target.a(_lang_).x();\n        indexObj = iNavCenter.codeblock;\n        captionPrefix = [\n            \"代码块 \",\n            \"Code Block \"\n        ][V_lang_id] + V_doc_counter_codeblock;\n    }\n    // 表格 <table>\n    else if (tagName.sW(\"t\")) {\n        indexObj = iNavCenter.table;\n    }\n\n    // 尝试获得带题注语法的内容\n    let fcSet = CaptionGenerator_getCaptions(target.p().pr(), tagName);\n    let fc = fcSet[0], // 第 1 题注\n        fc2 = fcSet[1]; // 第 2 题注\n    captionPrefix = V_ui_span(_, _, captionPrefix + CaptionGenerator_spliter);\n\n    // 无指定的题注文本，同时开启了自动生成题注，则取其部分内容作为自动题注内容\n    if (fc == null || fc.x().length === 0) {\n        fc = _;\n        // 开启了自动生成题注\n        if (CaptionGenerator_autoContent) {\n            if (tagName.sW(\"t\")) { // 表格，并过滤掉列格式相关语法标识内容\n                fc = target.f(\"thead>tr:\" + _first_).t().x().r(/(==|:|[Y?]|\\[ ?]|## )/ig, _);\n                fc = V_util_truncateText(fc, 10);\n            }\n            else if (tagName.sW(\"pr\")) { // 代码块\n                // 若没有指定题注，则用 lang 属性的内容作为题注\n                if (lang.length > 0)\n                    fc = __genFromLang();\n                else {\n                    fc = target.f(\".\" + _vCodeMirrorLine_).t().x();\n                    // 省略中间内容处理\n                    fc = V_util_truncateText(fc, 10);\n                }\n            }\n        }\n        // 未开启自动生成题注\n        else {\n            if (lang.length > 0)\n                fc = __genFromLang();\n        }\n    }\n\n    // 代码块 <pre>\n    if (tagName.sW(\"pr\")) {\n        anchor = _vkIdCodeblock_ + V_doc_counter_codeblock;\n        target.wrap(V_ui_div(anchor, _vCaption_ + \" pr\"));\n        dataForSearch += target.f(\".\" + _vCodeMirrorLine_).t();\n    }\n    // 表格 <table>\n    else if (tagName.sW(\"t\")) {\n        anchor = _vkIdTbl_ + V_doc_counter_table;\n        target.wrap(V_ui_div(anchor, _vCaption_ + \" tbl\"));\n        dataForSearch += target.t();\n    }\n\n    caption = captionPrefix + fc;\n\n    // 添加第 1 题注\n    // lang = (tagName.sW(\"pr\") ? target.a(_lang_).x() : _);\n    target.bf(V_ui_figcaption(_vCap1_.xD(),\n        (lang.length > 0 ? V_attr(_lang_, \" (\" + lang + \")\") : _), caption));\n    // 添加第 2 题注\n    let has2Captions = (fc2 != null && fc2.length > 0);\n    if (has2Captions) {\n        // target.af(V_ui_figcaption(_vCap2_.xD(), _, captionPrefix + fc2));\n        target.af(V_ui_figcaption(_vCap2_.xD(), _, fc2));\n        target.p().a(_dataCaptionCount_, 2);\n    }\n    // ----------------------------------------\n    // 添加到对应的内容索引\n    if (indexObj !== gUndefined) {\n        dataForSearch += has2Captions ? fc2 : _;\n        V_byID(anchor).a(_dataTitle_, caption);\n        indexObj.add(caption, anchor, dataForSearch);\n    }\n\n    // 从属性 lang 生成题注内容\n    function __genFromLang() {\n        let result = lang.u();\n        lang = _;\n        JQ_removeAttr(target, _lang_);\n        return result;\n    }\n}\n\n/**\n * 针对插图（img、mermaid）生成题注\n * @param target 需要添加题注的对象\n * @param tagName 添加题注的目标对象的 HTML 标签名称\n */\nfunction CaptionGenerator_actionForMediaContent(target, tagName) {\n    let fc = target.a(_alt_), // 默认尝试获取图片的 alt 内容作为题注内容\n        fc2 = target.a(_title_), // 默认尝试获得图片的 title 作为第二题注内容\n        indexObj = iNavCenter.figure,\n        anchor = _,\n        dataForSearch = _;\n\n    let fcSet = null;\n    // 若图片 alt 无内容，则尝试获取前面段落（如<p>、<h6>）作为第 1、2 题注的内容\n    if (fc === gUndefined || fc.x().length === 0) {\n        fcSet = CaptionGenerator_getCaptions(target.p().pr(), tagName);\n        if (fcSet[0] != null)\n            fc = fcSet[0];\n        else {\n            // 使用图片的文件名作为题注\n            if (tagName.sW(\"i\")) {\n                let src = target.a(_src_);\n                fc = V_util_getUrlWithoutQueryAndHash(src.ss(src.lastIndexOf('/') + 1));\n            }\n        }\n        if (fcSet[1] != null)\n            fc2 = fcSet[1];\n    }\n\n    // 插图（img、mermaid）题注前缀\n    let caption = _,\n        captionPrefix = [\n        \"图 \",\n        \"Figure \"\n    ][V_lang_id] + V_doc_counter_figure;\n    // 音频题注 audio\n    if (tagName.sW(\"a\")) {\n        indexObj = iNavCenter.media;\n        captionPrefix = [\n            \"音频 \",\n            \"Audio \"\n        ][V_lang_id] + V_doc_counter_audio;\n    }\n    // 视频频题注 video\n    else if (tagName.sW(\"v\")) {\n        indexObj = iNavCenter.media;\n        captionPrefix = [\n            \"视频 \",\n            \"Video \"\n        ][V_lang_id] + V_doc_counter_video;\n    }\n\n    // 无指定的题注文本，同时开启了自动生成题注，则取其部分内容作为自动题注内容\n    if (fc == null || fc.x().length === 0) {\n        fc = _;\n        if (CaptionGenerator_autoContent) {\n            if (tagName.sW(\"s\")) // Mermaid SVG\n                fc = target.f(\"g\").t().x();\n            // 省略中间内容处理\n            fc = V_util_truncateText(fc.x(), 10);\n        }\n    }\n    captionPrefix = V_ui_span(_, _, captionPrefix + CaptionGenerator_spliter);\n    caption = captionPrefix + fc;\n\n    // 为插图（mermaid）增加题注 <svg>\n    if (tagName.sW(\"s\")) {\n        anchor = _vkIdFig_ + V_doc_counter_figure;\n        // 针对 Mermaid 插图，添加额外的类，用于打印前后处理时直接定位 Mermaid 插图的题注\n        target.wrap(V_ui_divExt(anchor, _vCaption_ + \" mermaid\", V_attr(_dataFigType_, tagName)));\n        dataForSearch += target.f(_div_ + \",\" + _span_ + \",tspan,\" + _text_).t();\n    }\n    // 为插图（img）增加题注 <img>\n    else if (tagName.sW(\"i\")) {\n        anchor = _vkIdFig_ + V_doc_counter_figure;\n        target.wrap(V_ui_divExt(anchor, _vCaption_, V_attr(_dataFigType_ , tagName)));\n        dataForSearch += target.a(_src_);\n    }\n    // 为音频增加题注 audio\n    else if (tagName.sW(\"a\")) {\n        anchor = _vkIdAudio_ + V_doc_counter_audio;\n        target.wrap(V_ui_divExt(anchor, _vCaption_, V_attr(_dataFigType_, tagName)));\n        dataForSearch += target.a(_src_);\n    }\n    // 为视频增加题注 video\n    else if (tagName.sW(\"v\")) {\n        anchor = _vkIdVideo_ + V_doc_counter_video;\n        target.wrap(V_ui_divExt(anchor, _vCaption_, V_attr(_dataFigType_, tagName)));\n    }\n\n    // 生成第 1 题注\n    target.bf(V_ui_figcaption(_vCap1_.xD(), _, caption));\n    // 生成第 2 题注\n    let has2Captions = (fc !== gUndefined && fc2 != null && fc2.length > 0);\n    if (has2Captions) {\n        // target.af(V_ui_figcaption(_vCap2_.xD(), _, captionPrefix + fc2));\n        target.af(V_ui_figcaption(_vCap2_.xD(), _, fc2));\n        target.p().a(_dataCaptionCount_, 2);\n    }\n    // ----------------------------------------\n    // 添加到对应的内容索引\n    if (indexObj !== gUndefined) {\n        dataForSearch += has2Captions ? fc2 : _;\n        V_byID(anchor).a(_dataTitle_, caption);\n        indexObj.add(caption, anchor, dataForSearch);\n    }\n\n    // ----------------------------------------\n    // 修正在 SVG 插图套上题注后的自适应尺寸 <svg>\n    if (tagName.sW(\"s\")) {\n        if (target.a(_height_) !== _none_ || target.c(_height_) !== _none_) { // 有指定高度的\n            JQ_removeAttr(target, _height_);\n            target.c(_height_, _);\n        }\n\n        // 调整SVG插图，尽量按其真实插图的大小显示，超出浏览器宽度的，则左右滚动浏览\n        let style = gUndefined;\n        if (target.c(_maxWidth_) !== _none_) // CSS 中指定了最大宽度\n            target.p().c(_width_, target.c(_maxWidth_));\n        else if ((style = target.a(_style_)) !== gUndefined && style.i(_width_) > -1) // 通过 style 指定了宽度\n            target.p().c(_width_, target.c(_width_));\n        else if (target.a(_width_) !== _100pc_) // 指定了 width 属性，且不为 100%\n            target.p().c(_width_, JS_parseInt(target.a(_width_)) + 4); // 4 为两边 border 的宽度\n        else if (target.a(_viewBox_) !== _none_) // 指定 width 为 100% 的情况\n            target.p().c(_width_, target.a(_viewBox_).sp(___)[2] + \"px\");\n        else\n            target.p().c(_width_, _100pc_);\n    }\n}\n\n/**\n * 返回插图、表格、代码块上方的题注\n * @param caption 潜在的题注内容对象\n * @param tagName 添加题注的目标对象的 HTML 标签名称\n */\nfunction CaptionGenerator_getCaptions(caption, tagName) {\n    let fcSet = [], // 题注集\n        captionTagName = V_util_getTagName(caption),\n        hideCaptionSrc = gFalse; // 是否隐藏题注源\n\n    let capResult = CaptionGenerator_parseSyntax(caption);\n    // 双题注\n    if (capResult[1] === 2) {\n        fcSet = __getCaptionSet(caption, 2, capResult[0]);\n        hideCaptionSrc = gTrue;\n    }\n    // 单题注\n    else if (capResult[1] === 1) {\n        fcSet = __getCaptionSet(caption, 1, capResult[0]);\n        fcSet[1] = null;\n        hideCaptionSrc = gTrue;\n    }\n    // 无题注语法，但由有 h1-h6 引导\n    else if (captionTagName.sW(\"h\")) {\n        fcSet[0] = caption.t().x();\n        fcSet[1] = null;\n        // 不能直接隐藏，会影响页内链接跳转至该位置\n        // 设置为不可见，并调整位置布局实现隐藏效果，同时不影响跳转\n        if (captionTagName === _h6_) { // 只针对 h6，h1-h5不隐藏\n           caption.c(_visibility_, _hidden_)\n                .c(_position_, _absolute_);\n        }\n    }\n\n    // 若成功匹配出题注，且内容不是 <img> 则隐藏原始内容\n    if (hideCaptionSrc && (!tagName.sW(\"i\") || capResult[0] === 200)) {\n        JQ_remove(caption);\n    }\n    return fcSet;\n\n\n\n    /**\n     * 返回题注数据数组\n     * @param target 题注数据的目标对象\n     * @param count 题注数量\n     * @param type 题注语法类型，100：标准，200：简化语法\n     * @returns [] [0] 为第 1 个题注，[1] 为第 2 个题注\n     */\n    function __getCaptionSet(target, count, type) {\n        let fcSet = [];\n        // 标准语法\n        if (type === 100) {\n            let text = target.t().x();\n            fcSet[0] = text.ss(2, text.i(\"]\", 2));\n            if (count === 2) // \"▲ \" +\n                fcSet[1] = text.ss(text.i(']\"', 2) + 2, text.length - 1);\n        }\n        // 简化语法\n        else if (type === 200) {\n            if (count === 2) // \"▲ \" +\n                fcSet[1] = target.f(_mark_ + \">em\").t().x();\n            JQ_remove(target.f(_mark_ + \">em\"));\n            fcSet[0] = target.t().x();\n        }\n        return fcSet;\n    }\n}\n\n/**\n * 解析并返回匹配的题注数量\n * @param target 题注语法内容对象\n * @returns [] [0] 语法类型, [1] 题注数量\n */\nfunction CaptionGenerator_parseSyntax(target) {\n    let reg2 = /^!\\[.+]\".+\"$/, // 有 2 个题注\n        reg1 = /^!\\[.+]$/, // 只有 1 个题注\n        html = _;\n    // 标准语法，双题注\n    if (reg2.test(target.t().x()))\n        return [100, 2]; // 100: 标准语法\n    // 标准语法，单题注\n    else if (reg1.test(target.t().x()))\n        return [100, 1]; // 100: 标准语法\n    // 简化的新语法\n    else if ((html = target.hm()) !== gUndefined) {\n        if (html.sW(\"<em><mar\") && html.eW(\"/em>\")) {\n            if (html.i(\"/em></mark>\") === -1)\n                return [200, 1]; // 200: 简化语法\n            else\n                return [200, 2]; // 200: 简化语法\n        }\n    }\n    return [0, 0]; // 无题注\n}\n\n// ==================== 分步分级类 ==================== //\n\n// 样式优化的目标内容\nlet BreadcrumbStyle_count = 0,\n    // 匹配面包屑内容中的指定分隔符号，但不包括 HTML 标签内的内容\n    BreadcrumbStyle_syntax = /(\\s*(\\/|\\\\|▸|▶︎|(&gt;))\\s*)(?![^<>]*>)/g;\n\n/**\n * 初始如化分步分级处理\n */\nfunction BreadcrumbStyle_init() {\n    // return;\n    // 对所有分步分级元素进行样式优化\n    $(_write_ + \" em>\" + _mark_ + _onlyChild_ + \">\" + _span_ + _firstChild_).e((index, element) => {\n        BreadcrumbStyle_count++;\n        let _t = $(element),\n            mark = _t.p();\n        mark.unwrap(); // 解包 em\n        // 添加新包\n        mark.wrap(V_ui_span(_vBreadcrumbStyle_ + \" id-\" + BreadcrumbStyle_count, _, _));\n        _t.unwrap(); // 解包 mark\n\n        // ------ 正式开始处理 ------\n        let bread = _t.p(), // 获得添加新包后的新父级元素\n            slashOrg = \"</\",\n            slashTmp = \"<___slash___\",\n            html = bread.hm().rA(slashOrg, slashTmp);\n\n        // 生成原始内容\n        bread.a(_dataClipboardText_, bread.t());\n        // 将目标内容替换为指定标签进行样式优化\n        html = html.rA(BreadcrumbStyle_syntax, V_ui_label(_, _, ___));\n        bread.hm(html.rA(slashTmp, slashOrg));\n\n        // 点击事件处理\n        bread.uC().ck((event) => {\n            let _t = $(event.currentTarget);\n            Copyer_action(_t, _t.a(_dataClipboardText_), gFalse);\n        });\n    });\n\n    // 避免与 BreadcrumbStyle 处理中的多层触发\n    $(_write_ + \" .\" + _vBreadcrumbStyle_ + \" a\").ck((event) => {\n        event.stopPropagation(); // 停止事件冒泡\n    });\n}\n\n// ==================== 代码块增强类 ==================== //\n\n/**\n * 初始化代码块\n */\nfunction ExtCodeBlock_init() {\n    // 获取自动生成题注并编号的行数下限，大于该行数的代码才会自动生成题注和编号\n    // let lmc = V_util_getParamVal(\"lmc\");\n    // lmc = (lmc === gUndefined ? 1 : JS_parseInt(lmc));\n    // 遍历所有代码块\n    V_byClass(_vFences_).e((index, element) => {\n        let _t = $(element);\n\n        // 绑定内容助手\n        ContentAssistor_bind(_t, _codeblock_);\n\n        // 折叠长代码块\n        ContentFolder_add(_t, _codeblock_);\n\n        // 生成代码块插图题注（行数 > 1 的才进行处理）\n        // if (_t.f(\".\" + _vCodeMirrorLine_).length > lmc) {\n            V_doc_counter_codeblock++;\n            // 外套一个 <figure> 标签，用于内容折叠时与插图、表格的 DOM 结构一致\n            _t.wrap(V_ui_figure(_vCaptionContainer_, V_attr(_dataContainer_, _pre_)));\n\n            // 先根据题注语法生成题注\n            CaptionGenerator_actionForTextContent(_t, _pre_);\n        // }\n        // else {\n        //     // 若有指定题注内容，则删除\n        //     if (CaptionGenerator_parseSyntax(_t.pr())[0] > 0)\n        //         JQ_remove(_t.pr());\n        // }\n    });\n}\n\n/**\n * 复制代码块内容\n * @param source 内容源对象\n * @param event 事件对象\n */\nfunction ExtCodeBlock_copyContent(source, event) {\n    let content = _,\n        lines = ContentAssistor_lastHover.ch().f(\".CodeMirror-code .\" + _vCodeMirrorLine_),\n        lineNum = 0,\n        lineCount = lines.length,\n        // 用于清除或转换特殊字符\n        badChars = [\n            \"%E2%80%8B\", // ZERO WIDTH SPACE \\u200b\n            \"%C2%A0\", // NO-BREAK SPACE \\u00A0\n            \"%0A\" // NO-BREAK SPACE \\u0A\n        ],\n        goodChars = [\n            _, // 替换 ZERO WIDTH SPACE\n            \"%20\", // for NO-BREAK SPACE\n            _ // for NO-BREAK SPACE\n        ];\n    // 逐行读取代码\n    lines.e((index, element) => {\n        lineNum++;\n        let encodeText = encodeURI($(element).t());\n        // 清除或转换特殊字符\n        for (let i = 0; i < badChars.length; i++) {\n            if (encodeText.i(badChars[i]) > -1)\n                encodeText = encodeText.rA(badChars[i], goodChars[i]);\n        }\n        content += JS_decodeURI(encodeText) + (lineNum < lineCount ? \"\\n\" : _);\n    });\n\n    // 复制目标内容\n    if (ContentAssistor_copyAsMarkdown) {\n        let lang = _;\n        if (ContentAssistor_lastHover !== gUndefined)\n            lang = ContentAssistor_lastHover.a(_lang_);\n        content = \"```\" + (lang !== gUndefined ? lang : _) + \"\\n\" + content + \"\\n```\";\n    }\n    Copyer_action(source, content, gTrue);\n}\n\n// ==================== 复制类 ==================== //\n\nlet Copyer_lastActionTime = 0,\n    Copyer_processing = gFalse,\n    Copyer_copyModeTimer = null;\n\n/**\n * 执行复制\n * @param source 触发复制的对象\n * @param content 要复制的内容\n * @param supportMarkdown 是否支持复制为 Markdown\n * @param successCallback 复制成功后的回调函数\n * @param errorCallback 复制失败后的回调函数\n */\nfunction Copyer_action(source, content, supportMarkdown, successCallback, errorCallback) {\n    // 控制两次复制操作的时间间隔（同时也是解决嵌套情况下的复制失效问题）\n    let ts = new Date().getTime();\n    if (Copyer_processing || ts - Copyer_lastActionTime < 200)\n        return;\n    Copyer_lastActionTime = ts;\n    Copyer_processing = gTrue;\n\n    // 将要复制的内容赋予给 clipboard.js 指定的对象属性 data-clipboard-text\n    let targetName = \".\" + source.a(_class_).rA(___, \".\");\n    DEBUG(targetName);\n    $(targetName).a(_dataClipboardText_, content);\n    DEBUG($(targetName).a(_dataClipboardText_));\n\n    // 创建 clipboard.js 对象用于实现复制\n    let clipboard = new ClipboardJS(targetName);\n\n    // 复制成功事件\n    clipboard.on(\"success\", (event) => {\n        // 显示复制成功提示\n        let note = ContentAssistor_copyAsMarkdown ? \" (\" + V_ui_strong(\"as Markdown\") + \")\" : _,\n            tips = supportMarkdown ? [\n                \"<br>\" + V_ui_sub(_, _, \"( 再次点击可复制为 Markdown )\"),\n                \"<br>\" + V_ui_sub(_, _, \"( Click again to Copy as Markdown )\")\n                ][V_lang_id] : _;\n        iInfoTips.bubble([\n                \"已复制\",\n                \"Copied\"\n            ][V_lang_id] + (ContentAssistor_copyAsMarkdown ? _ : tips)\n            + note, 2000, gFalse, source);\n\n        event.clearSelection();\n\n        typeof(successCallback) === _function_ && successCallback();\n\n        // 销毁处理已有对象，避免多次监听\n        clipboard.destroy();\n\n        // 同一复制源，限时内第 2 次点击的处理（复制为 Markdown）\n        if (supportMarkdown) {\n            // 切换复制模式、光标、内容助手的复制图标\n            if (Copyer_copyModeTimer != null) {\n                clearTimeout(Copyer_copyModeTimer);\n                Copyer_copyModeTimer = null;\n            }\n            ContentAssistor_toggleCopyMode(gTrue);\n            // 限时恢复为普通复制模式\n            Copyer_copyModeTimer = setTimeout(() => {\n                // 切换复制模式、光标、内容助手的复制图标\n                ContentAssistor_toggleCopyMode(gFalse);\n                Copyer_copyModeTimer = null;\n            }, 2000);\n        }\n\n        Copyer_processing = gFalse;\n    });\n    // 复制失败事件\n    clipboard.on(_error_, () => {\n        // 显示复制失败提示\n        iInfoTips.error(V_ui_strong([\n            \"非常抱歉～暂不支持在该浏览器中复制\",\n            \"I'm very sorry~ I don't support copying in this browser\"\n        ][V_lang_id]), 3000, gFalse, source);\n\n        typeof(errorCallback) === _function_ && errorCallback();\n\n        // 销毁处理已有对象，避免多次监听\n        clipboard.destroy();\n        Copyer_processing = gFalse;\n    });\n}\n\n// ==================== 章节目录自动编号增强类 ==================== //\n\nlet ChpAutoNum_counter = [],\n    ChpAutoNum_lastLevel = 1,\n    // 自定义的自动编号格式模板（可只指定任意 h1~h6）\n    ChpAutoNum_tpl = \"h1{{###. }},h2{{### }},h3{{### }},h4{{### }},h5{{### }},h6{{#none# }}\",\n    // ChpAutoNum_tpl = \"h1{{###. }},h2{{### }},h3{{### }},h4{{### }},h5{{### }},h6{{❖ ### }}\",\n    // 默认的自动编号格式模板\n    ChpAutoNum_tplSet = ChpAutoNum_tpl.sp(\",\"),\n    ChpAutoNum_tpl_syntax = /h([1-6]){{(.*)(#(0*)(#|zh|ZH|alpha|ALPHA|roman|ROMAN|none)(-min|-sup)?#)(.*)}}/,\n    ChpAutoNum_tpl_leftPad = [_, _, _, _, _, _],\n    ChpAutoNum_tpl_format = [\"#\", \"#\", \"#\", \"#\", \"#\", \"#\"], // 编号格式\n    ChpAutoNum_tpl_formatOpt = [0, 0, 0, 0, 0, 0], // 特殊格式选项\n    ChpAutoNum_tpl_prefix = [_, _, _, _, _, _], // 前缀\n    ChpAutoNum_tpl_suffix = [_, _, _, _, _, _]; // 后缀\n\n// 特殊格式选项\nconst CHPAUTONUM_TPL_FORMAT_OPT_NONE = 0, // 无\n    CHPAUTONUM_TPL_FORMAT_OPT_MIN = 1, // -min\n    CHPAUTONUM_TPL_FORMAT_OPT_SUP = 2; // -sup\n\n/**\n * 初始化章节目录自动编号\n */\nfunction ChpAutoNum_initToc() {\n    let metaTpl = V_util_getMetaByName(_vlook__ + \"chp-autonum\");\n    // 没有目录大纲，或指定关闭自动编号（同时没有指定自动编号格式模板）则跳过\n    if (gTocContent.isEmpty()\n        || (V_util_getVarVal(\"--v-chp-auto-num\").x() === _off_ && metaTpl === gUndefined))\n        return;\n\n    // 重置自动编号格式模板\n    ChpAutoNum_resetTpl(metaTpl);\n\n    // 对目录大纲内的章节条目进行处理\n    ChpAutoNum_resetCounter();\n    gTocContent.ch(\".\" + _mdTocItem_).e((index, element) => {\n        let item = $(element);\n        __genNumContent(item,\n            ChpAutoNum_parseTocHeaderLevel(item.a(_class_)));\n    });\n\n    // 对文档中的章节条目进行处理（不包括封底）\n    ChpAutoNum_resetCounter();\n    VOM_doc().ch(\"h1\" + V_not(_lastChild_) + \",h2,h3,h4,h5\").e((index, element) => {\n        let item = $(element);\n        __genNumContent(item,\n            ChpAutoNum_parseTocHeaderLevel(V_util_getTagName(item)));\n    });\n\n    // 对文档中的 h6 章节条目进行处理（不包括封面）\n    ChpAutoNum_resetCounter();\n    VOM_doc().ch(_h6_ + V_not(_firstChild_)).e((index, element) => {\n        let prefix = (ChpAutoNum_tpl_prefix[5]),\n            result;\n        if ((result = prefix.m(/var\\((--.+)\\)/)) != null)\n            prefix = V_util_getVarVal(result[1]).rA('\"', _);\n        $(element).a(_dataHeaderNum_, prefix);\n    });\n\n    // 生成章节编号\n    function __genNumContent(item, lv) {\n        let diff = lv - ChpAutoNum_lastLevel,\n            absDiff = Math.abs(diff);\n        // 当前层级比上一层级低\n        if (diff > 0) {\n            for (let i = 0; i < absDiff; i++)\n                ChpAutoNum_push();\n        }\n        // 当前层级比上一层级高\n        else if (diff < 0) {\n            for (let i = 0; i < absDiff; i++)\n                ChpAutoNum_pop();\n        }\n        // 当前层级与上一层级一样\n        else {\n            ChpAutoNum_counter[ChpAutoNum_lastLevel - 1]++;\n        }\n\n        item.a(_dataHeaderNum_, ChpAutoNum_toString());\n    }\n}\n\n/**\n * 进入下一级的处理\n */\nfunction ChpAutoNum_push() {\n    ChpAutoNum_lastLevel++;\n    ChpAutoNum_counter[ChpAutoNum_lastLevel - 1] = 1;\n}\n\n/**\n * 返回上一级的处理\n */\nfunction ChpAutoNum_pop() {\n    ChpAutoNum_counter[ChpAutoNum_lastLevel - 1] = 0;\n    ChpAutoNum_lastLevel--;\n    ChpAutoNum_counter[ChpAutoNum_lastLevel - 1]++;\n}\n\n/**\n * 重置自动编号计数器\n */\nfunction ChpAutoNum_resetCounter() {\n    ChpAutoNum_counter = [0, 0, 0, 0, 0, 0];\n    ChpAutoNum_lastLevel = 1;\n}\n\n/**\n * 根据自动编号格式模板重新重置 h1~h6 自动编号格式\n * @param metaTpl 格式模板内容\n */\nfunction ChpAutoNum_resetTpl(metaTpl) {\n    // 判断是否有指定自定义自动编号模板\n    if (metaTpl !== gUndefined)\n        ChpAutoNum_tpl = metaTpl;\n    // 用于测试效果\n    // ChpAutoNum_tpl = \"h1{{###. }},h2{{### }},h3{{### }},h4{{### }},h5{{### }}\";\n    // ChpAutoNum_tpl = \"h1{{第#zh#章 }}\";\n    // ChpAutoNum_tpl = \"h1{{第#zh#章 }},h2{{Chapter #alpha# }},h5{{### }},h4{{### - }},h3{{§ ###}}\";\n    // ChpAutoNum_tpl = \"h1{{第#zh#章 }},h2{{步骤 #000## }}\";\n    // ChpAutoNum_tpl = \"h6{{X ### }}\";\n    // ChpAutoNum_tpl = \"h1{{###. }},h2{{### }}\";\n    // ChpAutoNum_tpl = \"h1{{#none#}},h2{{#none#}},h3{{### }},h4{{### }},h5{{#ALPHA-min# }}\";\n\n    if (ChpAutoNum_tpl.length === 0)\n        return;\n\n    // 对自动编号格式模板内容进行处理\n    let tplSet = ChpAutoNum_tpl.sp(\",\"),\n        lv;\n    for (let i = 0; i < tplSet.length; i++) {\n        lv = tplSet[i].ss(1, 2);\n        if (!isNaN(lv))\n            ChpAutoNum_tplSet[lv - 1] = tplSet[i].x();\n    }\n\n    // 解析自定义编码格式模板内容\n    __parseTplItem(0); // h1\n    __parseTplItem(1); // h2\n    __parseTplItem(2); // h3\n    __parseTplItem(3); // h4\n    __parseTplItem(4); // h5\n    __parseTplItem(5); // h6\n\n    // 解析模板条目\n    function __parseTplItem(lv) {\n        let result;\n        if ((result = ChpAutoNum_tplSet[lv].m(ChpAutoNum_tpl_syntax)) != null\n            && result.length === 8) {\n                ChpAutoNum_tpl_prefix[lv] = result[2];\n                ChpAutoNum_tpl_leftPad[lv] = result[4];\n                ChpAutoNum_tpl_format[lv] = result[5];\n                ChpAutoNum_tpl_formatOpt[lv] =\n                    (result[6] === \"-min\") ? CHPAUTONUM_TPL_FORMAT_OPT_MIN\n                    : (result[6] === \"-sup\") ? CHPAUTONUM_TPL_FORMAT_OPT_SUP\n                    : CHPAUTONUM_TPL_FORMAT_OPT_NONE;\n                ChpAutoNum_tpl_suffix[lv] = result[7];\n        }\n    }\n}\n\n/**\n * 将当前层级信息转换为字符串\n */\nfunction ChpAutoNum_toString() {\n    let lv = ChpAutoNum_lastLevel - 1,\n        superLv = (lv > 0) ? lv - 1 : -1,\n        opt = ChpAutoNum_tpl_formatOpt[lv],\n        numStr = _;\n\n    // 若指定了特殊的格式选项\n    if (opt > CHPAUTONUM_TPL_FORMAT_OPT_NONE) {\n        if (opt === CHPAUTONUM_TPL_FORMAT_OPT_SUP && superLv >= 0)\n            numStr =  __formatNum(superLv, opt) + \".\";\n        numStr += __formatNum(lv, opt);\n        // 结束并返回\n        return ChpAutoNum_tpl_prefix[lv]\n            + numStr\n            + ChpAutoNum_tpl_suffix[lv];\n    }\n\n    // 没有指定特殊的格式选项\n    let str = 0;\n    for (let i = 0; i < ChpAutoNum_lastLevel; i++) {\n        str = __formatNum(i, false);\n        numStr += str;\n        if (i < lv && str.length > 0)\n            numStr += \".\";\n    }\n\n    return ChpAutoNum_tpl_prefix[lv]\n        + numStr\n        + ChpAutoNum_tpl_suffix[lv];\n\n    /**\n     * 指定层级的编号进行格式化\n     * @param i 层级\n     * @param opt 特殊格式选项\n     */\n    function __formatNum(i, opt) {\n        let ns = _,\n            counter = ChpAutoNum_counter[i],\n            upperCase = (ChpAutoNum_tpl_format[i].ss(0, 1).m(/[A-Z]/) != null),\n            format = ChpAutoNum_tpl_format[i].l();\n\n        // 十进制数字\n        if (format === \"#\")\n            ns += ChpAutoNum_leftPadForDecimal(counter, i);\n        // 中文数字\n        else if (format === \"zh\") {\n            ns += (ChpAutoNum_lastLevel === 1)\n                // h1\n                ? ChpAutoNum_decimalToZh(counter, upperCase)\n                // h2~h5\n                : ChpAutoNum_leftPadForDecimal(counter, i);\n        }\n        // 英文字母\n        else if (format === _alpha_) {\n            ns += (ChpAutoNum_lastLevel === 1 || opt > CHPAUTONUM_TPL_FORMAT_OPT_NONE)\n                // h1\n                ? ChpAutoNum_decimalToAlpha(counter, upperCase)\n                // h2~h5\n                : ChpAutoNum_leftPadForDecimal(counter, i);\n        }\n        // 罗马数字\n        else if (format === \"roman\") {\n            ns += (ChpAutoNum_lastLevel === 1 || opt > CHPAUTONUM_TPL_FORMAT_OPT_NONE)\n                // h1\n                ? ChpAutoNum_decimalToRoman(counter, upperCase)\n                // h2~h5\n                : ChpAutoNum_leftPadForDecimal(counter, i);\n        }\n        else if (format === _off_)\n            ns += _;\n        return ns;\n    }\n}\n\n/**\n * 解析 Typora 生成的目录大纲节点样式名称对应的目录层级（h1~h6）\n * @param value 包含 h1~h6 的标识内容，如：md-toc-h1、h1 等\n * @returns number 目录层级：1~6\n */\nfunction ChpAutoNum_parseTocHeaderLevel(value) {\n    let lv = value.m(/(h([1-5]))/)[2];\n    return isNaN(lv) ? 0 : JS_parseInt(lv);\n}\n\n/**\n * 左侧补 0\n * @param value 当前值\n * @param lv 级别\n * @returns\n */\nfunction ChpAutoNum_leftPadForDecimal(value, lv) {\n    let pad = ChpAutoNum_tpl_leftPad[lv].length,\n        gap = pad - value.toString().length,\n        padStr = _;\n    if (gap > 0) {\n        for (let i = 0; i < gap; i++)\n            padStr += 0;\n    }\n    return padStr + value;\n}\n\n// 算法参考：https://blog.csdn.net/lavendersue/article/details/81066091\nlet ChpAutoNum_zhNum = [\"零\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\", \"七\", \"八\", \"九\"], // 数字\n    ChpAutoNum_zhUnit = [_, \"十\", \"百\", \"千\", \"万\"]; // 单位，最大支持 99,999,999\n/**\n * 数字格式转换：十进制 to 中文\n * @param num 十进制数字\n * @param upperCase 是否使用大写\n */\nfunction ChpAutoNum_decimalToZh(num, upperCase) {\n    let overWan = Math.floor(num / 10000),\n        noWan = num % 10000;\n    if (noWan.toString().length < 4)\n        noWan = \"0\" + noWan;\n\n    let numeral = overWan ? __numToZh(overWan) + \"万\" + __numToZh(noWan) : __numToZh(num);\n    // 对于 10－19 的特殊处理\n    if (num >= 10 && num <= 19)\n        numeral = numeral.r(\"一十\", \"十\");\n    return upperCase ? __toZhUpperCase(numeral) : numeral;\n\n    // 阿拉伯数字转换为中文数字\n    function __numToZh(value) {\n        let strArr = value.toString().sp(_).reverse();\n        let newNum = _;\n        for (let i = 0; i < strArr.length; i++) {\n          newNum = (\n            (i === 0 && strArr[i] === 0) ? _\n            : (i > 0 && strArr[i] === 0 && strArr[i - 1] === 0 ? _\n            : ChpAutoNum_zhNum[strArr[i]] + (strArr[i] === 0 ? ChpAutoNum_zhUnit[0] : ChpAutoNum_zhUnit[i])\n            ))\n            + newNum;\n        }\n        return newNum;\n    }\n\n    // 将中文数字转换为大写\n    function __toZhUpperCase(value) {\n        return value.rA(/一/g, \"壹\")\n            .rA(/二/g, \"贰\")\n            .rA(/三/g, \"叁\")\n            .rA(/四/g, \"肆\")\n            .rA(/五/g, \"伍\")\n            .rA(/六/g, \"陆\")\n            .rA(/七/g, \"柒\")\n            .rA(/八/g, \"捌\")\n            .rA(/九/g, \"玖\")\n            .rA(/十/g, \"拾\")\n            .rA(/百/g, \"佰\")\n            .rA(/千/g, \"仟\");\n    }\n}\n\n/**\n * 数字格式转换：十进制 to 英文字母\n * @param value 十进制数字\n * @param upperCase 是否使用大写\n */\nfunction ChpAutoNum_decimalToAlpha(value, upperCase) {\n    let numeral = _;\n    while (value > 0) {\n        let m = value % 26\n        if (m === 0)\n            m = 26;\n        numeral = String.fromCharCode(64 + JS_parseInt(m)) + numeral;\n        value = (value - m) / 26;\n    }\n    return upperCase ? numeral : numeral.l();\n}\n\n// 罗马数字参考：https://baike.baidu.com/item/%E7%BD%97%E9%A9%AC%E6%95%B0%E5%AD%97/772296\n// 算法参考：https://www.mianshigee.com/note/detail/180314zvm/\nlet ChpAutoNum_romanNum = [\"M\", \"CM\", \"D\", \"CD\", \"C\", \"XC\", \"L\", \"XL\", \"X\", \"IX\", \"V\", \"IV\", \"I\"], // 罗马数字\n    ChpAutoNum_romanNumArea = [1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1]; // 进位区间\n/**\n * 数字格式转换：十进制 to 罗马\n * @param value 十进制数字\n * @param upperCase 是否使用大写\n */\nfunction ChpAutoNum_decimalToRoman(value, upperCase) {\n    if (value <= 0 || value >= 4000)\n       return value;\n    let numeral = _;\n    for (let i = 0; i < ChpAutoNum_romanNum.length; i++) {\n       while (value >= ChpAutoNum_romanNumArea[i]) {\n          value -= ChpAutoNum_romanNumArea[i];\n          numeral += ChpAutoNum_romanNum[i];\n       }\n    }\n    return upperCase ? numeral : numeral.l();\n}\n\n// ==================== 引用块增强类 ==================== //\n\nlet ExtQuote_columnsGroupCount = 0,\n    ExtQuote_processingUCH = gFalse,\n    ExtQuote_quoteToColoring = gFalse;\n\n/**\n * 初始化引用块以实现折叠支持\n */\nfunction ExtQuote_init() {\n    // 初始化引用块着色的默认颜色标识\n    let dcQuote = V_util_getParamVal(_quote_);\n    if (dcQuote !== gUndefined) {\n        // if (dcQuote === _off_)\n        //     ExtQuote_quoteToColoring = gFalse;\n        // else {\n        if (dcQuote !== _off_) {\n            ExtQuote_quoteToColoring = gTrue;\n            Quote_defalutColor = dcQuote;\n            Quote_defalutColor_withoutEm = dcQuote.ss(0, 2);\n        }\n    }\n\n    // 遍历所有引用块、详情\n    $(_blockquote_).e((index, element) => {\n        let _t = $(element),\n            matchedQuoteFold = gFalse;\n        // ====================\n        // 处理引用块折叠（details）\n        _t.ch(_h6_ + _firstChild_).e((i, e) => {\n            let details = __disposeDetailsFolder($(e));\n            if (details)\n                _t = details;\n            matchedQuoteFold = true;\n        });\n\n        // 存在折叠，则标识，不参与分栏引用块的统一高度处理\n        if (matchedQuoteFold) {\n            _t.a(_dataFolding_, _true_);\n            if (V_util_getTagName(_t.p()) === _blockquote_)\n                _t.p().a(_dataFolding_, _true_);\n        }\n        // ====================\n\n        // --------------------\n        // 默认引用块，转换为引用块着色\n        let parentTag = V_util_getTagName(_t.p());\n\n        // 跳过列表内、引用块内的嵌套引用块\n        if (parentTag === \"li\" || parentTag === _blockquote_ || parentTag === _details_)\n            return gTrue;\n        let validColorCode = gFalse;\n        // 判断引用块内是否包含了引用块着色语法\n        // 针对新语法\n        _t.f(\">p>em\" + _onlyChild_ + \">sub\" + _onlyChild_).e((index, element) => {\n            let _t = $(element);\n            // 颜色标签独占一行的情况下才被视为是对引用块、详情的颜色标识\n            if (_t.t().m(Color_syntax) != null) {\n                validColorCode = gTrue;\n                return gFalse;\n            }\n        });\n        // 针对旧语法\n        // 即将废弃 need to remove\n        if (validColorCode === gFalse) {\n            _t.f(\">p>sub\").e((index, element) => {\n                let _t = $(element);\n                // 颜色标签独占一行的情况下才被视为是对引用块、详情的颜色标识\n                if (ExtQuote_isValidColorMark(_t)\n                    && _t.t().m(Color_syntaxOld) != null) {\n                        validColorCode = gTrue;\n                        return gFalse;\n                }\n            });\n        }\n\n        // 引用块内不包含引用块着色语法的，则模拟指定默认的着色语法\n        if (ExtQuote_quoteToColoring && !validColorCode)\n            _t.ap(\"<p><em>\" + V_ui_sub(_, _, Quote_defalutColor) + \"</em></p>\");\n    });\n\n    // 针对分栏引用块进行初始化\n    ExtQuote_initColumns();\n\n    // 针对分栏列表进行初始化\n    ExtList_initColumns();\n\n    /**\n     * 对 details 详情折叠进行处理\n     * @param target 带约定 details 详情折叠的对象\n     * @returns object 成功匹配并处理\n     */\n    function __disposeDetailsFolder(target) {\n        let quote = target.p();\n        // 生成 details\n        quote.wrap('<' + _details_ +___+ V_attr(_id_, V_doc_counter_details) + '></' + _details_ + '>');\n        // 取消 h6，并生成 summary\n        target.unwrap().wrap(\"<\" + _summary_ + \"></\" + _summary_ + \">\");\n        // 删除无用对象\n        target.ch().unwrap();\n\n        // 获取生成的 detail 实例\n        let details = $(_details_ + \"#\" + V_doc_counter_details),\n            summary = details.ch(_summary_);\n        summary.pp(V_ui_svgIcon(_icoDetailsOpen_, 18, 18, _dark_, _vSvgDetails_));\n\n        let icon = summary.ch(\".\" + _vSvgDetails_);\n        V_ui_addAnimate(icon);\n        // 跟踪切换事件\n        details.on(\"toggle\", (event) => {\n            // 自动调整高度\n            summary.ps(_blockquote_ + V_attrCSS(_dataQuoteGroup_)).p().c(_height_, _auto_);\n            summary.p().c(_height_, _auto_);\n\n            if (event.currentTarget.open)\n                JQ_addClass(icon, _vRotate45_);\n            else\n                JQ_removeClass(icon, _vRotate45_);\n        });\n\n        V_doc_counter_details++;\n        return details;\n    }\n}\n\n/**\n * 判断是否为有效的引用块着色颜色标识\n * @param target 颜色标识的对象\n */\nfunction ExtQuote_isValidColorMark(target) {\n    let pText = target.p().t().x();\n    return  pText === target.t().x();\n}\n\n/**\n * 对分栏引用块进行初始化\n */\nfunction ExtQuote_initColumns() {\n    // 针对分栏引用块进行修正\n    $(\"hr + \" + _blockquote_ + \",hr + \" + _details_ + _).e((index, element) => {\n        ExtQuote_columnsGroupCount++;\n        let _t = $(element),\n            hr = _t.pr(),\n            colCount = 0;\n\n        // ----------------------------------------\n        // 隐藏标识分栏的 <hr>\n        __hideHr(hr);\n        colCount = hr.prevUntil(V_not(\"hr\")).length + 2; // 计算分栏数量\n        // 有更多的 <hr> 则进行处理\n        if (colCount > 2) {\n            __hideHr(hr.prevUntil(V_not(\"hr\")));\n        }\n        // 隐藏标识分栏的 <hr>\n        function __hideHr(target) {\n            target.c(_visibility_, _hidden_)\n                .c(_margin_, 0)\n                .c(_border_, 0);\n        }\n\n        // ----------------------------------------\n        // 对分栏按组进行初始处理\n        __groupingColumns(_t);\n        _t.nextUntil(V_not(_blockquote_ + \",\" + _details_)).e((index, element) => {\n            if (colCount > 0) {\n                __groupingColumns($(element));\n            }\n        });\n\n        // 进行分组标识\n        function __groupingColumns(quote) {\n            // 若为带折叠的引用块，则跳过\n            if (quote.a(_dataFolding_))\n                return;\n\n            quote.a(_dataQuoteGroup_, ExtQuote_columnsGroupCount);\n            colCount--;\n        }\n    });\n}\n\n/**\n * 对文档内所有分栏，按组为单位进行统一高度处理\n */\nfunction ExtQuote_uniteColumnsHeight() {\n    if (ExtQuote_processingUCH)\n        return;\n\n    ExtQuote_processingUCH = gTrue;\n    for (let i = 1; i <= ExtQuote_columnsGroupCount; i++) {\n        ExtQuote_uniteColumnsHeightForGroup(i);\n    }\n    ExtQuote_processingUCH = gFalse;\n}\n\n/**\n * 对指定组的分栏进行统一高度处理\n * @param groupId 分栏组 id\n */\nfunction ExtQuote_uniteColumnsHeightForGroup(groupId) {\n    // 找出同一组中最大的高度\n    let maxHeight = 0,\n        quote = $(_blockquote_ + V_attrCSS(_dataQuoteGroup_, groupId) + \",\"\n            + _details_ + V_attrCSS(_dataQuoteGroup_, groupId));\n    quote.e((index, element) => {\n        let _t = $(element);\n        _t.c(_height_, _auto_);\n        // 没有被小屏强制适配为不分栏时才处理\n        if (_t.c(_display_) !== _block_) {\n            let height = JS_parseInt(_t.c(_height_));\n            if (height > maxHeight)\n                maxHeight = height;\n        }\n    });\n\n    // 没有被小屏强制适配为不分栏时才处理\n    if (quote.c(_display_) !== _block_) {\n        // 将同一组中最大的高度\n        quote.c(_height_, maxHeight);\n    }\n}\n\n/**\n * 根据设备类型自适应 hover 样式\n */\nfunction ExtQuote_adjustHoverStyle() {\n    // 移动端时解绑样式事件\n    if (env.device.mobile)\n        $(_summary_).uH();\n        // V_byClass(_vBlockquoteFolder_).uH();\n    // 为折叠的引用块的折叠控件绑定 hover 事件\n    else\n        V_ui_bindHover($(_summary_));\n        // V_ui_bindHover(V_byClass(_vBlockquoteFolder_));\n}\n\n/**\n * 自动展开引用块（由 blockquote 转换的 details）\n */\nfunction ExtQuote_autoUnfold() {\n    if (iParagraphNav.cur() === gUndefined)\n        return;\n\n    // 针对 details 的处理\n    __openDetails(iParagraphNav.cur());\n\n    /**\n     * 打开折叠的引用块（未打开的 details 标签）\n     * @param target 目标标签\n     */\n    function __openDetails(target) {\n        let parent = target.p();\n        // 只针对 details 标签\n        if (V_util_getTagName(parent) === _details_) {\n            // 如果是嵌套的折叠引用块，则进行递归处理\n            if (V_util_getTagName(parent.p()) === _details_)\n                __openDetails(parent.p());\n            // 未打开时才进行打开\n            if (parent.a(_open_) === gUndefined)\n                parent.ch(_summary_).tr(_click_);\n        }\n    }\n}\n\n// ==================== 列表增强类 ==================== //\n\n/**\n * 对分栏列表进行初始化\n */\nfunction ExtList_initColumns() {\n    // 针对分栏列表进行修正\n    $(\"hr+ul,hr+ol\").e((index, element) => {\n        let _t = $(element),\n            hr = _t.pr();\n\n        // ----------------------------------------\n        // 隐藏标识分栏的 <hr>\n        hr.c(_display_, _none_);\n        let colCount = hr.prevUntil(V_not(\"hr\")).length + 2; // 计算分栏数量\n        if (colCount > 2) // 有更多的 <hr>\n            hr.prevUntil(V_not(\"hr\")).c(_display_, _none_);\n    });\n}\n\n// ==================== 表格增强类 ==================== //\n\n/**\n * 初始化表格数据\n */\nfunction ExtTable_init() {\n    let sw = new Stopwatch();\n\n    // ----------------------------------------\n    // 表格预处理\n    sw.st();\n    $(_table_).e((index, element) => {\n        let _t = $(element),\n            container = _t.p();\n\n        V_doc_counter_table++;\n\n        // 绑定内容助手\n        ContentAssistor_bind(_t, _table_);\n\n        // 表格自定义属性数据\n        container.a(_dataContainer_, _table_);\n        JQ_addClass(container, _vCaptionContainer_);\n\n        // 表格滚动事件\n        container.scroll(() => {\n            TableCross_hide();\n        });\n\n        // 表格单元格初始化处理\n        __initCell(_t);\n\n        // 折叠长表格\n        ContentFolder_add(_t, _table_);\n        // 先根据题注语法生成题注\n        CaptionGenerator_actionForTextContent(_t, _table_);\n    }); // table\n    sw.ed(\"    ├ Prepare: \");\n\n    // ----------------------------------------\n    // 表格单元格合并\n    sw.st();\n    $(_table_ + V_attrCSS(_dataCellMerge_, _true_)).e((index, element) => {\n        let _t = $(element);\n        CellMerge_dispose(_t);\n\n        // 合并后，针对列头纵向合并的情况二次执行列格式处理\n        _t.f(_thead_ + \">tr>th\").e((i, e) => {\n            let cell = $(e);\n            ColumnFormatting_init(_t, cell, cell.t());\n        });\n    });\n    sw.ed(\"    ├ Merge: \");\n\n    // ----------------------------------------\n    // 对表格单元格初始化处理中标识为带列格式的表格，进行列格式化处理\n    sw.st();\n    $(_table_ + V_attrCSS(_dataColumnFmting_, _true_)).e((index, element) => {\n        ColumnFormatting_format($(element));\n    });\n    sw.ed(\"    ├ Column Format: \");\n\n    // ----------------------------------------\n    // 表格行折叠\n    sw.st();\n    $(_table_ + V_attrCSS(_dataRowGroup_, _true_)).e((index, element) => {\n        let _t = $(element);\n        RowGroup_init(_t);\n\n        // 修正行分组的首个单元格的缩进\n        _t.f(\"tr\" + V_attrCSS(_dataFolder_, _true_)).e((i, e) => {\n            let td = $(e).ch(\"td:\" + _first_);\n            if (td.a(_dataIdentLevel_) !== gUndefined)\n                td.c(_paddingLeft_, \"0.5em\");\n        });\n    });\n    sw.ed(\"    ├ Row Group: \");\n\n    // ----------------------------------------\n    // 表格单元格重复表头引用块处理，group 模式重复将在行分组展开/收起时再进行处理\n    sw.st();\n    $(_table_ + V_attrCSS(_dataThRpt_, _true_)).e((index, element) => {\n        ThRepeater_init($(element));\n    });\n    sw.ed(\"    └ Th Repeater: \");\n\n    /**\n     * 表格单元格初始化\n     * @param table 表格对象\n     */\n    function __initCell(table) {\n        // 遍历表格「列头」行\n        let colIndex = 0;\n        table.f(_thead_ + \">tr\").e((index, element) => {\n            colIndex = 0;\n            let needCheckCellMerge = gTrue,\n                needCheckColumnFormatting = gTrue,\n                needCheckThRpt = gTrue;\n            // ----------------------------------------\n            // 遍历单元格\n            $(element).f(\"th\").e((i, e) => {\n                let th = $(e),\n                    text = th.t();\n\n                // ---------- 表格排版增强预处理 ----------\n                // 检测是否带合并单元格语法\n                if (needCheckCellMerge\n                    && table.a(_dataCellMerge_) !== _true_\n                    && (CellMerge_syntax_row.test(text)\n                    || CellMerge_syntax_col.test(text))) {\n                        // 将表格标识为带合并单元格语法\n                        table.a(_dataCellMerge_, _true_);\n                        needCheckCellMerge = gFalse;\n                }\n                // 检测是否带列格式语法\n                if (needCheckColumnFormatting) {\n                    if (ColumnFormatting_init(table, th, text))\n                        needCheckColumnFormatting = gFalse;\n                }\n                // 检测是否带重复表头语法\n                if (needCheckThRpt\n                    && colIndex === 0 // 只检测第 1 列\n                    && ThRepeater_syntax_tag.test(text)) {\n                        // 将表格标识为带行折叠语法\n                        table.a(_dataThRpt_, _true_);\n                        th.rHTML(\"## \", _);\n                        needCheckThRpt = gFalse;\n                }\n\n                // ----------------------------------------\n                // 添加列号标识，用于列格式化时使用\n                th.a(_dataTblCol_, \"tbl-\" + V_doc_counter_table + \"-\" + colIndex);\n                colIndex++;\n\n                // ---------- 非列头的单元格阅读模式（十字光标）处理 ----------\n                // 鼠标点击单元格时显示阅读模式（十字光标）\n                TableCross_bind(table, th);\n            });\n        });\n\n        // 标记该表格列太多，用于匹配是否自动换行的自动版式\n        if (colIndex > 7)\n            table.a(\"d-col-too-more\", colIndex);\n\n        // ----------------------------------------\n        // 遍历表格「非列头」行\n        table.f(_tbody_ + \">tr\").e((index, element) => {\n            let colIndex = 0,\n                needCheckCellMerge = gTrue,\n                needCheckRowGroup = gTrue;\n            // ----------------------------------------\n            // 遍历单元格\n            $(element).f(\"td\").e((i, e) => {\n                let td = $(e),\n                    text = td.t();\n\n                // ---------- 对于字符过多时设置为换行样式 ----------\n                let wrapLimit = 35,\n                    wrapLimit2 = wrapLimit - 5;\n                if (text.length > wrapLimit) {\n                    let lines = __splitByBr(td.hm());\n                    for (let i = 1; i < lines.length; i++) {\n                        let len = lines[i].length;\n                        if (len <= wrapLimit)\n                            continue;\n                        // 只处理字符过多的行\n                        let cjk = lines[i].m(gRE_cjk),\n                            cjkCount = (cjk == null ? 0 : cjk.length);\n                        if ((len - cjkCount) / 2 + cjkCount > wrapLimit2) {\n                            JQ_addClass(td, _vLong_);\n                        }\n                    }\n                }\n\n                // ---------- 表格排版增强预处理 ----------\n                // 检测是否带合并单元格语法\n                if (needCheckCellMerge\n                    && table.a(_dataCellMerge_) !== _true_\n                    && (CellMerge_syntax_row.test(text)\n                    || CellMerge_syntax_col.test(text))) {\n                        // 将表格标识为带合并单元格语法\n                        table.a(_dataCellMerge_, _true_);\n                        needCheckCellMerge = gFalse;\n                }\n                // 检测是否带行折叠语法\n                if (needCheckRowGroup\n                    && colIndex === 0 // 只检测第 1 列\n                    && table.a(_dataRowGroup_) !== _true_\n                    && RowGroup_syntax_tag.test(text)) {\n                        // 将表格标识为带行折叠语法\n                        table.a(_dataRowGroup_, _true_);\n                        needCheckRowGroup = gFalse;\n                }\n                // 对于单元格的内容，都以 <mark> 标签包裹的，则转换为单元格的样式\n                // 同时转换后，在 Table.columnFormatting 的 init 处理中对应添加对应的过滤条件\n                if (/^<ma.+rk>$/.test(td.hm())) {\n                    td.ch().ch().unwrap(); // 解包 <mark>\n                    JQ_addClass(td, _vTblColFmtMark_);\n                }\n\n                // 添加列号标识，用于列格式化时使用\n                td.a(_dataTblCol_, \"tbl-\" + V_doc_counter_table + \"-\" + colIndex);\n                colIndex++;\n\n                // ---------- 列头的单元格阅读模式（十字光标）处理 ----------\n                // 鼠标点击单元格时显示阅读模式（十字光标）\n                TableCross_bind(table, td);\n            }); // find(th, td)\n        }); // find(tr)\n\n        function __splitByBr(text) {\n            // 创建 DOMParser 实例\n            const parser = new DOMParser();\n            // 将文本解析为 DOM 文档\n            const doc = parser.parseFromString(text, \"text/html\");\n            // 获取所有文本节点\n            const textNodes = doc.querySelectorAll(\":not(br) *\");\n            // 将文本节点的内容按换行符分割\n            const lines = [];\n            for (const node of textNodes) {\n              const line = node.textContent.trim();\n              if (line) {\n                lines.push(line);\n              }\n            }\n            return lines;\n          }\n    }\n}\n\nlet // 单元格内（加粗）文本着色的正则表达式\n    gRE_boldRainbowText = new RegExp(\"(<\" + _strong_ + \"( \" + _dataRbText_ + '=\"([a-z!12]+)\")?>)([\\\\s\\\\S]*?)(<\\\\/' + _strong_ + \">)\", \"i\"),\n    // 有指定单元格内（斜体）文本着色的正则表达式\n    gRE_italicRainbowText = new RegExp(\"(<em( \" + _dataRbText_ + '=\"([a-z!12]+)\")?>)([\\\\s\\\\S]*?)(<\\\\/em>)', \"i\"),\n    // 有指定单元格内（高亮）文本着色的正则表达式\n    gRE_highlightRainbowText = new RegExp(\"(<\" + _mark_ + \"( \" + _dataRbText_ + '=\"([a-z!12]+)\")?>)([\\\\s\\\\S]*?)(<\\\\/' + _mark_ + \">)\", \"i\"),\n    // 有指定单元格内（下划线）文本着色的正则表达式\n    gRE_underlineRainbowText = new RegExp(\"(<u( \" + _dataRbText_ + '=\"([a-z!12]+)\")?>)([\\\\s\\\\S]*?)(<\\\\/u>)', \"i\"),\n    // 代码\n    gRE_code = new RegExp('(<' + _code_ +___+ _class_ + '=\"' + _vStdCode_ + '.*?(?=id-)(id-\\\\d+).*?(<\\\\/' + _code_ + '>).*?)', \"i\"),\n    // 标签\n    gRE_tag = new RegExp('(<' + _code_ +___+ _class_ + '=\"' + _vTag_ + '.*?(?=id-)(id-\\\\d+).*?(<\\\\/' + _code_ + '>).*?)', \"i\"),\n    // 徽章\n    gRE_badge = new RegExp('(<' + _code_ +___+ _class_ + '=\"' + _vBadgeName_ + '.*?(?=id-)(id-\\\\d+)\".*?(<\\\\/' + _code_ + '><\\\\/' + _code_ + '>).*?)', \"i\"),\n    gRE_badge2 = new RegExp('(<' + _code_ +___+ _class_ + '=\"' + _vBadgeName_ + '.*?(?=id-)(id-\\\\d+)\\\\s.*?(<\\\\/span><\\\\/' + _code_ + '>).*?)', \"i\");\n/**\n * 复制表格内容\n * @param source 内容源对象\n * @param event 事件对象\n */\nfunction ExtTable_copyContent(source, event) {\n    let content = _,\n        trSet = ContentAssistor_lastHover.f(\"tr\"),\n        theadCount = ContentAssistor_lastHover.f(_thead_ + \">tr\").length,\n        columnFmting = ContentAssistor_lastHover.a(_dataColumnFmting_),\n        theadRepeater = ContentAssistor_lastHover.a(_dataThRpt_),\n        rowGroup = ContentAssistor_lastHover.a(_dataRowGroup_),\n        rowIndex = 0,\n        rowCount = trSet.length,\n        colIndex = 0, // 表格行的当前列（包括被合并列的）\n        colCount = 0,\n        alignSet = [], // 列的对齐方式\n        xspanMatrix = []; // 单元格合并标识矩阵\n\n    // 逐行读取表格内容\n    trSet.e((index, element) => {\n        // 复制为 Markdown 时，在表头后添加分隔格式\n        if (ContentAssistor_copyAsMarkdown && rowIndex === 1)\n            content = __createTheadSpliter(content, alignSet);\n\n        let cellSet = $(element).f(\"th,td\");\n        colIndex = 0;\n\n        // 逐个单元格处理\n        let re_LabelTag = new RegExp(\"<\" + _label_ + \" .*?><\\\\/\" + _label_ + \">\", \"i\");\n        cellSet.e((i, e) => {\n            let htmlText = _,\n                rowspan, colspan;\n\n            // ====== 根据合并单元格预处理结果进行实际处理 =====\n            // 对单元格纵向合并的填充处理\n            htmlText = __disposeRowspan(htmlText);\n\n            // ====== 对普通单元格的处理 ======\n\n            // 读取单元格数据\n            let cell = $(e),\n                cellHTML = cell.hm(),\n                colFmtChkbox = gFalse,\n                colFmtMark = gFalse,\n                // colFmtDel = gFalse,\n                cellBg = cell.a(_dataRbCellBg_),\n                cellWholeText = cell.a(_dataRbWholeText_);\n\n            // 含有表格列格式时\n            if (columnFmting !== gUndefined && columnFmting === _true_) {\n                // 转换列格式（复选框）\n                let css = cell.a(_class_);\n                if (css !== gUndefined) {\n                    if (css.i(_vTblColFmt_Chkbox_) !== -1) {\n                        let yes = cell.ch(_svg_ + V_attrCSS(_dataChk_, _yes_));\n                        if (yes.length > 0)\n                            cellHTML = cellHTML.r(/<svg .*?>([\\s\\S]*?)<\\/svg>/i, \"Y\");\n                        else {\n                            let un = cell.ch(_svg_ + V_attrCSS(_dataChk_, _un_));\n                            if (un.length > 0)\n                                cellHTML = cellHTML.r(/<svg .*?>([\\s\\S]*?)<\\/svg>/i, \"?\");\n                        }\n                        // 复制为 Markdown 时，对表头列格式进行处理\n                        if (ContentAssistor_copyAsMarkdown && rowIndex < theadCount)\n                            colFmtChkbox = gTrue;\n                    }\n\n                    // ----- 复制为 Markdown 时的列格式处理 01 -----\n                    // 常规（加粗/斜体/下划线/高亮/删除线）\n                    if (ContentAssistor_copyAsMarkdown && rowIndex < theadCount) {\n                        if (css.i(_vTblColFmtMark_) !== -1) // 高亮\n                            colFmtMark = gTrue;\n                    }\n                }\n\n                // 记录列的对齐方式，用于在复制为 Markdown 时生成表头分隔分隔格式\n                if (ContentAssistor_copyAsMarkdown)\n                    alignSet[colIndex] = cell.c(_textAlign_);\n            }\n\n            // 转换表格分组\n            if (rowGroup !== gUndefined && rowGroup === _true_) {\n                let css = cell.a(_class_);\n                if (css !== gUndefined && css.i(_vTblRowGSub_) !== -1) {\n                    let identerCount = cell.ch('.' + _vTblRowGIdenter_).length;\n                    for (let i = 0; i < identerCount; i++) {\n                        cellHTML = cellHTML.r(re_LabelTag,\n                            i === identerCount - 1 ? \"> \" : \">\");\n                    }\n                }\n            }\n\n            // 转换单元格内容\n            cellHTML = __transCellContent(cellHTML, cellBg, cellWholeText);\n\n            // ----- 复制为 Markdown 时的列格式处理 02 -----\n            if (ContentAssistor_copyAsMarkdown && rowIndex < theadCount) {\n                if (colFmtChkbox) // 复选框\n                    cellHTML = \"[]\" + cellHTML;\n                // 加粗、斜体、下划线、高亮，已通过 __transCellContent() 进行了处理\n                if (colFmtMark) // 高亮\n                    cellHTML = \"==\" + cellHTML + \"==\";\n                // 重复表头\n                if (rowIndex === 0 && colIndex === 0 && theadRepeater !== gUndefined)\n                    cellHTML = \"## \" + cellHTML;\n            }\n\n            // 生成要被复制的单元格内容\n            htmlText += __maybeAsMarkdown(\"| \", _)\n                + __maybeAsMarkdown(_, '\"') + cellHTML + __maybeAsMarkdown(_, '\"');\n\n            // ====== 对合并单元格的处理 ======\n\n            // 对单元格有纵向合并 rowspan 属性的处理\n            rowspan = cell.a(_rowspan_);\n            rowspan = (rowspan === gUndefined) ? 0 : JS_parseInt(rowspan);\n            if (rowspan > 0) {\n                for (let i = 0; i < rowspan - 1; i++) {\n                    // 对应纵向合并的矩阵行为空则进行创建\n                    if (xspanMatrix[rowIndex + i + 1] === gUndefined)\n                        xspanMatrix[rowIndex + i + 1] = [];\n                    // 在对应矩阵单元中标识被纵向合并的单元格\n                    // 预处理，在下一轮处理中继续\n                    xspanMatrix[rowIndex + i + 1][colIndex] = 1;\n                }\n            }\n\n            // 对单元格有横向合并 colspan 属性的处理\n            colspan = cell.a(_colspan_);\n            colspan = (colspan === gUndefined) ? 0 : JS_parseInt(colspan);\n            if (colspan > 0) {\n                // 横向合并填充处理\n                for (let i = 0; i < colspan - 1; i++) {\n                    htmlText += __maybeAsMarkdown(\"| == \", ___) + \"\\t\";\n                    // 对应纵向合并的矩阵行为空则进行创建\n                    if (xspanMatrix[rowIndex] === gUndefined)\n                        xspanMatrix[rowIndex] = [];\n                    // 在对应矩阵单元中标识被横向合并的单元格\n                    xspanMatrix[rowIndex][colIndex + 1] = 2;\n                    colIndex++;\n                }\n            }\n\n            colIndex++;\n            content += htmlText + __maybeAsMarkdown(___, \"\\t\");\n        }); // 逐个单元格处理结束\n\n        // 记录表格实际列数\n        if (colIndex > colCount)\n            colCount = colIndex;\n\n        // 每行最后一个非合并单元格的后续合并单元格的填充处理\n        content = __disposeRowspan(content);\n\n        rowIndex++;\n        content = content.ss(0, content.length - 1)\n            + __maybeAsMarkdown(\" |\", _) + (rowIndex < rowCount ? \"\\n\" : _);\n\n        // ==========\n        // 对单元格纵向合并的处理\n        function __disposeRowspan(htmlText) {\n            // 对已处理行中带纵向合并 rowspan 标识的数据进行适配处理\n            if (xspanMatrix[rowIndex] !== gUndefined) {\n                let rowspan = xspanMatrix[rowIndex][colIndex];\n                while (rowspan !== gUndefined && rowspan === 1) {\n                    htmlText += __maybeAsMarkdown(\"| : \", ___) + \"\\t\";\n                    colIndex++;\n                    rowspan = xspanMatrix[rowIndex][colIndex];\n                }\n            }\n            else\n                xspanMatrix[rowIndex] = [];\n\n            return htmlText;\n        }\n\n\n    }); // 逐行处理\n\n    // 调试：打印标识矩阵\n    __printXspanArr();\n\n    Copyer_action(source, content, gTrue);\n\n    // ==========\n\n    function __createTheadSpliter(content, alignSet) {\n        // 复制为 Markdown 时，在表头后添加分隔格式\n        let lastAlign = _left_,\n            spliter = \"| ---- \";\n        for (let i = 0; i < colCount; i++) {\n            // 读取每列的对齐方式\n            if (alignSet[i] !== gUndefined)\n                lastAlign = alignSet[i];\n\n            if (lastAlign === _left_) // 左对齐\n                spliter = \"| ---- \";\n            else if (lastAlign === _right_) // 右对齐\n                spliter = \"| ---: \";\n            else if (lastAlign === _center_) // 中间对齐\n                spliter = \"| :--: \";\n\n            content += spliter;\n        }\n        content += \"|\\n\";\n        return content;\n    }\n\n    // 适配是否要复制为 Markdown\n    function __maybeAsMarkdown(mdStr, plainStr) {\n        return (ContentAssistor_copyAsMarkdown ? mdStr : plainStr)\n    }\n\n    // 转换单元格内容\n    function __transCellContent(cellHTML, cellBg, cellWholeText) {\n        // 转换徽章\n        cellHTML = __transCellContent_badge(cellHTML, gRE_badge);\n        cellHTML = __transCellContent_badge(cellHTML, gRE_badge2);\n        // 转换标签\n        cellHTML = __transCellContent_tag(cellHTML, gRE_tag);\n        // 转换代码\n        cellHTML = __transCellContent_code(cellHTML, gRE_code);\n\n        // 转换文本着色、单元格背景色\n        if (ContentAssistor_copyAsMarkdown) {\n            // 有指定整段（整个单元格）的文本着色\n            if (cellWholeText !== gUndefined)\n                cellHTML = \"_~\" + cellWholeText + \"~_\" + cellHTML;\n\n            // 有指定单元格背景色\n            if (cellBg !== gUndefined)\n                cellHTML += \"_~\" + cellBg + \"!~_\";\n\n            // 有指定单元格内（加粗）文本着色\n            cellHTML = __transCellContent_rainbowText(cellHTML,\n                gRE_boldRainbowText);\n            // 有指定单元格内（斜体）文本着色\n            cellHTML = __transCellContent_rainbowText(cellHTML,\n                gRE_italicRainbowText);\n            // 有指定单元格内（高亮）文本着色\n            cellHTML = __transCellContent_rainbowText(cellHTML,\n                gRE_highlightRainbowText);\n            // 有指定单元格内（下划线）文本着色\n            cellHTML = __transCellContent_rainbowText(cellHTML,\n                gRE_underlineRainbowText);\n        }\n\n        // 用于清除或转换特殊字符\n        let badChars = [\n                /&nbsp;/i, // 空格\n                /&lt;/, // <\n                /&gt;/, // >\n                \"'\", // 英文单引号\n                '\"', // 英文双引号\n                /(“)([^“]+)(“)/, // 连续第2个中文单引号\n                /(‘)([^‘]+)(‘)/, // 连续第2个中文双引号\n                /<.*?>/i // HTML 标签\n            ],\n            goodChars = [\n                ___, // 空格\n                \"<\", // <\n                \">\", // >\n                \"‘\", // 中文单引号\n                \"“\", // 中文双引号\n                \"$1$2”\", // 中文反单引号\n                \"$1$2’\", // 中文反双引号\n                _ // for HTML 标签\n            ];\n\n        // 对 <br> 的处理 01\n        let brTmp = \"___br___\";\n        if (ContentAssistor_copyAsMarkdown) {\n            cellHTML = cellHTML.rA(/<br\\s?\\/?>/i, brTmp);\n            cellHTML = cellHTML.rA(/\\$/, \"\\\\$\");\n        }\n        else\n            cellHTML = cellHTML.rA(/<br\\s?\\/?>/i, \"\\n\");\n\n        // 清除或转换特殊字符，包括 HTML 标签\n        for (let i = 0; i < badChars.length; i++)\n            cellHTML = cellHTML.rA(badChars[i], goodChars[i]);\n\n        if (ContentAssistor_copyAsMarkdown) {\n            // 对 ___br___ 的处理 02\n            cellHTML = cellHTML.rA(brTmp, \"<br>\");\n            // 对 ___u___ 和 ___/u___ 的处理\n            cellHTML = cellHTML.rA(\"___u___\", \"<u>\");\n            cellHTML = cellHTML.rA(\"___/u___\", \"</u>\");\n        }\n\n        return cellHTML;\n    }\n\n    // 转换单元格内的标签\n    function __transCellContent_tag(cellHTML, regExp) {\n        let result = cellHTML.m(regExp);\n\n        // 遍历处理单元格内的所有匹配的内容\n        while (result != null) {\n            let _t = V_byClass(_vTag_ + \".\" + result[2]);\n            cellHTML = cellHTML.r(regExp,\n                __maybeAsMarkdown(_t.a(_dataAsMarkdown_), _t.a(_value_)));\n            // 匹配下一项\n            result = cellHTML.m(regExp);\n        }\n        return cellHTML;\n    }\n\n    // 转换单元格内的徽章\n    function __transCellContent_badge(cellHTML, regExp) {\n        let result = cellHTML.m(regExp);\n\n        // 遍历处理单元格内的所有匹配的内容\n        while (result != null) {\n                let _t = V_byClass(_vBadgeName_ + \".\" + result[2]);\n                cellHTML = cellHTML.r(regExp,\n                    __maybeAsMarkdown(_t.a(_dataAsMarkdown_), _t.a(_value_)));\n                // 匹配下一项\n                result = cellHTML.m(regExp);\n        }\n        return cellHTML;\n    }\n\n    // 转换单元格内的普通行内代码 code\n    function __transCellContent_code(cellHTML, regExp) {\n        let result = cellHTML.m(regExp);\n\n        // 遍历处理单元格内的所有匹配的内容\n        while (result != null) {\n            let _t = V_byClass(_vStdCode_ + \".\" + result[2]);\n            cellHTML = cellHTML.r(regExp,\n                __maybeAsMarkdown(V_util_wrapBackquote(_t.t()), _t.t()));\n            // 匹配下一项\n            result = cellHTML.m(regExp);\n        }\n        return cellHTML;\n    }\n\n    // 转换单元格内的文本着色\n    function __transCellContent_rainbowText(cellHTML, exp) {\n        let result = cellHTML.m(exp);\n\n        // 遍历处理单元格内所有格式着色内容\n        while (result != null) {\n            let color = result[3],\n                format = result[1];\n            if (color !== gUndefined)\n                cellHTML = cellHTML.r(exp, \"$1$4$5~($3)~\");\n            if (format !== gUndefined) {\n                // strong\n                if (format.sW(\"<st\"))\n                    cellHTML = cellHTML.r(exp, \"**$4**\");\n                // em\n                else if (format.sW(\"<e\"))\n                    cellHTML = cellHTML.r(exp, \"*$4*\");\n                // mark\n                else if (format.sW(\"<m\"))\n                    cellHTML = cellHTML.r(exp, \"==$4==\");\n                // <u>\n                else if (format.sW(\"<u\"))\n                    cellHTML = cellHTML.r(exp, \"___u___$4___/u___\");\n            }\n            // 匹配下一项\n            result = cellHTML.m(exp);\n        }\n        return cellHTML;\n    }\n\n    // 调试：打印标识矩阵\n    function __printXspanArr() {\n        if (!debugMode)\n            return;\n\n        console.log(\"Table:\", rowCount + \" x \" + colCount);\n        let sss = \"   \";\n        for (let i = 0; i < colCount; i++)\n            sss += ___+ i;\n        console.log(sss);\n        sss = \"   \";\n        for (let i = 0; i < colCount; i++)\n            sss += \" -\";\n        console.log(sss);\n        for (let i = 0; i < rowCount; i++) {\n            sss = _;\n            if (xspanMatrix[i] !== gUndefined) {\n                for (let j = 0; j < colCount; j++)\n                    sss += (xspanMatrix[i][j] === gUndefined) ? \". \" : xspanMatrix[i][j] +___;\n                console.log(i + \" | \" + sss);\n            }\n        }\n    }\n}\n\n// ==================== 表格单元格合并类 ==================== //\n\n// 单元格合并语法\nlet CellMerge_syntax_row = /^(:)$/, // 行，纵向合并\n    CellMerge_syntax_col = /^(==)$/ // 列，横向合并\n\n/**\n * 表格单元格合并\n * @param table 要进行单元格合并处理的表格对象\n */\nfunction CellMerge_dispose(table) {\n    let colSpanCount = 0,\n        colSpanCell = null,\n        colIndex = 0,\n        colCount = 0,\n        lastCell = null,\n        tblData = [],\n        tblSpan = [],\n        tblTd2ThData = [],\n        rowIndex = 0,\n        needRowSpan = gFalse;\n\n    // 遍历表格行\n    table.f(\"tr\").e((index, element) => {\n        tblData[rowIndex] = [];\n        tblSpan[rowIndex] = [];\n        let tr = $(element);\n        tr.f(\"td,th\").e((i, e) => {\n            let cell = $(e);\n\n            // --- 行合并：预处理（纵向） ---\n            // 克隆表格数据\n            tblData[rowIndex][colIndex] = cell;\n            tblSpan[rowIndex][colIndex] = 0;\n            if (CellMerge_syntax_row.test(cell.t())) {\n                tblSpan[rowIndex][colIndex] = 1;\n                needRowSpan = gTrue;\n            }\n            colIndex++;\n            colCount++;\n\n            // --- 列合并（横向） ---\n            // 是列合并标识\n            if (CellMerge_syntax_col.test(cell.t())) {\n                colSpanCount++;\n                JQ_remove(cell);\n                if (colSpanCount === 1)\n                    colSpanCell = lastCell;\n            }\n            // 不是列标识，则进行最近列标识数据进行处理\n            else {\n                if (colSpanCount > 0 && colSpanCell != null) {\n                    colSpanCell.a(_colspan_, colSpanCount + 1);\n                    CellMerge_emptyBlankCell(colSpanCell);\n                    colSpanCell.c(_textAlign_, _center_);\n                }\n                colSpanCount = 0;\n            }\n            lastCell = cell;\n        }); // find(td, th)\n\n        // 如果列合并了所有列，且内容为空，则取消表格行号等样式\n        if (colCount === colSpanCount + 1 && tr.t().x().length === 0) {\n            JQ_addClass(tr, _vTable_ + \"-colspan-all\");\n        }\n\n        // 列间合并：对于最后一列的补充处理\n        if (colSpanCount > 0 && colSpanCell != null) {\n            colSpanCell.a(_colspan_, colSpanCount + 1);\n            CellMerge_emptyBlankCell(colSpanCell);\n            colSpanCell.c(_textAlign_, _center_);\n        }\n        colSpanCount = 0;\n\n        rowIndex++;\n        colIndex = 0;\n        colCount = 0;\n    }); // tr\n\n    rowIndex = 0;\n\n    // --- 行间合并（纵向）---\n    if (needRowSpan) {\n        tblTd2ThData = [];\n        // 列式遍历（从左到右）\n        for (let c = 0, len = tblSpan[0].length; c < len; c++) {\n            let rowSpanCount = 0,\n                rowSpanCell = null;\n            let r = 0,\n                thSpanFlag = gFalse;\n\n            // 列式遍历（从上到下）\n            while (r < tblSpan.length) {\n                if (tblSpan[r][c] === 1) { // 要合并\n                    rowSpanCount++;\n                    if (rowSpanCell == null) {\n                        rowSpanCell = tblData[r - 1][c];\n                    }\n                    // 记录最大列头行合并深度\n                    if (r === 1)\n                        thSpanFlag = gTrue;\n                    if (thSpanFlag)\n                        tblTd2ThData[tblTd2ThData.length] = tblData[r][c].p();\n                    JQ_remove(tblData[r][c]); // 移除要被合并的单元格\n\n                    // 后接的单元格会变成第 1 列，但不需要预留表格行号显示的空间\n                    if (c + 1 < tblSpan[r].length)\n                        tblData[r][c + 1].c(_paddingLeft_, V_util_getVarVal(\"--tbl-cell-padding\"));\n                } else {\n                    thSpanFlag = gFalse;\n                    // 单元格行合并\n                    if (rowSpanCount > 0 && rowSpanCell != null) {\n                        rowSpanCell.a(_rowspan_, rowSpanCount + 1);\n                        CellMerge_emptyBlankCell(rowSpanCell);\n                        rowSpanCell.c(_verticalAlign_, _middle_);\n                        rowSpanCount = 0;\n                        rowSpanCell = null;\n                    }\n                }\n                r++;\n            } // while\n\n            // 行合并：对于最后一行的补充处理\n            if (rowSpanCount > 0 && rowSpanCell != null) {\n                rowSpanCell.a(_rowspan_, rowSpanCount + 1);\n                CellMerge_emptyBlankCell(rowSpanCell);\n                rowSpanCell.c(_verticalAlign_, _middle_);\n            }\n        } // for\n\n        // 处理列头的纵向合并\n        for (let i = 0, len = tblTd2ThData.length; i < len; i++) {\n            tblData[0][0].p().p().ap(tblTd2ThData[i]);\n            // 将 thead 内的 td 标签转换为 th\n            let foundTd = gFalse;\n            tblTd2ThData[i].f(\"td\").e((index, element) => {\n                foundTd = gTrue;\n                // 暂存 td 的属性数据\n                let td = $(element),\n                    style = td.a(_style_),\n                    tblCol = td.a(_dataTblCol_),\n                    classValue = td.a(_class_),\n                    colspan = td.a(_dataColspan_);\n                // td 转换为 th 标签\n                td.a(_dataTd2th_, _true_);\n                // td.prop(_outerHTML_, td.prop(_outerHTML_).rA(\"<td \", \"<th \"));\n                td.rW(td.prop(_outerHTML_).rA(\"<td \", \"<th \"));\n                // 将暂存的 td 的属性数据，恢复到新标签中\n                td.p().a(_style_, style);\n                td.p().a(_dataTblCol_, tblCol);\n                td.p().a(_class_, classValue);\n                td.p().a(_dataColspan_, colspan);\n            });\n            // 对被从 td 转换为 th 单元格，重新绑定：鼠标点击单元格时显示阅读模式（十字光标）\n            if (foundTd) {\n                tblTd2ThData[i].f(\"th\" + V_attrCSS(_dataTd2th_)).e((index, element) => {\n                    TableCross_bind(table, $(element));\n                });\n            }\n        }\n    } // if\n\n    needRowSpan = gFalse;\n}\n\n/**\n * 清空单元格内容（无内容情况下清空空格 &nbsp;）\n * @param cell 表格单元格对象\n */\nfunction CellMerge_emptyBlankCell(cell) {\n    if (cell.t().x().length === 0) {\n        cell.hm(_);\n        JQ_addClass(cell, \"v-empty-cell\");\n    }\n}\n\n// ==================== 表格阅读模式（十字光标）类 ==================== //\n\nlet TableCross_ui = gUndefined,\n    TableCross_lastTable = gUndefined, // 最后/当前显示阅读模式（十字光标）的表格\n    TableCross_lastCell = gUndefined; // 最后/当前显示阅读模式（十字光标）的表格单元格\n\nfunction TableCross_init() {\n    TableCross_ui = $(_vTblX_);\n    V_ui_addAnimate(TableCross_ui);\n}\n\n/**\n * 切换表格阅读模式（十字光标）开关\n */\nfunction TableCross_toggle(table) {\n    // 已打开，则关闭\n    if (table.a(_dataTblX_) === _true_)\n        TableCross_disable(table);\n    // 未打开，则打开\n    else\n        TableCross_enable(table);\n}\n\n// 打开表格阅读模式（十字光标）\nfunction TableCross_enable(table) {\n    table.a(_dataTblX_, _true_);\n    JQ_addClass(ContentAssistor_btns_tableCross, _selected_);\n}\n\n// 关闭表格阅读模式（十字光标）\nfunction TableCross_disable(table) {\n    if (table !== gUndefined)\n        table.a(_dataTblX_, _false_);\n    JQ_removeClass(ContentAssistor_btns_tableCross, _selected_);\n    TableCross_hide();\n}\n\n/**\n * 绑定单元格，鼠标点击单元格时显示阅读模式（十字光标）\n * @param table 单元格所属表格对象\n * @param cell 单元格对象\n */\nfunction TableCross_bind(table, cell) {\n    cell.uC().ck((event) => {\n        // if (table.c(_whiteSpace_) === _pre_) {\n        // ERROR(111, table.c(_whiteSpace_), cell.c(_whiteSpace_));\n\n        //     if (cell.c(_whiteSpace_) === _preWrap_) {\n        //         cell.c(_whiteSpace_, _pre_)\n        //             .c(_minWidth_, _auto);\n        //     }\n        //     else {\n        //         cell.c(_whiteSpace_, _preWrap_)\n        //             .c(_minWidth_, cell.c(_maxWidth_));\n        //     }\n        // }\n\n        if (table.a(_dataTblX_) !== _true_ || Copyer_processing)\n            return;\n\n        // vvv 不同表格之间点击，先强制移除动画 vvv\n        if (TableCross_lastTable === gUndefined)\n            V_ui_removeAnimate(TableCross_ui);\n\n        // 同一单元格不重复处理\n        if (TableCross_lastCell === cell)\n            return;\n\n        let container = table.p().p(),\n            contentFolded = container.a(_dataContentFolded_);\n        // 跳过被折叠表格\n        if (contentFolded !== gUndefined && contentFolded.sW(\"t\"))\n            return;\n\n        // 若点击同时也触发了「代码 / 标签 / 徽章」的复制\n        if (!Copyer_processing)\n            event.stopPropagation(); // 停止事件冒泡，避免与其他事件的处理冲突（如：document.click）\n\n        TableCross_hide(gTrue);\n        JQ_addClass(cell, _vTblXCell_);\n\n        TableCross_lastCell = cell;\n        TableCross_lastTable = table;\n\n        let tblWidth = JS_parseInt(table.c(_width_)),\n            tblHeight = JS_parseInt(table.c(_height_));\n\n        let cellWidth = JS_parseInt(cell.c(_width_)),\n            cellHeight = JS_parseInt(cell.c(_height_)),\n            cornerLeftX = table.oL(),\n            cornerUpY = table.oT(),\n            cornerLeftWidth = cell.oL() - table.oL(),\n            cornerUpHeight = cell.oT() - table.oT(),\n            cornerRightX = cell.oL()  + cellWidth,\n            cornerDownY = cell.oT() + cellHeight,\n            cornerRightWidth = tblWidth - cornerLeftWidth - cellWidth,\n            cornerDownHeight = tblHeight - cornerUpHeight - cellHeight;\n\n        // 1. 左上角\n        let leftUp = $(_vTblX_ + \".left-up\");\n        leftUp.c(_left_, cornerLeftX)\n            .c(_top_, cornerUpY)\n            .c(_width_, cornerLeftWidth)\n            .c(_height_, cornerUpHeight)\n            .c(_zIndex_, 9);\n\n        // 2. 右上角\n        let rightUp = $(_vTblX_ + \".right-up\");\n        rightUp.c(_left_, cornerRightX)\n            .c(_top_, cornerUpY)\n            .c(_width_, cornerRightWidth)\n            .c(_height_,  cornerUpHeight)\n            .c(_zIndex_, 9);\n\n        // 3. 左下角\n        let leftDown = $(_vTblX_ + \".left-down\");\n        leftDown.c(_left_, cornerLeftX)\n            .c(_top_, cornerDownY)\n            .c(_width_, cornerLeftWidth)\n            .c(_height_, cornerDownHeight)\n            .c(_zIndex_, 9);\n\n        // 4. 右下角\n        let rightDown = $(_vTblX_ + \".right-down\");\n        rightDown.c(_left_, cornerRightX)\n            .c(_top_, cornerDownY)\n            .c(_width_, cornerRightWidth)\n            .c(_height_, cornerDownHeight)\n            .c(_zIndex_, 9);\n\n        // 须延时后再执行显示，让以上代码先完成\n        setTimeout(() => {\n            // 针对不同表格之间点击强制移除动画后的恢复\n            V_ui_addAnimate(TableCross_ui);\n            V_ui_show(leftUp);\n            V_ui_show(rightUp);\n            V_ui_show(leftDown);\n            V_ui_show(rightDown);\n        }, 50);\n    });\n}\n\n/**\n * 隐藏表格阅读模式（十字光标）\n * @param sameTable true: 同一个表格内的情况，false: 不同表格\n */\nfunction TableCross_hide(sameTable) {\n    if (TableCross_lastCell === gUndefined)\n        return;\n\n    if (sameTable) {\n        JQ_removeClass(TableCross_lastCell, _vTblXCell_);\n        return;\n    }\n\n    JQ_removeClass(TableCross_lastCell, _vTblXCell_);\n    V_ui_hide(TableCross_ui);\n    TableCross_lastTable = gUndefined;\n}\n\n/**\n * 判断当前内容块是否与已显示了阅读模式（十字光标）的表格重叠\n * @param target 内容块对象\n*/\n// function TableCross_checkFallWith(target) {\n//     return (TableCross_lastTable !== gUndefined\n//         && target.ch().a(_id_) === TableCross_lastTable.a(_id_));\n// }\n\n// ==================== 表格自动换行类 ==================== //\n\n/**\n * 切换表格自动换行开关\n */\nfunction TableWrap_toggle(table) {\n    // 已打开，则关闭\n    if (table.c(_whiteSpace_) === _preWrap_)\n        TableWrap_disable(table);\n    // 未打开，则打开\n    else\n        TableWrap_enable(table);\n}\n\n// 打开表格自动换行\nfunction TableWrap_enable(table) {\n    table.f(\"td.\" + _vLong_).e((index, element) => {\n        let _t = $(element);\n        _t.a(_dataLong_, gTrue);\n        JQ_removeClass(_t, _vLong_);\n    });\n\n    JQ_addClass(ContentAssistor_btns_tableWrap, _selected_);\n    JQ_removeClass(table, _vTableUnwrap_);\n    JQ_addClass(table, _vTableWrap_);\n    // table.c(s_CssText, s_WhiteSpace + \":\" + s_PreWrap + s_Important);\n}\n\n// 关闭表格自动换行\nfunction TableWrap_disable(table) {\n    table.f(\"td\" + V_attrCSS(_dataLong_, gTrue)).e((index, element) => {\n        let _t = $(element);\n        JQ_addClass(_t, _vLong_);\n        JQ_removeAttr(_t, _dataLong_);\n    });\n\n    JQ_removeClass(ContentAssistor_btns_tableWrap, _selected_);\n    JQ_removeClass(table, _vTableWrap_);\n    JQ_addClass(table, _vTableUnwrap_);\n    // table.c(s_CssText, s_WhiteSpace + \":pre\" + s_Important);\n}\n\n// ==================== 表格列格式化类 ==================== //\n\nlet ColumnFormatting_syntax_checkbox_header = /\\[ ?] ?/; // 复选框列头格式语法\nlet ColumnFormatting_syntax_checkbox = /(^((\\[[x-]])|[Yy?？])(\\s.+)*)/; // 复选框列内单元格格式语法\n\n/**\n * 初始化\n * @param table 表格对象\n * @param cell 单元格对象\n * @param text 单元格文本内容\n */\nfunction ColumnFormatting_init(table, cell, text) {\n    if (table.a(_dataColumnFmting_) !== _true_\n        && (cell.f(_strong_ + \",em,u,\" + _mark_ + \",\" + _del_).length > 0 // 普通列格式\n        || cell.c(_textAlign_) === _right_ // 右对齐表示使用数值格式\n        || ColumnFormatting_syntax_checkbox_header.test(text))) { // 复选框列格式\n            // 将表格标识为带列格式语法\n            table.a(_dataColumnFmting_, _true_);\n            return gTrue; // 匹配到列格式\n    }\n    return gFalse; // 未匹配到列格式\n}\n\n/**\n * 返回表格内所有非合并的同列单元格对象集合\n * @param table 表格格对象\n * @param th 列头单元格对象\n * @param cells 集合变量\n */\nfunction ColumnFormatting_getCells(table, th, cells) {\n    if (cells === gUndefined)\n        cells = table.f(V_attrCSS(_dataColspan_, _true_, \"!\") + V_attrCSS(_dataTblCol_, th.a(_dataTblCol_)));\n    return cells;\n}\n\n/**\n * 返回表格 tbody 内的同列单元格对象集合\n * @param table 表格格对象\n * @param th 列头单元格对象\n * @param tbodyCells 集合变量，为 gUndefined 则重新生成\n */\nfunction ColumnFormatting_getTbodyCells(table, th, tbodyCells) {\n    if (tbodyCells === gUndefined)\n        tbodyCells = table.f(\"td\" + V_attrCSS(_dataTblCol_, th.a(_dataTblCol_)));\n    return tbodyCells;\n}\n\n/**\n * 列格式化\n * @param table 表格对象\n */\nfunction ColumnFormatting_format(table) {\n    table.f(_thead_ + \" th\").e((index, element) => {\n        let th = $(element),\n            cells = gUndefined,\n            tbodyCells = gUndefined,\n            cellsCSS = _;\n\n        // 粗体\n        if (th.f(_strong_ + _firstChild_).length > 0) {\n            cells = ColumnFormatting_getCells(table, th, cells);\n            cellsCSS += _vTblColFmt_Bold_ +___;\n        }\n\n        // 斜体\n        if (th.f(\"em\" + _firstChild_).length > 0) {\n            cells = ColumnFormatting_getCells(table, th, cells);\n            cellsCSS += _vTblColFmt_Em_ +___;\n        }\n\n        // 高亮\n        let thHTML = th.hm();\n        if (thHTML.sW(\"<mar\") && thHTML.eW(\"rk>\") // <mark>...</mark>\n            || th.a(_class_) !== gUndefined\n            && th.a(_class_).i(_vTblColFmtMark_) > -1) {\n                $(V_attrCSS(_dataTblCol_, th.a(_dataTblCol_))).f(_mark_).ch().unwrap();\n                cells = ColumnFormatting_getCells(table, th, cells);\n                cellsCSS += _vTblColFmtMark_ +___;\n        }\n\n        // 批量添加以上列的常规样式\n        if (cells !== gUndefined && cellsCSS.length > 0)\n            JQ_addClass(cells, cellsCSS);\n\n        // 下划线\n        // if (th.f(\"u\" + _firstChild_).length > 0) {\n        //     JQ_addClass(th, _vTblColFmt_U_);\n        //     tbodyCells = ColumnFormatting_getTbodyCells(table, th, tbodyCells);\n        //     tbodyCells.contents().wrap(\"<u></u>\");\n        // }\n\n        // 删除线\n        if (th.ch(_del_ + _firstChild_).length > 0) {\n            // 删除对应的列\n            JQ_remove(th);\n            JQ_remove(ColumnFormatting_getTbodyCells(table, th, tbodyCells));\n            // JQ_addClass(th, _vTblColFmtDel_);\n            // tbodyCells = ColumnFormatting_getTbodyCells(table, th, tbodyCells);\n            // tbodyCells.contents().wrap(\"<\" + _del_ + \"></\" + _del_ + \">\");\n        }\n\n        // 复选框\n        if (ColumnFormatting_syntax_checkbox_header.test(th.t())) {\n            cells = ColumnFormatting_getCells(table, th, cells);\n            JQ_addClass(cells, _vTblColFmt_Chkbox_);\n\n            // 删除列头的复选框语法\n            ColumnFormatting_removeCheckboxSyntax(th, ColumnFormatting_syntax_checkbox_header);\n\n            tbodyCells = ColumnFormatting_getTbodyCells(table, th, tbodyCells);\n\n            tbodyCells.e((i, e) => {\n                let ce = $(e),\n                    ceText = ce.t().x(),\n                    typeFlag = ceText.m(ColumnFormatting_syntax_checkbox),\n                    chkStatus = _no_,\n                    chkStyle = _dark_;\n\n                typeFlag = (typeFlag != null) ? typeFlag[2] : _;\n\n                // 跳过横向合并的单元格\n                if (ce.a(_colspan_) !== gUndefined)\n                    return gTrue;\n\n                // 移除单元格的复选框语法内容\n                ColumnFormatting_removeCheckboxSyntax(ce, typeFlag);\n\n                // 指定为 yes - 已选择\n                if (typeFlag === \"[x]\" || typeFlag.l() === \"y\") {\n                    chkStatus = _yes_;\n                    chkStyle = _theme_;\n                }\n                // 指定为 un - 不确定选择\n                else if (typeFlag === \"[-]\" || typeFlag === \"?\" || typeFlag === \"？\") {\n                    chkStatus = _un_;\n                    chkStyle = _theme_;\n                }\n                // 无指定\n                else\n                    ce.rHTML(_nbsp_, _);\n\n                // 添加复选框样式（有指定的内容，或单元内容为空时才添加）\n                if (typeFlag.length > 0 || ceText.length === 0)\n                    ce.pp(V_ui_svgIcon(_icoChkbox__ + chkStatus, 14, 14, chkStyle, _, V_attr(_dataChk_, chkStatus)));\n                else\n                    // 添加差异化的文本着色\n                    ce.pp(\"<em>\" + V_ui_sub(_, _, \"Gy\") + \"</em>\");\n            });\n        }\n\n        // 数值格式\n        if (th.c(_textAlign_).sW(\"r\")) {\n            tbodyCells = ColumnFormatting_getTbodyCells(table, th, tbodyCells);\n            // 设置为等宽字体\n            JQ_addClass(tbodyCells, _vTblColFmtNum_);\n            // 数值格式化处理\n            tbodyCells.e((i, e) => {\n                let ce = $(e),\n                    text = ce.t();\n                // 内容为数值\n                if (text.isNumber()) {\n                    // 添加千位符\n                    ce.hm(V_formatting_decimal( // 添加千位符\n                        V_formatting_thousands(ce.hm()))); // 对小数进行格式化处理\n                    // 根据正负号进行着色处理\n                    ColumnFormatting_coloringNumber(ce, text, gTrue);\n                }\n                // 内容为百分数\n                else if (text.isPercent()) {\n                    // 对小数进行处理\n                    ce.hm(V_formatting_percent( // 对小数进行处理\n                        V_formatting_decimal(ce.hm()))); // 对百分数进行格式化处理\n                    // 根据正负号进行着色处理\n                    let coloring = ColumnFormatting_coloringNumber(ce, text, gTrue),\n                        percent = text.r(/(-|\\+|\\s)/g, _),\n                        percentValue = JS_mathRound(percent.r(\"%\", _)),\n                        percentBg = V_ui_hexToRGB(V_util_getVarVal(\"--h-f\")),\n                        bg1 = V_ui_formatRGBA(percentBg, 0.1),//\"rgba(128, 128, 128, 0.1)\",\n                        bg2 = V_ui_formatRGBA(percentBg, 0.4),//\"rgba(128, 128, 128, 0.4)\",\n                        bgSplit = V_ui_formatRGBA(percentBg, 0.8);//\"rgba(128, 128, 128, 0.8)\";\n\n                    // 对有首色的进行渐变颜色调整\n                    if (coloring) {\n                        let baseBg = ce.c(_color_).r(\"rgb\", \"rgba\");\n                        bg1 = baseBg.r(\")\", \",.05)\");\n                        bg2 = baseBg.r(\")\", \",.2)\");\n                        bgSplit = baseBg.r(\")\", \",.7)\");\n                    }\n                    // 根据百分比生成渐变背景色、最小宽度\n                    ce.c(_background_, _linearGradient_ + \"(90deg,\" + bg1 + \" 0%,\" + bg2 +___+ (percentValue > 1 ? percentValue - 1 : 0)\n                        + \"%,\" + bgSplit +___+ percent\n                        + \",transparent \" + percent + \")\")\n                            .c(_minWidth_, \"100px\");\n                    // 对 +/- 符号进行处理\n                    ce.hm(ce.hm().r(\">+\", \">▴ \").r(\">-\", \">▾ \"));\n                }\n                // 内容为货币\n                else if (text.isCurrency()) {\n                    // 对货币符号进行格式货\n                    ce.hm(V_formatting_decimal( // 对货币符号进行格式货\n                        V_formatting_thousands( // 添加千位符\n                            V_formatting_currency(ce.hm())))); // 对小数进行格式化处理\n                    // 根据正负号进行着色处理\n                    ColumnFormatting_coloringNumber(ce, text, gFalse);\n                }\n            });\n        } // 数值格式\n\n        // 标识单元格是否为横向合并，横向合并的单元不应用列格式\n        if (th.a(_colspan_) !== gUndefined)\n            th.a(_dataColspan_, _true_);\n        else\n            th.a(_dataColspan_, _false_);\n    });\n}\n\n/**\n * 根据数值的正、负号进行着色处理\n * @param target 着色的对象\n * @param text 依据的数值文本\n * @param mode 正负号位置模式，true：在开头，false: 在任意位置\n * @returns boolean 着色结果，true：有着色，false：没有着色\n */\nfunction ColumnFormatting_coloringNumber(target, text, mode) {\n    // 正、负号在文本的开头\n    if (mode) {\n        if (text.sW(\"-\")) {\n            JQ_addClass(target, _vTblColFmtNumNegative_);\n            return gTrue;\n        }\n        else if (text.sW(\"+\")) {\n            JQ_addClass(target, _vTblColFmtNumPositive_);\n            return gTrue;\n        }\n    }\n    // 正、负号在文本的任意位置\n    else {\n        if (text.i(\"-\") > -1) {\n            JQ_addClass(target, _vTblColFmtNumNegative_);\n            return gTrue;\n        }\n        else if (text.i(\"+\") > -1) {\n            JQ_addClass(target, _vTblColFmtNumPositive_);\n            return gTrue;\n        }\n    }\n    return gFalse;\n}\n\n/**\n * 移除复选框的语法内容\n * @param target 目标单元格对象\n * @param syntaxText 要移除的语法内容\n */\nfunction ColumnFormatting_removeCheckboxSyntax(target, syntaxText) {\n    target.rHTML(syntaxText, _);\n}\n\n// ==================== 表格行分组/折叠类 ==================== //\n\nlet RowGroup_folderCount = 0, // 折叠行内行分组类型的数量\n    RowGroup_syntax_tag = /^>+(\\s)./, // 用于匹配行折叠语法\n    RowGroup_syntax_tag2Replace = /(&gt;)+(\\s)/, // 用于匹配将行折叠语法替换为指定字符\n    RowGroup_spliter = \"> \", // 行折叠语法与内容的分隔标识\n    RowGroup_parentStack = [], // 上级行的堆栈\n    RowGroup_colorStack = [], // 不同分组的背景颜色堆栈\n    // 表格折叠行图标：已收起\n    RowGroup_icoCloser = V_ui_svgIcon(_icoFolded_, 16, 16, _theme_);\n    // 表格折叠行图标：已展开\n    // RowGroup_icoOpened = V_ui_genSvgIcon(\"icoUnfold\", 16, 16, s_Theme)\n\n/**\n * 初始化\n * @param table 表格对象\n */\nfunction RowGroup_init(table) {\n    // 若不是在新标签打开的，将第 1 列的设置缩进样式\n    JQ_addClass(table.f(V_attrCSS(_dataTblCol_, \"-0\", \"$\")), _vTblRowGNotFolder_);\n\n    let lastLevel = 0, // 上一个缩进等级\n        currentLevel = 0; // 当前缩进等级\n        // bgColor = new RandomColor();\n\n    // 遍历所有行的第 1 个单元格\n    table.f(\"td\" + _firstChild_).e((index, element) => {\n        let td = $(element),\n            tr = td.p(),\n            text = td.t();\n\n        // 判断每行的首列，是否有行折叠标识\n        // 没有则进入下一个循环\n        if (!RowGroup_syntax_tag.test(text)) {\n            lastLevel = 0;\n            RowGroup_parentStack.length = 0;\n            RowGroup_colorStack.length = 0;\n            return gTrue;\n        }\n\n        // 从语法中获得当前缩进等级\n        currentLevel = text.i(RowGroup_spliter) + 1;\n        // 当前等级比上一次等级要深\n        if (currentLevel > lastLevel) {\n            let beforeChanged = lastLevel;\n            lastLevel = currentLevel;\n            // 设置为新的行分组\n            RowGroup_newFolder(tr, currentLevel, beforeChanged === 0,\n                V_ui_formatRGBA(RandomColor_dissimilarRgb(), _varTblRowAlpha_));\n            // 设置为行缩进行\n            RowGroup_ident(tr, td, currentLevel);\n        }\n        // 当前等级比上一次等级要浅\n        else {\n            // 获得等级差进行\n            let count = lastLevel - currentLevel;\n            // 获得当前行对应的上级行\n            if (count > 0) {\n                for (let i = 0; i < count; i++) {\n                    RowGroup_parentStack.pop();\n                    RowGroup_colorStack.pop();\n                }\n                // JQ_addClass(tr, \"v-rowgroup-spliter\");\n                // tr.ch(\"td\").c(_backgroundColor_, \"yellow\");\n            }\n\n            lastLevel = currentLevel;\n            // 设置为行缩进行\n            RowGroup_ident(tr, td, currentLevel);\n        }\n    });\n}\n\n/**\n * 获得最近一个分组行分组对象\n */\nfunction RowGroup_lastParent() {\n    return RowGroup_parentStack[RowGroup_parentStack.length - 1];\n}\n\n/**\n * 获得最近一个分组颜色对象\n */\nfunction RowGroup_lastColor() {\n    return RowGroup_colorStack[RowGroup_colorStack.length - 1];\n}\n\n/**\n * 设置为新的行分组\n * @param tr 对应的行对象\n * @param level 缩进层级\n * @param reset 是否重置回第一级\n * @param color 该分组背景色\n */\nfunction RowGroup_newFolder(tr, level, reset, color) {\n    let folderRow = tr.pr();\n    RowGroup_folderCount++;\n\n    // 将当前行分组的 id 入栈\n    RowGroup_parentStack.push(RowGroup_folderCount);\n    // 将当前行分组的随机背景颜色入栈\n    RowGroup_colorStack.push(color);\n\n    // 设置折叠行分组的属性\n    folderRow.a(_dataFolderId_, RowGroup_folderCount);\n    folderRow.a(_dataFolder_, _true_);\n    folderRow.a(_dataRowFolded_, _true_);\n\n    // 获得折叠行分组首个单元格\n    let td = folderRow.ch(\"td:\" + _first_),\n        tdHadIdent = td.f(\".\" + _vTblRowGIdenter_ + _last_);\n        // btnRowGroup = V_ui_span(\"v-tbl-row-g-btn\", __, RowGroup_icoCloser);\n\n    // 设置折叠控件样式\n    if (tdHadIdent.length > 0)\n        tdHadIdent.af(V_ui_span(_vTblRowGBtn_.xD(), _, RowGroup_icoCloser));\n    else\n        td.pp(V_ui_label(_vTblRowGBtn_.xD(), _, RowGroup_icoCloser));\n\n    V_ui_addAnimate(td.f(_vTblRowGBtn_ + \">\" + _svg_));\n    // 调整折叠行的缩进样式\n    JQ_removeClass(td, _vTblRowGNotFolder_);\n    JQ_addClass(td, _vTblRowGFolder_);\n    JQ_addClass(tdHadIdent, _vTblRowGIdenterFolder_);\n\n    // 添加代表目录的括号及样式\n    // 重新组合生成新的单元格内容，以支持原始带格式的单元格内容\n    let preClass = \".\" + _vTblRowGIdenter_ + \",\" + _vTblRowGBtn_,\n        preObjs = td.f(preClass),\n        cloneTd = td.clone();\n    JQ_remove(cloneTd.ch(preClass));\n    td.hm(__echoOuterHTML(preObjs) +___+ V_ui_strong(cloneTd.hm() +___));\n\n    // 设置展开、收起事件\n    td.ch(_vTblRowGBtn_).ck((event) => {\n        RowGroup_toggle(folderRow, event);\n    });\n\n    /**\n     * 遍历获得指定对象集合的所有 outerHTML 内容\n     * @param objectSet 对象集合\n     * @returns String\n     */\n    function __echoOuterHTML(objectSet) {\n        let outerHTML = _;\n        objectSet.e((index, element) => {\n            outerHTML += $(element).prop(_outerHTML_);\n        });\n        return outerHTML;\n    }\n}\n\n/**\n * 展开、收起表格行分组下的表格行\n * @param folderRow 折叠按钮所在的表格行对象\n * @param event 事件对象\n */\nfunction RowGroup_toggle(folderRow, event) {\n    // 取消事件冒泡，用于避免显示表格的阅读模式（十字光标）\n    event.stopPropagation();\n\n    // 处理行分组的打开、关闭\n    if (folderRow.a(_dataRowFolded_).sW(\"t\"))\n        RowGroup_open(folderRow);\n    else\n        RowGroup_close(folderRow);\n\n    // 隐藏表格的阅读模式（十字光标）\n    TableCross_hide();\n}\n\n/**\n * 展开所有表格行分组\n * @param table 指定的表格对象\n * @param mode 指定打开模式。auto：系统自动打开\n * @returns boolean 处理结果。true: 已展开，false: 不符合展开条件\n */\nfunction RowGroup_openAll(table, mode) {\n    if (table.a(_dataRowGroup_) !== _true_)\n        return gFalse;\n\n    table.f(_vTblRowGBtn_).e((index, element) => {\n        let folderRow = $(element).p().p();\n        if (folderRow.a(_dataRowFolded_) === _true_)\n            RowGroup_open(folderRow, mode);\n    });\n    return gTrue;\n}\n\n/**\n * 收起全部表格行分级\n * @param table 指定的表格对象\n * @param mode 指定处理范围。auto：关闭被自动打开的，不指定时默认全部关闭\n * @returns boolean 处理结果。true: 已展开，false: 不符合展开条件\n */\nfunction RowGroup_closeAll(table, mode) {\n    if (table.a(_dataRowGroup_) !== _true_)\n        return gFalse;\n\n    // 只对第一级的行分组进行处理，非第一级的行分级为 span.v-tbl-row-g-btn\n    table.f(_label_ + _vTblRowGBtn_).e((index, element) => {\n        let folderRow = $(element).p().p();\n        LOG(mode, folderRow.a(_dataRowOpenMode_), folderRow.a(_dataRowFolded_));\n        if (mode === _auto_) {\n            if (folderRow.a(_dataRowOpenMode_) === _auto_ && folderRow.a(_dataRowFolded_) === _false_)\n                RowGroup_close(folderRow);\n        }\n        else {\n            if (folderRow.a(_dataRowFolded_) !== _true_)\n                RowGroup_close(folderRow);\n        }\n    });\n    return gTrue;\n}\n\n/**\n * 重置清空表格中的行分组相关信息\n * @param target 目标表格\n */\nfunction RowGroup_reset(target) {\n    JQ_removeAttr(target, _dataRowGroup_);\n    JQ_removeAttr(target.f(\"tr\" + V_attrCSS(_dataParentFolderId_)), _dataParentFolderId_);\n}\n\n/**\n * 设置为缩进行\n * @param tr 对应的行对象\n * @param td 对应的行的首个单元格\n * @param level 缩进层级\n */\nfunction RowGroup_ident(tr, td, level) {\n    // 统一缩进节点符号转换，尾行在完成的有处理后再进行修正\n    td.rHTML(RowGroup_syntax_tag2Replace, _);\n\n    // 设置被折叠行的属性\n    tr.a(_dataParentFolderId_, RowGroup_lastParent());\n    // 设置缩进样式\n    td.a(_dataIdentLevel_, level);\n    // 调整样式\n    JQ_removeClass(td, _vTblRowGNotFolder_);\n    JQ_addClass(td, _vTblRowGSub_);\n    // 设置被折叠行的背景色\n    tr.c(_backgroundColor_, RowGroup_lastColor());\n\n    // 生成缩进占位元素\n    for (let i = 0; i < level; i++) {\n        let identer = td.f(\".\" + _vTblRowGIdenter_ + _last_),\n            identObj = V_ui_label(_vTblRowGIdenter_, _);\n        if (identer.length > 0)\n            identer.af(identObj);\n        else\n            td.pp(identObj);\n    }\n\n    // 隐藏被折叠的行\n    tr.c(_display_, _table_ + __column_);\n}\n\n/**\n * 展开表格行分组\n * @param folderRow 行分组对象\n * @param mode 指定打开模式。auto：系统自动打开\n */\nfunction RowGroup_open(folderRow, mode) {\n    // 处理展开行分组\n    let id = folderRow.a(_dataFolderId_),\n        table = folderRow.p().p(),\n        subRows = table.f(\"tr\" + V_attrCSS(_dataParentFolderId_, id)),\n        folderButton = folderRow.ch(\"td:\" + _first_).ch(_vTblRowGBtn_ + _last_);\n\n    folderRow.a(_dataRowFolded_, _false_);\n    if (mode !== gUndefined)\n        folderRow.a(_dataRowOpenMode_, mode);\n    JQ_addClass(folderButton.ch(_svg_), _vRotate90_);\n    subRows.c(_display_, _);\n\n    // 如表格指定了重复表头则进行对应处理\n    let thRow = table.f(_thead_ + \">tr\" + _lastChild_);\n    if (table.a(_dataThRpt_) === _group_) {\n        // 从第 2 列开始进行处理\n        folderRow.f(\"td\" + V_not(_firstChild_)).e((index, element) => {\n            let td = $(element),\n                tdHTML = td.hm().x();\n            if (tdHTML.length === 0 || tdHTML === _nbsp_) {\n                let colID = td.a(_dataTblCol_),\n                    th = thRow.f(\"th\" + V_attrCSS(_dataTblCol_, colID)).hm();\n                // 如果对应的列头可能因向下合并单元格为空时，尝试找上一行对应的列头\n                if (th === gUndefined) {\n                    let prevThRow = thRow.pr();\n                    if (prevThRow !== gUndefined)\n                        th = prevThRow.f(\"th\" + V_attrCSS(_dataTblCol_, colID)).hm();\n                }\n                // 临时将行分组中的单元格替换为对应的列头\n                td.hm(th);\n                JQ_addClass(td, _vThRepeater_);\n            }\n        });\n    }\n}\n\n/**\n * 折叠表格行分组\n * @param folderRow 行分组对象\n */\nfunction RowGroup_close(folderRow) {\n    // 处理折叠行分组\n    let id = folderRow.a(_dataFolderId_),\n        subRows = $(\"tr\" + V_attrCSS(_dataParentFolderId_, id)),\n        folderButton = folderRow.ch(\"td:\" + _first_).ch(_vTblRowGBtn_ + _last_);\n\n    folderRow.a(_dataRowFolded_, _true_);\n    JQ_removeAttr(folderRow, _dataRowOpenMode_);\n    JQ_removeClass(folderButton.ch(_svg_), _vRotate90_);\n\n    // 折叠所有子行（包括行分组）\n    subRows.e((index, element) => {\n        let tr = $(element),\n            folder = tr.a(_dataFolder_);\n        if (folder !== gUndefined && folder.sW(\"t\"))\n            RowGroup_close(tr);\n        tr.c(_display_, _table_ + __column_);\n    });\n\n    // 如表格指定了重复表头则进行对应处理\n    let table = folderRow.p().p();\n    if (table.a(_dataThRpt_) === _group_) {\n        // 从第 2 列开始进行处理\n        folderRow.f(\"td\" + V_not(_firstChild_)).e((index, element) => {\n            let td = $(element);\n            // 将行分组中临时替换的列头删除\n            if (td.a(_class_).i(_vThRepeater_) > -1) {\n                td.hm(_);\n                JQ_removeClass(td, _vThRepeater_);\n            }\n        });\n    }\n}\n\n/**\n * 根据设备类型自适应hover样式\n */\nfunction RowGroup_adjustHoverStyle() {\n    if (env.device.mobile) // 移动设备时解绑样式事件\n        $(_vTblRowGBtn_).uH();\n    else // 为表格行分组的折叠控件绑定 hover 事件\n        V_ui_bindHover($(_vTblRowGBtn_));\n}\n\n// ==================== 表格列头重复生成器 ==================== //\n\nlet ThRepeater_syntax_tag = /^(##\\s).+/; // 用于匹配表格列头重复的语法\n\n/**\n * 初始化重复表头处理\n */\nfunction ThRepeater_init(table) {\n    let hasRowGroup = table.a(_dataRowGroup_) === _true_;\n\n    // 带行分组时，表头重复模式为 group，其他则为 page\n    table.a(_dataThRpt_, hasRowGroup ? _group_ : \"page\");\n    if (hasRowGroup)\n        return;\n\n    // 处理 page 模式的表头重复\n    let rowIndex = 1,\n        pageSize = 15 + rowIndex,\n        thRow = table.f(_thead_ + \">tr\"),\n        skipRowCount = 0,\n        lastSkipRowCount = 0,\n        tbody = table.f(_tbody_ + \">tr\"),\n        rowCount = tbody.length;\n\n    tbody.e((index, element) => {\n        let tr = $(element),\n            td = tr.ch(\"td[\" + _rowspan_ + \"]\");\n\n        // 跳过有跨行合并的行\n        if (td.length > 0) {\n            td.e((i, e) => {\n                let rowSpan = JS_parseInt($(e).a(_rowspan_));\n                if (rowSpan > skipRowCount) {\n                    skipRowCount = rowSpan - 1;\n                }\n                lastSkipRowCount = skipRowCount - 1;\n            });\n        }\n\n        // 每 15 行为 1 页\n        if (skipRowCount === 0 && rowIndex % (pageSize + lastSkipRowCount - 1) === 0\n            && rowIndex < rowCount) {\n                let colIndex = 0;\n                thRow.e((i, e) => {\n                    tr.af($(e).prop(_outerHTML_).rA(\"<th \", \"<td \"));\n                    JQ_addClass(tr.n().ch(\"td\"), _vThRepeater_);\n                    if (colIndex === 0)\n                        JQ_addClass(tr.n().ch(\".\" + _vThRepeater_), _first_);\n                    else\n                        JQ_addClass(tr.n().ch(\".\" + _vThRepeater_), \"not-\" + _first_);\n                    tr = tr.n();\n                    // 取消表格行号\n                    JQ_addClass(tr, \"v-tr-repeater\");\n\n                    colIndex++;\n                });\n        }\n        rowIndex++;\n\n        // 未完成须跳过的行\n        if (skipRowCount > 0)\n            skipRowCount--;\n        // 已完成须跳过的行\n        else\n            lastSkipRowCount = 0;\n    });\n}\n\n// ==================== 音频增强类 ==================== //\n\nlet ExtAudio_icon_loading = V_ui_svgIcon(_icoLoading_, 16, 16, _light_),\n    ExtAudio_icon_play = V_ui_svgIcon(_icoPlay_, 16, 16, _light_),\n    ExtAudio_icon_pause = V_ui_svgIcon(_icoPause_, 16, 16, _light_),\n    ExtAudio_icon_stop = V_ui_svgIcon(_icoStop_, 16, 16, _light_),\n    ExtAudio_icon_forbidden = V_ui_svgIcon(_icoForbidden_, 16, 16, _light_);\n\n/**\n * 初始化音频数据\n */\nfunction ExtAudio_init() {\n    // 支持指定类型的音频，以及支持带参数的 URL\n    let writeImg = _write_ +___+ _img_;\n    $(writeImg + V_attrCSS(_src_, _mp3_, \"$\") + \",\" + writeImg + V_attrCSS(_src_, _m4a_, \"$\") + \",\" + writeImg + V_attrCSS(_src_, _ogg_, \"$\") + \",\" + writeImg + V_attrCSS(_src_, _wav_, \"$\") + \",\"\n    + writeImg + V_attrCSS(_src_, _mp3_ + \"?\", \"*\") + \",\" + writeImg + V_attrCSS(_src_, _m4a_ + \"?\", \"*\") + \",\" + writeImg + V_attrCSS(_src_, _ogg_ + \"?\", \"*\") + \",\" + writeImg + V_attrCSS(_src_, _wav_ + \"?\", \"*\") ).e((index, element) => {\n        let audioLike = $(element),\n            audio = gUndefined,\n            src = audioLike.a(_src_),\n            container = audioLike.p(),\n            params = V_util_getUrlQueryParams(src);\n\n        // 指定为 mini 模式（扩展的自定义控件）\n        if (params[_controls_] === _mini_) {\n            V_doc_counter_audiomini++;\n\n            // 将 URL 为音频资源的 img 标签转换为 audio\n            audio = __transToAudio(audioLike, src);\n            // 设置 audio id 用于自定义 mini 控件\n            audio.a(_id_, _vkIdMiniAudio_ + V_doc_counter_audiomini);\n\n            // 添加音频播放 mini 控件\n            audio.af(V_ui_divExt(_vkIdMiniAudio_ + V_doc_counter_audiomini + __control_, _vAudioMiniControl_,\n                V_attr(_dataTitle_, _mini_ +___+ _audio_ +___+ V_doc_counter_audiomini), _));\n\n            // 开始加载音频\n            audio.bind(\"loadstart\", (event) => {\n                let controls = V_byID($(event.currentTarget).a(_id_) + __control_);\n                JQ_addClass(controls, _vAudioMiniControl_);\n                JQ_addClass(controls, _loading_);\n                controls.hm(ExtAudio_icon_loading);\n            });\n\n            // 音频就绪可以开始播放\n            audio.bind(\"canplay\", (event) => {\n                let controls = V_byID($(event.currentTarget).a(_id_) + __control_);\n                JQ_removeClass(controls, _loading_);\n\n                // 绑定点击事件\n                controls.uC().ck((event) => {\n                    __play(event.currentTarget, audio[0]);\n                });\n                controls.hm(ExtAudio_icon_play);\n                controls.a(_dataPause_, params[\"pause\"]);\n\n                // 须显示持续时长\n                let dur = params[\"duration\"];\n                if (dur !== gUndefined && dur.sW(\"t\")) {\n                    let dur2 = audio.a(_dataDuration_);\n                    if (dur2 === gUndefined || !dur2.sW(\"t\")) {\n                        // 计算音频时长\n                        let duration = audio[0].duration,\n                            min = Math.floor(duration / 60),\n                            sec = Math.floor(duration -  min * 60);\n                        let minStr = min > 0 ? min + \"′\" : _;\n                        audio.n().af(\" <sup \" + V_attrCSS(_class_, \"v-duration-info\") + \">\" + minStr + sec + \"″</sup>\");\n                        audio.a(_dataDuration_, _true_);\n                    }\n                }\n            });\n\n            // 正在播放\n            audio.bind(_playing_, (event) => {\n                let controls = V_byID($(event.currentTarget).a(_id_) + __control_),\n                    pause = controls.a(_dataPause_);\n\n                JQ_addClass(controls, _vAudioMiniControl_)\n                JQ_addClass(controls, _playing_);\n\n                // 支持暂停播放\n                if (pause !== gUndefined && pause.sW(\"t\")) {\n                    controls.hm(ExtAudio_icon_pause);\n                }\n                // 不支持暂停播放，暂时即结束\n                else {\n                    controls.hm(ExtAudio_icon_stop);\n                    audio.currentTime = 0; // 播放都是从头开始\n                }\n            });\n\n            // 播放结束后恢复按钮状态\n            audio.bind(\"ended\", (event) => {\n                let controls = V_byID($(event.currentTarget).a(_id_) + __control_);\n                controls.hm(ExtAudio_icon_play);\n                JQ_removeClass(controls, _playing_);\n            });\n\n            // 故障或不可用\n            audio.bind(_emptied_, (event) => {\n                let id = $(event.currentTarget).a(_id_) + __control_,\n                    controls = V_byID(id);\n                JQ_removeClass(controls, _loading_);\n                controls.hm(ExtAudio_icon_forbidden);\n                JQ_addClass(controls, _vAudioMiniControl_);\n                JQ_addClass(controls, _disabled_);\n                // 将无法加载的音频信息添加到链接检查器\n                // __addToLinkChecker(audio.p(), controls.a(_dataTitle_));\n                __addToLinkChecker(audio.p());\n                // 将无法加载的音频信息添加到链接检查器\n                // LinkTool_addToCheckResult(_error_, audio.p(),\n                //     V_ui_label(_, _, \"🚫 🔈 \" + [\n                //         \"无效的音频源\",\n                //         \"Invalid audio source\"\n                //     ][V_lang_id]) + audio.p().a(_dataTitle_));\n            });\n\n            // 加载错误\n            audio.bind(_error_, () => {\n                audio.tr(_emptied_);\n            });\n\n            // 鼠标 mouseenter 和 mouseleave 事件\n            audio.on(_mouseEnter_, (event) => {\n                let _t =  $(event.currentTarget);\n                if (_t.a(_class_).i(_disabled_) === -1)\n                    JQ_addClass(_t, _hover_);\n            }).on(_mouseLeave_, (event) => {\n                JQ_removeClass($(event.currentTarget), _hover_);\n            });\n        }\n        // 标准控件模式\n        else {\n            V_doc_counter_audio++;\n\n            // 确保 video 有独立的父容器，一般情况下 Typora 导出的为 <p>\n            if (V_util_getTagName(container) !== \"p\") {\n                audioLike.wrap(\"<p></p>\");\n            // if (V_util_getTagName(container) !== _figcaption_) {\n            //     audioLike.wrap(V_ui_figcaption(_, _, _));\n                container = audioLike.p();\n            }\n            // 设置容器样式数据，用于折叠内容时使用\n            container.a(_dataContainer_, _audio_);\n            JQ_addClass(container, _vCaptionContainer_);\n\n            // 先根据题注语法生成题注\n            CaptionGenerator_actionForMediaContent(audioLike, _audio_);\n\n            // 将 URL 为音频资源的 img 标签转换为 audio\n            audio = __transToAudio(audioLike, src);\n            // 设置 audio 为标准控件\n            audio.a(_controls_, _controls_);\n\n            // 若有第 2 题注，则微调样式\n            if (audio.n(_vCap2_).length > 0)\n                audio.c(_marginBottom_, \"-10px\");\n\n            // 故障或不可用\n            audio.bind(_emptied_, () => {\n                // 将无法加载的音频信息添加到链接检查器\n                __addToLinkChecker(audio.p());\n            });\n\n            // 加载错误\n            audio.bind(_error_, () => {\n                audio.tr(_emptied_);\n            });\n        }\n\n        /**\n         * 将无效音频源的信息添加到链接检查器\n         *\n         * @param targetToJump 坏链对象\n         */\n        function __addToLinkChecker(targetToJump) {\n            let title = targetToJump.a(_dataTitle_);\n            if (title === gUndefined) {\n                title = targetToJump.a(_src_);\n            }\n            // 将无法加载的音频信息添加到链接检查器\n            LinkTool_addToCheckResult(_error_, targetToJump,\n                V_ui_label(_, _, \"🚫 🔈 \" + [\n                    \"无效的音频源\",\n                    \"Invalid audio source\"\n                ][V_lang_id]) + targetToJump.a(_dataTitle_));\n        }\n    });\n\n    /**\n     * 转换为 audio 标签\n     * @param audioLike 类 audio 标签（即 src 为音频的 img 标签)\n     * @param src 音频 URL\n     */\n    function __transToAudio(audioLike, src) {\n        // let tips = [\n        //     \"您的浏览器不支持音频标签。\",\n        //     \"Your browser does not support the audio tag.\"\n        // ][V_lang_id];\n        let tips = [\n            \"不支持音频标签\",\n            \"Not support audio tag\"\n            ][V_lang_id];\n\n        // 对 audio 标签的属性进行支持\n        let autoplay = V_util_getUrlQueryParams(src)[_autoplay_],\n            loop = V_util_getUrlQueryParams(src)[_loop_],\n            preload = V_util_getUrlQueryParams(src)[_preload_];\n\n        // 将 URL 为音频资源的 img 标签转换为 audio\n        audioLike.wrap(V_ui_audio(V_attr(_src_, src), tips));\n        let audio = audioLike.p();\n        // 移除图片 img 标签\n        JQ_remove(audioLike);\n\n        // 设置 audio 属性\n        if (autoplay !== gUndefined) audio.a(_autoplay_, _autoplay_);\n        if (loop !== gUndefined) audio.a(_loop_, _loop_);\n        if (preload !== gUndefined) audio.a(_preload_, _auto_);\n\n        return audio;\n    }\n\n    /**\n     * 播放音频\n     * @param self 自定义的播放控件对象\n     * @param audio 音频的 JavaScript 对象\n     */\n    function __play(self, audio) {\n        let controls = $(self);\n\n        // 已暂停、未播放\n        if (audio.paused) {\n            audio.play();\n        }\n        // 播放中\n        else {\n            controls.hm(ExtAudio_icon_play);\n            JQ_removeClass(controls, _playing_);\n            audio.pause();\n\n            // 不支持暂时播放时，暂时即结束\n            if (controls.a(_dataPause_) === gUndefined)\n                audio.currentTime = 0; // 播放都是从头开始\n        }\n    }\n}\n\n// ==================== 音频增强类 ==================== //\n\n/**\n * 初始化音频数据\n */\nfunction ExtVideo_init() {\n    // 支持指定类型的音频，以及支持带参数的 URL\n    let writeImg = _write_ +___+ _img_;\n    $(writeImg + V_attrCSS(_src_, _ogv_, \"$\") + \",\" + writeImg + V_attrCSS(_src_, _mp4_, \"$\") + \",\" + writeImg + V_attrCSS(_src_, _webm_, \"$\") + \",\"\n    + writeImg + V_attrCSS(_src_, _ogv_ + \"?\", \"*\") + \",\" + writeImg + V_attrCSS(_src_, _mp4_ + \"?\", \"*\") + \",\" + writeImg + V_attrCSS(_src_, _webm_ + \"?\", \"*\")).e((index, element) => {\n        let videoLike = $(element),\n            video = gUndefined,\n            src = videoLike.a(_src_),\n            container = videoLike.p();\n        V_doc_counter_video++;\n\n        // 确保 video 有独立的父容器，一般情况下 Typora 导出的为 <p>\n        if (V_util_getTagName(container) !== \"p\") {\n            videoLike.wrap(\"<p></p>\");\n        // if (V_util_getTagName(container) !== _figcaption_) {\n        //     videoLike.wrap(V_ui_figcaption(_, _, _));\n            container = videoLike.p();\n        }\n        // 设置容器样式数据，用于折叠内容时使用\n        container.a(_dataContainer_, _video_);\n        JQ_addClass(container, _vCaptionContainer_);\n\n        // 先根据题注语法生成题注\n        CaptionGenerator_actionForMediaContent(videoLike, _video_);\n\n        // 将 URL 为音频资源的 img 标签转换为 video\n        video = __transToVideo(videoLike, src);\n\n        // 故障或不可用\n        video.bind(_emptied_, () => {\n            let targetToJump = video.p(),\n                title = targetToJump.a(_dataTitle_);\n            if (title === gUndefined) {\n                title = targetToJump.a(_src_);\n            }\n            // 将无法加载的音频信息添加到链接检查器\n            // __addToLinkChecker(video.p().a(_id_), video.p().a(_dataTitle_));\n            // 将无法加载的音频信息添加到链接检查器\n            LinkTool_addToCheckResult(_error_, targetToJump,\n                V_ui_label(_, _, \"🚫 📺 \" + [\n                    \"无效的视频源\",\n                    \"Invalid video source\"\n                ][V_lang_id]) + targetToJump.a(_dataTitle_));\n            });\n\n        // 加载错误\n        video.bind(_error_, () => {\n            video.tr(_emptied_);\n        });\n    });\n\n    /**\n     * 将无效视频源的信息添加到链接检查器\n     * @param id 坏链对象的标识\n     * @param content 用于显示的内容\n     */\n    // function __addToLinkChecker(id, content) {\n    //     // 将无法加载的音频信息添加到链接检查器\n    //     LinkTool_addToCheckResult(id,\n    //         V_ui_span(_, _, \"🚫 📺 \" + [\n    //             \"无效的视频源\",\n    //             \"Invalid video source\"\n    //         ][V_lang_id]) + content);\n    // }\n\n    /**\n     * 转换为 video 标签\n     * @param videoLike 类 video 标签（即 src 为视频的 img 标签)\n     * @param src 视频 URL\n     */\n    function __transToVideo(videoLike, src) {\n        // let tips = [\n        //     \"您的浏览器不支持视频标签。\",\n        //     \"Your browser does not support the video tag.\"\n        // ][V_lang_id];\n        let tips = [\n            \"不支持视频标签\",\n            \"Not support video tag\"\n            ][V_lang_id];\n\n        // 对 video 标签的属性进行支持\n        let autoplay = V_util_getUrlQueryParams(src)[_autoplay_],\n            loop = V_util_getUrlQueryParams(src)[_loop_],\n            preload = V_util_getUrlQueryParams(src)[_preload_],\n            width = V_util_getUrlQueryParams(src)[_width_],\n            height = V_util_getUrlQueryParams(src)[_height_];\n\n        // 将 URL 为音频资源的 img 标签转换为 video\n        videoLike.wrap(V_ui_video(V_attr(_src_, src), tips));\n        let video = videoLike.p();\n        // 移除图片 img 标签\n        JQ_remove(videoLike);\n\n        // 设置 video 为标准控件\n        video.a(_controls_, _controls_);\n\n        // 设置 video 属性\n        if (autoplay !== gUndefined) video.a(_autoplay_, _autoplay_);\n        if (loop !== gUndefined) video.a(_loop_, _loop_);\n        if (preload !== gUndefined) video.a(_preload_, _auto_);\n        if (width !== gUndefined) video.a(_width_, width);\n        if (height !== gUndefined) video.a(_height_, height);\n\n        return video;\n    }\n}\n\n// ==================== 文本输入框类 ==================== //\n\n/**\n * 构造函数\n * @param target 须在其后添加文本输入组件的目标对象\n * @param id 对象标识\n * @param append 添加模式。true：作为子元素添加，false：作为兄弟元素添加\n */\nfunction TextField(target, id, append) {\n    let T = this;\n    // 文本输入框属性\n    T.ui = gUndefined;\n    T.icon = gUndefined;\n    T.input = gUndefined;\n    T.reset = gUndefined;\n    T.action = gUndefined;\n\n    T.lastValue = _;\n    T.timerValueChanged = null;\n\n    T.inputing = gFalse;\n\n    // 文本输入框事件\n    T.onInput = gUndefined;\n    T.onFocus = gUndefined;\n    T.onBlur = gUndefined;\n    T.onKeyDown = gUndefined;\n    T.onAction = gUndefined;\n    T.pressEnter = gUndefined;\n    T.pressESC = gUndefined;\n\n    /**\n     * 将文本输入框实例添加到指定对象之后\n     * @param target 指定对象\n     * @param id 添加到目标对象的 id 值\n     * @param append true: 添加，false: 插入\n     */\n    T.__appendTo = function (target, id, append) {\n        // 文本输入框 UI\n        let ui = V_ui_div(_, _vTextField_ +___+ id,\n                    V_ui_div(_, _vTextField_ + __icon_)\n                    + V_ui_input(_, _, _text_)\n                    + V_ui_div(_, _vTextField_ + __action_)\n                    + V_ui_div(_, _vTextField_ + __reset_, V_ui_svgIcon(_icoResetInput_, 16, 16, _alpha_))\n                );\n        if (append) {\n            target.ap(ui);\n            T.ui = target.ch(\".\" + _vTextField_ + \".\" + id);\n        }\n        else {\n            target.af(ui);\n            T.ui = target.p().ch(\".\" + _vTextField_ + \".\" + id);\n        }\n\n        // 获得实例的各关键对象\n        T.input = T.ui.ch(_input_);\n        T.reset = T.ui.ch(\".\" + _vTextField_ + __reset_);\n\n        /**\n         * 绑定文本输入事件\n         */\n        // T.input.on(_input_, (event) => {\n        //     // 跳过中文输入法过程\n        //     // if ($(event.currentTarget).prop(\"compositionStatus\") !== \"start\")\n        //     //     __processInput();\n        // });\n        /**\n         * 绑定开始中文输入事件\n         */\n        T.input.on(\"compositionstart\", (index, element) => {\n            $(element).prop(\"compositionStatus\", _start_);\n        });\n        /**\n         * 绑定结束中文输入事件\n         */\n        T.input.on(\"compositionend\", (index, element) => {\n            $(element).prop(\"compositionStatus\", \"end\");\n        });\n        /**\n         * 绑定文本按键事件\n         */\n        // T.input.on(\"keypress\", (event) => {\n        //     // __processInput();\n        // });\n        /**\n         * 绑定文本获得焦点事件\n         */\n        T.input.focus(() => {\n            T.inputing = gTrue; // 标记为输入中的状态\n\n            JQ_addClass(T.ui, _vTextFieldFocus_);\n            __checkComValueChanged();\n\n            // 针对输入中文的情况，若输入了新的内容则进行查询\n            function __checkComValueChanged() {\n                if (T.input.prop(\"compositionStatus\") !== _start_ && T.lastValue !== T.input.val()) {\n                    clearTimeout(T.timerValueChanged);\n                    T.timerValueChanged = null;\n                    T.lastValue = T.input.val();\n                    __processInput();\n                }\n                T.timerValueChanged = setTimeout(__checkComValueChanged, 500);\n            }\n            // 触发外部重定义事件\n            typeof(T.onFocus) === _function_ && T.onFocus(T.input);\n        });\n        /**\n         * 绑定文本失去焦点事件\n         */\n        T.input.blur(() => {\n            T.inputing = gFalse; // 标记为非输入中的状态\n\n            JQ_removeClass(T.ui, _vTextFieldFocus_);\n\n            clearTimeout(T.timerValueChanged);\n            T.timerValueChanged = null;\n\n            // 触发外部重定义事件\n            typeof(T.onBlur) === _function_ && T.onBlur(T.input);\n        });\n\n        /**\n         * 处理文本框输入的内容\n         */\n        function __processInput() {\n            let value = T.input.val().x();\n\n            if (value === _) {\n                T.reset.hide();\n\n                // 无内容时移除样式\n                if (T.action !== gUndefined && T.action.a(_class_).i(_enabled_) !== -1) {\n                    JQ_removeClass(T.action, _enabled_);\n                    V_ui_unbindHover(T.action);\n                }\n            }\n            else {\n                T.reset.show();\n\n                // 有内容时移除样式\n                if (T.action !== gUndefined && T.action.a(_class_).i(_enabled_) === -1) {\n                    JQ_addClass(T.action, _enabled_);\n                    T.action.on(_mouseEnter_, (event) => {\n                        T.actionHover(gTrue);\n                    }).on(_mouseLeave_, (event) => {\n                        T.actionHover(gFalse);\n                    });\n                }\n            }\n            // 触发外部重定义事件\n            typeof(T.onInput) === _function_ && T.onInput(T.input, value);\n        }\n\n        /**\n         * 绑定键盘按下事件\n         */\n        T.input.bind(_keydown_, (event) => {\n            let key = event.key,//event.keyCode || event.which || event.charCode,\n                value = T.input.val();\n\n            let handled = false;\n            switch (key) {\n                case _enter_:\n                    if (T.action !== gUndefined)\n                        T.action.tr(_click_);\n                    handled = true;\n                    typeof(T.pressEnter) === _function_ && T.pressEnter(T.input, value);\n                    break;\n                case _escape_:\n                    // 无内容时则取消取点，退出编辑，键盘事件则由导航中心的键盘事件进行响应\n                    if (value.length === 0)\n                        T.input.blur();\n                    // 有内容则清空内容等待重新输入\n                    else\n                        T.reset.tr(_click_);\n                    handled = true;\n                    typeof(T.pressESC) === _function_ && T.pressESC(T.input);\n                    break;\n            }\n            // 如果事件已处理，则禁止双重操作\n            if (handled)\n                event.preventDefault();\n\n            // 触发外部重定义事件\n            typeof(T.onKeyDown) === _function_ && T.onKeyDown(T.input, value, key);\n        });\n\n        /**\n         * 绑定重置输入内容按钮\n         */\n        T.reset.uC().ck(() => {\n            T.input.val(_);\n            T.input.select();\n            T.reset.hide();\n\n            if (T.action !== gUndefined && T.action.a(_class_).i(_enabled_) !== -1) {\n                JQ_removeClass(T.action, _enabled_);\n                V_ui_unbindHover(T.action);\n            }\n            // 触发外部重定义事件\n            typeof(T.onInput) === _function_ && T.onInput(T.input, _);\n        });\n    }\n\n    /**\n     * 清空输入框内容\n     */\n    T.clear = function () {\n        T.reset.tr(_click_);\n    }\n\n    /**\n     * 开启输入框前图标\n     * @param icon 图标\n     */\n    T.setIcon = function (icon) {\n        T.icon = T.ui.ch(\".\" + _vTextField_ + __icon_);\n        T.icon.hm(icon);\n        T.icon.show();\n    }\n\n    /**\n     * 开启动作按钮\n     * @param icon 按钮图标\n     */\n    T.setAction = function (icon) {\n        T.action = T.ui.ch(\".\" + _vTextField_ + __action_);\n        T.action.hm(icon);\n        T.action.show();\n\n        T.action.on(_mouseEnter_, (event) => {\n            T.actionHover(gTrue);\n        }).on(_mouseLeave_, (event) => {\n            T.actionHover(gFalse);\n        });\n        T.action.uC().ck((event) => {\n            let value = T.input.val();\n            // 输入内容不为空\n            if (value.length > 0)\n                T.input.select();\n\n            // 触发外部重定义事件\n            typeof(T.onAction) === _function_ && T.onAction(T.input, value);\n        });\n    }\n\n    /**\n     * 动作按钮鼠标 hover 处理\n     * @param enter true: 鼠标光标进入，false: 鼠标光标离开\n     */\n    T.actionHover = function (enter) {\n        if (enter) {\n            JQ_addClass(T.action, _hover_);\n            if (T.action.a(_class_).i(_enabled_) !== -1)\n                JQ_addClass(T.ui, _hoverAction_);\n        }\n        else {\n            JQ_removeClass(T.action, _hover_);\n            JQ_removeClass(T.ui, _hoverAction_);\n        }\n    }\n\n    /**\n     * 设置提示文本\n     * @param text 提示文本\n     */\n    T.placeholder = function (text) {\n        T.input.a(_placeholder_, text);\n    }\n\n    /**\n     * 显示文本输入框\n     */\n    T.show = function () {\n        T.ui.show();\n    }\n\n    /**\n     * 隐藏文本输入框\n     */\n    T.hide = function () {\n        T.ui.hide();\n    }\n\n    /**\n     * 设置文本框宽度\n     * @param width 宽度\n     */\n    T.setWidth = function (width) {\n        T.ui.c(_width_, width);\n        T.input.c(_width_, width\n            - (T.reset.w() + JS_parseInt(T.reset.c(_paddingLeft_)) * 2)\n            - (T.icon === gUndefined ? 0 : T.icon.w() + JS_parseInt(T.icon.c(_paddingLeft_)) * 2)\n            - (T.action === gUndefined ? 0 : T.action.w() + JS_parseInt(T.action.c(_paddingLeft_)) * 2));\n        if (T.icon !== gUndefined)\n            JQ_addClass(T.input, \"set\" + __icon_);\n    }\n\n    // 生成控件\n    T.__appendTo(target, id, append);\n}\n\n// ==================== 过滤结果导航器类 ==================== //\n\nfunction FilterResultNavigator(result) {\n    let T = this;\n    T.index = 0;\n    T.result = result;\n\n    T.nextItem = function () {\n        if (T.result.isHidden())\n            return;\n\n        let set = T.result.ch(\":\" + _visible_),\n            item = set.eq(T.index);\n        T.index++;\n        if (T.index >= set.length)\n            T.index = 0;\n        return item;\n    }\n\n    T.reset = function () {\n        T.index = 0;\n    }\n}\n\n// ==================== 导航中心【目录】组件类 ==================== //\n\n/**\n * 构造函数\n * @param holder 关联的上级容器\n * @param hidden 是否默认为隐藏\n */\nfunction TocCatalog(holder, hidden) {\n    let T = this;\n    T.ui = {\n        entry : V_byClass(_vSegmentBtn_ + \".\" + _catalog_), // 入口\n        body : V_byClass(_vTocCatalogBody_), // 目录索引内容\n        result : V_byClass(_vTocFilterResult_ + \".\" + _catalog_) // 过滤结果面板\n    }\n\n    T.holder = holder;\n\n    T.h = []; // 目录集\n    // 针对无封面的情况\n    if (VOM_cover() === gUndefined)\n        T.h.push(_vkIdDocTitle_);\n\n    T.currentHeaderIndex = -1; // 当前章节在目录集中的索引\n    T.currentItem = gUndefined; // 当前章节对象\n\n    T.foldItems = []; // 非叶子章节集\n    T.lastHeaderFolder = gUndefined; // 上一个非叶子章节\n    T.lastHeaderLevel = 0; // 上一个章节的层级\n\n    T.lastDocScrollTop = 0; // 记录最后一次文档滚动位置\n\n    T.resultNav = new FilterResultNavigator(T.ui.result); // 过滤结果导航器\n\n    // 当前章节变化事件\n    T.onChapterChanged = gUndefined;\n\n    // 目录相关图标集\n    // T.icon = {\n    //     // 章节：已收起\n    //     folded : V_ui_genSvgIcon(_icoTocFolded_, 16, 16, s_Theme),\n    //     // 章节：已展开\n    //     // unfold : V_ui_genSvgIcon(\"icoTocUnfold\", 16, 16, s_Theme)\n    // };\n\n    // 更新无目录情况下的提示信息\n    T.ui.body.a(_dataCatalogEmpty_, [\n            \"( 无目录) \\n\\n在首个章节前\\n添加 [TOC] 即可生成\",\n            \"( Catalog is Empty )\\n\\nAdding [TOC] before\\nthe first chapter generates\"\n        ][V_lang_id]);\n\n    /**\n     * 返回 Toc 组件类型名称\n     * @returns string Toc 组件类型名称\n     */\n    T.typeName = function () {\n        return _catalog_;\n    }\n\n    /**\n     * 是否有目录索引项目\n     */\n    T.hasIndexItem = function () {\n        return (T.ui.body.ch().length > 0);\n    }\n\n    /**\n     * 根据设备类型自适应hover样式\n     */\n    T.adjustHoverStyle = function () {\n        if (env.device.mobile) // 移动设备时解绑样式事件\n            $(_vTocFolder_).uH();\n        else // 非移动设备时绑定样式事件\n            V_ui_bindHover($(_vTocFolder_));\n    }\n\n    /**\n     * 添加目录节点\n     * @param item 由 Typora 生成的 [TOC] 目录节点\n     */\n    T.add = function (item) {\n        T.holder.segs.sts(this, gTrue);\n\n        // 将章节记录到目录集中\n        let a = item.ch(\"a\"),\n            href = a.a(_href_);\n        T.h.push(href.ss(1, href.length));\n\n        // 自定义目录节点元数据\n        item.a(_id_, _vkHeader_ + item.a(_dataRef_)); // 添加id属性\n        item.a(_dataNode_, 0); // 添加节点类型：0:叶子节点, 1:目录节点\n        item.a(_dataFolded_, _false_); // 添加节点状态：true:收起, false:展开\n        item.a(_title_, a.t().x());\n\n        // 使用完 <a> 的内容后，将章节中的链接文字提到链接外，用于实现长章节内容截断的 CSS 新式\n        a.af(a.t());\n        a.t(_);\n\n        // 点击目录节点事件\n        item.uC().ck((event) => {\n            // 跳转至对应的页内锚点\n            let hash = V_byID(item.a(_id_)).ch(\"a\").a(_href_);\n            V_util_gotoHash(hash);\n\n            // 触发锚点点击事件\n            typeof(T.holder.onInteractive) === _function_ && T.holder.onInteractive();\n        });\n\n        // -----------------------------------\n        // 目录非叶子章节的折叠功能实现\n        // 所有目录节点都添加 folding 空白控件备用\n        $(V_ui_div(\"fd-\" + _vkHeader_ + item.a(_dataRef_), _vTocFolder_.xD(), _nbsp_)).insertBefore(item.f(\"a\"));\n\n        // 记录所有非叶子节点的folder控件\n        let lv = ChpAutoNum_parseTocHeaderLevel(item.a(_class_));\n        if (T.lastHeaderFolder !== gUndefined) {\n            // 当前节点比上一个节点层级低，则上一节点为可折叠的节点\n            if (lv > T.lastHeaderLevel) {\n                // 将最近一个子目录节点折叠控件入栈\n                T.foldItems.push(T.lastHeaderFolder);\n\n                // 为非叶子的章节添加折叠图标\n                // let folder = T.lastHeaderFolder.hm(T.icon.unfold),\n                // let folder = T.lastHeaderFolder.hm(T.icon.folded),\n                let folder = T.lastHeaderFolder.hm(V_ui_svgIcon(_icoTocFolded_, 16, 16, _theme_, _vRotate90_)),\n                    folderParent = folder.p();\n                folderParent.a(_dataNode_, 1); // 0:叶子, 1:目录\n                folderParent.a(_dataFolded_, _false_); // true:收起， false:展开\n\n                // 折叠控件事件\n                V_ui_addAnimate(folder.ch(_svg_));\n                folder.uC().ck((event) => {\n                    event.stopPropagation(); // 停止事件冒泡\n\n                    let id = $(event.currentTarget).p().a(_id_);\n                    T.disposeFold(id, (V_byID(id).a(_dataFolded_).sW(\"t\")) ? \"e\" : \"c\", gTrue);\n                });\n            }\n            // 右当前节点比上一个节点层级高，则视为从下级回到上级\n            // 并将最近一个子目录节点折叠控件出栈\n            else if (lv < T.lastHeaderLevel)\n                T.foldItems.pop();\n\n            // 设置当前节点的父级信息\n            if (T.foldItems.length > 0)\n                item.a(_dataPid_, T.foldItems[T.foldItems.length - 1].p().a(_id_));\n        }\n\n        // 更新最后处理的folder控件\n        T.lastHeaderFolder = $(\"#fd-\" + _vkHeader_ + item.a(_dataRef_));\n        T.lastHeaderLevel = lv;\n    }\n\n    /**\n     * 页面滚动时根据页面当前的位置，高亮对应目录中的章节\n     */\n    T.focusHeader = function (scrollTop) {\n        // ----------------------------------------\n        // 控制执行频率，避免处理过快影响性能\n        if (scrollTop === gUndefined)\n            scrollTop = $(document).scrollTop();\n        if (Math.abs(scrollTop - T.lastDocScrollTop) < 20)\n            return;\n\n        T.lastDocScrollTop = scrollTop;\n\n        // ----------------------------------------\n        // 寻找文档当前显示的章节\n        // 默认为最后一章\n        let curIdx = T.h.length - 1;\n        for (let i = 0, len = T.h.length; i < len; i++) {\n            let anchor = (!env.browser.Firefox)\n                    ? T.h[i] // 非 Firefox 浏览器\n                    : JS_decodeURI(T.h[i]), // Firefox 浏览器\n                target = V_byID(JS_decodeURI(anchor));\n            let headerHeight = target.h();\n            // 将最近一个章节从文档可视空间上方滚出的章节定义为「当前章节」\n            if ((target.oT() - $(document).scrollTop()) > (headerHeight * 3)) {\n                curIdx = i - 1;\n                break;\n            }\n        }\n\n        // 章节没有变化则直接退出\n        if (T.currentHeaderIndex === curIdx)\n            return;\n\n        // 章节有变化，并记录\n        T.currentHeaderIndex = curIdx;\n\n        // 当前文档位置在实际内容章节中时\n        if (T.inHeader()) {\n            // ----------------------------------------\n            // 更新目录内当前节点的样式\n            // 先清除目录中上一次的「当前章节」的样式\n            if (T.currentItem !== gUndefined)\n                JQ_removeClass(T.currentItem, _vTocItemCurrent_);\n            // 更新「当前章节」的样式\n            T.currentItem = V_byID(_vlookToc_ + \" a\" + V_attrCSS(_href_, \"#\" + T.h[curIdx])).p();\n            JQ_addClass(T.currentItem, _vTocItemCurrent_);\n\n            // 若当前目录节点被折叠隐藏，则向上展开父级目录节点\n            if (T.currentItem.isHidden())\n                __expandUpFolder(T.currentItem.a(_dataPid_));\n\n            // 导航中心内容自动滚动当前章节所在位置\n            T.scrollToCurrent();\n        }\n\n        // 触发当前章节变化事件\n        typeof(T.onChapterChanged) === _function_ && T.onChapterChanged();\n\n        /**\n         * 向上展开父级目录\n         * @param id 父级目录 id 值\n         */\n        function __expandUpFolder(id) {\n            // 展开\n            T.disposeFold(id, \"e\", gTrue);\n            // 若未到 h1（即第一级目录），则继续向上展开\n            let item = V_byID(id),\n                tagName = item.prop(_tagName_); // 注意！无法使用 V_util_getTagName ，会导致调用溢出\n            if (tagName !== gUndefined && tagName.l() !== \"h1\")\n                __expandUpFolder(item.a(_dataPid_));\n        }\n    }\n\n    /**\n     * 导航中心内容自动滚动到当前章节所在位置\n     */\n    T.scrollToCurrent = function () {\n        if (T.currentItem === gUndefined || T.currentItem.pos() === gUndefined)\n            return;\n\n        // 根据当前节点情况，目录内的可视空间自动滚动该节点所在位置\n        const preDis = T.currentItem.h() * 3, // 用于目录节点触动滚动的大小\n            sTop = T.ui.body.scrollTop(), // 目录内当前滚动位置\n            sBottom = sTop + T.ui.body.h(); // 当前可视空间中位于目录底部的位置\n\n        // 若当前节点在可视区域的上方，则滚动到该节点的位置\n        if (T.currentItem.pos().top < sTop)\n            T.ui.body.scrollTop(T.currentItem.pos().top);\n        // 若当前节点在可视区域的下方，则滚动到该节点的位置\n        else if (T.currentItem.pos().top > (sBottom - preDis))\n            T.ui.body.scrollTop(T.currentItem.pos().top - T.ui.body.h() + preDis);\n    }\n\n    /**\n     * 文档当前位置是否在章节内\n     */\n    T.inHeader = function () {\n        return T.currentHeaderIndex > -1;\n    }\n\n    /**\n     * 当前章节为第 1 章时特殊处理（有封面模式时）\n     */\n    T.inFirstHeader = function () {\n        return (VOM_cover() !== gUndefined && T.currentHeaderIndex === 0);\n    }\n\n    /**\n     * 当前文档位置位于文档标题（无封面模式时）\n     */\n    T.inDocTitle = function () {\n        return (VOM_cover() === gUndefined && T.currentHeaderIndex === 0);\n    }\n\n    /**\n     * 按关键字过滤\n     * @param value 过滤的关键字内容\n     * @returns boolean true - 有匹配的结果，false - 无匹配的结果\n     */\n    T.filter = function (value) {\n        if (value.x() === _)\n            return gFalse;\n\n        if (T.holder.segs.checkedItem() === T.typeName())\n            T.showFilterResult();\n\n        let matched = gFalse;\n        T.ui.result.empty();\n        // 遍历目录节点进行关键字匹配\n        $(_tocItem_).e((index, element) => {\n            let item = $(element),\n                data = item.a(_dataHeaderNum_) + item.a(_title_);\n            if (data.l().i(value) > -1) {\n                // 匹配结果后，从目录节点中复制节点并移除不必要的样式和内容\n                let cloneItem = item.clone();\n\n                JQ_addClass(cloneItem, _vTocItem_);\n                JQ_removeClass(cloneItem, _mdTocItem_ +___+ _mdToc__ + \"h1 \" + _mdToc__ + \"h2 \" + _mdToc__ + \"h3 \" + _mdToc__ + \"h4 \" + _mdToc__ + \"h5\");\n                JQ_remove(cloneItem.ch(_vTocFolder_));\n                cloneItem.pp(V_ui_span(_, _, cloneItem.a(_dataHeaderNum_)));\n                cloneItem.show();\n                cloneItem.a(_dataKeywordMatch_, _true_);\n\n                // 绑定同源的点击事件\n                cloneItem.uC().ck((event) => {\n                    JQ_removeClass(T.ui.result.ch(\".\" + _vTocItemCurrent_), _vTocItemCurrent_);\n                    item.tr(_click_);\n                    JQ_addClass($(event.currentTarget), _vTocItemCurrent_);\n                });\n\n                // 将匹配的节点添加到过滤结果中\n                T.ui.result.ap(cloneItem);\n                matched = gTrue;\n            }\n        });\n        // 过滤文库节点\n        gToc.f(\".\" + _vDocLibItem_).e((index, element) => {\n            let item = $(element),\n                data = item.a(_title_) + item.a(_dataKeywords_);\n            if (data.l().i(value) > -1) {\n                // 匹配结果后，从目录节点中复制节点并移除不必要的样式和内容\n                let cloneItem = item.clone();\n                cloneItem.show();\n                cloneItem.a(_dataKeywordMatch_, _true_);\n\n                // 绑定同源的点击事件\n                cloneItem.uC().ck((event) => {\n                    item.tr(_click_);\n                });\n\n                // 将匹配的节点添加到过滤结果中\n                T.ui.result.ap(cloneItem);\n                matched = gTrue;\n            }\n        });\n\n        // 过滤结果为空\n        if (!matched) {\n            T.ui.result.empty();\n            T.ui.result.ap(V_ui_div(_, _vTocFilterResultNone_,\n                [\"无匹配结果!\",\n                \"No Results!\"][V_lang_id]));\n            TocIndex_updateStatus(this);\n        }\n\n        return gTrue;\n    }\n\n    /**\n     * 更新所属分段状态\n     */\n    T.updateStatus = function () {\n        if ($(_tocItem_).length > 0)\n            T.holder.segs.sts(this, gTrue);\n        else\n            T.holder.segs.sts(this, gFalse);\n    }\n\n    /**\n     * 显示目录索引组件\n     */\n    T.show = function () {\n        if (T.holder.keyword.input.val().length > 0) {\n            T.ui.body.hide();\n            T.showFilterResult();\n        }\n        else {\n            T.ui.body.show();\n            T.hideFilterResult();\n        }\n    }\n\n    /**\n     * 隐藏目录索引组件\n     */\n    T.hide = function () {\n        T.ui.body.hide();\n        T.hideFilterResult();\n    }\n    if (hidden) T.hide();\n\n    /**\n     * 显示过滤结果\n     */\n    T.showFilterResult = function () {\n        T.ui.body.hide();\n\n        T.ui.result.show();\n        JQ_removeClass(T.ui.result.ch(\".\" + _vTocItemCurrent_), _vTocItemCurrent_);\n    }\n\n    /**\n     * 隐藏过滤结果\n     */\n    T.hideFilterResult = function () {\n        T.ui.result.hide();\n    }\n\n    /**\n     * 跳转至指定章节\n     */\n    T.gotoHeader = function (target) {\n        V_util_gotoHash(\"#\" + target.a(_dataAnchor_));\n    }\n\n    /**\n     * 处理展开或收起指定章节下的子章节\n     * @param id 对象的id值\n     * @param action 执行动作（c: collect, e: expand）\n     * @param traversal 是否遍历子元素\n     */\n    T.disposeFold = function (id, action, traversal) {\n        let lastItem = null,\n            item = V_byID(id),\n            itemSet = item.nextAll(),\n            btnFolder = $(\"#fd-\" + id);\n\n        // 更新折叠控件图标\n        // item.a(s_DataFolded, (action === \"e\") ? s_False : s_True);\n        // btnFolder.hm((action === \"e\") ? T.icon.unfold : T.icon.folded);\n        // btnFolder.hm((action === \"e\") ? JQ_addClass(btnFolder.ch(s_Svg), s_Rotate90) : JQ_removeClass(btnFolder.ch(s_Svg), s_Rotate90));\n        if (action === \"e\") {\n            item.a(_dataFolded_, _false_);\n            JQ_addClass(btnFolder.ch(_svg_), _vRotate90_);\n        }\n        else {\n            item.a(_dataFolded_, _true_);\n            JQ_removeClass(btnFolder.ch(_svg_), _vRotate90_);\n        }\n\n        // 将指定节点后的所有节点进行处理\n        for (let i = 0, len = itemSet.length; i < len; i++) {\n            let item = $(itemSet[i]);\n            // 对前后节点层级不一致的处理\n            if (lastItem != null) {\n                const hd1 = ChpAutoNum_parseTocHeaderLevel(item.a(_class_));\n                const hd2 = ChpAutoNum_parseTocHeaderLevel(lastItem.a(_class_));\n                if (hd1 > hd2) // 当前节点层级大于上一个节点的层级，继续\n                    continue;\n                else if (hd1 < hd2) // 当前节点层级小于上一个节点的层级，终止\n                    break;\n            }\n\n            // 如果是目录节点，同时是已展开，且执行动作为「收起」，才进行递归调用展开子节点\n            if (traversal\n                && item.a(_dataNode_) === \"1\"\n                && item.a(_dataFolded_).sW(\"f\")\n                && action === \"c\") {\n                    item.a(_dataFolded_, _true_);\n                    // 递归处理\n                    T.disposeFold(item.a(_id_), action, traversal);\n            }\n\n            // 收起 / 展开\n            item.c(_display_, (action === \"c\") ? _none_ : _block_);\n            lastItem = item;\n        }\n    }\n}\n\n// ==================== 导航中心分类索引通用类 ==================== //\n\nlet TocIndex_segments = gUndefined;\n\n/**\n * 初始化 UI\n * @param indexObj 目标对象\n */\nfunction TocIndex_initUI(indexObj) {\n    let ui = indexObj.ui;\n\n    V_ui_addAnimate(ui.entry);\n\n    // 生成提示信息 UI\n    ui.result.ap(V_ui_div(_, _vTocFilterResultNone_));\n    ui.tips = ui.result.ch(\".\" + _vTocFilterResultNone_);\n\n    TocIndex_showTips(ui);\n}\n\n/**\n * 无输入关键字的处理\n * @param indexObj 目标对象\n */\nfunction TocIndex_noneKeyword(indexObj) {\n    let ui = indexObj.ui,\n        items = ui.result.ch(\".\" + _vTocItem_);\n    items.show();\n    if (items.length === 0)\n        TocIndex_showTips(ui);\n    else {\n        ui.tips.hide();\n        items.a(_dataKeywordMatch_, _true_);\n        TocIndex_updateStatus(indexObj);\n    }\n}\n\n/**\n * 更新所属分段状态\n * @param indexObj 目标对象\n */\nfunction TocIndex_updateStatus(indexObj) {\n    TocIndex_segments.sts(indexObj,\n        indexObj.ui.result.ch(\".\" + _vTocItem_ + V_attrCSS(_dataKeywordMatch_)).length > 0);\n}\n\n/**\n * 显示提示信息\n */\nfunction TocIndex_showTips(ui) {\n    ui.tips.t(\"( \" + [\n        \"无此类内容\",\n        \"No such content\"\n    ][V_lang_id] + \" )\");\n    ui.tips.show();\n}\n\n/**\n * 添加索引项目\n * @param indexObj 目标对象\n * @param text 显示的文本\n * @param anchor 锚点\n * @param forSearch 用于搜索时检索的内容\n */\nfunction TocIndex_add(indexObj, text, anchor, forSearch) {\n    TocIndex_segments.sts(indexObj, gTrue);\n\n    if (indexObj.ui.tips.isShowed())\n        indexObj.ui.tips.hide();\n    let item = $(V_ui_span(_vTocItem_,\n                    V_attr(_dataKeywords_, V_util_clearHtmlQuot((forSearch === gUndefined || forSearch.x().length === 0) ? _ : forSearch)),\n                    text));\n    indexObj.ui.result.ap(item);\n    // V_ui_addAnimate(item);\n    item.uC().ck((event) => {\n        JQ_removeClass(indexObj.ui.result.ch(\".\" + _vTocItemCurrent_), _vTocItemCurrent_);\n        JQ_addClass(item, _vTocItemCurrent_);\n\n        V_util_gotoHash(\"#\" + anchor);\n\n        // 触发锚点点击事件\n        typeof(indexObj.holder.onInteractive) === _function_ && indexObj.holder.onInteractive();\n    });\n}\n\n/**\n * 按关键字过滤\n * @param indexObj 目标对象\n * @param value 过滤的关键字内容\n * @returns boolean true - 有匹配的结果，false - 无匹配的结果\n */\nfunction TocIndex_filter(indexObj, value) {\n    if (value.x().length === 0) {\n        TocIndex_segments.sts(indexObj, gFalse);\n        return gFalse;\n    }\n\n    // 清空索引列表项\n    indexObj.ui.tips.hide();\n    indexObj.ui.result.ch().hide();\n    JQ_removeClass(indexObj.ui.result.ch(\".\" + _vTocItemCurrent_), _vTocItemCurrent_);\n    JQ_removeAttr(indexObj.ui.result.ch(), _dataKeywordMatch_);\n\n    // 遍历目录节点进行关键字匹配\n    let matched = gFalse;\n    indexObj.ui.result.ch(\".\" + _vTocItem_).e((index, element) => {\n        let item = $(element),\n            dataForSearch = item.a(_dataKeywords_);\n        if (item.t().l().i(value) > -1\n            || (dataForSearch !== gUndefined && dataForSearch.l().i(value) > -1)) {\n                item.show();\n                item.a(_dataKeywordMatch_, _true_);\n                TocIndex_segments.sts(indexObj, gTrue);\n                matched = gTrue;\n        }\n    });\n\n    // 过滤结果为空\n    if (!matched) {\n        indexObj.ui.tips.t([\n            \"无匹配结果!\",\n            \"No Results!\"\n        ][V_lang_id]);\n        indexObj.ui.tips.show();\n        TocIndex_segments.sts(indexObj, gFalse);\n    }\n\n    return gTrue;\n}\n\n/**\n * 是否有对应的索引项目\n * @param indexObj 目标对象\n */\nfunction TocIndex_hasIndexItem(indexObj) {\n    return (indexObj.ui.result.ch(_span_).length > 0);\n}\n\n/**\n * 显示索引组件\n * @param indexObj 目标对象\n */\nfunction TocIndex_show(indexObj) {\n    indexObj.ui.result.show();\n    JQ_removeClass(indexObj.ui.result.ch(\".\" + _vTocItemCurrent_), _vTocItemCurrent_);\n}\n\n/**\n * 隐藏索引组件\n * @param indexObj 目标对象\n */\nfunction TocIndex_hide(indexObj) {\n    indexObj.ui.result.hide();\n}\n\n// ==================== 导航中心【插图】组件类 ==================== //\n\n/**\n * 构造函数\n * @param holder 关联的上级容器\n * @param hidden 是否默认为隐藏\n */\nfunction TocFigure(holder, hidden) {\n    let T = this;\n    T.ui = {\n        entry : V_byClass(_vSegmentBtn_ + \".\" + _figure_), // 入口\n        result : V_byClass(_vTocFilterResult_ + \".\" + _figure_), // 过滤结果面板\n        tips : gUndefined\n    };\n\n    T.holder = holder;\n\n    T.resultNav = new FilterResultNavigator(T.ui.result); // 过滤结果导航器\n\n    // 关键字输入组件属性设置\n    TocIndex_initUI(this);\n\n    /**\n     * 返回 Toc 组件类型名称\n     * @returns string Toc 组件类型名称\n     */\n    T.typeName = function () {\n        return _figure_;\n    }\n\n    /**\n     * 是否有图片索引项目\n     */\n    T.hasIndexItem = function () {\n        return TocIndex_hasIndexItem(this);\n    }\n\n    /**\n     * 初始化插图索引\n     * @param text 显示的文本\n     * @param anchor 锚点\n     * @param forSearch 用于搜索时检索的内容\n     */\n    T.add = function (text, anchor, forSearch) {\n        TocIndex_add(this, text, anchor, forSearch);\n    }\n\n    /**\n     * 更新所属分段状态\n     */\n    T.updateStatus = function () {\n        TocIndex_updateStatus(this);\n    }\n\n    /**\n     * 显示插图组件\n     */\n    T.show = function () {\n        TocIndex_show(this);\n    }\n\n    /**\n     * 隐藏插图组件\n     */\n    T.hide = function () {\n        TocIndex_hide(this);\n    }\n    if (hidden) T.hide();\n}\n\n// ==================== 导航中心【表格】组件类 ==================== //\n\n/**\n * 构造函数\n * @param holder 关联的上级容器\n * @param hidden 是否默认为隐藏\n */\nfunction TocTable(holder, hidden) {\n    let T = this;\n    T.ui = {\n        entry : V_byClass(_vSegmentBtn_ + \".\" + _table_), // 入口\n        result : V_byClass(_vTocFilterResult_ + \".\" + _table_), // 过滤结果面板\n        tips : gUndefined\n    };\n\n    T.holder = holder;\n\n    T.resultNav = new FilterResultNavigator(T.ui.result); // 过滤结果导航器\n\n    // 关键字输入组件属性设置\n    TocIndex_initUI(this);\n\n    /**\n     * 返回 Toc 组件类型名称\n     * @returns string Toc 组件类型名称\n     */\n    T.typeName = function () {\n        return _table_;\n    }\n\n    /**\n     * 是否有表格索引项目\n     */\n    T.hasIndexItem = function () {\n        return TocIndex_hasIndexItem(this);\n    }\n\n    /**\n     * 初始化表格索引\n     * @param text 显示的文本\n     * @param anchor 锚点\n     * @param forSearch 用于搜索时检索的内容\n     */\n    T.add = function (text, anchor, forSearch) {\n        TocIndex_add(this, text, anchor, forSearch);\n    }\n\n    /**\n     * 更新所属分段状态\n     */\n     T.updateStatus = function () {\n        TocIndex_updateStatus(this);\n    }\n\n    /**\n     * 显示表格组件\n     */\n    T.show = function () {\n        TocIndex_show(this);\n    }\n\n    /**\n     * 隐藏表格组件\n     */\n    T.hide = function () {\n        TocIndex_hide(this);\n    }\n    if (hidden) T.hide();\n}\n\n// ==================== 导航中心【多媒体】组件类 ==================== //\n\n/**\n * 构造函数\n * @param holder 关联的上级容器\n * @param hidden 是否默认为隐藏\n */\nfunction TocMedia(holder, hidden) {\n    let T = this;\n    T.ui = {\n        entry : V_byClass(_vSegmentBtn_ + \".\" + _media_), // 入口\n        result : V_byClass(_vTocFilterResult_ + \".\" + _media_), // 过滤结果面板\n        tips : gUndefined\n    };\n\n    T.holder = holder;\n\n    T.resultNav = new FilterResultNavigator(T.ui.result); // 过滤结果导航器\n\n    // 关键字输入组件属性设置\n    TocIndex_initUI(this);\n\n    /**\n     * 返回 Toc 组件类型名称\n     * @returns string Toc 组件类型名称\n     */\n    T.typeName = function () {\n        return _media_;\n    }\n\n    /**\n     * 是否有多媒体索引项目\n     */\n    T.hasIndexItem = function () {\n        return TocIndex_hasIndexItem(this);\n    }\n\n    /**\n     * 初始化多媒体索引\n     * @param text 显示的文本\n     * @param anchor 锚点\n     * @param forSearch 用于搜索时检索的内容\n     */\n    T.add = function (text, anchor, forSearch) {\n        TocIndex_add(this, text, anchor, forSearch);\n    }\n\n    /**\n     * 更新所属分段状态\n     */\n    T.updateStatus = function () {\n        TocIndex_updateStatus(this);\n    }\n\n    /**\n     * 显示多媒体组件\n     */\n    T.show = function () {\n        TocIndex_show(this);\n    }\n\n    /**\n     * 隐藏多媒体组件\n     */\n    T.hide = function () {\n        TocIndex_hide(this);\n    }\n    if (hidden) T.hide();\n}\n\n// ==================== 导航中心【代码块】组件类 ==================== //\n\n/**\n * 构造函数\n * @param holder 关联的上级容器\n * @param hidden 是否默认为隐藏\n */\nfunction TocCodeblock(holder, hidden) {\n    let T = this;\n    T.ui = {\n        entry : V_byClass(_vSegmentBtn_ + \".\" + _codeblock_), // 入口\n        result : V_byClass(_vTocFilterResult_ + \".\" + _codeblock_), // 过滤结果面板\n        tips : gUndefined\n    };\n\n    T.holder = holder;\n\n    T.resultNav = new FilterResultNavigator(T.ui.result); // 过滤结果导航器\n\n    // 关键字输入组件属性设置\n    TocIndex_initUI(this);\n\n    /**\n     * 返回 Toc 组件类型名称\n     * @returns string Toc 组件类型名称\n     */\n    T.typeName = function () {\n        return _codeblock_;\n    }\n\n    /**\n     * 是否有代码块索引项目\n     */\n    T.hasIndexItem = function () {\n        return TocIndex_hasIndexItem(this);\n    }\n\n    /**\n     * 初始化代码块索引\n     * @param text 显示的文本\n     * @param anchor 锚点\n     * @param forSearch 用于搜索时检索的内容\n     */\n    T.add = function (text, anchor, forSearch) {\n        TocIndex_add(this, text, anchor, forSearch);\n    }\n\n    /**\n     * 更新所属分段状态\n     */\n    T.updateStatus = function () {\n        TocIndex_updateStatus(this);\n    }\n\n    /**\n     * 显示代码块组件\n     */\n    T.show = function () {\n        TocIndex_show(this);\n    }\n\n    /**\n     * 隐藏代码块组件\n     */\n    T.hide = function () {\n        TocIndex_hide(this);\n    }\n    if (hidden) T.hide();\n}\n\n// ==================== 导航中心【访问历史】组件类 ==================== //\n\n/**\n * 构造函数\n * @param holder 关联的上级容器\n * @param hidden 是否默认为隐藏\n */\nfunction TocHistory(holder, hidden) {\n    let T = this;\n    T.ui = {\n        entry : V_byClass(_vSegmentBtn_ + \".history\"), // 入口\n        title : V_byClass(_vTocHistory_ + __title_), // 历史记录标题\n        result : V_byClass(_vTocHistory_ + __result_) // 历史记录面板\n    };\n\n    T.holder = holder;\n\n    /**\n     * 返回 Toc 组件类型名称\n     * @returns string Toc 组件类型名称\n     */\n    T.typeName = function () {\n        return \"history\";\n    }\n\n    /**\n     * 是否有访问历史索引项目\n     */\n    T.hasIndexItem = function () {\n        return TocIndex_hasIndexItem(this);\n    }\n\n    /**\n     * 添加访问历史记录\n     * @param hash 页内锚点链接\n     */\n    T.add = function (hash) {\n        if (hash === gUndefined || hash === \"#\" || hash.x().length === 0)\n            return;\n\n        // 清空当前条目的样式\n        JQ_removeClass(T.ui.result.ch(\".\" + _vTocItemCurrent_), _vTocItemCurrent_);\n\n        // 对由 VLOOK 生成的页内锚点，对其显示的条目文本进行处理\n        let title = gUndefined,\n            anchor = hash.ss(1, hash.length);\n        if (anchor.sW(\"vk-id\")) // 插图/表格/多媒体/代码块索引\n            title = $(hash).a(_dataTitle_);\n        else if (anchor.sW(\"vk-err\")) // 错误的内链\n            title = $(hash).t();\n        // 未匹配到以上 VLOOK 专属的索引锚点，则按目录索引进行处理\n        if (title === gUndefined) {\n            let hashObj = $(_tocItem_ + \">.\" + _mdToc__ + _inner_ + V_attrCSS(_href_, JS_decodeURI(hash))).p();\n            title = V_ui_span(_, _, hashObj.a(_dataHeaderNum_) +___)\n                + JS_decodeURI(anchor);\n        }\n        let result = T.ui.result.ch(_span_ + V_attrCSS(_dataHistory_, hash));\n\n        // 不存在相同的历史访问记录\n        if (result.length === 0) {\n            T.ui.result.pp(V_ui_span(_vTocItem_, V_attr(_dataHistory_, hash), title));\n        }\n        // 已存在相同的历史访问记录\n        else {\n            // 将相同的记录移动到最前面\n            let existsItem = result.clone();\n            T.ui.result.pp(existsItem);\n            JQ_addClass(existsItem, _vTocItemCurrent_);\n            JQ_remove(result);\n        }\n\n        // 为新增加 / 移动后的记录添加鼠标事件\n        let item = T.ui.result.ch(_span_ + V_attrCSS(_dataHistory_, hash));\n        JQ_addClass(item, _vTocItemCurrent_);\n        item.a(_dataKeywordMatch_, _true_);\n        item.uC().ck((event) => {\n            V_util_gotoHash(hash);\n            // 触发锚点点击事件\n            typeof(T.holder.onInteractive) === _function_ && T.holder.onInteractive();\n        });\n\n        T.updateStatus();\n    }\n\n    /**\n     * 更新所属分段状态\n     */\n    T.updateStatus = function () {\n        TocIndex_updateStatus(this);\n    }\n\n    /**\n     * 显示历史组件\n     */\n    T.show = function () {\n        T.ui.title.show();\n        T.ui.result.show();\n\n        let tocItem = _span_ + \".\" + _vTocItem_,\n            noneHistory = \"div.v-toc-history-none\";\n        // 没有历史访问记录，也没有提示信息内容\n        if (T.ui.result.ch(tocItem + \",\" + noneHistory).length === 0) {\n            // 添加提示信息\n            T.ui.result.ap(V_ui_div(_, \"v-toc-history-none\",\n                [\"暂无记录!\",\n                \"No records!\"][V_lang_id]));\n        }\n        // 有历史访问记录\n        else if (T.ui.result.ch(tocItem).length > 0) {\n            // 移除提示信息\n            JQ_remove(T.ui.result.ch(noneHistory));\n        }\n    }\n\n    /**\n     * 隐藏历史组件\n     */\n    T.hide = function () {\n        T.ui.title.hide();\n        T.ui.result.hide();\n    }\n    if (hidden) T.hide();\n}\n\n// ==================== 导航中心 DocLib 文库类 ==================== //\n\n/**\n * 构造函数\n * @param mask 遮罩对象\n * @param holder 关联的上级容器\n */\nfunction DocLib(mask, holder) {\n    let T = this;\n    T.ui = V_byClass(_vDocLib_);\n    T.iframe = gUndefined;\n    T.enabled = gFalse;\n    T.page = gUndefined;\n    T.hash = _;\n    T.counter = 0;\n    T.paths = [];\n    T.holder = holder;\n\n    // 遮罩\n    T.mask = mask;\n    T.mask.bindPartner(this, T.ui);\n\n    V_ui_addAnimate(T.ui);\n\n    T.init = function () {\n        let docLibValue = V_util_getMetaByName(_vlookDocLib_),\n            result = null,\n            docLibToc = gUndefined;\n\n        T.iframe = $(_iframe_ + V_attrCSS(_name_, _vlookDocLib_));\n\n        gToc.ap(V_ui_div(_docLibToc_, _));\n        docLibToc = V_byID(_docLibToc_);\n\n        // ------------------------------\n        // 处理 YAML 中的文库配置，支持以逗号分隔的多段内容\n        if (docLibValue !== gUndefined && (result = docLibValue.m(/^([^,]+(,\\s*)?)+$/)) != null) {\n            let docLibList = docLibValue.sp(/, /);\n            for (let i = 0; i < docLibList.length; i++) {\n                result = docLibList[i].m(/^(\\[([^\\]]+)\\]\\(([^)\\s]+)(\\s+\"([^\"]+)\")?\\))$/);\n                // 按 [text](url \"title\") 格式配置的文库\n                if (result != null) {\n                    let page = V_util_getUrlWithoutHash(result[3]),\n                        hash = V_util_getUrlHash(result[3]),\n                        text = result[2].x(),\n                        title = (result.length > 5) ? result[5] : _;\n                    __addDocLibItem(text, page, hash, title);\n                }\n                // 按默认只有 url 方式配置的文库\n                else {\n                    let page = V_util_getUrlWithoutHash(docLibList[i]),\n                        hash = V_util_getUrlHash(docLibList[i]);\n                    __addDocLibItem([\"浏览文库\", _documentLibrary_][V_lang_id],\n                        page, hash, _);\n                }\n            }\n        }\n\n        // ------------------------------\n        // 处理文档内的文库专用链接\n        let re_TargetVDL = new RegExp(\"[?&]\" + _target_ + \"=\" + _vdl_, \"i\");\n        $(\"a\" + V_attrCSS(_href_, _docLibIdentifier_, \"*\")).e((index, element) => {\n            let a = $(element),\n                href = a.a(_href_),\n                page = V_util_getUrlWithoutHash(href).r(re_TargetVDL, _),\n                hash = V_util_getUrlHash(href);\n            // 文档中出现的以文库方式打开的链接，添加为导航中心的文库入口\n            // if (V_util_getUrlWithoutQueryAndHash(page).length > 0 || hash.length > 0)\n            //     __addDocLibItem(a.t().x(), page, hash, a.a(_title_));\n\n            JQ_removeAttr(a, _href_); // 移除 href\n            a.a(_target_, _vdl_);\n            a.uC().ck((event) => {\n                T.show(page, hash);\n            });\n        });\n\n        // --------------------\n        // 重新排序\n        let docLibTocItems = docLibToc.ch(\".\" + _vDocLibItem_);\n        docLibTocItems.sort((a, b) => {\n            let aObj = $(a),\n                bObj = $(b),\n                targetA = V_util_getUrlQueryParams(aObj.a(_dataPage_))[_target_],\n                targetB = V_util_getUrlQueryParams(bObj.a(_dataPage_))[_target_];\n\n            // 新标签打开的链接排序靠后的处理，「힣」的 Unicode 编码是 \\uD7A3\n            let textA = (targetA !== gUndefined && targetA !== _vdl_ ? \"힣\" : _)\n                    + aObj.t().x(),\n                textB = (targetB !== gUndefined && targetB !== _vdl_ ? \"힣\" : _)\n                    + bObj.t().x();\n\n            // 以下以是以字符的 unicode 编码进行比较\n            // 用 localeCompare 进行比较的话，存在不同国家或地区的排序结果不同\n            return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\n        });\n        // 按重新排序的节点进行显示\n        docLibTocItems.e((index, element) => {\n            $(element).detach().appendTo(docLibToc);\n        });\n\n        // --------------------\n        // 添加动画效果\n        V_ui_addAnimate(V_byID(_docLibToc_ + \">.\" + _vDocLibItem_\n            + \",#\" + _docLibToc_ + \">.\" + _vDocLibItem_ + \">svg\"));\n\n        LOG(\"    ├ DocLib: none\");\n\n        T.reload();\n\n        /**\n         * 添加文库项\n         * @param text 文库名称\n         * @param page 文库页面路径\n         * @param hash 文库页面锚点\n         * @param title 文库用于被关键字检索的内容\n         */\n        function __addDocLibItem(text, page, hash, title) {\n            // 过滤重复的文库链接\n            if (T.paths.includes(page + hash))\n                return;\n            T.paths.push(page + hash);\n\n            T.enabled = gTrue;\n\n            // 初始化第一个文库项\n            T.counter++;\n            if (T.counter === 1) {\n                T.page = page;\n                T.hash = hash;\n            }\n\n            // 添加文库项\n            let target = V_util_getUrlQueryParams(page)[_target_],\n                hasTarget = (target !== gUndefined && target.length > 0);\n            docLibToc.ap(V_ui_div(_, _vDocLibItem_ + \" id-\" + T.counter,\n                (hasTarget\n                    ? V_ui_svgIcon(_icoDocLibExt_, 20, 18, _light_) // 图标：在新标签中打开\n                    : V_ui_svgIcon(_icoDocLib_, 20, 18, _light_)) // 图标：在文库窗口中打开\n                + _2nbsp_ + text\n                ));\n\n            // 初始化文库项数据\n            let item = docLibToc.f(\".\" + _vDocLibItem_ + \".id-\" + T.counter);\n            item.a(_dataPage_, page);\n            item.a(_dataHash_, hash);\n            item.a(_title_, text);\n            // 设置用于被关键字搜索的内容\n            item.a(_dataKeywords_, _vdl_ + \"文库\" + (title === gUndefined ? _ : title));\n            item.uC().ck((event) => {\n                if (hasTarget) {\n                    // 去掉 target 参数内容\n                    let urlParams = new URLSearchParams(new URL(page, window.location.origin).search);\n                    urlParams.delete(_target_);\n                    // 新标签中打开\n                    window.open(V_util_getUrlWithoutQueryAndHash(page)\n                        + urlParams.toString() + hash, target);\n                }\n                else\n                    T.show(page, hash);\n            });\n\n            LOG(\"    ├ DocLib: \" + page + hash);\n        }\n    }\n\n    /**\n     * 重新加载文库内容\n     * @param scheme （可选）指定的颜色方案，light / dark\n     * @param page 指定的文库路径\n     * @param hash 指定的锚点\n     */\n    T.reload = function (scheme, page, hash) {\n        // 避免初始化时，与 ColorScheme.tg 重复加载\n        if (scheme === ColorScheme.scheme && page === gUndefined\n            || T.page === gUndefined)\n            return;\n\n        let cs = _;\n\n        // 指定的颜色方案不为空时\n        if (scheme !== gUndefined)\n            cs = \"&cs=\" + scheme;\n\n        // 指定的页面为空时（不包括 ?target=vdl 这种情况）\n        if (page === gUndefined)\n            page = T.page;\n        // 指定的锚点为空时\n        if (hash === gUndefined)\n            hash = _;\n\n        T.iframe.a(_src_,\n            page + ((page.i(\"?\") > -1) ? \"&\" : \"?\")\n            + \"ws=\" + _off_ + \"&\" + _type_ + \"=\" + _mini_\n            + cs + hash);\n    }\n\n    /**\n     * 是否已显示\n     * @returns boolean\n     */\n    T.isShowed = function () {\n        return T.ui.c(_display_) !== _none_;\n    }\n\n    /**\n     * 显示文库\n     * @param newPage 指定的文库路径\n     * @param hash 指定的锚点\n     */\n    T.show = function (newPage, hash) {\n        typeof(T.holder.onInteractive) === _function_ && T.holder.onInteractive();\n\n        let path = V_util_getUrlWithoutQueryAndHash(newPage);\n        // ALERT(`${path}, ${newPage}`);\n\n        T.mask.show();\n        T.ui.show();\n\n        // 如果指定的页面为空，则使用当前页面\n        if (path.length === 0) {\n            path = T.page;\n            newPage = T.page;\n        }\n\n        // 如果指定的锚点为空，且路径与当前页面一致，则不刷新页面\n        if (hash.length === 0\n            && path === V_util_getUrlWithoutQueryAndHash(V_util_getUrlWithoutHash(T.iframe.a(_src_))))\n            return;\n\n        // 刷新文库页面显示\n        if (path === T.page)\n            T.reload(gUndefined, gUndefined, hash);\n        else\n            T.reload(gUndefined, newPage, hash);\n    }\n\n    /**\n     * 隐藏文库\n     */\n    T.hide = function () {\n        T.ui.hide();\n        T.mask.hide();\n    }\n\n    /**\n     * 处理热键操作\n     * @param key 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (key, combKeys, event) {\n        if (T.ui.isHidden())\n            return;\n\n        let handled = false;\n        switch (key) {\n            case _escape_:\n                if (T.isShowed()) {\n                    T.hide();\n                    handled = true;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n    }\n}\n\n// ==================== 插图增强类 ==================== //\n\n/**\n * 初始化插图数据\n */\nfunction ExtFigure_init() {\n    let ignoreImgLost = gFalse,\n        sw = new Stopwatch();\n\n    // ----------------------------------------\n    // 对 svg 类插图（Mermaid）进行初始化处理\n    sw.st();\n    // 针对 Mermaid 饼图为双 SVG 结构（标准的 Mermaid 是单 SVG 结构），进行规范化调整\n    V_byClass(_mdDiagramPanel_ + \">svg>svg>g\").e((index, element) => {\n        $(element).unwrap();\n    });\n    sw.ed(\"    ├ prepare svg: \");\n\n    // ----------------------------------------\n    // 对 img 类插图（Mermaid）进行初始化处理\n    sw.st();\n\n    // ！！！注意！！！为适配浏览器安全策略！！！\n    // 由于不同浏览器的安全策略不同，所以针对不同浏览器的图片颜色替换处理进行微调\n    // 若 SVG 文件与当前 HTML 文件不在同一域名下，浏览顺会存跨域权限问题无法完成处理\n    // 非 Firefox / Safari 以本地打开方式下无法进行处理\n    let httpMode = WINDOW_getHref().sW(_http_),\n        canFillAlter = (httpMode || env.browser.Firefox || env.browser.Safari),\n        hostname = window.location.hostname,\n        imgHost = V_util_getMetaByName(_vlook__ + _image_ + \"-host\");\n    if (imgHost !== gUndefined && !imgHost.eW(\"/\"))\n        imgHost += \"/\";\n\n    $(_write_ + \" p>\" + _img_ + \",\" + _write_ + \" .\" + _mdDiagramPanel_ + \">\" + _svg_ + \",\"\n    + _write_ + \" :is(\" + _img_ + V_attrCSS(_src_, \"#icon\", \"*\") + \",\" + _img_ + V_attrCSS(_src_, \"#logo\", \"*\") + \",\" + _img_ + V_attrCSS(_src_, \"#\" + _card_, \"*\") + \",\" + _img_ + V_attrCSS(_src_, \"#frame\", \"*\") + \")\").e((index, element) => {\n        let fig = $(element),\n            src = fig.a(_src_),\n            src2FillAlter = src,\n            container = fig.p(),\n            tagName = V_util_getTagName(fig),\n            // tagName = (src !== gUndefined ? _svg_ : _svg_),\n            params = _,\n            hash = _,\n            isPostcard = gFalse;\n\n        // ----------------------------------------\n        // img 类插图的处理\n        if (src !== gUndefined) {\n            // 对于 img 类插图的预处理\n            params = V_util_getUrlQueryParams(encodeURI(src));\n            hash = V_util_getUrlHash(src);\n\n            fig.a(_id_, \"vk-id-img\" + V_doc_counter_img);\n\n            // 当前 HTML 的打开方式可进行图片「颜色替换」的适配处理\n            if (canFillAlter === gTrue) {\n                // 获得图片路径的域名\n                let matchRes = src2FillAlter.m(/^https?:\\/\\/([^\\/?#]+)(?:[\\/?#]|$)/i);\n                let srcHost = matchRes && matchRes[1];\n\n                // 对于相对路径，或与当前 HTML 域名一致\n                if (srcHost == null || hostname === srcHost) {\n                    // 针对 Safari 且指定了默认图床域名\n                    // 进行颜色替换前，先调整原始 <img> 的 src\n                    let needImgHost = (env.browser.Safari && !httpMode && imgHost !== gUndefined);\n                    if (needImgHost) {\n                        src2FillAlter = imgHost + src2FillAlter;\n                        fig.a(_src_, src2FillAlter);\n                    }\n\n                    // 正式进行图片颜色替换处理\n                    __initFillAlter(fig, params, hash, src2FillAlter);\n\n                    // 恢复原始 <img> 的 src\n                    if (needImgHost)\n                        fig.a(_src_, src);\n                }\n            }\n\n            // 初始化图片对「颜色方案」的适配处理\n            __initColorScheme(fig, params);\n\n            // 初始化图片对「高分屏」的适配处理\n            __initHighDPI(fig, params);\n\n            // 初始化图片对「图文卡片」的适配处理\n            __initPostcard(fig, src, hash);\n\n            // 对图片「加载结果」进行是跟踪检查\n            __bindLoadChecker(fig);\n\n            V_doc_counter_img++;\n\n            // 跳过带指定显示版式的图片\n            if (__isNotFigure(hash))\n                return gTrue;\n\n            // 插图（非明信片）的处理\n            isPostcard = __isPostcard(hash);\n            if (!isPostcard) {\n                // 初始化图片背景的适配处理\n                __initBackground(fig, params);\n\n                // 添加插图容器\n                container = fig.p();\n                // 确保 img 有独立的父容器，一般情况下 Typora 导出的为 <p>\n                if (V_util_getTagName(container) !== \"p\") {\n                    fig.wrap(\"<p></p>\");\n                // if (V_util_getTagName(container) !== _figcaption_) {\n                //     fig.wrap(V_ui_figcaption(_, _, _));\n                    container = fig.p();\n                }\n\n                // 初始化对齐方式\n                __initAlign(container, hash, params);\n            }\n        }\n\n        // 插图（非明信片）的处理\n        if (!isPostcard) {\n            // 绑定内容助手\n            if (src !== gUndefined)\n                ContentAssistor_bind(fig, _fig_ + _suffixImg_);\n            else\n                ContentAssistor_bind(fig, _fig_ + _suffixSvg_);\n\n            V_doc_counter_figure++;\n\n            // 处理题注\n            __disposeCaption(fig, tagName);\n\n            // 设置容器数据，用于折叠内容时使用\n            container.a(_dataContainer_, tagName);\n            JQ_addClass(container, _vCaptionContainer_);\n            // 折叠长插图（一行多图的情况则跳过）\n            let prevFig = fig.p().p();\n            if (prevFig === undefined || prevFig.ch(\".\" + _vCaption_ + \",\" + _img_).length === 1)\n                ContentFolder_add(fig, _figure_);\n        }\n    }); // 结束初始化处理\n    sw.ed(\"    ├ figure set: \");\n\n    // ----------------------------------------\n    // srcset 为 auto 模式的处理\n    sw.st();\n    // 在当前环境的 DPR > 1 时，对于没有指定 srcset 的 img 类插图，自动强制将 src 直接指定 2x 图片\n    // 可通过 URL 参数 srcset=auto 来启用\n    if (env.display.DPR > 1\n        && V_util_getParamVal(_srcset_) === _auto_) {\n            $(\"p\" + V_attr(_dataContainer_, _img_) +___+ _img_).e((index, element) => {\n                let fig = $(element);\n                if (fig.a(_src_).i(_suffixSvg_, 1) === -1 // 跳过 svg 文件\n                    && fig.a(_srcset_) === gUndefined) {\n                        fig.a(_srcset_, fig.a(_src_) + \" 2x\");\n                }\n            });\n    }\n\n    // 进行图片对颜色方案的适配处理\n    ExtFigure_adjustColorScheme(gFalse);\n    sw.ed(\"    └ DPR & misc.: \");\n\n    /**\n     * 处理题注\n     * @param fig 插图对象\n     * @param tagName 插图所属标签 img、svg\n     */\n    function __disposeCaption(fig, tagName) {\n       // 设置插图属性数据\n       fig.a(_dataFigNum_, V_doc_counter_figure);\n       JQ_addClass(fig, _vFig_);\n\n       // 先根据题注语法生成题注\n        CaptionGenerator_actionForMediaContent(fig, tagName);\n    }\n\n    /**\n     * 绑定加载失败处理\n     * @param fig 插图对象\n     */\n    function __bindLoadChecker(fig) {\n        let src = fig.a(_src_);\n        // 图片无法加载时加载默认图片\n        fig.bind(_error_, (event) => {\n            if (!ignoreImgLost) {\n                // 将无法加载的图片信息添加到链接检查器\n                let cp1 = fig.p().f(_vCap1_).hm(),\n                    // id = fig.p().a(_id_);\n                    targetToJump = fig.p();\n                // 非插图（无题注），则按普通的 img 来处理\n                if (cp1 === gUndefined) {\n                    cp1 = fig.a(_alt_);\n                    targetToJump = fig;//.a(_id_);\n                }\n                // alt 也为空时\n                if (cp1 === gUndefined)\n                    cp1 = fig.a(_src_);\n                // 添加无效链接项\n                LinkTool_addToCheckResult(_error_, targetToJump,\n                    V_ui_label(_, _, \"🚫 🖼 \" + [\n                        \"无效的图片源\",\n                        \"Invalid image source\"\n                    ][V_lang_id]) + cp1);\n            }\n\n            __loadDefaultOnError($(event.currentTarget));\n        });\n\n        // 强制重新加载一次以触发error事件\n        fig.a(_src_, src);\n    }\n\n    /**\n     * 判断是否属于插图\n     * @param hash 插图路径的锚点\n     * @returns boolean true：不属于插图，false：属于插图\n     */\n    function __isNotFigure(hash) {\n        let iconMode = hash.i(\"#icon\") > -1,\n            logoMode = hash.i(\"#logo\") > -1,\n            frameMode = hash.i(\"#frame\") > -1;\n        return (iconMode || logoMode || frameMode);\n    }\n\n    /**\n     * 判断是否属于明信片\n     * @param hash 插图路径\n     * @returns boolean true：不属于明信片，false：属于明信片\n     */\n    function __isPostcard(hash) {\n        return hash.i(\"#\" + _card_) > -1;\n    }\n\n    /**\n     * 初始化图片对齐方式的处理\n     * 注意：在 Typora 编辑模式时的对齐方式，直接通过 CSS 实现\n     * @param container img 的题注容器对象\n     * @param hash img 对象 src 值的锚点内容（如：#center#logo）\n     * @param params img 对象 src 值的 URL 参数数组\n     */\n    function __initAlign(container, hash, params) {\n        let align = gUndefined;\n        // 针对通过锚点设置对齐方式\n        if (hash.i(\"#\" + _center_) > -1)\n            align = _center_;\n        else if (align === gUndefined && hash.i(\"#\" + _right_) > -1)\n            align = _right_;\n        else if (align === gUndefined && hash.i(\"#\" + _left_) > -1)\n            align = _left_;\n        // 针对通过 URL 参数设置对齐方式\n        else if (align === gUndefined && params[_align_] !== gUndefined)\n            align = params[_align_];\n        else\n            return;\n        // 设置父级对象的对齐方式\n        container.c(_textAlign_, align);\n    }\n\n    /**\n     * 初始化图片对网格背景的的适配处理\n     * @param img img 对象\n     * @param params img 对象 src 值的 URL 参数数组\n     */\n    function __initBackground(img, params) {\n        let grid = params[\"grid\"];\n        if (grid === gUndefined)\n            return;\n        img.a(_dataFigGrid_, grid);\n    }\n\n    /**\n     * 初始化图片颜色替换的适配处理\n     * @param img img 对象\n     * @param params img 对象 src 值的 URL 参数数组\n     * @param hash img 对象 hash 值\n     * @param src img 对象的 src 值\n     */\n    function __initFillAlter(img, params, hash, src) {\n        if (params[_fill_] === gUndefined)\n            return;\n\n        img.a(_dataImgFill_, params[_fill_]);\n\n        // 图片为 SVG 格式时，将源文件通过 SVGInject 注入到 HTML 文档中\n        if (src.i(_suffixSvg_, 1) > -1) {\n            SVGInject(img[0], {\n                // SVG 注入成功\n                afterInject : function (img, svg) {\n                    let svgObj = $(svg);\n                    // 属于插图的，则绑定内容助手\n                    if (!__isNotFigure(hash))\n                        ContentAssistor_bind(svgObj, _fig_ + _suffixSvg_);\n                    // 对颜色进行替换的适配处理\n                    ExtFigure_adjustFillAlterForSVG(svgObj.a(_dataImgFill_), svgObj);\n                },\n                // SVG 注入失败\n                onFail : function (img, svg) {\n                    ERROR(\"SVGInject ERROR:\", $(img).a(_src_));\n                }\n            });\n        }\n    }\n\n    /**\n     * 初始化图片对颜色方案（Light / Dark）的适配处理\n     * @param img img 对象\n     * @param params img 对象 src 值的 URL 参数数组\n     */\n    function __initColorScheme(img, params) {\n        // 未指定 darksrc 参数，或同时指定了 fill 参数，则跳过\n        if (params[_darksrc_] === gUndefined)\n            return;\n\n        // 适配 Dark Mode 的方式：反转\n        if (params[_darksrc_] === _invert_  ) {\n            img.a(_dataDarkSrc_, _invert_);\n        }\n        // 适配 Dark Mode 的方式：替换\n        else {\n            img.a(_dataDarkSrc_, _alter_);\n\n            let src = img.a(_src_),\n                path = V_util_getPath(src),\n                queryString = V_util_getUrlQueryString(src);\n            // 补全 URL 参数内容\n            let darksrc = params[_darksrc_] + (queryString !== _ ? (\"?\" + queryString) : _);\n            // 如果 darksrc 只含文件名，则用 src 的路径进行补全\n            if (darksrc.i(\"/\") === -1)\n                darksrc = path + darksrc;\n\n            // 初始化不同颜色方案的 src 内容\n            img.a(_dataSrcLight_, img.a(_src_));\n            img.a(_dataSrcDark_, darksrc);\n\n            // 初始化不同颜色方案的 srcset 内容\n            if (params[_srcset_] !== gUndefined)\n                img.a(_dataSrcsetLight_, params[_srcset_]);\n            if (params[_darksrcset_] !== gUndefined)\n                img.a(_dataSrcsetDark_, params[_darksrcset_]);\n        }\n    }\n\n    /**\n     * 初始化图片高分屏的适配处理\n     * @param img img 对象\n     * @param params img 对象 src 值的 URL 参数数组\n     */\n    function __initHighDPI(img, params) {\n        let src = img.a(_src_),\n            srcset = params[_srcset_],\n            darksrcset = params[_darksrcset_];\n\n        // Light Mode 对应的图片集\n        if (srcset !== gUndefined) {\n            srcset = __transUrlSrcSet(src, srcset);\n            img.a(_dataSrcsetLight_, srcset);\n            // 设置默认值\n            img.a(_srcset_, srcset);\n        }\n\n        // Dark Mode 对应的图片集\n        if (darksrcset !== gUndefined) {\n            darksrcset = __transUrlSrcSet(img.a(_dataSrcDark_), darksrcset);\n            img.a(_dataSrcsetDark_, darksrcset);\n        }\n    }\n\n    /**\n     * 初始化图片高分屏的适配处理\n     * @param img img 对象\n     * @param src img 对象 src 值\n     * @param hash img 对象 src 值中的锚点\n     */\n    function __initPostcard(img, src, hash) {\n        // 未指定 card 参数，则跳过\n        if (hash === gUndefined || hash.i(_card_) === -1)\n            return;\n\n        // 如果是嵌套在 blockquote 中，则对其进行样式调整\n        let blockquote = img.parentsUntil(_blockquote_).last(),\n            inBlockquote = (blockquote.length > 0 && !blockquote.is(_html_));\n        if (inBlockquote) {\n            blockquote.p().c(_cssText_, _background_ + \":\" + _none_ + _important_ + _padding_ + \":0\" + _important_);\n            blockquote.p().c(_boxShadow_, _none_);\n            blockquote.p().c(_height_, _auto_);\n            JQ_removeAttr(blockquote.p(), _dataQuoteGroup_);\n        }\n\n        // 插入卡片元素\n        let altText = img.a(_alt_),\n            altTextForSearch = altText,\n            titleText = img.a(_title_),\n            cardBody = img.p().n(),\n            dual = (hash.i(\"#cardd\") > -1 ? gTrue : gFalse);\n\n        // 若添加了通过引用块指定为正文内容的，则进行处理\n        if (cardBody !== gUndefined && cardBody.length > 0) {\n            if (V_util_getTagName(cardBody) === _blockquote_) {\n                altText = cardBody.hm();\n                altTextForSearch = cardBody.t();\n                JQ_remove(cardBody);\n            }\n        }\n\n        JQ_removeAttr(img, _title_);\n\n        img.af(V_ui_article(_, \"v-post-card \" + _vBackdropBlurs_ + ___ + (dual ? _ : \"hover \"),\n                (titleText === gUndefined ? _ : V_ui_header(_, _vCard_ + __title_, titleText))\n                + (altText === gUndefined ? _ : V_ui_section(_, _vCard_ + __text_, altText))\n            ));\n\n        // card dual 模式的处理\n        if (dual && blockquote.is(_html_)) {\n            __setCardSize(img, inBlockquote);\n        }\n        // card 模式的处理\n        else {\n            // 图片 mouseenter 和 mouseleave 事件\n           img.on(_mouseEnter_, (event) => {\n                let _t = $(event.currentTarget),\n                    card = _t.n();\n                if (card.c(_display_) !== _none_)\n                    return;\n\n                _t.c(_filter_, _brightness_ + \"(.8)\");\n\n                __setCardSize(_t);\n\n                // 显示\n                card.c(_display_, _block_);\n                card.on(_mouseLeave_, (event) => {\n                    $(event.currentTarget).hide();\n                    _t.c(_filter_, _none_);\n                });\n            }).on(_mouseLeave_, (event) => {\n                let _t = $(event.currentTarget),\n                    card = _t.n();\n                if (!v_ui_mouseDropIn(_t, event)) {\n                    _t.c(_filter_, _none_);\n                    card.c(_display_, _none_);\n                }\n            });\n\n        }\n\n        V_doc_counter_postcard++;\n\n        // 无指定 title 时，使用图片的文件名作为题注\n        if (titleText === gUndefined)\n            titleText = V_util_getUrlWithoutQueryAndHash(src.ss(src.lastIndexOf('/') + 1));\n\n        // 生成用于被检索的内容\n        if (altTextForSearch === gUndefined)\n            altTextForSearch = _;\n\n        let anchor = \"vk-id-psc\" + V_doc_counter_postcard,\n            caption = V_ui_span(_, _, [\n                \"明信片 \",\n                \"Postcard \"\n                ][V_lang_id] + V_doc_counter_postcard + \".\") + titleText,\n            dataForSearch = titleText + altTextForSearch;\n        img.a(_id_, anchor);\n        img.a(_dataTitle_, caption);\n        iNavCenter.figure.add(caption, anchor, dataForSearch);\n    }\n\n    /**\n     * 加载默认图片\n     * @param target 目标 img 对象\n     */\n    function __loadDefaultOnError(target) {\n        // let alt = target.a(s_Alt);\n        // 将 alt 替换为 title 避免无法指定 width、height 属性\n        JQ_removeAttr(target, _alt_);\n        JQ_removeAttr(target, _title_);\n        JQ_addClass(target, \"v-img-lost\");\n    }\n\n    /**\n     * 设置明信片尺寸\n     * @param img 明信片对象\n     * @param inBlockquote 是否在引用内（一般是指引用分栏）\n     */\n    function __setCardSize(img, inBlockquote) {\n        let card = img.n(),\n            padding = JS_parseInt(img.c(_paddingLeft_)),\n            borderBottomWidth = JS_parseInt(img.c(_borderBottomWidth_)),\n            h = JS_parseInt(card.c(_height_)),\n            imgH = img.h() + padding + (inBlockquote ? padding : 0),\n            bd = 0;//JS_parseInt(img.c(_borderBottomWidth_));\n        card.c(_width_, img.w() + padding * 2)\n            .c(_top_, borderBottomWidth + img.pos().top + imgH - h - bd);\n    }\n\n    /**\n     * 转换图片 URL 中的 srcset / darksrcset 参数为符合 <img> srcset 属性的格式\n     * @param src 图片 URL\n     * @param srcset srcset 或 darksrcset 参数的内容\n     */\n    function __transUrlSrcSet(src, srcset) {\n        // 针对 html 与 图片同一目录的情况\n        let path = V_util_getPath(src);\n\n        // @2x/@3x 图片资源为自动匹配名称的语法\n        // 2x/3x 的文件名为 <文件名@2x.xxx> 或 <文件名@3x.xxx> 的情况\n        if (/^@2x(,@3x)?$/.test(srcset)) {\n            let pureSrc = src.ss(0, src.i(\"?\", 5)),\n                fileName = pureSrc.ss(0, pureSrc.lastIndexOf(\".\")), // 图片资源文件名（不含扩展名）\n                suffix = pureSrc.ss(pureSrc.lastIndexOf(\".\"), pureSrc.length); // 图片资源扩展名\n            // 自动补全图片资源 URL\n            srcset = srcset.r(/@2x/, fileName + \"@2x\" + suffix + \" 2x\");\n            srcset = srcset.r(/@3x/, fileName + \"@3x\" + suffix + \" 3x\");\n        }\n        // @2x/@3x 图片资源为指定文件名的语法\n        else {\n            // 将倍数标识转换为 srcset 标准语法\n            // 要从图片扩展名开始替换，避免将文件中的 @2x @3x 误替换掉\n            srcset = srcset.rAfter(\".\", \"@2x\", \" 2x\");\n            srcset = srcset.rAfter(\".\", \"@3x\", \" 3x\");\n        }\n\n        // 为 2x 图添加图片路径\n        let sss = srcset.sp(\",\");\n        if (sss[0].i(\"/\") === -1) // 仅为文件名时才添加路径\n            srcset = path + srcset;\n        // 为 3x 图添加图片路径\n        if (sss.length > 1 && sss[1].i(\"/\") === -1) // 仅为文件名时才添加路径\n            srcset = srcset.r(\" 2x,\", \" 2x,\" + path);\n\n        return srcset;\n    }\n}\n\n/**\n * 复制图片地址\n * @param source 内容源对象\n * @param event 事件对象\n */\nfunction ExtFigure_copySrc(source, event) {\n    let content = ContentAssistor_lastHover.a(_src_);\n    // 若复制为 Markdown\n    if (ContentAssistor_copyAsMarkdown) {\n        let alt = ContentAssistor_lastHover.a(_alt_),\n            title = ContentAssistor_lastHover.a(_title_);\n        content = \"![\" + (alt !== gUndefined ? alt : _)\n            + \"](\" + content + (title !== gUndefined ? ' \"' + title + '\"' : _) + \")\";\n    }\n    Copyer_action(source, content, gTrue);\n }\n\n/**\n * 适配指定图片在 Light / Dark Mode 的适配处理\n * @param disposeGrid 是否进行网格背景适配处理：true / false\n */\nfunction ExtFigure_adjustColorScheme(disposeGrid) {\n    let scheme = ColorScheme.scheme,\n        darkMode = scheme === _dark_;\n    // --------------------\n    // 对图片在 Dark Mode 时的适配处理\n    // 1. 对适配方式为「反转」的处理\n    $(_img_ + V_attrCSS(_dataDarkSrc_, _invert_) + \",\" + _svg_ + V_attrCSS(_dataDarkSrc_, _invert_)).e((index, element) => {\n        let img = $(element),\n            src = img.a(_src_);\n        if (darkMode) {\n            // 如果图片没有指定替换颜色时才进行处理\n            if (img.a(_dataImgFill_) === gUndefined) {\n                // 设置默认的 srcset\n                if (src !== gUndefined)\n                    img.a(_srcset_, img.a(_dataSrcsetLight_));\n                // 添加反转样式\n                JQ_addClass(img, _vImgInvertDark_);\n            }\n        }\n        else {\n            JQ_removeClass(img, _vImgInvertDark_);\n            if (src !== gUndefined)\n                img.a(_srcset_, img.a(_dataSrcsetLight_));\n        }\n    });\n    // 2. 对适配方式为「替换」的处理\n    $(_img_ + V_attrCSS(_dataDarkSrc_, _alter_)).e((index, element) => {\n        let img = $(element);\n        JQ_removeClass(img, _vImgInvertDark_);\n        img.a(_src_, img.a(_dataSrc_ + scheme));\n        img.a(_srcset_, img.a(_dataSrcset_ + scheme));\n    });\n\n    // --------------------\n    // 对图片指定为颜色替换的处理\n    $(_img_ + V_attrCSS(_dataImgFill_, _text_)\n        + \",\" + _img_ + V_attrCSS(_dataImgFill_, _theme_ + 1)\n        + \",\" + _img_ + V_attrCSS(_dataImgFill_, _theme_ + 2)\n        + \",\" + _svg_ + V_attrCSS(_dataImgFill_, _text_)\n        + \",\" + _svg_ + V_attrCSS(_dataImgFill_, _theme_ + 1)\n        + \",\" + _svg_ + V_attrCSS(_dataImgFill_, _theme_ + 2)).e((index, element) => {\n        let fig = $(element),\n            fill = fig.a(_dataImgFill_);\n        // SVG 对象，或 src 为 .svg 的 img 对象\n        if (V_util_getTagName(fig).sW(\"s\") || fig.a(_src_).i(_suffixSvg_, 1) > -1) {\n            ExtFigure_adjustFillAlterForSVG(fill, fig);\n        }\n        // 其他情况\n        else {\n            if (fill === _text_)\n                fig.c(_filter_, \"drop-shadow(12345px 0px \" + fig.p().c(_color_) + \")\");\n            else\n                fig.c(_filter_, \"drop-shadow(12345px 0px \" + V_ui_var(\"--ac-\" + fill + \"-lg\") + \")\");\n\n            if (fig.a(_dataFigNum_) !== gUndefined)\n                fig.c(_background_, _none_);\n        }\n    });\n\n    // --------------------\n    // 非初始化时执行，避免与 CSS 默认配置冲突\n    // 如：@media (prefers-color-scheme: dark) 部分\n    if (disposeGrid) {\n        // 适配图片网格背景的处理\n        $(_img_ + V_attrCSS(_dataFigGrid_, \"line\")\n            + \",\" + _img_ + V_attrCSS(_dataFigGrid_, _block_)).e((index, element) => {\n            let img = $(element),\n                _lineDark = \"line-\" + _dark_,\n                _blockDark = _block_ + \"-\" + _dark_;\n            // 先清空所有涉及的样\"line-dark\"式\n            if (darkMode) {\n                JQ_removeClass(img, _figSolid__ + \"bg-\" + _light_);\n                JQ_removeClass(img, _figGrid__ + \"line-\" + _light_);\n                JQ_removeClass(img, _figGrid__ + _block_ + \"-\" + _light_);\n            }\n            else {\n                JQ_removeClass(img, _figSolid__ + \"bg-\" + _dark_);\n                JQ_removeClass(img, _figGrid__ + _lineDark);\n                JQ_removeClass(img, _figGrid__ + _lineDark + \"-\" + _invert_);\n                JQ_removeClass(img, _figGrid__ + _blockDark);\n                JQ_removeClass(img, _figGrid__ + _blockDark + \"-\" + _invert_);\n            }\n\n            let gridType = img.a(_dataFigGrid_),\n                darkInvert = img.a(_dataDarkSrc_) === _invert_;\n            // 网络背景\n            if (gridType === _line_ || gridType === _block_) {\n                if (darkMode && darkInvert)\n                    // 先添加反色后的背景，以适配反色样式后能正常显示\n                    JQ_addClass(img, _figGrid__ + gridType + \"-\" + scheme + \"-\" + _invert_);\n                else\n                    JQ_addClass(img, _figGrid__ + gridType + \"-\" + scheme);\n            }\n            // 非网格背景\n            else\n                JQ_addClass(img, _figSolid__ + \"bg-\" + scheme);\n        });\n    }\n}\n\n/**\n * 适配 *.svg 格式的 img 图片注入为 SVG 实例后，对颜色进行替换的适配处理\n * @param fill 图片颜色替换方式：text / theme1 / theme2\n * @param svg SVG 实例对象\n */\nfunction ExtFigure_adjustFillAlterForSVG(fill, svg) {\n    // 先取消可能会因数 darksrc=invert 的 CSS 配置影响\n    svg.c(_filter_, _none_);\n    // 再针对进行微调\n    let svgSets = \"path,rect,ellipse,polygon\";\n    if (fill === _text_)\n        svg.f(svgSets).c(_fill_, svg.p().c(_color_));\n    else\n        svg.f(svgSets).c(_fill_, V_ui_var(\"--ac-\" + fill.l()));\n}\n\n// ==================== 插图导航模块 ==================== //\n\nfunction FigureNav() {\n    let T = this;\n    T.ui = V_byClass(_vFigNav_); // 插图导航主界面\n    T.btns = {\n        ui : $(_vFigNavBtns_), // 所有导航按钮\n        prev : $(_vFigNavBtns_ + \".prev\"), // 上一张插图按钮\n        next : $(_vFigNavBtns_ + \".next\"), // 下一张插图按钮\n        close : V_byClass(_vBtn_ + \"-close-figure-nav\"), // 关闭按钮\n    };\n    T.content = V_byClass(_vFigContent_); // 显示插图内容的控件\n    T.figNum = 1; // 当前插图索引序号，对应 vk-id-fig 中的值\n\n    V_ui_addAnimate(T.content.ch(_img_ + \",\" + _svg_));\n\n    // 绑定各按钮事件\n    T.btns.prev.uC().ck(() => {\n        T.prevFig();\n    });\n    T.btns.next.uC().ck(() => {\n        T.nextFig();\n    });\n    T.btns.close.uC().ck(() => {\n        T.hide();\n    });\n    T.content.uC().ck(() => {\n        T.hide();\n    });\n\n    /**\n     * 插图导航导航按钮在不同终端的适配处理\n     */\n    T.adjustHoverStyle = function () {\n        // 移动设备时解绑样式事件\n        if (env.device.mobile) {\n            T.btns.prev.uH();\n            T.btns.next.uH();\n        }\n        // 非移动设备时绑定样式事件\n        else {\n            T.btns.ui.on(_mouseEnter_, (event) => {\n                $(event.currentTarget).c(_transform_, \"translateY(-2px)\");\n            }).on(_mouseLeave_, (event) => {\n                $(event.currentTarget).c(_transform_, _none_);\n            });\n            // 鼠标键按下事件，模拟 :active\n            T.btns.ui.on(_mouseDown_, (index, element) => {\n                $(element).c(_transform_, _none_);\n            });\n            // 鼠标键释放事件，模拟恢复正常\n            T.btns.ui.on(_mouseUp_, (index, element) => {\n                $(element).c(_transform_, \"translateY(-2px)\");\n            });\n        }\n    }\n\n    /**\n     * 是否已显示\n     * @returns boolean\n     */\n    T.isShowed = function () {\n        return T.ui.c(_display_) !== _none_;\n    }\n\n    /**\n     * 显示插图导航\n     */\n    T.show = function (fig) {\n        if (V_doc_counter_figure === 0)\n            return;\n\n        V_doc_scroll_freeze();\n        V_doc_block = gTrue;\n\n        if (fig == null)\n            fig = $(V_attrCSS(_dataFigNum_, T.figNum));\n\n        // 在插图导航中显示对应插图\n        T.figNum = JS_parseInt(fig.a(_dataFigNum_));\n\n        V_ui_show(T.ui);\n\n        T.display();\n        T.updateUI();\n    }\n\n    /**\n     * 关闭插图导航\n     */\n    T.hide = function () {\n        T.content.empty();\n        V_ui_hide(T.ui);\n\n        V_doc_scroll_unfreeze();\n        V_doc_block = gFalse;\n    }\n\n    /**\n     * 显示插图内容\n     */\n    T.display = function () {\n        let fig = $(V_attrCSS(_dataFigNum_, T.figNum));\n        T.content.empty();\n        T.content.show();\n        T.content.c(_width_, $(window).w())\n            .c(_height_, $(window).h());\n\n        let newFig = fig.clone();\n        newFig.c(_maxWidth_, $(window).w() - 80)\n            .c(_maxHeight_, $(window).h() - 50)\n            .c(_borderRadius_, _varVRB_)\n            .c(_background_, fig.c(_background_))\n            .c(_padding_, fig.c(_padding_));\n        JQ_addClass(newFig, \"v-interactive\");\n        V_ui_hide(newFig);\n\n        // 添加鼠标移入/移出事件\n        V_ui_bindHover(newFig);\n\n        // 添加鼠标点击事件\n        newFig.uC().ck(() => {\n            // 跳转到对应位置\n            V_util_gotoHash(\"#\" + _vkIdFig_ + T.figNum);\n            T.hide();\n        });\n\n        T.content.ap(newFig);\n        V_ui_show(newFig);\n    }\n\n    /**\n     * 查看上一个插图\n     */\n    T.prevFig = function () {\n        if (T.figNum > 1) {\n            T.figNum--;\n            T.display();\n            T.updateUI();\n        }\n    }\n\n    /**\n     * 查看下一个插图\n     */\n    T.nextFig = function () {\n        if (T.figNum < V_doc_counter_figure) {\n            T.figNum++;\n            T.display();\n            T.updateUI();\n        }\n    }\n\n    /**\n     * 更新插图导航界面\n     */\n    T.updateUI = function () {\n        let pageNum = V_byClass(_vFigNav_ + __title_);\n\n        pageNum.hm(V_ui_span(\"v-fig-page-num\", _, T.figNum + \"/\" + V_doc_counter_figure)\n            +___+ V_byID(_vkIdFig_ + T.figNum + \">\" + _vCap1_).t());\n\n        // 更新导航按钮位置\n        T.btns.prev.c(_top_, (T.ui.h() - T.btns.prev.h()) / 2);\n        T.btns.next.c(_top_, T.btns.prev.c(_top_));\n\n        // 根据当前插图索引更新浏览按钮有效状态\n        T.btns.prev.c(_opacity_, 0);\n        T.btns.next.c(_opacity_, 0);\n        if (T.figNum > 1) {\n            T.btns.prev.c(_opacity_, 1);\n        }\n        if (T.figNum < V_doc_counter_figure) {\n            T.btns.next.c(_opacity_, 1);\n        }\n    }\n\n    /**\n     * 处理热键操作\n     * @param key 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (key, combKeys, event) {\n        if (iFigNav.ui.isHidden())\n            return;\n\n        let handled = false;\n        switch (key) {\n            case _arrowLeft_:\n            case ',':\n                T.prevFig();\n                handled = true;\n                break;\n            case _arrowRight_:\n            case '.':\n                T.nextFig();\n                handled = true;\n                break;\n            case _escape_:\n                if (T.isShowed()) {\n                    T.hide();\n                    handled = true;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n    }\n}\n\n// ==================== Mermaid - 脑图交互类 ==================== //\n\nfunction mmMindmap_init() {\n    // to-do: 新特性，未完成\n    let rootIndex = 0,\n        sectionGroup = _;\n    $(_svg_ + V_attrCSS(_ariaRoledescription_, _mindmap_) + '>.mindmap-nodes>.mindmap-node').e((index, element) => {\n        let _t = $(element);\n        if (rootIndex > 0) {\n            // if (sectionGroup !== _t.a(_class_)) {\n                // sectionGroup = _t.a(_class_);\n                _t.uC().ck((event) => {\n                    mmMindmapToggleNode($(event.currentTarget));\n                });\n            // }\n            // else {\n                _t.c(_visibility_, _hidden_);\n            // }\n        }\n        else {\n            _t.uC().ck((event) => {\n                mmMindmapToggleRoot($(event.currentTarget));\n            });\n        }\n        rootIndex++;\n    });\n\n    $(_svg_ + V_attrCSS(_ariaRoledescription_, _mindmap_) + '>.mindmap-edges>.edge').e((index, element) => {\n        $(element).c(_visibility_, _hidden_);\n    });\n}\n\nfunction mmMindmapToggleRoot(node) {\n}\n\nfunction mmMindmapToggleNode(node) {\n    let c = node.a(_class_),\n        si = c.i(\"section-\"),\n        secNum = 0;\n    if (si > -1) {\n        secNum = c.ss(si + 8, c.length);\n        if (secNum.isNumber()) {\n            $(_svg_ + V_attrCSS(_ariaRoledescription_, _mindmap_) + '>.mindmap-nodes>.section-' + secNum).e((index, element) => {\n                $(element).c(_visibility_, _visible_);\n            });\n\n            $(_svg_ + V_attrCSS(_ariaRoledescription_, _mindmap_) + '>.mindmap-edges>.section-edge-' + secNum).e((index, element) => {\n                $(element).c(_visibility_, _visible_);\n            });\n        }\n    }\n}\n\n// ==================== 样式重制类 ==================== //\n\n/**\n * 调整任务清单复选框的样式\n */\nfunction Restyler_forTaskList() {\n    // 对任务清单的 checkbox 组件转换为 SVG 图标\n    $(_write_ +___+ _input_ + V_attrCSS(_type_, _checkbox_)).e((index, element) => {\n        let chkStatus = _no_, // 默认为未完成\n            chkStyle = _dark_; // 默认样式\n\n        // 已完成\n        let _t =  $(element),\n            checked = _t.a(_checked_);\n        if (checked !== gUndefined && checked.sW(\"c\")) { // checked\n            chkStatus = _yes_;\n            chkStyle = _theme_;\n        }\n        // 部分完成（不确定选择）\n        else if (_t[0].indeterminate) {\n            chkStatus = _un_;\n            // chkStyle = \"btn\";\n        }\n\n        // 替换为 SVG 图标\n        _t.bf(V_ui_svgIcon(_icoChkbox__ + chkStatus, 14, 14, chkStyle, \"v-svg-input-checkbox\"));\n        JQ_remove(_t);\n    });\n}\n\n/**\n * 调整默认的 Mermaid 样式\n */\nfunction Restyler_forMermaid() {\n    // ========== ZenUML 图 ==========\n    let zenSelector = \".\" + _mdDiagramPanel_ + \">div>svg\" + V_attrCSS(_ariaRoledescription_, \"zenuml\");\n    // 调整 ZenUML 尺寸因主题原因导致强制被限制大小的情况\n    $(zenSelector).e((index, element) => {\n        let target = $(element);\n        target.f(\".zenuml.bg-skin-canvas\").e((i, e) => {\n            let zenuml = $(e);\n            target.c(_width_, zenuml.w())\n                .c(_height_, zenuml.h());\n            // 同时修正题注框的宽度、高度\n            target.ps(\".\" + _vCaption_).c(_width_, _auto_)\n                    .c(_height_, _auto_);\n        });\n    });\n    // to-do: 临时修复方式（多个图标同名渐变色定义冲突）\n    // 待 ZenUML 官方修复后可取消\n    let idPrefix = \"linearGradient-\",\n        svgIconCount = 0;\n    $(zenSelector + \" div\" + V_attrCSS(_alt_, \"icon\", \"^\") + \">\" + _svg_).e((index, element) => {\n        svgIconCount++;\n        let svgIcon = $(element),\n            idValue = \"linearGradient-vk-fixed-\" + svgIconCount;\n        // 图标渐变色定义 id 更名\n        svgIcon.f(\"defs>linearGradient\" + V_attrCSS(_id_, idPrefix, \"^\")).attr(\"id\", idValue);\n        // 更新图标渐变色定义 id 值\n        svgIcon.f(\"g\" + V_attrCSS(_fill_, \"url(#\" + idPrefix, \"^\")).attr(_fill_, \"url(#\" + idValue + \")\");\n    });\n\n    // ========== 时序图 ==========\n    let seqSelector = \".\" + _mdDiagramPanel_ + \">div>svg\" + V_attrCSS(_ariaRoledescription_, \"sequence\");\n    // 修正顺序图整体的样式\n    $(seqSelector).e((index, element) => {\n        let target = $(element),\n            viewBox = target.a(_viewBox_).sp(/\\s+/),\n            paddingBottom = (target.c(_paddingBottom_));\n        // 修正顺序图的下边距，前提先在 CSS 中设置了合适的 padding-bottom 值\n        target.a(_viewBox_,\n            viewBox[0] +___+ viewBox[1] +___+ viewBox[2] +___\n            + (JS_parseInt(viewBox[3]) + JS_parseInt(paddingBottom)));\n        // 重置 CSS 中的 padding-bottom 值，因为已由上面的下边距值替换\n        JQ_addClass(target, _vMermaidRestyler_);\n    });\n\n    // 更新顺序图中的角色样式\n    $(seqSelector + \" g>rect\" + V_attrCSS(_class_, \"actor\")).e((index, element) => {\n        let actor = $(element),\n            text = actor.n(_text_).ch(), // actor text object\n            tmpText = text.t(),\n            prefix = _;\n        const front = /@.+/g, // 前端触点角色\n            keySys = /^\\*\\*.+/g, // 重要系统角色\n            extSys = /^--.+/g; // 外部系统角色\n\n        // 更新 <前端触点角色> 样式\n        if (front.test(tmpText)) {\n            let h = actor.h(),\n                line = (actor.p().pr(_line_) || actor.pr(_line_));\n            actor.a(_rx_, (h - 20) / 2);\n            actor.a(_ry_, (h - 20) / 2);\n            actor.a(\"y\", JS_parseInt(actor.a(\"y\")) + 10);\n            actor.a(_height_, h - 20);\n            line.a(\"y1\", JS_parseInt(line.a(\"y1\")) + 10);\n            line.a(\"y2\", JS_parseInt(line.a(\"y2\")) - 20);\n            JQ_addClass(actor.pr(_line_), _vActor_ + \"-front\");\n            text.t(prefix + tmpText.ss(1, tmpText.length));\n        }\n        // 更新 <重要系统角色> 样式\n        else if (keySys.test(tmpText)) {\n            JQ_addClass(actor, _vActorKeySys_);\n            JQ_addClass(actor.pr(_line_), _vActorKeySys_);\n            JQ_addClass(actor.nextAll(_text_).ch(), _vActorKeySys_);\n            text.t(prefix + tmpText.ss(2, tmpText.length));\n        }\n        // 更新 <外部系统角色> 样式\n        else if (extSys.test(tmpText)) {\n            JQ_addClass(actor, _vActorExtSys_);\n            JQ_addClass(actor.nextAll(_text_).ch(), _vActorExtSys_);\n            text.t(prefix + tmpText.ss(2, tmpText.length));\n        }\n        else {\n            text.t(prefix + tmpText);\n        }\n    });\n\n    // 更新顺序图中消息序号的样式\n    $(seqSelector + \">text.sequenceNumber\").e((index, element) => {\n        // 移除文本宽度，避免不同字体大小时显示效果问题\n        JQ_removeAttr($(element), _textLength_);\n    });\n\n    // 更新顺序图中的片断（如：loop、opt、par、alt）样式和位置\n    $(seqSelector + \" polygon+.labelText\").e((index, element) => {\n        let fragment = $(element),\n            g = fragment.p(),\n            segType = fragment.t();\n\n        // 默认的样式（par 片断）\n        let bgColor = _varMmOrange_,\n            borderColor = _varMmOrange_,\n            titleColor = _varAcOrangeLg_;\n        // 为 alt 片断设置样式\n        if (segType === _alt_) {\n            bgColor = _varMmRed_;\n            borderColor = _varMmRed_;\n            titleColor = _varAcRedLg_;\n        }\n        // 为 loop 片断设置样式\n        else if (segType === _loop_) {\n            bgColor = _varMmCyan_;\n            borderColor = _varMmCyan_;\n            titleColor = _varAcCyanLg_;\n        }\n        // 为 alt、loop、par 片断应用样式设置\n        if (segType !== \"opt\") {\n            // 背景色\n            g.f(\"polygon.labelBox\").c(_cssText_, _fill_ + \":\" + bgColor + _important_);\n            // 边框色\n            g.f(\"line.loopLine\").c(_cssText_, _stroke_ + \":\" + borderColor + _important_);\n            // 片断标题颜色\n            g.f(\"text.loopText,text.loopText>tspan\").c(_cssText_, _fill_ + \":\" + titleColor + _important_);\n        }\n\n        // 将 alt(alternative)、opt(optional)、loop(loops) 片断文本翻译为其他语言\n        if (segType === _alt_)\n            fragment.t([\n                \"分支\",\n                \"Alt.\"\n            ][V_lang_id]);\n        else if (segType === \"opt\")\n            fragment.t([\n                \"可选\",\n                \"Opt.\"\n            ][V_lang_id]);\n        else if (segType === _loop_)\n            fragment.t([\n                \"循环\",\n                \"Loop.\"\n            ][V_lang_id]);\n        else if (segType === \"par\")\n            fragment.t([\n                \"平行\",\n                \"Par.\"\n            ][V_lang_id]);\n    });\n\n    // 调整片断的标题文本\n    $(seqSelector + \" text.loopText>tspan\").e((index, element) => {\n        // 去掉文本内容前后的中括号\n        let fragmentTitle = $(element);\n        fragmentTitle.p().a(_style_, \"text-anchor:\"  +_start_);\n\n        // 调整文本的位置\n        let label = fragmentTitle.p().p().f(\".labelBox\"),\n            rect = label[0].getBBox();\n        fragmentTitle.a(\"x\", rect.x + rect.width + 10);\n\n        let nextText = fragmentTitle.p().n();\n        if (nextText !== gUndefined && nextText.a(_class_) !== gUndefined && nextText.a(_class_).i(\"loopText\") > -1) {\n            nextText.a(\"x\", rect.x + rect.width + 40);\n        }\n    });\n\n    // 针对 VLOOK 衍生的 Mermaid 的状态机图节点\n    let radius = V_util_getVarVal(_V_R_B_);\n    // 针对 VLOOK 顺序图开始、结束节点、子图\n    $(seqSelector + \" .cluster rect\").e((index, element) => {\n        $(element).a(_rx_, radius)\n            .a(_ry_, radius);\n    });\n}\n\n// ==================== Sup/Sub Magic 模块 ==================== //\n\n/**\n * 初始化\n */\nfunction SupSubMagic_preprocess() {\n    // ---------- 注音旧语法预处理：^[注音]^ ----------\n    // 即将废弃 need to remove\n    // 遍历所有 sup\n    $(\"sup\").e((index, element) => {\n        let _t = $(element),\n            text = _t.t(),\n            result;\n        if ((result = text.m(TextPhonetic_syntaxOld)) != null)\n            TextPhonetic_buildForSup(_t, result);\n    });\n\n    // ---------- 注音新语法预处理：_^注音^_ ----------\n    $(\"em>sup\" + _onlyChild_).e((index, element) => {\n        let _t = $(element),\n            result = [];\n        result.push(_); // 主结构，在此忽略内容\n        result.push(_t.t());\n        TextPhonetic_buildForSup(_t.p(), result);\n    });\n\n    // ---------- 色号旧语法的预处理：~(色号)~ ----------\n    // 即将废弃 need to remove\n    // 遍历引用块、详情内的 sub 下标\n    $(_write_ + \" :is(\" + _blockquote_ + \",\" + _details_ + \")>p>sub\").e((index, element) => {\n        let _t = $(element),\n            text = _t.t(),\n            colorSet;\n        // 颜色标签独占一行的情况下才被视为是对引用块、详情的颜色标识\n        // 否则将作为段落或指定格式的颜色标识，另行处理\n        if (ExtQuote_isValidColorMark(_t)\n            && (colorSet = text.m(Color_syntaxOld)) != null)\n                QuoteColoring_build(_t.p().p(), _t, colorSet);\n    });\n\n    // 遍历段落内的 sub 下标（针对段落或指定格式）\n    $(_write_ + \" sub\").e((index, element) => {\n        let _t = $(element),\n            text = _t.t(),\n            colorSet;\n        if ((colorSet = text.m(Color_syntaxOld)) != null) {\n            // 只处理非独占一行的情况（独占一行的由引用块进行处理）\n            if (text !== _t.p().t())\n                RainbowTextAndCell_build(_t, colorSet);\n        }\n    });\n\n    // ---------- 色号新语法的预处理：_~色号~_ ----------\n    // 引用块、详情的颜色标识\n    $(_write_ + \" :is(\" + _blockquote_ + \",\" + _details_ + \")>p>em\" + _onlyChild_ + \">sub\" + _onlyChild_).e((index, element) => {\n        let _t = $(element),\n            text = _t.t(),\n            colorSet;\n        if ((colorSet = text.m(Color_syntax)) != null) {\n            QuoteColoring_build(_t.p().p().p(), _t.p(), colorSet);\n        }\n    });\n\n    // 文本着色、段落着色\n    $(_write_ + \" em>sub\" + _onlyChild_).e((index, element) => {\n        let _t = $(element),\n            text = _t.t(),\n            colorSet;\n        if ((colorSet = text.m(Color_syntax)) != null) {\n            // 只处理非独占一行的情况（独占一行的由引用块进行处理）\n            if (text !== _t.p().p().t())\n                RainbowTextAndCell_build(_t.p(), colorSet);\n        }\n    });\n\n    // 针对 GitHub Style Alert 移除内嵌的着色样式\n    V_byClass(_mdAlert_).e((index, element) => {\n        let _t = $(element);\n        // 取消内嵌的引用块着色、summary、引用块小标题样式\n        _t.f(\".v-q,\" + _summary_ + \",\" + _strong_ + V_attrCSS(_class_, _title_, \"*\")).e((index, element) => {\n            JQ_removeAttr($(element), _class_);\n        });\n        // 根据浏览器语言更换类型文本\n        let mdAlertText = \".\" + _mdAlert_ + __text_;\n        _t.f(mdAlertText + \"-note\").e((i, e) => {\n            $(e).hm(V_ui_svgIcon2(_icoAlertNote_, 16, 16) + [\"备注\", \"Note\"][V_lang_id]);\n        });\n        _t.f(mdAlertText + __tip_).e((i, e) => {\n            $(e).hm(V_ui_svgIcon2(_icoAlertTip_, 16, 16) + [\"提示\", \"Tip\"][V_lang_id]);\n        });\n        _t.f(mdAlertText + \"-important\").e((i, e) => {\n            $(e).hm(V_ui_svgIcon2(_icoAlertImportant_, 16, 16) + [\"重要的\", \"Important\"][V_lang_id]);\n        });\n        _t.f(mdAlertText + \"-warning\").e((i, e) => {\n            $(e).hm(V_ui_svgIcon2(_icoAlertWarning_, 16, 16) + [\"注意\", \"Warning\"][V_lang_id]);\n        });\n        _t.f(mdAlertText + \"-caution\").e((i, e) => {\n            $(e).hm(V_ui_svgIcon2(_icoAlertCaution_, 16, 16) + [\"警告\", \"Caution\"][V_lang_id]);\n        });\n    });\n}\n\n// ==================== Sup/Sub Magic：文本注音模块 ==================== //\n\n// 新语法：^[symbol]^\nlet TextPhonetic_syntaxOld = /^\\[(\\S+)]$/; // 旧语法\n\n/**\n * 构建「注音」\n * @param target 源对象\n * @param result 正则表达式匹配后的结果数组\n */\nfunction TextPhonetic_buildForSup(target, result) {\n    let symbol = result[1].rA(\"_\", ___),\n        symbolCount = symbol.sp(___).length,\n        targetPrev = target.pr(),\n        prevText = (targetPrev === gUndefined ? _ : targetPrev.t()),\n        wordText;\n\n    // 拉丁内容结尾\n    if (/(.*)[a-z]$/i.test(prevText))\n        wordText = prevText.r(/(.*)(\\b\\w+\\b)/, \"$2\");\n    // 非拉丁内容结尾\n    else\n        wordText = prevText.ss(prevText.length - symbolCount, prevText.length);\n\n    // 生成注音内容\n    let rubyHTML = \"$1<ruby>\" + wordText\n        + \"<rp>(</rp><rt>\" + symbol\n        + \"</rt><rp>)\" + _nbsp_ + \"</rp></ruby>\";\n    targetPrev.hm(targetPrev.hm().r(new RegExp(String.raw`(.*)${wordText}`), rubyHTML));\n\n    // 绑定注音的点击事件\n    targetPrev.f(\"ruby>rt\").uC().ck((event) => {\n        TextPhonetic_translation(wordText, symbol, event);\n    });\n    // 删除预置颜色标识\n    JQ_remove(target);\n}\n\n/**\n * 释义或翻译\n * @param text 被注音的内容\n * @param symbol 注音\n * @param event 事件对象\n */\nfunction TextPhonetic_translation(text, symbol, event) {\n    event.stopPropagation(); // 停止事件冒泡\n\n    // 默认翻译为中文的服务\n    let translator = _httpsPrefix_ + \"www.bing.com/translator/?from=&to=zh-chs&text=\",\n        // translator = _httpsPrefix_ + \"translate.google.cn/?langpair=auto&sl=auto&op=translate&text=\",\n        url = translator + encodeURI(text);\n    // 若 symbol 为日文假名，则跳转至翻译平台翻译 symbol\n    if (/^[\\u3040-\\u30FF]/.test(symbol))\n        url = translator + encodeURI(symbol);\n    // 若 text 为中文，则跳转至汉典，翻译 text\n    else if (/^[\\u4e00-\\u9fa5]/.test(text))\n        url = _httpsPrefix_ + \"www.zdic.net/hans/\" + encodeURI(text);\n\n    window.open(url, text);\n}\n\n// ==================== Sup/Sub Magic：引用块着色模块 ==================== //\n\nlet Quote_defalutColor = \"T1!\",\n    Quote_defalutColor_withoutEm = \"T1\";\n\n/**\n * 构建引用块着色样式\n * @param quote 所属引用块对象\n * @param colorCode 匹配色号标签的对象\n * @param colorSet 正则表达式匹配后的结果数组\n */\nfunction QuoteColoring_build(quote, colorCode, colorSet) {\n    // let quote = colorCode.p().p(),\n    //     colorP = colorCode.p(),\n    let color = Quote_getColor(colorSet[1]), // 颜色标识\n        em = ColorCode_isEm(colorSet) ? \" em\" : _, // 判断是否指定了强调样式\n        tag = V_util_getTagName(quote);\n\n    // <blockquote> 或 <details>\n    if (tag.sW(\"bl\") || tag.sW(\"de\")) {\n        // 删除预置颜色标识\n        JQ_remove(colorCode.p());\n        // 删除原始颜色标识后，若其所在行为空，则同时也删除所在行\n        // if (colorP.t().x().length === 0)\n            // JQ_remove(colorP);\n        JQ_addClass(quote, \"v-q \" + color + em);\n        JQ_addClass(quote.f(\">p\" + _firstChild_ + \">\" + _strong_), _title_ + \"-\" + color + em);\n        JQ_addClass(quote.f(_summary_), _title_ + \"-\" + color + em);\n    }\n}\n\n/**\n * 获得获取对应的颜色标识\n * @param color 文档中指定的预置颜色标识\n * @returns string 返回有效的的颜色值\n */\nfunction Quote_getColor(color) {\n    // 没有指定颜色，则为默认颜色\n    if (color === gUndefined)\n        return Quote_defalutColor;\n    return color.l();\n}\n\n// ==================== Sup/Sub Magic：文本着色模块 ==================== //\n\n/**\n * 构建文本着色与单元格样式\n * @param colorCode 颜色标识对象\n * @param colorSet 正则表达式匹配后的结果数组\n */\nfunction RainbowTextAndCell_build(colorCode, colorSet) {\n    let color = Badge_getColor(colorSet[1]), // 颜色标识\n        tableCellBgMode = ColorCode_isEm(colorSet),\n        solid = color.length < 4, // true - 单色，false - 渐变色\n        gradientColors = [], // 渐变色标识数组\n        renderTarget = colorCode.pr(),\n        wholeRendering = gFalse;\n\n    // 颜色标识为第 1 个子元素时，代表是要对整个段落（或单元格）进行着色\n    if (!tableCellBgMode\n        && renderTarget !== gUndefined && renderTarget.length === 0) {\n            renderTarget = colorCode.p();\n            wholeRendering = gTrue;\n    }\n\n    // 获取目标对象的 HTML 标签名称\n    let tagName = V_util_getTagName(renderTarget);\n\n    // 当颜色标识为渐变色配置时，进行拆分渐变色的预处理\n    if (!solid)\n        gradientColors = V_ui_splitColors(color);\n\n    // 针对整个段落（或单元格）着色模式时\n    // 针对里面的 u 和 mark 标签进行独立处理\n    if (wholeRendering) {\n        __disposeUnderline(renderTarget.f(\"u\"));\n        __disposeMark(renderTarget.f(_mark_));\n    }\n\n    // 文本着色\n    if (!tableCellBgMode) {\n        // mark 标签的处理\n        if (tagName === _mark_) {\n            __disposeMark(renderTarget);\n        }\n        // mark 以外的标签的处理，如：p u strong span 等\n        else {\n            __disposeText(renderTarget);\n            if (tagName === \"u\")\n                __disposeUnderline(renderTarget);\n        }\n    }\n    // 单元格着色\n    else {\n        renderTarget = colorCode.p();\n        tagName = V_util_getTagName(renderTarget);\n\n        if (tagName === \"th\" || tagName === \"td\") {\n            __disposeCell(renderTarget);\n        }\n    }\n\n    // 删除预置颜色标识\n    JQ_remove(colorCode);\n\n    /**\n     * 处理文本着色\n     * @param obj 文本对象\n     */\n    function __disposeText(obj) {\n        if (obj === gUndefined)\n            return;\n\n        // 单色\n        if (solid) {\n            // 针对亮度较高的预置色，选择更深一些的 title 色值\n            let title = ColorTooLight.test(color) ? __title_ : _;\n            obj.c(_color_, V_ui_var(\"--ac-\" + color + title\n                + (color !== \"bk\" ? \"-lg\" : _)));\n        }\n        // 渐变色\n        else {\n            let span = obj.f(_span_);\n            if (span.length === 0) // 无子元素 span 时恢复为 obj\n                span = obj;\n            if (span !== gUndefined) {\n                span.c(_backgroundImage_, _linearGradient_ + \"(90deg,\"\n                    + V_ui_genGradColorCSS(gradientColors, _, \"-lg\") + \")\");\n                span.c(\"background-clip\", _text_);\n                span.c(\"-webkit-background-clip\", _text_);\n                span.c(_color_, \"transparent\");\n            }\n        }\n\n        if (wholeRendering)\n            obj.a(_dataRbWholeText_, V_ui_campColor(color));\n        else\n            obj.a(_dataRbText_, V_ui_campColor(color));\n    }\n\n    /**\n     * 处理下划线着色\n     * @param obj 文本对象\n     */\n    function __disposeUnderline(obj) {\n        if (obj === gUndefined)\n            return;\n\n        // 单色\n        if (solid) {\n            obj.c(_borderColor_, V_ui_var(\"--ac-\" + color\n                + (color === \"bk\" ? _ : \"-lg\")));\n        }\n        // 渐变色\n        else {\n            obj.c(_borderImage_, _linearGradient_ + \"(90deg,\"\n                + V_ui_genGradColorCSS(gradientColors, _, \"-lg\") + \") 0 0 1 0\");\n        }\n    }\n\n    /**\n     * 处理标识着色\n     * @param obj 文本对象\n     */\n    function __disposeMark(obj) {\n        if (obj === gUndefined)\n            return;\n\n        // 单色\n        if (solid) {\n            obj.c(_boxShadow_, \"0 -.9em 0 0 \" + V_ui_var(\"--ac-\" + color + __fade_\n                + (color === \"bk\" ? _ : \"-lg\")) + \" inset\");\n        }\n        // 渐变色\n        else {\n            obj.c(_boxShadow_, _none_);\n            obj.c(_textShadow_, _none_);\n            obj.c(_backgroundImage_, _linearGradient_ + \"(90deg,\"\n                + V_ui_genGradColorCSS(gradientColors, __fade_, \"-lg\") + \")\");\n        }\n    }\n\n    /**\n     * 处理表格单元格着色\n     * @param obj 文本对象\n     */\n    function __disposeCell(obj) {\n        if (obj === gUndefined)\n            return;\n\n        // 单色\n        if (solid) {\n            obj.c(_backgroundColor_, V_ui_var(\"--ac-\" + color + __fade_\n                + (color === \"bk\" ? _ : \"-lg\" )));\n        }\n        // 渐变色\n        else {\n            obj.c(_backgroundImage_, _linearGradient_ + \"(135deg,\"\n                + V_ui_genGradColorCSS(gradientColors, __fade_, \"-lg\") + \")\");\n        }\n        obj.a(_dataRbCellBg_, V_ui_campColor(color));\n    }\n}\n\n// ==================== Code Code 模块 ==================== //\n\nlet ColorCode = \"(r[do]|og|ye|l[am]|g[nyd]|aq|cy|b[unk]|se|vn|p[uk]|[mw]n|ol|t[12])\",\n    Color_syntax = new RegExp(\"^\\(\" + ColorCode + \"+)(!)?\\$\", \"i\"),\n    Color_syntaxOld = new RegExp(\"^\\\\((\" + ColorCode + \"+)(!)?\\\\)$\", \"i\"),\n    Color_syntaxByClass = new RegExp(\"\\\\s(\" + ColorCode + \"+)\\\\s(em)?\", \"i\"),\n    // RainbowColor_syntax = /^\\(((r[do]|og|ye|l[am]|g[nyd]|aq|cy|b[unk]|se|vn|p[uk]|[mw]n|ol|t[12])+)(!)?\\)$/i,\n    ColorTooLight = /ye|lm|aq|la|pk|gd|cy/i; // 属于亮度较高，用于文字显示时须要降低亮度的颜色标识\n\n/**\n * 初始化标签、徽章、刮刮卡的默认颜色标识\n */\nfunction ColorCode_init() {\n    // 注：引用块着色的初始化在 ExtQuote 中进行\n    let dcTag = V_util_getParamVal(\"tag\"),\n        dcBadge = V_util_getParamVal(\"badge\"),\n        dcCoating = V_util_getParamVal(\"coating\");\n    if (dcTag !== gUndefined)\n        Tag_defalutColor = dcTag;\n    if (dcBadge !== gUndefined)\n        Badge_defalutColor = dcBadge;\n    if (dcCoating !== gUndefined)\n        Coating_defalutColor = dcCoating;\n}\n\n/**\n * （旧色号语法）处理标签、徽章、引用块、刮刮卡指定的颜色\n * need to remove\n * @param target 颜色标识对象\n * @return Array[] 正则表达式匹配的颜色标识数组\n */\nfunction ColorCode_parseOld(target) {\n    let tagName = V_util_getTagName(target),\n        newColors = null;\n    // <sub> 标签\n    if (tagName === _sub_\n        && (newColors = target.t().m(Color_syntaxOld)) != null) {\n            JQ_remove(target);\n    }\n    return newColors;\n}\n\n/**\n * 处理标签、徽章、引用块、刮刮卡指定的颜色\n * @param target 颜色标识对象\n * @return Array[] 正则表达式匹配的颜色标识数组\n */\nfunction ColorCode_parse(target) {\n    let tagName = V_util_getTagName(target),\n        newColors = null;\n    // <sub> 标签\n    if (tagName === \"em\"\n        && target.ch(\"sub\" + _onlyChild_).length > 0\n        && (newColors = target.t().m(Color_syntax)) != null) {\n            JQ_remove(target);\n    }\n    return newColors;\n}\n\n/**\n * 判断是否为颜色标识的强调风格\n * @param colorSet 颜色标识的正则匹配结果集\n * @return boolean 是否强调\n */\nfunction ColorCode_isEm(colorSet) {\n    let em = colorSet[colorSet.length - 1];\n    return (em !== gUndefined && em === \"!\");\n}\n\n/**\n * 生成预置颜色标识的 Markdown 格式\n * @param color 颜色标识\n * @param em 强调色标识\n * @param defaultColor 对应场景的默认颜色标识\n */\nfunction ColorCode_genAsMarkdown(color, em, defaultColor) {\n    return (color === defaultColor\n        ? _\n        : \"_~\" + V_ui_campColor(color) + em + \"~_\");\n}\n\n// ==================== Code Magic 模块 ==================== //\n\n/**\n * 初始化\n */\nfunction CodeMagic_init() {\n    // // 初始化标签、徽章、刮刮卡的默认颜色标识\n    // // 注：引用块着色的初始化在 ExtQuote 中进行\n    // let dcTag = V_util_getParamVal(\"tag\"),\n    //     dcBadge = V_util_getParamVal(\"badge\"),\n    //     dcCoating = V_util_getParamVal(\"coating\");\n    // if (dcTag !== gUndefined)\n    //     Tag_defalutColor = dcTag;\n    // if (dcBadge !== gUndefined)\n    //     Badge_defalutColor = dcBadge;\n    // if (dcCoating !== gUndefined)\n    //     Coating_defalutColor = dcCoating;\n\n    // 遍历所有 不是 em>code 的范围（包标签、徽章的旧语法）\n    let stdCount = 0;\n    $(V_not(\"em\") + V_not(_strong_) + \">\" + _code_).e((index, element) => {\n        let _t = $(element),\n            codeText = _t.t(),\n            result;\n        // // 跳过 em>code\n        // if (V_util_getTagName(_t.p()) === \"em\")\n        //     return;\n        // 先处理：徽章格式\n        if ((result = codeText.m(Badge_syntax)) != null)\n            Badge_build(_t, result);\n        // 后处理：标签格式\n        else if ((result = codeText.m(Tag_syntaxOld)) != null)\n            Tag_build(_t, result);\n        // 刮刮卡格式\n        else if ((result = codeText.m(Coating_syntax)) != null)\n            Coating_build(_t, result);\n        // 文字注音格式（代码式语法）\n        else if ((result = codeText.m(TextPhonetic_syntaxForCode)) != null)\n            TextPhonetic_buildForCode(_t, result);\n        // 普通代码增加样式标识，以用于深色模式时的识别\n        else {\n            stdCount++;\n            JQ_addClass(_t, _vStdCode_ + \" id-\" + stdCount);\n            _t.uC().ck((event) => {\n                if (!_t.is(ContentAssistor_lastTarget))\n                    ContentAssistor_toggleCopyMode(gFalse);\n\n                let content = _t.t();\n                if (ContentAssistor_copyAsMarkdown)\n                    content = \"`\" + content + \"`\";\n                ContentAssistor_lastTarget = _t;\n                Copyer_action(_t, content, gTrue);\n            });\n        }\n    });\n\n    // 处理刮刮卡（新语法）\n    $(\"em>\" + _span_ + _firstChild_ + \"+\" + _strong_ + _lastChild_ + \",em>\" + _strong_ + _onlyChild_).e((index, element) => {\n        let _t = $(element),\n            result = [],\n            tip = _t.pr();\n\n        // 解包 em\n        _t.p().wrap(V_ui_span(_, _, _));\n        // _t.p().wrap(\"<span></span>\");\n        _t.unwrap();\n\n        // 构建兼容旧语法的数据结构\n        result.push(_); // 主结构，在此忽略内容\n        result.push(tip.length === 0 ? _ : tip.t()); // 提示的内容\n        result.push(_t.t()); // 隐藏的内容\n\n        // 生成刮刮卡\n        Coating_build(_t.p(), result);\n    });\n\n    // 先处理：徽章（新语法）\n    $(\"em>\" + _span_ + _firstChild_ + \"+\" + _code_ + \",em>\" + _code_ + _firstChild_ + \"+\" + _span_ + _lastChild_).e((index, element) => {\n        let _t = $(element),\n            value2 = _t.n(),\n            result = [];\n\n        // 解包 em\n        _t.p().wrap(\"<\" + _code_ + \"></\" + _code_ + \">\");\n        _t.unwrap();\n\n        let bName = _t.pr().t(),\n            bValue = _t.t(),\n            bValue2 = _;\n        if (V_util_getTagName(_t) === _span_) {\n            bValue2 = bValue;\n            bValue = bName;\n            bName = _;\n        }\n        else {\n            if (value2.length > 0)\n                bValue2 = value2.t();\n        }\n        // ERROR(`'${bName}', '${bValue}' ,'${bValue2}'`);\n\n        // 构建兼容旧语法的数据结构\n        result.push(_); // 主结构，在此忽略内容\n        // to-do: 未处理无标题的情况\n        // result.push(_t.pr().t()); // 徽章标题\n        // result.push(_t.t()); // 徽章内容 1\n        // if (value2.length > 0) {\n        //     result.push(_);\n        //     result.push(value2.t());\n        // }\n        result.push(bName); // 徽章标题\n        result.push(bValue); // 徽章内容 1\n        // 徽章内容 2 的处理\n        if (bValue2.length > 0) {\n            result.push(_);\n            result.push(bValue2);\n        }\n\n        // 生成徽章\n        Badge_build(_t.p(), result);\n    });\n\n    // 后处理：标签（新语法）\n    $(\"em>\" + _code_ + _onlyChild_).e((index, element) => {\n        let _t = $(element),\n            codeText = _t.t(),\n            result;\n\n        // 解包 em\n        _t.unwrap();\n        // 解析处理\n        if ((result = codeText.m(Tag_syntax)) != null)\n            Tag_build(_t, result);\n    });\n}\n\n// ==================== Code Magic：标签模块 ==================== //\n\n// 语法：#tag#(color)\nlet Tag_count = 0,\n    Tag_syntax = /^(.+)$/i,\n    Tag_syntaxOld = /^#(.+)#$/i,\n    Tag_defalutColor = \"t2-a\"; // theme1\n\n/**\n * 构建单标签样式\n * @param target 目标 code 对象\n * @param result 正则表达式匹配后的结果数组\n */\nfunction Tag_build(target, result) {\n    let tag = result[1],\n        color = Tag_getColor(),\n        em = _; // 强调样式的标识\n\n    Tag_count++;\n\n    // 颜色标识新语法处理\n    // 新色号语法：_~色号~_\n    let colorSet = ColorCode_parse(target.n());\n    // 即将废弃 need to removed\n    // 旧色号语法：~(色号)~\n    if (colorSet == null)\n       colorSet = ColorCode_parseOld(target.n());\n    if (colorSet != null) {\n        color = Tag_getColor(colorSet[1]);\n        em = ColorCode_isEm(colorSet) ? \" em\" : _;\n    }\n\n    // 过滤语法内容\n    target.t(tag);\n    let solid = color.length < 4,\n        gradientColors = [], // 渐变色标识数组\n        id = \" id-\" + Tag_count;\n    if (!solid) { // 渐变\n        gradientColors = V_ui_splitColors(color);\n        target.a(_class_, _vTag_ +___+ gradientColors[0] + em + id);\n        target.c(_cssText_, _backgroundImage_ + \":\" + _linearGradient_ + \"(90deg,\"\n            + V_ui_genGradColorCSS(gradientColors, _, \"-lg\") + \")\" + _important_);\n    }\n    else {\n        target.a(_class_, _vTag_ +___+ color + em + id);\n    }\n\n    // 复制标签内容\n    target.a(_dataAsMarkdown_, __asMarkdown());\n    target.a(_value_, target.t());\n    target.uC().ck((event) => {\n        let _t = $(event.currentTarget),\n            content = _t.a(_value_);\n\n        if (!_t.is(ContentAssistor_lastTarget))\n            ContentAssistor_toggleCopyMode(gFalse);\n\n        if (ContentAssistor_copyAsMarkdown)\n            content = target.a(_dataAsMarkdown_);//__asMarkdown();\n        ContentAssistor_lastTarget = _t;\n        Copyer_action(_t, content, gTrue);\n    });\n\n    /**\n     * 生成标签的 Markdown 格式\n     */\n    function __asMarkdown() {\n        // 用反引号包裹\n        let content = \"*\" + V_util_wrapBackquote(tag) + \"*\";\n        // 添加预置色号\n        if (color !== Badge_defalutColor) {\n            content += ColorCode_genAsMarkdown(color,\n                (em.length > 0 ? \"!\" : _),\n                Tag_defalutColor);\n        }\n        return content;\n    }\n}\n\n/**\n * 获得获取对应的颜色标识\n * @param color 文档中指定的预置颜色标识\n * @returns string 返回有效的的颜色值\n */\nfunction Tag_getColor(color = gUndefined) {\n    // 没有指定颜色，则为默认颜色\n    if (color === gUndefined)\n        return Tag_defalutColor;\n    return color.l();\n}\n\n// ==================== Code Magic：徽章模块 ==================== //\n\n// 语法：#badge_name|badge_value|badge_value2#\nlet Badge_count = 0,\n    Badge_syntax = /^#([^|]*)\\|([^|]+)(\\|([^|]+))?#$/i, // 徽章\n    Badge_syntax_variable = /^(.*)({{.+}}|%.+%|\\${.+}|#{.+}|\\$.+\\$|var\\(.+\\))(.*)$/i, // 变量语法\n    Badge_defalutColor = \"t1\";\n\n/**\n * 构建徽章样式\n * @param target 目标 code 对象\n * @param result 正则表达式匹配后的结果数组\n */\nfunction Badge_build(target, result) {\n    let color = Badge_getColor(gUndefined, target), // 颜色标识\n        em = _, // 强调样式的标识\n        badgeName = result[1],\n        badgeValue = result[2],\n        badgeValue2 = (result.length > 4) ? result[4] : gUndefined,\n        varStr;\n\n    Badge_count++;\n\n    // 颜色标识新语法处理\n    // 新色号语法：_~色号~_\n    let colorSet = ColorCode_parse(target.n());\n    // 即将废弃 need to removed\n    // 旧色号语法：~(色号)~\n    if (colorSet == null)\n       colorSet = ColorCode_parseOld(target.n());\n    if (colorSet != null) {\n        color = Badge_getColor(colorSet[1], target);\n        em = ColorCode_isEm(colorSet) ? \" em\" : _;\n    }\n\n    // ----- 徽章标题\n    target.wrap(\"<\" + _code_ +___+ V_attr(_class_, _vBadgeName_ +___+ color + \" id-\" + Badge_count) + \"></\" + _code_ + \">\");\n    // 复制徽章标题内容\n    let badge = V_byClass(_vBadgeName_ + \".id-\" + Badge_count);\n    if (badgeName.length > 0)\n        badge.pp(V_ui_label(_, _, badgeName));\n    // 点击事件\n    badge.uC().ck((event) => {\n        let _t = $(event.currentTarget),\n            content = _t.a(_value_);\n\n        // 激活复制为 Markdown 的判断\n        if (!_t.is(ContentAssistor_lastTarget))\n            ContentAssistor_toggleCopyMode(gFalse);\n\n        if (ContentAssistor_copyAsMarkdown)\n            content = _t.a(_dataAsMarkdown_);//__asMarkdown();\n        ContentAssistor_lastTarget = _t;\n        Copyer_action(_t, content, gTrue);\n    });\n\n    // ----- 徽章内容\n    JQ_addClass(target, _vBadgeValue_ + \" id-\" + Badge_count);\n    // 处理含变量的情况\n    if ((varStr = badgeValue.m(Badge_syntax_variable)) != null)\n        badgeValue = badgeValue.r(varStr[2], V_ui_span(\"var \" + color, _, varStr[2]));\n    target.hm(badgeValue);\n    // 指定的颜色标识带强调样式\n    if (em.length > 0)\n        JQ_addClass(target, color);\n\n    // 复制徽章内容\n    target.uC().ck((event) => {\n        let _t = $(event.currentTarget),\n            value2 = _t.n();\n        Copyer_action(_t, _t.t()\n            + (value2.length > 0 ? ___+ value2.t() : _), // 如果有 value2 的处理\n            gFalse);\n    });\n\n    // ----- 徽章内容2\n    if (badgeValue2 !== gUndefined) {\n        target.af(V_ui_span(\"v-badge-value2 id-\" + Badge_count, _, badgeValue2));\n        JQ_addClass(target.p(), _hastwo_);\n        JQ_addClass(target, _hastwo_);\n\n        target.n().uC().ck((event) => {\n            let _t = $(event.currentTarget);\n            Copyer_action(_t, _t.t(), gFalse);\n        });\n    }\n\n    // 生成 asMarkdown 内容，用于复制\n    badge.a(_dataAsMarkdown_, __asMarkdown());\n    // 生成普通内容，用于复制\n    let nodeCnt = 0,\n        plainContent = _;\n    badge.contents().e((index, element) => {\n        nodeCnt++;\n        plainContent += ((nodeCnt > 1) ? ___ : _) + $(element).t();\n    });\n    badge.a(_value_, plainContent);\n\n    /**\n     * 生成徽章的 Markdown 格式\n     */\n    function __asMarkdown() {\n        // let content = \"#\" + badgeName\n        //     + \"|\" + badgeValue\n        //     + ((badgeValue2 !== gUndefined) ? \"|\" + badgeValue2 : _)\n        //     + \"#\";\n        let content = \"*\" + badgeName\n            + V_util_wrapBackquote(badgeValue)\n            + ((badgeValue2 !== gUndefined) ? badgeValue2 : _) + \"*\";\n        // 添加预置色号\n        if (color !== Badge_defalutColor) {\n            content += ColorCode_genAsMarkdown(color,\n                (em.length > 0 ? \"!\" : _),\n                Badge_defalutColor);\n        }\n        return content;\n    }\n}\n\n/**\n * 获得获取对应的颜色标识\n * @param color 文档中指定的预置颜色标识\n * @param target 目标 code 对象\n * @returns string 返回有效的的颜色值\n */\nfunction Badge_getColor(color, target = gUndefined) {\n    // 没有指定颜色，则为默认颜色\n    if (color === gUndefined) {\n        // 针对封面内的徽章（未指定颜色标识）的处理\n        if (target !== gUndefined) {\n            let p = target.p(),\n                tagName = (p !== gUndefined ? V_util_getTagName(p) : gUndefined);\n            if (tagName !== gUndefined\n                && tagName.l() === _h6_ && p.p().a(_id_) === \"write\" )\n                    return \"t2\";\n        }\n        return Badge_defalutColor;\n    }\n    return color.l();\n}\n\n// ==================== 进度条 ==================== //\n\nlet Progressbar_count = 0,\n    Progressbar_defalutColor = \"t1\";\n\n/**\n * 进度条初始化\n */\nfunction Progressbar_init() {\n    // 处理进度条\n    $(_strong_ + \">\" + _mark_ + _onlyChild_).e((index, element) => {\n        let _t = $(element).p(),\n            value = _t.t();\n\n        // 指定数值时的处理\n        if (value.isNumber()) {\n            // 解包 mark\n            _t.hm(V_ui_label(_, _, _) + value);\n            Progressbar_build(_t, value);\n        }\n        // 指定自动计算时的处理\n        else if (value === \"?\" || value === \"？\") {\n            let taskList = _t.p().n();\n            if (taskList.length === 0)\n                return;\n\n            let count = taskList.f(\"li:not(:has(ul))\").length,\n                doneCount = taskList.f(\"li:not(:has(ul)).task-list-done\").length,\n                calcValue = (doneCount / count * 100).toFixed(1);\n\n            if (calcValue >= 100)\n                calcValue = 100;\n            // 解包 mark\n            _t.hm(V_ui_label(_, _, _) + calcValue);\n            Progressbar_build(_t, calcValue);\n        }\n    });\n}\n\n/**\n * 构建单标签样式\n * @param target 目标 code 对象\n * @param value 进度值\n */\nfunction Progressbar_build(target, value) {\n    // 赋于样式，后续才能获取正常渲染后尺寸信息\n    Progressbar_count++;\n    JQ_addClass(target, \"v-pgbar id-\" + Progressbar_count);\n\n    let label = target.ch(_label_),\n        width = label.width(),\n        outlineWidth = parseInt(label.c(_outlineWidth_)),\n        rbTextSet = [\"og\", \"gn\", \"cy\", \"bu\", \"vn\", \"pu\"],\n        rbText = target.a(_dataRbText_),\n        autoColor = (rbText === gUndefined),\n        color = _,\n        colorAlt = _,\n        // outlineColor = _,\n        outlineStyle = \"solid\";\n\n    // 根据进度值自动适配颜色\n    if (autoColor) {\n        if (value < 0)\n            rbText = \"rd\";\n        else if (value > 100)\n            rbText = \"ro\";\n        else if (value === 0)\n            rbText = \"gy\";\n        else\n            rbText = rbTextSet[Math.floor(value / 20)];\n    }\n    // 指定固定颜色\n    else {\n        rbText = Progressbar_getColor(rbText);\n    }\n\n    color = \"var(--ac-\" + rbText + \")\";\n    colorAlt = \"var(--ac-\" + rbText + \"-a-lg)\";\n    // outlineColor = color;\n\n    if (autoColor)\n        target.c(_color_, color);\n\n    let overValue = value - 100;\n    // 大于 100% 的处理\n    if (overValue > 0) {\n        let overWidth = overValue / 100 * width;\n        // 渲染超出部分\n        label.c(_boxShadow_, (overWidth + outlineWidth) + \"px 0 0 0 \" + color);\n        label.c(_marginRight_, overWidth + 5);\n        // color = colorAlt;\n    }\n    // 小于 0% 的处理\n    else if (value < 0) {\n        let overWidth = value / 100 * width;\n        // 渲染超出部分\n        label.c(_boxShadow_, (overWidth + + outlineWidth) + \"px 0 0 0 \" + color);\n        label.c(_marginLeft_, Math.abs(overWidth));\n        color = colorAlt;\n        outlineStyle = \"dashed\";\n    }\n\n    // 渲染正常部分\n    value = (value > 100) ? 100 : (value < 0 ? 0 : value);\n    label.c(_background_, `${_linearGradient_}(90deg, ${color} ${value}%, var(--d-bc) ${value}%, var(--d-bc) 100%)`);\n    // label.c(_outline_, `1px ${outlineStyle} ${outlineColor}`);\n    label.c(_outlineStyle_, outlineStyle);\n    // label.c(_borderColor_, color);\n}\n\n/**\n * 获得获取对应的颜色标识\n * @param color 文档中指定的预置颜色标识\n * @returns string 返回有效的的颜色值\n */\nfunction Progressbar_getColor(color) {\n    // 没有指定颜色，则为默认颜色\n    if (color === gUndefined)\n        return Progressbar_defalutColor;\n    return color.l();\n}\n\n// ==================== Code Magic：刮刮卡模块 ==================== //\n\nlet coatingCount = 0,\n    Coating_syntax = /^\\/(.*?)\\|(.+)\\/$/i, // 语法：/tips|text/\n    Coating_defalutColor = \"gy\";\n\n/**\n * 构建「刮刮卡」\n * @param target 源对象\n * @param result 正则表达式匹配后的结果数组\n */\nfunction Coating_build(target, result) {\n    let tip = \"••••\",\n        hiddenText = result[2],\n        color = Coating_getColor(gUndefined);\n\n    // 颜色标识新语法处理\n    // 新色号语法：_~色号~_\n    let colorSet = ColorCode_parse(target.n());\n    // 即将废弃 need to removed\n    // 旧色号语法：~(色号)~\n    if (colorSet == null)\n       colorSet = ColorCode_parseOld(target.n());\n    if (colorSet != null)\n        color = Coating_getColor(colorSet[1]);\n    color = V_ui_var(\"--ac-\" + color);// + \"-lg\");\n\n    // 自定义提示信息\n    if (result[1] !== gUndefined && result[1] !== _)\n        tip = result[1];\n\n    // 初始化「刮刮卡」数据\n    coatingCount++;\n    JQ_addClass(target, _vCoating_ + \" id-\" + coatingCount);\n    target.a(_dataCoatingTip_, tip);\n    target.a(_dataCoatingHidden_, hiddenText);\n    target.a(_dataCoatingShowed_, _false_);\n    // target.a(_title_, [\n    //     \"点击查看有效的原始内容\",\n    //     \"Click to view valid original content\"\n    //     ][V_lang_id]);\n    target.t(tip);\n    target.c(_background_, __genCoatingBg(tip.length, color))\n        .c(_borderColor_, color);\n\n    // 「刮刮卡」的点击事件\n    target.uC().ck((event) => {\n        Coating_toggle($(event.currentTarget), event);\n    });\n\n    /**\n     * 根据提示信息字数生成条纹背景\n     * @param charCount 提示信息字数\n     * @param color 条纹背景色\n     * @returns string 生成 CSS 规范的背景\n     */\n    function __genCoatingBg(charCount, color) {\n        let count = 16,\n            result = _linearGradient_ + \"(135deg,\";\n        // 根据字数调整条纹数量\n        if (charCount <= 8)\n            count = 4;\n        else if (charCount <= 12)\n            count = 8;\n        else if (charCount <= 20)\n            count = 10;\n        // 计算每个条纹的步长\n        let step = 100 / count;\n        // 自动生成条纹背景\n        for (let i = 0; i < count; i++) {\n            let start = i * step,\n                end = start + step,\n                c = (i % 2 === 0) ? color : _varDFC_;\n            result += c +___+ start + \"%,\" + c +___+ end + \"%\"; // 分段渐变\n            result += (i < count - 1) ? \",\" : \")\";\n        }\n        return result;\n    }\n}\n\n/**\n * 获得获取对应的颜色标识\n * @param color 文档中指定的预置颜色标识\n * @returns string 返回有效的的颜色值\n */\nfunction Coating_getColor(color) {\n    // 没有指定颜色，则为默认颜色\n    if (color === gUndefined)\n        return Coating_defalutColor;\n    return color.l();\n}\n\n/**\n * 显示 / 隐藏「刮刮卡」的内容\n * @param target 刮刮卡对象\n * @param event 事件对象\n */\nfunction Coating_toggle(target, event) {\n    // 如果有拖选的文本，则跳过处理\n    if (__getSelectedText() !== _)\n        return;\n\n    if (target.a(_dataCoatingShowed_).sW(\"f\")) {\n        event.stopPropagation(); // 停止事件冒泡\n        Coating_show(target);\n    }\n    else {\n        Coating_hide(target);\n    }\n\n    // 获得当前页面拖选的文本\n    function __getSelectedText() {\n        if (window.getSelection) {\n            return window.getSelection().toString();\n        } else if (document.selection && document.selection.type !== \"Control\") {\n            return document.selection.createRange().text;\n        }\n        return _;\n    }\n}\n\n/**\n * 显示「刮刮卡」的内容\n * @param target 刮刮卡对象\n */\nfunction Coating_show(target) {\n    // let tmp = target.t();\n    JQ_addClass(target, _opened_);\n    // target.c(_color_, target.c(_borderColor_));\n    // 显示原始信息\n    target.t(target.a(_dataCoatingHidden_));\n    // 「刮刮卡」自定义数据\n    // target.a(_dataCoatingHidden_, tmp);\n    target.a(_dataCoatingShowed_, _true_)\n}\n\n/**\n * 隐藏「刮刮卡」的内容\n * @param target 刮刮卡对象\n */\nfunction Coating_hide(target) {\n    // let tmp = target.t();\n    JQ_removeClass(target, _opened_);\n    // target.c(_color_, _varDBc_);\n    // 显示提示信息\n    target.t(target.a(_dataCoatingTip_));\n    // 「刮刮卡」自定义数据\n    // target.a(_dataCoatingHidden_, tmp);\n    target.a(_dataCoatingShowed_, _false_);\n}\n\n// ==================== Code Magic：文本注音模块 ==================== //\n\n// 旧语法：{text}(symbol)\nlet TextPhonetic_syntaxForCode = /^{(.+)}\\((.+)\\)$/;\n\n/**\n * 构建「注音」（代码式语法）\n * @param target 源对象\n * @param result 正则表达式匹配后的结果数组\n */\nfunction TextPhonetic_buildForCode(target, result) {\n    let text = result[1],\n        symbol = result[2];\n    // 生成注音内容\n    target.af(\"<ruby>\" + text\n        + \"<rp>(</rp><rt>\" + symbol\n        + \"</rt><rp>)\" + _nbsp_ + \"</rp></ruby>\");\n    // 绑定注音的点击事件\n    target.n().ch(\"rt\").uC().ck((event) => {\n        TextPhonetic_translation(text, symbol, event);\n    });\n    // 删除预置颜色标识\n    JQ_remove(target);\n}\n\n// ==================== VLOOK UI 模块 ==================== //\n\n/**\n * 加载欢迎页资源\n */\nfunction VLOOKui_loadWelcomePage() {\n    let title = V_util_getDocTitle(),\n        date = V_util_getMetaByName(\"date\"),\n        author = V_util_getMetaByName(\"author\"),\n        defalutContent = (title !== gUndefined ? V_ui_div(_, _, title) : _)\n            + (date !== gUndefined ? V_ui_div(_, \"v-date\", \"( \" + date + \" )\") : _)\n            + (author !== gUndefined ? V_ui_div(_, \"v-author\", author) : _),\n        metaContent = V_util_getMetaByName(_vlook__ + \"welcome\");\n\n    // 无指定欢迎页内容，则使用默认内容\n    if (metaContent === gUndefined)\n        metaContent = defalutContent;\n    metaContent += _br_ + _br_;\n    // --------------------------------------------------\n    // 欢迎页\n    return V_ui_div(_, \"v-welcome-page\",\n            // 文档专属图标\n            V_ui_div(_, _vDocLog_ + _light_)\n            + V_ui_div(_, _vDocLog_ + _dark_)\n            // 欢迎信息\n            + V_ui_div(_, _vTips_, metaContent.x())\n            // 文档加载进度及进入按钮\n            + V_ui_div(_, _vLoading_, \"Loading...\")\n        );\n    // return ui;\n}\n\n/**\n * 加载图标集资源\n */\nfunction VLOOKui_loadIconSet() {\n    let ui = '<svg style=\"display: none;\">',\n        tagPathD = '<path d=\"',\n        fillNone = '\" fill=\"none\"/>',\n        tagRectX = '<rect x=\"',\n        tagRectTransformRotate = '<rect transform=\"rotate(',\n        widthHeightRx = '\" width=\"2\" height=\"4\" rx=\"1\"/>';\n\n        // SVG 图标集：图标|VLOOK LOGO\n    ui += V_ui_symbol(_icoVLOOK_,\n            tagPathD + 'M17.15 0c2.382 0 3.245.248 4.116.714a4.856 4.856 0 0 1 2.02 2.02c.466.87.714 1.734.714 4.116v10.3c0 2.382-.248 3.245-.714 4.116a4.856 4.856 0 0 1-2.02 2.02c-.87.466-1.734.714-4.116.714H6.85c-2.382 0-3.245-.248-4.116-.714a4.856 4.856 0 0 1-2.02-2.02C.248 20.396 0 19.532 0 17.15V6.85c0-2.382.248-3.245.714-4.116a4.856 4.856 0 0 1 2.02-2.02C3.604.248 4.468 0 6.85 0h10.3zm-4.935 16.976a.26.26 0 0 0-.334 0l-.956.795a.26.26 0 0 0-.05.345l.956 1.432a.26.26 0 0 0 .434 0l.956-1.432a.26.26 0 0 0-.05-.345zM7.27 9.292a4.34 4.34 0 0 0-4.343 4.336 4.34 4.34 0 0 0 4.343 4.336 4.34 4.34 0 0 0 4.343-4.336A4.34 4.34 0 0 0 7.27 9.292zm9.554 0a4.34 4.34 0 0 0-4.343 4.336 4.34 4.34 0 0 0 4.343 4.336 4.34 4.34 0 0 0 4.343-4.336 4.34 4.34 0 0 0-4.343-4.336zm-9.554 1.3a3.038 3.038 0 0 1 3.04 3.036 3.038 3.038 0 0 1-3.04 3.035 3.038 3.038 0 0 1-3.04-3.035 3.038 3.038 0 0 1 3.04-3.035zm9.554 0a3.038 3.038 0 0 1 3.04 3.036 3.038 3.038 0 0 1-3.04 3.035 3.038 3.038 0 0 1-3.04-3.035 3.038 3.038 0 0 1 3.04-3.035zm2.883-5.174a.652.652 0 0 0-.853-.32l-.013.005-6.795 2.83-6.793-2.83-.014-.006a.65.65 0 1 0-.537 1.185l7.035 2.931.014.006c.097.043.2.06.299.055a.649.649 0 0 0 .293-.055l.014-.006 7.035-2.93.084-.048a.65.65 0 0 0 .23-.817z\" fill=\"#FFF\"/>')\n        // SVG 图标集：图标|导航中心\n        + V_ui_symbol(_icoNavCenter_,\n            tagPathD + 'M7.087.453a.82.82 0 0 1 1.1-.366L13 2.493V17.2a.8.8 0 0 1-1.158.716L7 15.493V.82a.82.82 0 0 1 .087-.367zm12.755.797a1.5 1.5 0 0 1 .158.67v11.72a3 3 0 0 1-1.658 2.683l-3.184 1.592A.8.8 0 0 1 14 17.199V2.493L17.83.58a1.5 1.5 0 0 1 2.012.67zM5.913.453A.82.82 0 0 1 6 .82v14.673l-3.83 1.915A1.5 1.5 0 0 1 0 16.066V4.348a3 3 0 0 1 1.658-2.684L4.813.087a.82.82 0 0 1 1.1.366zM18.99 1.7a.5.5 0 0 0-.668-.23L15.61 2.79a.5.5 0 0 0-.046.874l2.71 1.693a.5.5 0 0 0 .765-.424V1.918a.5.5 0 0 0-.05-.219z\"/>')\n        // SVG 图标集：图标|导航中心分段控制|目录索引\n        + V_ui_symbol(_icoTocTabCatalog_,\n            tagPathD + 'M0 0h16v16H0z' + fillNone\n            + tagPathD + 'M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zm0 1H3a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zm0 8a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2h6zm-9 0a1 1 0 0 1 0 2H3a1 1 0 0 1 0-2h1zm9-3a1 1 0 0 1 0 2H7a1 1 0 1 1 0-2h6zM4 7a1 1 0 1 1 0 2H3a1 1 0 1 1 0-2h1zm9-3a1 1 0 0 1 0 2H7a1 1 0 1 1 0-2h6zM4 4a1 1 0 1 1 0 2H3a1 1 0 1 1 0-2h1z\"/>')\n        + V_ui_symbol(_icoTocTabCatalog_ + __checked_,\n            tagPathD + 'M0 0h16v16H0z' + fillNone\n            + tagPathD + 'M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zm0 10H7a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2zm-9 0H3a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2zm9-4H7a1 1 0 1 0 0 2h6a1 1 0 0 0 0-2zM4 7H3a1 1 0 1 0 0 2h1a1 1 0 1 0 0-2zm9-4H7a1 1 0 1 0 0 2h6a1 1 0 0 0 0-2zM4 3H3a1 1 0 1 0 0 2h1a1 1 0 1 0 0-2z\"/>')\n        // SVG 图标集：图标|导航中心分段控制|插图索引\n        + V_ui_symbol(_icoTocTabFigure_,\n            tagPathD + 'M0 0h16v16H0z' + fillNone\n            + tagPathD + 'M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zm0 1H3a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zM5.823 7.22a1 1 0 0 1 .288.252l1.821 2.343a1 1 0 0 0 1.34.221l1.567-1.034a1 1 0 0 1 1.331.21l1.188 1.483a.8.8 0 0 1-.624 1.3H3.288a.8.8 0 0 1-.692-1.201l1.86-3.21a1 1 0 0 1 1.367-.364zM10 4a2 2 0 1 1 0 4 2 2 0 0 1 0-4z\"/>')\n        + V_ui_symbol(_icoTocTabFigure_ + __checked_,\n            tagPathD + 'M0 0h16v16H0z' + fillNone\n            + tagPathD + 'M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zM5.823 7.22a1 1 0 0 0-1.367.364l-1.86 3.21a.8.8 0 0 0 .692 1.201h9.446a.8.8 0 0 0 .624-1.3L12.17 9.212a1 1 0 0 0-1.331-.21l-1.567 1.034a1 1 0 0 1-1.34-.221L6.111 7.472a1 1 0 0 0-.288-.252zM10 4a2 2 0 1 0 0 4 2 2 0 0 0 0-4z\"/>')\n        // SVG 图标集：图标|导航中心分段控制|表格索引\n        + V_ui_symbol(_icoTocTabTable_,\n            tagPathD + 'M0 0h16v16H0z' + fillNone\n            + tagPathD + 'M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zM5 11H1v1a2 2 0 0 0 2 2h2v-3zm5 0H6v3h4v-3zm5 0h-4v3h2a2 2 0 0 0 2-2v-1zM5 6H1v4h4V6zm5 0H6v4h4V6zm5 0h-4v4h4V6zM5 2H3a2 2 0 0 0-2 2v1h4V2zm5 0H6v3h4V2zm3 0h-2v3h4V4a2 2 0 0 0-2-2z\"/>')\n        + V_ui_symbol(_icoTocTabTable_ + __checked_,\n            tagPathD + 'M0 0h16v16H0z' + fillNone\n            + tagPathD + 'M16 11v1a3 3 0 0 1-3 3h-1v-4h4zM4 11v4H3a3 3 0 0 1-3-3v-1h4zm7 0v4H5v-4h6zm0-5v4H5V6h6zm5 0v4h-4V6h4zm-5-5v4H5V1h6zm2 0a3 3 0 0 1 3 3v1h-4V1h1zM4 1v4H0V4a3 3 0 0 1 3-3h1zM0 6h4v4H0V6z\"/>')\n        // SVG 图标集：图标|导航中心分段控制|多媒体索引\n        + V_ui_symbol(_icoTocTabMedia_,\n            tagPathD + 'M0 0h16v16H0z' + fillNone\n            + tagPathD + 'M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zm-1 1.001H4v12h8v-12zM3 11H1v1a2 2 0 0 0 2 2v-3zm12 0h-2v3l.15-.005A2 2 0 0 0 15 12v-1zM3.002 6h-2v4h2V6zm11.997 0h-2v4h2V6zM3 2a2 2 0 0 0-2 2v1h2zm10 0v3h2V4a2 2 0 0 0-2-2zm-2.936 6.655L7.259 10.62A.8.8 0 0 1 6 9.963V6.037a.8.8 0 0 1 1.259-.656l2.805 1.964a.8.8 0 0 1 0 1.31z\"/>')\n        + V_ui_symbol(_icoTocTabMedia_ + __checked_,\n            tagPathD + 'M0 0h16v16H0z' + fillNone\n            + tagPathD + 'M16 11v1a3 3 0 0 1-3 3v-4h3zM3 11v4a3 3 0 0 1-3-3v-1h3zm9-10v14H4V1h8zM6.8 5.237a.8.8 0 0 0-.8.8v3.926a.8.8 0 0 0 1.259.656l2.805-1.964a.8.8 0 0 0 0-1.31L7.259 5.38a.8.8 0 0 0-.459-.144zM16 6v4h-3V6h3zM3 6v4H0V6h3zm10-5a3 3 0 0 1 3 3v1h-3V1zM3 1v4H0V4a3 3 0 0 1 3-3z\"/>')\n        // SVG 图标集：图标|导航中心分段控制|代码块索引\n        + V_ui_symbol(_icoTocTabCodeblock_,\n            tagPathD + 'M0 0h16v16H0z' + fillNone\n            + tagPathD + 'M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zm0 1H3a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zM6.555 4.168a1 1 0 0 1 .277 1.387L5.201 7.999l1.631 2.446a1 1 0 0 1-.184 1.317l-.093.07a1 1 0 0 1-1.387-.277L3.353 8.832a1.5 1.5 0 0 1 0-1.664l1.815-2.723a1 1 0 0 1 1.387-.277zm2.89 0a1 1 0 0 1 1.387.277l1.815 2.723a1.5 1.5 0 0 1 0 1.664l-1.815 2.723a1 1 0 0 1-1.387.277l-.093-.07a1 1 0 0 1-.184-1.317L10.799 8 9.168 5.555a1 1 0 0 1 .277-1.387z\"/>')\n        + V_ui_symbol(_icoTocTabCodeblock_ + __checked_,\n            tagPathD + 'M0 0h16v16H0z' + fillNone\n            + tagPathD + 'M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zM5.454 4.168a1 1 0 0 0-1.387.277L2.252 7.168a1.5 1.5 0 0 0 0 1.664l1.815 2.723a1 1 0 0 0 1.387.277l.093-.07a1 1 0 0 0 .184-1.317L4.101 8l1.63-2.444a1 1 0 0 0-.277-1.387zm4.89 0a1 1 0 0 0-.277 1.387l1.631 2.444-1.631 2.446a1 1 0 0 0 .184 1.317l.093.07a1 1 0 0 0 1.387-.277l1.815-2.723a1.5 1.5 0 0 0 0-1.664l-1.815-2.723a1 1 0 0 0-1.387-.277z\"/>')\n        // SVG 图标集：图标|导航中心分段控制|访问史\n        + V_ui_symbol(_icoTocTabHistory_,\n            tagPathD + 'M8 0c4.411 0 8 3.589 8 8s-3.589 8-8 8-8-3.589-8-8 3.589-8 8-8zm0 1C4.142 1 1 4.142 1 8s3.142 7 7 7 7-3.142 7-7-3.142-7-7-7zm0 1.5a1 1 0 0 1 1 1v4.45l2.164 1.25a1 1 0 0 1-1 1.732l-2.598-1.5a1 1 0 0 1-.237-.19A1 1 0 0 1 7 8.5v-5a1 1 0 0 1 1-1z\"/>')\n        + V_ui_symbol(_icoTocTabHistory_ + __checked_,\n            tagPathD + 'M8 0c4.411 0 8 3.589 8 8s-3.589 8-8 8-8-3.589-8-8 3.589-8 8-8zm0 3.5a1 1 0 0 0-1 1v5c0 .294.127.56.33.742a.979.979 0 0 0 .236.19l2.598 1.5a1 1 0 0 0 1-1.732L9 8.95V4.5a1 1 0 0 0-.883-.993z\"/>')\n        // SVG 图标集：图标|检索\n        + V_ui_symbol(_icoRetrieval_,\n            tagPathD + 'M14.999 14.596a1.375 1.375 0 0 1-1.953 0L11.46 12.94a6.372 6.372 0 0 1-3.466 1.032c-3.559 0-6.444-2.904-6.444-6.486S4.435 1 7.994 1c3.56 0 6.445 2.904 6.445 6.486a6.47 6.47 0 0 1-1.026 3.488l1.586 1.656c.54.543.54 1.423 0 1.966zM7.993 2.32c-2.834 0-5.132 2.313-5.132 5.166s2.298 5.165 5.132 5.165c2.835 0 5.133-2.312 5.133-5.165s-2.298-5.166-5.133-5.166z\"/>')\n        // SVG 图标集：图标|向左关闭\n        // + V_ui_symbol(\"icoCloseTo-left\",\n        + V_ui_symbol(_icoMaskCloser_,\n            tagPathD + 'M13.98.176l.035.013c1.506.534 2.311 2.123 1.86 3.607L6.21 30l9.61 26.04c.546 1.475-.186 3.097-1.64 3.707l-.2.077c-1.502.532-3.154-.18-3.781-1.597l-.065-.16L.315 31.916a5.987 5.987 0 0 1 0-3.832l9.818-26.151C10.702.41 12.422-.375 13.979.176z\"/>')\n        // SVG 图标集：图标|插图导航的上一张\n        + V_ui_symbol(_icoPrevFig_,\n            tagPathD + 'M11.03.091c.765.284 1.159 1.147.88 1.927L3.002 27l8.91 24.982a1.516 1.516 0 0 1-.75 1.87l-.13.057a1.462 1.462 0 0 1-1.834-.765l-.055-.134L.12 27.705C.112 27.685 0 27.435 0 27c0-.435.111-.684.12-.706L9.141.99A1.465 1.465 0 0 1 11.03.09z\"/>')\n        // SVG 图标集：图标|逐章导航的上一章'\n        + V_ui_symbol(_icoPrevChapter_,\n            tagPathD + 'M7.364.293a1 1 0 0 1 0 1.414l-4.97 4.969 4.974 4.974a1 1 0 0 1-1.415 1.414L.296 7.407a.996.996 0 0 1-.291-.658.995.995 0 0 1 .288-.8L5.95.294a1 1 0 0 1 1.414 0z\"/>')\n        // SVG 图标集：图标|已收起的 目录节点\n        + V_ui_symbol(_icoTocFolded_,\n            tagPathD + 'M11.614 8.72L7.37 12.961a1 1 0 0 1-1.414-1.414l3.542-3.543-3.542-3.543A1 1 0 1 1 7.37 3.048l4.243 4.243a.997.997 0 0 1 .293.707v.014a.997.997 0 0 1-.293.707z\"/>')\n        // SVG 图标集：图标|已收起的 引用块折叠 / 表格折叠行节点\n        + V_ui_symbol(_icoFolded_,\n            tagPathD + 'M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zm-.336 3.757A1 1 0 1 0 6.25 5.172l2.835 2.835-2.835 2.836a1 1 0 1 0 1.414 1.414l3.535-3.536a.997.997 0 0 0 .293-.707V8a.997.997 0 0 0-.293-.707z\"/>')\n        // SVG 图标集：图标|关闭\n        + V_ui_symbol(_icoClose_,\n            tagPathD + 'M7,7 L7,-1 C7,-1.55228475 7.44771525,-2 8,-2 C8.55228475,-2 9,-1.55228475 9,-1 L9,7 L17,7 C17.5522847,7 18,7.44771525 18,8 C18,8.55228475 17.5522847,9 17,9 L9,9 L9,17 C9,17.5522847 8.55228475,18 8,18 C7.44771525,18 7,17.5522847 7,17 L7,9 L-1,9 C-1.55228475,9 -2,8.55228475 -2,8 C-2,7.44771525 -1.55228475,7 -1,7 L7,7 Z\" transform=\"translate(8.000000, 8.000000) rotate(45.000000) translate(-8.000000, -8.000000) \"></path>')\n        // SVG 图标集：图标|清空输入\n        + V_ui_symbol(_icoResetInput_,\n            tagPathD + 'M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zM5.737 4.606a.8.8 0 0 0-1.131 1.131L6.869 8l-2.263 2.263a.8.8 0 1 0 1.131 1.131L8 9.131l2.263 2.263a.8.8 0 1 0 1.131-1.131L9.131 8l2.263-2.263a.8.8 0 1 0-1.131-1.131L8 6.869z\"/>')\n        // SVG 图标集：图标|颜色模式（Light/Dark）\n        + V_ui_symbol(_icoLightMode_,\n            tagPathD + 'M10 17a1 1 0 0 1 1 1v1a1 1 0 0 1-2 0v-1a1 1 0 0 1 1-1zm6.364-2.05l.707.707a1 1 0 0 1-1.414 1.414l-.707-.707a1 1 0 1 1 1.414-1.414zm-11.314 0a1 1 0 0 1 0 1.414l-.707.707a1 1 0 1 1-1.414-1.414l.707-.707a1 1 0 0 1 1.414 0zM10 5a5 5 0 1 1 0 10 5 5 0 0 1 0-10zm9 4a1 1 0 0 1 0 2h-1a1 1 0 0 1 0-2h1zM2 9a1 1 0 0 1 0 2H1a1 1 0 0 1 0-2h1zm15.071-6.071a1 1 0 0 1 0 1.414l-.707.707a1 1 0 1 1-1.414-1.414l.707-.707a1 1 0 0 1 1.414 0zm-12.728 0l.707.707A1 1 0 1 1 3.636 5.05l-.707-.707A1 1 0 0 1 4.343 2.93zM10 0a1 1 0 0 1 1 1v1a1 1 0 0 1-2 0V1a1 1 0 0 1 1-1z\"/>')\n        // SVG 图标集：图标|深色模式\n        + V_ui_symbol(_icoDarkMode_,\n            tagPathD + 'M5.646 2.646A9.003 9.003 0 0 0 9 20a9.003 9.003 0 0 0 8.354-5.646A9 9 0 0 1 5.613 2.729zM15.5 3l-1.065 2.7a1.303 1.303 0 0 1-.734.735L11 7.5l2.7 1.065c.337.133.602.398.735.734L15.5 12l1.065-2.7c.133-.337.398-.602.734-.735L20 7.5l-2.7-1.065a1.303 1.303 0 0 1-.735-.734L15.5 3zm-4.829-3l-.547 1.389a1 1 0 0 1-.564.563L8.171 2.5l1.39.548a1 1 0 0 1 .563.563L10.67 5l.548-1.389a1 1 0 0 1 .563-.563l1.39-.548-1.39-.548a1 1 0 0 1-.563-.563L10.671 0z\"/>')\n        // SVG 图标集：图标|链接地图\n        + V_ui_symbol(_icoLinkMap_,\n            tagPathD + 'M18.614 10.804c-.5.005-.96.288-1.197.74l-3.328-1.037c.473-1.02.53-2.193.156-3.256l3.257-1.28c.394.565 1.131.752 1.737.441.606-.311.901-1.028.695-1.69a1.375 1.375 0 0 0-1.522-.965 1.4 1.4 0 0 0-1.156 1.553l-3.297 1.296a4.208 4.208 0 0 0-1.18-1.358l2.045-2.488a1.36 1.36 0 0 0 1.61-.835c.257-.653.001-1.4-.598-1.745a1.347 1.347 0 0 0-1.766.383 1.428 1.428 0 0 0 .142 1.844l-2.028 2.472a4.052 4.052 0 0 0-3.717.027 4.238 4.238 0 0 0-2.2 3.071H4.022c-.012-.036-.026-.071-.04-.108a2.065 2.065 0 0 0-2.115-1.3A2.09 2.09 0 0 0 .04 8.267a2.14 2.14 0 0 0 1.054 2.285c.804.44 1.795.29 2.44-.37.218-.224.385-.495.488-.793h2.245a4.242 4.242 0 0 0 2.078 3.004 4.051 4.051 0 0 0 3.587.21l2.513 3.046c-.21.255-.324.578-.323.91h-.012c-.005.628.39 1.185.972 1.374a1.376 1.376 0 0 0 1.567-.548 1.457 1.457 0 0 0-.05-1.696 1.373 1.373 0 0 0-1.596-.45l-2.452-2.964c.464-.299.865-.689 1.18-1.148l3.516 1.103c.008.778.63 1.403 1.39 1.395.76-.007 1.37-.644 1.363-1.422-.006-.778-.626-1.404-1.386-1.399z\"/>')\n        // SVG 图标集：图标|聚光灯\n        + V_ui_symbol(_icoSpotlight_,\n            tagPathD + 'M7 0a7 7 0 0 1 6.992 6.67A7.002 7.002 0 0 1 11 20a7 7 0 0 1-6.992-6.67A7.002 7.002 0 0 1 7 0zm4 6a7 7 0 0 0-6.992 7.33 7 7 0 0 0 9.985-6.662A6.984 6.984 0 0 0 11 6.001z\"/>')\n        // SVG 图标集：图标|激光笔\n        + V_ui_symbol(_icoLaserPointer_,\n            tagPathD + 'M5.574 5.078a3.5 3.5 0 0 1 4.913.603l6.772 8.668a3.5 3.5 0 1 1-5.516 4.31L4.971 9.991a3.5 3.5 0 0 1 .603-4.913zm.576.769a2.5 2.5 0 1 0 3.078 3.94 2.5 2.5 0 0 0-3.078-3.94zm6.562-3.138a1 1 0 1 1 1.231 1.576l-.788.616a1 1 0 1 1-1.231-1.576l.788-.616zm-10.5 8a1 1 0 1 1 1.231 1.576l-.788.616a1 1 0 0 1-1.231-1.576l.788-.616zm-1.177-4.68l1 .034a1 1 0 0 1-.07 1.999l-1-.035a1 1 0 0 1 .07-1.999zM8.838.021a1 1 0 0 1 .77 1.186l-.208.978a1 1 0 0 1-1.956-.416l.208-.978a1 1 0 0 1 1.186-.77zM2.724 1.409a1 1 0 0 1 1.403.172l.616.788a1 1 0 0 1-1.576 1.232l-.616-.788a1 1 0 0 1 .173-1.404z\"/>')\n        // SVG 图标集：图标|段落导航\n        + V_ui_symbol(_icoParagraphNav_,\n            tagPathD + 'M3.698 17.714v-5.036A.68.68 0 0 0 3.02 12a.68.68 0 0 0-.678.678v5.047L1.155 16.54a.689.689 0 0 0-.96 0c-.26.26-.26.69 0 .96l2.294 2.294a.67.67 0 0 0 .474.204h.068a.65.65 0 0 0 .475-.204L5.799 17.5c.26-.26.26-.689 0-.96-.237-.271-.666-.271-.926 0l-1.175 1.175zm0-15.432V7.32a.68.68 0 0 1-.678.678.68.68 0 0 1-.678-.678l.03-5.082-1.217 1.22c-.26.26-.689.26-.96 0a.689.689 0 0 1 0-.96L2.489.203A.67.67 0 0 1 2.963 0h.068c.17 0 .35.068.475.203l2.293 2.294c.26.26.26.69 0 .96-.237.272-.666.272-.926 0L3.698 2.283zM8 14h11a1 1 0 0 1 0 2H8a1 1 0 0 1 0-2zm0 3h8a1 1 0 0 1 0 2H8a1 1 0 0 1 0-2zM8 7h4a1 1 0 0 1 0 2H8a1 1 0 0 1 0-2zm0-6h11a1 1 0 0 1 0 2H8a1 1 0 0 1 0-2zm0 3h11a1 1 0 0 1 0 2H8a1 1 0 0 1 0-2z\"/>')\n        // SVG 图标集：图标|字体风格\n        + V_ui_symbol(_icoFontTheme_,\n            tagPathD + 'M13.493 0l6.048 2.73a.5.5 0 0 1 .28.57l-.979 4.134a1 1 0 0 1-1.224.737l-1.092-.283.391 9.065a1 1 0 0 1-.999 1.043H3.94a1 1 0 0 1-1-1.04l.369-9.068-1.092.283a1 1 0 0 1-1.224-.737L.013 3.3a.5.5 0 0 1 .281-.57L6.341 0c.417 1.178 1.926 1.92 3.603 1.92 1.677 0 3.131-.742 3.55-1.92zm.84 15h-9a.5.5 0 1 0 0 1h9a.5.5 0 1 0 0-1zm0-2h-9a.5.5 0 1 0 0 1h9a.5.5 0 1 0 0-1zM9.49 4a1 1 0 0 0-.904.573L5.51 11.08a.644.644 0 0 0 .582.919h.379a1 1 0 0 0 .907-.578l.604-1.299h3.703l.566 1.28a1 1 0 0 0 .914.597h.39a.659.659 0 0 0 .596-.941L11.069 4.57A1 1 0 0 0 10.166 4zm.343 1.813l1.308 2.967H8.55l1.282-2.967z\"/>')\n        // SVG 图标集：图标|文库\n        + V_ui_symbol(_icoDocLib_,\n            tagPathD + 'M17 0a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3h14zm.001 7h-14a2 2 0 0 0-2 2h6a3 3 0 0 0 6 0h6l-.005-.15A2 2 0 0 0 17 7zm0-3h-14a2 2 0 0 0-2 2h18l-.005-.15A2 2 0 0 0 17 4zm0-3h-14a2 2 0 0 0-2 2h18l-.005-.15A2 2 0 0 0 17 1z\"/>')\n        // SVG 图标集：图标|文库-新标签中打开\n        + V_ui_symbol(_icoDocLibExt_,\n            tagPathD + 'M17 0a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3h14zm.002 2H11a1 1 0 0 0 0 2h3.585l-6.292 6.293a1 1 0 1 0 1.414 1.414L16 5.414V9a1 1 0 1 0 2 0L18 3c0-.017 0-.033-.003-.059v-.012a.999.999 0 0 0-.487-.789l-.023-.013-.047-.025a.995.995 0 0 0-.023-.011l-.014-.006-.025-.011a.993.993 0 0 0-.073-.027l-.014-.004-.017-.005a.993.993 0 0 0-.079-.019l-.02-.003-.017-.004A1.007 1.007 0 0 0 17.002 2h.02-.02z\"/>')\n        // SVG 图标集：图标|打开详情\n        + V_ui_symbol(_icoDetailsOpen_,\n            tagPathD + 'M9 0a9 9 0 1 1 0 18A9 9 0 0 1 9 0zm1 3H8v5H3v2h5v5h2v-5h5V8h-5V3z\"/>')\n        // SVG 图标集：图标|打印\n        + V_ui_symbol(_icoPrint_,\n            tagPathD + 'M15 0a2 2 0 0 1 2 2v4h1a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-1v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1H2a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h1V2a2 2 0 0 1 2-2h10zm1 13H4v4a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-4zm-2 2v1H6v-1h8zm3.5-7h-1a.5.5 0 1 0 0 1h1a.5.5 0 1 0 0-1zm-3.372 0a.5.5 0 1 0 0 1 .5.5 0 0 0 0-1zM15 1H5a1 1 0 0 0-1 1v4h12V2a1 1 0 0 0-.883-.993L15 1z\"/>')\n        // SVG 图标集：图标|内容助力-插图浏览器中打开\n        + V_ui_symbol(_icoOpenInFigureNav_,\n            tagPathD + 'M3 0h12a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm0 8.507a1 1 0 0 0-1 1V12.5A1.5 1.5 0 0 0 3.5 14H7a1 1 0 0 0 0-2H4V9.506a1 1 0 0 0-.883-.993L3 8.507zm12-.94a1 1 0 0 0 1-1V3.503a1.5 1.5 0 0 0-1.5-1.5h-3.48a1 1 0 0 0 0 2H14v2.562a1 1 0 0 0 .884.994l.116.006z\">')\n        // SVG 图标集：图标|内容助力-表格阅读模式（十字光标）\n        + V_ui_symbol(_icoTableX_,\n            tagPathD + 'M15.6 0A2.4 2.4 0 0 1 18 2.4v11.2a2.4 2.4 0 0 1-2.4 2.4H2.4A2.4 2.4 0 0 1 0 13.6V2.4A2.4 2.4 0 0 1 2.4 0h13.2zM12 1H6v4.5A1.5 1.5 0 0 1 4.5 7H1v5h3.5A1.5 1.5 0 0 1 6 13.5V15h6v-1.5a1.5 1.5 0 0 1 1.5-1.5H17V7h-3.5A1.5 1.5 0 0 1 12 5.5V1zm-1.5 6A1.5 1.5 0 0 1 12 8.5v2a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 6 10.5v-2A1.5 1.5 0 0 1 7.5 7h3zm-.167 1H7.667A.667.667 0 0 0 7 8.667v1.666c0 .369.298.667.667.667h2.666a.667.667 0 0 0 .667-.667V8.667A.667.667 0 0 0 10.333 8z\"/>')\n        // SVG 图标集：图标|内容助力-表格自动换行\n        + V_ui_symbol(_icoTableWrap_,\n            tagPathD + 'M12 0a2 2 0 0 1 2 2h5.5a.5.5 0 1 1 0 1H14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h10zM2.5 3a.5.5 0 0 1 0-1H13a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1H2.5zM17 5.1c.961.52 1.628.953 2 1.3.372.347.705.847 1 1.5l-2.001-.001L18 10.5a2.9 2.9 0 0 1-2.9 2.9h-.801l.001 2.1c-.673-.383-1.173-.75-1.5-1.1-.327-.35-.76-.984-1.3-1.9.52-.961.953-1.628 1.3-2 .347-.372.847-.705 1.5-1l-.001 2.1h.801a1.1 1.1 0 0 0 1.1-1.1l-.001-2.6H14c.383-.673.75-1.173 1.1-1.5.35-.327.984-.76 1.9-1.3zM7 7a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h5zm-2.5 6h-2a.5.5 0 1 0 0 1h2a.5.5 0 1 0 0-1zm2-2h-4a.5.5 0 1 0 0 1h4a.5.5 0 1 0 0-1zm0-2h-4a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1z\"/>')\n        // SVG 图标集：图标|内容助力-画中画\n        + V_ui_symbol(_icoPicInPic_,\n            tagPathD + 'M16 9a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h5zm-3-9a3 3 0 0 1 3 3v4h-1V3a2 2 0 0 0-1.85-1.995L13 1H3a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h4v1H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3h10z\"/>')\n        // SVG 图标集：图标|画中画的放大模式\n        + V_ui_symbol(_icoZoomIn_,\n            tagPathD + 'M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zm4 7.503l-.117.007a1 1 0 0 0-.883.993v2.492H8.4a1 1 0 0 0 0 2h3.1a1.5 1.5 0 0 0 1.5-1.5V8.504a1 1 0 0 0-1-1zM7.58 3H4.5A1.5 1.5 0 0 0 3 4.5v3.062a1 1 0 0 0 1 1l.117-.007A1 1 0 0 0 5 7.562V5h2.58a1 1 0 1 0 0-2z\"/>')\n        // SVG 图标集：图标|内容助力-画中画的缩小模式\n        + V_ui_symbol(_icoZoomOut_,\n            tagPathD + 'M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zm4.58 8H9.5A1.5 1.5 0 0 0 8 9.5v3.062a1 1 0 0 0 1 1l.117-.007a1 1 0 0 0 .883-.993V10h2.58a1 1 0 1 0 0-2zM7 2.503l-.117.007A1 1 0 0 0 6 3.503v2.492H3.4a1 1 0 1 0 0 2h3.1a1.5 1.5 0 0 0 1.5-1.5V3.504a1 1 0 0 0-1-1z\" fill-rule=\"evenodd\"/>')\n        // SVG 图标集：图标|复制\n        + V_ui_symbol(_icoCopy_,\n            tagPathD + 'M16 0a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-3a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2-2h8zm-5 3H2a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm-4.5 9a.5.5 0 1 1 0 1h-3a.5.5 0 1 1 0-1h3zm3-3a.5.5 0 1 1 0 1h-6a.5.5 0 1 1 0-1h6zm0-3a.5.5 0 1 1 0 1h-6a.5.5 0 1 1 0-1h6z\"/>')\n        // SVG 图标集：图标|复制 as Markdown\n        + V_ui_symbol(_icoCopyAsMd_,\n            tagPathD + 'M16 0a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-3a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2-2h8zm-5 3H2a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zM4.75 6L6.5 8.206 8.25 6H10v6H8.25V8.559L6.5 10.765 4.75 8.559V12H3V6h1.75zM15.3 5h-1.6v3.5H12l2.5 2.5L17 8.5h-1.7V5z\"/>')\n        // SVG 图标集：图标|加载中\n        + V_ui_symbol(_icoLoading_,\n            tagRectX + '7' + widthHeightRx\n            + tagRectTransformRotate + '45 12.243 3.757)\" x=\"11.243\" y=\"1.757' + widthHeightRx\n            + tagRectTransformRotate + '90 14 8)\" x=\"13\" y=\"6' + widthHeightRx\n            + tagRectTransformRotate + '135 12.243 12.243)\" x=\"11.243\" y=\"10.243' + widthHeightRx\n            + tagRectTransformRotate + '180 8 14)\" x=\"7\" y=\"12' + widthHeightRx\n            + tagRectTransformRotate + '-135 3.757 12.243)\" x=\"2.757\" y=\"10.243' + widthHeightRx\n            + tagRectTransformRotate + '-90 2 8)\" x=\"1\" y=\"6' + widthHeightRx\n            + tagRectTransformRotate + '-45 3.757 3.757)\" x=\"2.757\" y=\"1.757' + widthHeightRx)\n        // SVG 图标集：图标|播放\n        + V_ui_symbol(_icoPlay_,\n            tagPathD + 'M14.133 9.605l-7.86 6.028c-.93.633-2.223.427-2.887-.459A1.909 1.909 0 0 1 3 14.028V1.972C3 .882 3.927 0 5.07 0c.432 0 .852.128 1.203.367l7.86 6.028c.93.633 1.146 1.865.481 2.751a2.024 2.024 0 0 1-.481.459z\"/>'\n            + tagPathD + 'M0 0h16v16H0z' + fillNone)\n        // SVG 图标集：图标|暂停\n        + V_ui_symbol(_icoPause_,\n            tagPathD + 'M3 2h1a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm9 0h1a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z\"/>'\n            + tagPathD + 'M0 0h16v16H0z' + fillNone)\n        // SVG 图标集：图标|停止\n        + V_ui_symbol(_icoStop_,\n            tagRectX + '2\" y=\"2\" width=\"12\" height=\"12\" rx=\"2\"/>'\n            + tagPathD + 'M0 0h16v16H0z' + fillNone)\n        // SVG 图标集：图标|无法播放\n        + V_ui_symbol(_icoForbidden_,\n            tagPathD + 'M3.11 4.523a6.001 6.001 0 0 0 8.368 8.367L3.11 4.523zM4.522 3.11l8.368 8.367A6 6 0 0 0 4.522 3.11zM8 16A8.001 8.001 0 1 1 8.002.002 8.001 8.001 0 0 1 8 16z\" />'\n            + tagPathD + 'M0 0h16v16H0z' + fillNone)\n        // SVG 图标集：图标|复选框（未选择）\n        + V_ui_symbol(_icoChkbox__ + _no_,\n            tagPathD + 'M10 0a4 4 0 0 1 4 4v6a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4h6zm-.5 2h-5c-.69 0-1.315.28-1.768.732A2.492 2.492 0 0 0 2 4.5v5c0 .69.28 1.315.732 1.768A2.492 2.492 0 0 0 4.5 12h5c.69 0 1.315-.28 1.768-.732A2.492 2.492 0 0 0 12 9.5v-5c0-.69-.28-1.315-.732-1.768A2.492 2.492 0 0 0 9.5 2z\" opacity=\".5\"/>')\n        // SVG 图标集：图标|复选框（已选择）\n        + V_ui_symbol(_icoChkbox__ + _yes_,\n            tagPathD + 'M10 0a4 4 0 0 1 4 4v6a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4h6zm.435 3.36a1 1 0 0 0-1.393.245L5.703 8.372 4.421 7.09a1 1 0 1 0-1.414 1.414l2.121 2.121a1 1 0 0 0 1.225.15l.01-.007.01-.005a.997.997 0 0 0 .292-.277l4.015-5.734a1 1 0 0 0-.245-1.393z\"/>')\n        // SVG 图标集：图标|复选框（不确定选择）\n        + V_ui_symbol(_icoChkbox__ + _un_,\n            tagPathD + 'M10 0a4 4 0 0 1 4 4v6a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4h6zm0 6H4a1 1 0 1 0 0 2h6a1 1 0 0 0 0-2z\" opacity=\".5\"/>')\n        // SVG 图标集：图标|链接检查结果异常\n        + V_ui_symbol(_icoLinkError_,\n            tagPathD + 'M12.375 0c.224 0 .438.089.596.247l4.782 4.782a.84.84 0 0 1 .247.596v6.75c0 .224-.09.438-.247.596l-4.782 4.782a.842.842 0 0 1-.596.247h-6.75a.842.842 0 0 1-.596-.247L.247 12.97A.842.842 0 0 1 0 12.375v-6.75c0-.224.089-.438.247-.596L5.03.247A.842.842 0 0 1 5.625 0h6.75zM9 12.375a1.125 1.125 0 1 0 0 2.25 1.125 1.125 0 0 0 0-2.25zM9 4.5c-.621 0-1.125.472-1.125 1.055v4.64c0 .583.504 1.055 1.125 1.055s1.125-.472 1.125-1.055v-4.64C10.125 4.972 9.621 4.5 9 4.5z\"/>')\n        // SVG 图标集：GitHub Style Alert | Note\n        + V_ui_symbol(_icoAlertNote_,\n            tagPathD + 'M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zm.25 7h-1a.75.75 0 0 0 0 1.5h.25v2h-.25a.75.75 0 1 0 0 1.5h2a.75.75 0 1 0 0-1.5H9V7.75A.75.75 0 0 0 8.25 7zM8 4a1 1 0 1 0 0 2 1 1 0 0 0 0-2z\"/>')\n        // SVG 图标集：GitHub Style Alert | Tip\n        + V_ui_symbol(_icoAlertTip_,\n            tagPathD + 'M5.5 0C8.637 0 11 2.31 11 5.25c0 1.516-.701 2.5-1.328 3.259l-.268.319c-.207.245-.383.453-.541.681-.208.3-.33.595-.37.877a.76.76 0 0 1-.773.616L3.2 11a.748.748 0 0 1-.692-.614c-.04-.282-.163-.577-.37-.877a8.456 8.456 0 0 0-.354-.46l-.456-.54-.237-.296C.537 7.496 0 6.577 0 5.25 0 2.31 2.363 0 5.5 0zM3.25 12h4.5a.75.75 0 1 1 0 1.5h-4.5a.75.75 0 1 1 0-1.5zm.25 3.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75z\"/>')\n        // SVG 图标集：GitHub Style Alert | Important\n        + V_ui_symbol(_icoAlertImportant_,\n            tagPathD + 'M14.25 0C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0 1 14.25 13H8.06l-2.573 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25v-9.5C0 .784.784 0 1.75 0h12.5zM8 9a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm0-7c-.552 0-1 .42-1 .938v4.124C7 7.58 7.448 8 8 8s1-.42 1-.938V2.938C9 2.42 8.552 2 8 2z\"/>')\n        // SVG 图标集：GitHub Style Alert | Warning\n        + V_ui_symbol(_icoAlertWarning_,\n            tagPathD + 'M9.576.933l6.213 11.471c.296.547.28 1.207-.043 1.739a1.792 1.792 0 0 1-1.533.857H1.787c-.628 0-1.21-.326-1.533-.857a1.744 1.744 0 0 1-.043-1.739L6.424.934c.673-1.245 2.479-1.245 3.152 0zM8 11a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm0-7c-.552 0-1 .42-1 .938v4.125C7 9.58 7.448 10 8 10s1-.42 1-.938V4.939C9 4.42 8.552 4 8 4z\"/>')\n        // SVG 图标集：GitHub Style Alert | Caution\n        + V_ui_symbol(_icoAlertCaution_,\n            tagPathD + 'M11 0c.199 0 .389.079.53.22l4.25 4.25c.141.14.22.331.22.53v6c0 .199-.08.39-.22.53l-4.25 4.25A.749.749 0 0 1 11 16H5a.749.749 0 0 1-.53-.22L.22 11.53A.749.749 0 0 1 0 11V5c0-.199.079-.389.22-.53L4.47.22C4.61.08 4.801 0 5 0h6zM8 11a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm0-7c-.552 0-1 .42-1 .938v4.125C7 9.58 7.448 10 8 10s1-.42 1-.938V4.939C9 4.42 8.552 4 8 4z\"/>')\n    + '</svg>';\n    return ui;\n}\n\n/**\n * 加载顶栏 UI 资源\n */\nfunction VLOOKui_loadTopbar() {\n    // ==================================================\n    // 页面工具栏\n    let ui = V_ui_nav(_, _vToolbar_ +___+ _vFocusSearch_,\n            // 导航中心\n            V_ui_div(_, _vBtn_ +___+ _navCenter_, V_ui_svgIcon(_icoNavCenter_, 20, 18, _light_))\n            // 文库\n            + V_ui_div(_, _vBtn_ +___+ _docLib_, V_ui_svgIcon(_icoDocLib_, 20, 18, _light_))\n            // 打印\n            + V_ui_div(_, _vBtn_ +___+ _print_, V_ui_svgIcon(_icoPrint_, 20, 19, _light_))\n            + V_ui_div(_, _vBtnGroup_ + \" prs\",\n                // 段落导航\n                V_ui_divExt(_, _vBtn_ +___+ _paragraphNav_, V_attr(_dataBtnGroup_, \"prs\"),\n                    V_ui_svgIcon(_icoParagraphNav_, 20, 20, _light_))\n                // 聚光灯\n                + V_ui_divExt(_, _vBtn_ +___+ _spotlight_, V_attr(_dataBtnGroup_, \"prs\"),\n                    V_ui_svgIcon(_icoSpotlight_, 18, 20, _light_))\n                // 激光笔\n                + V_ui_divExt(_, _vBtn_ +___+ _laserPointer_, V_attr(_dataBtnGroup_, \"prs\"),\n                    V_ui_svgIcon(_icoLaserPointer_, 18, 20, _light_))\n            )\n            // 分隔符\n            + V_ui_div(_, _vToolbar_ + __spliter_)\n        );\n\n    // ==================================================\n    // 逐章导航栏\n    let classSvgChpNav = \"v-svg-chp-nav\";\n    ui += V_ui_nav(_, _vChapterNav_ +___+ _vFocusSearch_,\n            // 上一章\n            V_ui_div(_, _vChapterNav_ + __prev,\n                V_ui_svgIcon(_icoPrevChapter_, 10, 15, _light_, classSvgChpNav +___+ _left_)\n                + V_ui_div(_, _vChapterNav_ + __prev + __text_)\n            )\n            // 文档标题\n            + V_ui_div(_, _vChapterNav_ + __docTitle_)\n            // 当前章节\n            + V_ui_div(_, _vChapterNav_ + __current_)\n            // 下一章\n            + V_ui_div(_, _vChapterNav_ + __next_,\n                V_ui_div(_, _vChapterNav_ + __next_ + __text_, \"next\")\n                + V_ui_svgIcon(_icoPrevChapter_, 10, 15, _light_, classSvgChpNav +___+ _right_)\n            )\n        );\n\n    return ui;\n}\n\n/**\n * 加载导航中心 UI 资源\n */\nfunction VLOOKui_loadNavCenter() {\n    // --------------------------------------------------\n    // 导航中心\n    let classTocFilterResult = _vTocFilterResult_ +___,\n        ui = V_ui_div(_, _vNavCenter_ +___+ _vFloatCard_,\n            // --- 导航中心头部 ---\n            V_ui_div(_, _vNavCenter_ + __header_,\n                // 关键字搜索\n                V_ui_div(_, _vSearchByKeyword_)\n                // 分段控制器组件\n                + V_ui_nav(_, _vSegment_ + \" toc\")\n                // 访问历史标题\n                + V_ui_div(_, \"v-toc-history\" + __title_, \"访问历史\"))\n                // --- 导航中心内容区 ---\n                + V_ui_div(_, _vNavCenter_ + __body_,\n                    V_ui_divExt(_, _vTocCatalogBody_, V_attr(_dataCatalogEmpty_, \"( Catalog is Empty )\"))\n                    + V_ui_nav(_, classTocFilterResult + _catalog_)\n                    + V_ui_nav(_, classTocFilterResult + _figure_)\n                    + V_ui_nav(_, classTocFilterResult + _table_)\n                    + V_ui_nav(_, classTocFilterResult + _codeblock_)\n                    + V_ui_nav(_, classTocFilterResult + _media_)\n                    + V_ui_nav(_, \"v-toc-history\" + __result_)\n                )\n            + V_ui_div(_, _vNavCenter_ + __footer_)\n        );\n\n    // --------------------------------------------------\n    // 导航中心收起/展开引导把手\n    ui += V_ui_div(_, _vTocHandle_);\n\n    return ui;\n }\n\n/**\n * 加载共用的 UI 资源\n */\nfunction VLOOKui_loadCommon() {\n    // --------------------------------------------------\n    // 聚光灯\n    let ui = V_ui_div(_, _vSpotlight_, V_ui_div(_, _));\n\n    // --------------------------------------------------\n    // 字体风格选择器\n    let classFontThemeOpt = _vFontThemeOpt_,\n        previewPath = _httpsPrefix_ + _vlook__ + \"doc.pages.dev/pic/\";\n    ui += V_ui_aside(_, _vFontTheme_,\n            V_ui_div(_, classFontThemeOpt,\n                V_ui_img(_vFontThemeOpt_ + \"-\" + _local_, \"默认 Default\", previewPath + \"fs-local.png\", previewPath + \"fs-local@2x.png 2x\")\n                + V_ui_div(_, _vFontInfo_ + _local_,\n                    V_ui_div(_, _vFontPackage_, _font_)\n                    + V_ui_div(_fontsetStatus_, _, _ready_)\n                )\n            )\n            + V_ui_div(_, classFontThemeOpt,\n                V_ui_img(_vFontThemeOpt_ + \"-\" + _book_, \"Book\", previewPath + \"fs-book.png\", previewPath + \"fs-book@2x.png 2x\")\n                + V_ui_div(_, _vFontInfo_ + _book_,\n                    V_ui_div(_, _vFontPackage_, _font_)\n                    + V_ui_div(_fontsetStatus_, _, _ready_)\n                )\n            )\n            + V_ui_div(_, classFontThemeOpt,\n                V_ui_img(_vFontThemeOpt_ + \"-\" + _sans_, \"小清新 Sans\", previewPath + \"fs-sans.png\", previewPath + \"fs-sans@2x.png 2x\")\n                + V_ui_div(_, _vFontInfo_ + _sans_,\n                    V_ui_div(_, _vFontPackage_, _font_)\n                    + V_ui_div(_fontsetStatus_, _, _notLoaded_)\n                )\n            )\n            + V_ui_div(_, classFontThemeOpt,\n                V_ui_img(_vFontThemeOpt_ + \"-\" + _serif_, \"文艺范 Serif\", previewPath + \"fs-serif.png\", previewPath + \"fs-serif@2x.png 2x\")\n                + V_ui_div(_, _vFontInfo_ + _serif_,\n                    V_ui_div(_, _vFontPackage_, _font_)\n                    + V_ui_div(_fontsetStatus_, _, _notLoaded_)\n                )\n            )\n            + V_ui_div(_, _vFontThemeInfo_, \"Download Font Package\")\n        );\n\n    // --------------------------------------------------\n    // 插图导航面板\n    ui += V_ui_aside(_, _vFigNav_ +___+ _vBackdropBlurs_,\n            V_ui_div(_, _vFigContent_)\n            + V_ui_div(_, _vFigNav_ + __title_)\n            + V_ui_div(_, _vFigNav_ + \"-btns prev\", V_ui_svgIcon(_icoPrevFig_, 12, 54, _light_))\n            + V_ui_div(_, _vFigNav_ + \"-btns next\", V_ui_svgIcon(_icoPrevFig_, 12, 54, _light_))\n            + V_ui_div(_, _vBtn_ + \"-close-figure-nav\", V_ui_svgIcon(_icoClose_, 16, 16, _light_))\n        );\n\n    // --------------------------------------------------\n    // 脚注弹层\n    ui += V_ui_aside(_, _vFontnotePn_,\n            V_ui_div(_, _vFontnotePn_ + \"-\" + _content_)\n            + V_ui_div(_, _vFontnotePn_ + __header_)\n            + V_ui_div(_, _vFontnotePn_ + __footer_, V_ui_a(_, _, \"查看所有脚注\"))\n            + V_ui_a(\"vk-footer-area\")\n        );\n\n    // --------------------------------------------------\n    // 复制内容的按钮\n    let classBtnAssistor = _vBtn_ +___+ _assistor_ +___;\n    ui += V_ui_div(_, _vContentAssistor_ +___+ _vFloatCard_,\n            V_ui_div(_, classBtnAssistor + _copy_, V_ui_svgIcon(_icoCopy_, 16, 16, _light_))\n            + V_ui_div(_, classBtnAssistor + _openInFigureNav_, V_ui_svgIcon(_icoOpenInFigureNav_, 18, 16, _light_))\n            + V_ui_div(_, classBtnAssistor + _tableCross_, V_ui_svgIcon(_icoTableX_, 18, 16, _light_))\n            + V_ui_div(_, classBtnAssistor + _tableWrap_, V_ui_svgIcon(_icoTableWrap_, 20, 16, _light_))\n            + V_ui_div(_, classBtnAssistor + _picInPic_, V_ui_svgIcon(_icoPicInPic_, 18, 16, _light_))\n        );\n\n    // --------------------------------------------------\n    // 画中画容器\n    let classPinBtn = _vPipBtn_ +___+ _zoomOut_ +___+ _vFloatCard_ +___;\n    ui += V_ui_aside(_, _vPicInPic_,\n            V_ui_div(_, classPinBtn + _zoom_, V_ui_svgIcon(_icoZoomIn_, 16, 16, _theme_))\n            + V_ui_div(_, classPinBtn + _close_, V_ui_svgIcon(_icoResetInput_, 16, 16, _theme_))\n            + V_ui_div(_, _vContent_)\n        );\n\n    // --------------------------------------------------\n    // 提示信息\n    ui += V_ui_div(_, _vToolTips_)\n        + V_ui_div(_, _vInfoTips_ +___+ _vFloatCard_);\n\n    // --------------------------------------------------\n    // 文档更多内容遮罩栏\n    // ui += V_ui_div(_, _vMoreDocContent_ + _before_ +___+ _cover_)\n    ui += V_ui_div(_, _vMoreDocContent_ + _before_)\n        + V_ui_div(_, _vMoreDocContent_ + _after_);\n\n    // --------------------------------------------------\n    // 表格阅读模式（十字光标）\n    let classTableCross = _vTblX_.xD() +___;\n    ui += V_ui_div(_, classTableCross + _left_ + \"-up\", _nbsp_)\n        + V_ui_div(_, classTableCross + _right_ + \"-up\", _nbsp_)\n        + V_ui_div(_, classTableCross + _left_ + \"-down\", _nbsp_)\n        + V_ui_div(_, classTableCross + _right_ + \"-down\", _nbsp_);\n\n    // --------------------------------------------------\n    // 页面坏链检查结果及错误列表\n    ui += V_ui_aside(_, _vLinkInfoList_ +___+ _vFloatCard_,\n            V_ui_div(_, _vLinkInfoList_ + __header_)\n            + V_ui_div(_, _vLinkInfoList_ + __body_,\n                V_ui_nav(_, _vLinkInfoList_ + __items_))\n            + V_ui_div(_, _vLinkInfoList_ + __footer_)\n        )\n        + V_ui_nav(_, _vStatusBar_ +___+ _vFloatCard_ + \"2 \" + _vFocusSearch_ +___+ _vBackdropBlurs_,\n            V_ui_div(_, _vDocInfo_, \"- - / - -\")\n            + V_ui_div(_, _vStsFontTheme_, V_ui_svgIcon(_icoFontTheme_, 20, 18, _theme_))\n            + V_ui_div(_, _vColorScheme_, V_ui_svgIcon(_icoDarkMode_, 20, 20, _theme_))\n            + V_ui_div(_, _vLinkMap_, V_ui_svgIcon(_icoLinkMap_, 20, 18, _theme_))\n            + V_ui_div(_, _vLinkChkResult_, V_ui_svgIcon(_icoLoading_, 16, 16, _theme_))\n        );\n\n    // --------------------------------------------------\n    //统计数据上报中转页面\n    // ui += V_ui_iframe(_vlookStatGitee_);\n    ui += V_ui_iframe(_vlookStatGithub_);\n    ui += V_ui_iframe(_vlookStatCloudFlare_);\n    ui += V_ui_aside(_, _vDocLib_ +___+ _vFloatCard_, V_ui_iframe(_vlookDocLib_));\n    return ui;\n}\n\n// ==================== 加载与初始化 VLOOK ==================== //\n\n/**\n * 文档加载完成后执行主流程\n */\n$(() => { // 等价于 $(document).ready()\n    // ----------------------------------------\n    // 初始化启动参数\n    V_params_init();\n\n    // 判断文档类型\n    if (V_util_getParamVal(_type_) === _mini_) {\n        V_pageMode = _mini_;\n    }\n\n    // ----------------------------------------\n    // 初始化语言\n    V_lang_init();\n\n    // ----------------------------------------\n    INFO(\"- Ready\");\n    gTimes = iStopwatch.ed(_4space_);\n    // 打印环境信息\n    env.print();\n\n    iStopwatch.st();\n    INFO(\"=== Load VLOOK ===\");\n\n    // ----------------------------------------\n    // Gray Mode\n    GrayMode_init();\n\n    // to-do\n    // $('meta[content^=\"${\"]').remove();\n\n    // ----------------------------------------\n    // 加载生成 VLOOK 界面\n    loadVLOOKui();\n\n    // ----------------------------------------\n    // 动效初始化\n    iStopwatch.st(\"* Effect\");\n    let effect = V_util_getParamVal(_effect_);\n    V_ui_effect = (effect === gUndefined) ? 2 : JS_parseInt(effect);\n    V_ui_effect = env.device.mobile ? 0 : V_ui_effect;\n    LOG(\"    └ Level [ \" + V_ui_effect + \" ]\");\n    V_ui_initEffectLevel();\n    iStopwatch.ed(_cost_);\n\n    // 先隐藏文档原始内容，减少页面重绘\n    VOM_doc().hide();\n\n    // ----------------------------------------\n    // 初始化欢迎页\n    iStopwatch.st(\"* Welcome Page Init\");\n    let wsMode = V_util_getParamVal(\"ws\");\n    wsMode = (wsMode === gUndefined) ? _auto_ : wsMode;\n    LOG(\"    └ mode: \" + wsMode);\n    WelcomePage_init(wsMode);\n\n    // 文档不符合 VLOOK 规范则不加载 VLOOK 插件\n    if (!V_checkSpec()) {\n        V_byClass(\"v-welcome-page\").hide();\n        V_byClass(_vToolbar_).hide();\n        V_byClass(_vBtn_).hide();\n        return;\n    }\n    iStopwatch.ed(_cost_);\n\n    // ----------------------------------------\n    // 初始化关键组件实例\n    iStopwatch.st(\"* Intance\");\n    V_init();\n    iStopwatch.ed(_cost_);\n\n    // ----------------------------------------\n    // 获取当前文档的 style 对象\n    gStyle = document.styleSheets[0];\n\n    // ----------------------------------------\n    // 延后加载 VLOOK 插件，避免欢迎页的 UI 刷新阻塞\n    // 独立线程进行处理\n    setTimeout(loadVLOOKplugin, 100);\n});\n\n/**\n * 字体加载完成后执行的主流程\n */\ndocument.fonts.ready.then(() => {\n    // 字体加载完成后的逻辑\n    LOG(\"!!! ALL FONT READY !!!\");\n});\n\n/**\n * 加载 VLOOK UI 资源\n */\nfunction loadVLOOKui() {\n    // to-do: 添加链接地图 linkmap 的处理，并跳过正常加载流程\n\n    V_byClass(\"v-vlook-inside\").af(VLOOKui_loadWelcomePage()\n        + VLOOKui_loadIconSet()\n        + VLOOKui_loadTopbar()\n        + VLOOKui_loadNavCenter()\n        + VLOOKui_loadCommon());\n}\n\n/**\n * 加载 VLOOK 插件\n */\nfunction loadVLOOKplugin() {\n    // ----------------------------------------\n    // 推荐的浏览器类型检测\n    iStopwatch.st(\"* Browser Check\");\n    if (!env.browser.Chrome && !env.browser.Edge && !env.browser.Firefox && !env.browser.Safari && !env.core.webkit) {\n        ALERT([\n            \"为获得最佳兼容性，建议使用 Chrome / Firefox / Edge 浏览器\",\n            \"For best compatibility, it is recommended to use Chrome / Firefox / Edge browser\"\n        ][V_lang_id]);\n    }\n\n    iStopwatch.ed(_4space_);\n\n    // ========================================\n    // 初始化 VLOOK 核心模块\n    V_initKernel();\n\n    // ----------------------------------------\n    // 修改主题默认的圆角风格\n    let newRadius = V_util_getParamVal(_radius_);\n    if (newRadius === \"small\" || newRadius === \"big\") {\n        // 批量修改圆角相关的 CSS 变量为指定的新值\n        V_util_changeCssVarSet([\n            _V_R_B_,\n            _V_R_S_,\n            _V_R_T_,\n            _V_R_Tag_,\n            _V_R_C_\n        ], newRadius);\n    }\n    else if (newRadius === _none_) {\n        // 批量修改圆角相关的 CSS 变量为 0\n        V_util_changeCssVarSet([\n            _V_R_B_,\n            _V_R_S_,\n            _V_R_T_,\n            _V_R_Tag_,\n            _V_R_C_\n        ]);\n    }\n\n    // ----------------------------------------\n    // 统一同组的分栏引用块的高度\n    __fork(\"Quote Unite Columns Height\", () => {\n        ExtQuote_uniteColumnsHeight();\n    }, 1000);\n\n    // ----------------------------------------\n    // 段落导航初始化\n    __fork(\"Paragraph Nav\", () => {\n        ParagraphNav.init();\n    }, 100);\n\n    // ----------------------------------------\n    // 完成初始化后恢复显示\n    iStopwatch.st(\"* Write Ready\");\n    JQ_addClass(VOM_doc(), \"v-load-done \" + _vFocusSearch_);\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 初始化外部链接\n    __fork(\"External Link\", () => {\n        V_doc_link_adjustExternal();\n    }, 100);\n\n    // ----------------------------------------\n    // 初始化全局热键\n    __fork(\"Hotkey\", () => {\n        V_ui_initHotkey();\n    }, 150);\n\n    // ----------------------------------------\n    // 初始化须在页面 body 显示后才能执行的部分\n    __fork(\"Restyle\", () => {\n        V_initRestyle();\n    }, 200);\n\n    // ----------------------------------------\n    // 初始化，并安装自动适配器，实时跟随系统 Color Scheme 的变化\n    __fork(\"Color Scheme\", () => {\n        ColorScheme.scheme = V_util_getVarVal(_varColorScheme_).x();\n        INFO(\"    System [ \" + ColorScheme.scheme + \" ]\");\n        ColorScheme.init();\n        // 判断当前文档是否强制指定了颜色方案\n        let colorScheme = V_util_getParamVal(\"cs\");\n        if (colorScheme === _light_ || colorScheme === _dark_) {\n            INFO(\"    Force use [ \" + colorScheme + \" ]\");\n            ColorScheme.tg(colorScheme);\n        }\n        // 若系统当前颜色方案是 dark，则强制同步\n        else if (ColorScheme.scheme === _dark_)\n            ColorScheme.tg(ColorScheme.scheme);\n    }, 300);\n\n    // ----------------------------------------\n    // 初始化内容助手\n    // 须隐藏文档原始内容前执行，避免部分样式失效\n    __fork(\"Content Assistor\", () => {\n        ContentAssistor_init();\n        PicInPic_init();\n\n        // 设置表格阅读模式的开关状态（不指定则默认关闭）\n        if (V_util_getParamVal(\"tr\") === _on_)\n            TableCross_toggle();\n    }, 300);\n\n    // ----------------------------------------\n    // URL 带锚点的处理\n    __fork(\"Redirect to Hash\", () => {\n        let redirect = V_util_redirectTo();\n        if (VOM_cover() === gUndefined && !redirect) {\n            iNavCenter.catalog.currentHeaderIndex = 0;\n            V_ui_adjustAll();\n            ExtQuote_uniteColumnsHeight();\n        }\n    }, 450);\n\n    // ----------------------------------------\n    // 字数统计\n    __fork(\"Words count\", () => {\n        DocInfo_countWord();\n    }, 500);\n    // }\n\n    // ----------------------------------------\n    // 更新欢迎页\n    iStopwatch.st();\n    INFO(\"* Welcome Page Done (\" + WelcomePage_mode + \")\");\n    WelcomePage_done();\n    iStopwatch.ed(_cost_);\n\n    // ----------------------------------------\n    // VLOOK 加载完成\n    gTotalTimes = iStopwatch.stop() - 200;\n    INFO(\"=== !!! MAIN PROCESS DONE !!! ===\");\n    INFO(\"TOTAL COST   ⏱ \" + gTotalTimes + \" ms\");\n    INFO(\"    ├ HTML   ⏱ \" + gTimes + \" ms\");\n    INFO(\"    └ VLOOK  ⏱ \" + (gTotalTimes - gTimes) + \" ms\");\n\n    // ----------------------------------------\n    if (gThmVer !== gVer) {\n        ALERT([\n            \"⚠️ 注意 ⚠️\\n\\n本文档使用的 VLOOK™ 主题，与插件版本不匹配，会影响实际使用，请将主题更新至与插件一致版本！！！\"\n                + `\\n\\n当前主题 [ ${gThmName} ]\\n`\n                + `主题版本 [ ${gThmVer} ]\\n`\n                + `\\n插件版本 [ ${gVer} ]`,\n            \"⚠️ WARNING ⚠️\\n\\nThe VLOOK™ theme and plugin versions in this document are incompatible, which will affect the actual use. Please update theme to same versions of plugin !!!\"\n                + `\\n\\nCurrent Theme [ ${gThmName} ]\\n`\n                + `Theme Version [ ${gThmVer} ]\\n`\n                + `\\nPlugin Version [ ${gVer} ]`,\n        ][V_lang_id]);\n    }\n\n    // ----------------------------------------\n    // 提交统计数据\n    // __fork(\"Push Stat\", function () {\n        if (V_pageMode === _max_) // 非文库方式显示时才上报\n            V_report_submit(gTotalTimes - gTimes);\n    // }, 350);\n\n    /**\n     * 创建独立线程执行\n     * @param msg 线程信息\n     * @param callback 线程执行的回调函数\n     * @param delay 0 - 立即时间，>0 - 延时执行（毫秒）\n     */\n    function __fork(msg, callback, delay) {\n        setTimeout(() => {\n            let sw = new Stopwatch();\n            sw.st(\"* thread * [\" + msg + \"]\");\n            typeof(callback) === _function_ && callback();\n            sw.ed(_4space_);\n        }, delay);\n    }\n}\n"],"mappings":"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","ignoreList":[]}