{"version":3,"sources":["../../src/vlook.js"],"names":["LOG","console","log","apply","arguments","INFO","info","WARN","warn","ERROR","error","ALERT","m","alert","WINDOW_getHref","window","location","href","WINDOW_setHref","value","WINDOW_getHash","hash","JQ_addClass","target","className","gUndefined","addClass","JQ_removeClass","removeClass","JQ_exchangeClass","oldClassName","newClassName","JQ_remove","remove","JS_parseInt","parseInt","JS_parseFloat","parseFloat","JS_mathRound","Math","round","JS_mathCeil","ceil","JS_decodeURI","decodeURI","DOM_html","DOM_h","$","length","s_Failed","DOM_body","DOM_b","VOM_doc","VOM_d","VOM_cover","VOM_c","VOM_docTitle","VOM_backcover","VOM_bc","fns","backcover","pr","tagName","V_util_getTagName","VOM_dt","V_params_init","V_params_url","V_util_getUrlQueryParams","vp","V_util_getMetaByName","V_params_yaml","V_util_getDocTitle","document","a","s_Title","metaName","content","s_Content","V_util_getParamVal","pName","v","u","h","i","si","s","qs","p","is","sp","item","l","decodeURIComponent","V_util_getUrlHash","V_util_getUrlQueryString","V_util_getUrlWithoutHash","V_util_getUrlPathWithoutQueryAndHash","queryIdx","hashIdx","V_util_holdKey_Alt","event","v_util_mouseDropIn","mx","pageX","clientX","body","scrollLeft","my","pageY","clientY","scrollTop","padding","c","s_PaddingTop","borderBottomWidth","s_BorderBottomWidth","oL","w","oT","V_util_campColor","color","gradientColors","V_util_splitColors","count","colorStr","gColor","charAt","toUpperCase","slice","split","filter","V_util_genGradColorCSS","fade","suffix","css","V_util_changeCssVarSet","varSet","flag","tmp","len","push","V_util_getVarVal","V_util_setVarVal","V_util_getPath","qi","ti","lastIndexOf","pi","V_util_htmlTagEncode","text","r","V_util_clearHtmlQuot","V_util_ellipsisText","limit","__getChs","str","cjk","cnt","__getChsRev","x","t","cjkHeader","cjkTailer","V_util_redirectTo","setTimeout","V_ui_tuningScrollTop","gTrue","gFalse","V_util_gotoHash","last","varName","getComputedStyle","documentElement","getPropertyValue","style","setProperty","V_util_getTemplateTheme","rA","prop","s_TagName","V_formatting_thousands","V_formatting_decimal","V_formatting_percent","s_SpanSpace","V_formatting_currency","V_checkSpec","V_lang_id","s_Class","gToc","V_init","sw","Stopwatch","st","iFontTheme","FontTheme","BgMask","s_FontTheme","s_Center","init","ed","iSpotlight","Spotlight","BottomTips","s_Spotlight","iLaserPointer","LaserPointer","cf","ContentFolder_enabled","s_Off","s_On","ContentFolder_enabled_table","s_Table","ContentFolder_enabled_figure","s_Figure","ContentFolder_enabled_codeblock","s_Codeblock","ContentFolder_init","ToolTips_init","iInfoTips","InfoTips","runMode","iNavCenter","NavCenter","s_NavCenter","s_Left","iChapterNav","ChapterNav","chpNav","iToolbar","Toolbar","add","tg","s_DocLib","docLib","counter","showed","keyword","input","focus","val","s_vdl","select","show","addSpliter","s_ToolbarSpliter","s_ParagraphNav","inform","hide","iParagraphNav","s_LaserPointer","s_Print","V_print_ready","toolbar","bindButton","btns","iFigNav","FigureNav","MoreDocContent_init","iFootNote","FootNote","s_Bottom","StsDocInfo_init","StsFontTheme_init","StsColorScheme_init","StsLinkTool_init","s_Right","StatusBar_init","StatusBar_add","StsDocInfo_ui","StsFontTheme_ui","StsColorScheme_ui","StsLinkTool_ui","V_initKernel","iStopwatch","icoLg","s_BackgroundImage","icoDk","ap","s_4space","vTp","V_type","s_Mini","pp","s_DivClose","V_ui_initI18n","CaptionGenerator_autoContent","ExtAudio_init","ExtVideo_init","ExtQuote_init","ExtQuote_adjustHoverStyle","ExtFigure_init","s_Cost","ExtTable_init","TableCross_init","RowGroup_adjustHoverStyle","ExtCodeBlock_init","CodeMagic_init","XscriptMagic_init","ExtQuote_initAfterCap","LinkTool_mdToHtml","LinkTool_checkLink","V_ui_adjustHoverStyle","ContentFolder_adjust","env","device","mobile","showHandle","adjust","StatusBar_adjust","catalog","adjustHoverStyle","ChpAutoNum_initToc","hasIndexItem","figure","table","media","codeblock","addEventListener","repaint","snap","uC","ck","TableCross_hide","mmMindmap_init","on","currentTime","Date","getTime","timeInterval","docHeight","V_doc_scroll_lastUpdate","MoreDocContent_refresh","abs","V_doc_scroll_lastTop","V_doc_scroll_update","V_ui_adjustAll","focusHeader","ExtQuote_uniteColumnsHeight","onbeforeprint","V_print_mode","onafterprint","V_print_done","anchor","history","aObj","o","hiddenObj","closest","s_Blockquote","isHidden","fd","f","tr","s_MouseUp","gLastHash","browser","Firefox","V_ui_adjustAllDelay","V_initRestyle","Restyler_forTaskList","Restyler_forMermaid","V_ui_show","s_Visibility","s_Opacity","V_ui_hide","s_Hidden","V_ui_wrap_kbd","src","V_ui_getCtrlKeyUI","unwrap","short","key","os","macOS","V_ui_getShiftKeyUI","V_ui_getAltKeyUI","V_ui_getMetaKeyUI","V_ui_copyrightInfo","encodeURI","print","V_ui_isSmallScreen","oW","gSmallScreenWidth","sW","ui","s_Top","s_Height","y","tag","s_H6","V_ui_genSvgIcon","V_ui_genDiv","idValue","classValue","ContentFolder_ui","s_DataTips","prev","next","dt","current","close","hm","buttonSeeAll","ch","V_ui_moveToCenter","s_Auto","V_ui_moveToTarget","s_PaddingLeft","s_PaddingRight","s_BorderWidth","V_ui_processingAdjust","s_CssBtn_BtnGroup","uH","V_ui_bindHover","cancleParent","hover","_t","this","s_Hover","s_MouseEnter","V_ui_unbindHover","unbind","s_MouseLeave","V_ui_initEffectLevel","V_ui_effect","s_None","s_Enabled","V_ui_addAnimate","V_ui_initEffectLevel2","s_CssTransitionAll","attrSet","V_ui_removeAnimate","V_ui_initHotkey","__showHideNavCenter","isShowed","s_Click","code","keyCode","which","charCode","combKeys","ctrlKey","shiftKey","altKey","metaKey","V_debugMode","String","fromCharCode","ContentAssistor_toggleCopyMode","disposeHotkey","WelcomePage_disposeHotkey","LinkTool_disposeHotkey","V_doc_block","activeElement","handled","preventDefault","navigator","clipboard","readText","then","catch","enabled","TableCross_ui","TableCross_disable","ContentAssistor_copyAsMarkdown","V_lang_init","language","base","V_doc_scroll_freeze","s_Unfreeze","s_Freeze","V_doc_scroll_unfreeze","V_doc_link_adjustExternal","e","s_Target","s_Href","ColorScheme","scheme","s_Dark","schemeBeforePrint","s_Light","refresh","s_BeforePrintWidth","s_Width","s_Style","s_MaxWidth","s_BeforePrintMaxWidth","s_Details","RowGroup_open","PicInPic_hide","rainbowCoats","confirm","s_DataRbCoatShowed","RainbowCoat_show","removeAttr","V_report_submit","loadTimeCost","sd","display","DPR","Windows","iOS","Linux","Edge","browserVer","Chrome","Safari","mermaid","s_Audio","s_Video","pie","flow","flowSTART","flowINIT","state","seq","classD","gantt","fmBold","fmEm","fmUnderline","fmMark","fmDel","fmChk","fmNum","vlookStat","s_Src","RandomColor_generate","floor","random","RandomColor_dissimilarRgb","RandomColor_palette","d","idx","sqrt","RandomColor_format","rgb","opacity","T","sT","lT","reset","pre","slient","msg","stop","WelcomePage_init","mode","WelcomePage_ui","WelcomePage_uiName","WelcomePage_button","WelcomePage_tips","WelcomePage_finished","WelcomePage_mode","WelcomePage_close","WelcomePage_done","s_Cursor","WelcomePage_stopAni","s_Animation","WelcomePage_updateCloseButton","delay","WelcomePage_autoClose","s_Wait","__timeToClose","delaySecs","clearTimeout","closeTimer","sec","ContentAssistor_init","__actionCopy","ContentAssistor_lastHover","ContentAssistor_lastContentType","ExtCodeBlock_copyContent","s_Fig","ExtFigure_copySrc","ExtTable_copyContent","ContentAssistor_ui","ContentAssistor_btns_copyContent","s_CssBtn__Assistor","ContentAssistor_btns_openInFigureNav","ContentAssistor_btns_tableCross","ContentAssistor_btns_tableWrap","ContentAssistor_btns_picInPic","ContentAssistor_hide","TableCross_toggle","TableWrap_toggle","PicInPic_show","ToolTips_bind","ContentAssistor_bind","contentType","asMarkdown","tag_2space","ContentAssistor_show","s_First_Enable_Last","eW","s_Enabled_First","s_Enabled_Last","s_DataTblCross","s_True","s_Selected","s_WhiteSpace","s_PreWrap","caption","container","offset","s_CssCaptionContainer","capWidth","conWidth","s_BorderLeftWidth","s_BorderTopWidth","PicInPic_init","PicInPic_ui_body","PicInPic_ui_content","PicInPic_ui_zoom","s_CssPipBtn","PicInPic_ui_close","pipBtn","PicInPic_ratio","s_Theme","PicInPic_zoom","s_Min","source","__cloneForPicInPic","openAll","RowGroup_openAll","s_DataContentFolded","ContentFolder_expand","n","newClone","clone","s_Margin","s_Border","img","svg","s_DataFigNum","s_CssMermaidRestyler","RowGroup_reset","RowGroup_closeAll","PicInPic_calcSize","empty","pic","PicInPic_fitContentSize","baseW","baseH","PicInPic_size_width","PicInPic_size_height","__getImgSize","width","height","sourcePadding","uiPadding","Image","complete","onload","wWithPadding","s_TransformOrigin","hWithPadding","s_Transform","radius","tips","zoom","normal","bigger","lastPos","toggleZoom","s_CssSpotlightInDark","pointerScope","s_CssCursorLaser","key1","key2","isEnabled","s_Background","enable","SegmentControl","control","group","segs","segCnt","indicator","icon","checked","status","__updateIcon","entry","s_DataIcon","name","typeName","id","change","update","checkedItem","sts","s_DataResult","space","spacePercent","pos","left","s_MarginLeft","mask","handle","__keywordBody","TextField","lastDisplayType","s_Float","snapTimer","TocIndex_segments","TocCatalog","TocFigure","TocTable","TocMedia","TocCodeblock","TocHistory","bindPartner","onChapterChanged","setIcon","cmdKey","placeholder","onInput","resultNav","result","hideFilterResult","scrollToCurrent","updateStatus","TocIndex_noneKeyword","TocIndex_filter","onFocus","search","s_Actived","onBlur","pressEnter","onInteractive","adjustClickHash","gotoCover","currentItem","s_CssTocItemCurrent","currentHeaderIndex","ToolTips_hide","callback","inHeader","s_Block","s_Function","afterToggle","s_CssNavCenterFloat","s_CssFloatCard","s_CssNavCenterBlock","s_writeMarginLeft","setWidth","s_varNavCenterHiddenLeft","s_varNavCenterWidth","inputing","__prev","__current","__next","__dt","adjustEffectLevel","s_Effect","s_DataAnchor","s_Cover","gotoHeader","s_Disabled","curIdx","s_Display","s_InStart","inFirstHeader","inDocTitle","headerNum","s_DataHeaderNum","s_Span","s_SpanClose","MoreDocContent_ui_before","ParagraphNav","cur","MoreDocContent_hideAfter","key3","goto","s_DataId","s_DataPgIdx","ThreeClicker_tick","prevPg","step","blurFocus","nextPg","s_CssPgCurrentItem","ExtQuote_autoUnfold","ThreeClicker_active","ThreeClicker_activeTime","getSelection","removeAllRanges","clickEvent","btnGroup","s_DataBtnGroup","ToolTips_show","offsetY","btnCount","btnWidth","FontThemeOption","fonts","fontCount","theme","localTheme","bookTheme","sansTheme","serifTheme","initWebFont","__loadNumberFont","fontName","srcName","loadFont","s_Normal","s_WOFF2","s_Bold","_Bold","s_Italic","_Italic","__LoadDigitalSansFont","_Regular","s_TTF","unicodeRange","fontWeight500","_Medium","fontWeight900","_Black","__LoadDigitalSerifFont","luxiMonoSubName","__loadSansMonoFont","__loadSerifMonoFont","__loadSansCjkFont","__loadSerifCjkFont","timeOutMsg","button","fontFamily","fontStyle","fontWeight","srcFontName","srcFontSubName","woff","isExist","woffURL","webfontHostAlt","fontFace","FontFace","weight","load","loadedFontFace","fontID","readyMsg","loadingMsg","splice","sansLoadedCount","sansStatus","serifLoadedCount","serifStatus","values","isHave","done","family","varList","fontVarList","StatusBar_ui","StatusBar_items","StatusBar_options","DocInfo_countWord","latin","latinCount","cjkCount","wordCount","readCountPerMin","mins","times","toFixed","s_DataDefault","toString","s_DataExtend","StsColorScheme_updateIcons","LinkTool_panel_list","LinkTool_panel_header","LinkTool_panel_body","LinkTool_enabled","LinkTool_icon_error","LinkTool_mask","LinkTool_hide","scroll","mdx","newExt","LinkTool_addToCheck","s_Tabindex","__addErrorLink","s_Id","s_Error","LinkTool_show","LinkTool_isShowed","af","partner","partnerUI","s_Zindex","s_Padding","ContentFolder_add","type","ps","ContentFolder_contents","ContentFolder_buildTimers","shift","ContentFolder_rebuild","ContentFolder_checkAndProcess","rebuild","oldExpander","s_CssContentExpander","expanded","s_DataContentExpanded","folded","s_DataBeforePrintFolded","s_DataContainer","s_False","s_PaddingBottom","ContentFolder_limit","ContentFolder_buildContentExpander","tHeight","s_OverflowX","s_OverflowY","expander","ContentFolder_rowNumFilter","s_CssTableRowNumHidden","btn","tW","s_BorderBottomRightRadius","s_DataContentType","s_Overflow","ToolTips_ui","align","follow","ToolTips_aniTimer","ToolTips_continueTimer","ToolTips_lastStyle","tipsW","iW","tipsH","iH","ww","wh","top","waitTime","ToolTips_continueShow","ToolTips_delay","aniTimer","message","bubble","s_Bubble","s_BorderRadius","s_varRB","MoreDocContent_ui_after","CaptionGenerator_actionForTextContent","captionPrefix","V_doc_counter_table","indexObj","dataForSearch","V_doc_counter_codeblock","fcSet","CaptionGenerator_getCaptions","fc","fc2","CaptionGenerator_spliter","wrap","bf","has2Captions","s_DataCaptionCount","s_DataTitle","CaptionGenerator_actionForMediaContent","s_Alt","V_doc_counter_figure","V_doc_counter_audio","V_doc_counter_video","s_ViewBox","__parseCaptionSyntax","reg2","reg1","html","test","__getCaptionSet","captionTagName","hideCaptionSrc","capResult","s_Position","s_Absolute","lmc","s_DataLmc","lines","lineNum","lineCount","badChars","goodChars","encodeText","lang","s_Lang","Copyer_action","supportMarkdown","successCallback","errorCallback","ts","Copyer_processing","Copyer_lastActionTime","targetName","s_DataClipboardText","ClipboardJS","note","clearSelection","destroy","Copyer_copyModeTimer","__genNumContent","lv","diff","ChpAutoNum_lastLevel","absDiff","ChpAutoNum_push","ChpAutoNum_pop","ChpAutoNum_counter","ChpAutoNum_toString","metaTpl","gTocContent","isEmpty","ChpAutoNum_resetTpl","ChpAutoNum_resetCounter","ChpAutoNum_parseTocHeaderLevel","ChpAutoNum_tpl_prefix","__parseTplItem","ChpAutoNum_tplSet","ChpAutoNum_tpl_syntax","ChpAutoNum_tpl_leftPad","ChpAutoNum_tpl_format","ChpAutoNum_tpl_formatOpt","ChpAutoNum_tpl_suffix","ChpAutoNum_tpl","tplSet","isNaN","__formatNum","opt","ns","upperCase","format","ChpAutoNum_leftPadForDecimal","ChpAutoNum_decimalToZh","ChpAutoNum_decimalToAlpha","ChpAutoNum_decimalToRoman","superLv","numStr","pad","gap","padStr","num","__numToZh","strArr","reverse","newNum","ChpAutoNum_zhNum","ChpAutoNum_zhUnit","__toZhUpperCase","overWan","noWan","numeral","ChpAutoNum_romanNum","ChpAutoNum_romanNumArea","__disposeDetailsFolder","quote","V_doc_counter_details","details","summary","dcQuote","RainbowQuote_defalutColor","RainbowQuote_defalutColor_withoutEm","matchedQuoteFold","s_DataFoldingQuote","parentTag","rainbowQuoteEnabled","ExtQuote_isValidColorMark","RainbowColor_syntax","ExtQuote_initColumns","ExtList_initColumns","pText","preObj","preObjClass","__hideHr","__groupingColumns","s_DataQuoteGroup","ExtQuote_columnsGroupCount","colCount","hr","prevUntil","nextUntil","ExtQuote_processingUCH","ExtQuote_uniteColumnsHeightForGroup","groupId","maxHeight","__openDetails","parent","s_Open","__initCell","colIndex","needCheckCellMerge","needCheckColumnFormatting","needCheckThRpt","th","s_DataCellMerge","CellMerge_syntax_row","CellMerge_syntax_col","ColumnFormatting_init","ThRepeater_syntax_tag","s_DataThRpt","rHTML","s_DataTblCol","TableCross_bind","needCheckRowGroup","td","s_DataRowGroup","RowGroup_syntax_tag","s_CssTableColumnFormat_Mark","CellMerge_dispose","cell","ColumnFormatting_format","RowGroup_init","s_DataIdentLevel","ThRepeater_init","__createTheadSpliter","alignSet","lastAlign","spliter","__maybeAsMarkdown","mdStr","plainStr","__transCellContent","cellHTML","cellBg","cellWholeText","__transCellContent_code","__transCellContent_tag","__transCellContent_badge","__transCellContent_rainbowText","brTmp","matcher","RainbowTag_getColor","em","bq1","__hasBackquote","bq2","RainbowColor_genAsMarkdown","RainbowTag_defalutColor","bName","bValue","RainbowBadge_getColor","RainbowBadge_defalutColor","exp","__printXspanArr","debugMode","rowCount","sss","xspanMatrix","j","trSet","theadCount","columnFmting","s_DataColumnFmting","theadRepeater","rowGroup","rowIndex","__disposeRowspan","htmlText","rowspan","cellSet","colspan","colFmtChkbox","colFmtDel","s_DataRainbowCellBg","s_DataRainbowWholeText","s_CssTableColumnFormat_Checkbox","yes","un","s_CssTableColumnFormat_Del","s_TextAlign","s_CssTableRowGroupSub","identerCount","s_Rowspan","s_Colspan","colSpanCount","colSpanCell","lastCell","tblData","tblSpan","tblTd2ThData","needRowSpan","CellMerge_emptyBlankCell","rowSpanCount","rowSpanCell","thSpanFlag","s_VerticalAlign","foundTd","tblCol","s_DataColspan","s_DataTd2th","TableCross_enable","TableCross_lastTable","TableCross_lastCell","stopPropagation","s_CssTableCrossCell","tblWidth","tblHeight","cellWidth","cellHeight","cornerLeftX","cornerUpY","cornerLeftWidth","cornerUpHeight","cornerRightX","cornerDownY","cornerRightWidth","cornerDownHeight","leftUp","s_CssTableCross","rightUp","leftDown","rightDown","TableWrap_disable","TableWrap_enable","ColumnFormatting_syntax_checkbox_header","ColumnFormatting_getCells","cells","ColumnFormatting_getTbodyCells","tbodyCells","cellsCSS","s_CssTableColumnFormat_Bold","s_CssTableColumnFormat_Em","thHTML","s_CssTableColumnFormat_U","contents","ColumnFormatting_removeCheckboxSyntax","ce","typeFlag","ColumnFormatting_syntax_checkbox","chkStatus","chkStyle","s_Yes","s_Un","isNumber","ColumnFormatting_coloringNumber","isPercent","coloring","percent","percentValue","bg1","bg2","bgSplit","baseBg","s_Color","s_MinWidth","isCurrency","s_CssTableColumnFormat_NumNeg","s_CssTableColumnFormat_NumPos","syntaxText","s_CssTableRowGroupNotFolder","lastLevel","currentLevel","RowGroup_parentStack","RowGroup_colorStack","RowGroup_spliter","beforeChanged","RowGroup_newFolder","s_varTblRowAlpha","RowGroup_ident","pop","RowGroup_lastParent","RowGroup_lastColor","level","__echoOuterHTML","objectSet","outerHTML","folderRow","RowGroup_folderCount","s_DataFolderId","s_DataFolder","s_DataRowFolded","tdHadIdent","RowGroup_icoClosed","preClass","preObjs","cloneTd","s_CssTableRowGroupBtn","RowGroup_toggle","RowGroup_close","s_DataRowOpenMode","s_DataParentFolderId","RowGroup_syntax_tag2Replace","s_BackgroundColor","identer","identObj","subRows","folderButton","RowGroup_icoOpened","thRow","tdHTML","colID","prevThRow","s_CssThRepeater","folder","hasRowGroup","pageSize","skipRowCount","lastSkipRowCount","tbody","rowSpan","__transToAudio","audioLike","autoplay","loop","preload","audio","s_Autoplay","s_Loop","s_Preload","__play","self","controls","paused","play","ExtAudio_icon_play","s_Playing","pause","s_DataPause","__addToLinkChecker","params","V_doc_counter_audiomini","bind","s_CssAudioMiniControl","s_Loading","ExtAudio_icon_loading","dur","dur2","s_DataDuration","duration","min","minStr","ExtAudio_icon_pause","ExtAudio_icon_stop","s_Emptied","ExtAudio_icon_forbidden","s_Controls","s_Caption2","s_MarginBottom","__transToVideo","videoLike","video","append","action","lastValue","timerValueChanged","onKeyDown","onAction","pressESC","__appendTo","__processInput","actionHover","__checkComValueChanged","s_CssTextFieldFocus","blur","clear","setAction","enter","s_HoverAction","s_Placeholder","FilterResultNavigator","index","nextItem","set","eq","holder","hidden","foldItems","lastHeaderFolder","lastHeaderLevel","lastDocScrollTop","unfold","s_DataCatalogEmpty","s_CssTocFolder","s_DataRef","s_DataNode","s_DataFolded","insertBefore","folderParent","disposeFold","s_DataPid","__expandUpFolder","headerHeight","preDis","sTop","sBottom","showFilterResult","matched","s_TocItem","data","cloneItem","s_CssTocItem","s_DataKeywordMatch","s_DataForSearch","TocIndex_updateStatus","traversal","lastItem","itemSet","nextAll","btnFolder","hd1","hd2","TocIndex_initUI","TocIndex_showTips","items","TocIndex_add","forSearch","TocIndex_hasIndexItem","TocIndex_show","TocIndex_hide","title","hashObj","existsItem","tocItem","noneHistory","DocLib","iframe","page","identifier","paths","__addDocLibItem","includes","docLibToc","s_DataPage","s_DataHash","open","docLibValue","s_vlookDocLib","docLibList","RegExp","reload","cs","newPage","path","__disposeCaption","fig","s_CssFig","__bindLoadChecker","cp1","s_Caption1","__loadDefaultOnError","__isNotFigure","iconMode","logoMode","frameMode","__isPostcard","__initAlign","__initBackground","grid","s_DataFigureGrid","__initFillAlter","s_DataImgFill","s_SuffixSvg","SVGInject","afterInject","svgObj","ExtFigure_adjustFillAlterForSVG","onFail","__initColorScheme","s_Invert","s_DataDarkSrc","queryString","darksrc","s_DataSrcLight","s_DataSrcDark","s_DataSrcsetLight","s_DataSrcsetDark","__initHighDPI","srcset","darksrcset","__transUrlSrcSet","s_Srcset","__initPostcard","s_Card","blockquote","parentsUntil","s_CssText","s_BoxShadow","altText","altTextForSearch","titleText","cardBody","card","imgH","V_doc_counter_postcard","pureSrc","fileName","rAfter","httpMode","canFillAlter","hostname","imgHost","src2FillAlter","isPostcard","V_doc_counter_img","matchRes","srcHost","needImgHost","prevFig","undefined","ExtFigure_adjustColorScheme","alt","disposeGrid","darkMode","s_CssImgInvertDark","s_DataSrc_","s_DataSrcset_","fill","s_Text","s_Filter","gridType","darkInvert","s_Line","s_Fill","s_CssFigNavBtns","figNum","nextFig","s_MouseDown","updateUI","newFig","s_MaxHeight","pageNum","li","chkIndex","notDone","s_Checked","indeterminate","zenSelector","zenuml","idPrefix","svgIconCount","svgIcon","attr","seqSelector","viewBox","paddingBottom","actor","tmpText","prefix","front","keySys","extSys","line","s_Rx","s_Ry","s_CssActorKeySys","s_CssActorExtSys","s_TextLength","fragment","g","segType","bgColor","s_varMmOrange","borderColor","titleColor","s_varAcOrangeLg","s_varMmRed","s_varAcRedLg","s_varMmCyan","s_varAcCyanLg","s_Important","s_Stroke","fragmentTitle","label","rect","getBBox","nextText","TextPhonetic_syntax","TextPhonetic_build","colorSet","RainbowQuote_build","RainbowTextAndCell_build","defaultColor","symbol","symbolCount","targetPrev","prevText","wordText","rubyHTML","raw","TextPhonetic_translation","colorCode","colorP","RainbowQuote_getColor","CodeMagic_isRainbowColorEm","__disposeText","obj","solid","RainbowColorTooLight","span","wholeRendering","s_DataRainbowText","__disposeUnderline","s_BorderColor","s_BorderImage","__disposeMark","s_TextShadow","__disposeCell","tableCellBgMode","renderTarget","dcTag","dcBadge","dcCoat","RainbowCoat_defalutColor","stdCount","codeText","RainbowBadge_syntax","RainbowBadge_build","RainbowTag_syntax","RainbowTag_build","RainbowCoat_syntax","RainbowCoat_build","TextPhoneticOld_syntax","TextPhoneticOld_build","ContentAssistor_lastTarget","CodeMagic_parseRainbowColor","newColors","__asMarkdown","RainbowTag_count","badgeName","badgeValue","badgeValue2","varStr","RainbowBadge_count","childNodes","nodeCnt","s_CssBadgeValue","RainbowBadge_syntax_variable","s_Two","RainbowCoat_getColor","coatCount","s_CssRbCoat","s_DataRbCoatData","RainbowCoat_generateBg","RainbowCoat_toggle","charCount","start","end","s_varDFC","RainbowCoat_hide","s_Opened","s_varDBc","translator","url","VLOOKui_loadWelcomePage","date","author","defalutContent","metaContent","s_Br","VLOOKui_loadIconSet","VLOOKui_loadTopbar","VLOOKui_loadNavCenter","VLOOKui_loadCommon","loadVLOOKui","loadVLOOKplugin","__fork","core","webkit","newRadius","s_varRB__","s_varRS__","s_varRT__","s_varRTag__","s_varRC__","colorScheme","gTotalTimes","gTimes","redirect","vVer","s_CssAccentBtn","s_CssBlockquoteFolder","s_CssCaption__Mermaid","s_CssCodeMirrorLine","s_CssFences","s_CssFocusSearch","s_CssTocHistory","s_CssSegmentBtn","s_CssTableRowGroupIdenter","s_CssTocFilterResult","s_Darksrc","s_Darksrcset","s_DataFigType","s_DataHistory","s_DataIdFigType","s_FootnotesArea","s_MdToc","s_Name","s_SuffixImg","prototype","click","children","each","find","innerWidth","margin","outerWidth","innerHeight","position","parents","prepend","after","before","toggle","trigger","match","searchValue","replaceValue","replace","trim","reg","replaceAll","startsWith","endsWith","indexOf","toLowerCase","substring","devMode","wrapText","suff","oldValue","newValue","userAgent","trident","presto","gecko","android","iPhone","iPad","full","subset","devicePixelRatio","silent","printMermaidDPR","RepairTool_mermaidDPR_builder","RepairTool_mermaidDPR_render","V_ver","hideOnError","vlookToc","tocSet","tocSetLength","hasCover","tocAutoCloseLevel","__setLightIcon","__darkIcon","head","__lightIcon","__setDarkIcon","__syncScheme","matches","__initScheme","querySelector","mediaQuery","matchMedia","ac","_alt","_fade","_title","acRed","acOrange","acYellow","acLime","acGreen","acMineral","acOlives","acWine","acAqua","acCyan","acBlue","acSea","acLavender","acVine","acPurple","acRose","acPink","acGold","acBrown","acGray","acBlack","acTheme1","acTheme2","mm","mmRed","mmOrange","mmYellow","mmGreen","mmCyan","mmBlue","mmPurple","mmPink","mmBrown","mmGray","cm","footnotesArea","CHPAUTONUM_TPL_FORMAT_OPT_NONE","CHPAUTONUM_TPL_FORMAT_OPT_MIN","CHPAUTONUM_TPL_FORMAT_OPT_SUP","effect","wsMode","ready"],"mappings":"yBAiWA,SAASA,IACLC,QAAQC,IAAIC,MAAMF,QAASG,WAG/B,SAASC,IACLJ,QAAQK,KAAKH,MAAMF,QAASG,WAGhC,SAASG,IACLN,QAAQO,KAAKL,MAAMF,QAASG,WAGhC,SAASK,IACLR,QAAQS,MAAMP,MAAMF,QAASG,WAGjC,SAASO,EAAMC,GACXC,MAAMD,GAIV,SAASE,IACL,OAAOC,OAAOC,SAASC,KAI3B,SAASC,EAAeC,GACpBJ,OAAOC,SAASC,KAAOE,EAI3B,SAASC,IACL,OAAOL,OAAOC,SAASK,KAK3B,SAASC,EAAYC,EAAQC,GACrBD,IAAWE,IACXF,EAAOG,SAASF,GAGxB,SAASG,EAAeJ,EAAQC,GACxBD,IAAWE,IACXF,EAAOK,YAAYJ,GAG3B,SAASK,EAAiBN,EAAQO,EAAcC,GACxCR,IAAWE,KACXF,EAAOK,YAAYE,GACnBP,EAAOG,SAASK,IAIxB,SAASC,EAAUT,GACXA,IAAWE,IACXF,EAAOU,SA4Nf,SAASC,EAAYf,GACjB,OAAOgB,SAAShB,GAIpB,SAASiB,EAAcjB,GACnB,OAAOkB,WAAWlB,GAItB,SAASmB,EAAanB,GAClB,OAAOoB,KAAKC,MAAMrB,GAItB,SAASsB,EAAYtB,GACjB,OAAOoB,KAAKG,KAAKvB,GAIrB,SAASwB,EAAaxB,GAClB,OAAOyB,UAAUzB,GA6BrB,SAAS0B,IAQL,OAPIC,KAAUrB,KACVqB,GAAQC,EAAE,QACW,IAAjBD,GAAME,SACNF,GAAQrB,GACRhB,EAAMwC,yBAGPH,GAKX,SAASI,IAQL,OAPIC,KAAU1B,KACV0B,GAAQJ,EAAE,QACW,IAAjBI,GAAMH,SACNG,GAAQ1B,GACRhB,EAAMwC,yBAGPE,GAOX,SAASC,IAQL,OAPIC,KAAU5B,KACV4B,GAAQN,EAAE,UACW,IAAjBM,GAAML,SACNK,GAAQ5B,GACRhB,EAAMwC,wBAGPI,GAKX,SAASC,IASL,OARIC,KAAU9B,KACV8B,GAAQR,EAAE,kEACW,IAAjBQ,GAAMP,SACNO,GAAQ9B,GACJ+B,MAAmB/B,IACnBlB,EAAK0C,qCAAyCnC,OAGnDyC,GAKX,SAASE,IAEL,GAAIC,KAAWjC,GAAY,CACvB,IAAIkC,EAAMZ,EAAE,mBACZ,GAAIY,IAAQlC,GAAY,CACpB,IAAImC,EAAYD,EAAIE,KAChBC,EACY,OADFC,EAAkBH,KAE5BF,GAASE,QAGbF,GAASjC,GACTlB,EAAK0C,yCAGb,OAAOS,GAKX,SAASF,IAQL,OAPIQ,KAAWvC,KACXuC,GAASjB,EAAE,oBACW,IAAlBiB,GAAOhB,SACPgB,GAASvC,GACTlB,EAAK0C,qBAAyBnC,OAG/BkD,GAsSX,SAASC,IACLC,GAAeC,EAAyBrD,KACxC,IAAIsD,EAAKC,EAAqB,eAC9BC,GAAgBH,EAAyB,aAAeC,IAAO3C,GAAa,IAAM2C,EAAK,KA6B3F,SAASG,IACL,OAAOxB,EAAEyB,UAAUC,EAAEC,IAQzB,SAASL,EAAqBM,GAC1B,IAAIC,EAAU7B,EAAE,cAAgB4B,EAAW,MAAMF,EAAEI,IACnD,OAAQD,IAAY,KAAOD,EAAW,IAAMlD,GAAamD,EAQ7D,SAASE,EAAmBC,GACxB,IAAIC,EAAId,GAAaa,GAIrB,OAFIC,IAAMvD,KACNuD,EAAIV,GAAcS,IACfC,EAOX,SAASb,EAAyBc,GAC9B,IAAIC,EAAID,EAAEE,EAAE,KAGRC,GAFJH,EAAIC,GAAK,EAAID,EAAEI,EAAE,EAAGH,GAAKD,GAEdE,EAAE,KACTG,EAAKL,EAAEI,EAAED,GAAM,EAAIA,EAAK,EAAIH,EAAEjC,OAAQiC,EAAEjC,QACxCuC,EAAI,GACJC,EAAMF,EAAGtC,OAAS,EAAKsC,EAAGG,GAAG,KAAO,GACpCC,EAAO,KACPC,EAAIH,EAAGxC,OAGX,IAAK,IAAImC,EAAI,EAAGA,EAAIQ,EAAGR,IAEnBO,EAAOF,EAAGL,GAAGM,GAAG,KAChBF,EAAEK,mBAAmBF,EAAK,KAAOE,mBAAmBF,EAAK,IAE7D,OAAOH,EAOX,SAASM,EAAkBZ,GACvB,IAAIE,EAAIF,EAAEE,EAAE,KACZ,OAAOA,GAAK,EAAIF,EAAEI,EAAEF,EAAGF,EAAEjC,QAAU,GAOvC,SAAS8C,EAAyBb,GAC9B,IAAIE,EAAIF,EAAEE,EAAE,KACZ,OAAOA,GAAK,EAAIF,EAAEI,EAAEF,EAAI,EAAGF,EAAEjC,QAAU,GAO3C,SAAS+C,EAAyBd,GAC9B,IAAIE,EAAIF,EAAEE,EAAE,KACZ,OAAOA,GAAK,EAAIF,EAAEI,EAAE,EAAGF,GAAKF,EAOhC,SAASe,EAAqCf,GAC1C,IAAIgB,EAAWhB,EAAEE,EAAE,KACnB,GAAIc,GAAY,EACZhB,EAAIA,EAAEI,EAAE,EAAGY,OACV,CACD,IAAIC,EAAUjB,EAAEE,EAAE,KACde,GAAW,IACXjB,EAAIA,EAAEI,EAAE,EAAGa,IAEnB,OAAOjB,EAOX,SAASkB,EAAmBC,GACxB,OAAQA,EAAY,OAQxB,SAASC,EAAmB9E,EAAQ6E,GAChC,IAAIE,EAAKF,EAAMG,OAASH,EAAMI,QAAUhC,SAASiC,KAAKC,WAClDC,EAAKP,EAAMQ,OAASR,EAAMS,QAAUrC,SAASiC,KAAKK,UAClDC,EAAgD,EAAtC7E,EAAYX,EAAOyF,EAAEC,KAC/BC,EAAoBhF,EAAYX,EAAOyF,EAAEG,KAC7C,QAASb,GAAM/E,EAAO6F,MAAQd,GAAO/E,EAAO6F,KAAO7F,EAAO8F,IAAMN,GACzDJ,GAAMpF,EAAO+F,MAAQX,GAAOpF,EAAO+F,KAAO/F,EAAO2D,IAAM6B,EAAUG,GAO5E,SAASK,EAAiBC,GAEtB,GAAIA,EAAMxE,OAAS,EAAG,CAClB,IAAIyE,EAAiBC,EAAmBF,GACpCG,EAAQF,EAAezE,OACvB4E,EAAW,GAAIC,EACnB,IAAK,IAAI1C,EAAI,EAAGA,EAAIwC,EAAOxC,IACvB0C,EAASJ,EAAetC,GACxByC,GAAYC,EAAOC,OAAO,GAAGC,cAAgBF,EAAOG,MAAM,GAE9D,OAAOJ,EAGX,OAAOJ,EAAMM,OAAO,GAAGC,cAAgBP,EAAMQ,MAAM,GAQvD,SAASN,EAAmBF,GACxB,IAAIC,EACJ,OADqBD,EAAM7B,IAAIsC,MAAM,YACfC,QAAOxC,GAAiB,KAATA,IASzC,SAASyC,EAAuBV,EAAgBW,EAAMC,GAClD,IAAIC,EAAM,GACNX,EAAQF,EAAezE,OACvBwE,EAAQ,GACZ,IAAK,IAAIrC,EAAI,EAAGA,EAAIwC,EAAOxC,IACvBqC,EAAQC,EAAetC,GACvBmD,GAAO,YAAcd,EACfY,GACW,OAAVZ,EAAiB,GAAKa,GAAU,IACnClD,EAAIwC,EAAQ,IACZW,GAAO,KAEf,OAAOA,EAQX,SAASC,EAAuBC,EAAQC,GAEpC,IAAIC,EAAM,GACV,GAAID,IAAShH,GACT,IAAK,IAAI0D,EAAI,EAAGwD,EAAMH,EAAOxF,OAAQmC,EAAIwD,EAAKxD,IAC1CuD,EAAIE,KAAKC,EAAiBL,EAAOrD,GAAK,IAAMsD,IAIpD,IAAK,IAAItD,EAAI,EAAGwD,EAAMH,EAAOxF,OAAQmC,EAAIwD,EAAKxD,IAEtC2D,EAAiBN,EAAOrD,GADxBsD,IAAShH,GACmBiH,EAAIvD,GAEJ,GAQxC,SAAS4D,EAAe9D,GACpB,IAAI+D,EAAK/D,EAAEE,EAAE,KACT8D,EAAKhE,EAAEI,EAAE,EAAG2D,GAAIE,YAAY,KAC5BC,GAAa,IAARF,EAAY,EAAIA,EACzB,OAAOhE,EAAEI,EAAE,EAAG8D,EAAK,GAyBvB,SAASC,EAAqBC,GAC1B,OAAoB,IAAhBA,EAAKrG,OACE,GACJqG,EAAKC,EAAE,KAAM,QACfA,EAAE,KAAM,QAoBjB,SAASC,EAAqBF,GAC1B,OAAoB,IAAhBA,EAAKrG,OACE,GACJqG,EAAKC,EAAE,KAAM,IACfA,EAAE,KAAM,IASjB,SAASE,EAAoBH,EAAMI,GA2B/B,SAASC,EAASC,EAAKF,EAAOG,GAC1B,IAAIC,EAAM,EACV,KAAOJ,EAAQ,GACPG,EAAIzE,EAAEwE,EAAIE,KAAS,EACnBJ,GAAS,EAETA,IACJI,IAEJ,OAAOF,EAAItE,EAAE,EAAGwE,GAUpB,SAASC,EAAYH,EAAKF,EAAOG,GAC7B,IAAIjC,EAAQ,EACRgB,EAAMgB,EAAI3G,OAAS,EACvB,KAAOyG,EAAQ,GACPG,EAAIzE,EAAEwE,EAAIhB,EAAMhB,KAAW,EAC3B8B,GAAS,EAETA,IACJ9B,IAEJ,OAAOgC,EAAItE,EAAEsD,EAAM,EAAIhB,GAnD3B,IAHA0B,EAAOA,EAAKC,EAAE,OAAQ,MAGbtG,QAAkB,EAARyG,EACf,OAAOL,EAAqBC,GAGhC,IAAInE,EAAImE,EAAKhE,EAAE,EAAGoE,GAAOM,IACrBC,EAAIX,EAAKhE,EAAEgE,EAAKrG,OAASyG,EAAOJ,EAAKrG,QAAQ+G,IAE7CE,EAAY/E,EAAEtE,EAAE,2BAChBsJ,EAAYF,EAAEpJ,EAAE,2BA8CpB,OA7CiB,MAAbqJ,GAAqBA,EAAUjH,OAAS,IACxCkC,EAAIwE,EAASxE,EAAGuE,EAAOQ,IACV,MAAbC,GAAqBA,EAAUlH,OAAS,IACxCgH,EAAIF,EAAYE,EAAGP,EAAOS,IA0CvBd,EAAqBlE,EAAI,UAAY8E,GAOhD,SAASG,IACL,IAAI9I,EAAOD,IAEX,OAAIC,EAAK2B,OAAS,GAAc,qBAAT3B,GACnBrB,EAAI,wBAA0B2C,EAAatB,IAC3CH,EAAe,KACfA,EAAeG,GAEf+I,YAAW,WACPC,GAAqBhJ,KACtB,KACIiJ,IAEJC,GAMX,SAASC,EAAgBnJ,GACrB,IAAIoJ,EAAO9H,EAAavB,KACxBF,EAAeG,GAEXoJ,IAAS9H,EAAatB,IACtBgJ,GAAqBhJ,GAO7B,SAASwH,EAAiB6B,GACtB,OAAOC,iBAAiBnG,SAASoG,iBAAiBC,iBAAiBH,GAQvE,SAAS5B,EAAiB4B,EAASvJ,GAC/BqD,SAASoG,gBAAgBE,MAAMC,YAAYL,EAASvJ,GAKxD,SAAS6J,IACL,OAAOnC,EAAiB,kBAAkBoC,GAAG,IAAM,IAAIlB,IAO3D,SAAShG,EAAkBxC,GACvB,IAAIuC,EAAWvC,IAAWE,GAAa,GAAKF,EAAO2J,KAAKC,IACxD,OAAQrH,IAAYrC,GAAa,GAAKqC,EAAQ6B,IAYlD,SAASyF,EAAuBzB,GAC5B,OAAOA,EAAIL,EAAE,kCAAmC,OAQpD,SAAS+B,EAAqB1B,GAC1B,OAAOA,EAAIL,EAAE,UAAW,sDAQ5B,SAASgC,EAAqB3B,GAC1B,OAAOA,EAAIL,EAAE,KAAMiC,kDAQvB,SAASC,EAAsB7B,GAM3B,OAFAA,GADAA,EAAMA,EAAIL,EAAE,oCAAqC,OACvCA,EAAE,uBAAwB,QAEzBA,EAAE,sBAAuB,mDAMxC,SAASmC,IACL,IAAIzG,EAAIsF,GACJtD,EAAI,CACA,0BACA,uEACE0E,IAqBV,OAlBkD,IAA9CxI,IAAWuB,EAAEkH,IAASxG,EAAE,mBACxB6B,GAAK,CACD,8BACA,wDACE0E,IACN1G,EAAIuF,IAIRqB,GAAO7I,EAAE,WACW,IAAhB6I,GAAK5I,SACLgE,GAAK,CACD,iCACA,0DACE0E,KAIL1G,EAWEsF,IAVHtD,GAAK,CACD,cACA,8CACF0E,IAAa,6CAEf/K,EAAMqG,GACCuD,IAYf,SAASsB,KACL,IAAIC,EAAK,IAAIC,GACbD,EAAGE,KACHC,GAAa,IAAIC,GAAU,IAAIC,GAAOC,GAAaC,IAAWxD,EAAiB,gBAC3EoD,KAAe1B,GACf5J,EAAMsC,sBAENgJ,GAAWK,KAAKxH,EAAmB,OACvCgH,EAAGS,GAAG,uBAKNT,EAAGE,KACHQ,GAAa,IAAIC,GAAU,IAAK,IAAIC,GAAWC,KAC3CH,KAAejC,IACf5J,EAAMsC,yBACV6I,EAAGS,GAAG,qBAGNK,GAAgB,IAAIC,GAAa,IAAIH,GAAW,gBAC5CE,KAAkBrC,IAClB5J,EAAMsC,oBACV6I,EAAGS,GAAG,wBAGNT,EAAGE,KACH,IAAIc,EAAKhI,EAAmB,MAC5BiI,GAAyBD,IAAOE,GAE5BF,IAAOrL,IAAcqL,IAAOG,IAAQH,IAAOE,KAC3CE,GAA+BJ,EAAG3H,EAAEgI,KAAY,EAChDC,GAAgCN,EAAG3H,EAAEkI,KAAa,EAClDC,GAAmCR,EAAG3H,EAAEoI,KAAgB,GAG5DC,KACA1B,EAAGS,GAAG,2BAGNkB,KAGAC,GAAY,IAAIC,GAAS,IAAIxB,GAAO,YAAaE,KACxB,IAArBqB,GAAU1K,QACVrC,EAAMsC,wBAGV6I,EAAGE,KACH,IAAI4B,EAAU9I,EAAmB,MACjC+I,GAAa,IAAIC,GAAU,IAAI3B,GAAO4B,GAAaC,GAAQ1D,IAAQsD,GAC/DC,KAAetD,IACf5J,EAAMsC,yBACV6I,EAAGS,GAAG,sBAGNT,EAAGE,KACHiC,GAAc,IAAIC,GAAWL,IACzBI,KAAgB1D,GAChB5J,EAAMsC,uBAGN4K,GAAWM,OAASF,GAExBnC,EAAGS,GAAG,uBAGNT,EAAGE,KACHoC,GAAW,IAAIC,GAAQR,GAAYI,IAC/BG,KAAa7D,GACb5J,EAAMsC,mBAGNmL,GAASE,IAAIP,IAAa,WACtBF,GAAWU,QAIfH,GAASE,IAAIE,IAAU,WACfX,GAAWY,OAAOC,QAAU,GACvBb,GAAWc,QACZd,GAAWU,KACfV,GAAWe,QAAQC,MAAMC,QACzBjB,GAAWe,QAAQC,MAAME,IAAIC,IAC7BnB,GAAWe,QAAQC,MAAMI,UAGzBpB,GAAWY,OAAOS,KAAK,GAAI,OAInCd,GAASe,WAAWC,IAGpBhB,GAASE,IAAIe,IAAgB,WACzB3B,GAAU4B,OAAO,CACb,2CACA,kFACF5D,IAAY,IAAOpB,OAIzB8D,GAASE,IAAI3B,IAAa,WACtBC,GAAc2C,OACV/C,GAAW+B,MACXiB,GAAcD,UAItBnB,GAASE,IAAImB,IAAgB,WACzBjD,GAAW+C,OACP3C,GAAc2B,MACdiB,GAAcD,UAItBnB,GAASE,IAAIoB,IAAS,WAClBC,QAIJ9B,GAAW+B,QAAUxB,GACrB5B,GAAWoD,QAAUxB,GACrBxB,GAAcgD,QAAUxB,GAGxBnC,GAAW4D,WAAWzB,GAAS0B,KAAK1D,MAExCN,EAAGS,GAAG,mBAGNT,EAAGE,KACH+D,GAAU,IAAIC,GACVD,KAAYxF,IACZ5J,EAAMsC,sBACV6I,EAAGS,GAAG,sBAGNT,EAAGE,KAGHiE,KAGAC,GAAY,IAAIC,GAAS,IAAIhE,GAAO,YAAaiE,GAAU9F,KACvD4F,KAAc3F,IACd5J,EAAMsC,wBAGVoN,KAEAC,KACAC,KAEAC,GAAiB,IAAIrE,GAAO,eAAgBsE,GAASnG,KAGrDoG,KACAC,GAAc,WAAYC,IAC1BD,GAAc,aAAcE,IAC5BF,GAAc,eAAgBG,IAC9BH,GAAc,eAAgBI,IAE9BjF,EAAGS,GAAG,gBAMV,SAASyE,KAGLC,GAAWjF,GAAG,mBACd,IAAIkF,EAAQnO,EAAE,qBAAqBiE,EAAEmK,IACjCC,EAAQrO,EAAE,oBAAoBiE,EAAEmK,IAOpC,GANApO,EAAE,QAAQsO,GAAG,8CAAgDH,EAAM7L,EAAE,EAAG6L,EAAMlO,OAAS,GAA1E,oEACwCoO,EAAM/L,EAAE,EAAG+L,EAAMpO,OAAS,GAAK,2BACpFiO,GAAW1E,GAAG+E,IAIVhO,MAAgB7B,GAAY,CAC5B,IAAI8P,EAAOC,KAAWC,GAAS,QAAU,GACzCrO,IAAUsO,GAAG,+CAAiDH,EAAM,KAAOhN,IAAuBoN,IAKtGV,GAAWjF,GAAG,aACd4F,KACAX,GAAW1E,GAAG+E,IAIVxM,EAAmB,aAAemI,KAClC4E,GAA+BvH,IAInC2G,GAAWjF,GAAG,aACd8F,KACAb,GAAW1E,GAAG+E,IAIdL,GAAWjF,GAAG,aACd+F,KACAd,GAAW1E,GAAG+E,IAKdL,GAAWjF,GAAG,aACdgG,KACAC,KACAhB,GAAW1E,GAAG+E,IAIdL,GAAWjF,GAAG,cACdkG,KACAjB,GAAW1E,GAAG4F,IAIdlB,GAAWjF,GAAG,aACdoG,KACAnB,GAAW1E,GAAG4F,IAEdE,KAEAC,KAIArB,GAAWjF,GAAG,kBACduG,KACAtB,GAAW1E,GAAG+E,IAMdL,GAAWjF,GAAG,6BACdwG,KACAC,KACAxB,GAAW1E,GAAG+E,IAKdoB,KAOAzB,GAAWjF,GAAG,uBACd2G,KACAC,KACA3B,GAAW1E,GAAG+E,IAKdL,GAAWjF,GAAG,iBACdmE,GAAS7D,OACT2E,GAAW1E,GAAG+E,IAGduB,KAIAC,KAIA7B,GAAWjF,GAAG,6DACV8B,GAAUxB,SACLyG,GAAIC,OAAOC,QACZpF,GAAWqF,aAEfrF,GAAWsF,SACXlF,GAAYkF,SACZ/E,GAAS+E,SACTC,KAGAvF,GAAWwF,QAAQC,mBACnBrF,GAAYqF,mBACZvD,GAAQuD,oBAEZrC,GAAW1E,GAAG+E,IAIdiC,KAIK1F,GAAWwF,QAAQG,gBAChB3F,GAAW4F,OAAOD,gBAClB3F,GAAW6F,MAAMF,gBACjB3F,GAAW8F,MAAMH,gBACjB3F,GAAW+F,UAAUJ,iBACrB3F,GAAWD,QAAU,UAI7BqD,GAAWjF,GAAG,mBAEdxH,SAASqP,iBAAiB,aAAa,SAAUzN,GAC7CoG,GAAWsH,QAAQ1N,GACnByH,GAAWkG,KAAK3N,MAIpBrD,EAAEyB,UAAUwP,KAAKC,IAAG,WAChBC,KACAC,QAIJ3P,SAASqP,iBAAiB,cAAc,SAAUzN,GAE9C,OAAO,KACR,GAGHrD,EAAEyB,UAAU4P,GAAG,UAAU,WACrB,IAAIC,GAAc,IAAIC,MAAOC,UACzBzN,EAAY/D,EAAEyB,UAAUsC,YACxB0N,EAAejK,GACfkK,EAAY1R,EAAEyB,UAAUU,KAGxB4B,EAAY,IACTA,EAAa2N,EAAY,IACzBJ,EAAcK,GAA0B,MACvCC,GAAuB7N,IAI3BA,EAAY,IACTA,EAAa2N,EAAY,KACxBD,EAAgBH,EAAcK,GAA2B,MACzDF,GAAgBjS,KAAKqS,IAAI9N,EAAY+N,IAAwB,OAE7DC,GAAoBT,EAAatR,EAAEyB,UAAUsC,aAE7CiO,MAIRlH,GAAWwF,QAAQ2B,YAAYlO,MAInC/D,EAAEhC,QAAQqT,GAAG,UAAU,WACnBF,KACArG,GAAWwF,QAAQ2B,cACnBD,KACAE,QAIJlU,OAAOmU,cAAgB,WACf1D,KAAWC,IAGM,UAAjB0D,IACAxU,EAAM,CACF,sCACA,4IACF+K,MAGV3K,OAAOqU,aAAe,WACd5D,KAAWC,IAEf4D,MAKJtS,EAAEhC,QAAQqT,GAAG,cAAc,SAAShO,GAChC,IAAIlB,EAAI9D,IACJkU,EAASpQ,EAAEG,EAAE,EAAGH,EAAElC,QACtB,GAA0B,IAAtBsS,EAAOvL,IAAI/G,OACX,OAEJ6K,GAAW0H,QAAQjH,IAAIpJ,GAGvB,IAAIsQ,EAAOzS,EAAE,IAAMJ,EAAa2S,GAAU,aAAeA,EAAS,MAClE,GAAIE,IAAS/T,IAAc+T,EAAKC,MAAQhU,IAA4B,IAAd+T,EAAKlO,KAAY,CACnE,IAAIoO,EAAYF,EAAKG,QAAQC,IAE7B,GAAIF,EAAU1S,OAAS,GAAK0S,EAAUG,WAAY,CAC9C,IAAIC,EAAKJ,EAAU7R,KAAKkS,EAAE,wBACtBD,EAAG9S,OAAS,IACZ8S,EAAGE,GAAGC,IACN/U,EAAegE,KAMV,MAAbgR,IAAqBA,KAAchR,GAEnCkF,YAAW,WACPC,GAAqB1H,EAAa2S,MACnCvC,GAAIoD,QAAQC,QAAU,IAAM,GAEnCF,GAAYhR,EAGP2I,GAAWc,QACZ0H,QAGRpF,GAAW1E,GAAG+E,IAMlB,SAASgF,KACL,IAAIxK,EAAK,IAAIC,GAIbD,EAAGE,KACHuK,KACAzK,EAAGS,GAAG,oBAINT,EAAGE,KACHwK,KACA1K,EAAGS,GAAG,mBAYV,SAASkK,GAAUzM,GACXA,IAAMvI,IAGVuI,EAAEhD,EAAE0P,GAAc,WACb1P,EAAE2P,GAAW,GAOtB,SAASC,GAAU5M,GACXA,IAAMvI,IAGVuI,EAAEhD,EAAE0P,GAAcG,IACb7P,EAAE2P,GAAW,GAGtB,SAASG,GAAcC,GACnB,MAAO,QAAUA,EAAM,SAK3B,SAASC,GAAkBC,EAAQC,GAC/B,IAAIC,EAAMD,EAAQ,IACXnE,GAAIqE,GAAGC,MAAQ,YAAc,SACpC,OAAOJ,EAASE,EAAML,GAAcK,GAMxC,SAASG,GAAmBL,EAAQC,GAChC,IAAIC,EAAMD,EAAQ,IAAM,UACxB,OAAOD,EAASE,EAAML,GAAcK,GAMxC,SAASI,GAAiBN,EAAQC,GAC9B,IAAIvN,EAAMoJ,GAAIqE,GAAGC,MACVH,EAAQ,IAAM,WAAc,MACnC,OAAOD,EAAStN,EAAMmN,GAAcnN,GAMxC,SAAS6N,GAAkBP,EAAQC,GAC/B,IAAIvN,EAAMoJ,GAAIqE,GAAGC,MACVH,EAAQ,IAAM,YAAe,MACpC,OAAOD,EAAStN,EAAMmN,GAAcnN,GAoBxC,SAAS8N,KACL,MAAO,+qBAGqSC,UAAU3E,GAAI4E,MAAMrN,KAAU,wBACpUqH,GAMV,SAASiG,KACL,OAAO7U,EAAEhC,QAAQ8W,MAAQC,GAO7B,SAASzN,GAAqBiL,GAG1B,GAFIA,IAAW7T,IAAc6T,EAAOyC,GAAG,OACnCzC,EAASA,EAAOjQ,EAAE,EAAGiQ,EAAOtS,SAC5BsS,IAAW7T,IAAoC,IAAtB6T,EAAOvL,IAAI/G,OACpC,OAEJ,IAAIgH,EAAI9H,EAAY+L,GAAY+J,GAAGhR,EAAEiR,KACjC/S,EAAIhD,EAAY+L,GAAY+J,GAAGhR,EAAEkR,KACjCC,EAAI,GACJ3C,EAAOzS,EAAE,IAAMJ,EAAa2S,GAAU,aAAeA,EAAS,MAC9D8C,EAAMrU,EAAkByR,GAGxB,eAAerQ,EAAEiT,IAAQ,GACzBD,GAAMC,IAAQC,GACPrO,EAAI9E,EAAI,GACRsQ,EAAKtQ,IAAM,GAAsC,GAAhChD,EAAYkW,EAAI/S,EAAE,EAAG,IAAM,GACnD8S,GAAKjW,EAAY2G,EAAiB,oBAG7ByM,EAAOyC,GAAG,gBACfI,GAAK,GAGLA,GAAKnO,EAAI9E,EAEbnC,EAAEyB,UAAUsC,UAAU/D,EAAEyB,UAAUsC,YAAcqR,GAWpD,SAASG,GAAgBnT,EAAGkC,EAAGnC,EAAG8B,EAAG3B,GAEjC,MAAO,eAAiBgC,EAAI,eAAiBnC,EAAI,OADjDG,EAAKA,IAAM5D,GAAc,WAAa4D,EAAI,IAAM,IACzC,kDAC0B2B,EAAI,kBAAoB7B,EADlD,iBAUX,SAASoT,GAAYC,EAASC,GAK1B,OAJID,EAAQxV,OAAS,IACjBwV,EAAU,OAASA,EAAU,MAC7BC,EAAWzV,OAAS,IACpByV,EAAa,UAAYA,EAAa,MACnC,QAAUD,EAAUC,EAAa,IAM5C,SAAS7G,KACD8G,KAAqBjX,IACrBiX,GAAiB3C,EAAE,cAActR,EAAEC,GAAS,CACxC,OACA,aACFgH,KAGN0C,GAAS0B,KAAK/B,IAAatJ,EAAEkU,GAAY,CACrC,iDACA,mEACFjN,IAAa,UAAYoL,GAAc,KAAO,UAEhD1I,GAAS0B,KAAKtB,IAAU/J,EAAEkU,GAAY,CAClC,OACA,oBACFjN,IAAa,UAAYoL,GAAc,KAAO,UAEhD1I,GAAS0B,KAAKT,IAAgB5K,EAAEkU,GAAY,CACxC,UACA,6BACFjN,KAEF0C,GAAS0B,KAAgB,UAAErL,EAAEkU,GAAY,CACrC,MACAhM,IACFjB,IAAa,UAAYoL,GAAc,KAAO,UAEhD1I,GAAS0B,KAAKL,IAAgBhL,EAAEkU,GAAY,CACxC,MACA,iBACFjN,IAAa,UAAYoL,GAAc,KAAO,UAEhD1I,GAAS0B,KAAY,MAAErL,EAAEkU,GAAY,CACjC,QACA,YACFjN,KAEFuC,GAAY2K,KAAKZ,GAAGvT,EAAEkU,GAAY,CAC9B,MACA,oBACFjN,IAAa,UAAYoL,GAAc,KAAO,UAEhD7I,GAAY4K,KAAKb,GAAGvT,EAAEkU,GAAY,CAC9B,MACA,gBACFjN,IAAa,UAAYoL,GAAc,KAAO,UAEhD7I,GAAY6K,GAAGrU,EAAEkU,GAAY,CACzB,OACA,iBACFjN,KAEFuC,GAAY8K,QAAQf,GAAGvT,EAAEkU,GAAY,CACjC,UACA,4CACFjN,KAEFqE,GAAQD,KAAK8I,KAAKnU,EAAEC,GAAS,SAAW,CACpC,MACA,YACFgH,KAEFqE,GAAQD,KAAK+I,KAAKpU,EAAEC,GAAS,SAAW,CACpC,MACA,QACFgH,KAEFqE,GAAQD,KAAKkJ,MAAMvU,EAAEC,GAAS,WAAa,CACvC,KACA,SACFgH,KAEFO,GAAW+L,GAAGjC,EAAE,mBAAmB/L,EAAE,CACjC,KACA,QACF0B,IAAa,KAEfO,GAAW+L,GAAGjC,EAAE,sBAAsBkD,GAAG,CACrC,gCACA,8IACFvN,IAAa,uEAAyE,CACpF,KACA,WACFA,IAAa,2EAA6E,CACxF,KACA,WACFA,IAAa,SAEfwE,GAAUgJ,aAAaC,GAAG,KAAKnP,EAAE,CAC7B,SACA,sBACF0B,IAAa,MAOnB,SAAS0N,GAAkB/T,GACvB,IAAIM,GAAK5C,EAAEhC,QAAQsG,IAAMhC,EAAEgC,KAAO,EAC9BiC,EAAI+P,GACJtG,GAAIC,OAAOC,SACXtN,EAAI,GACJ2D,EAAI,IAGRjE,EAAE2B,EAAEgH,GAAQrI,GACPqB,EAAEyJ,GAASnH,GACXtC,EAAEiR,IAAQlV,EAAEhC,QAAQmE,IAAMG,EAAEH,KAAO,GAQ5C,SAASoU,GAAkBjU,EAAG2E,GAC1B,IAAIrE,EAAIqE,EAAE5C,KACNC,EAAIhC,EAAEgC,IAAMnF,EAAYmD,EAAE2B,EAAEuS,KACtBrX,EAAYmD,EAAE2B,EAAEwS,KACkB,EAAlCtX,EAAYmD,EAAE2B,EAAEyS,KAEtB9T,EAAI0B,EAAI,GAAKtE,EAAEhC,QAAQsG,MACvB1B,EAAI5C,EAAEhC,QAAQsG,IAAMA,EAAI,IAE5BhC,EAAE2B,EAAEgH,GAAQrI,GACPqB,EAAEiR,GAAOjO,EAAE1C,KAAOvE,EAAEyB,UAAUsC,YAAckD,EAAE9E,IAAM,IAM7D,SAAS6P,KACD2E,KAGJA,GAAwBpP,GAEpBuD,GAAWsF,UACXL,KACJ7E,GAAYkF,SACZ/E,GAAS+E,SAETuG,GAAwBnP,IAM5B,SAAS8L,KACLjM,YAAW,WACP2K,KACAE,OACD,KAMP,SAASpC,KAEDE,GAAIC,OAAOC,QACXlQ,EAAE4W,IAAmBC,KACrB7W,EAAE,kBAAuB6W,KACzB7W,EAAE,iBAAsB6W,KACxB/I,GAAgB+I,KAChB9I,GAAkB8I,KAClB7W,EAAE,gCAAgC6W,KAClC7W,EAAE,sCAAsC6W,KACxC7W,EAAE,kBAAuB6W,OAKzBC,GAAe9W,EAAE4W,KAEjBE,GAAe9W,EAAE,mBAEjB8W,GAAe9W,EAAE,kBAEjB8W,GAAehJ,IACfgJ,GAAe/I,IAEf+I,GAAe9W,EAAE,iCAEjB8W,GAAe9W,EAAE,kBAAwBuH,KASjD,SAASuP,GAAetY,EAAQuY,GAC5BvY,EAAOwY,OAAM,WACT,IAAIC,EAAKjX,EAAEkX,MACX3Y,EAAY0Y,EAAIE,IACZJ,GACAnY,EAAeqY,EAAGzU,IAAK2U,OAC5B,WACC,IAAIF,EAAKjX,EAAEkX,MACXtY,EAAeqY,EAAIE,IACfJ,GACAE,EAAGzU,IAAIyQ,GAAGmE,OAQtB,SAASC,GAAiBpQ,GACtBA,EAAEqQ,OAAOF,IAAcE,OAAOC,IAMlC,SAASC,KAEDC,GAAc,EACd1R,EAAiB,kBAAmB2R,IAE/BD,IAAe,GACpBlZ,EAAYyB,EAAE,qBAAsB2X,IAExCC,GAAgB5X,EAAE,iBAEtB,SAAS6X,KACDJ,IAAe,GACflZ,EAAYyB,EAAE,qBAAsB2X,IAQ5C,SAASC,GAAgB3Q,EAAG1B,GAExB,GAAIkS,IAAe,EACf,GAAKlS,IAAQ7G,GACTH,EAAY0I,EAAG6Q,QAEd,CACD,IAAIC,EAAUxS,EAAI7C,GAAG,KACrB,IAAK,IAAIN,EAAI,EAAGA,EAAI2V,EAAQ9X,OAAQmC,IAChC7D,EAAY0I,EAAG,gBAAkB8Q,EAAQ3V,KAUzD,SAAS4V,GAAmB/Q,EAAG1B,GAC3B,GAAKA,IAAQ7G,GACTE,EAAeqI,EAAG6Q,QACjB,CACD,IAAIC,EAAUxS,EAAI7C,GAAG,KACrB,IAAK,IAAIN,EAAI,EAAGA,EAAI2V,EAAQ9X,OAAQmC,IAChCxD,EAAeqI,EAAG,gBAAkB8Q,EAAQ3V,KAgBxD,SAAS6V,KAELjY,EAAEyB,UAAU4P,GAAG,WAAW,SAAUhO,GAsGhC,SAAS6U,IACDlL,GAAQiI,GAAGkD,YAEf9M,GAAS0B,KAAK/B,IAAaiI,GAAGmF,IAxGlC,MAAMC,EAAOhV,EAAMiV,SAAWjV,EAAMkV,OAASlV,EAAMmV,SACnD,IAAIC,GAAYpV,EAAMqV,QAAUzE,IAAkB,GAAQ,KACnD5Q,EAAMsV,SAAWpE,IAAmB,GAAQ,KAC5ClR,EAAMuV,OAASpE,IAAiB,GAAQ,KACxCnR,EAAMwV,QAAUpE,IAAkB,GAAQ,IAyBjD,GAvBIqE,KACAtb,EAAK,QAAQib,KAAYM,OAAOC,aAAaX,OAAUA,MACvD3a,EAAM,YAAY2F,EAAMiV,iBAAiBjV,EAAM+Q,cAAc/Q,EAAMgV,SAInEjV,EAAmBC,KAAWkE,IAC9B0R,GAA+B1R,IAInCkC,GAAWyP,cAAcb,EAAMI,EAAUpV,GACzCwG,GAAcqP,cAAcb,EAAMI,EAAUpV,GAC5CoJ,GAAcyM,cAAcb,EAAMI,EAAUpV,GAC5C8V,GAA0Bd,EAAMI,EAAUpV,GAC1C2J,GAAQkM,cAAcb,EAAMI,EAAUpV,GACtCyH,GAAWoO,cAAcb,EAAMI,EAAUpV,GACzC6F,GAAWgQ,cAAcb,EAAMI,EAAUpV,GACzCsH,GAAUuO,cAAcb,EAAMI,EAAUpV,GACxC8J,GAAU+L,cAAcb,EAAMI,EAAUpV,GACxC+V,GAAuBf,EAAMI,EAAUpV,GAGnCgW,IAAsD,SAAvC5X,SAAS6X,cAAcvY,QAAQ6B,IAC9C,OAGJsI,GAAYgO,cAAcb,EAAMI,EAAUpV,GAE1C,IAAIkW,GAAU,EACd,OAAQlB,GACJ,KAAK,GACDH,IACAqB,GAAU,EACV,MACJ,KAAK,IAIDlW,EAAMmW,iBACD1O,GAAWc,QACZsM,IAEJpN,GAAWe,QAAQC,MAAMC,QAGzB0N,UAAUC,UAAUC,WAAWC,MAAK,SAAU3X,GACtC6I,GAAWe,QAAQC,MAAME,IAAI/J,GAC7B6I,GAAWe,QAAQC,MAAMI,YAC1B2N,OAAM,SAAU5X,GACfvE,EAAM,wBAAyBuE,MAEvCsX,GAAU,EACV,MACJ,KAAK,GACGzO,GAAWY,OAAOoO,SAClBzO,GAAS0B,KAAKtB,IAAUwH,GAAGmF,IAC/BmB,GAAU,EACV,MACJ,KAAK,GACDxL,GAAkBkF,GAAGmF,IACrBmB,GAAU,EACV,MACJ,KAAK,GACGrQ,GAAW+L,GAAGnC,WACdhF,GAAgBmF,GAAGmF,IAEnBlP,GAAWsD,OACf+M,GAAU,EACV,MACJ,KAAK,GACD9M,GAAcD,OACd/C,GAAW+C,OACX3C,GAAc2B,KACd+N,GAAU,EACV,MACJ,KAAK,GACD9M,GAAcD,OACd3C,GAAc2C,OACd/C,GAAW+B,KACX+N,GAAU,EACV,MACJ,KAAK,GAEIQ,GAAcjH,aACfkH,KACAT,GAAU,GAEd,MAIJA,GACAlW,EAAMmW,oBAUdxZ,EAAEyB,UAAU4P,GAAG,SAAS,SAAUhO,GAE1B4W,KAAmC1S,IACnC0R,GAA+BzR,OAc3C,SAAS0S,KACL,OAAQlK,GAAImK,SAASC,MACjB,IAAK,KACDzR,GAAY,EACZ,MACJ,QACIA,GAAY,GAmBxB,SAASoJ,GAAoB7P,EAAG+E,GAC5B0K,GAA0BzP,EAC1B4P,GAAuB7K,EAM3B,SAASoT,KACLvb,EAAiBqB,IAAYma,GAAYC,IAM7C,SAASC,KACL1b,EAAiBqB,IAAYoa,GAAUD,IAiB3C,SAASG,KACLza,EAAE,sBAAsB0a,GAAE,WACtB,IAAIhZ,EAAI1B,EAAEkX,MACVxV,EAAEA,EAAEiZ,GAAUjZ,EAAEA,EAAEkZ,QAa1B,SAAShO,KACLwF,GAAe,QAGXyI,GAAYC,SAAWC,KACvBF,GAAYG,kBAAoBH,GAAYC,OAC5CD,GAAYC,OAASG,GACrBJ,GAAYK,WAIhBlb,EAAE,sBAA6B0a,GAAE,WAC7B,IAAIzD,EAAKjX,EAAEkX,MACXD,EAAGvV,EAAEyZ,GAAoBlE,EAAGhT,EAAEmX,KAC9BnE,EAAGhT,EAAEmX,GAAS,WAIlBpb,EAAE,0BAAsC0a,GAAE,WACtC,IAAIzD,EAAKjX,EAAEkX,MACW,SAAlBD,EAAGvV,EAAE0Z,IAEDnE,EAAGvV,EAAE2Z,IAASjZ,EAAEkZ,eAAqB,GACrCrE,EAAGvV,EAAE6Z,GAAuBtE,EAAGhT,EAAEqX,KACjCrE,EAAGhT,EAAEqX,GAAY,KAGZrE,EAAGvV,EAAE2Z,IAASjZ,EAAEgZ,WAAkB,IACvCnE,EAAGvV,EAAEyZ,GAAoBlE,EAAGhT,EAAEmX,KAC9BnE,EAAGhT,EAAEmX,GAAS,UAGlBnE,EAAGvV,EAAEyZ,GAAoBlE,EAAGvV,EAAE0Z,KAC9BnE,EAAGhT,EAAEmX,GAAS,YAKtBpb,EAAEwb,uBAAsCd,GAAE,WACtC1a,EAAEkX,MAAMd,GAAG,WAAWnD,GAAGmF,OAI7BpY,EAAE,6BAAwC0a,GAAE,WACxC1a,EAAEkX,MAAMpB,KAAK,uBAA4BM,GAAG,UAAUnD,GAAGmF,OAI7DpY,EAAE,oBAAoB0a,GAAE,WACpBe,GAAczb,EAAEkX,MAAM1U,IAAIA,QAI9BkZ,KAGA,IAAIC,EAAe3b,EAAE,cACjB2b,EAAa1b,OAAS,GAClB2b,QAAQ,6BACRD,EAAajB,GAAE,WACX,IAAIzD,EAAKjX,EAAEkX,MACPD,EAAGvV,EAAEma,IAAoB7G,GAAG,MAC5B8G,GAAiB7E,MAOjC5P,YAAW,WACPrJ,OAAO4W,UACR,KAMP,SAAStC,KAEDuI,GAAYG,oBAAsBD,IAClCF,GAAYrP,KAIhBxL,EAAE,sBAA6B0a,GAAE,WAC7B,IAAIzD,EAAKjX,EAAEkX,MACXD,EAAGhT,EAAEmX,GAASnE,EAAGvV,EAAEyZ,KACnBlE,EAAG8E,WAAWZ,OAIlBnb,EAAE,0BAAsC0a,GAAE,WACtC,IAAIzD,EAAKjX,EAAEkX,MACW,SAAlBD,EAAGvV,EAAE0Z,IAEDnE,EAAGvV,EAAE2Z,IAASjZ,EAAEkZ,eAAqB,GACrCrE,EAAGhT,EAAEqX,GAAYrE,EAAGvV,EAAE6Z,KACtBtE,EAAG8E,WAAWR,KAGTtE,EAAGvV,EAAE2Z,IAASjZ,EAAEgZ,WAAkB,IACvCnE,EAAGhT,EAAEmX,GAASnE,EAAGvV,EAAEyZ,KACnBlE,EAAG8E,WAAWZ,MAGlBlE,EAAGhT,EAAEmX,GAASnE,EAAGvV,EAAEyZ,KACnBlE,EAAG8E,WAAWZ,QAWtB/I,GAAesF,GAWnB,SAASsE,GAAgBC,GAErB,IAAIC,EAAK,0BAEOjU,IAEhBiU,GAAM,OAASlM,GAAIC,OAAOC,OAAS,MAAQ,IACrC,QAAUF,GAAImM,QAAQC,IAG5BF,GAAM,OACFlM,GAAIqE,GAAGC,MACP4H,GAAM,QACDlM,GAAIqE,GAAGgI,QACZH,GAAM,UACDlM,GAAIqE,GAAGiI,KAEPtM,GAAIqE,GAAGkI,MADZL,GAAM,SAINA,GAAM,SAGVA,GAAM,MACFlM,GAAIoD,QAAQoJ,KACZN,GAAM,WAAalM,GAAIyM,WAAWD,KAC7BxM,GAAIoD,QAAQsJ,OACjBR,GAAM,aAAelM,GAAIyM,WAAWC,OAC/B1M,GAAIoD,QAAQC,QACjB6I,GAAM,cAAgBlM,GAAIyM,WAAWpJ,QAChCrD,GAAIoD,QAAQuJ,OACjBT,GAAM,aAAelM,GAAIyM,WAAWE,OAEpCT,GAAM,aAGVA,GAAM,OAASpW,EAAiB,oBAAoBoC,GAAG,IAAM,IAAIlB,IAEjEkV,GAAM,SAAWvT,GACX,SAAWtI,IAAU4G,IAAIhH,OACzB,SAAWgc,EAGjBC,GAAM,QAAUlc,EAAE,UAAgBC,OAC5B,aAAeD,EAAE,4CAAwEC,OACzF,aAAeD,EAAE,yBAAoCC,OACrD,eAAiBD,EAAE,2BAAuCC,OAC1D,cAAgBD,EAAE,0BAAsCC,OACxD,aAAeD,EAAE,2DAAqEC,OACtF,aAAeD,EAAE,oDAA8DC,OAGrF,IAAI2c,EAAU5c,EAAE,qBAChBkc,GAAM,OAASU,EAAQ3c,OACjB,YAAcD,EAAE,8CAA0EC,OAC1F,YAAcD,EAAE,2DAAqEC,OACrF,YAAcD,EAAE,oDAA8DC,OAGpFic,GAAM,UAAYlc,EAAE6c,IAAS5c,OACvB,YAAcD,EAAE,wCAAwCC,OACxD,YAAcD,EAAE,iCAAiCC,OAGvDic,GAAM,UAAYlc,EAAE8c,IAAS7c,OACvB,YAAcD,EAAE,wCAAwCC,OACxD,YAAcD,EAAE,iCAAiCC,OAGvD,IAAI8c,EAAM,EACNC,EAAO,EACPC,EAAY,EACZC,EAAW,EACXC,EAAQ,EACRC,EAAM,EACNC,EAAS,EACTC,EAAQ,EACZV,EAAQlC,GAAE,WACN,IAAIzD,EAAKjX,EAAEkX,MACPD,EAAGjE,EAAE,YAAY/S,OAAS,EAC1B8c,IACK9F,EAAGjE,EAAE,oBAAoB/S,OAAS,GACvC+c,IACI/F,EAAGjE,EAAE,iCAAiC/S,OAAS,EAC/Cgd,IACKhG,EAAGjE,EAAE,gCAAgC/S,OAAS,GACnDid,KAECjG,EAAGjE,EAAE,gBAAgB/S,OAAS,EACnCkd,IACKlG,EAAGjE,EAAE,gBAAgB/S,OAAS,EACnCmd,IACKnG,EAAGjE,EAAE,gBAAgB/S,OAAS,EACnCod,IACKpG,EAAGjE,EAAE,kBAAkB/S,OAAS,GACrCqd,OAERpB,GAAM,WAAaa,EACb,YAAcC,EACd,cAAgBC,EAChB,cAAgBC,EAChB,aAAeC,EACf,WAAaC,EACb,aAAeC,EACf,aAAeC,EAGrBpB,GAAM,QAAUlc,EAAEoK,IAASnK,OACrB,aAAeD,EAAE,mDAAyFC,OAC1G,aAAeD,EAAE,sCAAsCC,OACvD,aAAeD,EAAE,+BAA+BC,OAGtD,IAAIsd,EAAS,EACTC,EAAO,EACPC,EAAc,EACdC,EAAS,EACTC,EAAQ,EACRC,EAAQ,EACRC,EAAQ,EAoDRC,EAnDJ9d,EAAEoK,iCAAiDsQ,GAAE,WACjD,IAAIzD,EAAKjX,EAAEkX,MACPD,EAAGjE,EAAE,6BAA6B/S,OAAS,GAC3Csd,IACAtG,EAAGjE,EAAE,2BAA2B/S,OAAS,GACzCud,IACAvG,EAAGjE,EAAE,WAAW/S,OAAS,GACzBwd,IACAxG,EAAGjE,EAAE,6BAA6B/S,OAAS,GAC3Cyd,IACAzG,EAAGjE,EAAE,aAAa/S,OAAS,GAC3B0d,IACA1G,EAAGjE,EAAE,+BAA+B/S,OAAS,GAC7C2d,IACA3G,EAAGjE,EAAE,4BAA4B/S,OAAS,GAC1C4d,OAER3B,GAAM,aAAeqB,EACf,cAAgBC,EAChB,aAAeC,EACf,aAAeC,EACf,aAAeC,EACf,eAAiBC,EACjB,eAAiBC,EAGvB3B,GAAM,mBAAqBlc,EAAEoK,8BAA8CnK,OAG3Eic,GAAM,kBAAoBlc,EAAEoK,6BAA6CnK,OAGzEic,GAAM,OAASlc,EAAE,cAAmBC,OAC9B,YAAcD,EAAE,4CAAwEC,OACxF,YAAcD,EAAE,4CAA4CC,OAC5D,YAAcD,EAAE,qCAAqCC,OAG3Dic,GAAM,QAAUlc,EAAE,sBAAsBC,OAClC,UAAYD,EAAE,6BAA6BC,OAGjDic,GAAM,OAASlc,EAAEwb,IAAWvb,OAG5Bic,GAAM,OAASlc,EAAE,gBAAgBC,OAGjCic,GAAM,QAAUne,IAGAiC,EAAE,mCACR0B,EAAEqc,GACR,0CAA4CjF,GAAc,OAAS,IAAM,kBACvEnE,UAAUuH,IA8DpB,SAAS8B,KACL,IAAI/Z,EAAI,CAAC,EAAG,EAAG,GAIf,OAHAA,EAAE,GAAKzE,KAAKye,MAAsB,IAAhBze,KAAK0e,UACvBja,EAAE,GAAKzE,KAAKye,MAAsB,IAAhBze,KAAK0e,UACvBja,EAAE,GAAKzE,KAAKye,MAAsB,IAAhBze,KAAK0e,UAChBja,EAOX,SAASka,KAEL,IAAIla,EAAI,CAAC,EAAG,EAAG,GACf,GAAmC,IAA/Bma,GAAoBne,OAGpB,OAFAgE,EAAI+Z,KACJI,GAAoBvY,KAAK5B,GAClBA,EAIX,IAAIyB,EAAO8B,GACPP,EAAI,EACJoX,EAAI,CAAC,EAAG,EAAG,GAGf,MAAQ3Y,GAAQuB,EAAI,IAAI,CACpBhD,EAAI+Z,KAEJ,IAAIM,EAAM,EACV,IAAK,IAAIlc,EAAI,EAAGA,EAAIgc,GAAoBne,SACpCqe,EAAMlc,EACNic,EAAE,IAAMD,GAAoBhc,GAAG,GAAK6B,EAAE,IAAM,IAC5Coa,EAAE,IAAMD,GAAoBhc,GAAG,GAAK6B,EAAE,IAAM,IAC5Coa,EAAE,IAAMD,GAAoBhc,GAAG,GAAK6B,EAAE,IAAM,MAExCzE,KAAK+e,KAAKF,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAM,KANbjc,KAW5Ckc,IAAQF,GAAoBne,SAC5Bme,GAAoBvY,KAAK5B,GACzByB,EAAO6B,IAEXN,IAEJ,OAAOhD,EAQX,SAASua,GAAmBC,EAAKC,GAC7B,MAAO,QAAUD,EAAI,GAAK,KAAOA,EAAI,GAAK,KAAOA,EAAI,GAAK,KAAOC,EAAU,IAQ/E,SAAS1V,KACL,IAAI2V,EAAIzH,KACRyH,EAAEC,GAAK,KACPD,EAAEE,GAAK,KAKPF,EAAEG,MAAQ,WACNH,EAAEC,IAAK,IAAIrN,MAAOC,WAMtBmN,EAAE1V,GAAK,SAAUhC,GACTA,IAAMvI,IACNzB,EAAIgK,GACR0X,EAAEE,IAAK,IAAItN,MAAOC,WAQtBmN,EAAEnV,GAAK,SAAUuV,EAAKC,GAClB,IAAI/a,GAAI,IAAIsN,MAAOC,UAAYmN,EAAEE,GAEjC,IAAKG,EAAQ,CACT,IAAIC,EAAMF,EAAM,KAAO9a,EAAI,MACvBA,EAAI,IACJ3G,EAAK2hB,GACAhb,EAAI,IACTzG,EAAKyhB,GAELvhB,EAAMuhB,GAEd,OAAOhb,GAMX0a,EAAEO,KAAO,WACL,OAAO,IAAI3N,MAAOC,UAAYmN,EAAEC,IAIpCD,EAAEG,QAgBN,SAASK,GAAiBC,GACtBC,GAAiBrf,EAAEsf,IACnBC,GAAqBvf,EAAEsf,8BACvBE,GAAmBxf,EAAEsf,2BACrBG,GAAuBjY,GACvBkY,GAAmBN,EAGfM,KAAqBhI,GACrBiI,KAEAjM,GAAU2L,IAMlB,SAASO,KAELL,GAAmBtO,KAAKC,IAAG,WACvByO,QAGJN,GAAepb,EAAE4b,GAAU,WAC3BC,KAEAN,GAAiBvb,EAAE8b,GAAarI,IAEhCsI,GAA8B,MAC9BzhB,EAAYghB,GAAoB,cAEhCE,GAAuBlY,GAGvB,IAAI0Y,EAAQ9gB,EAAYugB,IACpBO,EAAQ,KACRA,EAAQ,IACRP,KAAqBpJ,IAAU2J,GAAS,EACxCC,GAAsBD,GAEjBP,KAAqBS,IAC1B5hB,EAAYghB,GAAoBY,IAOxC,SAASD,GAAsBD,GAO3B,SAASG,IACLJ,GAA8BK,GAC9BA,IACIA,EAAY,GACZC,aAAaC,GACbA,EAAa,KACbZ,MAGAY,EAAalZ,WAAW+Y,EAAe,KAf/C,IAAIC,EAAaJ,GAAS,EAAIA,EAAQ9gB,EAAY2G,EAAiB,iBAC/Dya,EAAa,KAEjBH,IAoBJ,SAASJ,GAA8BQ,GACnCjB,GAAmBrJ,GAAG,CAClB,OACA,iBACFvN,KACY,MAAP6X,EAAc,GAAK,YAAcA,EAAM,cAMlD,SAASV,KACLN,GAAiBvb,EAAE8b,GAAarI,IAMpC,SAASiI,KACLN,GAAe7S,OACfgO,KASJ,SAASrB,GAA0Bd,EAAMI,EAAUpV,GAC/C,IAAKoc,IAAwBJ,GAAevM,WACxC,OAEJ,IAAIyG,GAAU,EACd,OAAQlB,GACJ,KAAK,GAEDsH,KACApG,GAAU,EACV,MAIJA,GACAlW,EAAMmW,iBAiBd,SAASiH,KAmEL,SAASC,EAAaliB,EAAQ6E,GACtBsd,KAA8BjiB,KAG9BkiB,KAAoCpW,GACpCqW,GAAyBriB,GACgBsiB,YAApCF,GACLG,GAAkBviB,GACboiB,KAAoCxW,IACzC4W,GAAqBxiB,IA3E7ByiB,GAAqBjhB,EAAE,uBACvBkhB,GAAmClhB,EAAEmhB,wBACrCC,GAAuCphB,EAAEmhB,sCACzCE,GAAkCrhB,EAAEmhB,+BACpCG,GAAiCthB,EAAEmhB,8BACnCI,GAAgCvhB,EAAEmhB,8BAElCC,GAAqC1f,EAAEkU,GAAY,CAC/C,OACA,eACFjN,KAEF0Y,GAAgC3f,EAAEkU,GAAY,CAC1C,OACA,gBACFjN,KAEF2Y,GAA+B5f,EAAEkU,GAAa,CAC1C,aACA,iBACFjN,KAEF4Y,GAA8B7f,EAAEkU,GAAY,CACxC,MACA,sBACFjN,KAEFsY,GAAmB5P,GAAGkG,IAAc,SAAUlU,GACrCC,EAAmBqd,GAA2Btd,IAC/Cme,QAORJ,GAAqCnQ,KAAKC,IAAG,WACzCsQ,KACAxU,GAAQb,KAAKwU,OAIjBU,GAAgCpQ,KAAKC,IAAG,WACpCuQ,GAAkBd,OAItBW,GAA+BrQ,KAAKC,IAAG,WACnCwQ,GAAiBf,OAGrBO,GAAiCjQ,KAAKC,IAAG,SAAU7N,GAC/Cqd,EAAa1gB,EAAEkX,UAInBqK,GAA8BtQ,KAAKC,IAAG,WAClCyQ,GAAchB,OAGlBiB,GAAcV,IACdU,GAAcR,IACdQ,GAAcP,IACdO,GAAcN,IACdM,GAAcL,IAmBlB,SAAStI,GAA+BmG,GACpCnF,GAAiCmF,EAC7BnF,IAEAlU,EAAiB,aAAcD,EAAiB,qBAChDob,GAAiChL,GAAGX,GAAgB,cAAe,GAAI,GAAI0F,OAI3ElV,EAAiB,aAAcD,EAAiB,sBAChDob,GAAiChL,GAAGX,GAAgB,UAAW,GAAI,GAAI0F,MAS/E,SAAS4G,GAAqBrjB,EAAQsjB,GAElCtjB,EAAOwY,OAAM,WACTgB,GAAmBiJ,IAGfN,KAA8BniB,GAC9Bya,GAA+BzR,IAEnCmZ,GAA4BniB,EAC5BoiB,GAAkCkB,EAElC,IAAIC,EAAc,UAAY,CAC1B,KACA,QACEpZ,IACAqZ,GAAYxN,KAAqB,CAC/BwN,GAAY,iBACZA,GAAY,sBACVrZ,IAAa,SACnBmZ,IAAgBtX,GAChB0W,GAAiCxf,EAAEkU,GAAY,CAC3C,SACA,aACFjN,IAAaoZ,GAEMjB,YAAhBgB,EACLZ,GAAiCxf,EAAEkU,GAAY,CAC3C,SACA,mBACFjN,IAAaoZ,GAEVD,IAAgB1X,IACrB8W,GAAiCxf,EAAEkU,GAAY,CAC3C,SACA,sBACFjN,IAAaoZ,GAGnBE,QACD,SAAU5e,GACJC,EAAmBqd,GAA2Btd,IAC/Cme,QAOZ,SAASS,KACL,GAAItB,KAA8BjiB,GAC9B,OAGJE,EAAesiB,GAAkCgB,IACjDtjB,EAAewiB,GAAsCc,IACrDtjB,EAAeyiB,GAAiCa,IAChDtjB,EAAe0iB,GAAgCY,IAC/CtjB,EAAe2iB,GAA+BW,IAG1CtB,GAAgC5L,GAAG8L,KAE/BF,GAAgCuB,GAAG,QACnC5jB,EAAY2iB,GAAkCkB,IAC9C7jB,EAAY6iB,GAAsCzJ,KAIlDpZ,EAAY6iB,GAAsCgB,IAEtD7jB,EAAYgjB,GAA+Bc,KAGtCzB,KAAoCxW,IAEzC7L,EAAY2iB,GAAkCkB,IAE9C7jB,EAAY8iB,GAAiC1J,IACzCgJ,GAA0Bjf,EAAE4gB,MAAoBC,GAChDhkB,EAAY8iB,GAAiCmB,IAE7C5jB,EAAeyiB,GAAiCmB,IAEpDjkB,EAAY+iB,GAAgC3J,IACxCgJ,GAA0B1c,EAAEwe,MAAkBC,GAC9CnkB,EAAY+iB,GAAgCkB,IAE5C5jB,EAAe0iB,GAAgCkB,IAEnDjkB,EAAYgjB,GAA+Bc,KAGtCzB,KAAoCpW,KAEzCjM,EAAY2iB,GAAkCkB,IAE9C7jB,EAAYgjB,GAA+Bc,KAK/C,IAAIM,EAAUhC,GAA0Bne,IACpC/D,EAAYkkB,EAAQjhB,EAAEkH,IACtBga,EAAYD,EAAQngB,IACpBqgB,EAAS,EAEb,GAAIpkB,IAAcC,IAAcD,EAAU2D,EAAE,cAAgB,GACrDwgB,IAAclkB,KACbD,EAAYmkB,EAAUlhB,EAAEkH,IACpBnK,IAAcC,IAAcD,EAAU2D,EAAE0gB,KAA0B,GAAG,CACrE,IAAIC,EAAW5jB,EAAYwjB,EAAQre,KAC/B0e,EAAW7jB,EAAYyjB,EAAUte,KACjCye,EAAWC,IACXH,EAASE,EAAWC,EAAW,GAI/C/B,GAAmBhd,EAAEgH,GAAQ0V,GAA0Btc,KAC7Csc,GAA0Brc,IAC1BnF,EAAYwhB,GAA0B1c,EAAEgf,KACxChC,GAAmB3c,IACnBnF,EAAYwhB,GAA0B1c,EAAEuS,KACxCrX,EAAYwhB,GAA0B1c,EAAEwS,KACxCoM,GACL5e,EAAEiR,GAAOyL,GAA0Bpc,KAC9BpF,EAAYwhB,GAA0B1c,EAAEif,MAGlD7b,YAAW,WACPuQ,GAAgBqJ,IAChBvN,GAAUuN,MACX,IAMP,SAASO,KACL3N,GAAUoN,IAkBd,SAASkC,KACLC,GAAmBpjB,EAAE,iBACrBqjB,GAAsBD,GAAiBhN,GAAG,cAC1CkN,GAAmBtjB,EAAEujB,qBACrBC,GAAoBxjB,EAAEujB,sBAGtBD,GAAiBrS,KAAKC,IAAG,WACrB,IAAI+F,EAAKjX,EAAEkX,MACPuM,EAASzjB,EAAEujB,IACQ,IAAnBG,IACAA,GAAiB,IACjB5kB,EAAiB2kB,EAAQ,UAAW,YACpCxM,EAAGf,GAAGX,GAAgB,YAAa,GAAI,GAAIoO,OAG3CD,GAAiB,EACjB5kB,EAAiB2kB,EAAQ,WAAY,WACrCxM,EAAGf,GAAGX,GAAgB,aAAc,GAAI,GAAIoO,MAEhDC,QAGJJ,GAAkBvS,KAAKC,IAAG,WACtBwK,QAGJ0H,GAAiBpM,OAAM,WAEfoM,GAAiBjhB,IAAM,IACvB5D,EAAY+kB,GAAkBO,IAC9BtlB,EAAYilB,GAAmBK,MAG/BjlB,EAAe0kB,GAAkBO,IACjCjlB,EAAe4kB,GAAmBK,KAEtCnQ,GAAU4P,IACV5P,GAAU8P,OACX,WACC3P,GAAUyP,IACVzP,GAAU2P,OAQlB,SAAS7B,GAAcmC,GAqBnB,SAASC,EAAoBD,GACzB,IAAIE,EAAUxc,GACVzG,EAAUC,EAAkB8iB,GAEhC,GAAI/iB,IAAYqJ,GAAS,CAErB4Z,EAAUC,GAAiBH,EAAQxN,IAEnC,IAAIsM,EAAYkB,EAAOthB,IAAIA,IACvBogB,EAAUlhB,EAAEwiB,MAAyB3B,IACrC4B,GAAqBvB,EAAUwB,KAIvC,IAAIC,EAAWP,EAAOQ,QACtBD,EAASpgB,EAAEsgB,GAAU,GAChBtgB,EAAEugB,GAAU,GACjBnB,GAAoB/U,GAAG+V,GAGvB,IAAII,EACAC,EAAkB,QAAZ3jB,EAaV,OAduB,QAAZA,GAEA2jB,KACPL,EAAStI,WAAW4I,IAChBD,GACAnmB,EAAY8lB,EAAUO,KAI1BZ,IACAa,GAAeR,GACfS,GAAkBhB,EAAQxN,KAGvB+N,EAtDXU,KAGA1B,GAAoB2B,QAGpB,IAAIC,EAAMlB,EAAmBD,GAG7BF,KACAR,GAAiBjX,OAGjB+Y,GAAwBD,GACxB5B,GAAoBtf,UAAU,GA+ClC,SAAS2X,KACL0H,GAAiB5W,OAMrB,SAASuY,KAEL,IAAII,EAAQ,IACRC,EAAQ,IACR9gB,EAAItE,EAAEhC,QAAQsG,IAAM,IACpBnC,EAAInC,EAAEhC,QAAQmE,IAAM,EACxBkjB,GAAsB/gB,EAAI6gB,EAAQA,EAAQ7gB,EAC1CghB,GAAuBnjB,EAAIijB,EAAQA,EAAQjjB,EAC3CihB,GAAiBnf,EAAEmX,GAASiK,IACvBphB,EAAEkR,GAAUmQ,IAMrB,SAASJ,GAAwBpB,GA+C7B,SAASyB,EAAad,GAClBngB,EAAImgB,EAAIe,MACRrjB,EAAIsiB,EAAIgB,OA/CZ,IAAI1kB,EAAUC,EAAkB8iB,GAC5Bxf,EAAIwf,EAAOxf,IACXnC,EAAI2hB,EAAO3hB,IACXujB,EAAsD,EAAtCvmB,EAAY2kB,EAAO7f,EAAEC,KACrCyhB,EAA4D,EAAhDxmB,EAAYikB,GAAiBnf,EAAEC,KAG/C,GAAgB,QAAZnD,EAAmB,CACnB,IAAI0jB,EAAM,IAAImB,MACdnB,EAAIzQ,IAAM8P,EAAOpiB,EAAEqc,IACf0G,EAAIoB,SACJN,EAAad,GAEbA,EAAIqB,OAAS,WACTP,EAAad,IAKzB,IAAIsB,EAAezhB,EAAIohB,EACnBphB,EAAI,GAAKyhB,EAAeV,KACxBA,GAAsB/gB,EACtB8e,GAAiBnf,EAAEmX,GAAS2K,GACvB9hB,EAAE+hB,GAAmBX,GAAsB,MAAQC,GAAuB,OAInFnjB,EAAI2hB,EAAO3hB,IACX,IAAI8jB,EAAe9jB,EAAIwjB,EAAYD,EAC/BvjB,EAAI,GAAK8jB,EAAeX,MAEP,QAAZvkB,GAAiC,QAAZA,IACnBoB,EAAI2hB,EAAO3hB,MACVA,EAAI2hB,EAAO3hB,IACX8jB,EAAe9jB,EAAIwjB,EAAYD,GAEvCJ,GAAuBnjB,EACvBihB,GAAiBnf,EAAEkR,GAAU8Q,GACxBhiB,EAAE+hB,GAAmBX,GAAsB,MAAQC,GAAuB,OAgBvF,SAAS1B,KACL5L,GAAmBsL,IACnBtL,GAAmBwL,IAEnBJ,GAAiBnf,EAAEiiB,GAAa,SAAWxC,GAAiB,KACvDzf,EAAE+hB,GAAmBX,GAAsB,MAAQC,GAAuB,MAE/Eje,YAAW,WACPuQ,GAAgB0L,IAChB1L,GAAgB4L,MACjB,IAUP,SAAS9Z,GAAUyc,EAAQC,GACvB,IAAIzH,EAAIzH,KACRyH,EAAE1J,GAAKjV,EAAE,gBACT2e,EAAEwH,OAASA,EACXxH,EAAEyH,KAAOA,EACTzH,EAAE0H,KAAO,CACLC,OAAQH,EACRI,OAAiB,IAATJ,GAEZxH,EAAE6H,QAAU,CACRxf,GAAK,EACLoO,GAAK,GAGTuJ,EAAE9R,QAAUnO,GAKZigB,EAAE8H,WAAa,WACP9H,EAAE1J,GAAGnC,aAGT6L,EAAEwH,OAASxH,EAAEwH,OAASxH,EAAE0H,KAAKE,OACvB5H,EAAE0H,KAAKE,OACP5H,EAAE0H,KAAKC,OAEb3H,EAAE5N,YAMN4N,EAAExS,KAAO,WACLvN,EAAe+f,EAAE9R,QAAQE,KAAKL,IAAiB8V,IAC/CjkB,EAAYogB,EAAE9R,QAAQE,KAAgB,UAAGyV,IAGrC3H,GAAYC,SAAWC,IACvBxc,EAAY8B,IAAWqmB,IAE3B/H,EAAES,KAAO,IACTT,EAAE1J,GAAG9I,OACLvN,EAAeoB,EAAE2e,EAAEgI,cAAeC,IAClCjI,EAAE5N,UAEF,IAAI8V,EAAO9S,GAAc,WAAaiO,GAClC8E,EAAO9E,GAAaA,GAAY,IAAMA,GAAaA,GAAajO,GAAc,OAASiO,GAC3FrD,EAAEyH,KAAKja,KAAK,CACR0a,EAAO,UAAYC,EAAO,KAC1BD,EAAO,mCAAqCC,EAAO,QACrDne,MAONgW,EAAE5N,QAAU,SAAU1N,GAEdA,IAAU3E,KACN2E,EAAMI,UAAY/E,KAClBigB,EAAE6H,QAAQxf,EAAI3D,EAAMI,SACpBJ,EAAMS,UAAYpF,KAClBigB,EAAE6H,QAAQpR,EAAI/R,EAAMS,UAIvB6a,EAAEoI,aAIPpI,EAAE1J,GAAGhR,EAAE+iB,GAAc,6BACfrI,EAAE6H,QAAQxf,EAAI,MAAQ2X,EAAE6H,QAAQpR,EADjB,mBAEEuJ,EAAEwH,OAFJ,0BAGSxH,EAAEwH,OAAS,GAAK,kCAMlDxH,EAAEoI,UAAY,WACV,OAAOpI,EAAE1J,GAAGkD,YAMhBwG,EAAEnT,GAAK,WAEH,OAAImT,EAAEoI,aACFpI,EAAEnS,OAOChF,KAHHmX,EAAExS,OACK5E,KAQfoX,EAAEnS,KAAO,WACLoF,KACA+M,EAAEyH,KAAK5Z,OACP5N,EAAe+f,EAAE9R,QAAQE,KAAgB,UAAGyV,IAC5C5jB,EAAeyB,IAAWqmB,IAC1B/H,EAAE1J,GAAGzI,QASTmS,EAAEzF,cAAgB,SAAUb,EAAMI,EAAUpV,GACxC,GAAIgW,GACA,OAEJ,IAAIE,GAAU,EACd,OAAQlB,GACJ,KAAK,GACDsG,EAAE8H,aACFlN,GAAU,EACV,MACJ,KAAK,GACGoF,EAAEoI,cACFpI,EAAEnS,OACF+M,GAAU,GAEd,MAIJA,GACAlW,EAAMmW,kBAUjB,SAAS1P,GAAasc,GACnB,IAAIzH,EAAIzH,KACRyH,EAAEyH,KAAOA,EACTzH,EAAE9R,QAAUnO,GAEZigB,EAAEsI,OAASzf,GAGXmX,EAAEgI,aAAe,SAKjBhI,EAAExS,KAAO,WACLvN,EAAe+f,EAAE9R,QAAQE,KAAgB,UAAGyV,IAC5CjkB,EAAYogB,EAAE9R,QAAQE,KAAKL,IAAiB8V,IAE5C7D,EAAEsI,OAAS1f,GACXhJ,EAAYyB,EAAE2e,EAAEgI,cAAeC,IAE/BjI,EAAEyH,KAAKja,KAAK4H,GAAc,OAASiO,GAAa,CAC5C,KACA,QACFrZ,MAMNgW,EAAEoI,UAAY,WACV,OAAOpI,EAAEsI,QAMbtI,EAAEnT,GAAK,WAEH,OAAImT,EAAEoI,aACFpI,EAAEnS,OAOChF,KAHHmX,EAAExS,OACK5E,KAQfoX,EAAEnS,KAAO,WACLoF,KACA+M,EAAEyH,KAAK5Z,OACPmS,EAAEsI,OAASzf,GACX5I,EAAe+f,EAAE9R,QAAQE,KAAKL,IAAiB8V,IAC/C5jB,EAAeoB,EAAE2e,EAAEgI,cAAeC,KAStCjI,EAAEzF,cAAgB,SAAUb,EAAMI,EAAUpV,GACxC,GAAIgW,GACA,OAEJ,IAAIE,GAAU,EACd,OAAQlB,GACJ,KAAK,GACGsG,EAAEoI,cACFpI,EAAEnS,OACF+M,GAAU,GAEd,MAIJA,GACAlW,EAAMmW,kBAUlB,SAAS0N,GAAeC,EAASC,GAC7B,IAAIzI,EAAIzH,KACRyH,EAAE1J,GAAKkS,EACPxI,EAAEyI,MAAQA,EAEVzI,EAAEjX,KAAOhJ,GACTigB,EAAE0I,KAAO,GACT1I,EAAE2I,OAAS,EAEX3I,EAAE1J,GAAG3G,GAAG,6CACRqQ,EAAE4I,UAAY5I,EAAE1J,GAAGmB,GAAG,wBAStBuI,EAAEpT,IAAM,SAAU/M,EAAQgpB,EAAMC,EAASC,GA0CrC,SAASC,EAAaF,GAClB9I,EAAEjX,KAAKuN,GAAG2S,MAAM1R,GAAGX,GAAgBoJ,EAAEjX,KAAKuN,GAAG2S,MAAMlmB,EAAEmmB,KAC9CJ,EAAU,WAAa,IAAM,GAAI,GAAI1M,KA3ChD,IAAI+M,EAAOtpB,EAAOupB,WAClBpJ,EAAE2I,SACF3I,EAAE0I,KAAKS,GAAQtpB,EAGf,IAAIwpB,EAAKrJ,EAAEyI,MAAQ,IAAMU,EACrB7S,EAAK,cAAgB+S,EAAK,8CAAgDrJ,EAAEyI,MACtE,KAAOM,EAAS,GAAK,oBACrB,WAAaI,EAAO,KAAOL,EAAU,WAAa,IAFnD,kBAGkBO,EAAK,0BAA4BF,EAAO,KAH1D,WAGqFN,EAAO,KAC3FjS,GAAgBiS,EAAM,GAAI,GAAIzM,IAC9B,WAuBV,OAtBA4D,EAAE1J,GAAG3G,GAAG2G,GACRzW,EAAOyW,GAAG2S,MAAQjJ,EAAE1J,GAAGmB,GAAG,kBAA8B0R,GAGpDL,IACA9I,EAAEjX,KAAOlJ,EACTmpB,EAAapgB,KAIjBoX,EAAE1J,GAAGjC,EAAE,SAAWgV,GAAIC,QAAO,WAEzBtJ,EAAEjX,KAAK8E,OACPmb,EAAangB,IAEbmX,EAAEjX,KAAOiX,EAAE0I,KAAKrnB,EAAEkX,MAAMlL,OACxB2b,EAAapgB,IAEboX,EAAEjX,KAAKyE,OACPwS,EAAEuJ,YAGCvJ,EAAE0I,KAAKS,IAiBlBnJ,EAAEwJ,YAAc,WACZ,OAAOxJ,EAAE1J,GAAGjC,EAAE,eAAiB2L,EAAEyI,MAAQ,cAAcpb,OAO3D2S,EAAEyJ,IAAM,SAAU5pB,EAAQJ,GACtB,IAAI4pB,EAAKrJ,EAAEyI,MAAQ,IAAM5oB,EAAOupB,WAChC,GAAI3pB,IAAUM,GACV,OAAOigB,EAAE1J,GAAGjC,EAAE,aAAegV,EAAK,MAAMtmB,EAAE2mB,IAG1CjqB,EACAugB,EAAE1J,GAAGjC,EAAE,aAAegV,EAAI,MAAMjM,WAAWsM,IAG3C1J,EAAE1J,GAAGjC,EAAE,aAAegV,EAAI,MAAMtmB,EAAE2mB,GAAc3Q,KAOxDiH,EAAEuJ,OAAS,WAEP,IAAII,EAAQ,EACRC,EACA/C,GAAS,IAFD,GACiB7G,EAAE2I,OAAS,GAAM3I,EAAE1J,GAAG3Q,IAAM,KACtBqa,EAAE2I,OAOrC,GANA3I,EAAE1J,GAAGmB,GAAG,kBAAuBnS,EAAEsgB,GAAU,aACtCtgB,EAAEmX,GAASoK,EAAQ,KAExB7G,EAAE1J,GAAGmB,GAAG,wBAAkCnS,EAAEsgB,GAAU,GAGlD5F,EAAEjX,OAAShJ,GACX,OACJ,IAAIF,EAASmgB,EAAEjX,KAAKuN,GAAG2S,MACvBjJ,EAAE4I,UAAUtjB,EAAEgH,GAAQzM,EAAOgqB,MAAMC,KAAOtpB,EAAYX,EAAOyF,EAAEykB,MAC1DzkB,EAAEmX,GAAS5c,EAAO8F,MAW/B,SAASyG,GAAU4d,EAAM9d,EAAUyL,QAC/B,IAAIqI,EAAIzH,KACRyH,EAAE1J,GAAKjV,EAAE,iBACT2e,EAAEiK,OAAS5oB,EAAE,iBAGb2e,EAAEkK,cAAgB7oB,EAAE,uBACpB2e,EAAE9S,QAAU,IAAIid,GAAUnK,EAAEkK,cAAe,wBAAyBthB,IAEpEoX,EAAE9T,QAAWA,IAAYnM,GAAc4X,GAASzL,EAChD8T,EAAEoK,gBAAkBC,GACpBrK,EAAE/S,OAASpE,GAEXmX,EAAE6G,MAAQ7G,EAAE1J,GAAG3Q,IAEfqa,EAAEvT,OAAS1M,GACXigB,EAAE9R,QAAUnO,GAEZigB,EAAEsK,UAAY,KAGdtK,EAAE0I,KAAO,IAAIH,GAAelnB,EAAE,kBAAmB,eACjDkpB,GAAoBvK,EAAE0I,KAGtB1I,EAAErO,QAAUqO,EAAE0I,KAAK9b,IAAI,IAAI4d,GAAWjS,KAAM1P,IAAS,mBAAoBD,GAAOC,IAEhFmX,EAAEjO,OAASiO,EAAE0I,KAAK9b,IAAI,IAAI6d,GAAUlS,KAAM3P,IAAQ,kBAAmBC,GAAQA,IAE7EmX,EAAEhO,MAAQgO,EAAE0I,KAAK9b,IAAI,IAAI8d,GAASnS,KAAM3P,IAAQ,iBAAkBC,GAAQA,IAE1EmX,EAAE/N,MAAQ+N,EAAE0I,KAAK9b,IAAI,IAAI+d,GAASpS,KAAM3P,IAAQ,iBAAkBC,GAAQA,IAE1EmX,EAAE9N,UAAY8N,EAAE0I,KAAK9b,IAAI,IAAIge,GAAarS,KAAM3P,IAAQ,qBAAsBC,GAAQA,IAEtFmX,EAAEnM,QAAUmM,EAAE0I,KAAK9b,IAAI,IAAIie,GAAWtS,KAAM3P,IAAQ,mBAAoBC,GAAQA,IAGhFmX,EAAEgK,KAAOA,EACThK,EAAEgK,KAAKc,YAAYvS,KAAMyH,EAAE1J,IAE3B0J,EAAE0I,KAAKa,SAEPtQ,GAAgB+G,EAAEiK,QAKlBjK,EAAErO,QAAQoZ,iBAAmB,WAErB/K,EAAEvT,SAAW1M,IACbigB,EAAEvT,OAAO8c,UAIjBvJ,EAAE9S,QAAQ8d,QAAQpU,GAAgB,eAAgB,GAAI,GAAI,UAE1D,IAAIqU,EAAS,GACbjL,EAAE9S,QAAQge,YAAY,CAClB,cACA,sBACFlhB,KAGFgW,EAAE9S,QAAQie,QAAU,SAAUhG,EAAQ1lB,GAClCugB,EAAErO,QAAQyZ,UAAUjL,QACpBH,EAAEjO,OAAOqZ,UAAUjL,QACnBH,EAAEhO,MAAMoZ,UAAUjL,QAClBH,EAAEhO,MAAMoZ,UAAUjL,QAClBH,EAAE/N,MAAMmZ,UAAUjL,QAClBH,EAAE9N,UAAUkZ,UAAUjL,QAEG,IAArB1gB,EAAM4I,IAAI/G,QAEV0e,EAAErO,QAAQ2E,GAAG+U,OAAOhF,QAChBrG,EAAE0I,KAAKc,gBAAkBxJ,EAAErO,QAAQyX,YACpCpJ,EAAErO,QAAQ2E,GAAGvR,KAAKyI,OACrBwS,EAAErO,QAAQ2Z,mBACVtL,EAAErO,QAAQ4Z,kBACVvL,EAAErO,QAAQ6Z,eAEVC,GAAqBzL,EAAEjO,QACvB0Z,GAAqBzL,EAAEhO,OACvByZ,GAAqBzL,EAAE/N,OACvBwZ,GAAqBzL,EAAE9N,aAIvB8N,EAAErO,QAAQnL,OAAO/G,EAAMwE,KAEvBynB,GAAgB1L,EAAEjO,OAAQtS,EAAMwE,KAChCynB,GAAgB1L,EAAEhO,MAAOvS,EAAMwE,KAC/BynB,GAAgB1L,EAAE/N,MAAOxS,EAAMwE,KAC/BynB,GAAgB1L,EAAE9N,UAAWzS,EAAMwE,OAI3C+b,EAAE9S,QAAQye,QAAU,SAAUxG,GAC1B,GAAInF,EAAEoK,kBAAoBC,GAAS,CAE/B,IAAIuB,EADJhsB,EAAY8B,IAAWmqB,IAEvBjsB,EADayB,EAAE,kBACKwqB,MAI5B7L,EAAE9S,QAAQ4e,OAAS,SAAU3G,GACzBllB,EAAeyB,IAAWmqB,IAC1B5rB,EAAeoB,EAAE,kBAAyBwqB,KAI9C7L,EAAE9S,QAAQ6e,WAAa,SAAU5G,EAAQ1lB,GACrCugB,EAAE9S,QAAQC,MAAMC,SAMpB4S,EAAEgM,cAAgB,WACdhM,EAAEiM,mBAMNjM,EAAEkM,UAAY,WACV1sB,EAAe,KAEXoC,MAAgB7B,IACZigB,EAAErO,QAAQwa,cAAgBpsB,KAC1BE,EAAe+f,EAAErO,QAAQwa,YAAaC,IACtCpM,EAAErO,QAAQ0a,oBAAsB,GAEpCrM,EAAEvO,SACFuO,EAAEvT,OAAOgF,SACTuO,EAAE9R,QAAQuD,UAIV6a,MAORtM,EAAEiM,gBAAkB,WACZjM,EAAEoK,kBAAoBC,IACtBrK,EAAEnS,KAAK8J,KAOfqI,EAAEnT,GAAK,SAAU0f,GAETvM,EAAE/S,OACF+S,EAAEnS,KAAK,WAIPmS,EAAE9T,QAAUyL,IAEPqI,EAAErO,QAAQ6a,YAActW,KACzB8J,EAAExS,KAAK6c,IAKHrK,EAAE9T,UAAYyL,IACdqI,EAAExS,KAAKif,YAInB,IAAqBC,IAAcH,IACnCvM,EAAE2M,eAQN3M,EAAExS,KAAO,SAAU4c,GAEf,MAAe,QAAXta,IAAoBkQ,EAAE/S,QAAU+S,EAAE1J,GAAG5Q,MAAQsa,EAAE6G,MACxChe,IAGXmX,EAAE1J,GAAGhR,EAAEgH,GAAQ,IACf0T,EAAEiK,OAAOpc,OAETmS,EAAEoK,gBAAkBA,EAEhBpK,EAAEoK,kBAAoBqC,IAEtBxsB,EAAe+f,EAAE1J,GAAIsW,IACrB3sB,EAAe+f,EAAE1J,GAAIuW,IACrBjtB,EAAYogB,EAAE1J,GAAIwW,IAGbzb,GAAIC,OAAOC,QACZ3R,EAAYogB,EAAE9R,QAAQE,KAAK/B,IAAcwX,IAE7CniB,IAAU4D,EAAEykB,GAAcgD,IAGrB/M,EAAE/S,QACHvE,YAAW,WAEPD,IAEA8K,OACD,MAIFyM,EAAEoK,kBAAoBC,KAE3BpqB,EAAe+f,EAAE1J,GAAIwW,IACrBltB,EAAYogB,EAAE1J,GAAIsW,IAClBhtB,EAAYogB,EAAE1J,GAAIuW,IAGlB7M,EAAEgK,KAAKxc,OAGHnM,EAAEhC,QAAQsG,IAAMqa,EAAE6G,MAAQ,GAC1B7G,EAAE1J,GAAGhR,EAAEmX,GAASpb,EAAEhC,QAAQsG,IAAM,IAGhCqa,EAAE1J,GAAGhR,EAAEmX,GAASuD,EAAE6G,QAG1B7G,EAAE/S,OAASrE,GACJA,KAQXoX,EAAEnS,KAAO,SAAU3B,EAAUyL,QAEzB,OAAKqI,EAAE/S,QAAU+S,EAAE1J,GAAG5Q,KAAO,GAClBmD,IAGPmX,EAAEoK,kBAAoBqC,KAEtBzM,EAAE9T,QAAUA,EAGZqH,KAGKlC,GAAIC,OAAOC,QACZtR,EAAe+f,EAAE9R,QAAQE,KAAK/B,IAAcwX,KAGpD7D,EAAE1J,GAAGhR,EAAEgH,GAAQnF,EAAiB,4BAGhCzF,IAAU4D,EAAEykB,GAAc,GAE1B/J,EAAEgK,KAAKnc,OAGFwD,GAAIC,OAAOC,QACZyO,EAAExO,aAENwO,EAAE/S,OAASpE,GAEJD,KAOXoX,EAAEvO,OAAS,WACP,IAAI4Z,EAASxiB,GAwCb,OArCImX,EAAE/S,QAAU+S,EAAEoK,kBAAoBqC,IAClC/qB,IAAU4D,EAAEykB,GAAcgD,IAE9B/M,EAAE6G,MAAQ7G,EAAE1J,GAAG3Q,IAEfqa,EAAE9S,QAAQ8f,SAAShN,EAAE6G,MAAQ,EAAmD,EAA/CrmB,EAAYwf,EAAEkK,cAAc5kB,EAAEykB,MAG/D/J,EAAE0I,KAAKa,UAGFvJ,EAAErO,QAAQ6a,YAActW,MAEzBmV,EAASrL,EAAEnS,KAAK8J,IAGhBqI,EAAE1J,GAAGhR,EAAEgH,GAAQ2gB,IAGV5b,GAAIC,OAAOC,QACZtR,EAAe+f,EAAE9R,QAAQE,KAAK/B,IAAcwX,KAK5C7D,EAAE9T,UAAYyL,KAEd0T,EAASrL,EAAExS,KAAKif,IAGhBzM,EAAE1J,GAAGhR,EAAEmX,GAASyQ,IAGX7b,GAAIC,OAAOC,QACZ3R,EAAYogB,EAAE9R,QAAQE,KAAK/B,IAAcwX,KAG9CwH,GAMXrL,EAAExO,WAAa,WACI,QAAX1B,KAGJkQ,EAAEiK,OAAO3kB,EAAEiR,IAAQlV,EAAEhC,QAAQmE,IAAMwc,EAAEiK,OAAOzmB,KAAO,GACnDwc,EAAEiK,OAAOzc,SAMbwS,EAAE3N,KAAO,SAAU3N,GAEf,IAAIsb,EAAE/S,SAAUoE,GAAIC,OAAOC,OAI3B,GAAI7M,EAAMS,QAAU,KAAOT,EAAMS,QAAW9D,EAAEhC,QAAQmE,IAAM,KAAQkB,EAAMI,SAAW,GAAI,CACrF,GAAmB,MAAfkb,EAAEsK,UACF,OAEJ1qB,EAAYogB,EAAEiK,OAAQzR,IAGtBwH,EAAEsK,UAAY5hB,YAAW,WACrBzI,EAAe+f,EAAEiK,OAAQzR,IACzBwH,EAAExS,KAAK6c,MACR,UAIgB,MAAfrK,EAAEsK,YACF3I,aAAa3B,EAAEsK,WACftK,EAAEsK,UAAY,KACdrqB,EAAe+f,EAAEiK,OAAQzR,MAQpCwH,EAAE2M,YAAc,WACTxgB,GAAWie,kBAAoBqC,IAC/Brb,MASR4O,EAAEzF,cAAgB,SAAUb,EAAMI,EAAUpV,GAIxC,GAFAsb,EAAEjT,OAAOwN,cAAcb,EAAMI,EAAUpV,GAEnCsb,EAAE1J,GAAGnC,WACL,OAEJ,IAAIyG,GAAU,EACd,OAAQlB,GACJ,KAAK;CACIsG,EAAE9S,QAAQigB,UAAYnN,EAAE/S,QAAU+S,EAAEoK,kBAAoBC,KACzDrK,EAAEnS,OACF+M,GAAU,GAEd,MAIJA,GACAlW,EAAMmW,kBAkGlB,SAASrO,KACL,IAAIwT,EAAIzH,KACJ6U,EAAS,sBACTC,EAAY,yBACZC,EAAS,sBACTC,EAAO,2BAEXvN,EAAE1J,GAAKjV,EAAE,kBAET2e,EAAE9I,KAAO,CACLZ,GAAKjV,EAAE+rB,GACPzlB,KAAMtG,EAAE,6BAGZ2e,EAAE3I,QAAU,CACRf,GAAKjV,EAAEgsB,IAGXrN,EAAE7I,KAAO,CACLb,GAAKjV,EAAEisB,GACP3lB,KAAOtG,EAAE,6BAIb2e,EAAE5I,GAAK/V,EAAEksB,GACTvN,EAAE5I,GAAG9O,EAAEzF,KAEQ,QAAXiN,IACAkQ,EAAE1J,GAAGzI,OAKTmS,EAAEwN,kBAAoB,SAAU3tB,GAExBiZ,IAAe,GACflZ,EAAYyB,EAAExB,GAAS4tB,IACvBxU,GAAgB5X,EAAExB,EAAS,aAG3BM,EAAiBkB,EAAExB,GAAS4tB,GAAU,aAI9CzN,EAAEwN,kBAAkBJ,GACpBpN,EAAEwN,kBAAkBH,GACpBrN,EAAEwN,kBAAkBF,GACpBtN,EAAEwN,kBAAkBD,GAKpBvN,EAAE9I,KAAKZ,GAAGhE,KAAKC,IAAG,WACd+Z,KACItM,EAAE9I,KAAKvP,KAAK5E,EAAE2qB,MAAkBC,GAChCxhB,GAAW+f,YAEX/f,GAAWwF,QAAQic,WAAW5N,EAAE9I,KAAKvP,SAM7CqY,EAAE5I,GAAG9E,KAAKC,IAAG,WACT+Z,KACIjrB,EAAEkX,MAAMxV,EAAE8qB,MAAgB9tB,IAC1BoM,GAAW+f,eAMnBlM,EAAE3I,QAAQf,GAAGhE,KAAKC,IAAG,WACjB+Z,KACAngB,GAAWwF,QAAQic,WAAW5N,EAAE3I,QAAQf,OAM5C0J,EAAE7I,KAAKb,GAAGhE,KAAKC,IAAG,WACd+Z,KACAngB,GAAWwF,QAAQic,WAAW5N,EAAE7I,KAAKxP,SAMzCqY,EAAEuJ,OAAS,WACP,IAAIuE,EAAS3hB,GAAWwF,QAAQ0a,mBAwChC,GApCIyB,EAAS,GACT9N,EAAE9I,KAAKZ,GAAG9I,OACVwS,EAAE9I,KAAKZ,GAAGhR,EAAEyoB,GAAWtB,IACvBzM,EAAE9I,KAAKvP,KAAKW,EAAEjH,EAAE,IAAM8K,GAAWwF,QAAQnO,EAAEsqB,EAAS,IAAIxlB,KACxD0X,EAAE9I,KAAKvP,KAAK5E,EAAE2qB,GAAcvhB,GAAWwF,QAAQnO,EAAEsqB,EAAS,IAGtDlsB,MAAgB7B,KAChBE,EAAe+f,EAAE5I,GAAI4W,IACrBhO,EAAE5I,GAAGgG,WAAWyQ,IAChB7N,EAAEwN,kBAAkBD,GACpBtK,GAAcjD,EAAE5I,GAAIzM,MAKnBwB,GAAWwF,QAAQsc,iBACxBjO,EAAE9I,KAAKvP,KAAKW,EAAE,CACV,KACA,SACF0B,KACFgW,EAAE9I,KAAKvP,KAAK5E,EAAE2qB,GAAcC,KAGvBxhB,GAAWwF,QAAQuc,eACxBlO,EAAE9I,KAAKZ,GAAGzI,OACVmS,EAAE3I,QAAQf,GAAGzI,OAEb5N,EAAe+f,EAAE5I,GAAI,yBACrBxX,EAAYogB,EAAE5I,GAAI4W,IAClBhO,EAAE5I,GAAGrU,EAAE8qB,GAAYjK,IACnBlL,GAAiBsH,EAAE5I,KAKnBjL,GAAWwF,QAAQwa,cAAgBpsB,GAAY,CAE3CoM,GAAWwF,QAAQuc,aACnBlO,EAAE3I,QAAQf,GAAGzI,OAEbmS,EAAE3I,QAAQf,GAAG9I,OAEjB,IAAI2gB,EAAYhiB,GAAWwF,QAAQwa,YAAYppB,EAAEqrB,IAC7CD,IAAcpuB,KACdouB,EAAY,IAChBnO,EAAE3I,QAAQf,GAAGiB,GAAG8W,GAASF,EAAYG,GAC/BniB,GAAWwF,QAAQwa,YAAYppB,EAAEC,KACvCgd,EAAE3I,QAAQf,GAAGvT,EAAE2qB,GAAcvhB,GAAWwF,QAAQnO,EAAEsqB,IAKlDA,EAAS3hB,GAAWwF,QAAQnO,EAAElC,OAAS,GACvC0e,EAAE7I,KAAKb,GAAG9I,OACVwS,EAAE7I,KAAKxP,KAAKW,EAAEjH,EAAE,IAAM8K,GAAWwF,QAAQnO,EAAEsqB,EAAS,IAAIxlB,KACxD0X,EAAE7I,KAAKxP,KAAK5E,EAAE2qB,GAAcvhB,GAAWwF,QAAQnO,EAAEsqB,EAAS,KAG1D9N,EAAE7I,KAAKb,GAAGzI,QAMlBmS,EAAExS,KAAO,WAEU,QAAXsC,IAAoBtP,EAAYwf,EAAE1J,GAAGhR,EAAEiR,MAAW,IAGtD3W,EAAYogB,EAAE1J,GAAIuW,IAClB7M,EAAE1J,GAAGhR,EAAEiR,GAAO,GACdyJ,EAAE1J,GAAG9I,SAMTwS,EAAEnS,KAAO,WAEDrN,EAAYwf,EAAE1J,GAAGhR,EAAEiR,KAAU,IAGjCtW,EAAe+f,EAAE1J,GAAIuW,IACrB7M,EAAE1J,GAAGhR,EAAEiR,IAAQ,IACfyJ,EAAE1J,GAAGzI,SAMTmS,EAAEvO,OAAS,WAEFtF,GAAWwF,QAAQ6a,YAUpBvsB,EAAesuB,GAA0BZ,IACzC3N,EAAExS,OACFwS,EAAEuJ,WAXFvJ,EAAEnS,OACFjO,EAAY2uB,GAA0BZ,IAGtC3N,EAAE9I,KAAKvP,KAAK5E,EAAE2qB,GAAcC,IAC5B3N,EAAE7I,KAAKxP,KAAK5E,EAAE2qB,GAAcvhB,GAAWwF,QAAQnO,EAAE,MAazDwc,EAAEpO,iBAAmB,WAEbP,GAAIC,OAAOC,QACXyO,EAAE9I,KAAKZ,GAAG4B,KACV8H,EAAE3I,QAAQf,GAAG4B,KACb8H,EAAE7I,KAAKb,GAAG4B,OAKV+K,GAAcjD,EAAE9I,KAAKZ,GAAIqB,IAEzBsL,GAAcjD,EAAE5I,GAAIzM,IAEpBsY,GAAcjD,EAAE3I,QAAQf,GAAI3L,IAE5BsY,GAAcjD,EAAE7I,KAAKb,GAAIvH,MAUjCiR,EAAEzF,cAAgB,SAAUb,EAAMI,EAAUpV,GACxC,GAAIgW,GACA,OAEJ,IAAIE,GAAU,EACd,OAAQlB,GACJ,KAAK,IACL,KAAK,GACDsG,EAAE9I,KAAKZ,GAAGhC,GAAGmF,IAEbtN,GAAWwF,QAAQ2B,cACnBsH,GAAU,EACV,MACJ,KAAK,IACL,KAAK,GACDoF,EAAE7I,KAAKb,GAAGhC,GAAGmF,IAEbrG,GAAoB,EAAG,GAEvBjH,GAAWwF,QAAQ2B,cACnBsH,GAAU,EACV,MAIJA,GACAlW,EAAMmW,kBAUlB,SAAS2T,GAAa/G,GAClB,IAAIzH,EAAIzH,KACRyH,EAAEyH,KAAOA,EACTzH,EAAE/Z,MAAQ,EACV+Z,EAAE8N,QAAU,EACZ9N,EAAE7E,QAAUtS,GAEZmX,EAAE9R,QAAUnO,GAKZigB,EAAEyO,IAAM,WACJ,OAAkB,IAAdzO,EAAE8N,OACK/tB,GACJsB,EAAE,gBAA8B2e,EAAE8N,OAAS,OAOtD9N,EAAEnT,GAAK,SAAUhN,GAEb,GADAmgB,EAAE7E,SAAW6E,EAAE7E,QACX6E,EAAE7E,QAAS,CACXvb,EAAYogB,EAAE9R,QAAQE,KAAKT,IAAiBkW,IAC5C6K,KAGA,IAAIxG,EAAO9S,GAAc,KAAOiO,GAAa,IAAMA,GAC/C8E,EAAO9E,GAAY,IAAMA,GAAajO,GAAc,KAAOiO,GAAa,IAAMA,GAC9EsL,EAAOtL,GAAaA,GAAY,IAAMA,GAAaA,GAAajO,GAAc,OAASiO,GAW3F,OAVArD,EAAEyH,KAAKja,KAAK,CACR0a,EAAO,QACDC,EAAO,QACPwG,EAAO,KACbzG,EAAO,qBACDC,EAAO,kBACPwG,EAAO,QACf3kB,KAEFgW,EAAE4O,KAAK/uB,GACA+I,GAKX,OAFIoX,EAAEnS,OAEChF,IAMXmX,EAAEpT,IAAM,SAAU5I,GACdA,EAAKjB,EAAE8rB,GAAU,SAAW7O,EAAE/Z,OAC9BjC,EAAKjB,EAAE+rB,GAAa9O,EAAE/Z,OACtB+Z,EAAE/Z,QAGFjC,EAAKsO,KAAKC,IAAG,WAEJzE,GAAcqN,SAQf6E,EAAE4O,KAAK5qB,GACH+qB,MACAjhB,GAAcjB,GAAG7I,IATjB+qB,MACGjhB,GAAcjB,GAAG7I,KAChB8G,GAAW+C,OACX3C,GAAc2C,YAiBlCmS,EAAEgP,OAAS,SAAUC,GACjB,OAAKjP,EAAE7E,SAGP6E,EAAEkP,YAGElP,EAAE8N,OAAS,GACX9N,EAAE8N,OAAS9N,EAAE8N,OAASmB,EAElBjP,EAAE8N,OAAS,IACX9N,EAAE8N,OAAS,GAGV9N,EAAE4O,KAAK,IACR5O,EAAEgP,OAAO,GAENpmB,IAEJC,IAjBIA,IAyBfmX,EAAEmP,OAAS,SAAUF,GACjB,OAAKjP,EAAE7E,SAGP6E,EAAEkP,YAGElP,EAAE8N,OAAS9N,EAAE/Z,MAAQ,GACrB+Z,EAAE8N,OAAS9N,EAAE8N,OAASmB,EAGlBjP,EAAE8N,OAAS9N,EAAE/Z,MAAQ,IACrB+Z,EAAE8N,OAAS9N,EAAE/Z,MAAQ,GAGpB+Z,EAAE4O,KAAK,IACR5O,EAAEmP,OAAO,GAENvmB,IAEJC,IAlBIA,IAyBfmX,EAAE4O,KAAO,SAAU/uB,GACfmgB,EAAEkP,YAGF,IAAIlrB,EAAmB,IAAXnE,EACNmgB,EAAEyO,MACF5uB,EAIN,GAAImE,IAASjE,IAAciE,EAAKmQ,YAAcnQ,EAAK+P,MAAQhU,GACvD,OAAO8I,GAGXjJ,EAAYoE,EAAMorB,IAClBpP,EAAE8N,OAASttB,EAAYwD,EAAKjB,EAAE+rB,KAG9B,IAAIhI,EAAoB,EAAX9iB,EAAKR,IAOlB,OANkB,IAAdQ,EAAK4B,OACA5B,EAAK4B,KAAOkhB,EAAUzlB,EAAEyB,UAAUsC,aACnCpB,EAAK4B,KAAOkhB,EAAWzlB,EAAEyB,UAAUsC,YAAc/D,EAAEhC,QAAQmE,MAC3DrC,IAAWiE,UAAUpB,EAAK4B,KAAOvE,EAAEhC,QAAQmE,IAAM,GAGlDoF,IAMXoX,EAAEkP,UAAY,WACNlP,EAAEyO,QAAU1uB,IACZE,EAAe+f,EAAEyO,MAAOW,KAMhCpP,EAAEnS,KAAO,WACLoF,KACA+M,EAAEyH,KAAK5Z,OACP5N,EAAe+f,EAAE9R,QAAQE,KAAKT,IAAiBkW,IAC/C7D,EAAE7E,QAAUtS,GACZmX,EAAEkP,aASNlP,EAAEzF,cAAgB,SAAUb,EAAMI,EAAUpV,GACxC,IAAKsb,EAAE7E,QACH,OAEJ,IAAIP,GAAU,EACd,OAAQlB,GACJ,KAAK,GACDlH,KACIwN,EAAEmP,OAAO,IACTE,KACJzU,GAAU,EACV,MACJ,KAAK,GACDpI,KACIwN,EAAEgP,OAAO,IACTK,KACJzU,GAAU,EACV,MACJ,KAAK,GACGoF,EAAE7E,UACF6E,EAAEnS,OACF+M,GAAU,GAEd,MAIJA,GACAlW,EAAMmW,kBAwClB,SAASyU,KACLC,IAA0B,IAAI3c,MAAOC,UAOzC,SAASkc,KAEL,OAAgC,IAA5BQ,GACO1mB,IAGP,IAAI+J,MAAOC,UAAY0c,GAA0B,KAEjDlwB,OAAOmwB,eAAeC,kBACf7mB,KAIX2mB,GAA0B,EACnB1mB,IASX,SAAS8D,GAAQF,GACb,IAAIuT,EAAIzH,KACRyH,EAAE1J,GAAKjV,EAAE,cACT2e,EAAE5R,KAAO,GACT4R,EAAEvT,OAASA,EAEI,QAAXqD,IACAkQ,EAAE1J,GAAGzI,OAOTmS,EAAEpT,IAAM,SAAUuc,EAAMuG,GACpB1P,EAAE5R,KAAK+a,GAAQ9nB,EAAE,UAAY8nB,GAE7BnJ,EAAE5R,KAAK+a,GAAM7W,KAAKC,IAAG,WACjB+Z,YACA,IAAuBI,IAAcgD,OAIzC1P,EAAE5R,KAAK+a,GAAM9Q,OAAM,WACf,IAAIC,EAAKjX,EAAEkX,MACPoX,EAAWrX,EAAGvV,EAAE6sB,IAChBD,IAAa5vB,IACbH,EAAYyB,EAAE,gBAAkBsuB,GAAWnX,IAC/CqX,GAAcvX,EAAIX,OACnB,WACC,IAAIgY,EAAWtuB,EAAEkX,MAAMxV,EAAE6sB,IACrBD,IAAa5vB,IACbE,EAAeoB,EAAE,gBAAkBsuB,GAAWnX,IAClD8T,SAQRtM,EAAEvS,WAAa,SAAU0b,GACrBnJ,EAAE5R,KAAK+a,GAAQ9nB,EAAE,MAAQ8nB,IAM7BnJ,EAAEvO,OAAS,WACP,GAAe,QAAX3B,GAAJ,CAaA,GATIuB,GAAIC,OAAOC,SACXyO,EAAE5R,KAAKT,IAAgBE,OACvBmS,EAAE5R,KAAgB,UAAEP,OACpBmS,EAAE5R,KAAKL,IAAgBF,OACvBmS,EAAE5R,KAAY,MAAEP,OAChBmS,EAAE5R,KAAKV,IAAkBG,QAIzBqI,OAAyB/J,GAAWwF,QAAQ6a,WAAY,CACxD,IAAIsD,EAAU,EAEV5Z,MACA8J,EAAE1J,GAAGhR,EAAEuS,GAAe,GACjBvS,EAAEwS,GAAgB,GAClBxS,EAAEiR,GAAO,GAAKuZ,GAIvB9P,EAAE5R,KAAKV,IAAkBpI,EAAEmX,GAAS,IAGpCxc,EAAe+f,EAAE1J,GAAIuW,IACrBjtB,EAAYogB,EAAE1J,GAAIqX,IAGlB/tB,EAAYogB,EAAE1J,GAAGmB,GAAGQ,IAAoB4U,IACxCjtB,EAAYogB,EAAE1J,GAAGmB,GAAGQ,IAAoBoS,KAGnCnU,MACG/J,GAAWwF,QAAQ6a,aAcnBtW,MAAwB/J,GAAWwF,QAAQ6a,WAC3CxM,EAAE1J,GAAGhR,EAAEuS,GAAe,GACjBvS,EAAEwS,GAAgB,GAClBxS,EAAEiR,GAAO,GAAKuZ,GAhBnBzuB,EAAEyB,UAAUsC,aAAe,EAC3B4a,EAAE1J,GAAGhR,EAAEuS,GAAe,IACjBvS,EAAEwS,GAAgB,IAClBxS,EAAEiR,GAAO,IAGdyJ,EAAE1J,GAAGhR,EAAEuS,GAAe,IACjBvS,EAAEwS,GAAgB,IAClBxS,EAAEiR,GAAO,OAwBrB,CACD,GAAkB,IAAdyJ,EAAE1J,GAAG1Q,KACL,OAGJ3F,EAAe+f,EAAE1J,GAAIqX,IACrB/tB,EAAYogB,EAAE1J,GAAIuW,IAGlB,IAAIkD,EAAW/P,EAAE1J,GAAGjC,EAAE,UAAU/S,OAC5B0uB,EAAWxvB,EAAY2G,EAAiB,iBACxCwiB,EAAQnpB,EAAY2G,EAAiB,iBACzC6Y,EAAE5R,KAAKV,IAAkBpI,EAAEmX,GAAS,kCACzBsT,EAAWC,EAAgD,EAArCxvB,EAAYwf,EAAE1J,GAAGhR,EAAEuS,MAAuBkY,EAAW,GAAKpG,GAAS,YAEpG3J,EAAE1J,GAAGhR,EAAEuS,GAAe,IACjBvS,EAAEwS,GAAgB,IAClBxS,EAAEiR,GAAO,GAEdtW,EAAe+f,EAAE1J,GAAGmB,GAAGQ,IAAoB4U,IAC3C5sB,EAAe+f,EAAE1J,GAAGmB,GAAGQ,IAAoBoS,IAE/CrK,EAAE1J,GAAG9I,SASb,SAAS0O,MA2TT,SAAS+T,GAAgB3Z,EAAI4Z,GACzB,IAAIlQ,EAAIzH,KACRyH,EAAE1J,GAAKA,EACP0J,EAAEkQ,MAAQA,EACVlQ,EAAEmQ,UAAYnQ,EAAEkQ,MAAM5uB,OAQ1B,SAASkJ,GAAUwf,EAAMoG,GACrB,IAAIpQ,EAAIzH,KACRyH,EAAEoQ,MAAQA,EACVpQ,EAAE1J,GAAKjV,EAAE,iBAET2e,EAAEqQ,WAAa,IAAIJ,GAAgB5uB,EAAE,2BAA4B,IAEjE2e,EAAEsQ,UAAY,IAAIL,GAAgB5uB,EAAE,0BAA2B,IAE/D2e,EAAEuQ,UAAY,IAAIN,GAAgB5uB,EAAE,0BAChC,CACI,6BAA8B,2BAA4B,6BAC1D,mCAAoC,gCAAiC,iCAAkC,gCACvG,gCAAiC,6BAA8B,8BAA+B,6BAC9F,2BAA4B,yBAA0B,0BAG9D2e,EAAEwQ,WAAa,IAAIP,GAAgB5uB,EAAE,2BACjC,CACI,6BAA8B,2BAA4B,6BAC1D,oCAAqC,kCAAmC,oCAAqC,kCAC7G,iCAAkC,+BAAgC,iCAAkC,+BACpG,yBAA0B,yBAC1B,gCAAiC,6BAA8B,8BAA+B,6BAC9F,2BAA4B,yBAA0B,0BAG9D2e,EAAEgK,KAAOA,EACThK,EAAEgK,KAAKc,YAAYvS,KAAMyH,EAAE1J,IAE3B2C,GAAgB+G,EAAE1J,IAGlB0J,EAAEqQ,WAAW/Z,GAAGhE,KAAKC,IAAG,WACpByN,EAAEvhB,MAAM,SACRuhB,EAAEnS,UAENmS,EAAEsQ,UAAUha,GAAGhE,KAAKC,IAAG,WACnByN,EAAEvhB,MAAM,QACRuhB,EAAEnS,UAENmS,EAAEuQ,UAAUja,GAAGhE,KAAKC,IAAG,WACnByN,EAAEvhB,MAAM,QACRuhB,EAAEyQ,cACFzQ,EAAEnS,UAENmS,EAAEwQ,WAAWla,GAAGhE,KAAKC,IAAG,WACpByN,EAAEvhB,MAAM,SACRuhB,EAAEyQ,cACFzQ,EAAEnS,UAONmS,EAAEpV,KAAO,SAAUwlB,GAEXA,IAAUrwB,IAC6B,MAApCqwB,EAAMlxB,EAAE,0BACRkxB,IAAUpQ,EAAEoQ,QACXpQ,EAAEoQ,MAAQA,EACVpQ,EAAEvhB,MAAMuhB,EAAEoQ,QAGlB9xB,EAAI,qBAAuB0hB,EAAEoQ,MAAQ,YAErCpQ,EAAEyQ,cAGFpvB,EAAE,8DAA8DiH,EAAE,KAAO,CACrE,MACA,SACF0B,MAMNgW,EAAEyQ,YAAc,WA0DZ,SAASC,IACL,IAAIC,EAAW,eACXC,EAAU,aACd5Q,EAAE6Q,SAASF,EAAUG,GAAUA,GAAUF,EAASA,EAAS,MAAOG,IAClE/Q,EAAE6Q,SAASF,EAAUG,GAAUE,GAAQJ,EAASA,EAAUK,EAAO,MAAOF,IACxE/Q,EAAE6Q,SAASF,EAAUO,GAAUJ,GAAUF,EAASA,EAAUO,EAAS,MAAOJ,IAIhF,SAASK,IACL,IAAIT,EAAW,qBACXC,EAAU,eACd5Q,EAAE6Q,SAASF,EAAUG,GAAUA,GAAUF,EAASA,EAAUS,EAAUC,GAAOP,GAASQ,GACtFvR,EAAE6Q,SAASF,EAAUG,GAAUU,EAAeZ,EAASA,EAAUa,EAASH,GAAOP,GAASQ,GAC1FvR,EAAE6Q,SAASF,EAAUG,GAAUE,GAAQJ,EAASA,EAAUK,EAAOK,GAAOP,GAASQ,GACjFvR,EAAE6Q,SAASF,EAAUG,GAAUY,EAAed,EAASA,EAAUe,EAAQL,GAAOP,GAASQ,GAI7F,SAASK,IACL,IAAIjB,EAAW,sBACXC,EAAU,WACViB,EAAkBjB,EAAUO,EAChCnR,EAAE6Q,SAASF,EAAUG,GAAUA,GAAUF,EAASA,EAAUS,EAAUC,GAAOP,GAASQ,GACtFvR,EAAE6Q,SAASF,EAAUG,GAAUE,GAAQJ,EAASA,EAAUK,EAAOK,GAAOP,GAASQ,GACjFvR,EAAE6Q,SAASF,EAAUO,GAAUJ,GAAUF,EAASiB,EAAkBR,EAAUC,GAAOP,GAASQ,GAC9FvR,EAAE6Q,SAASF,EAAUO,GAAUF,GAAQJ,EAASiB,EAAkBZ,EAAOK,GAAOP,GAASQ,GAI7F,SAASO,IACL,IAAInB,EAAW,kBACXC,EAAU,eACd5Q,EAAE6Q,SAASF,EAAUG,GAAUA,GAAUF,EAASA,EAAUS,EAAUC,GAAOP,IAC7E/Q,EAAE6Q,SAASF,EAAUG,GAAUU,EAAeZ,EAASA,EAASa,EAASH,GAAOP,IAChF/Q,EAAE6Q,SAASF,EAAUG,GAAUE,GAAQJ,EAASA,EAAUK,EAAOK,GAAOP,IACxE/Q,EAAE6Q,SAASF,EAAUG,GAAUY,EAAed,EAASA,EAAUe,EAAQL,GAAOP,IAIpF,SAASgB,IACL,IAAIpB,EAAW,mBACXC,EAAU,WACViB,EAAkBjB,EAAUO,EAChCnR,EAAE6Q,SAASF,EAAUG,GAAUA,GAAUF,EAASA,EAAUS,EAAUC,GAAOP,IAC7E/Q,EAAE6Q,SAASF,EAAUG,GAAUE,GAAQJ,EAASA,EAAUK,EAAOK,GAAOP,IACxE/Q,EAAE6Q,SAASF,EAAUO,GAAUJ,GAAUF,EAASiB,EAAkBR,EAAUC,GAAOP,IACrF/Q,EAAE6Q,SAASF,EAAUO,GAAUF,GAAQJ,EAASiB,EAAkBZ,EAAOK,GAAOP,IAIpF,SAASiB,IACL,IAAIrB,EAAW,aACXC,EAAU,gBACd5Q,EAAE6Q,SAASF,EAAUG,GAAUA,GAAUF,EAASA,EAAUS,EAAU,MAAON,IAC7E/Q,EAAE6Q,SAASF,EAAUG,GAAUE,GAAQJ,EAASA,EAAUK,EAAO,MAAOF,IACxE/Q,EAAE6Q,SAASF,EAAUG,GAAUY,EAAed,EAASA,EAAUe,EAAQ,MAAOZ,IAIpF,SAASkB,IACL,IAAItB,EAAW,cACXC,EAAU,iBACd5Q,EAAE6Q,SAASF,EAAUG,GAAUU,EAAeZ,EAASA,EAAUa,EAAS,MAAOV,IACjF/Q,EAAE6Q,SAASF,EAAUG,GAAUY,EAAed,EAASA,EAAUe,EAAQ,MAAOZ,IAzHpF,IAAIS,EAAgB,MAChBE,EAAgB,MAChBL,EAAW,WACXI,EAAU,UACVR,EAAQ,QACRU,EAAS,SACTR,EAAU,UACVI,EAAe,8DAKfW,EAAa,KAAO,CAAC,KAAM,WAAWloB,IAE1B,UAAZgW,EAAEoQ,MAEFM,IAEiB,SAAZ1Q,EAAEoQ,OAEPM,IAEAU,IAEAU,IAEAE,IAGAtpB,YAAW,WACHsX,EAAEuQ,UAAUL,MAAM5uB,OAAS,GAC3BD,EAAE,sCAAsCiH,EAAE4pB,KAC/C,MAEc,UAAZlS,EAAEoQ,QAEPM,IAEAkB,IAEAG,IAEAE,IAGAH,IAEAE,IAGAtpB,YAAW,WACHsX,EAAEwQ,WAAWN,MAAM5uB,OAAS,GAC5BD,EAAE,uCAAuCiH,EAAE4pB,KAChD,OA4EXlS,EAAE7R,WAAa,SAAUgkB,GACrBnS,EAAEmS,OAASA,GAcfnS,EAAE6Q,SAAW,SAAUuB,EAAYC,EAAWC,EAAYC,EAAaC,EAAgB7rB,EAAQ8rB,EAAMlB,GACjG,GAAIzuB,SAASotB,QAAUlQ,EAAE0S,QAAQN,EAAYC,EAAWC,GAAa,CACjE,IAAIK,EAAU,QAAUC,GAAiBL,EAAc,IAAME,EAAO,IAAMD,EAAiB,IAAMC,EAAO,qBACpGI,EAEAA,EADAtB,IAAiBxxB,GACN,IAAI+yB,SAASV,EAClBK,IAAS1yB,GAAc4yB,EAAU,GAAK,CACpCvpB,MAAOipB,EACPU,OAAQT,EACR9U,QAAS,SAIN,IAAIsV,SAASV,EAClBK,IAAS1yB,GAAc4yB,EAAU,GAAK,CACpCvpB,MAAOipB,EACPU,OAAQT,EACR9U,QAAS,OACT+T,aAAc,gBAK1BsB,EAASG,OAAO/X,MAAK,SAASgY,GAC1BnwB,SAASotB,MAAMtjB,IAAIqmB,GAEnB,IAAIC,EAASd,EAAa,IAAMC,EAAY,IAAMC,EAC9Ca,EAAW,KAAO,CAAC,MAAO,SAASnpB,IACnCopB,EAAa,CAAC,MAAO,WAAWppB,IACpC1L,EAAI,uBACJA,EAAI40B,GAKJ,IAAK,IAAIzvB,EAAI,EAAGA,EAAIuc,EAAEuQ,UAAUL,MAAM5uB,OAAQmC,IAC1C,GAAIuc,EAAEuQ,UAAUL,MAAMzsB,KAAOyvB,EAAQ,CACjClT,EAAEuQ,UAAUL,MAAMmD,OAAO5vB,EAAG,GAC5B,MAIR,IAAI6vB,EAAkBtT,EAAEuQ,UAAUJ,UAAYnQ,EAAEuQ,UAAUL,MAAM5uB,OAC5DiyB,EAAalyB,EAAE,sCACfiyB,EAAkBtT,EAAEuQ,UAAUJ,UAC9BoD,EAAWjrB,EAAE8qB,EAAa,QAAUxyB,EAAa0yB,EAAkBtT,EAAEuQ,UAAUJ,UAAY,KAAO,MAElGoD,EAAWjrB,EAAE6qB,GAKjB,IAAK,IAAI1vB,EAAI,EAAGA,EAAIuc,EAAEwQ,WAAWN,MAAM5uB,OAAQmC,IAC3C,GAAIuc,EAAEwQ,WAAWN,MAAMzsB,KAAOyvB,EAAQ,CAClClT,EAAEwQ,WAAWN,MAAMmD,OAAO5vB,EAAG,GAC7B,MAIR,IAAI+vB,EAAmBxT,EAAEwQ,WAAWL,UAAYnQ,EAAEwQ,WAAWN,MAAM5uB,OAC/DmyB,EAAcpyB,EAAE,uCAChBmyB,EAAmBxT,EAAEwQ,WAAWL,UAChCsD,EAAYnrB,EAAE8qB,EAAa,QAAUxyB,EAAa4yB,EAAmBxT,EAAEwQ,WAAWL,UAAY,KAAO,MAErGsD,EAAYnrB,EAAE6qB,QAW9BnT,EAAE0S,QAAU,SAAUN,EAAYC,EAAWC,GACzC,IAAIoB,EAAS5wB,SAASotB,MAAMwD,SACxBC,EAAS9qB,GACT7E,EAAO0vB,EAAOvc,OAElB,MAAQnT,EAAK4vB,OAASD,GAAQ,CAC1B,IAAId,EAAW7uB,EAAKvE,MAChBozB,EAASgB,SAAWzB,GACjBS,EAASzpB,QAAUipB,GACnBQ,EAASE,SAAWT,IACnBqB,EAAS/qB,GACTtK,EAAI,6BACJA,EAAI8zB,EAAa,IAAMC,EAAY,IAAMC,IAEjDtuB,EAAO0vB,EAAOvc,OAElB,OAAOwc,GAMX3T,EAAExS,KAAO,WACLwS,EAAEgK,KAAKxc,OACPkK,GAAkBsI,EAAE1J,IACpB0J,EAAE1J,GAAG9I,OAELlP,EAAI,IAAM0hB,EAAEoQ,MAAQ,KACJ,UAAZpQ,EAAEoQ,OACFxwB,EAAYogB,EAAEqQ,WAAW/Z,GAAIuN,IAC7B5jB,EAAe+f,EAAEsQ,UAAUha,GAAIuN,IAC/B5jB,EAAe+f,EAAEuQ,UAAUja,GAAIuN,IAC/B5jB,EAAe+f,EAAEwQ,WAAWla,GAAIuN,KAEf,SAAZ7D,EAAEoQ,OACPnwB,EAAe+f,EAAEqQ,WAAW/Z,GAAIuN,IAChCjkB,EAAYogB,EAAEsQ,UAAUha,GAAIuN,IAC5B5jB,EAAe+f,EAAEuQ,UAAUja,GAAIuN,IAC/B5jB,EAAe+f,EAAEwQ,WAAWla,GAAIuN,KAEf,SAAZ7D,EAAEoQ,OACPnwB,EAAe+f,EAAEqQ,WAAW/Z,GAAIuN,IAChC5jB,EAAe+f,EAAEsQ,UAAUha,GAAIuN,IAC/BjkB,EAAYogB,EAAEuQ,UAAUja,GAAIuN,IAC5B5jB,EAAe+f,EAAEwQ,WAAWla,GAAIuN,MAGhC5jB,EAAe+f,EAAEqQ,WAAW/Z,GAAIuN,IAChC5jB,EAAe+f,EAAEsQ,UAAUha,GAAIuN,IAC/BjkB,EAAYogB,EAAEwQ,WAAWla,GAAIuN,IAC7B5jB,EAAe+f,EAAEuQ,UAAUja,GAAIuN,MAQvC7D,EAAExG,SAAW,WACT,OAAOwG,EAAE1J,GAAGhR,EAAEyoB,MAAehV,IAKjCiH,EAAEnT,GAAK,WACCmT,EAAExG,WACFwG,EAAEnS,OAGFmS,EAAExS,QAOVwS,EAAEnS,KAAO,WACLmS,EAAE1J,GAAGzI,OACLmS,EAAEgK,KAAKnc,QAOXmS,EAAEvhB,MAAQ,SAAU2xB,GAEZA,IAAUrwB,KACVqwB,EAAQpQ,EAAEoQ,OACdpQ,EAAEoQ,MAAQA,EAGV,MAAM0D,EAAU,CACZ,iBACA,oBACA,aACA,gBACA,cACA,eACA,eACA,eACA,gBACA,aACA,gBACA,gBAGJ,IAAIC,EAAc,GAClB,IAAK,IAAItwB,EAAI,EAAGwD,EAAM6sB,EAAQxyB,OAAQmC,EAAIwD,EAAKxD,IAC3CswB,EAAY7sB,KAAKC,EAAiB2sB,EAAQrwB,GAAK,IAAMuc,EAAEoQ,QAG3D,IAAK,IAAI3sB,EAAI,EAAGwD,EAAM6sB,EAAQxyB,OAAQmC,EAAIwD,EAAKxD,IAC3C2D,EAAiB0sB,EAAQrwB,GAAIswB,EAAYtwB,KAUjDuc,EAAEzF,cAAgB,SAAUb,EAAMI,EAAUpV,GACxC,GAAIsb,EAAE1J,GAAGnC,WACL,OAEJ,IAAIyG,GAAU,EACd,OAAQlB,GACJ,KAAK,GACGsG,EAAExG,aACFwG,EAAEnS,OACF+M,GAAU,GAEd,MAIJA,GACAlW,EAAMmW,kBAUlB,SAASpM,GAASub,GACd,IAAIhK,EAAIzH,KACRyH,EAAE1J,GAAKjV,EAAE,kBACT2e,EAAE9c,QAAU7B,EAAE,0BAEd2e,EAAExI,aAAenW,EAAE,sBACnB2e,EAAExI,aAAalF,KAAKC,IAAG,WACnByN,EAAEnS,OAEFrO,EAAe,sBAInBwgB,EAAEgK,KAAOA,EACThK,EAAEgK,KAAKc,YAAYvS,KAAMyH,EAAE1J,IAM3B0J,EAAExG,SAAW,WACT,OAAOwG,EAAE1J,GAAGhR,EAAEyoB,MAAehV,IAMjCiH,EAAExS,KAAO,WAELwS,EAAEgK,KAAKxc,OAEH0I,KACA8J,EAAE1J,GAAGhR,EAAEgH,GAAQ,IACVhH,EAAEyJ,GAAS,IAEhBiR,EAAE1J,GAAGhR,EAAEgH,GAAQ,OACVhH,EAAEyJ,GAAS,OAEpBiR,EAAE1J,GAAG9I,QAMTwS,EAAEnS,KAAO,WACLmS,EAAE1J,GAAGzI,OACLmS,EAAEgK,KAAKnc,QASXmS,EAAEzF,cAAgB,SAAUb,EAAMI,EAAUpV,GACxC,GAAIsb,EAAE1J,GAAGnC,WACL,OAEJ,IAAIyG,GAAU,EACd,OAAQlB,GACJ,KAAK,GACGsG,EAAExG,aACFwG,EAAEnS,OACF+M,GAAU,GAEd,MAIJA,GACAlW,EAAMmW,kBAgDlB,SAAS7L,KACLglB,GAAe3yB,EAAE,iBACF,QAAXyO,IACAkkB,GAAanmB,OAQrB,SAASoB,GAAcka,EAAMnlB,GACzBiwB,GAAgB9K,GAAQnlB,EACpBkwB,KAAsBn0B,IAAcm0B,GAAkBzwB,EAAE0lB,IAAS,IACjEnlB,EAAKmX,QAAUtS,GACfvI,EAAU0D,EAAKsS,KAOvB,SAAS5E,KAEDL,GAAIC,OAAOC,QACXjR,EAAU2zB,GAAgB,cAWlC,SAAStlB,KACLO,GAAgB7N,EAAE,eAMtB,SAAS8yB,KAIL,IAAIC,EAAQ1yB,IAAU4G,IAAIpJ,EAAE,YACxBgJ,EAAMxG,IAAU4G,IAAIpJ,EAAE,2BAEtBm1B,EAAuB,MAATD,EAAiB,EAAIA,EAAM9yB,OACzCgzB,EAAmB,MAAPpsB,EAAe,EAAIA,EAAI5G,OACnCizB,EAAYF,EAAaC,EACzBE,EAAkB,IAGlBC,EAAOF,EAAYC,EAAkB,EAAIh0B,EAAY+zB,EAAYC,GACjEE,EAAQD,EAAO,IAAM,CACjB,KACA,WACFzqB,IACFyqB,EAAO,KACPC,GAASD,EAAO,IAAIE,QAAQ,GAAK,IAAM,CACnC,KACA,SACF3qB,KAENkF,GAAcnM,EAAE6xB,GACZF,EAAQ,MAAQhrB,EAAuB6qB,EAAUM,YAAc,IAC7D,CACE,IACA,SACF7qB,KAENkF,GAAcnM,EAAE+xB,GACZ,KAAOprB,EAAuB4qB,EAASO,YAAc,IAAM,CACvD,OACA,SACF7qB,IACAN,EAAuB2qB,EAAWQ,YAAc,IAAM,CACpD,OACA,WACF7qB,IAAa,MAEnBkF,GAAcmJ,OAAM,WAChBnJ,GAAcqI,GAAGrI,GAAcnM,EAAE6xB,IAAiB,+CAAiD1lB,GAAcnM,EAAE+xB,IAAgBxG,OACpI,WACCpf,GAAcqI,GAAGrI,GAAcnM,EAAE6xB,QAErC1lB,GAAcqI,GAAGrI,GAAcnM,EAAE6xB,KASrC,SAAShmB,KACLO,GAAkB9N,EAAE,qBACpB8N,GAAgBpM,EAAEkU,GAAY,CAC1B,UACA,qBACFjN,IAAa,UAAYoL,GAAc,KAAO,UAEhD6N,GAAc9T,IACdA,GAAgBmD,KAAKC,IAAG,WACpBhI,GAAWsC,QAUnB,SAASgC,KACLO,GAAoB/N,EAAE,mBACtB+N,GAAkBrM,EAAEkU,GAAY,CAC5B,sDACA,8DACFjN,IAAa,UAAYoL,GAAc,KAAO,UAEhD6N,GAAc7T,IACdA,GAAkBkD,KAAKC,IAAG,WACtB2J,GAAYrP,QAOpB,SAASkoB,KAEL3lB,GAAkBmI,GAAG,sDACd2E,GAAYC,SAAWG,GAAU,eAAiB,eACnD,qCAiBV,SAASxN,GAAiBkb,GAEtB3a,GAAiBhO,EAAE,sBACnB2zB,GAAsB3zB,EAAE,sBACxB4zB,GAAwB5zB,EAAE,6BAC1B6zB,GAAsB7zB,EAAE,4BACxB8zB,GAAmBvsB,GAEnBwsB,GAAsBxe,GAAgB,eAAgB,GAAI,GAAI0F,IAI9D+Y,GAAgBrL,EAChBqL,GAAcvK,aAAY,WACtBwK,OACDN,IAGHE,GAAoBK,QAAO,WAEnBN,GAAsB9gB,YAAc+gB,GAAoB9vB,YAAc,GACtE6vB,GAAsBznB,OAEjB0nB,GAAoB9vB,aAAe,IACxC6vB,GAAsBpnB,UAOlC,SAASoD,KACL,IAAIukB,EAAMpyB,EAAmB,OACzBqyB,EAAS,QAETD,IAAQlqB,KAIRkqB,IAAQz1B,KACR01B,EAAS,IAAMD,GAEnBn0B,EAAE,kBAAkB0a,GAAE,WAClB,IAAIzD,EAAKjX,EAAEkX,MACPhZ,EAAO+Y,EAAGvV,EAAEkZ,IACZuZ,EAAM/yB,EAAyBlD,GAAW,IAE9C,GAAIi2B,IAAQlqB,GACR,OAAOzC,GAGP2sB,IAAQz1B,GACRuY,EAAGvV,EAAEkZ,GAAQ1c,EAAKqI,EAAE,MAAO,IAAM4tB,IAEjCld,EAAGvV,EAAEkZ,GAAQ1c,EAAKqI,EAAE,MAAO6tB,QASvC,SAASC,GAAoBrM,EAAInmB,GAC7B,IAAIc,EAAO3C,EAAE,oBAAkCgoB,EAAK,YAAvC,eAA2EnmB,EAAUorB,IAElG1uB,EAAYyB,EAAE2C,EAAKjB,EAAE2qB,KAAe3qB,EAAE4yB,GAAY,GAAI,uBAEtDT,GAAoBvlB,GAAG3L,GACvBA,EAAKsO,KAAKC,IAAG,WACTtS,EAAei1B,GAAoBzd,GAAG,uBAA4B2U,IAClExsB,EAAYoE,EAAMooB,IAElBtjB,EAAgB9E,EAAKjB,EAAE2qB,KACvB4H,QAOR,SAASpkB,KAgDL,SAAS0kB,EAAe9hB,GACpB7N,IAGA,IAAIojB,EAAK,kBAAoBpjB,EAC7B6N,EAAK/Q,EAAE8yB,GAAMxM,GAEbqM,GAAoBrM,EAAI,cAAgB,CACpC,SACA,sBACFrf,IAAa,cAAgB8J,EAAKxL,KAzDxC,IAAK6sB,GACD,OAEJ,IAAIlvB,EAAQ,EAEZ5E,EAAE,YAAY0a,GAAE,WACZ,IAAIzD,EAAKjX,EAAEkX,MACPhZ,EAAO+Y,EAAGvV,EAAEkZ,IAGhB,GAAI1c,IAASQ,GACT,OAAO6I,GAKX,GAAa,MAATrJ,EACAq2B,EAAetd,QACd,GAAI/Y,EAAK8W,GAAG,OAAS9W,EAAK8W,GAAG,SAAU,CAExC,IAAIzC,EAASrU,EAAKoE,EAAE,EAAGpE,EAAK+B,QAEgD,IAAxED,EAAE,WAAauS,EAAS,oBAAsBA,EAAS,MAAMtS,QAC7Ds0B,EAAetd,OAMb,IAAVrS,EACA3F,EAAU+O,KAIVzP,EAAYyP,GAAgBymB,IAC5BzmB,GAAekI,GAAG6d,IAGlB/lB,GAAeiD,KAAKC,IAAG,WACfyiB,GAAoB7gB,WACpB4hB,KAEAT,SAuBhB,SAASU,KACL,OAAO3mB,GAAe/J,EAAEyoB,MAAehV,GAM3C,SAASgd,KACLf,GAAoBxnB,OACpB6nB,GAAc7nB,OAMlB,SAAS8nB,KACLN,GAAoBnnB,OACpBwnB,GAAcxnB,OAEdwB,GAAekI,GAAG6d,IAClBvZ,KASJ,SAASpB,GAAuBf,EAAMI,EAAUpV,GAC5C,GAAIswB,GAAoB7gB,WACpB,OAEJ,IAAIyG,GAAU,EACd,OAAQlB,GACJ,KAAK,GACD3a,EAAMi3B,MACFA,OACAV,KACA1a,GAAU,GAEd,MAIJA,GACAlW,EAAMmW,iBAWd,SAASpQ,GAAO4e,EAAIjgB,EAAOkO,GACvB,IAAI0I,EAAIzH,KACRyH,EAAE5W,MAAQA,EAGV1H,IAAUu0B,GAAG,uBACN7sB,IAAUrJ,GAAaqJ,EAAQ,IAAM,IAAMigB,EAAK,sBACjDtT,KACA9F,IAGNiJ,KAEA8G,EAAE1J,GAAKjV,EAAE,WAAagoB,GACtBrJ,EAAE1I,MAAQvX,GAGNuX,IAAUvX,IAAcuX,IACxB0I,EAAE1J,GAAG3G,GAAG,4BAA8BqQ,EAAE5W,MAAQ,KAC1CwN,GAAgB,cAAgBoJ,EAAE5W,MAAO,GAAI,GAAIkT,IACjDrM,IACN+P,EAAE1I,MAAQ0I,EAAE1J,GAAGmB,GAAG,kBAGtBuI,EAAEkW,QAAUn2B,GACZigB,EAAEmW,UAAYp2B,GAOdigB,EAAE8K,YAAc,SAAUoL,EAAS5f,GAC/B0J,EAAEkW,QAAUA,EACZlW,EAAEmW,UAAY7f,GAMlB0J,EAAExS,KAAO,WASL,GAPAkO,KACAhB,GAAc9R,GAGdoX,EAAE1J,GAAGhR,EAAE8wB,GAAUpW,EAAEmW,UAAU7wB,EAAE8wB,IAAY,GAGvCpW,EAAE1I,QAAUvX,GAAY,CAExB,IAAImkB,EAAS,GACT7b,EAAI7H,EAAYwf,EAAEmW,UAAU7wB,EAAEgH,KAAW0T,EAAEmW,UAAUxwB,IAAMue,EAC3DzN,EAAIjW,EAAYwf,EAAEmW,UAAU7wB,EAAEiR,MAAWyJ,EAAEmW,UAAU3yB,IAAMwc,EAAE1I,MAAM9T,KAAO,EAE1Ewc,EAAE5W,QAAUkD,IAAU0T,EAAE5W,QAAU2F,GAClCiR,EAAE1I,MAAMhS,EAAEgH,GAAQ0T,EAAE5W,QAAU2F,GACpBvO,EAAYwf,EAAEmW,UAAU7wB,EAAEgH,KAAW0T,EAAE1I,MAAM3R,IAAMue,EACnD7b,GACL/C,EAAEiR,GAAOE,GAGTuJ,EAAE5W,QAAUsF,KACjB+H,EAAIjW,EAAYwf,EAAEmW,UAAU7wB,EAAEoJ,KAAasR,EAAEmW,UAAU3yB,IAAM0gB,EAC7DlE,EAAE1I,MAAMhS,EAAEgH,GAAQqL,IACbrS,EAAEiR,GAAOoB,IACTrS,EAAEoJ,GAAU+H,GACZnR,EAAEykB,GAAc,IAAO/J,EAAE1I,MAAM3R,IAAM,EAAK,MAC1CL,EAAE+wB,GAAW,YAK1BrW,EAAE1J,GAAGjC,EAAE,qCAAqC/B,KAAKC,IAAG,WAChDlB,GAAI7D,KAAKnM,EAAEkX,UAIfyH,EAAE1J,GAAGhE,KAAKC,IAAG,WAETsJ,YAEWmE,EAAS,UAAM0M,GACrB1M,EAAEkW,UAEHlW,EAAEkW,QAAQroB,OAEdmS,EAAEnS,UAGNmS,EAAE1J,GAAG9I,QAMTwS,EAAEnS,KAAO,WAELgO,KACAnB,GAAc7R,GAEdmX,EAAE1J,GAAGzI,QAgBb,SAAS/B,KACAT,KAEL2L,GAAmB3V,EAAE,wBAMzB,SAASi1B,GAAkBpzB,EAASqzB,IAE3BlrB,IACEhJ,EAAkBa,EAAQW,OAASgZ,IACnC3Z,EAAQszB,GAAG3Z,IAAWvb,OAAS,GAGlCi1B,IAAS9qB,IAAWD,KAAgC3C,IAEpD0tB,IAAS5qB,IAAYD,KAAiC7C,IAEtD0tB,IAAS1qB,IAAeD,KAAoC/C,IAGhE4tB,GAAuBvvB,KAAKhE,GAMhC,SAASkO,KACL,GAAK/F,GAAL,CAIA,GAAIqrB,GAA0Bp1B,OAAS,EACnC,IAAK,IAAImC,EAAI,EAAGwD,EAAMyvB,GAA0Bp1B,OAAQmC,EAAIwD,EAAKxD,IAC7Dke,aAAa+U,GAA0BC,SAG/CC,MASJ,SAASA,KACL,GAAKvrB,GAIL,IAAK,IAAI5H,EAAI,EAAGwD,EAAMwvB,GAAuBn1B,OAAQmC,EAAIwD,EAAKxD,IAE1D,GAAIpB,EAAkBo0B,GAAuBhzB,IAAI4S,GAAG,KAAM,CAEtD,IAAIyP,EAAM,IAAImB,MACdnB,EAAIzQ,IAAMohB,GAAuBhzB,GAAGV,EAAEqc,IAElC0G,EAAIoB,SACJwP,GAA0BxvB,KACtBwB,YAAW,WACPmuB,GAA8BJ,GAAuBhzB,GAAImF,MAC1D,KAIPkd,EAAIqB,OAAS,WAET0P,GAA8BJ,GAAuBhzB,GAAImF,UAMjE8tB,GAA0BxvB,KACtBwB,YAAW,WACPmuB,GAA8BJ,GAAuBhzB,GAAImF,MAC1D,KAWnB,SAASiuB,GAA8Bh3B,EAAQi3B,GAC3C,IAAKzrB,GACD,OAEJ,IAAI4Y,EAAYpkB,EAAOgE,IACnBzB,EAAUC,EAAkBxC,GAG5Bi3B,IACA7S,EAAYA,EAAUpgB,KAG1B,IAAIkzB,EAAc9S,EAAUwB,IACxB3lB,EAAYi3B,EAAYh0B,EAAEkH,IAC1BnK,IAAcC,KAAqD,IAAvCD,EAAU2D,EAAEuzB,MACxCD,EAAch3B,IAGlB,IAAIk3B,EAAWhT,EAAUlhB,EAAEm0B,IAC3B,GAAID,IAAal3B,IAAck3B,EAAS5gB,GAAG,KAAM,CAC7C,IAAI8gB,EACJ,GADalT,EAAUlhB,EAAEq0B,MACVr3B,KAAek3B,EAAS5gB,GAAG,KAEtC,YADAqgB,GAA0BC,QAM9Bv0B,EAAQiU,GAAG,MAEP4N,EAAUlhB,EAAEs0B,MAAqBt3B,KACjCkkB,EAAYA,EAAUpgB,KAI9BogB,EAAUlhB,EAAEwiB,GAAqB+R,IACjCrT,EAAUlhB,EAAEm0B,GAAuBI,IACnCrT,EAAU3e,EAAEkR,GAAUmB,IAElBvV,EAAQiU,GAAG,MACX4N,EAAU3e,EAAEiyB,GAAiB,QAEjC,IAAI/zB,EAAIhD,EAAYX,EAAOyF,EAAEkR,KAEzBhT,EAAIg0B,GAEJC,GAAmC53B,EAAQokB,EAAW7hB,EAASoB,EAAGuzB,GAK9DA,IAAgBh3B,IAAcD,IAAcC,IACzCD,EAAU2D,EAAEuzB,KAAyB,GACpC12B,EAAUy2B,GAGtBL,GAA0BC,QAW9B,SAASc,GAAmC53B,EAAQokB,EAAW7hB,EAASs1B,EAASX,GAC7E,IAAK1rB,GACD,OAGJ4Y,EAAUlhB,EAAEwiB,GAAqB3B,IAG7BxhB,EAAQiU,GAAG,MAAQjU,EAAQiU,GAAG,KAC9B4N,EAAU3e,EAAEkR,GAAUghB,IACjBlyB,EAAEqyB,GAAahgB,IACfrS,EAAEsyB,GAAaziB,IAIpB8O,EAAU3e,EAAEkR,GAAUghB,IACjBlyB,EAAEsyB,GAAaziB,IAGxB,IAAI0iB,EACAlyB,EAAI5E,EAAYL,EAAcujB,EAAU3e,EAAEmX,MAG1Csa,IAAgBh3B,IAChB83B,EAAW7gB,GAAiB2O,QAC5B1B,EAAUgS,GAAG4B,IAIbA,EAAWd,EAGX9S,EAAU5P,EAAE5I,IAASnK,OAAS,GAC9B1B,EAAYqkB,EAAU5P,EAAEyjB,IAA6BC,IAGzD,IAAIC,EAAMH,EAASxjB,EAAE,YACrB2jB,EAAIzgB,GAAGygB,EAAIj1B,EAAEC,IAAW,uCAClBpC,EAAmD,KAArC,EAAI42B,GAAsBE,IAAkB,YAGhE,IAAIO,EAAKl3B,EAAYL,EAAcb,EAAOyF,EAAEmX,MACxC9W,EAAIsyB,IACJtyB,EAAIsyB,EAEJJ,EAASvyB,EAAE4yB,GAA2B,IAE1CL,EAAS90B,EAAEo1B,GAAmB/1B,GAC9By1B,EAASvyB,EAAEykB,GAAc9F,EAAU3e,EAAEykB,KAChCzkB,EAAEmX,GAAS9W,EAAI,MAEpBkyB,EAASvyB,EAAE0P,GAAc,WAGzB6iB,EAASpgB,GAAG,UAAUnF,KAAKC,IAAG,WAC1BiT,GAAqBqS,MAIzB1f,GAAe0f,EAASpgB,GAAG,WAO/B,SAAS+N,GAAqBqS,GAC1B,IAAKxsB,GACD,OAEJ,IAAI4Y,EAAY4T,EAAS11B,KACrBC,EAAUy1B,EAAS90B,EAAEo1B,IAGzB73B,EAAUu3B,GAGV5T,EAAUlhB,EAAEwiB,GAAqB+R,IACjCrT,EAAUlhB,EAAEm0B,GAAuBtT,IACnCK,EAAU3e,EAAEkR,GAAUmB,IAElBvV,EAAQiU,GAAG,MAAQjU,EAAQiU,GAAG,KAC9B4N,EAAU3e,EAAE8yB,GAAYzgB,IAGxBsM,EAAU3e,EAAEsyB,GAAa,WAGzB3T,EAAU5P,EAAE5I,IAASnK,OAAS,GAC9BrB,EAAegkB,EAAU5P,EAAEyjB,IAA6BC,IAehE,SAAShsB,KACLssB,GAAch3B,EAAE,gBAEhB4X,GAAgBof,GAAapjB,IAQjC,SAASgO,GAAckC,EAAQmT,EAAQ3gB,QACnCQ,GAAegN,GACfA,EAAO9M,OAAM,WACTwX,GAAc1K,EAAQmT,MACvB,WACChM,QAWR,SAASuD,GAAc0I,EAAQD,EAAOlvB,GAClC,GAAIiI,GAAIC,OAAOC,OACX,OAEJ8mB,GAAY9gB,GAAGghB,EAAOx1B,EAAEkU,KAGxB0K,aAAa6W,IACbA,GAAoB,KAEpB7W,aAAa8W,IACbA,GAAyB,KAEzBC,GAAqBtvB,EAErB,MAAMugB,EAAQ,GACVgP,EAAQN,GAAYO,KACpBC,EAAQR,GAAYS,KACpBC,EAAK13B,EAAEhC,QAAQsG,IAAMgkB,EACrBqP,EAAK33B,EAAEhC,QAAQmE,IAAMmmB,EACzB,IAAIG,EAAOyO,EAAO7yB,KACduzB,EAAMV,EAAO3yB,KAAOvE,EAAEyB,UAAUsC,YAChCyhB,EAAQ0R,EAAOK,KACf9R,EAASyR,EAAOO,KAsChBI,EApCJj5B,EAAeo4B,GAAa9hB,4BAGxB+hB,IAAU3gB,IAAWmS,EAAO6O,EAASI,KAErCn5B,EAAYy4B,GAAatpB,IACzB+a,EAAOyO,EAAO7yB,KAAOizB,EAAQ9R,EAEzBiD,EAAO6O,GAASI,IAChBjP,GAAcH,GAGd2O,IAAU3tB,KACV1K,EAAeo4B,GAAatpB,IAC5BnP,EAAYy4B,GAAa1tB,IACzBmf,EAAOyO,EAAO7yB,MAAQmhB,EAAQ8R,GAAS,IAI3C7O,GAAQ,IACRA,EAAOH,GAEP+O,KAAuB34B,IACvBH,EAAYy4B,GAAaK,IAEzBO,EAAMnS,EAAS+R,EAAQlP,EAAQqP,GAC/Bp5B,EAAYy4B,GAAa9hB,IACzB0iB,EAAMA,EAAMnS,EAAS6C,IAGrB/pB,EAAYy4B,GAAa3pB,IACzBuqB,EAAMA,EAAMJ,EAAQlP,GAExB0O,GAAY/yB,EAAEgH,GAAQwd,GAAMxkB,EAAEiR,GAAO0iB,GAIrCT,GAAoB9vB,YAAW,WAC3BywB,GAAwBvwB,GACxBmM,GAAUsjB,MAHC,GAA0B,EAAIe,IAWjD,SAAS9M,KAEL3K,aAAa8W,IACbA,GAAyB/vB,YAAW,WAChCywB,GAAwBtwB,KACzBuwB,IAIHzX,aAAa6W,IACbA,GAAoB,KACpBtjB,GAAUmjB,IAENK,KAAuB34B,IACvBE,EAAeo4B,GAAaK,IASpC,SAASzsB,GAAS+d,GACd,IAAIhK,EAAIzH,KACRyH,EAAE1J,GAAKjV,EAAE,gBACT2e,EAAEqZ,SAAW,KAGbrZ,EAAE1J,GAAGhE,KAAKC,GAAK,WACXyN,EAAEnS,QAINmS,EAAEgK,KAAOA,EACThK,EAAEgK,KAAKc,YAAYvS,KAAMyH,EAAE1J,IAS3B0J,EAAEpS,OAAS,SAAU0rB,EAAShY,EAAO0I,EAAMnqB,GACvCmgB,EAAExS,KAAK8rB,EAAShY,EAAO0I,EAAM,SAAUnqB,IAU3CmgB,EAAEuZ,OAAS,SAAUD,EAAShY,EAAO0I,EAAMnqB,GACvCmgB,EAAExS,KAAK8rB,EAAShY,EAAO0I,EAAMwP,GAAU35B,IAU3CmgB,EAAEhhB,MAAQ,SAAUs6B,EAAShY,EAAO0I,EAAMnqB,GACtCmgB,EAAExS,KAAK8rB,EAAShY,EAAO0I,EAAM8L,GAASj2B,IAO1CmgB,EAAExG,SAAW,WACT,OAAOwG,EAAE1J,GAAGhR,EAAEyoB,MAAehV,IAWjCiH,EAAExS,KAAO,SAAU8rB,EAAShY,EAAO0I,EAAMuM,EAAM12B,GAC3C8hB,aAAa3B,EAAEqZ,UACfrZ,EAAEqZ,SAAW,KAEbrZ,EAAE1J,GAAGiB,GAAG+hB,GAGRr5B,EAAe+f,EAAE1J,GAAIwf,IACrB71B,EAAe+f,EAAE1J,GAAIkjB,IACrBxZ,EAAE1J,GAAGhR,EAAEmX,GAAS,IACXnX,EAAEkR,GAAU,IACZlR,EAAEyJ,GAAS4I,IACXrS,EAAEoJ,GAAUiJ,IACZrS,EAAEm0B,GAAgBC,IACnBnD,IAAST,GACTl2B,EAAYogB,EAAE1J,GAAIwf,IACbS,IAASiD,IACd55B,EAAYogB,EAAE1J,GAAIkjB,IAGlB35B,IAAWE,GACX6X,GAAkBoI,EAAE1J,GAAIzW,GAIxB6X,GAAkBsI,EAAE1J,IAExB0J,EAAE1J,GAAG9I,OAGQ,MAAT8T,IACAtB,EAAEqZ,SAAW3wB,YAAW,WAChBsX,EAAEnS,SACHyT,IAIP0I,GACAhK,EAAEgK,KAAKxc,QAMfwS,EAAEnS,KAAO,WACLmS,EAAE1J,GAAGzI,OACLmS,EAAEgK,KAAKnc,QASXmS,EAAEzF,cAAgB,SAAUb,EAAMI,EAAUpV,GACxC,GAAIsb,EAAE1J,GAAGnC,WACL,OAEJ,IAAIyG,GAAU,EACd,OAAQlB,GACJ,KAAK,GACGsG,EAAExG,aACFwG,EAAEnS,OACF+M,GAAU,GAEd,MAIJA,GACAlW,EAAMmW,kBAUlB,SAAS7P,GAAWqe,GAChB,IAAIrJ,EAAIzH,KACR7W,IAAUu0B,GAAG,6BAA+B5M,EAAK,UAAYpZ,GAAaA,IAE1E+P,EAAE1J,GAAKjV,EAAE,kBAAoBgoB,GAM7BrJ,EAAExS,KAAO,SAAU8rB,GACftZ,EAAE1J,GAAGmB,GAAG,OAAOF,GAAG+hB,GAClBtZ,EAAE1J,GAAG9I,QAMTwS,EAAEnS,KAAO,WACLmS,EAAE1J,GAAGzI,QAWb,SAASU,KACLggB,GAA2BltB,EAAE,8BAC7Bs4B,GAA0Bt4B,EAAE,6BAOhC,SAAS4R,GAAuB7N,GACxBA,IAAcrF,KACdqF,EAAY/D,EAAEyB,UAAUsC,aAGxBA,EAAY,GACRmpB,GAAyBjpB,EAAEyoB,MAAehV,IAC1CwV,GAAyB/gB,OAG7B+gB,GAAyB1gB,OAGzBzI,EAAY/D,EAAEhC,QAAQmE,IAAOnC,EAAEyB,UAAUU,IAAM,GAC/Cm2B,GAAwB9rB,OAEpB8rB,GAAwBr0B,EAAEyoB,MAAehV,IACzC4gB,GAAwBnsB,OAOpC,SAASkhB,KACLiL,GAAwB9rB,OAa5B,SAAS+rB,GAAsC/5B,EAAQuC,GACnD,IAAIy3B,EAAgB,CACZ,KACA,UACF7vB,IAAa8vB,GACf9V,EAAU,GACV+V,EAAWh6B,GACX6T,EAAS,GACTomB,EAAgB,GAGhB53B,EAAQiU,GAAG,OACX0jB,EAAW5tB,GAAW+F,UACtB2nB,EAAgB,CACZ,OACA,eACF7vB,IAAaiwB,IAGV73B,EAAQiU,GAAG,OAChB0jB,EAAW5tB,GAAW6F,OAI1B,IAAIkoB,EAAQC,GAA6Bt6B,EAAOgE,IAAI1B,KAAMC,GACtDg4B,EAAKF,EAAM,GACXG,EAAMH,EAAM,GAChBL,EAAgBxL,GAASwL,EAAgBS,GAA2BhM,GAG1D,MAAN8L,GAAgC,IAAlBA,EAAG/xB,IAAI/G,SACrB84B,EAAK,GACDjqB,KACI/N,EAAQiU,GAAG,MACX+jB,EAAKv6B,EAAOwU,EAAE,oBAA2B/L,IAAID,IACxCjG,EAAQiU,GAAG,OAChB+jB,EAAKv6B,EAAOwU,EAAE,MAAM/L,IAAID,IAAIT,EAAE,iCAAkC,KAEpEwyB,EAAKtyB,EAAoBsyB,EAAG/xB,IAAK,MAGzC2b,EAAU6V,EAAgBO,EAGtBh4B,EAAQiU,GAAG,OACXzC,EAAS,kBAAoBqmB,GAC7Bp6B,EAAO06B,KAAK,YAAc3mB,EAAS,4CACnComB,GAAiBn6B,EAAOwU,EAAE,oBAA2B/L,KAGhDlG,EAAQiU,GAAG,OAChBzC,EAAS,YAAckmB,GACvBj6B,EAAO06B,KAAK,YAAc3mB,EAAS,wBACnComB,GAAiBn6B,EAAOyI,KAI5BzI,EAAO26B,GAAG,+BAAiCxW,EAAU,iBAErD,IAAIyW,EAAuB,MAAPJ,GAAeA,EAAI/4B,OAAS,EAC5Cm5B,IACA56B,EAAOo2B,GAAG,+BAAiC4D,EAAgBQ,EAAM,iBACjEx6B,EAAOgE,IAAId,EAAE23B,GAAoB,MAIjCX,IAAah6B,KACbi6B,GAAiBS,EAAeJ,EAAM,GACtCh5B,EAAE,IAAMuS,GAAQ7Q,EAAE43B,GAAa3W,GAC/B+V,EAASntB,IAAIoX,EAASpQ,EAAQomB,IAStC,SAASY,GAAuC/6B,EAAQuC,GACpD,IAAIg4B,EAAKv6B,EAAOkD,EAAE83B,IACdR,EAAMx6B,EAAOkD,EAAEC,IACf+2B,EAAW5tB,GAAW4F,OACtB6B,EAAS,GACTomB,EAAgB,GAEhBE,EAAQ,KAERE,IAAOr6B,IAAgC,IAAlBq6B,EAAG/xB,IAAI/G,SAC5B44B,EAAQC,GAA6Bt6B,EAAOgE,IAAI1B,KAAMC,GACtC,MAAZ83B,EAAM,KACNE,EAAKF,EAAM,IACC,MAAZA,EAAM,KACNG,EAAMH,EAAM,KAIpB,IAAIlW,EAAU,GACV6V,EAAgB,CAChB,KACA,WACF7vB,IAAa8wB,GAEX14B,EAAQiU,GAAG,MACX0jB,EAAW5tB,GAAW8F,MACtB4nB,EAAgB,CACZ,MACA,UACF7vB,IAAa+wB,IAGV34B,EAAQiU,GAAG,OAChB0jB,EAAW5tB,GAAW8F,MACtB4nB,EAAgB,CACZ,MACA,UACF7vB,IAAagxB,IAIT,MAANZ,GAAgC,IAAlBA,EAAG/xB,IAAI/G,SACrB84B,EAAK,GACDjqB,KACI/N,EAAQiU,GAAG,OACX+jB,EAAKv6B,EAAOwU,EAAE,KAAK/L,IAAID,KAE3B+xB,EAAKtyB,EAAoBsyB,EAAG/xB,IAAK,MAGzCwxB,EAAgBxL,GAASwL,EAAgBS,GAA2BhM,GACpEtK,EAAU6V,EAAgBO,EAGtBh4B,EAAQiU,GAAG,MACXzC,EAAS,YAAcknB,GAEvBj7B,EAAO06B,KAAK,YAAc3mB,EAAS,KAAvB,eAAqDxR,EAC3D,+BAAiC6N,IACvC+pB,GAAiBn6B,EAAOwU,EAAE,0BAA0B/L,KAG/ClG,EAAQiU,GAAG,MAChBzC,EAAS,YAAcknB,GACvBj7B,EAAO06B,KAAK,YAAc3mB,EAAS,KAAvB,eAAqDxR,EAC3D,uBAAyB6N,IAC/B+pB,GAAiBn6B,EAAOkD,EAAEqc,KAGrBhd,EAAQiU,GAAG,MAChBzC,EAAS,cAAgBmnB,GACzBl7B,EAAO06B,KAAK,YAAc3mB,EAAS,KAAvB,eAAqDxR,EAC3D,wBACN43B,GAAiBn6B,EAAOkD,EAAEqc,KAGrBhd,EAAQiU,GAAG,OAChBzC,EAAS,cAAgBonB,GACzBn7B,EAAO06B,KAAK,YAAc3mB,EAAS,KAAvB,eAAqDxR,EAC3D,yBAIVvC,EAAO26B,GAAG,+BAAiCxW,EAAU,iBAErD,IAAIyW,EAAgBL,IAAOr6B,IAAqB,MAAPs6B,GAAeA,EAAI/4B,OAAS,EAerE,GAdIm5B,IACA56B,EAAOo2B,GAAG,+BAAiC4D,EAAgBQ,EAAM,iBACjEx6B,EAAOgE,IAAId,EAAE23B,GAAoB,MAIjCX,IAAah6B,KACbi6B,GAAiBS,EAAeJ,EAAM,GACtCh5B,EAAE,IAAMuS,GAAQ7Q,EAAE43B,GAAa3W,GAC/B+V,EAASntB,IAAIoX,EAASpQ,EAAQomB,IAK9B53B,EAAQiU,GAAG,KAAM,CACbxW,EAAOkD,EAAEyT,MAAcuC,IAAUlZ,EAAOyF,EAAEkR,MAAcuC,KACxDlZ,EAAOud,WAAW5G,IAClB3W,EAAOyF,EAAEkR,GAAU,KAIvB,IAAIpN,EAAQrJ,GACRF,EAAOyF,EAAEqX,MAAgB5D,GACzBlZ,EAAOgE,IAAIyB,EAAEmX,GAAS5c,EAAOyF,EAAEqX,MACzBvT,EAAQvJ,EAAOkD,EAAE2Z,OAAc3c,IAAcqJ,EAAM3F,EAAEgZ,KAAY,EACvE5c,EAAOgE,IAAIyB,EAAEmX,GAAS5c,EAAOyF,EAAEmX,KACJ,SAAtB5c,EAAOkD,EAAE0Z,IACd5c,EAAOgE,IAAIyB,EAAEmX,GAASjc,EAAYX,EAAOkD,EAAE0Z,KAAY,GAClD5c,EAAOkD,EAAEk4B,MAAeliB,GAC7BlZ,EAAOgE,IAAIyB,EAAEmX,GAAS5c,EAAOkD,EAAEk4B,IAAWl3B,GAAG,KAAK,GAAK,MAEvDlE,EAAOgE,IAAIyB,EAAEmX,GAAS,SASlC,SAAS0d,GAA6BnW,EAAS5hB,GAuC3C,SAAS84B,EAAqBr7B,GAC1B,IAAIs7B,EACAC,EAAO,WACPC,EAAO,GAEX,MAJW,eAIFC,KAAKz7B,EAAOyI,IAAID,KACd,CAAC,IAAK,GAER+yB,EAAKE,KAAKz7B,EAAOyI,IAAID,KACnB,CAAC,IAAK,IAEPgzB,EAAOx7B,EAAO0X,QAAUxX,IAC1Bs7B,EAAKhlB,GAAG,aAAeglB,EAAK7X,GAAG,SACA,IAA3B6X,EAAK53B,EAAE,eACA,CAAC,IAAK,GAEN,CAAC,IAAK,GAGlB,CAAC,EAAG,GAUf,SAAS83B,EAAgB17B,EAAQoG,EAAOswB,GACpC,IAAI2D,EAAQ,GAEZ,GAAa,MAAT3D,EAAc,CACd,IAAI5uB,EAAO9H,EAAOyI,IAAID,IACtB6xB,EAAM,GAAKvyB,EAAKhE,EAAE,EAAGgE,EAAKlE,EAAE,IAAK,IACnB,IAAVwC,IACAi0B,EAAM,GAAKvyB,EAAKhE,EAAEgE,EAAKlE,EAAE,KAAO,GAAK,EAAGkE,EAAKrG,OAAS,SAG5C,MAATi1B,IACS,IAAVtwB,IACAi0B,EAAM,GAAKr6B,EAAOwU,EAAE,aAAa/L,IAAID,KACzC/H,EAAUT,EAAOwU,EAAE,cACnB6lB,EAAM,GAAKr6B,EAAOyI,IAAID,KAE1B,OAAO6xB,EAnFX,IAAIA,EAAQ,GACRsB,EAAiBn5B,EAAkB2hB,GACnCyX,EAAiB5yB,GAEjB6yB,EAAYR,EAAqBlX,GA4BrC,OA1BqB,IAAjB0X,EAAU,IACVxB,EAAQqB,EAAgBvX,EAAS,EAAG0X,EAAU,IAC9CD,EAAiB7yB,IAGK,IAAjB8yB,EAAU,IACfxB,EAAQqB,EAAgBvX,EAAS,EAAG0X,EAAU,IAC9CxB,EAAM,GAAK,KACXuB,EAAiB7yB,IAGZ4yB,EAAenlB,GAAG,OACvB6jB,EAAM,GAAKlW,EAAQ1b,IAAID,IACvB6xB,EAAM,GAAK,KAGPsB,IAAmB7kB,IACpBqN,EAAQ1e,EAAE0P,GAAcG,IAClB7P,EAAEq2B,GAAYC,MAKvBH,GAAoBr5B,EAAQiU,GAAG,MAAyB,MAAjBqlB,EAAU,IACjDp7B,EAAU0jB,GAEPkW,EA4DX,SAASrpB,KAEL,IAAIgrB,EAAMz4B,EAAmB,OAC7By4B,EAAOA,IAAQ97B,GAAa,EAAIS,EAAYq7B,GAE5Cx6B,EAAE,cAAmB0a,GAAE,WACnB,IAAIzD,EAAKjX,EAAEkX,MAGX2K,GAAqB5K,EAAIzM,IAGzByqB,GAAkBhe,EAAIzM,IAGlByM,EAAGjE,EAAE,oBAA2B/S,OAASu6B,GACzC5B,KAEA3hB,EAAGiiB,KAAK,6DAGRX,GAAsCthB,EAAI,QAG1CA,EAAGvV,EAAE+4B,GAAWlY,OAU5B,SAAS1B,GAAyBiD,EAAQzgB,GACtC,IAAIxB,EAAU,GACV64B,EAAQ/Z,GAA0BvK,KAAKpD,EAAE,qCACzC2nB,EAAU,EACVC,EAAYF,EAAMz6B,OAElB46B,EAAW,CACP,YACA,SACA,OAEJC,EAAY,CACR,GACA,MACA,IAeR,GAZAJ,EAAMhgB,GAAE,WACJigB,IACA,IAAII,EAAapmB,UAAU3U,EAAEkX,MAAMjQ,KAEnC,IAAK,IAAI7E,EAAI,EAAGA,EAAIy4B,EAAS56B,OAAQmC,IAC7B24B,EAAW34B,EAAEy4B,EAASz4B,KAAO,IAC7B24B,EAAaA,EAAW7yB,GAAG2yB,EAASz4B,GAAI04B,EAAU14B,KAE1DP,GAAWjC,EAAam7B,IAAeJ,EAAUC,EAAY,KAAO,OAIpE3gB,GAAgC,CAChC,IAAI+gB,EAAO,GACPra,KAA8BjiB,KAC9Bs8B,EAAOra,GAA0Bjf,EAAEu5B,KACvCp5B,EAAU,OAASm5B,IAASt8B,GAAas8B,EAAO,IAAM,KAAOn5B,EAAU,QAE3Eq5B,GAAcpX,EAAQjiB,EAAS0F,IAiBnC,SAAS2zB,GAAcpX,EAAQjiB,EAASs5B,EAAiBC,EAAiBC,GAEtE,IAAIC,GAAK,IAAI/pB,MAAOC,UACpB,GAAI+pB,IAAqBD,EAAKE,GAAwB,IAClD,OACJA,GAAwBF,EACxBC,GAAoBh0B,GAGpB,IAAIk0B,EAAa,IAAM3X,EAAOpiB,EAAEkH,IAASV,GAAG,IAAK,KACjDxK,EAAM+9B,GACNz7B,EAAEy7B,GAAY/5B,EAAEg6B,GAAqB75B,GACrCnE,EAAMsC,EAAEy7B,GAAY/5B,EAAEg6B,KAGtB,IAAIhiB,EAAY,IAAIiiB,YAAYF,GAGhC/hB,EAAUrI,GAAG,WAAW,SAAShO,GAE7B,IAAIu4B,EAAO3hB,GAAiC,kCAAoC,GAC5EmM,EAAO+U,EAAkB,CACrB,uCACA,sDACExyB,IAAa,GACvBgC,GAAUutB,OAAO,CACT,MACA,UACFvvB,KAAcsR,GAAiC,GAAKmM,GACpDwV,EAAM,IAAMp0B,GAAQsc,GAE1BzgB,EAAMw4B,wBAEN,IAA4BxQ,IAAc+P,IAG1C1hB,EAAUoiB,UAGNX,IAE4B,MAAxBY,KACAzb,aAAayb,IACbA,GAAuB,MAE3B9iB,GAA+B1R,IAE/Bw0B,GAAuB10B,YAAW,WAE9B4R,GAA+BzR,IAC/Bu0B,GAAuB,OACxB,MAGPR,GAAoB/zB,MAGxBkS,EAAUrI,GAAGojB,IAAS,WAElB9pB,GAAUhN,MAAM,WAAa,CACzB,oBACA,2DACFgL,IAAa,YAAa,IAAMnB,GAAQsc,UAE1C,IAA0BuH,IAAcgQ,IAGxC3hB,EAAUoiB,UACVP,GAAoB/zB,MA2B5B,SAASgJ,KAgCL,SAASwrB,EAAgBr5B,EAAMs5B,GAC3B,IAAIC,EAAOD,EAAKE,GACZC,EAAU58B,KAAKqS,IAAIqqB,GAEvB,GAAIA,EAAO,EACP,IAAK,IAAI95B,EAAI,EAAGA,EAAIg6B,EAASh6B,IACzBi6B,UAGH,GAAIH,EAAO,EACZ,IAAK,IAAI95B,EAAI,EAAGA,EAAIg6B,EAASh6B,IACzBk6B,UAIJC,GAAmBJ,GAAuB,KAG9Cx5B,EAAKjB,EAAEqrB,GAAiByP,MAjD5B,IAAIC,EAAUn7B,EAAqB,qBAE/Bo7B,GAAYC,WACR72B,EAAiB,oBAAoBkB,MAAQiD,IAASwyB,IAAY/9B,KAI1Ek+B,GAAoBH,GAGpBI,KACAH,GAAYtmB,GAAG,gBAAgBsE,GAAE,WAC7B,IAAI/X,EAAO3C,EAAEkX,MACb8kB,EAAgBr5B,EACZm6B,GAA+Bn6B,EAAKjB,EAAEkH,SAI9Ci0B,KACAx8B,IAAU+V,GAAG,uCAAuCsE,GAAE,WAClD,IAAI/X,EAAO3C,EAAEkX,MACb8kB,EAAgBr5B,EACZm6B,GAA+B97B,EAAkB2B,QAIzDk6B,KACAx8B,IAAU+V,GAAGd,wBAA6BoF,GAAE,WACxC1a,EAAEkX,MAAMxV,EAAEqrB,GAAiBgQ,GAAsB,QA4BzD,SAASV,KACLF,KACAI,GAAmBJ,GAAuB,GAAK,EAMnD,SAASG,KACLC,GAAmBJ,GAAuB,GAAK,EAC/CA,KACAI,GAAmBJ,GAAuB,KAM9C,SAASU,KACLN,GAAqB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GACrCJ,GAAuB,EAO3B,SAASS,GAAoBH,GAiCzB,SAASO,EAAef,GACpB,IAAIjS,EAC6D,OAA5DA,EAASiT,GAAkBhB,GAAIp+B,EAAEq/B,MACb,IAAlBlT,EAAO/pB,SACN88B,GAAsBd,GAAMjS,EAAO,GACnCmT,GAAuBlB,GAAMjS,EAAO,GACpCoT,GAAsBnB,GAAMjS,EAAO,GACnCqT,GAAyBpB,GACN,SAAdjS,EAAO,GAlIQ,EAmIC,SAAdA,EAAO,GAlIM,EAFG,EAsIvBsT,GAAsBrB,GAAMjS,EAAO,IAhC/C,GAVIyS,IAAY/9B,KACZ6+B,GAAiBd,GASS,IAA1Bc,GAAet9B,OACf,OAGJ,IAAIu9B,EAASD,GAAe76B,GAAG,KAC3Bu5B,EACJ,IAAK,IAAI75B,EAAI,EAAGA,EAAIo7B,EAAOv9B,OAAQmC,IAC/B65B,EAAKuB,EAAOp7B,GAAGE,EAAE,EAAG,GACfm7B,MAAMxB,KACPgB,GAAkBhB,EAAK,GAAKuB,EAAOp7B,GAAG4E,KAI9Cg2B,EAAe,GACfA,EAAe,GACfA,EAAe,GACfA,EAAe,GACfA,EAAe,GACfA,EAAe,GAsBnB,SAASR,KAmCL,SAASkB,EAAYt7B,EAAGu7B,GACpB,IAAIC,EAAK,GACLjyB,EAAU4wB,GAAmBn6B,GAC7By7B,EAA4D,MAA/CT,GAAsBh7B,GAAGE,EAAE,EAAG,GAAGzE,EAAE,SAChDigC,EAASV,GAAsBh7B,GAAGQ,IA+BtC,MA5Be,MAAXk7B,EACAF,GAAMG,GAA6BpyB,EAASvJ,GAE5B,OAAX07B,EACLF,GAAgC,IAAzBzB,GAED6B,GAAuBryB,EAASkyB,GAEhCE,GAA6BpyB,EAASvJ,GAG5B,UAAX07B,EACLF,GAAgC,IAAzBzB,IAA8BwB,EApMV,EAsMrBM,GAA0BtyB,EAASkyB,GAEnCE,GAA6BpyB,EAASvJ,GAG5B,UAAX07B,EACLF,GAAgC,IAAzBzB,IAA8BwB,EA5MV,EA8MrBO,GAA0BvyB,EAASkyB,GAEnCE,GAA6BpyB,EAASvJ,GAEvC07B,IAAW7zB,KAChB2zB,GAAM,IACHA,EArEX,IAAI3B,EAAKE,GAAuB,EAC5BgC,EAAWlC,EAAK,EAAKA,EAAK,GAAK,EAC/B0B,EAAMN,GAAyBpB,GAC/BmC,EAAS,GAGb,GAAIT,EArJ+B,EA0J/B,OAxJ4B,IAoJxBA,GAAyCQ,GAAW,IACpDC,EAAUV,EAAYS,EAASR,GAAO,KAC1CS,GAAUV,EAAYzB,EAAI0B,GAEnBZ,GAAsBd,GACvBmC,EACAd,GAAsBrB,GAIhC,IAAIr1B,EAAM,EACV,IAAK,IAAIxE,EAAI,EAAGA,EAAI+5B,GAAsB/5B,IACtCwE,EAAM82B,EAAYt7B,GAAG,GACrBg8B,GAAUx3B,EACNxE,EAAI65B,GAAMr1B,EAAI3G,OAAS,IACvBm+B,GAAU,KAGlB,OAAOrB,GAAsBd,GACvBmC,EACAd,GAAsBrB,GAmDhC,SAASa,GAA+B1+B,GACpC,IAAI69B,EAAK79B,EAAMP,EAAE,cAAc,GAC/B,OAAO4/B,MAAMxB,GAAM,EAAI98B,EAAY88B,GASvC,SAAS8B,GAA6B3/B,EAAO69B,GACzC,IAAIoC,EACAC,EADMnB,GAAuBlB,GAAIh8B,OACrB7B,EAAMo1B,WAAWvzB,OAC7Bs+B,EAAS,GACb,GAAID,EAAM,EACN,IAAK,IAAIl8B,EAAI,EAAGA,EAAIk8B,EAAKl8B,IACrBm8B,GAAU,IAElB,OAAOA,EAASngC,EAWpB,SAAS4/B,GAAuBQ,EAAKX,GAajC,SAASY,EAAUrgC,GACf,IAAIsgC,EAAStgC,EAAMo1B,WAAW9wB,GAAG,IAAIi8B,UACjCC,EAAS,GACb,IAAK,IAAIx8B,EAAI,EAAGA,EAAIs8B,EAAOz+B,OAAQmC,IACjCw8B,GACS,IAANx8B,GAAyB,IAAds8B,EAAOt8B,IAChBA,EAAI,GAAmB,IAAds8B,EAAOt8B,IAA8B,IAAlBs8B,EAAOt8B,EAAI,GADX,GAE7By8B,GAAiBH,EAAOt8B,KAAqB,IAAds8B,EAAOt8B,GAAW08B,GAAkB,GAAKA,GAAkB18B,KAE1Fw8B,EAEN,OAAOA,EAIX,SAASG,EAAgB3gC,GACrB,OAAOA,EAAM8J,GAAG,KAAM,KACjBA,GAAG,KAAM,KACTA,GAAG,KAAM,KACTA,GAAG,KAAM,KACTA,GAAG,KAAM,KACTA,GAAG,KAAM,KACTA,GAAG,KAAM,KACTA,GAAG,KAAM,KACTA,GAAG,KAAM,KACTA,GAAG,KAAM,KACTA,GAAG,KAAM,KACTA,GAAG,KAAM,KAvClB,IAAI82B,EAAUx/B,KAAKye,MAAMugB,EAAM,KAC3BS,EAAQT,EAAM,IACdS,EAAMzL,WAAWvzB,OAAS,IAC1Bg/B,EAAQ,IAAMA,GAElB,IAAIC,EAAUF,EAAUP,EAAUO,GAAW,IAAMP,EAAUQ,GAASR,EAAUD,GAIhF,OAFIA,GAAO,IAAMA,GAAO,KACpBU,EAAUA,EAAQ34B,EAAE,KAAM,MACvBs3B,EAAYkB,EAAgBG,GAAWA,EAuClD,SAASjB,GAA0B7/B,EAAOy/B,GACtC,IAAIqB,EAAU,GACd,KAAO9gC,EAAQ,GAAG,CACd,IAAIP,EAAIO,EAAQ,GACN,IAANP,IACAA,EAAI,IACRqhC,EAAUnmB,OAAOC,aAAa,GAAK7Z,EAAYtB,IAAMqhC,EACrD9gC,GAASA,EAAQP,GAAK,GAE1B,OAAOggC,EAAYqB,EAAUA,EAAQt8B,IAYzC,SAASs7B,GAA0B9/B,EAAOy/B,GACtC,GAAIz/B,GAAS,GAAKA,GAAS,IACxB,OAAOA,EACV,IAAI8gC,EAAU,GACd,IAAK,IAAI98B,EAAI,EAAGA,EAAI+8B,GAAoBl/B,OAAQmC,IAC7C,KAAOhE,GAASghC,GAAwBh9B,IACrChE,GAASghC,GAAwBh9B,GACjC88B,GAAWC,GAAoB/8B,GAGrC,OAAOy7B,EAAYqB,EAAUA,EAAQt8B,IAWzC,SAASqM,KAgEL,SAASowB,EAAuB7gC,GAC5B,IAAI8gC,EAAQ9gC,EAAOgE,IAEb02B,KAAK,gBAAkBqG,GAAwB,gBAErD/gC,EAAO0V,SAASglB,KAAK,uBAErB16B,EAAO4X,KAAKlC,SAGZ,IAAIsrB,EAAUx/B,EAAEwb,WAAkB+jB,IAC9Bx3B,EAAQ,mEACR03B,EAAUD,EAAQppB,GAAG,WAkBzB,OAjBAqpB,EAAQ9wB,GAAG4G,GAAgB,iBAAkB,GAAI,GAAIwF,GAAQhT,IAC7D03B,EAAQpuB,GAAG6B,IAAW,WAElB,IAAI+D,EAAKjX,EAAEkX,MACPsQ,EAAO,kBACP/iB,EAAQ+0B,GACZviB,EAAGke,GAAGtiB,6BAA6CrQ,IAAIyB,EAAEkR,GAAUmB,IACnEW,EAAGzU,IAAIyB,EAAEkR,GAAUmB,IAEfW,EAAGzU,IAAId,EAAE,UAAYhD,KACrB8oB,EAAO,iBACP/iB,EAAQsW,IAEZ9D,EAAGb,GAAG,OAAOF,GAAGX,GAAgBiS,EAAM,GAAI,GAAI/iB,EAAOsD,OAGzDw3B,KACOC,EA5FX,IAAIE,EAAU39B,EAAmB,SAC7B29B,IAAYhhC,KACZihC,GAA4BD,EAC5BE,GAAsCF,EAAQp9B,EAAE,EAAG,IAIvDtC,EAAE6S,IAAc6H,GAAE,WACd,IAAIzD,EAAKjX,EAAEkX,MACP2oB,EAAmBr4B,GAGvByP,EAAGb,GAAGd,kBAAuBoF,GAAE,WAC3B,IAAI8kB,EAAUH,EAAuBr/B,EAAEkX,OACnCsoB,IACAvoB,EAAKuoB,GACTK,GAAmB,KAInBA,IACA5oB,EAAGvV,EAAEo+B,GAAoBvd,IACrBvhB,EAAkBiW,EAAGzU,OAASqQ,IAC9BoE,EAAGzU,IAAId,EAAEo+B,GAAoBvd,KAMrC,IAAIwd,EAAY/+B,EAAkBiW,EAAGzU,KAGrC,GAAkB,OAAdu9B,GAAsBA,IAAcltB,IAAgBktB,IAAcvkB,GAClE,OAAOjU,GACX,IAAIy4B,EAAsBx4B,GAE1ByP,EAAGjE,EAAE,UAAU0H,GAAE,WACb,IAAIzD,EAAKjX,EAAEkX,MAEX,GAAI+oB,GAA0BhpB,IACU,MAAjCA,EAAGhQ,IAAIpJ,EAAEqiC,IAER,OADAF,EAAsBz4B,GACfC,MAKdw4B,GACD/oB,EAAG3I,GAAG,YAAcqxB,GAA4B,kBAIxDQ,KAGAC,KA6CJ,SAASH,GAA0BzhC,GAC/B,IAAI6hC,EACJ,OADY7hC,EAAOgE,IAAIyE,IAAID,MACTxI,EAAOyI,IAAID,IAMjC,SAAS2I,KAEL3P,EAAE,QAAU4/B,GAAoCh9B,KAAK8X,GAAE,WACnD,IAAIzD,EAAKjX,EAAEkX,MACPopB,EACAC,EADStpB,EAAGnW,KACSY,EAAEkH,IAEvB23B,IAAgB7hC,KACf6hC,EAAYn+B,EAAE,WAAa,GAAKm+B,EAAYn+B,EAAEuzB,KAAyB,IACpE/2B,EAAeqY,EAAI2oB,GAAoCh9B,IAAM,UAO7E,SAASu9B,KAELngC,EAAE,iCAAiC0a,GAAE,WAejC,SAAS8lB,EAAShiC,GACdA,EAAOyF,EAAE0P,GAAcG,IAClB7P,EAAEsgB,GAAU,GACZtgB,EAAEugB,GAAU,GAarB,SAASic,EAAkBnB,GAEnBA,EAAM59B,EAAEo+B,MAGZR,EAAM59B,EAAEg/B,GAAkBC,IAC1BC,KApCJD,KACA,IAAI1pB,EAAKjX,EAAEkX,MACP2pB,EAAK5pB,EAAGnW,KACR8/B,EAAW,EAIfJ,EAASK,GACTD,EAAWC,EAAGC,UAAU,YAAY7gC,OAAS,EAEzC2gC,EAAW,GACXJ,EAASK,EAAGC,UAAU,aAW1BL,EAAkBxpB,GAClBA,EAAG8pB,UAAU,6BAA6BrmB,GAAE,WACpCkmB,EAAW,GACXH,EAAkBzgC,EAAEkX,aAmBpC,SAAShF,KACL,IAAI8uB,GAAJ,CAGAA,GAAyBz5B,GACzB,IAAK,IAAInF,EAAI,EAAGA,GAAKu+B,GAA4Bv+B,IAC7C6+B,GAAoC7+B,GAExC4+B,GAAyBx5B,IAO7B,SAASy5B,GAAoCC,GAEzC,IAAIC,EAAY,EACZ7B,EAAQt/B,EAAE6S,4BAA8CquB,EAAU,KAAxDruB,WAAAA,iBACuCquB,EAAU,KAC/D5B,EAAM5kB,GAAE,WACJ,IAAIzD,EAAKjX,EAAEkX,MAGX,GAFAD,EAAGhT,EAAEkR,GAAUmB,IAEXW,EAAGhT,EAAEyoB,MAAetB,GAAS,CAC7B,IAAI3F,EAAStmB,EAAY8X,EAAGhT,EAAEkR,KAC1BsQ,EAAS0b,IACTA,EAAY1b,OAKpB6Z,EAAMr7B,EAAEyoB,MAAetB,IAEvBkU,EAAMr7B,EAAEkR,GAAUgsB,GAO1B,SAASjyB,KACDc,GAAIC,OAAOC,OACXlQ,EAAE,wBAA6B6W,KAE/BC,GAAe9W,EAAE,yBAMzB,SAASguB,KAWL,SAASoT,EAAc5iC,GACnB,IAAI6iC,EAAS7iC,EAAOgE,IAEhBxB,EAAkBqgC,KAAY7lB,KAE1Bxa,EAAkBqgC,EAAO7+B,OAASgZ,IAClC4lB,EAAcC,EAAO7+B,KAErB6+B,EAAO3/B,EAAE4/B,MAAY5iC,IACrB2iC,EAAOjrB,GAAG,WAAWnD,GAAGmF,KAnBhC3L,GAAc2gB,QAAU1uB,IAI5B0iC,EAAc30B,GAAc2gB,OAyBhC,SAASgT,KAELpgC,EAAE,oBAAoB0a,GAAE,WACpB,IAAIzD,EACA4pB,EADK7gC,EAAEkX,MACCpW,KAKR8/B,EADJC,EAAG58B,EAAEyoB,GAAWhV,IACDmpB,EAAGC,UAAU,YAAY7gC,OAAS,EAClC,GACX4gC,EAAGC,UAAU,YAAY78B,EAAEyoB,GAAWhV,OASlD,SAASrI,KAqFL,SAASkyB,EAAW5wB,GAEhB,IAAI6wB,EAAW,EACf7wB,EAAMqC,EAAE,YAAY0H,GAAE,WAClB8mB,EAAW,EACX,IAAIC,EAAqBl6B,GACrBm6B,EAA4Bn6B,GAC5Bo6B,EAAiBp6B,GAGrBvH,EAAEkX,MAAMlE,EAAE,MAAM0H,GAAE,WACd,IAAIknB,EAAK5hC,EAAEkX,MACP5Q,EAAOs7B,EAAG36B,IAIVw6B,GACG9wB,EAAMjP,EAAEmgC,MAAqBtf,KAC5Buf,GAAqB7H,KAAK3zB,IAC3By7B,GAAqB9H,KAAK3zB,MAEzBqK,EAAMjP,EAAEmgC,GAAiBtf,IACzBkf,EAAqBj6B,IAGzBk6B,GACIM,GAAsBrxB,EAAOixB,EAAIt7B,KACjCo7B,EAA4Bl6B,IAGhCm6B,GACgB,IAAbH,GACAS,GAAsBhI,KAAK3zB,KAE1BqK,EAAMjP,EAAEwgC,GAAa3f,IACrBqf,EAAGO,MAAM,MAAO,IAChBR,EAAiBn6B,IAKzBo6B,EAAGlgC,EAAE0gC,GAAc,OAAS3J,GAAsB,IAAM+I,GACxDA,IAIAa,GAAgB1xB,EAAOixB,SAK3BJ,EAAW,GACX7wB,EAAMjP,EAAE,iBAAkB8/B,GAI9B7wB,EAAMqC,EAAE,YAAY0H,GAAE,WAClB,IAAI8mB,EAAW,EACXC,EAAqBl6B,GACrB+6B,EAAoB/6B,GAGxBvH,EAAEkX,MAAMlE,EAAE,MAAM0H,GAAE,WACd,IAAI6nB,EAAKviC,EAAEkX,MACP5Q,EAAOi8B,EAAGt7B,IAGVw6B,GACG9wB,EAAMjP,EAAEmgC,MAAqBtf,KAC5Buf,GAAqB7H,KAAK3zB,IAC3By7B,GAAqB9H,KAAK3zB,MAEzBqK,EAAMjP,EAAEmgC,GAAiBtf,IACzBkf,EAAqBj6B,IAGzB86B,GACgB,IAAbd,GACA7wB,EAAMjP,EAAE8gC,MAAoBjgB,IAC5BkgB,GAAoBxI,KAAK3zB,KAExBqK,EAAMjP,EAAE8gC,GAAgBjgB,IACxB+f,EAAoB96B,IAIxB,aAAayyB,KAAKsI,EAAGrsB,QACrBqsB,EAAGnsB,KAAKA,KAAKlC,SACb3V,EAAYgkC,EAAIG,KAIpBH,EAAG7gC,EAAE0gC,GAAc,OAAS3J,GAAsB,IAAM+I,GACxDA,IAIAa,GAAgB1xB,EAAO4xB,SArLnC,IAAIx5B,EAAK,IAAIC,GAIbD,EAAGE,KACHjJ,EAAEoK,IAASsQ,GAAE,WACT,IAAIzD,EAAKjX,EAAEkX,MACP0L,EAAY3L,EAAGzU,IAEnBi2B,KAGA5W,GAAqB5K,EAAI7M,IAGzBwY,EAAUlhB,EAAEs0B,GAAiB5rB,IAC7B7L,EAAYqkB,EAAWE,IAGvBF,EAAUsR,QAAO,WACb/iB,QAIJowB,EAAWtqB,GAGXge,GAAkBhe,EAAI7M,IAEtBmuB,GAAsCthB,EAAI7M,OAE9CrB,EAAGS,GAAG,mBAINT,EAAGE,KACHjJ,EAAEoK,8BAA8CsQ,GAAE,WAC9C,IAAIzD,EAAKjX,EAAEkX,MACXyrB,GAAkB1rB,GAGlBA,EAAGjE,EAAE,eAAe0H,GAAE,WAClB,IAAIkoB,EAAO5iC,EAAEkX,MACb8qB,GAAsB/qB,EAAI2rB,EAAMA,EAAK37B,WAG7C8B,EAAGS,GAAG,iBAINT,EAAGE,KACHjJ,EAAEoK,iCAAiDsQ,GAAE,WACjDmoB,GAAwB7iC,EAAEkX,UAE9BnO,EAAGS,GAAG,yBAINT,EAAGE,KACHjJ,EAAEoK,6BAA6CsQ,GAAE,WAC7C,IAAIzD,EAAKjX,EAAEkX,MACX4rB,GAAc7rB,GAGdA,EAAGjE,EAAE,uBAAmC0H,GAAE,WACtC,IAAI6nB,EAAKviC,EAAEkX,MAAMd,GAAG,YAChBmsB,EAAG7gC,EAAEqhC,MAAsBrkC,IAC3B6jC,EAAGt+B,EAAEuS,GAAe,eAGhCzN,EAAGS,GAAG,qBAINT,EAAGE,KACHjJ,EAAEoK,0BAA0CsQ,GAAE,WAC1CsoB,GAAiBhjC,EAAEkX,UAEvBnO,EAAGS,GAAG,uBAkHV,SAASwX,GAAqB8C,EAAQzgB,GAoLlC,SAAS4/B,EAAqBphC,EAASqhC,GAEnC,IAAIC,EAAYl4B,GACZm4B,EAAU,UACd,IAAK,IAAIhhC,EAAI,EAAGA,EAAIw+B,EAAUx+B,IAEtB8gC,EAAS9gC,KAAO1D,KAChBykC,EAAYD,EAAS9gC,IAErB+gC,IAAcl4B,GACdm4B,EAAU,UACLD,IAAcz1B,GACnB01B,EAAU,UACLD,IAAc75B,KACnB85B,EAAU,WAEdvhC,GAAWuhC,EAGf,OADAvhC,GAAW,MAKf,SAASwhC,EAAkBC,EAAOC,GAC9B,OAAQtpB,GAAiCqpB,EAAQC,EAIrD,SAASC,EAAmBC,EAAUC,EAAQC,GAM1CF,EAAWG,EAFXH,EAAWI,EAFXJ,EAAWK,EAAyBL,KAOhCxpB,KAEI0pB,IAAkBjlC,KAClB+kC,EAAW,KAAOE,EAAgB,KAAOF,GAGzCC,IAAWhlC,KACX+kC,GAAY,KAAOC,EAAS,OAGhCD,EAAWM,EAA+BN,EACtC,gEAEJA,EAAWM,EAA+BN,EACtC,wDAEJA,EAAWM,EAA+BN,EACtC,4DAEJA,EAAWM,EAA+BN,EACtC,uDAIR,IAAI5I,EAAW,CAEP,UACA,OACA,OACA,IACA,IACA,gBACA,gBACA,UAGJC,EAAY,CAER,IACA,IACA,IACA,IACA,IACA,QACA,QACA,IAIJkJ,EAAQ,WAGRP,EAFAxpB,IACAwpB,EAAWA,EAASv7B,GAAG,cAAe87B,IAClB97B,GAAG,KAAM,OAGlBu7B,EAASv7B,GAAG,cAAe,MAG1C,IAAK,IAAI9F,EAAI,EAAGA,EAAIy4B,EAAS56B,OAAQmC,IACjCqhC,EAAWA,EAASv7B,GAAG2yB,EAASz4B,GAAI04B,EAAU14B,IAUlD,OARI6X,KAKAwpB,GADAA,GAFAA,EAAWA,EAASv7B,GAAG87B,EAAO,SAEV97B,GAAG,UAAW,QACdA,GAAG,WAAY,SAGhCu7B,EAIX,SAASI,EAAuBJ,GAC5B,IAAIQ,EAAU,gEACVja,EAASyZ,EAAS5lC,EAAEomC,GAGxB,KAAiB,MAAVja,GAAgB,CACnB,IAAI1jB,EAAO0jB,EAAO,GACdvlB,EAAQy/B,GAAoBla,EAAO,IACnCma,EAAMna,EAAO,KAAOtrB,GAAa,IAAM,GACvC0lC,EAAMC,EAAe/9B,GAAQ,MAAQ,IACrCg+B,EAAMD,EAAe/9B,GAAQ,MAAQ,IAOzC0jB,GALAyZ,EAAWA,EAASl9B,EAAE09B,EAClBZ,EAAkBe,EAAM,IAAM99B,EAAO,IAAMg+B,EACrCC,GAA2B9/B,EAAO0/B,EAAIK,IACxC,IAAMl+B,EAAO,OAEHzI,EAAEomC,GAExB,OAAOR,EAIX,SAASK,EAAyBL,GAC9B,IAAIQ,EAAU,+HACVja,EAASyZ,EAAS5lC,EAAEomC,GAGxB,KAAiB,MAAVja,GAAgB,CACnB,IAAIya,EAAQza,EAAO,GACf0a,EAAS1a,EAAO,GAChBvlB,EAAQkgC,GAAsB3a,EAAO,IACrCma,EAAMna,EAAO,KAAOtrB,GAAa,IAAM,GACvC0lC,EAAMC,EAAeI,EAAQC,GAAU,MAAQ,IAC/CJ,EAAMD,EAAeI,EAAQC,GAAU,MAAQ,IAQnD1a,GANAyZ,EAAWA,EAASl9B,EAAE09B,EAClBZ,EAAkBe,EAAM,IAAMK,EAAQ,IAAMC,EAAS,IAAMJ,EACrDC,GAA2B9/B,EAAO0/B,EAAIS,IACxC,IAAMH,EAAQ,IAAMC,EAAS,OAGnB7mC,EAAEomC,GAExB,OAAOR,EAIX,SAASG,EAAwBH,GAC7B,IAAIQ,EAAU,oCACVja,EAASyZ,EAAS5lC,EAAEomC,GAGxB,KAAiB,MAAVja,GAAgB,CACnB,IAAI1jB,EAAO0jB,EAAO,GACdoa,EAAMC,EAAe/9B,GAAQ,MAAQ,IACrCg+B,EAAMD,EAAe/9B,GAAQ,MAAQ,IAGzC0jB,GAFAyZ,EAAWA,EAASl9B,EAAE09B,EAASG,EAAM99B,EAAOg+B,IAE1BzmC,EAAEomC,GAExB,OAAOR,EAIX,SAASM,EAA+BN,EAAUoB,GAC9C,IAAI7a,EAASyZ,EAAS5lC,EAAEgnC,GAGxB,KAAiB,MAAV7a,GAAgB,CACnB,IAAIvlB,EAAQulB,EAAO,GACf8T,EAAS9T,EAAO,GAChBvlB,IAAU/F,KACV+kC,EAAWA,EAASl9B,EAAEs+B,EAAK,iBAC3B/G,IAAWp/B,KAEPo/B,EAAO9oB,GAAG,OACVyuB,EAAWA,EAASl9B,EAAEs+B,EAAK,UAEtB/G,EAAO9oB,GAAG,MACfyuB,EAAWA,EAASl9B,EAAEs+B,EAAK,QAEtB/G,EAAO9oB,GAAG,MACfyuB,EAAWA,EAASl9B,EAAEs+B,EAAK,UAEtB/G,EAAO9oB,GAAG,QACfyuB,EAAWA,EAASl9B,EAAEs+B,EAAK,uBAGnC7a,EAASyZ,EAAS5lC,EAAEgnC,GAExB,OAAOpB,EAIX,SAASY,EAAe/9B,GACpB,OAAQA,EAAKlE,EAAE,MAAQ,EAI3B,SAAS0iC,IACL,IAAKC,UACD,OAEJ7nC,QAAQC,IAAI,SAAU6nC,EAAW,MAAQpE,GACzC,IAAIqE,EAAM,MACV,IAAK,IAAI7iC,EAAI,EAAGA,EAAIw+B,EAAUx+B,IAC1B6iC,GAAO,IAAM7iC,EACjBlF,QAAQC,IAAI8nC,GACZA,EAAM,MACN,IAAK,IAAI7iC,EAAI,EAAGA,EAAIw+B,EAAUx+B,IAC1B6iC,GAAO,KACX/nC,QAAQC,IAAI8nC,GACZ,IAAK,IAAI7iC,EAAI,EAAGA,EAAI4iC,EAAU5iC,IAE1B,GADA6iC,EAAM,GACFC,EAAY9iC,KAAO1D,GAAY,CAC/B,IAAK,IAAIymC,EAAI,EAAGA,EAAIvE,EAAUuE,IAC1BF,GAAQC,EAAY9iC,GAAG+iC,KAAOzmC,GAAc,KAAOwmC,EAAY9iC,GAAG+iC,GAAK,IAC3EjoC,QAAQC,IAAIiF,EAAI,MAAQ6iC,IAvZpC,IAAIpjC,EAAU,GACVujC,EAAQzkB,GAA0B3N,EAAE,MACpCqyB,EAAa1kB,GAA0B3N,EAAE,cAAc/S,OACvDqlC,EAAe3kB,GAA0Bjf,EAAE6jC,IAC3CC,EAAgB7kB,GAA0Bjf,EAAEwgC,IAC5CuD,EAAW9kB,GAA0Bjf,EAAE8gC,IACvCkD,EAAW,EACXV,EAAWI,EAAMnlC,OACjBuhC,EAAW,EACXZ,EAAW,EACXsC,EAAW,GACXgC,EAAc,GAGlBE,EAAM1qB,GAAE,WA2IJ,SAASirB,EAAiBC,GAEtB,GAAIV,EAAYQ,KAAchnC,GAAY,CACtC,IAAImnC,EAAUX,EAAYQ,GAAUlE,GACpC,KAAOqE,IAAYnnC,IAA0B,IAAZmnC,GAC7BD,GAAYvC,EAAkB,OAAQ,KAAO,KAC7C7B,IACAqE,EAAUX,EAAYQ,GAAUlE,QAIpC0D,EAAYQ,GAAY,GAE5B,OAAOE,EAtJP3rB,IAA+C,IAAbyrB,IAClC7jC,EAAUohC,EAAqBphC,EAASqhC,IAE5C,IAAI4C,EAAU9lC,EAAEkX,MAAMlE,EAAE,UACxBwuB,EAAW,EAGXsE,EAAQprB,GAAE,WACN,IAAIkrB,EAAW,GACXC,EAASE,EAIbH,EAAWD,EAAiBC,GAK5B,IAAIhD,EAAO5iC,EAAEkX,MACTusB,EAAWb,EAAK1sB,KAChB8vB,EAAex+B,GACfy+B,EAAYz+B,GACZk8B,EAASd,EAAKlhC,EAAEwkC,IAChBvC,EAAgBf,EAAKlhC,EAAEykC,IAG3B,GAAIb,IAAiB5mC,IAAc4mC,IAAiB/iB,GAAQ,CAExD,IAAIhd,EAAMq9B,EAAKlhC,EAAEkH,IACjB,GAAIrD,IAAQ7G,GAAY;AACpB,IAAgD,IAA5C6G,EAAInD,EAAEgkC,IAAyC,CAC/C,IAAIC,EACJ,GADUzD,EAAKxsB,GAAG,uBACVnW,OAAS,EACbwjC,EAAWA,EAASl9B,EAAE,8BAA+B,SACpD,CACD,IAAI+/B,EAAK1D,EAAKxsB,GAAG,sBACVnW,OAAS,IACZwjC,EAAWA,EAASl9B,EAAE,8BAA+B,MAGzD0T,IAAkCyrB,EAAWL,IAC7CW,EAAez+B,IAKnB0S,IAAkCyrB,EAAWL,IACF,IAAvC9/B,EAAInD,EAAEmkC,MACNN,EAAY1+B,IAKpB0S,KACAipB,EAAS1B,GAAYoB,EAAK3+B,EAAEuiC,KAIpC,GAAIf,IAAa/mC,IAAc+mC,IAAaljB,GAAQ,CAChD,IAAIhd,EAAMq9B,EAAKlhC,EAAEkH,IACjB,GAAIrD,IAAQ7G,KAAgD,IAAlC6G,EAAInD,EAAEqkC,IAA+B,CAC3D,IAAIC,EAAe9D,EAAKxsB,GAAG,wBAAiCnW,OAC5D,IAAK,IAAImC,EAAI,EAAGA,EAAIskC,EAActkC,IAC9BqhC,EAAWA,EAASl9B,EAAE,wBAClBnE,IAAMskC,EAAe,EAAI,KAAO,MA6BhD,GAvBAjD,EAAWD,EAAmBC,EAAUC,EAAQC,GAG5C1pB,IAAkCyrB,EAAWL,IACzCW,IACAvC,EAAW,MAAQA,GAEnBwC,IACAxC,EAAW,KAAOA,EAAW,MAEhB,IAAbiC,GAA+B,IAAblE,GAAkBgE,IAAkB9mC,KACtD+kC,EAAW,MAAQA,IAI3BmC,GAAYvC,EAAkB,KAAM,IAC9BA,EAAkB,GAAI,KAAOI,EAAWJ,EAAkB,GAAI,KAKpEwC,EAAUjD,EAAKlhC,EAAEilC,IACjBd,EAAWA,IAAYnnC,GAAc,EAAIS,EAAY0mC,GACjDA,EAAU,EACV,IAAK,IAAIzjC,EAAI,EAAGA,EAAIyjC,EAAU,EAAGzjC,IAEzB8iC,EAAYQ,EAAWtjC,EAAI,KAAO1D,KAClCwmC,EAAYQ,EAAWtjC,EAAI,GAAK,IAGpC8iC,EAAYQ,EAAWtjC,EAAI,GAAGo/B,GAAY,EAOlD,GAFAuE,EAAUnD,EAAKlhC,EAAEklC,IACjBb,EAAWA,IAAYrnC,GAAc,EAAIS,EAAY4mC,GACjDA,EAAU,EAEV,IAAK,IAAI3jC,EAAI,EAAGA,EAAI2jC,EAAU,EAAG3jC,IAC7BwjC,GAAYvC,EAAkB,QAAS,KAAO,KAE1C6B,EAAYQ,KAAchnC,KAC1BwmC,EAAYQ,GAAY,IAE5BR,EAAYQ,GAAUlE,EAAW,GAAK,EACtCA,IAIRA,IACA3/B,GAAW+jC,EAAWvC,EAAkB,IAAK,SAI7C7B,EAAWZ,IACXA,EAAWY,GAGf3/B,EAAU8jC,EAAiB9jC,GAE3B6jC,IACA7jC,EAAUA,EAAQS,EAAE,EAAGT,EAAQ5B,OAAS,GAClCojC,EAAkB,KAAM,KAAOqC,EAAWV,EAAW,KAAO,OAwBtEF,IAEA5J,GAAcpX,EAAQjiB,EAAS0F,IAwPnC,SAASo7B,GAAkBhyB,GACvB,IAAIk2B,EAAe,EACfC,EAAc,KACdtF,EAAW,EACXZ,EAAW,EACXmG,EAAW,KACXC,EAAU,GACVC,EAAU,GACVC,EAAe,GACfxB,EAAW,EACXyB,EAAc3/B,GA8DlB,GA3DAmJ,EAAMqC,EAAE,MAAM0H,GAAE,WACZssB,EAAQtB,GAAY,GACpBuB,EAAQvB,GAAY,GACpB,IAAIzyB,EAAKjT,EAAEkX,MACXjE,EAAGD,EAAE,UAAU0H,GAAE,WACb,IAAIkoB,EAAO5iC,EAAEkX,MAIb8vB,EAAQtB,GAAUlE,GAAYoB,EAC9BqE,EAAQvB,GAAUlE,GAAY,EAC1BM,GAAqB7H,KAAK2I,EAAK37B,OAC/BggC,EAAQvB,GAAUlE,GAAY,EAC9B2F,EAAc5/B,IAElBi6B,IACAZ,IAIImB,GAAqB9H,KAAK2I,EAAK37B,MAC/B4/B,IACA5nC,EAAU2jC,GACW,IAAjBiE,IACAC,EAAcC,KAIdF,EAAe,GAAoB,MAAfC,IACpBA,EAAYplC,EAAEklC,GAAWC,EAAe,GACxCO,GAAyBN,GACzBA,EAAY7iC,EAAEuiC,GAAal9B,KAE/Bu9B,EAAe,GAEnBE,EAAWnE,KAIXhC,IAAaiG,EAAe,GAA2B,IAAtB5zB,EAAGhM,IAAID,IAAI/G,QAC5C1B,EAAY0U,EAAI,uBAIhB4zB,EAAe,GAAoB,MAAfC,IACpBA,EAAYplC,EAAEklC,GAAWC,EAAe,GACxCO,GAAyBN,GACzBA,EAAY7iC,EAAEuiC,GAAal9B,KAE/Bu9B,EAAe,EAEfnB,IACAlE,EAAW,EACXZ,EAAW,KAGf8E,EAAW,EAGPyB,EAAa,CACbD,EAAe,GAEf,IAAK,IAAIjjC,EAAI,EAAG2B,EAAMqhC,EAAQ,GAAGhnC,OAAQgE,EAAI2B,EAAK3B,IAAK,CACnD,IAAIojC,EAAe,EACfC,EAAc,KACd/gC,EAAI,EACJghC,EAAa//B,GAGjB,KAAOjB,EAAI0gC,EAAQhnC,QACO,IAAlBgnC,EAAQ1gC,GAAGtC,IACXojC,IACmB,MAAfC,IACAA,EAAcN,EAAQzgC,EAAI,GAAGtC,IAGvB,IAANsC,IACAghC,EAAahgC,IACbggC,IACAL,EAAaA,EAAajnC,QAAU+mC,EAAQzgC,GAAGtC,GAAGzB,KACtDvD,EAAU+nC,EAAQzgC,GAAGtC,IAGjBA,EAAI,EAAIgjC,EAAQ1gC,GAAGtG,QACnB+mC,EAAQzgC,GAAGtC,EAAI,GAAGA,EAAEuS,GAAe1Q,EAAiB,yBAExDyhC,EAAa//B,GAET6/B,EAAe,GAAoB,MAAfC,IACpBA,EAAY5lC,EAAEilC,GAAWU,EAAe,GACxCD,GAAyBE,GACzBA,EAAYrjC,EAAEujC,GAAiB,UAC/BH,EAAe,EACfC,EAAc,OAGtB/gC,IAIA8gC,EAAe,GAAoB,MAAfC,IACpBA,EAAY5lC,EAAEilC,GAAWU,EAAe,GACxCD,GAAyBE,GACzBA,EAAYrjC,EAAEujC,GAAiB,WAKvC,IAAK,IAAIplC,EAAI,EAAGwD,EAAMshC,EAAajnC,OAAQmC,EAAIwD,EAAKxD,IAAK,CACrD4kC,EAAQ,GAAG,GAAGxkC,IAAIA,IAAI8L,GAAG44B,EAAa9kC,IAEtC,IAAIqlC,EAAUjgC,GACd0/B,EAAa9kC,GAAG4Q,EAAE,MAAM0H,GAAE,WACtB+sB,EAAUlgC,GAEV,IAAIg7B,EAAKviC,EAAEkX,MACPnP,EAAQw6B,EAAG7gC,EAAE2Z,IACbqsB,EAASnF,EAAG7gC,EAAE0gC,IACd1sB,EAAa6sB,EAAG7gC,EAAEkH,IAClBm9B,EAAUxD,EAAG7gC,EAAEimC,IAEnBpF,EAAG7gC,EAAEkmC,GAAarlB,IAClBggB,EAAGp6B,KAAK,YAAao6B,EAAGp6B,KAAK,aAAaD,GAAG,OAAQ,SAErDq6B,EAAG//B,IAAId,EAAE2Z,GAAStT,GAClBw6B,EAAG//B,IAAId,EAAE0gC,GAAcsF,GACvBnF,EAAG//B,IAAId,EAAEkH,GAAS8M,GAClB6sB,EAAG//B,IAAId,EAAEimC,GAAe5B,MAGxB0B,GACAP,EAAa9kC,GAAG4Q,EAAE,eAA2B0H,GAAE,WAC3C2nB,GAAgB1xB,EAAO3Q,EAAEkX,WAMzCiwB,EAAc3/B,GAOlB,SAAS4/B,GAAyBxE,GACF,IAAxBA,EAAK37B,IAAID,IAAI/G,SACb2iC,EAAK1sB,GAAG,IACR3X,EAAYqkC,EAAM,iBAW1B,SAAStzB,KACLyK,GAAgB/Z,EAAE,kBAClB4X,GAAgBmC,IAMpB,SAAS0H,GAAkB9Q,GAEnBA,EAAMjP,EAAE4gB,MAAoBC,GAC5BvI,GAAmBrJ,GAGnBk3B,GAAkBl3B,GAI1B,SAASk3B,GAAkBl3B,GAEvBA,EAAMjP,EAAE4gB,GAAgBC,IACxBhkB,EAAY8iB,GAAiCmB,IAEzC7R,IAAUjS,IAAuB,MAATiS,GACxBA,EAAMnO,IAAIA,IAAI4hB,EAAE,uBAA4BhO,GAAG,UAAUnD,GAAGmF,IAIpE,SAAS4B,GAAmBrJ,GAExBA,EAAMjP,EAAE4gB,GAAgB2T,IACxBr3B,EAAeyiB,GAAiCmB,IAChDrR,KAQJ,SAASkxB,GAAgB1xB,EAAOiyB,GAC5BA,EAAK3xB,KAAKC,IAAG,SAAU7N,GACnB,GAAIsN,EAAMjP,EAAE4gB,MAAoBC,IAAUgZ,GACtC,OAOJ,GAJIuM,KAAyBn3B,GACzBqH,GAAmB+B,IAGnBguB,KAAwBnF,EACxB,OAEJ,IAAIhgB,EAEJ,GAFgBjS,EAAMnO,IAAIA,IAEZd,EAAEwiB,IAAqBlP,GAAG,KACpC,OAGCumB,IACDl4B,EAAM2kC,kBAEV72B,KACA5S,EAAYqkC,EAAMqF,IAElBF,GAAsBnF,EACtBkF,GAAuBn3B,EAEvB,IAAIu3B,EAAW/oC,EAAYwR,EAAM1M,EAAEmX,KAC/B+sB,EAAYhpC,EAAYwR,EAAM1M,EAAEkR,KAEhCizB,EAAYjpC,EAAYyjC,EAAK3+B,EAAEmX,KAC/BitB,EAAalpC,EAAYyjC,EAAK3+B,EAAEkR,KAChCmzB,EAAc33B,EAAMtM,KACpBkkC,EAAY53B,EAAMpM,KAClBikC,EAAkB5F,EAAKv+B,KAAOsM,EAAMtM,KACpCokC,EAAiB7F,EAAKr+B,KAAOoM,EAAMpM,KACnCmkC,EAAe9F,EAAKv+B,KAAQ+jC,EAC5BO,EAAc/F,EAAKr+B,KAAO8jC,EAC1BO,EAAmBV,EAAWM,EAAkBJ,EAChDS,EAAmBV,EAAYM,EAAiBJ,EAGhDS,EAAS9oC,EAAE+oC,0BACfD,EAAO7kC,EAAEgH,GAAQq9B,GACZrkC,EAAEiR,GAAOqzB,GACTtkC,EAAEmX,GAASotB,GACXvkC,EAAEkR,GAAUszB,GACZxkC,EAAE8wB,GAAU,GAGjB,IAAIiU,EAAUhpC,EAAE+oC,2BAChBC,EAAQ/kC,EAAEgH,GAAQy9B,GACbzkC,EAAEiR,GAAOqzB,GACTtkC,EAAEmX,GAASwtB,GACX3kC,EAAEkR,GAAWszB,GACbxkC,EAAE8wB,GAAU,GAGjB,IAAIkU,EAAWjpC,EAAE+oC,4BACjBE,EAAShlC,EAAEgH,GAAQq9B,GACdrkC,EAAEiR,GAAOyzB,GACT1kC,EAAEmX,GAASotB,GACXvkC,EAAEkR,GAAU0zB,GACZ5kC,EAAE8wB,GAAU,GAGjB,IAAImU,EAAYlpC,EAAE+oC,6BAClBG,EAAUjlC,EAAEgH,GAAQy9B,GACfzkC,EAAEiR,GAAOyzB,GACT1kC,EAAEmX,GAASwtB,GACX3kC,EAAEkR,GAAU0zB,GACZ5kC,EAAE8wB,GAAU,GAGjB1tB,YAAW,WAEPuQ,GAAgBmC,IAChBrG,GAAUo1B,GACVp1B,GAAUs1B,GACVt1B,GAAUu1B,GACVv1B,GAAUw1B,KACX,OAOX,SAAS/3B,KACD42B,KAAwBrpC,KAG5BmV,GAAUkG,IAEVnb,EAAempC,GAAqBE,IACpCH,GAAuBppC,IAiB3B,SAASgjB,GAAiB/Q,GAElBA,EAAM1M,EAAEwe,MAAkBC,GAC1BymB,GAAkBx4B,GAGlBy4B,GAAiBz4B,GAIzB,SAASy4B,GAAiBz4B,GACtBpS,EAAY+iB,GAAgCkB,IAC5C5jB,EAAe+R,EAAO,kBACtBpS,EAAYoS,EAAO,gBAKvB,SAASw4B,GAAkBx4B,GACvB/R,EAAe0iB,GAAgCkB,IAC/C5jB,EAAe+R,EAAO,gBACtBpS,EAAYoS,EAAO,kBAevB,SAASqxB,GAAsBrxB,EAAOiyB,EAAMt8B,GACxC,OAAIqK,EAAMjP,EAAE6jC,MAAwBhjB,KAC5BqgB,EAAK5vB,EAAE,4BAA4B/S,OAAS,GAC7C2iC,EAAK3+B,EAAEuiC,MAAiB94B,IACxB27B,GAAwCpP,KAAK3zB,KAE5CqK,EAAMjP,EAAE6jC,GAAoBhjB,IACrBhb,IAERC,GASX,SAAS8hC,GAA0B34B,EAAOixB,EAAI2H,GAG1C,OAFIA,IAAU7qC,KACV6qC,EAAQ54B,EAAMqC,EAAE,kCAA2D4uB,EAAGlgC,EAAE0gC,IAAgB,OAC7FmH,EASX,SAASC,GAA+B74B,EAAOixB,EAAI6H,GAG/C,OAFIA,IAAe/qC,KACf+qC,EAAa94B,EAAMqC,EAAE,iBAA8B4uB,EAAGlgC,EAAE0gC,IAAgB,OACrEqH,EAOX,SAAS5G,GAAwBlyB,GAC7BA,EAAMqC,EAAE,YAAY0H,GAAE,WAClB,IAAIknB,EAAK5hC,EAAEkX,MACPqyB,EAAQ7qC,GACR+qC,EAAa/qC,GACbgrC,EAAW,GAGX9H,EAAG5uB,EAAE,sBAAsB/S,OAAS,IACpCspC,EAAQD,GAA0B34B,EAAOixB,EAAI2H,GAC7CG,GAAYC,uBAIZ/H,EAAG5uB,EAAE,kBAAkB/S,OAAS,IAChCspC,EAAQD,GAA0B34B,EAAOixB,EAAI2H,GAC7CG,GAAYE,qBAIhB,IAAIC,EAASjI,EAAG1rB,MACZ2zB,EAAO70B,GAAG,SAAW60B,EAAO1nB,GAAG,QAC5Byf,EAAGlgC,EAAEkH,MAAalK,IAClBkjC,EAAGlgC,EAAEkH,IAASxG,EAAEsgC,KAAgC,KAC/C1iC,EAAE,eAA4B4hC,EAAGlgC,EAAE0gC,IAAgB,MAAMpvB,EAAE,QAAQoD,KAAKlC,SACxEq1B,EAAQD,GAA0B34B,EAAOixB,EAAI2H,GAC7CG,GAAYhH,uBAIhB6G,IAAU7qC,IAAcgrC,EAASzpC,OAAS,GAC1C1B,EAAYgrC,EAAOG,GAGnB9H,EAAG5uB,EAAE,iBAAiB/S,OAAS,IAC/B1B,EAAYqjC,EAAIkI,IAChBL,EAAaD,GAA+B74B,EAAOixB,EAAI6H,GACvDA,EAAWM,WAAW7Q,KAAK,YAI3B0I,EAAG5uB,EAAE,mBAAmB/S,OAAS,IACjC1B,EAAYqjC,EAAI2E,IAChBkD,EAAaD,GAA+B74B,EAAOixB,EAAI6H,GACvDA,EAAWM,WAAW7Q,KAAK,gBAI3BmQ,GAAwCpP,KAAK2H,EAAG36B,OAChDsiC,EAAQD,GAA0B34B,EAAOixB,EAAI2H,GAC7ChrC,EAAYgrC,EAAOnD,IAGnB4D,GAAsCpI,EAAIyH,IAE1CI,EAAaD,GAA+B74B,EAAOixB,EAAI6H,GAEvDA,EAAW/uB,GAAE,WACT,IAAIuvB,EAAKjqC,EAAEkX,MACPgzB,EAAWD,EAAGhjC,IAAIpJ,EAAEssC,IACpBC,EAAY,KACZC,EAAWtvB,GAKf,GAHAmvB,EAAwB,MAAZA,EAAoBA,EAAS,GAAK,GAG1CD,EAAGvoC,EAAEklC,MAAeloC,GACpB,OAAO6I,GAGXyiC,GAAsCC,EAAIC,GAGzB,QAAbA,GAAmC,MAAbA,GACtBE,EAAYE,GACZD,EAAW1mB,IAGO,QAAbumB,GAAmC,MAAbA,GAAiC,MAAbA,EAC/CE,EAAYG,GAGZN,EAAG9H,MAAM,SAAU,IAGvB8H,EAAGt7B,GAAG,qEAAuEy7B,EAAY,iCACnFA,EAAY,sBAAwBC,EAAW,iBAKzDzI,EAAG39B,EAAEuiC,IAAaxxB,GAAG,OACrBy0B,EAAaD,GAA+B74B,EAAOixB,EAAI6H,GAEvDlrC,EAAYkrC,EAAY,qBAExBA,EAAW/uB,GAAE,WACT,IAAIuvB,EAAKjqC,EAAEkX,MACP5Q,EAAO2jC,EAAGhjC,IAEd,GAAIX,EAAKkkC,WAELP,EAAG/zB,GAAG5N,EACFD,EAAuB4hC,EAAG/zB,QAE9Bu0B,GAAgCR,EAAI3jC,EAAMiB,SAGzC,GAAIjB,EAAKokC,YAAa,CAEvBT,EAAG/zB,GAAG3N,EACFD,EAAqB2hC,EAAG/zB,QAE5B,IAAIy0B,EAAWF,GAAgCR,EAAI3jC,EAAMiB,IACrDqjC,EAAUtkC,EAAKC,EAAE,aAAc,IAC/BskC,EAAetrC,EAAaqrC,EAAQrkC,EAAE,IAAK,KAC3CukC,EAAM,2BACNC,EAAM,2BACNC,EAAU,2BAEd,GAAIL,EAAU,CACV,IAAIM,EAAShB,EAAGhmC,EAAEinC,IAAS3kC,EAAE,MAAO,QACpCukC,EAAMG,EAAO1kC,EAAE,IAAK,WACpBwkC,EAAME,EAAO1kC,EAAE,IAAK,UACpBykC,EAAUC,EAAO1kC,EAAE,IAAK,UAG5B0jC,EAAGhmC,EAAE+iB,GAAc,0BAA4B8jB,EAAM,QAAUC,EAAM,KAAOF,EAAe,EAAIA,EAAe,EAAI,GAC5G,MAAQG,EAAU,IAAMJ,EACxB,iBAAmBA,EAAU,KAC1B3mC,EAAEknC,GAAY,SAEvBlB,EAAG/zB,GAAG+zB,EAAG/zB,KAAK3P,EAAE,KAAM,OAAOA,EAAE,KAAM,aAGhCD,EAAK8kC,eAEVnB,EAAG/zB,GAAG5N,EACFD,EACII,EAAsBwhC,EAAG/zB,SAEjCu0B,GAAgCR,EAAI3jC,EAAMkB,SAMlDo6B,EAAGlgC,EAAEklC,MAAeloC,GACpBkjC,EAAGlgC,EAAEimC,GAAeplB,IAEpBqf,EAAGlgC,EAAEimC,GAAe1R,OAWhC,SAASwU,GAAgCjsC,EAAQ8H,EAAM8Y,GAEnD,GAAIA,EAAM,CACN,GAAI9Y,EAAK0O,GAAG,KAER,OADAzW,EAAYC,EAAQ6sC,IACb9jC,GAEN,GAAIjB,EAAK0O,GAAG,KAEb,OADAzW,EAAYC,EAAQ8sC,IACb/jC,OAIV,CACD,GAAIjB,EAAKlE,EAAE,MAAQ,EAEf,OADA7D,EAAYC,EAAQ6sC,IACb9jC,GAEN,GAAIjB,EAAKlE,EAAE,MAAQ,EAEpB,OADA7D,EAAYC,EAAQ8sC,IACb/jC,GAGf,OAAOC,GAQX,SAASwiC,GAAsCxrC,EAAQ+sC,GACnD/sC,EAAO2jC,MAAMoJ,EAAY,IAoB7B,SAASzI,GAAcnyB,GAEnBpS,EAAYoS,EAAMqC,EAAE,qBAAiCw4B,IAErD,IAAIC,EAAY,EACZC,EAAe,EAInB/6B,EAAMqC,EAAE,kBAAkB0H,GAAE,WACxB,IAAI6nB,EAAKviC,EAAEkX,MACPjE,EAAKsvB,EAAG//B,IACR8D,EAAOi8B,EAAGt7B,IAId,IAAKw7B,GAAoBxI,KAAK3zB,GAI1B,OAHAmlC,EAAY,EACZE,GAAqB1rC,OAAS,EAC9B2rC,GAAoB3rC,OAAS,EACtBsH,GAOX,GAHAmkC,EAAeplC,EAAKlE,EAAEypC,IAAoB,EAGtCH,EAAeD,EAAW,CAC1B,IAAIK,EAAgBL,EACpBA,EAAYC,EAEZK,GAAmB94B,EAAIy4B,EAAgC,IAAlBI,EACjCttB,GAAmBL,KAA6B6tB,KAEpDC,GAAeh5B,EAAIsvB,EAAImJ,OAGtB,CAED,IAAI9mC,EAAQ6mC,EAAYC,EAExB,GAAI9mC,EAAQ,EACR,IAAK,IAAIxC,EAAI,EAAGA,EAAIwC,EAAOxC,IACvBupC,GAAqBO,MACrBN,GAAoBM,MAG5BT,EAAYC,EAEZO,GAAeh5B,EAAIsvB,EAAImJ,OAQnC,SAASS,KACL,OAAOR,GAAqBA,GAAqB1rC,OAAS,GAM9D,SAASmsC,KACL,OAAOR,GAAoBA,GAAoB3rC,OAAS,GAU5D,SAAS8rC,GAAmB94B,EAAIo5B,EAAOvtB,EAAOra,GAgD1C,SAAS6nC,EAAgBC,GACrB,IAAIC,EAAY,GAIhB,OAHAD,EAAU7xB,GAAE,WACR8xB,GAAaxsC,EAAEkX,MAAM/O,KAAK,gBAEvBqkC,EApDX,IAAIC,EAAYx5B,EAAGnS,KACnB4rC,KAGAf,GAAqB9lC,KAAK6mC,IAE1Bd,GAAoB/lC,KAAKpB,GAGzBgoC,EAAU/qC,EAAEirC,GAAgBD,IAC5BD,EAAU/qC,EAAEkrC,GAAcrqB,IAC1BkqB,EAAU/qC,EAAEmrC,GAAiBtqB,IAG7B,IAAIggB,EAAKkK,EAAUr2B,GAAG,YAClB02B,EAAavK,EAAGvvB,EAAE,6BAGlB85B,EAAW7sC,OAAS,EACpB6sC,EAAWlY,GAAGpsB,iCAA2CukC,GAAqB9f,IAE9EsV,EAAG5zB,GAAG,kCAAoCo+B,GAAqB,YAGnEnuC,EAAe2jC,EAAIiJ,IACnBjtC,EAAYgkC,EAAI,sBAChBhkC,EAAYuuC,EAAY,8BAIxB,IAAIE,EAAW,yCACXC,EAAU1K,EAAGvvB,EAAEg6B,GACfE,EAAU3K,EAAGje,QACjBrlB,EAAUiuC,EAAQ92B,GAAG42B,IAErBzK,EAAGrsB,GAAGo2B,EAAgBW,GAAW,YAAcC,EAAQh3B,KAAO,cAG9DqsB,EAAGnsB,GAAG+2B,IAAuBj8B,IAAG,SAAU7N,GACtC+pC,GAAgBX,EAAWppC,MAsBnC,SAAS+pC,GAAgBX,EAAWppC,GAEhCA,EAAM2kC,kBAGFyE,EAAU/qC,EAAEmrC,IAAiB73B,GAAG,KAChCyG,GAAcgxB,GAEdY,GAAeZ,GAGnBt7B,KASJ,SAAS8S,GAAiBtT,EAAOyO,GAC7B,OAAIzO,EAAMjP,EAAE8gC,MAAoBjgB,GACrB/a,IAEXmJ,EAAMqC,EAAEm6B,IAAuBzyB,GAAE,WAC7B,IAAI+xB,EAAYzsC,EAAEkX,MAAM1U,IAAIA,IACxBiqC,EAAU/qC,EAAEmrC,MAAqBtqB,IACjC9G,GAAcgxB,EAAWrtB,MAE1B7X,IASX,SAASud,GAAkBnU,EAAOyO,GAC9B,OAAIzO,EAAMjP,EAAE8gC,MAAoBjgB,GACrB/a,IAGXmJ,EAAMqC,EAAE,yBAAiC0H,GAAE,WACvC,IAAI+xB,EAAYzsC,EAAEkX,MAAM1U,IAAIA,IAC5BvF,EAAImiB,EAAMqtB,EAAU/qC,EAAE4rC,IAAoBb,EAAU/qC,EAAEmrC,KAClDztB,IAAS9I,GACLm2B,EAAU/qC,EAAE4rC,MAAuBh3B,IAAUm2B,EAAU/qC,EAAEmrC,MAAqB5W,IAC9EoX,GAAeZ,GAGfA,EAAU/qC,EAAEmrC,MAAqBtqB,IACjC8qB,GAAeZ,MAGpBllC,IAOX,SAASsd,GAAermB,GACpBA,EAAOud,WAAWymB,IAClBhkC,EAAOwU,EAAE,0BAAoC+I,WAAWwxB,IAS5D,SAAStB,GAAeh5B,EAAIsvB,EAAI8J,GAE5B9J,EAAGJ,MAAMqL,GAA6B,IAGtCv6B,EAAGvR,EAAE6rC,GAAsBpB,MAE3B5J,EAAG7gC,EAAEqhC,GAAkBsJ,GAEvBztC,EAAe2jC,EAAIiJ,IACnBjtC,EAAYgkC,EAAIkE,IAEhBxzB,EAAGhP,EAAEwpC,GAAmBrB,MAGxB,IAAK,IAAIhqC,EAAI,EAAGA,EAAIiqC,EAAOjqC,IAAK,CAC5B,IAAIsrC,EAAUnL,EAAGvvB,EAAE,6BACf26B,EAAW,8CACXD,EAAQztC,OAAS,EACjBytC,EAAQ9Y,GAAG+Y,GAEXpL,EAAG5zB,GAAGg/B,GAId16B,EAAGhP,EAAEyoB,GAAWtiB,gBAQpB,SAASqR,GAAcgxB,EAAWrtB,GAE9B,IAAI4I,EAAKykB,EAAU/qC,EAAEirC,IACjBh8B,EAAQ87B,EAAUjqC,IAAIA,IACtBorC,EAAUj9B,EAAMqC,EAAE,0BAAsCgV,EAAK,MAC7D6lB,EAAepB,EAAUr2B,GAAG,YAAYA,GAAG+2B,yBAE/CV,EAAU/qC,EAAEmrC,GAAiB5W,IACzB7W,IAAS1gB,IACT+tC,EAAU/qC,EAAE4rC,GAAmBluB,GACnCyuB,EAAa1lC,KAAK,YAAa2lC,IAC/BF,EAAQ3pC,EAAEyoB,GAAW,IAGrB,IAAIqhB,EAAQp9B,EAAMqC,EAAE,uBACS,UAAzBrC,EAAMjP,EAAEwgC,KAERuK,EAAUz5B,EAAE,wBAAwB0H,GAAE,WAClC,IAAI6nB,EAAKviC,EAAEkX,MACP82B,EAASzL,EAAGrsB,KAAKlP,IACrB,GAAsB,IAAlBgnC,EAAO/tC,QAA2B,WAAX+tC,EAAqB,CAC5C,IAAIC,EAAQ1L,EAAG7gC,EAAE0gC,IACbR,EAAKmM,EAAM/6B,EAAE,iBAA8Bi7B,EAAQ,MAAM/3B,KAE7D,GAAI0rB,IAAOljC,GAAY,CACnB,IAAIwvC,EAAYH,EAAMjtC,KAClBotC,IAAcxvC,KACdkjC,EAAKsM,EAAUl7B,EAAE,iBAA8Bi7B,EAAQ,MAAM/3B,MAGrEqsB,EAAGrsB,GAAG0rB,GACNrjC,EAAYgkC,EAAI4L,QAUhC,SAASd,GAAeZ,GAEpB,IAAIzkB,EAAKykB,EAAU/qC,EAAEirC,IACjBiB,EAAU5tC,EAAE,0BAAsCgoB,EAAK,MACvD6lB,EAAepB,EAAUr2B,GAAG,YAAYA,GAAG+2B,yBAgB3Cx8B,EAdJ87B,EAAU/qC,EAAEmrC,GAAiBtqB,IAC7BkqB,EAAU1wB,WAAWuxB,IACrBO,EAAa1lC,KAAK,YAAa4kC,IAG/Ba,EAAQlzB,GAAE,WACN,IAAIzH,EAAKjT,EAAEkX,MACPk3B,EAASn7B,EAAGvR,EAAEkrC,IACdwB,IAAW1vC,IAAc0vC,EAAOp5B,GAAG,MACnCq4B,GAAep6B,GACnBA,EAAGhP,EAAEyoB,GAAWtiB,mBAKS,UADjBqiC,EAAUjqC,IAAIA,IAChBd,EAAEwgC,KAERuK,EAAUz5B,EAAE,wBAAwB0H,GAAE,WAClC,IAAI6nB,EAAKviC,EAAEkX,MAEPqrB,EAAG7gC,EAAEkH,IAASxG,EAAE+rC,KAAoB,IACpC5L,EAAGrsB,GAAG,IACNtX,EAAe2jC,EAAI4L,QASnC,SAAS5+B,KACDS,GAAIC,OAAOC,OACXlQ,EAAEmtC,IAAuBt2B,KAEzBC,GAAe9W,EAAEmtC,KAUzB,SAASnK,GAAgBryB,GACrB,IAAI09B,EAAc19B,EAAMjP,EAAE8gC,MAAoBjgB,GAI9C,GADA5R,EAAMjP,EAAEwgC,GAAamM,EAAc,QAAU,QACzCA,EACA,OAGJ,IAAI3I,EAAW,EACX4I,EAAW,GAAK5I,EAChBqI,EAAQp9B,EAAMqC,EAAE,YAChBu7B,EAAe,EACfC,EAAmB,EACnBC,EAAQ99B,EAAMqC,EAAE,YAChBgyB,EAAWyJ,EAAMxuC,OAErBwuC,EAAM/zB,GAAE,WACJ,IAAIzH,EAAKjT,EAAEkX,MACPqrB,EAAKtvB,EAAGmD,GAAG,eAcf,GAXImsB,EAAGtiC,OAAS,GACZsiC,EAAG7nB,GAAE,WACD,IAAIg0B,EAAUvvC,EAAYa,EAAEkX,MAAMxV,EAAEilC,KAChC+H,EAAUH,IACVA,EAAeG,EAAU,GAE7BF,EAAmBD,EAAe,KAKrB,IAAjBA,GAAsB7I,GAAY4I,EAAWE,EAAmB,IAAO,GACpE9I,EAAWV,EAAU,CACpB,IAAIxD,EAAW,EACfuM,EAAMrzB,GAAE,WACJzH,EAAG2hB,GAAG50B,EAAEkX,MAAM/O,KAAK,aAAaD,GAAG,OAAQ,SAC3C3J,EAAY0U,EAAGmR,IAAIhO,GAAG,MAAO+3B,IAEzB5vC,EAAY0U,EAAGmR,IAAIhO,GAAG,kBADT,IAAborB,EAC8C,QAEA,aAClDvuB,EAAKA,EAAGmR,IAER7lB,EAAY0U,EAAI,iBAEhBuuB,OAGZkE,IAGI6I,EAAe,EACfA,IAGAC,EAAmB,KAe/B,SAASz/B,KAyKL,SAAS4/B,EAAeC,EAAW56B,GAC/B,IAAIoS,EAAO,CACP,gBACA,gDACFzd,IAGEkmC,EAAWztC,EAAyB4S,GAAe,SACnD86B,EAAO1tC,EAAyB4S,GAAW,KAC3C+6B,EAAU3tC,EAAyB4S,GAAc,QAGrD46B,EAAU1V,KAAK,eAAiBllB,EAAM,KAAOoS,EAAO,YACpD,IAAI4oB,EAAQJ,EAAUpsC,IAStB,OAPAvD,EAAU2vC,GAGNC,IAAanwC,IAAYswC,EAAMttC,EAAEutC,GAAYA,IAC7CH,IAASpwC,IAAYswC,EAAMttC,EAAEwtC,GAAQA,IACrCH,IAAYrwC,IAAYswC,EAAMttC,EAAEytC,GAAW74B,IAExC04B,EAQX,SAASI,EAAOC,EAAML,GAClB,IAAIM,EAAWtvC,EAAEqvC,GAGbL,EAAMO,OACNP,EAAMQ,QAINF,EAASp5B,GAAGu5B,IACZ7wC,EAAe0wC,EAAUI,IACzBV,EAAMW,QAGFL,EAAS5tC,EAAEkuC,MAAiBlxC,KAC5BswC,EAAM19B,YAAc,IApNhCtR,EAAE,iLACuF0a,GAAE,WAwJvF,SAASm1B,EAAmB7nB,EAAInmB,GAE5BwyB,GAAoBrM,EAAI,cAAgB,CACpC,SACA,wBACFrf,IAAa,cAAgB9G,GA5JnC,IAAI+sC,EAAY5uC,EAAEkX,MACd83B,EAAQtwC,GACRsV,EAAM46B,EAAUltC,EAAEqc,IAClB6E,EAAYgsB,EAAUpsC,IACtBstC,EAAS1uC,EAAyB4S,GAGlC87B,EAAiB,WAAMphC,IACvBqhC,KAGAf,EAAQL,EAAeC,EAAW56B,GAElCg7B,EAAMttC,EAAE8yB,GAAM,mBAAqBub,IAGnCf,EAAMpa,GAAG,4BAA8Bmb,GAA9B,aAAA,uBACoCA,GACvC,kCAAoCnhC,IAG1CogC,EAAMgB,KAAK,aAAa,WACpB,IAAIV,EAAWtvC,EAAE,IAAMA,EAAEkX,MAAMxV,EAAE8yB,IAAQ,YACzCj2B,EAAY+wC,EAAUW,IACtB1xC,EAAY+wC,EAAUY,IACtBZ,EAASp5B,GAAGi6B,OAIhBnB,EAAMgB,KAAK,WAAW,WAClB,IAAIV,EAAWtvC,EAAE,IAAMA,EAAEkX,MAAMxV,EAAE8yB,IAAQ,YACzC51B,EAAe0wC,EAAUY,IAGzBZ,EAASr+B,KAAKC,IAAG,WACbk+B,EAAOl4B,KAAM83B,EAAM,OAEvBM,EAASp5B,GAAGu5B,IACZH,EAAS5tC,EAAEkuC,GAAaE,EAAc,OAGtC,IAAIM,EAAMN,EAAiB,SAC3B,GAAIM,IAAQ1xC,IAAc0xC,EAAIp7B,GAAG,KAAM,CACnC,IAAIq7B,EAAOrB,EAAMttC,EAAE4uC,IACnB,GAAID,IAAS3xC,KAAe2xC,EAAKr7B,GAAG,KAAM,CAEtC,IAAIu7B,EAAWvB,EAAM,GAAGuB,SACpBC,EAAMhxC,KAAKye,MAAMsyB,EAAW,IAC5B/vB,EAAMhhB,KAAKye,MAAMsyB,EAAkB,GAANC,GAC7BC,EAASD,EAAM,EAAIA,EAAM,IAAM,GACnCxB,EAAM5qB,IAAIwQ,GAAG,iCAAmC6b,EAASjwB,EAAM,WAC/DwuB,EAAMttC,EAAE4uC,GAAgB/tB,SAMpCysB,EAAMgB,KAAKN,IAAW,WAClB,IAAIJ,EAAWtvC,EAAE,IAAMA,EAAEkX,MAAMxV,EAAE8yB,IAAQ,YACrCmb,EAAQL,EAAS5tC,EAAEkuC,IAEvBrxC,EAAY+wC,EAAUW,IACtB1xC,EAAY+wC,EAAUI,IAGlBC,IAAUjxC,IAAcixC,EAAM36B,GAAG,KACjCs6B,EAASp5B,GAAGw6B,KAIZpB,EAASp5B,GAAGy6B,IACZ3B,EAAM19B,YAAc,MAK5B09B,EAAMgB,KAAK,SAAS,WAChB,IAAIV,EAAWtvC,EAAE,IAAMA,EAAEkX,MAAMxV,EAAE8yB,IAAQ,YACzC8a,EAASp5B,GAAGu5B,IACZ7wC,EAAe0wC,EAAUI,OAI7BV,EAAMgB,KAAKY,IAAW,WAClB,IAAI5oB,EAAKhoB,EAAEkX,MAAMxV,EAAE8yB,IAAQ,WACvB8a,EAAWtvC,EAAE,IAAMgoB,GACvBppB,EAAe0wC,EAAUY,IACzBZ,EAASp5B,GAAG26B,IACZtyC,EAAY+wC,EAAUW,IACtB1xC,EAAY+wC,EAAU9iB,IAEtBqjB,EAAmB7nB,EAAIsnB,EAAS5tC,EAAE43B,QAItC0V,EAAMgB,KAAKvb,IAAS,WAChBua,EAAM/7B,GAAG29B,OAIb5B,EAAMh4B,OAAM,WACR,IAAIC,EAAMjX,EAAEkX,OACyB,IAAjCD,EAAGvV,EAAEkH,IAASxG,EAAEoqB,KAChBjuB,EAAY0Y,EAAIE,OACrB,WACCvY,EAAeoB,EAAEkX,MAAOC,SAK5BuiB,KAGqC,MAAjC14B,EAAkB4hB,KAClBgsB,EAAU1V,KAAK,WACftW,EAAYgsB,EAAUpsC,KAG1BogB,EAAUlhB,EAAEs0B,GAAiB,SAC7Bz3B,EAAYqkB,EAAWE,IAGvByW,GAAuCqV,EAAW/xB,IAGlDmyB,EAAQL,EAAeC,EAAW56B,GAElCg7B,EAAMttC,EAAEovC,GAAYA,IAGhB9B,EAAM5qB,EAAE2sB,IAAY9wC,OAAS,GAC7B+uC,EAAM/qC,EAAE+sC,GAAgB,SAG5BhC,EAAMgB,KAAKY,IAAW,WAElBf,EAAmBb,EAAMxsC,IAAId,EAAE8yB,IAAOwa,EAAMxsC,IAAId,EAAE43B,QAItD0V,EAAMgB,KAAKvb,IAAS,WAChBua,EAAM/7B,GAAG29B,WA+EzB,SAAS5hC,KA0CL,SAAS6gC,EAAmB7nB,EAAInmB,GAE5BwyB,GAAoBrM,EAAI,cAAgB,CACpC,SACA,wBACFrf,IAAa,cAAgB9G,GAQnC,SAASovC,EAAeC,EAAWl9B,GAC/B,IAAIoS,EAAO,CACP,gBACA,gDACFzd,IAGEkmC,EAAWztC,EAAyB4S,GAAe,SACnD86B,EAAO1tC,EAAyB4S,GAAW,KAC3C+6B,EAAU3tC,EAAyB4S,GAAc,QACjDwR,EAAQpkB,EAAyB4S,GAAY,MAC7CyR,EAASrkB,EAAyB4S,GAAa,OAGnDk9B,EAAUhY,KAAK,eAAiBllB,EAAM,KAAOoS,EAAO,YACpD,IAAI+qB,EAAQD,EAAU1uC,IActB,OAZAvD,EAAUiyC,GAGVC,EAAMzvC,EAAEovC,GAAYA,IAGhBjC,IAAanwC,IAAYyyC,EAAMzvC,EAAEutC,GAAYA,IAC7CH,IAASpwC,IAAYyyC,EAAMzvC,EAAEwtC,GAAQA,IACrCH,IAAYrwC,IAAYyyC,EAAMzvC,EAAEytC,GAAW74B,IAC3CkP,IAAU9mB,IAAYyyC,EAAMzvC,EAAE0Z,GAASoK,GACvCC,IAAW/mB,IAAYyyC,EAAMzvC,EAAEyT,GAAUsQ,GAEtC0rB,EAlFXnxC,EAAE,4JACiF0a,GAAE,WACjF,IAAIw2B,EAAYlxC,EAAEkX,MACdi6B,EAAQzyC,GACRsV,EAAMk9B,EAAUxvC,EAAEqc,IAClB6E,EAAYsuB,EAAU1uC,IAC1Bm3B,KAGqC,MAAjC34B,EAAkB4hB,KAClBsuB,EAAUhY,KAAK,WACftW,EAAYsuB,EAAU1uC,KAG1BogB,EAAUlhB,EAAEs0B,GAAiB,SAC7Bz3B,EAAYqkB,EAAWE,IAGvByW,GAAuC2X,EAAWp0B,IAGlDq0B,EAAQF,EAAeC,EAAWl9B,GAGlCm9B,EAAMnB,KAAKY,IAAW,WAElBf,EAAmBsB,EAAM3uC,IAAId,EAAE8yB,IAAO2c,EAAM3uC,IAAId,EAAE43B,QAItD6X,EAAMnB,KAAKvb,IAAS,WAChB0c,EAAMl+B,GAAG29B,UA+DrB,SAAS9nB,GAAUtqB,EAAQwpB,EAAIopB,GAC3B,IAAIzyB,EAAIzH,KAERyH,EAAE1J,GAAKvW,GACPigB,EAAE6I,KAAO9oB,GACTigB,EAAE7S,MAAQpN,GACVigB,EAAEG,MAAQpgB,GACVigB,EAAE0yB,OAAS3yC,GAEXigB,EAAE2yB,UAAY,GACd3yB,EAAE4yB,kBAAoB,KAEtB5yB,EAAEmN,SAAWtkB,GAGbmX,EAAEmL,QAAUprB,GACZigB,EAAE2L,QAAU5rB,GACZigB,EAAE8L,OAAS/rB,GACXigB,EAAE6yB,UAAY9yC,GACdigB,EAAE8yB,SAAW/yC,GACbigB,EAAE+L,WAAahsB,GACfigB,EAAE+yB,SAAWhzC,GAQbigB,EAAEgzB,WAAa,SAAUnzC,EAAQwpB,EAAIopB,GAsFjC,SAASQ,IACL,IAAIxzC,EAAQugB,EAAE7S,MAAME,MAAMhF,IACZ,KAAV5I,GACAugB,EAAEG,MAAMtS,OAGJmS,EAAE0yB,SAAW3yC,KAAoD,IAAtCigB,EAAE0yB,OAAO3vC,EAAEkH,IAASxG,EAAEuV,MACjD/Y,EAAe+f,EAAE0yB,OAAQ15B,IACzBN,GAAiBsH,EAAE0yB,WAIvB1yB,EAAEG,MAAM3S,OAGJwS,EAAE0yB,SAAW3yC,KAAoD,IAAtCigB,EAAE0yB,OAAO3vC,EAAEkH,IAASxG,EAAEuV,MACjDpZ,EAAYogB,EAAE0yB,OAAQ15B,IACtBgH,EAAE0yB,OAAOr6B,OAAM,WACX2H,EAAEkzB,YAAYtqC,OACf,WACCoX,EAAEkzB,YAAYrqC,gBAKnBmX,EAAS,UAAM0M,IAAc1M,EAAEmL,QAAQnL,EAAE7S,MAAO1N,GA7G3D,IAAI6W,EAAK,2BAA6B+S,EAA7B,yDAAA,kFAAA,wCAKHzS,GAAgB,gBAAiB,GAAI,GAAI,SACzC3G,GAAaA,GACfwiC,GACA5yC,EAAO8P,GAAG2G,GACV0J,EAAE1J,GAAKzW,EAAO4X,GAAG,gBAAkB4R,KAGnCxpB,EAAOo2B,GAAG3f,GACV0J,EAAE1J,GAAKzW,EAAOgE,IAAI4T,GAAG,gBAAkB4R,IAI3CrJ,EAAE7S,MAAQ6S,EAAE1J,GAAGmB,GAAG,SAClBuI,EAAEG,MAAQH,EAAE1J,GAAGmB,GAAG,sBAKlBuI,EAAE7S,MAAMuF,GAAG,SAAS,WAE0B,UAAtCrR,EAAEkX,MAAM/O,KAAK,sBACbypC,OAKRjzB,EAAE7S,MAAMuF,GAAG,oBAAoB,WAC3BrR,EAAEkX,MAAM/O,KAAK,oBAAqB,YAKtCwW,EAAE7S,MAAMuF,GAAG,kBAAkB,WACzBrR,EAAEkX,MAAM/O,KAAK,oBAAqB,UAKtCwW,EAAE7S,MAAMuF,GAAG,YAAY,SAAUhO,GAC7BuuC,OAKJjzB,EAAE7S,MAAMC,OAAM,WAOV,SAAS+lC,IACqC,UAAtCnzB,EAAE7S,MAAM3D,KAAK,sBAAoCwW,EAAE2yB,YAAc3yB,EAAE7S,MAAME,QACzEsU,aAAa3B,EAAE4yB,mBACf5yB,EAAE4yB,kBAAoB,KACtB5yB,EAAE2yB,UAAY3yB,EAAE7S,MAAME,MACtB4lC,KAEJjzB,EAAE4yB,kBAAoBlqC,WAAWyqC,EAAwB,KAb7DnzB,EAAEmN,SAAWvkB,GAEbhJ,EAAYogB,EAAE1J,GAAI88B,IAClBD,WAaOnzB,EAAS,UAAM0M,IAAc1M,EAAE2L,QAAQ3L,EAAE7S,UAKpD6S,EAAE7S,MAAMkmC,MAAK,WACTrzB,EAAEmN,SAAWtkB,GAEb5I,EAAe+f,EAAE1J,GAAI88B,IACrBzxB,aAAa3B,EAAE4yB,mBACf5yB,EAAE4yB,kBAAoB,YAEf5yB,EAAQ,SAAM0M,IAAc1M,EAAE8L,OAAO9L,EAAE7S,UAqClD6S,EAAE7S,MAAMkkC,KAAK,WAAW,SAAU3sC,GAC9B,IAAIgV,EAAOhV,EAAMiV,SAAWjV,EAAMkV,OAASlV,EAAMmV,SAC7Cpa,EAAQugB,EAAE7S,MAAME,MAEhBuN,GAAU,EACd,OAAQlB,GACJ,KAAK,GACGsG,EAAE0yB,SAAW3yC,IACbigB,EAAE0yB,OAAOp+B,GAAGmF,IAChBmB,GAAU,SACHoF,EAAY,aAAM0M,IAAc1M,EAAE+L,WAAW/L,EAAE7S,MAAO1N,GAC7D,MACJ,KAAK,GAEoB,IAAjBA,EAAM6B,OACN0e,EAAE7S,MAAMkmC,OAGRrzB,EAAEG,MAAM7L,GAAGmF,IACfmB,GAAU,SACHoF,EAAU,WAAM0M,IAAc1M,EAAE+yB,SAAS/yB,EAAE7S,OAClD,MAGJyN,GACAlW,EAAMmW,wBAGHmF,EAAW,YAAM0M,IAAc1M,EAAE6yB,UAAU7yB,EAAE7S,MAAO1N,EAAOia,MAMtEsG,EAAEG,MAAM7N,KAAKC,IAAG,WACZyN,EAAE7S,MAAME,IAAI,IACZ2S,EAAE7S,MAAMI,SACRyS,EAAEG,MAAMtS,OAEJmS,EAAE0yB,SAAW3yC,KAAoD,IAAtCigB,EAAE0yB,OAAO3vC,EAAEkH,IAASxG,EAAEuV,MACjD/Y,EAAe+f,EAAE0yB,OAAQ15B,IACzBN,GAAiBsH,EAAE0yB,gBAGhB1yB,EAAS,UAAM0M,IAAc1M,EAAEmL,QAAQnL,EAAE7S,MAAO,QAO/D6S,EAAEszB,MAAQ,WACNtzB,EAAEG,MAAM7L,GAAGmF,KAOfuG,EAAEgL,QAAU,SAAUnC,GAClB7I,EAAE6I,KAAO7I,EAAE1J,GAAGmB,GAAG,qBACjBuI,EAAE6I,KAAKtR,GAAGsR,GACV7I,EAAE6I,KAAKrb,QAOXwS,EAAEuzB,UAAY,SAAU1qB,GACpB7I,EAAE0yB,OAAS1yB,EAAE1J,GAAGmB,GAAG,uBACnBuI,EAAE0yB,OAAOn7B,GAAGsR,GACZ7I,EAAE0yB,OAAOllC,OAETwS,EAAE0yB,OAAOr6B,OAAM,WACX2H,EAAEkzB,YAAYtqC,OACf,WACCoX,EAAEkzB,YAAYrqC,OAElBmX,EAAE0yB,OAAOpgC,KAAKC,IAAG,WACb,IAAI9S,EAAQugB,EAAE7S,MAAME,MAEhB5N,EAAM6B,OAAS,GACf0e,EAAE7S,MAAMI,gBAGLyS,EAAU,WAAM0M,IAAc1M,EAAE8yB,SAAS9yB,EAAE7S,MAAO1N,OAQjEugB,EAAEkzB,YAAc,SAAUM,GAClBA,GACA5zC,EAAYogB,EAAE0yB,OAAQl6B,KACoB,IAAtCwH,EAAE0yB,OAAO3vC,EAAEkH,IAASxG,EAAEuV,KACtBpZ,EAAYogB,EAAE1J,GAAIm9B,MAGtBxzC,EAAe+f,EAAE0yB,OAAQl6B,IACzBvY,EAAe+f,EAAE1J,GAAIm9B,MAQ7BzzB,EAAEkL,YAAc,SAAUvjB,GACtBqY,EAAE7S,MAAMpK,EAAE2wC,GAAe/rC,IAM7BqY,EAAExS,KAAO,WACLwS,EAAE1J,GAAG9I,QAMTwS,EAAEnS,KAAO,WACLmS,EAAE1J,GAAGzI,QAOTmS,EAAEgN,SAAW,SAAUnG,GACnB7G,EAAE1J,GAAGhR,EAAEmX,GAASoK,GAChB7G,EAAE7S,MAAM7H,EAAEmX,GAASoK,GACZ7G,EAAEG,MAAMxa,IAA8C,EAAxCnF,EAAYwf,EAAEG,MAAM7a,EAAEuS,OACpCmI,EAAE6I,OAAS9oB,GAAa,EAAIigB,EAAE6I,KAAKljB,IAA6C,EAAvCnF,EAAYwf,EAAE6I,KAAKvjB,EAAEuS,OAC9DmI,EAAE0yB,SAAW3yC,GAAa,EAAIigB,EAAE0yB,OAAO/sC,IAA+C,EAAzCnF,EAAYwf,EAAE0yB,OAAOptC,EAAEuS,OACvEmI,EAAE6I,OAAS9oB,IACXH,EAAYogB,EAAE7S,MAAO,aAI7B6S,EAAEgzB,WAAWnzC,EAAQwpB,EAAIopB,GAK7B,SAASkB,GAAsBtoB,GAC3B,IAAIrL,EAAIzH,KACRyH,EAAE4zB,MAAQ,EACV5zB,EAAEqL,OAASA,EAEXrL,EAAE6zB,SAAW,WACT,GAAI7zB,EAAEqL,OAAOlX,WACT,OAEJ,IAAI2/B,EAAM9zB,EAAEqL,OAAO5T,GAAG,YAClBzT,EAAO8vC,EAAIC,GAAG/zB,EAAE4zB,OAIpB,OAHA5zB,EAAE4zB,QACE5zB,EAAE4zB,OAASE,EAAIxyC,SACf0e,EAAE4zB,MAAQ,GACP5vC,GAGXgc,EAAEG,MAAQ,WACNH,EAAE4zB,MAAQ,GAWlB,SAASppB,GAAWwpB,EAAQC,GACxB,IAAIj0B,EAAIzH,KACRyH,EAAE1J,GAAK,CACH2S,MAAQ5nB,EAAE,0BACV0D,KAAO1D,EAAE,uBACTgqB,OAAShqB,EAAE,iCAGf2e,EAAEg0B,OAASA,EAEXh0B,EAAExc,EAAI,GAEF5B,MAAgB7B,IAChBigB,EAAExc,EAAE0D,KAAK,mBAEb8Y,EAAEqM,oBAAsB,EACxBrM,EAAEmM,YAAcpsB,GAEhBigB,EAAEk0B,UAAY,GACdl0B,EAAEm0B,iBAAmBp0C,GACrBigB,EAAEo0B,gBAAkB,EAEpBp0B,EAAEq0B,iBAAmB,EAErBr0B,EAAEoL,UAAY,IAAIuoB,GAAsB3zB,EAAE1J,GAAG+U,QAG7CrL,EAAE+K,iBAAmBhrB,GAGrBigB,EAAE6I,KAAO,CAELsO,OAAS,2HAETmd,OAAS,4HAIbt0B,EAAE1J,GAAGvR,KAAKhC,EAAEwxC,GAAoB,CACxB,UACA,wBACFvqC,KAMNgW,EAAEoJ,SAAW,WACT,MAAO,WAMXpJ,EAAElO,aAAe,WACb,OAAQkO,EAAE1J,GAAGvR,KAAK0S,KAAKnW,OAAS,GAMpC0e,EAAEpO,iBAAmB,WACbP,GAAIC,OAAOC,OACXlQ,EAAEmzC,IAAgBt8B,KAElBC,GAAe9W,EAAEmzC,MAOzBx0B,EAAEpT,IAAM,SAAU5I,GACdgc,EAAEg0B,OAAOtrB,KAAKe,IAAIlR,KAAM3P,IAGxB,IAAI7F,EAAIiB,EAAKyT,GAAG,KACZlY,EAAOwD,EAAEA,EAAEkZ,IACf+D,EAAExc,EAAE0D,KAAK3H,EAAKoE,EAAE,EAAGpE,EAAK+B,SAGxB0C,EAAKjB,EAAE8yB,GAAM,aAAe7xB,EAAKjB,EAAE0xC,KACnCzwC,EAAKjB,EAAE2xC,GAAY,KACnB1wC,EAAKjB,EAAE4xC,GAAcrd,IACrBtzB,EAAKjB,EAAEC,GAASD,EAAEuF,IAAID,KAGtBtF,EAAEkzB,GAAGlzB,EAAEuF,KACPvF,EAAEuF,EAAE,IAGJtE,EAAKsO,KAAKC,IAAG,WAET,IAAI5S,EACJmJ,EADWzH,EAAE,IAAM2C,EAAKjB,EAAE8yB,KAAOpe,GAAG,KAAK1U,EAAEkZ,YAIpC+D,EAAEg0B,OAAoB,gBAAMtnB,IAAc1M,EAAEg0B,OAAOhoB,mBAM9D3qB,EAAE,yBAA2B2C,EAAKjB,EAAE0xC,IAC9B,gCAAkCxkC,IAAY2kC,aAAa5wC,EAAKqQ,EAAE,MAGxE,IAAIipB,EAAKa,GAA+Bn6B,EAAKjB,EAAEkH,KAC/C,GAAI+V,EAAEm0B,mBAAqBp0C,GAAY,CAEnC,GAAIu9B,EAAKtd,EAAEo0B,gBAAiB,CAExBp0B,EAAEk0B,UAAUhtC,KAAK8Y,EAAEm0B,kBAGnB,IAAI1E,EAASzvB,EAAEm0B,iBAAiB58B,GAAGyI,EAAE6I,KAAKyrB,QACtCO,EAAepF,EAAO5rC,IAC1BgxC,EAAa9xC,EAAE2xC,GAAY,KAC3BG,EAAa9xC,EAAE4xC,GAAcrd,IAG7BmY,EAAOn9B,KAAKC,IAAG,SAAU7N,GACrBA,EAAM2kC,kBAEN,IAAIhgB,EAAKhoB,EAAEkX,MAAM1U,IAAId,EAAE8yB,IACvB7V,EAAE80B,YAAYzrB,EAAKhoB,EAAE,IAAMgoB,GAAItmB,EAAE4xC,IAAct+B,GAAG,KAAQ,IAAM,IAAKzN,YAKpE00B,EAAKtd,EAAEo0B,iBACZp0B,EAAEk0B,UAAU3G,MAGZvtB,EAAEk0B,UAAU5yC,OAAS,GACrB0C,EAAKjB,EAAEgyC,GAAW/0B,EAAEk0B,UAAUl0B,EAAEk0B,UAAU5yC,OAAS,GAAGuC,IAAId,EAAE8yB,KAIpE7V,EAAEm0B,iBAAmB9yC,EAAE,iBAAmB2C,EAAKjB,EAAE0xC,KACjDz0B,EAAEo0B,gBAAkB9W,GAMxBtd,EAAE1M,YAAc,SAAUlO,GA6DtB,SAAS4vC,EAAiB3rB,GAEtBrJ,EAAE80B,YAAYzrB,EAAI,IAAKzgB,IAEvB,IAAI5E,EAAO3C,EAAE,IAAMgoB,GACfjnB,EAAU4B,EAAKwF,KAAKC,IACpBrH,IAAYrC,IAA8B,OAAhBqC,EAAQ6B,KAClC+wC,EAAiBhxC,EAAKjB,EAAEgyC,KA/DhC,GAFI3vC,IAAcrF,KACdqF,EAAY/D,EAAEyB,UAAUsC,aACxBvE,KAAKqS,IAAI9N,EAAY4a,EAAEq0B,kBAAoB,GAC3C,OAEJr0B,EAAEq0B,iBAAmBjvC,EAKrB,IAAI0oB,EAAS9N,EAAExc,EAAElC,OAAS,EAC1B,IAAK,IAAImC,EAAI,EAAGwD,EAAM+Y,EAAExc,EAAElC,OAAQmC,EAAIwD,EAAKxD,IAAK,CAC5C,IAAImQ,EAAWvC,GAAIoD,QAAQC,QAEjBzT,EAAa+e,EAAExc,EAAEC,IADjBuc,EAAExc,EAAEC,GAEV5D,EAASwB,EAAE,IAAMJ,EAAa2S,IAC9BqhC,EAAep1C,EAAO2D,IAE1B,GAAK3D,EAAO+F,KAAOvE,EAAEyB,UAAUsC,YAA+B,EAAf6vC,EAAmB,CAC9DnnB,EAASrqB,EAAI,EACb,OAKJuc,EAAEqM,qBAAuByB,IAI7B9N,EAAEqM,mBAAqByB,EAGnB9N,EAAEwM,aAIExM,EAAEmM,cAAgBpsB,IAClBE,EAAe+f,EAAEmM,YAAaC,IAElCpM,EAAEmM,YAAc9qB,EAAE,uBAAyB2e,EAAExc,EAAEsqB,GAAU,MAAMjqB,IAC/DjE,EAAYogB,EAAEmM,YAAaC,IAGvBpM,EAAEmM,YAAYhY,YACd6gC,EAAiBh1B,EAAEmM,YAAYppB,EAAEgyC,KAGrC/0B,EAAEuL,0BAICvL,EAAkB,mBAAM0M,IAAc1M,EAAE+K,qBAqBnD/K,EAAEuL,gBAAkB,WAChB,GAAIvL,EAAEmM,cAAgBpsB,IAAcigB,EAAEmM,YAAYtC,QAAU9pB,GACxD,OAGJ,MAAMm1C,EAA6B,EAApBl1B,EAAEmM,YAAY3oB,IACzB2xC,EAAOn1B,EAAE1J,GAAGvR,KAAKK,YACjBgwC,EAAUD,EAAOn1B,EAAE1J,GAAGvR,KAAKvB,IAG3Bwc,EAAEmM,YAAYtC,MAAMoP,IAAMkc,EAC1Bn1B,EAAE1J,GAAGvR,KAAKK,UAAU4a,EAAEmM,YAAYtC,MAAMoP,KAEnCjZ,EAAEmM,YAAYtC,MAAMoP,IAAOmc,EAAUF,GAC1Cl1B,EAAE1J,GAAGvR,KAAKK,UAAU4a,EAAEmM,YAAYtC,MAAMoP,IAAMjZ,EAAE1J,GAAGvR,KAAKvB,IAAM0xC,IAMtEl1B,EAAEwM,SAAW,WACT,OAAOxM,EAAEqM,oBAAsB,GAMnCrM,EAAEiO,cAAgB,WACd,OAAQrsB,MAAgB7B,IAAuC,IAAzBigB,EAAEqM,oBAM5CrM,EAAEkO,WAAa,WACX,OAAQtsB,MAAgB7B,IAAuC,IAAzBigB,EAAEqM,oBAQ5CrM,EAAExZ,OAAS,SAAU/G,GACjB,GAAkB,KAAdA,EAAM4I,IACN,OAAOQ,GAEPmX,EAAEg0B,OAAOtrB,KAAKc,gBAAkBxJ,EAAEoJ,YAClCpJ,EAAEq1B,mBAEN,IAAIC,EAAUzsC,GA2Dd,OA1DAmX,EAAE1J,GAAG+U,OAAOhF,QAEZhlB,EAAEk0C,IAAWx5B,GAAE,WACX,IAAI/X,EAAO3C,EAAEkX,MACTi9B,EACJ,IADWxxC,EAAKjB,EAAEqrB,IAAmBpqB,EAAKjB,EAAEC,KACnCiB,IAAIR,EAAEhE,IAAU,EAAG,CAExB,IAAIg2C,EAAYzxC,EAAK2hB,QACrB/lB,EAAY61C,EAAWC,IACvBz1C,EAAew1C,EAAW,iEAC1Bn1C,EAAUm1C,EAAUh+B,GAAG+8B,KACvBiB,EAAUzlC,GAAGqe,GAASonB,EAAU1yC,EAAEqrB,IAAmB,YACrDqnB,EAAUjoC,OACVioC,EAAU1yC,EAAE4yC,GAAoB/xB,IAGhC6xB,EAAUnjC,KAAKC,IAAG,WACdtS,EAAe+f,EAAE1J,GAAG+U,OAAO5T,GAAG,uBAA4B2U,IAC1DpoB,EAAKsQ,GAAGmF,IACR7Z,EAAYyB,EAAEkX,MAAO6T,OAIzBpM,EAAE1J,GAAG+U,OAAO1b,GAAG8lC,GACfH,EAAU1sC,OAIlBsB,GAAKmK,EAAE,mBAAmB0H,GAAE,WACxB,IAAI/X,EAAO3C,EAAEkX,MACTi9B,EACJ,IADWxxC,EAAKjB,EAAEC,IAAWgB,EAAKjB,EAAE6yC,KAC3B3xC,IAAIR,EAAEhE,IAAU,EAAG,CAExB,IAAIg2C,EAAYzxC,EAAK2hB,QACrB8vB,EAAUjoC,OACVioC,EAAU1yC,EAAE4yC,GAAoB/xB,IAGhC6xB,EAAUnjC,KAAKC,IAAG,WACdvO,EAAKsQ,GAAGmF,OAIZuG,EAAE1J,GAAG+U,OAAO1b,GAAG8lC,GACfH,EAAU1sC,OAKb0sC,IACDt1B,EAAE1J,GAAG+U,OAAOhF,QACZrG,EAAE1J,GAAG+U,OAAO1b,GAAG,yCAA2C,CACtD,SACA,eACF3F,IAAaiG,IACf4lC,GAAsBt9B,OAGnB3P,IAMXoX,EAAEwL,aAAe,WACTnqB,EAAEk0C,IAAWj0C,OAAS,EACtB0e,EAAEg0B,OAAOtrB,KAAKe,IAAIlR,KAAM3P,IAExBoX,EAAEg0B,OAAOtrB,KAAKe,IAAIlR,KAAM1P,KAMhCmX,EAAExS,KAAO,WACDwS,EAAEg0B,OAAO9mC,QAAQC,MAAME,MAAM/L,OAAS,GACtC0e,EAAE1J,GAAGvR,KAAK8I,OACVmS,EAAEq1B,qBAGFr1B,EAAE1J,GAAGvR,KAAKyI,OACVwS,EAAEsL,qBAOVtL,EAAEnS,KAAO,WACLmS,EAAE1J,GAAGvR,KAAK8I,OACVmS,EAAEsL,oBAEF2oB,GAAQj0B,EAAEnS,OAKdmS,EAAEq1B,iBAAmB,WACjBr1B,EAAE1J,GAAGvR,KAAK8I,OAEVmS,EAAE1J,GAAG+U,OAAO7d,OACZvN,EAAe+f,EAAE1J,GAAG+U,OAAO5T,GAAG,uBAA4B2U,KAM9DpM,EAAEsL,iBAAmB,WACjBtL,EAAE1J,GAAG+U,OAAOxd,QAMhBmS,EAAE4N,WAAa,SAAU/tB,GACrBiJ,EAAgB,IAAMjJ,EAAOkD,EAAE2qB,MASnC1N,EAAE80B,YAAc,SAAUzrB,EAAIqpB,EAAQoD,GAClC,IAAIC,EAAW,KACX/xC,EAAO3C,EAAE,IAAMgoB,GACf2sB,EAAUhyC,EAAKiyC,UACfC,EAAY70C,EAAE,OAASgoB,GAG3BrlB,EAAKjB,EAAE4xC,GAA0B,MAAXjC,EAAkBpb,GAAU1T,IAClDsyB,EAAU3+B,GAAe,MAAXm7B,EAAkB1yB,EAAE6I,KAAKyrB,OAASt0B,EAAE6I,KAAKsO,QAGvD,IAAK,IAAI1zB,EAAI,EAAGwD,EAAM+uC,EAAQ10C,OAAQmC,EAAIwD,EAAKxD,IAAK,CAChD,IAAIO,EAAO3C,EAAE20C,EAAQvyC,IAErB,GAAgB,MAAZsyC,EAAkB,CAClB,MAAMI,EAAMhY,GAA+Bn6B,EAAKjB,EAAEkH,KAC5CmsC,EAAMjY,GAA+B4X,EAAShzC,EAAEkH,KACtD,GAAIksC,EAAMC,EACN,SACC,GAAID,EAAMC,EACX,MAIJN,GAC0B,MAAvB9xC,EAAKjB,EAAE2xC,KACP1wC,EAAKjB,EAAE4xC,IAAct+B,GAAG,MACb,MAAXq8B,IACC1uC,EAAKjB,EAAE4xC,GAAc/wB,IAErB5D,EAAE80B,YAAY9wC,EAAKjB,EAAE8yB,IAAO6c,EAAQoD,IAI5C9xC,EAAKsB,EAAEyoB,GAAuB,MAAX2kB,EAAkB35B,GAAS0T,IAC9CspB,EAAW/xC,IAavB,SAASqyC,GAAgBtc,GACrB,IAAIzjB,EAAKyjB,EAASzjB,GAElB2C,GAAgB3C,EAAG2S,OAGnB3S,EAAG+U,OAAO1b,GAAG,gDACb2G,EAAGmR,KAAOnR,EAAG+U,OAAO5T,GAAG,6BAEvB6+B,GAAkBhgC,GAOtB,SAASmV,GAAqBsO,GAC1B,IAAIzjB,EAAKyjB,EAASzjB,GACdigC,EAAQjgC,EAAG+U,OAAO5T,GAAG,eACzB8+B,EAAM/oC,OACe,IAAjB+oC,EAAMj1C,OACNg1C,GAAkBhgC,IAElBA,EAAGmR,KAAK5Z,OACR0oC,EAAMxzC,EAAE4yC,GAAoB/xB,IAC5BiyB,GAAsB9b,IAQ9B,SAAS8b,GAAsB9b,GAC3BxP,GAAkBd,IAAIsQ,EAClBA,EAASzjB,GAAG+U,OAAO5T,GAAG,gCAAqDnW,OAAS,GAM5F,SAASg1C,GAAkBhgC,GACvBA,EAAGmR,KAAKnf,EAAE,KAAO,CACb,QACA,mBACF0B,IAAa,MACfsM,EAAGmR,KAAKja,OAUZ,SAASgpC,GAAazc,EAAUpyB,EAAMiM,EAAQ6iC,GAC1ClsB,GAAkBd,IAAIsQ,EAAUnxB,IAE5BmxB,EAASzjB,GAAGmR,KAAKjO,YACjBugB,EAASzjB,GAAGmR,KAAK5Z,OACrB,IAAI7J,EAAO3C,EAAE,6CACHwG,EAAsB4uC,IAAc12C,IAAuC,IAAzB02C,EAAUpuC,IAAI/G,OAAgB,GAAKm1C,GACrF,KAAO9uC,EAAO2mB,IACxByL,EAASzjB,GAAG+U,OAAO1b,GAAG3L,GAEtBA,EAAKsO,KAAKC,IAAG,WACTtS,EAAe85B,EAASzjB,GAAG+U,OAAO5T,GAAG,uBAA4B2U,IACjExsB,EAAYoE,EAAMooB,IAElBtjB,EAAgB,IAAM8K,UAGfmmB,EAASia,OAAoB,gBAAMtnB,IAAcqN,EAASia,OAAOhoB,mBAUhF,SAASN,GAAgBqO,EAAUt6B,GAC/B,GAAyB,IAArBA,EAAM4I,IAAI/G,OAEV,OADAipB,GAAkBd,IAAIsQ,EAAUlxB,IACzBA,GAIXkxB,EAASzjB,GAAGmR,KAAK5Z,OACjBksB,EAASzjB,GAAG+U,OAAO5T,KAAK5J,OACxB5N,EAAe85B,EAASzjB,GAAG+U,OAAO5T,GAAG,uBAA4B2U,IACjE2N,EAASzjB,GAAG+U,OAAO5T,KAAK2F,WAAWu4B,IAGnC,IAAIL,EAAUzsC,GAuBd,OAtBAkxB,EAASzjB,GAAG+U,OAAO5T,GAAG,eAAoBsE,GAAE,WACxC,IAAI/X,EAAO3C,EAAEkX,MACTyhB,EAAgBh2B,EAAKjB,EAAE6yC,KACvB5xC,EAAKsE,IAAIrE,IAAIR,EAAEhE,IAAU,GACrBu6B,IAAkBj6B,IAAci6B,EAAc/1B,IAAIR,EAAEhE,IAAU,KAC9DuE,EAAKwJ,OACLxJ,EAAKjB,EAAE4yC,GAAoB/xB,IAC3B2G,GAAkBd,IAAIsQ,EAAUnxB,IAChC0sC,EAAU1sC,OAKjB0sC,IACDvb,EAASzjB,GAAGmR,KAAKnf,EAAE,CACf,SACA,eACF0B,KACF+vB,EAASzjB,GAAGmR,KAAKja,OACjB+c,GAAkBd,IAAIsQ,EAAUlxB,KAG7BD,GAOX,SAAS8tC,GAAsB3c,GAC3B,OAAQA,EAASzjB,GAAG+U,OAAO5T,GAAG,QAAQnW,OAAS,EAOnD,SAASq1C,GAAc5c,GACnBA,EAASzjB,GAAG+U,OAAO7d,OACnBvN,EAAe85B,EAASzjB,GAAG+U,OAAO5T,GAAG,uBAA4B2U,IAOrE,SAASwqB,GAAc7c,GACnBA,EAASzjB,GAAG+U,OAAOxd,OAUvB,SAAS4c,GAAUupB,EAAQC,GACvB,IAAIj0B,EAAIzH,KACRyH,EAAE1J,GAAK,CACH2S,MAAQ5nB,EAAE,yBACVgqB,OAAShqB,EAAE,+BACXomB,KAAO1nB,IAGXigB,EAAEg0B,OAASA,EAEXh0B,EAAEoL,UAAY,IAAIuoB,GAAsB3zB,EAAE1J,GAAG+U,QAG7CgrB,GAAgB99B,MAMhByH,EAAEoJ,SAAW,WACT,MAAO,UAMXpJ,EAAElO,aAAe,WACb,OAAO4kC,GAAsBn+B,OASjCyH,EAAEpT,IAAM,SAAUjF,EAAMiM,EAAQ6iC,GAC5BD,GAAaj+B,KAAM5Q,EAAMiM,EAAQ6iC,IAMrCz2B,EAAEwL,aAAe,WACbqqB,GAAsBt9B,OAM1ByH,EAAExS,KAAO,WACLmpC,GAAcp+B,OAMlByH,EAAEnS,KAAO,WACL+oC,GAAcr+B,OAEd07B,GAAQj0B,EAAEnS,OAUlB,SAAS6c,GAASspB,EAAQC,GACtB,IAAIj0B,EAAIzH,KACRyH,EAAE1J,GAAK,CACH2S,MAAQ5nB,EAAE,wBACVgqB,OAAShqB,EAAE,8BACXomB,KAAO1nB,IAGXigB,EAAEg0B,OAASA,EAEXh0B,EAAEoL,UAAY,IAAIuoB,GAAsB3zB,EAAE1J,GAAG+U,QAG7CgrB,GAAgB99B,MAMhByH,EAAEoJ,SAAW,WACT,OAAO3d,IAMXuU,EAAElO,aAAe,WACb,OAAO4kC,GAAsBn+B,OASjCyH,EAAEpT,IAAM,SAAUjF,EAAMiM,EAAQ6iC,GAC5BD,GAAaj+B,KAAM5Q,EAAMiM,EAAQ6iC,IAMpCz2B,EAAEwL,aAAe,WACdqqB,GAAsBt9B,OAM1ByH,EAAExS,KAAO,WACLmpC,GAAcp+B,OAMlByH,EAAEnS,KAAO,WACL+oC,GAAcr+B,OAEd07B,GAAQj0B,EAAEnS,OAUlB,SAAS8c,GAASqpB,EAAQC,GACtB,IAAIj0B,EAAIzH,KACRyH,EAAE1J,GAAK,CACH2S,MAAQ5nB,EAAE,wBACVgqB,OAAShqB,EAAE,8BACXomB,KAAO1nB,IAGXigB,EAAEg0B,OAASA,EAEXh0B,EAAEoL,UAAY,IAAIuoB,GAAsB3zB,EAAE1J,GAAG+U,QAG7CgrB,GAAgB99B,MAMhByH,EAAEoJ,SAAW,WACT,MAAO,cAMXpJ,EAAElO,aAAe,WACb,OAAO4kC,GAAsBn+B,OASjCyH,EAAEpT,IAAM,SAAUjF,EAAMiM,EAAQ6iC,GAC5BD,GAAaj+B,KAAM5Q,EAAMiM,EAAQ6iC,IAMrCz2B,EAAEwL,aAAe,WACbqqB,GAAsBt9B,OAM1ByH,EAAExS,KAAO,WACLmpC,GAAcp+B,OAMlByH,EAAEnS,KAAO,WACL+oC,GAAcr+B,OAEd07B,GAAQj0B,EAAEnS,OAUlB,SAAS+c,GAAaopB,EAAQC,GAC1B,IAAIj0B,EAAIzH,KACRyH,EAAE1J,GAAK,CACH2S,MAAQ5nB,EAAE,4BACVgqB,OAAShqB,EAAE,kCACXomB,KAAO1nB,IAGXigB,EAAEg0B,OAASA,EAEXh0B,EAAEoL,UAAY,IAAIuoB,GAAsB3zB,EAAE1J,GAAG+U,QAG7CgrB,GAAgB99B,MAMhByH,EAAEoJ,SAAW,WACT,OAAOvd,IAMXmU,EAAElO,aAAe,WACb,OAAO4kC,GAAsBn+B,OASjCyH,EAAEpT,IAAM,SAAUjF,EAAMiM,EAAQ6iC,GAC5BD,GAAaj+B,KAAM5Q,EAAMiM,EAAQ6iC,IAMrCz2B,EAAEwL,aAAe,WACbqqB,GAAsBt9B,OAM1ByH,EAAExS,KAAO,WACLmpC,GAAcp+B,OAMlByH,EAAEnS,KAAO,WACL+oC,GAAcr+B,OAEd07B,GAAQj0B,EAAEnS,OAUlB,SAASgd,GAAWmpB,EAAQC,GACxB,IAAIj0B,EAAIzH,KACRyH,EAAE1J,GAAK,CACH2S,MAAQ5nB,EAAE,0BACVw1C,MAAQx1C,EAAE,wBACVgqB,OAAShqB,EAAE,0BAGf2e,EAAEg0B,OAASA,EAMXh0B,EAAEoJ,SAAW,WACT,MAAO,WAMXpJ,EAAElO,aAAe,WACb,OAAO4kC,GAAsBn+B,OAOjCyH,EAAEpT,IAAM,SAAUjN,GACd,GAAIA,IAASI,IAAuB,MAATJ,GAAoC,IAApBA,EAAK0I,IAAI/G,OAChD,OAGJrB,EAAe+f,EAAE1J,GAAG+U,OAAO5T,GAAG,uBAA4B2U,IAG1D,IAAIyqB,EAAQ92C,GACR6T,EAASjU,EAAKgE,EAAE,EAAGhE,EAAK2B,QAM5B,GALIsS,EAAOyC,GAAG,SACVwgC,EAAQx1C,EAAE1B,GAAMoD,EAAE43B,IACb/mB,EAAOyC,GAAG,YACfwgC,EAAQx1C,EAAE1B,GAAM2I,KAEhBuuC,IAAU92C,GAAY,CACtB,IAAI+2C,EAAUz1C,EAAEk0C,GAAY,wBAA0Bt0C,EAAatB,GAAQ,MAAMkE,IACjFgzC,EAAQxoB,GAASyoB,EAAQ/zC,EAAEqrB,IAAmB,WACxCntB,EAAa2S,GAEvB,IAAIyX,EAASrL,EAAE1J,GAAG+U,OAAO5T,GAAG,mBAAiC9X,EAAO,MAGpE,GAAsB,IAAlB0rB,EAAO/pB,OACP0e,EAAE1J,GAAG+U,OAAOrb,GAAG,oBACTrQ,EAAO,YADE,eAETk3C,EAAQ,eAGb,CAED,IAAIE,EAAa1rB,EAAO1F,QACxB3F,EAAE1J,GAAG+U,OAAOrb,GAAG+mC,GACfn3C,EAAYm3C,EAAY3qB,IACxB9rB,EAAU+qB,GAId,IAAIrnB,EAAOgc,EAAE1J,GAAG+U,OAAO5T,GAAG,mBAAiC9X,EAAO,MAClEC,EAAYoE,EAAMooB,IAClBpoB,EAAKjB,EAAE4yC,GAAoB/xB,IAC3B5f,EAAKsO,KAAKC,IAAG,WACTzJ,EAAgBnJ,UAETqgB,EAAEg0B,OAAoB,gBAAMtnB,IAAc1M,EAAEg0B,OAAOhoB,mBAG9DhM,EAAEwL,gBAMNxL,EAAEwL,aAAe,WACbqqB,GAAsBt9B,OAM1ByH,EAAExS,KAAO,WACLwS,EAAE1J,GAAGugC,MAAMrpC,OACXwS,EAAE1J,GAAG+U,OAAO7d,OAEZ,IAAIwpC,EAAU,kBACVC,EAAc,yBAE0C,IAAxDj3B,EAAE1J,GAAG+U,OAAO5T,GAAGu/B,EAAU,KAAOC,GAAa31C,OAE7C0e,EAAE1J,GAAG+U,OAAO1b,GAAG,mCAAqC,CAChD,QACA,eACF3F,IAAaiG,IAGV+P,EAAE1J,GAAG+U,OAAO5T,GAAGu/B,GAAS11C,OAAS,GAEtChB,EAAU0f,EAAE1J,GAAG+U,OAAO5T,GAAGw/B,KAOjCj3B,EAAEnS,KAAO,WACLmS,EAAE1J,GAAGugC,MAAMhpC,OACXmS,EAAE1J,GAAG+U,OAAOxd,QAEZomC,GAAQj0B,EAAEnS,OAUlB,SAASqpC,GAAOltB,EAAMgqB,GAClB,IAAIh0B,EAAIzH,KACRyH,EAAE1J,GAAKjV,EAAE,cACT2e,EAAEm3B,OAASp3C,GACXigB,EAAE7E,QAAUtS,GACZmX,EAAEo3B,KAAOr3C,GACTigB,EAAErgB,KAAO,GACTqgB,EAAEhT,QAAU,EACZgT,EAAEq3B,WAAar7B,aACfgE,EAAEs3B,MAAQ,GACVt3B,EAAEg0B,OAASA,EAGXh0B,EAAEgK,KAAOA,EACThK,EAAEgK,KAAKc,YAAYvS,KAAMyH,EAAE1J,IAE3B2C,GAAgB+G,EAAE1J,IAElB0J,EAAEpV,KAAO,WA8DL,SAAS2sC,EAAgB5vC,EAAMyvC,EAAMz3C,EAAMk3C,GAEvC,GAAI72B,EAAEs3B,MAAME,SAASJ,EAAOz3C,GACxB,OACJqgB,EAAEs3B,MAAMpwC,KAAKkwC,EAAOz3C,GAEpBqgB,EAAE7E,QAAUvS,GAGZoX,EAAEhT,UACgB,IAAdgT,EAAEhT,UACFgT,EAAEo3B,KAAOA,EACTp3B,EAAErgB,KAAOA,GAIb83C,EAAU9nC,GAAG,iCAAmCqQ,EAAEhT,QAAU,KACtD4J,GAAgB,YAAa,GAAI,GAAI0F,IACrC,eAAiB3U,EACjBsI,IAGN,IAAIjM,EAAOyzC,EAAUpjC,EAAE,sBAAwB2L,EAAEhT,SAC7CnN,EAAS4C,EAAyB20C,GAAc,OACpDpzC,EAAKjB,EAAE20C,GAAYN,GACnBpzC,EAAKjB,EAAE40C,GAAYh4C,GACnBqE,EAAKjB,EAAEC,GAAS2E,GAEhB3D,EAAKjB,EAAE6yC,GAAiBtoC,QAAeupC,GACvC7yC,EAAKsO,KAAKC,IAAG,WACL1S,IAAWE,IAAgC,IAAlBF,EAAOyB,OAChC0e,EAAExS,KAAK4pC,EAAMz3C,GAEbN,OAAOu4C,KAAKR,EAAOz3C,EAAME,MAGjCvB,EAAI,iBAAmB84C,EAAOz3C,GAjGlC,IAAIk4C,EAAcl1C,EAAqBm1C,IACnCzsB,EAAS,KACTosB,EAAY13C,GAShB,GAPAigB,EAAEm3B,OAAS91C,EAAE,gCAEb6I,GAAKyF,GAAG,gCACR8nC,EAAYp2C,EAAE,gBAIVw2C,IAAgB93C,IAA+D,OAAhDsrB,EAASwsB,EAAY34C,EAAE,sBAA+B,CACrF,IAAI64C,EAAaF,EAAY9zC,GAAG,QAChC,IAAK,IAAIN,EAAI,EAAGA,EAAIs0C,EAAWz2C,OAAQmC,IAGnC,GAFA4nB,EAAS0sB,EAAWt0C,GAAGvE,EAAE,gDAEX,MAAVmsB,EAAgB,CAChB,IAAI+rB,EAAO/yC,EAAyBgnB,EAAO,IACvC1rB,EAAOwE,EAAkBknB,EAAO,IAChC1jB,EACAkvC,EACJU,EAFWlsB,EAAO,GAEI+rB,EAAMz3C,EADf0rB,EAAO/pB,OAAS,EAAK+pB,EAAO,GAAK,QAI7C,CACD,IAAI+rB,EAAO/yC,EAAyB0zC,EAAWt0C,IAC3C9D,EAAOwE,EAAkB4zC,EAAWt0C,IACxC8zC,EAAgB,CAAC,OAAQ,oBAAoBvtC,IACzCotC,EAAMz3C,EAAM,KAO5B0B,EAAE,YAAc2e,EAAEq3B,WAAa,MAAMt7B,GAAE,WACnC,IAAIhZ,EAAI1B,EAAEkX,MACNhZ,EAAOwD,EAAEA,EAAEkZ,IACXm7B,EAAO/yC,EAAyB9E,GAAMqI,EAAE,IAAIowC,OAAO,iBAAuB,KAAM,IAChFr4C,EAAOwE,EAAkB5E,IACzB+E,EAAqC8yC,GAAM91C,OAAS,GAAK3B,EAAK2B,OAAS,IACvEi2C,EAAgBx0C,EAAEuF,IAAK8uC,EAAMz3C,EAAMoD,EAAEA,EAAEC,KAE3CD,EAAEqa,WAAWnB,IACblZ,EAAEA,EAAEiZ,GAAU1O,IACdvK,EAAEuP,KAAKC,IAAG,WACNyN,EAAExS,KAAK4pC,EAAMz3C,SAKrBsZ,GAAgB5X,EAAE,mEAClB/C,EAAI,uBAuDR0hB,EAAEi4B,OAAS,SAAU97B,EAAQi7B,EAAMz3C,GAC/B,IAAIu4C,EAAK,GAGL/7B,IAAWpc,KACXm4C,EAAK,OAAS/7B,GAGdi7B,IAASr3C,KACTq3C,EAAOp3B,EAAEo3B,MAETz3C,IAASI,KACTJ,EAAO,IAEXqgB,EAAEm3B,OAAOp0C,EAAEqc,GACPg4B,GAASA,EAAK3zC,EAAE,MAAQ,EAAK,IAAM,KACjC,oBACAy0C,EAAKv4C,IAOfqgB,EAAExG,SAAW,WACT,OAAOwG,EAAE1J,GAAGhR,EAAEyoB,MAAehV,IAQjCiH,EAAExS,KAAO,SAAU2qC,EAASx4C,UACjBqgB,EAAEg0B,OAAoB,gBAAMtnB,IAAc1M,EAAEg0B,OAAOhoB,gBAE1D,IAAIosB,EAAO9zC,EAAqC6zC,GAGhDn4B,EAAEgK,KAAKxc,OACPwS,EAAE1J,GAAG9I,OAGe,IAAhB4qC,EAAK92C,SACL82C,EAAOp4B,EAAEo3B,KACTe,EAAUn4B,EAAEo3B,MAII,IAAhBz3C,EAAK2B,QACF82C,IAAS9zC,EAAqCD,EAAyB2b,EAAEm3B,OAAOp0C,EAAEqc,QAIrFg5B,IAASp4B,EAAEo3B,KACXp3B,EAAEi4B,OAAOl4C,GAAYA,GAAYJ,GAEjCqgB,EAAEi4B,OAAOl4C,GAAYo4C,EAASx4C,KAMtCqgB,EAAEnS,KAAO,WACLmS,EAAE1J,GAAGzI,OACLmS,EAAEgK,KAAKnc,QASXmS,EAAEzF,cAAgB,SAAUb,EAAMI,EAAUpV,GACxC,GAAIsb,EAAE1J,GAAGnC,WACL,OAEJ,IAAIyG,GAAU,EACd,OAAQlB,GACJ,KAAK,GACGsG,EAAExG,aACFwG,EAAEnS,OACF+M,GAAU,GAEd,MAIJA,GACAlW,EAAMmW,kBASlB,SAASrK,KA8JL,SAAS6nC,EAAiBC,EAAKl2C,GAE5Bk2C,EAAIv1C,EAAEijB,GAAc8U,IACpBl7B,EAAY04C,EAAKC,IAGhB3d,GAAuC0d,EAAKl2C,GAOhD,SAASo2C,EAAkBF,GACvB,IAAIjjC,EAAMijC,EAAIv1C,EAAEqc,IAEhBk5B,EAAIjH,KAAKvb,IAAS,WACM,CAEhB,IAAI2iB,EAAMH,EAAIz0C,IAAIwQ,EAAEqkC,IAAYnhC,KAC5B8R,EAAKivB,EAAIz0C,IAAId,EAAE8yB,IAEf4iB,IAAQ14C,KACR04C,EAAMH,EAAIv1C,EAAE83B,IACZxR,EAAKivB,EAAIv1C,EAAE8yB,KAGfH,GAAoBrM,EAAI,cAAgB,CACpC,SACA,wBACFrf,IAAa,cAAgByuC,GAGnCE,EAAqBt3C,EAAEkX,UAI3B+/B,EAAIv1C,EAAEqc,GAAO/J,GASjB,SAASujC,EAAczH,EAAQxxC,GAC3B,IAAIk5C,EAAWl5C,EAAK8D,EAAE,UAAY,EAC9Bq1C,EAAWn5C,EAAK8D,EAAE,UAAY,EAC9Bs1C,EAAYp5C,EAAK8D,EAAE,WAAa,EACpC,OAAQo1C,GAAYC,GAAYC,EASpC,SAASC,EAAa7H,EAAQxxC,GAC1B,OAAOA,EAAK8D,EAAE,UAAY,EAU9B,SAASw1C,EAAYh1B,EAAWtkB,EAAMwxC,GAClC,IAAI7Y,EAAQv4B,GAEZ,GAAIJ,EAAK8D,EAAE,YAAc,EACrB60B,EAAQ3tB,QACP,GAAI2tB,IAAUv4B,IAAcJ,EAAK8D,EAAE,WAAa,EACjD60B,EAAQvpB,QACP,GAAIupB,IAAUv4B,IAAcJ,EAAK8D,EAAE,UAAY,EAChD60B,EAAQhsB,OAEP,CAAA,GAAIgsB,IAAUv4B,IAAcoxC,EAAc,QAAMpxC,GAGjD,OAFAu4B,EAAQ6Y,EAAc,MAI1BltB,EAAU3e,EAAEuiC,GAAavP,GAQ7B,SAAS4gB,EAAiBpzB,EAAKqrB,GAC3B,IAAIgI,EAAOhI,EAAa,KACpBgI,IAASp5C,IAEb+lB,EAAI/iB,EAAEq2C,GAAkBD,GAU5B,SAASE,EAAgBvzB,EAAKqrB,EAAQxxC,EAAM0V,GACpC87B,EAAa,OAAMpxC,KAGvB+lB,EAAI/iB,EAAEu2C,GAAenI,EAAa,MAG9B97B,EAAI5R,EAAE81C,GAAa,IAAM,GACzBC,UAAU1zB,EAAI,GAAI,CAEd2zB,YAAc,SAAU3zB,EAAKC,GACzB,IAAI2zB,EAASr4C,EAAE0kB,GAEV6yB,EAAczH,EAAQxxC,IACvBujB,GAAqBw2B,EAAQv3B,WAEjCw3B,GAAgCD,EAAO32C,EAAEu2C,IAAgBI,IAG7DE,OAAS,SAAU9zB,EAAKC,GACpBhnB,EAAM,mBAAoBsC,EAAEykB,GAAK/iB,EAAEqc,SAWnD,SAASy6B,EAAkB/zB,EAAKqrB,GAE5B,GAAIA,EAAgB,UAAMpxC,GAI1B,GAAIoxC,EAAgB,UAAM2I,GACtBh0B,EAAI/iB,EAAEg3C,GAAeD,QAGpB,CACDh0B,EAAI/iB,EAAEg3C,GAAe,SAErB,IAAI1kC,EAAMyQ,EAAI/iB,EAAEqc,IACZg5B,EAAO/wC,EAAegO,GACtB2kC,EAAc51C,EAAyBiR,GAEvC4kC,EAAU9I,EAAgB,SAAqB,KAAhB6I,EAAsB,IAAMA,EAAe,KAEtD,IAApBC,EAAQx2C,EAAE,OACVw2C,EAAU7B,EAAO6B,GAGrBn0B,EAAI/iB,EAAEm3C,GAAgBp0B,EAAI/iB,EAAEqc,KAC5B0G,EAAI/iB,EAAEo3C,GAAeF,GAGjB9I,EAAe,SAAMpxC,IACrB+lB,EAAI/iB,EAAEq3C,GAAmBjJ,EAAe,QACxCA,EAAmB,aAAMpxC,IACzB+lB,EAAI/iB,EAAEs3C,GAAkBlJ,EAAmB,aASvD,SAASmJ,EAAcx0B,EAAKqrB,GACxB,IAAI97B,EAAMyQ,EAAI/iB,EAAEqc,IACZm7B,EAASpJ,EAAe,OACxBqJ,EAAarJ,EAAmB,WAGhCoJ,IAAWx6C,KACXw6C,EAASE,EAAiBplC,EAAKklC,GAC/Bz0B,EAAI/iB,EAAEq3C,GAAmBG,GAEzBz0B,EAAI/iB,EAAE23C,GAAUH,IAIhBC,IAAez6C,KACfy6C,EAAaC,EAAiB30B,EAAI/iB,EAAEo3C,IAAgBK,GACpD10B,EAAI/iB,EAAEs3C,GAAkBG,IAShC,SAASG,EAAe70B,EAAKnmB,GAEzB,GAAIA,IAASI,KAAkC,IAApBJ,EAAK8D,EAAEm3C,IAC9B,OAGJ,IAAIC,EAAa/0B,EAAIg1B,aAAa5mC,IAAcnL,OAC5C8xC,EAAWv5C,OAAS,IACpBu5C,EAAWh3C,IAAIyB,EAAEy1C,GAAW1yB,oDAC5BwyB,EAAWh3C,IAAIyB,EAAE01C,GAAajiC,IAC9B8hC,EAAWh3C,IAAIyB,EAAEkR,GAAUmB,IAC3BkjC,EAAWh3C,IAAIuZ,WAAW2kB,KAI9B,IAAIkZ,EAAUn1B,EAAI/iB,EAAE83B,IAChBqgB,EAAmBD,EACnBE,EAAYr1B,EAAI/iB,EAAEC,IAClBo4C,EAAWt1B,EAAIjiB,IAAI4hB,IAGnB21B,IAAar7C,IAAcq7C,EAAS95C,OAAS,GACT,eAAhCe,EAAkB+4C,KAClBH,EAAUG,EAAS7jC,KACnB2jC,EAAmBE,EAAS9yC,IAC5BhI,EAAU86C,IAIlBt1B,EAAI1I,WAAWpa,IAEf8iB,EAAImQ,GAAG,8CACAklB,IAAcp7C,GAAa,GAAK,6BAA+Bo7C,EAAYlrC,KAC3EgrC,IAAYl7C,GAAa,GAAK,4BAA8Bk7C,EAAUhrC,IACvEA,KAGoB,IAAtBtQ,EAAK8D,EAAE,WAERqiB,EAAIzN,OAAM,WACL,IAAIC,EAAKjX,EAAEkX,MACP8iC,EAAO/iC,EAAGmN,IACd,GAAI41B,EAAK/1C,EAAEyoB,MAAehV,GACtB,OAEJ,IAAI1T,EAAU7E,EAAY8X,EAAGhT,EAAEuS,KAC3BrS,EAAoBhF,EAAY8X,EAAGhT,EAAEG,KAGzC41C,EAAK/1C,EAAEmX,GAASnE,EAAG3S,IAAgB,EAAVN,GACzB,IAAI7B,EAAIhD,EAAY66C,EAAK/1C,EAAEkR,KACvB8kC,EAAOhjC,EAAG9U,IAAgB,EAAV6B,EACpBg2C,EAAK/1C,EAAEiR,GAAO/Q,EAAoB8S,EAAGuR,MAAMoP,IAAMqiB,EAAO93C,GAGxD63C,EAAK/1C,EAAEgH,GAAQgM,EAAGuR,MAAMC,MAGxBuxB,EAAK/1C,EAAEyoB,GAAWtB,OACnB,SAAU/nB,GACT,IAAI4T,EAAKjX,EAAEkX,MACP8iC,EAAO/iC,EAAGmN,IACT9gB,EAAmB2T,EAAI5T,IACxB22C,EAAK/1C,EAAEyoB,GAAWhV,OAI1B+M,EAAIL,IAAI/S,GAAGkG,IAAc,SAAUlU,GAC1BC,EAAmBmhB,EAAKphB,IACzBrD,EAAEkX,MAAMjT,EAAEyoB,GAAWhV,QAI7B+M,EAAIxgB,EAAEy1C,GAAWhjC,8BAGrBwjC,KAGIJ,IAAcp7C,KACdo7C,EAAY,IACZD,IAAqBn7C,KACrBm7C,EAAmB,IACvB,IAAItnC,EAAS,YAAc2nC,GACvBv3B,EAAUqK,GAAS,CACf,OACA,aACErkB,IAAauxC,GAAyB,WAAaJ,EACzDnhB,EAAgBmhB,EAAYD,EAChCp1B,EAAI/iB,EAAE8yB,GAAMjiB,GACZkS,EAAI/iB,EAAE43B,GAAa3W,GACnB7X,GAAW4F,OAAOnF,IAAIoX,EAASpQ,EAAQomB,GAO3C,SAAS2e,EAAqB94C,GAG1BA,EAAOud,WAAWyd,IAClBh7B,EAAOud,WAAWpa,IAClBpD,EAAYC,EAAQ,cAQxB,SAAS46C,EAAiBplC,EAAKklC,GAE3B,IAAInC,EAAO/wC,EAAegO,GAI1B,GAAI,eAAeimB,KAAKif,GAAS,CAC7B,IAAIiB,EAAUnmC,EAAI1R,EAAE,EAAG0R,EAAI5R,EAAE,IAAK,IAC9Bg4C,EAAWD,EAAQ73C,EAAE,EAAG63C,EAAQh0C,YAAY,MAC5Cb,EAAS60C,EAAQ73C,EAAE63C,EAAQh0C,YAAY,KAAMg0C,EAAQl6C,QAGzDi5C,GADAA,EAASA,EAAO3yC,EAAE,MAAO6zC,EAAW,MAAQ90C,EAAS,QACrCiB,EAAE,MAAO6zC,EAAW,MAAQ90C,EAAS,YAOrD4zC,GADAA,EAASA,EAAOmB,OAAO,IAAK,MAAO,QACnBA,OAAO,IAAK,MAAO,OAIvC,IAAIpV,EAAMiU,EAAOx2C,GAAG,KAOpB,OANuB,IAAnBuiC,EAAI,GAAG7iC,EAAE,OACT82C,EAASnC,EAAOmC,GAEhBjU,EAAIhlC,OAAS,IAAwB,IAAnBglC,EAAI,GAAG7iC,EAAE,OAC3B82C,EAASA,EAAO3yC,EAAE,OAAQ,OAASwwC,IAEhCmC,EApfR,IACCnwC,EAAK,IAAIC,GAIbD,EAAGE,KAEHjJ,EAAE,+BAA+B0a,GAAE,WAC/B1a,EAAEkX,MAAMhD,YAEZnL,EAAGS,GAAG,uBAINT,EAAGE,KAMH,IAAIqxC,EAAWv8C,IAAiBiX,GAAG,QAC/BulC,EAAgBD,GAAYtqC,GAAIoD,QAAQC,SAAWrD,GAAIoD,QAAQuJ,OAC/D69B,EAAWx8C,OAAOC,SAASu8C,SAC3BC,EAAUn5C,EAAqB,oBAC/Bm5C,IAAY/7C,IAAe+7C,EAAQt4B,GAAG,OACtCs4B,GAAW,KAEfz6C,EAAE,sIAC2F0a,GAAE,WAC3F,IAAIu8B,EAAMj3C,EAAEkX,MACRlD,EAAMijC,EAAIv1C,EAAEqc,IACZ28B,EAAgB1mC,EAChB4O,EAAYq0B,EAAIz0C,IAChBzB,EAAWiT,IAAQtV,GAAa,MAAQ,MACxCoxC,EAAS,GACTxxC,EAAO,GACPq8C,EAAanzC,GAGjB,GAAIwM,IAAQtV,GAAY,CAQpB,GANAoxC,EAAS1uC,EAAyBuT,UAAUX,IAC5C1V,EAAOwE,EAAkBkR,GAEzBijC,EAAIv1C,EAAE8yB,GAAM,YAAcomB,IAGtBL,IAAiBhzC,GAAO,CAExB,IAAIszC,EAAWH,EAAc78C,EAAE,uCAC3Bi9C,EAAUD,GAAYA,EAAS,GAGnC,GAAe,MAAXC,GAAmBN,IAAaM,EAAS,CAGzC,IAAIC,EAAe/qC,GAAIoD,QAAQuJ,SAAW29B,GAAYG,IAAY/7C,GAC9Dq8C,IACAL,EAAgBD,EAAUC,EAC1BzD,EAAIv1C,EAAEqc,GAAO28B,IAIjB1C,EAAgBf,EAAKnH,EAAQxxC,EAAMo8C,GAG/BK,GACA9D,EAAIv1C,EAAEqc,GAAO/J,IAmBzB,GAdAwkC,EAAkBvB,EAAKnH,GAGvBmJ,EAAchC,EAAKnH,GAGnBwJ,EAAerC,EAAK34C,GAGpB64C,EAAkBF,GAElB2D,KAGIrD,EAAczH,EAAQxxC,GACtB,OAAOiJ,GAGXozC,EAAahD,EAAa7H,EAAQxxC,GAC7Bq8C,IAED9C,EAAiBZ,EAAKnH,GAGtBltB,EAAYq0B,EAAIz0C,IAEqB,MAAjCxB,EAAkB4hB,KAClBq0B,EAAI/d,KAAK,WACTtW,EAAYq0B,EAAIz0C,KAIpBo1C,EAAYh1B,EAAWtkB,EAAMwxC,IAKrC,IAAK6K,EAAY,CAGT94B,GAAqBo1B,EADrBjjC,IAAQtV,GACkBoiB,UAEAA,WAE9B2Y,KAGAud,EAAiBC,EAAKl2C,GAGtB6hB,EAAUlhB,EAAEs0B,GAAiBj1B,GAC7BxC,EAAYqkB,EAAWE,IAEvB,IAAIk4B,EAAU/D,EAAIz0C,IAAIA,SACNy4C,IAAZD,GAAkE,IAAzCA,EAAQ5kC,GAAG,mBAAmBnW,QACvDg1B,GAAkBgiB,EAAK3sC,QAGnCvB,EAAGS,GAAG,sBAINT,EAAGE,KAGC+G,GAAImM,QAAQC,IAAM,GACfra,EAAmBs3C,MAAc/iC,IAChCtW,EAAE,uBAAwC0a,GAAE,WACxC,IAAIu8B,EAAMj3C,EAAEkX,OAC4B,IAApC+/B,EAAIv1C,EAAEqc,IAAO3b,EAAE81C,GAAa,IACzBjB,EAAIv1C,EAAE23C,MAAc36C,IACnBu4C,EAAIv1C,EAAE23C,GAAUpC,EAAIv1C,EAAEqc,IAAS,UAMnDm9B,GAA4B1zC,IAC5BuB,EAAGS,GAAG,uBAuWV,SAASuX,GAAkB+C,EAAQzgB,GAC/B,IAAIxB,EAAU8e,GAA0Bjf,EAAEqc,IAE1C,GAAI9D,GAAgC,CAChC,IAAIkhC,EAAMx6B,GAA0Bjf,EAAE83B,IAClCgc,EAAQ70B,GAA0Bjf,EAAEC,IACxCE,EAAU,MAAQs5C,IAAQz8C,GAAay8C,EAAM,IACvC,KAAOt5C,GAAW2zC,IAAU92C,GAAa,KAAO82C,EAAQ,IAAM,IAAM,IAE9Eta,GAAcpX,EAAQjiB,EAAS0F,IAOnC,SAAS2zC,GAA4BE,GACjC,IAAItgC,EAASD,GAAYC,OACrBugC,EAAWvgC,IAAWC,GAI1B/a,EAAE,oDAA4E0a,GAAE,WAC5E,IAAI+J,EAAMzkB,EAAEkX,MACRlD,EAAMyQ,EAAI/iB,EAAEqc,IACZs9B,EAEI52B,EAAI/iB,EAAEu2C,MAAmBv5C,KAErBsV,IAAQtV,IACR+lB,EAAI/iB,EAAE23C,GAAU50B,EAAI/iB,EAAEq3C,KAE1Bx6C,EAAYkmB,EAAK62B,MAIrB18C,EAAe6lB,EAAK62B,IAChBtnC,IAAQtV,IACR+lB,EAAI/iB,EAAE23C,GAAU50B,EAAI/iB,EAAEq3C,SAIlC/4C,EAAE,0BAAsC0a,GAAE,WACtC,IAAI+J,EAAMzkB,EAAEkX,MACZtY,EAAe6lB,EAAK62B,IACpB72B,EAAI/iB,EAAEqc,GAAO0G,EAAI/iB,EAAE65C,GAAazgC,IAChC2J,EAAI/iB,EAAE23C,GAAU50B,EAAI/iB,EAAE85C,GAAgB1gC,OAK1C9a,EAAE,0JAA4N0a,GAAE,WAC5N,IAAIu8B,EAAMj3C,EAAEkX,MACRukC,EAAOxE,EAAIv1C,EAAEu2C,IAEbj3C,EAAkBi2C,GAAKjiC,GAAG,MAAQiiC,EAAIv1C,EAAEqc,IAAO3b,EAAE81C,GAAa,IAAM,EACpEI,GAAgCmD,EAAMxE,IAIlCwE,IAASC,GACTzE,EAAIhzC,EAAE03C,GAAU,2BAA6B1E,EAAIz0C,IAAIyB,EAAEinC,IAAW,KAElE+L,EAAIhzC,EAAE03C,GAAU,oCAAsCF,EAAO,SAE7DxE,EAAIv1C,EAAEijB,MAAkBjmB,IACxBu4C,EAAIhzC,EAAE+iB,GAActP,QAO5B0jC,GAEAp7C,EAAE,kDAA8E0a,GAAE,WAC9E,IAAI+J,EAAMzkB,EAAEkX,MAERmkC,GACAz8C,EAAe6lB,EAAK,wBACpB7lB,EAAe6lB,EAAK,yBACpB7lB,EAAe6lB,EAAK,4BAGpB7lB,EAAe6lB,EAAK,uBACpB7lB,EAAe6lB,EAAK,wBACpB7lB,EAAe6lB,EAAK,+BACpB7lB,EAAe6lB,EAAK,yBACpB7lB,EAAe6lB,EAAK,iCAGxB,IAAIm3B,EAAWn3B,EAAI/iB,EAAEq2C,IACjB8D,EAAap3B,EAAI/iB,EAAEg3C,MAAmBD,GAKlCl6C,EAAYkmB,EAHhBm3B,IAAaE,IAAUF,IAAaxwB,GAChCiwB,GAAYQ,EAEK,cAAgBD,EAAW,IAAM9gC,EAAS,UAE1C,cAAgB8gC,EAAW,IAAM9gC,EAIrC,kBAAoBA,MAUrD,SAASw9B,GAAgCmD,EAAM/2B,GAE3CA,EAAIzgB,EAAE03C,GAAUjkC,IAEZ+jC,IAASC,GACTh3B,EAAI1R,EAAE,gCAAgC/O,EAAE83C,GAAQr3B,EAAIliB,IAAIyB,EAAEinC,KAE1DxmB,EAAI1R,EAAE,gCAAgC/O,EAAE83C,GAAQ,YAAcN,EAAK74C,IAAM,KAKjF,SAASqK,KACL,IAAI0R,EAAIzH,KACRyH,EAAE1J,GAAKjV,EAAE,cACT2e,EAAE5R,KAAO,CACLkI,GAAKjV,EAAEg8C,IACPnmC,KAAO7V,EAAEg8C,wBACTlmC,KAAO9V,EAAEg8C,wBACT/lC,MAAQjW,EAAE,4BAEd2e,EAAE9c,QAAU7B,EAAE,kBACd2e,EAAEs9B,OAAS,EAEXrkC,GAAgB+G,EAAE9c,QAAQuU,GAAG,aAG7BuI,EAAE5R,KAAK8I,KAAK5E,KAAKC,IAAG,WAChByN,EAAEq8B,aAENr8B,EAAE5R,KAAK+I,KAAK7E,KAAKC,IAAG,WAChByN,EAAEu9B,aAENv9B,EAAE5R,KAAKkJ,MAAMhF,KAAKC,IAAG,WACjByN,EAAEnS,UAENmS,EAAE9c,QAAQoP,KAAKC,IAAG,WACdyN,EAAEnS,UAMNmS,EAAEpO,iBAAmB,WAEbP,GAAIC,OAAOC,QACXyO,EAAE5R,KAAK8I,KAAKgB,KACZ8H,EAAE5R,KAAK+I,KAAKe,OAIZ8H,EAAE5R,KAAKkI,GAAG+B,OAAM,WACZhX,EAAEkX,MAAMjT,EAAEiiB,GAAa,uBACxB,WACClmB,EAAEkX,MAAMjT,EAAEiiB,GAAaxO,OAG3BiH,EAAE5R,KAAKkI,GAAG5D,GAAG8qC,IAAa,WACtBn8C,EAAEkX,MAAMjT,EAAEiiB,GAAaxO,OAG3BiH,EAAE5R,KAAKkI,GAAG5D,GAAG6B,IAAW,WACpBlT,EAAEkX,MAAMjT,EAAEiiB,GAAa,yBASnCvH,EAAExG,SAAW,WACT,OAAOwG,EAAE1J,GAAGhR,EAAEyoB,MAAehV,IAMjCiH,EAAExS,KAAO,SAAU8qC,GACc,IAAzBxd,KAGJpf,KACAhB,GAAc9R,GAEH,MAAP0vC,IACAA,EAAMj3C,EAAE,eAA4B2e,EAAEs9B,OAAS,OAGnDt9B,EAAEs9B,OAAS98C,EAAY83C,EAAIv1C,EAAEijB,KAE7BjR,GAAUiL,EAAE1J,IAEZ0J,EAAExC,UACFwC,EAAEy9B,aAMNz9B,EAAEnS,KAAO,WACLmS,EAAE9c,QAAQmjB,QACVnR,GAAU8K,EAAE1J,IAEZuF,KACAnB,GAAc7R,IAMlBmX,EAAExC,QAAU,WACR,IAAI86B,EAAMj3C,EAAE,eAA4B2e,EAAEs9B,OAAS,MACnDt9B,EAAE9c,QAAQmjB,QACVrG,EAAE9c,QAAQsK;AACVwS,EAAE9c,QAAQoC,EAAEmX,GAASpb,EAAEhC,QAAQsG,KAC1BL,EAAEkR,GAAUnV,EAAEhC,QAAQmE,KAE3B,IAAIk6C,EAASpF,EAAI3yB,QACjB+3B,EAAOp4C,EAAEqX,GAAYtb,EAAEhC,QAAQsG,IAAM,IAChCL,EAAEq4C,GAAat8C,EAAEhC,QAAQmE,IAAM,IAC/B8B,EAAEm0B,GAAgBC,IACvB95B,EAAY89C,EAAQ,iBACpBxoC,GAAUwoC,GAGVvlC,GAAeulC,GAGfA,EAAOprC,KAAKC,IAAG,WAEXzJ,EAAgB,aAAekX,EAAEs9B,QACjCt9B,EAAEnS,UAGNmS,EAAE9c,QAAQyM,GAAG+tC,GACb3oC,GAAU2oC,IAMd19B,EAAEq8B,QAAU,WACJr8B,EAAEs9B,OAAS,IACXt9B,EAAEs9B,SACFt9B,EAAExC,UACFwC,EAAEy9B,aAOVz9B,EAAEu9B,QAAU,WACJv9B,EAAEs9B,OAASxiB,KACX9a,EAAEs9B,SACFt9B,EAAExC,UACFwC,EAAEy9B,aAOVz9B,EAAEy9B,SAAW,WACT,IAAIG,EAAUv8C,EAAE,oBAERkW,GAAG1N,gCACLmW,EAAEs9B,OAAS,IAAMxiB,GADZjxB,WAELxI,EAAE,aAAe2e,EAAEs9B,OAAS,aAAah1C,KAG/C0X,EAAE5R,KAAK8I,KAAK5R,EAAEiR,IAAQyJ,EAAE1J,GAAG9S,IAAMwc,EAAE5R,KAAK8I,KAAK1T,KAAO,GACpDwc,EAAE5R,KAAK+I,KAAK7R,EAAEiR,GAAOyJ,EAAE5R,KAAK8I,KAAK5R,EAAEiR,KAInCyJ,EAAE5R,KAAK8I,KAAK5R,EAAE2P,GAAW,KACzB+K,EAAE5R,KAAK+I,KAAK7R,EAAE2P,GAAW,KACrB+K,EAAEs9B,OAAS,GACXt9B,EAAE5R,KAAK8I,KAAK5R,EAAE2P,GAAW,KAEzB+K,EAAEs9B,OAASxiB,IACX9a,EAAE5R,KAAK+I,KAAK7R,EAAE2P,GAAW,MAUjC+K,EAAEzF,cAAgB,SAAUb,EAAMI,EAAUpV,GACxC,GAAI2J,GAAQiI,GAAGnC,WACX,OAEJ,IAAIyG,GAAU,EACd,OAAQlB,GACJ,KAAK,IACL,KAAK,GACDsG,EAAEq8B,UACFzhC,GAAU,EACV,MACJ,KAAK,IACL,KAAK,GACDoF,EAAEu9B,UACF3iC,GAAU,EACV,MACJ,KAAK,GACGoF,EAAExG,aACFwG,EAAEnS,OACF+M,GAAU,GAEd,MAIJA,GACAlW,EAAMmW,kBAMlB,SAASpI,KAELpR,EAAE,oEAAoE0a,GAAE,WACpE,IAAIzD,EACA+S,EAC8C,OAA7CA,EAFIhqB,EAAEkX,MAEMxV,EAAEkH,IAAS/K,EAAE,kBAC1BL,EAAKwsB,EAAO,OAGpBhqB,EAAE,sDAAsD0a,GAAE,eAU9D,SAASlH,KAELxT,EAAE,aAAa0a,GAAE,WAEb1a,EAAEkX,MAAMlE,EAAE,6CAA6C0H,GAAE,WACrD,IAAI8hC,EAAKx8C,EAAEkX,MAAM1U,IAEjBg6C,EAAGpmC,GAAG,MAAMsE,GAAE,WACV,IAAI+hC,EAAW,EACXC,EAAUl1C,GAEdxH,EAAEkX,MAAMd,GAAG,MAAMsE,GAAE,WAEf,GAAI+hC,EAAW,GAAKz8C,EAAEkX,MAAMlE,EAAE,SAAStR,EAAEi7C,MAAej+C,GAEpD,OADAg+C,EAAUn1C,GACHC,GAEXi1C,OAGAC,EACAF,EAAGpmC,GAAG,SAAS,GAAGwmC,cAAgBr1C,GAC5Bm1C,GAAwB,IAAbD,GAAkBz8C,EAAEkX,MAAMlE,EAAE,SAAStR,EAAEi7C,MAAeA,IACvEH,EAAGpmC,GAAG,SAAS1U,EAAEi7C,GAAWp1C,aAO5CvH,EAAE,iCAAiC0a,GAAE,WACjC,IAAI0vB,EAAY,KACZC,EAAWtvB,GAGX9D,EAAMjX,EAAEkX,MACRuQ,EAAUxQ,EAAGvV,EAAEi7C,IACfl1B,IAAY/oB,IAAc+oB,EAAQzS,GAAG,MACrCo1B,EAAYE,GACZD,EAAW1mB,IAGN1M,EAAG,GAAG2lC,gBACXxS,EAAYG,IAKhBtzB,EAAGkiB,GAAG,4FACAiR,EAAY,sBAAwBC,EAAW,aACrDprC,EAAUgY,MAOlB,SAASxD,KAEL,IAAIopC,EAAc,2DAElB78C,EAAE68C,GAAaniC,GAAE,WACb,IAAIlc,EAASwB,EAAEkX,MACf1Y,EAAOwU,EAAE,0BAA0B0H,GAAE,WACjC,IAAIoiC,EAAS98C,EAAEkX,MACf1Y,EAAOyF,EAAEmX,GAAS0hC,EAAOx4C,KACpBL,EAAEkR,GAAU2nC,EAAO36C,KAExB3D,EAAO22B,GAAG,cAAclxB,EAAEmX,GAAS9E,IAC1BrS,EAAEkR,GAAUmB,UAK7B,IAAIymC,EAAW,kBACXC,EAAe,EACnBh9C,EAAE68C,EAAc,yBAAyBniC,GAAE,WACvCsiC,IACA,IAAIC,EAAUj9C,EAAEkX,MACZzB,EAAU,2BAA6BunC,EAE3CC,EAAQjqC,EAAE,4BAA8B+pC,EAAW,MAAMG,KAAK,KAAMznC,GAEpEwnC,EAAQjqC,EAAE,iBAAmB+pC,EAAW,MAAMG,KAAK,OAAQ,QAAUznC,EAAU,QAInF,IAAI0nC,EAAc,6DAGlBn9C,EAAEm9C,GAAaziC,GAAE,WACb,IAAIlc,EAASwB,EAAEkX,MACXkmC,EAAU5+C,EAAOkD,EAAEk4B,IAAWl3B,GAAG,OACjC26C,EAAiB7+C,EAAOyF,EAAEiyB,IAE9B13B,EAAOkD,EAAEk4B,GACLwjB,EAAQ,GAAK,IAAMA,EAAQ,GAAK,IAAMA,EAAQ,GAAK,KAChDj+C,EAAYi+C,EAAQ,IAAMj+C,EAAYk+C,KAE7C9+C,EAAYC,EAAQomB,OAKxB5kB,EAAEm9C,EAAc,0BAA0BziC,GAAE,WACxC,IAAI4iC,EAAQt9C,EAAEkX,MACV5Q,EAAOg3C,EAAMl5B,EAAEs3B,IAAQtlC,KACvBmnC,EAAUj3C,EAAKW,IACfu2C,EAAS,GACb,MAAMC,EAAQ,UACVC,EAAS,WACTC,EAAS,SAGb,GALc,OAKJ1jB,KAAKsjB,GAAU,CACrB,IAAIp7C,EAAIm7C,EAAMn7C,IACVy7C,EAAQN,EAAM96C,IAAI1B,GAAGg7C,KAAWwB,EAAMx8C,GAAGg7C,IAC7CwB,EAAM57C,EAAEm8C,IAAO17C,EAAI,IAAM,GACzBm7C,EAAM57C,EAAEo8C,IAAO37C,EAAI,IAAM,GACzBm7C,EAAM57C,EAAE,IAAKvC,EAAYm+C,EAAM57C,EAAE,MAAQ,IACzC47C,EAAM57C,EAAEyT,GAAUhT,EAAI,IACtBy7C,EAAKl8C,EAAE,KAAMvC,EAAYy+C,EAAKl8C,EAAE,OAAS,IACzCk8C,EAAKl8C,EAAE,KAAMvC,EAAYy+C,EAAKl8C,EAAE,OAAS,IACzCnD,EAAY++C,EAAMx8C,GAAGg7C,IAAS,iBAC9Bx1C,EAAKW,EAAEu2C,EAASD,EAAQj7C,EAAE,EAAGi7C,EAAQt9C,cAGhCy9C,EAAOzjB,KAAKsjB,IACjBh/C,EAAY++C,EAAOS,IACnBx/C,EAAY++C,EAAMx8C,GAAGg7C,IAASiC,IAC9Bx/C,EAAY++C,EAAM1I,QAAQ8G,IAAQtlC,KAAM2nC,IACxCz3C,EAAKW,EAAEu2C,EAASD,EAAQj7C,EAAE,EAAGi7C,EAAQt9C,UAGhC09C,EAAO1jB,KAAKsjB,IACjBh/C,EAAY++C,EAAOU,IACnBz/C,EAAY++C,EAAM1I,QAAQ8G,IAAQtlC,KAAM4nC,IACxC13C,EAAKW,EAAEu2C,EAASD,EAAQj7C,EAAE,EAAGi7C,EAAQt9C,UAGrCqG,EAAKW,EAAEu2C,EAASD,MAMxBv9C,EAAEm9C,EAAc,wBAAwBziC,GAAE,WAEtC1a,EAAEkX,MAAM6E,WAAWkiC,OAKvBj+C,EAAEm9C,EAAc,uBAAuBziC,GAAE,WACrC,IAAIwjC,EAAWl+C,EAAEkX,MACbinC,EAAID,EAAS17C,IACb47C,EAAUF,EAASj3C,IAGnBo3C,EAAUC,GACVC,EAAcD,GACdE,EAAaC,GAEbL,IAAY5kB,IACZ6kB,EAAUK,GACVH,EAAcG,GACdF,EAAaG,IAGRP,IAAYlP,KACjBmP,EAAUO,GACVL,EAAcK,GACdJ,EAAaK,IAGD,QAAZT,IAEAD,EAAEnrC,EAAE,oBAAoB/O,EAAEy1C,GAAWqC,QAAesC,EAAUS,IAE9DX,EAAEnrC,EAAE,iBAAiB/O,EAAEy1C,GAAWqF,UAAiBR,EAAcO,IAEjEX,EAAEnrC,EAAE,sCAAsC/O,EAAEy1C,GAAWqC,QAAeyC,EAAaM,KAInFV,IAAY5kB,GACZ0kB,EAASj3C,EAAE,CACP,KACA,QACF0B,KACe,QAAZy1C,EACLF,EAASj3C,EAAE,CACP,KACA,QACF0B,KACGy1C,IAAYlP,GACjBgP,EAASj3C,EAAE,CACP,KACA,SACF0B,KACe,QAAZy1C,GACLF,EAASj3C,EAAE,CACP,KACA,QACF0B,QAKV3I,EAAEm9C,EAAc,wBAAwBziC,GAAE,WAEtC,IAAIskC,EAAgBh/C,EAAEkX,MACtB8nC,EAAcx8C,IAAId,EAAE2Z,GAAS,sBAG7B,IAAI4jC,EACAC,EADQF,EAAcx8C,IAAIA,IAAIwQ,EAAE,aACnB,GAAGmsC,UACpBH,EAAct9C,EAAE,IAAKw9C,EAAKl4C,EAAIk4C,EAAK15B,MAAQ,IAE3C,IAAI45B,EAAWJ,EAAcx8C,IAAI4hB,IAC7Bg7B,IAAa1gD,IAAc0gD,EAAS19C,EAAEkH,MAAalK,IAAc0gD,EAAS19C,EAAEkH,IAASxG,EAAE,aAAe,GACtGg9C,EAAS19C,EAAE,IAAKw9C,EAAKl4C,EAAIk4C,EAAK15B,MAAQ,OAK9C,IAAIW,EAASrgB,EAAiB,WAG9B9F,EAAEm9C,EAAc,kBAAkBziC,GAAE,WAChC1a,EAAEkX,MAAMxV,EAAEm8C,GAAM13B,GAChBnmB,EAAEkX,MAAMxV,EAAEo8C,GAAM33B,MAqCxB,SAASzW,KAEL1P,EAAE,OAAO0a,GAAE,WACP,IAAIzD,EAAKjX,EAAEkX,MACP5Q,EACA0jB,EAC0C,OAAzCA,EAFM/S,EAAGhQ,IAEKpJ,EAAEwhD,MACjBC,GAAmBroC,EAAI+S,MAI/BhqB,EAAE,yCAAyC0a,GAAE,WACzC,IAAIzD,EAAKjX,EAAEkX,MACP5Q,EAAO2Q,EAAGhQ,IACVs4C,EAGAtf,GAA0BhpB,IACqB,OAA3CsoC,EAAWj5C,EAAKzI,EAAEqiC,MAClBsf,GAAmBvoC,EAAIsoC,MAInCv/C,EAAE,cAAc0a,GAAE,WACd,IAAIzD,EAAKjX,EAAEkX,MACP5Q,EAAO2Q,EAAGhQ,IACVs4C,EAC4C,OAA3CA,EAAWj5C,EAAKzI,EAAEqiC,MAEf55B,IAAS2Q,EAAGzU,IAAIyE,KAChBw4C,GAAyBxoC,EAAIsoC,MAW7C,SAAShb,GAA2B9/B,EAAO0/B,EAAIub,GAC3C,OAAQj7C,IAAUi7C,EACZ,GACA,KAAOl7C,EAAiBC,GAAS0/B,EAAK,KAahD,SAASmb,GAAmB9gD,EAAQwrB,GAChC,IAAI21B,EAAS31B,EAAO,GAAG9hB,GAAG,IAAK,KAC3B03C,EAAcD,EAAOj9C,GAAG,KAAKzC,OAC7B4/C,EAAarhD,EAAOsC,KACpBg/C,EAAYD,IAAenhD,GAAa,GAAKmhD,EAAW54C,IACxD84C,EAIAA,EADA,cAAc9lB,KAAK6lB,GACRA,EAASv5C,EAAE,gBAAiB,MAG5Bu5C,EAASx9C,EAAEw9C,EAAS7/C,OAAS2/C,EAAaE,EAAS7/C,QAGlE,IAAI+/C,EAAW,WAAaD,EACtB,iBAAmBJ,EACnB,+BACNE,EAAW3pC,GAAG2pC,EAAW3pC,KAAK3P,EAAE,IAAIowC,OAAO59B,OAAOknC,GAAG,OAAOF,KAAaC,IAGzEH,EAAW7sC,EAAE,WAAW/B,KAAKC,IAAG,SAAU7N,GACtC68C,GAAyBH,EAAUJ,EAAQt8C,MAG/CpE,EAAUT,GAad,SAASghD,GAAmBW,EAAWZ,GACnC,IAAIjgB,EAAQ6gB,EAAU39C,IAAIA,IACtB49C,EAASD,EAAU39C,IACnBiC,EAAQ47C,GAAsBd,EAAS,IACvCpb,EAAKmc,GAA2Bf,GAAY,MAAQ,GACpDlqC,EAAMrU,EAAkBs+B,IAGxBjqB,EAAIL,GAAG,OAASK,EAAIL,GAAG,SAEvB/V,EAAUkhD,GAEoB,IAA1BC,EAAOn5C,IAAID,IAAI/G,QACfhB,EAAUmhD,GACd7hD,EAAY+gC,EAAO,OAAS76B,EAAQ0/B,GACpC5lC,EAAY+gC,EAAMtsB,EAAE,yBAA0B,SAAWvO,EAAQ0/B,GACjE5lC,EAAY+gC,EAAMtsB,EAAE,WAAY,SAAWvO,EAAQ0/B,IAS3D,SAASkc,GAAsB57C,GAE3B,OAAIA,IAAU/F,GACHihC,GACJl7B,EAAM7B,IAUjB,SAAS68C,GAAyBU,EAAWZ,GA2DzC,SAASgB,EAAcC,GACnB,GAAIA,IAAQ9hD,GAAZ,CAIA,GAAI+hD,EAAO,CAEP,IAAIjL,EAAQkL,GAAqBzmB,KAAKx1B,GAAS,SAAW,GAC1D+7C,EAAIv8C,EAAEinC,GAAS,YAAczmC,EACvB+wC,GAAmB,OAAV/wC,EAAiB,OAAS,UAGxC,CACD,IAAIk8C,EAAOH,EAAIxtC,EAAE,QACG,IAAhB2tC,EAAK1gD,SACL0gD,EAAOH,GACPG,IAASjiD,KACTiiD,EAAK18C,EAAEmK,GAAmB,0BACpBhJ,EAAuBV,EAAgB,GAAI,OAAS,KAC1Di8C,EAAK18C,EAAE,kBAAmB,QAC1B08C,EAAK18C,EAAE,0BAA2B,QAClC08C,EAAK18C,EAAE,QAAS,gBAIpB28C,EACAJ,EAAI9+C,EAAEykC,GAAwB3hC,EAAiBC,IAE/C+7C,EAAI9+C,EAAEm/C,GAAmBr8C,EAAiBC,KAOlD,SAASq8C,EAAmBN,GACpBA,IAAQ9hD,KAIR+hD,EACAD,EAAIv8C,EAAE88C,GAAe,YAAct8C,GAClB,OAAVA,EAAiB,GAAK,OAAS,KAItC+7C,EAAIv8C,EAAE+8C,GAAe,0BACf57C,EAAuBV,EAAgB,GAAI,OAAS,cAQlE,SAASu8C,EAAcT,GACfA,IAAQ9hD,KAIR+hD,EACAD,EAAIv8C,EAAE01C,GAAa,wBAA0Bl1C,EAAQ,SACpC,OAAVA,EAAiB,GAAK,OAAS,YAItC+7C,EAAIv8C,EAAE01C,GAAajiC,IACnB8oC,EAAIv8C,EAAEi9C,GAAcxpC,IACpB8oC,EAAIv8C,EAAEmK,GAAmB,0BACnBhJ,EAAuBV,EAAgB,QAAS,OAAS,OAQvE,SAASy8C,EAAcX,GACfA,IAAQ9hD,KAIR+hD,EACAD,EAAIv8C,EAAEwpC,GAAmB,YAAchpC,EAAQ,SAC9B,OAAVA,EAAiB,GAAK,SAI7B+7C,EAAIv8C,EAAEmK,GAAmB,2BACnBhJ,EAAuBV,EAAgB,QAAS,OAAS,KAEnE87C,EAAI9+C,EAAEwkC,GAAqB1hC,EAAiBC,KArJhD,IAAIA,EAAQ47C,GAAsBd,EAAS,IACvC6B,EAAkBd,GAA2Bf,GAC7CkB,EAAQh8C,EAAMxE,OAAS,EACvByE,EAAiB,GACjB28C,EAAelB,EAAUr/C,KACzB8/C,EAAiBp5C,GAGhB45C,GACEC,IAAiB3iD,IAAsC,IAAxB2iD,EAAaphD,SAC3CohD,EAAelB,EAAU39C,IACzBo+C,EAAiBr5C,IAIzB,IAAIxG,EAAUC,EAAkBqgD,GAG3BZ,IACD/7C,EAAiBC,EAAmBF,IAIpCm8C,IACAE,EAAmBO,EAAaruC,EAAE,MAClCiuC,EAAcI,EAAaruC,EAAE,UAI5BouC,GAcDC,EAAelB,EAAU39C,IACzBzB,EAAUC,EAAkBqgD,GAEZ,OAAZtgD,GAAgC,OAAZA,GACpBogD,EAAcE,IAhBF,SAAZtgD,EACAkgD,EAAcI,IAIdd,EAAcc,GACE,MAAZtgD,GACA+/C,EAAmBO,IAc/BpiD,EAAUkhD,GA6Gd,SAAS1wC,KAGL,IAAI6xC,EAAQv/C,EAAmB,OAC3Bw/C,EAAUx/C,EAAmB,SAC7By/C,EAASz/C,EAAmB,QAC5Bu/C,IAAU5iD,KACV8lC,GAA0B8c,GAC1BC,IAAY7iD,KACZkmC,GAA4B2c,GAC5BC,IAAW9iD,KACX+iD,GAA2BD,GAG/B,IAAIE,EAAW,EACf1hD,EAAE,QAAQ0a,GAAE,WACR,IAAIzD,EAAKjX,EAAEkX,MACPyqC,EAAW1qC,EAAGhQ,IACd+iB,EAG8C,OAA7CA,EAAS23B,EAAS9jD,EAAE+jD,KACrBC,GAAmB5qC,EAAI+S,GAE0B,OAA3CA,EAAS23B,EAAS9jD,EAAEikD,KAC1BC,GAAiB9qC,EAAI+S,GAE6B,OAA5CA,EAAS23B,EAAS9jD,EAAEmkD,KAC1BC,GAAkBhrC,EAAI+S,GAEgC,OAAhDA,EAAS23B,EAAS9jD,EAAEqkD,KAC1BC,GAAsBlrC,EAAI+S,IAG1B03B,IACAnjD,EAAY0Y,EAAI,iBAAwByqC,GACxCzqC,EAAGhG,KAAKC,IAAG,SAAU7N,GAGZ4T,EAAGxU,GAAG2/C,KACPnpC,GAA+BzR,IAEnC,IAAI3F,EAAUoV,EAAGhQ,IACbgT,KACApY,EAAU,IAAMA,EAAU,KAC9BugD,GAA6BnrC,EAC7BikB,GAAcjkB,EAAIpV,EAAS0F,WAW3C,SAAS86C,GAA4B7jD,GACjC,IAAIuC,EACAuhD,EAAY,KAMhB,MAJgB,QAHFthD,EAAkBxC,IAI0B,OAAlD8jD,EAAY9jD,EAAOyI,IAAIpJ,EAAEqiC,MACzBjhC,EAAUT,GAEX8jD,EAQX,SAAShC,GAA2Bf,GAChC,IAAIpb,EAAKob,EAASA,EAASt/C,OAAS,GACpC,OAAQkkC,IAAOzlC,IAAqB,MAAPylC,EAejC,SAAS4d,GAAiBvjD,EAAQwrB,GAgD9B,SAASu4B,EAAankD,GAClB,IAAIyD,EAAU,KAAOzD,EAAQ,KAM7B,OALIqG,IAAUmgC,KACV/iC,GAAW0iC,GAA2B9/B,EACjC0/B,EAAGlkC,OAAS,EAAI,IAAM,GACvBukC,KAED3iC,EAtDX,IAAIwT,EAAM2U,EAAO,GACbvlB,EAAQy/B,KACRC,EAAK,GAETqe,KAIA,IAAIjD,EAAW8C,GAA4B7jD,EAAO4lB,KAClC,MAAZm7B,IACA96C,EAAQy/B,GAAoBqb,EAAS,IACrCpb,EAAKmc,GAA2Bf,GAAY,MAAQ,IAIxD/gD,EAAOyI,EAAEoO,GACT,IAAIorC,EAAQh8C,EAAMxE,OAAS,EACvByE,EAAiB,GACjBsjB,EAAK,OAASw6B,GACb/B,EAODjiD,EAAOkD,EAAEkH,GAAS,SAAWnE,EAAQ0/B,EAAKnc,IAN1CtjB,EAAiBC,EAAmBF,GACpCjG,EAAOkD,EAAEkH,GAAS,SAAWlE,EAAe,GAAKy/B,EAAKnc,GACtDxpB,EAAOyF,EAAEy1C,GAAWtrC,2CACdhJ,EAAuBV,EAAgB,GAAI,OAAS,IAAMo6C,KAOpEtgD,EAAOyS,KAAKC,IAAG,SAAU7N,GACrB,IAAI4T,EAAKjX,EAAEkX,MACPrV,EAAUoV,EAAGhQ,IAEZgQ,EAAGxU,GAAG2/C,KACPnpC,GAA+BzR,IAE/ByS,KACApY,EAAU0gD,EAAa1gD,IAC3BugD,GAA6BnrC,EAC7BikB,GAAcjkB,EAAIpV,EAAS0F,OAuBnC,SAAS28B,GAAoBz/B,EAAQ/F,IAEjC,OAAI+F,IAAU/F,GACH8lC,GACJ//B,EAAM7B,IAgBjB,SAASi/C,GAAmBrjD,EAAQwrB,GA2EhC,SAASu4B,IACL,IAAI1gD,EAAU,KAAO4gD,EACf,IAAMC,GACJC,IAAgBjkD,GAAc,IAAMikD,EAAc,IACpD,KAMN,OALIl+C,IAAUmgC,KACV/iC,GAAW0iC,GAA2B9/B,EACjC0/B,EAAGlkC,OAAS,EAAI,IAAM,GACvB2kC,KAED/iC,EApFX,IAAI4C,EAAQkgC,GAAsBjmC,GAAYF,GAC1C2lC,EAAK,GACLse,EAAYz4B,EAAO,GACnB04B,EAAa14B,EAAO,GACpB24B,EAAe34B,EAAO/pB,OAAS,EAAK+pB,EAAO,GAAKtrB,GAChDkkD,EAEJC,KAIA,IAAItD,EAAW8C,GAA4B7jD,EAAO4lB,KAClC,MAAZm7B,IACA96C,EAAQkgC,GAAsB4a,EAAS,GAAI/gD,GAC3C2lC,EAAKmc,GAA2Bf,GAAY,MAAQ,IAIxD/gD,EAAO06B,KAAK,6BAA+Bz0B,EAAQ,OAASo+C,GAAqB,KAAOJ,EAAY,WAEpGziD,EAAE,oBAAsB6iD,IAAoB5xC,KAAKC,IAAG,SAAU7N,GAC1D,IAAI4T,EAAKjX,EAAEkX,MACPrV,EAAU,GACVihD,EAAa7rC,EAAG8yB,WAEhBgZ,EAAU,EACdD,EAAWpoC,GAAE,WACTqoC,IACAlhD,IAAakhD,EAAU,EAAK,IAAM,IAAM/iD,EAAEkX,MAAMjQ,OAI/CgQ,EAAGxU,GAAG2/C,KACPnpC,GAA+BzR,IAE/ByS,KACApY,EAAU0gD,KACdH,GAA6BnrC,EAC7BikB,GAAcjkB,EAAIpV,EAAS0F,OAI/BhJ,EAAYC,EAAQwkD,oBAA2BH,IAEc,OAAxDD,EAASF,EAAW7kD,EAAEolD,OACvBP,EAAaA,EAAWn8C,EAAEq8C,EAAO,GAAIp6C,oBAA8B/D,EAAQ,KAAOm+C,EAAO,GAAK31B,KAClGzuB,EAAO0X,GAAGwsC,GAENve,EAAGlkC,OAAS,GACZ1B,EAAYC,EAAQiG,GAGpBk+C,IAAgBjkD,KAChBF,EAAOo2B,GAAGpsB,+BAAyCq6C,GAAqB,KAAOF,EAAc11B,IAC7F1uB,EAAYC,EAAOgE,IAAK0gD,IACxB3kD,EAAYC,EAAQ0kD,IAEpB1kD,EAAO4lB,IAAInT,KAAKC,IAAG,SAAU7N,GACzB,IAAI4T,EAAKjX,EAAEkX,MACPrV,EAAUoV,EAAGhQ,IACjBi0B,GAAcjkB,EAAIpV,EAAS2F,QAKnChJ,EAAOyS,KAAKC,IAAG,SAAU7N,GACrB,IAAI4T,EAAKjX,EAAEkX,MACPrV,EAAUoV,EAAGhQ,IACjBi0B,GAAcjkB,EAAIpV,EAAS2F,OA0BnC,SAASm9B,GAAsBlgC,EAAOjG,EAASE,IAE3C,GAAI+F,IAAU/F,GAAY,CAEtB,GAAIF,IAAWE,GAAY,CACvB,IAAI8D,EAAIhE,EAAOgE,IACXzB,EAAWyB,IAAM9D,GAAasC,EAAkBwB,GAAK9D,GACzD,GAAIqC,IAAYrC,IACTqC,EAAQ6B,MAAQ0S,IAA0B,UAAlB9S,EAAEA,IAAId,EAAE8yB,IAC/B,MAAO,KAEnB,OAAOoQ,GAEX,OAAOngC,EAAM7B,IAcjB,SAASq/C,GAAkBzjD,EAAQwrB,GAC/B,IAAI5D,EAAO,SACP9f,EAAO0jB,EAAO,GACdvlB,EAAQ0+C,GAAqBzkD,IAI7B6gD,EAAW8C,GAA4B7jD,EAAO4lB,KAClC,MAAZm7B,IACA96C,EAAQ0+C,GAAqB5D,EAAS,KAE1C96C,EAAQ,YAAcA,EAAQ,OAG1BulB,EAAO,KAAOtrB,IAA4B,KAAdsrB,EAAO,KACnC5D,EAAO4D,EAAO,IAGlBo5B,KACA7kD,EAAYC,EAAQ6kD,gBAAuBD,IAC3C5kD,EAAOkD,EAAE4hD,GAAkBh9C,GAC3B9H,EAAOkD,EAAEma,GAAoBoa,IAC7Bz3B,EAAOkD,EAAEC,GAAS,CACd,cACA,wCACEgH,KACNnK,EAAOyI,EAAEmf,GACT5nB,EAAOyF,EAAE+iB,GAAcu8B,GAAuBn9B,EAAKnmB,OAAQwE,IACtDR,EAAE88C,GAAet8C,GAGtBjG,EAAOyS,KAAKC,IAAG,SAAU7N,GACrBmgD,GAAmBxjD,EAAEkX,MAAO7T,MAUpC,SAASkgD,GAAuBE,EAAWh/C,GACvC,IAAIG,EAAQ,GACRolB,EAAS,2BAETy5B,GAAa,EACb7+C,EAAQ,EACH6+C,GAAa,GAClB7+C,EAAQ,EACH6+C,GAAa,KAClB7+C,EAAQ,IAEZ,IAAIgpB,EAAO,IAAMhpB,EAEjB,IAAK,IAAIxC,EAAI,EAAGA,EAAIwC,EAAOxC,IAAK,CAC5B,IAAIshD,EAAQthD,EAAIwrB,EACZ+1B,EACA1/C,EAAK7B,EAAI,GAAM,EAAKqC,EAAQm/C,GAChC55B,GAAU/lB,EAAI,IAAMy/C,EAAQ,MAAQz/C,EAAI,KAF9By/C,EAAQ91B,GAEkC,IACpD5D,GAAW5nB,EAAIwC,EAAQ,EAAK,IAAM,IAEtC,OAAOolB,EAQX,SAASm5B,GAAqB1+C,GAE1B,OAAIA,IAAU/F,GACH+iD,GACJh9C,EAAM7B,IAQjB,SAAS4gD,GAAmBhlD,EAAQ6E,GAChCA,EAAM2kC,kBAEFxpC,EAAOkD,EAAEma,IAAoB7G,GAAG,KAChC8G,GAAiBtd,GAEjBqlD,GAAiBrlD,GAOzB,SAASsd,GAAiBtd,GACtB,IAAImH,EAAMnH,EAAOyI,IACjB1I,EAAYC,EAAQslD,IACpBtlD,EAAOyF,EAAEinC,GAAS1sC,EAAOyF,EAAE88C,KAE3BviD,EAAOyI,EAAEzI,EAAOkD,EAAE4hD,KAElB9kD,EAAOkD,EAAE4hD,GAAkB39C,GAC3BnH,EAAOkD,EAAEma,GAAoB0G,IAOjC,SAASshC,GAAiBrlD,GACtB,IAAImH,EAAMnH,EAAOyI,IACjBrI,EAAeJ,EAAQslD,IACvBtlD,EAAOyF,EAAEinC,GAAS6Y,IAElBvlD,EAAOyI,EAAEzI,EAAOkD,EAAE4hD,KAElB9kD,EAAOkD,EAAE4hD,GAAkB39C,GAC3BnH,EAAOkD,EAAEma,GAAoBoa,IAajC,SAASksB,GAAsB3jD,EAAQwrB,GACnC,IAAI1jB,EAAO0jB,EAAO,GACd21B,EAAS31B,EAAO,GAEpBxrB,EAAOo2B,GAAG,SAAWtuB,EACf,iBAAmBq5C,EACnB,gCAENnhD,EAAO4lB,IAAIhO,GAAG,MAAMnF,KAAKC,IAAG,SAAU7N,GAClC68C,GAAyB55C,EAAMq5C,EAAQt8C,MAG3CpE,EAAUT,GASd,SAAS0hD,GAAyB55C,EAAMq5C,EAAQt8C,GAC5CA,EAAM2kC,kBAGN,IAAIgc,EAAa,yDAEbC,EAAMD,EAAarvC,UAAUrO,GAE7B,mBAAmB2zB,KAAK0lB,GACxBsE,EAAMD,EAAarvC,UAAUgrC,GAExB,mBAAmB1lB,KAAK3zB,KAC7B29C,EAAM,6BAA+BtvC,UAAUrO,IAEnDtI,OAAOu4C,KAAK0N,EAAK39C,GAQrB,SAAS49C,KACL,IAAIjvC,EAAK,GACLugC,EAAQh0C,IACR2iD,EAAO7iD,EAAqB,QAC5B8iD,EAAS9iD,EAAqB,UAC9B+iD,GAAkB7O,IAAU92C,GAAa,QAAU82C,EAAQ5mC,GAAa,KACjEu1C,IAASzlD,GAAa,yBAA2BylD,EAAO,KAAOv1C,GAAa,KAC5Ew1C,IAAW1lD,GAAa,yBAA2B0lD,EAAcx1C,GAAa,IACrF01C,EAAchjD,EAAqB,iBAkBvC,OAfIgjD,IAAgB5lD,KAChB4lD,EAAcD,GAClBC,GAAeC,GAAOA,GAGtBtvC,GAAM,0HAKQqvC,EAAYt9C,IALpB,0CAQ0C4H,GAC1CA,GACCqG,EAMX,SAASuvC,KACL,IAAIvvC,EAAK,+BA4NT,OA1NAA,GAAM,moqBA0NCA,EAMX,SAASwvC,KACL,IAAIxvC,EAAK,GA2DT,OAxDAA,GAAMO,GAAY,GAAI,2BAEZA,GAAY,GAAI,oBACZD,GAAgB,eAAgB,GAAI,GAAI0F,IAC5CrM,GAEA4G,GAAY,GAAI,iBACZD,GAAgB,YAAa,GAAI,GAAI0F,IACzCrM,GAEA4G,GAAY,GAAI,eACZD,GAAgB,WAAY,GAAI,GAAI0F,IACxCrM,GACA4G,GAAY,GAAI,mBAEZ,QAfRA,iDAgBYD,GAAgB,kBAAmB,GAAI,GAAI0F,IAhBvDzF,cAAAA,6CAoBYD,GAAgB,eAAgB,GAAI,GAAI0F,IApBpDzF,cAAAA,iDAwBYD,GAAgB,kBAAmB,GAAI,GAAI0F,IAC/CrM,GACJA,GAEA4G,GAAY,GAAI,qBAChB5G,GACJA;AAINqG,GAAMO,GAAY,GAAI,+BAEZA,GAAY,GAAI,sBACZD,GAAgB,iBAAkB,GAAI,GAAI0F,GAAS,8CACnDzF,GAAY,GAAI,2BAChB5G,GACJA,GAEA4G,GAAY,GAAI,2BAChB5G,GAEA4G,GAAY,GAAI,yBAChB5G,GAEA4G,GAAY,GAAI,sBACZ,4CAA8C5G,GAC1C2G,GAAgB,iBAAkB,GAAI,GAAI0F,GAAS,+CAC3DrM,GACJA,GAICqG,EAMX,SAASyvC,KACL,IAAIzvC,EAAK,GAyCT,OAtCAA,GAAMO,GAAY,GAAI,6BAEZA,GAAY,GAAI,uBAEZA,GAAY,GAAI,sBAChB5G,GAEA4G,GAAY,GAAI,iBAChB5G,GAEA4G,GAAY,GAAI,uBAChB5G,GACJA,GAEA4G,GAAY,GAAI,qBACZ,mCAfRA,0CAe+F5G,GACvF4G,GAAY,GAAI,+BAChB5G,GACA4G,GAAY,GAAI,8BAChB5G,GACA4G,GAAY,GAAI,6BAChB5G,GACA4G,GAAY,GAAI,6BAChB5G,GACA4G,GAAY,GAAI,iCAChB5G,GACA4G,GAAY,GAAI,wBAChB5G,GACJA,GACA4G,GAAY,GAAI,uBAChB5G,GACJA,GAINqG,GAAMO,GAAY,GAAI,gBAChB5G,GAECqG,EAMX,SAAS0vC,KACL,IAAI1vC,EAAK,GA6IT,OAzIAA,GAAMO,GAAY,GAAI,eACZA,GAAY,GAAI,IAChB5G,GACJA,GAINqG,GAAMO,GAAY,GAAI,gBAAhBA,kTAAAA,uCAG2H5G,GAAaA,GAHxI4G,iRAAAA,uCAO0H5G,GAAaA,GAPvI4G,gRAAAA,4CAW+H5G,GAAaA,GAX5I4G,oRAAAA,4CAegI5G,GAAaA,GAf7I4G,6DAiB6D5G,GAC7DA,GAINqG,GAAMO,GAAY,GAAI,8BACZA,GAAY,GAAI,iBAChB5G,GACA4G,GAAY,GAAI,mBAChB5G,GACA4G,GAAY,GAAI,uBACZD,GAAgB,aAAc,GAAI,GAAI0F,IAC1CrM,GACA,oCACI2G,GAAgB,aAAc,GAAI,GAAI0F,IAT9CzF,6CAYQD,GAAgB,WAAY,GAAI,GAAI0F,IACxCrM,GACJA,GAINqG,GAAM,kMASNA,GAAM,iFAEQM,GAAgB,UAAW,GAAI,GAAI0F,IAF3C,wDAKQ1F,GAAgB,qBAAsB,GAAI,GAAI0F,IALtD,iDAQQ1F,GAAgB,gBAAiB,GAAI,GAAI0F,IARjD,gDAWQ1F,GAAgB,eAAgB,GAAI,GAAI0F,IAXhD,gDAcQ1F,GAAgB,cAAe,GAAI,GAAI0F,IAC3CrM,GACJA,GAINqG,GAAM,iFAEQM,GAAgB,YAAa,GAAI,GAAIoO,IAF7C,8DAKQpO,GAAgB,gBAAiB,GAAI,GAAIoO,IALjD,gCAQI/U,GACJA,GAINqG,GAAM,8EAKNA,GAAM,kGAKNA,GAAM,qMAONA,GAAM,mEAGQM,GAAgB,YAAa,GAAI,GAAI0F,IACzCrM,GACJA,GAINqG,GAAM,8WAQQM,GAAgB,eAAgB,GAAI,GAAIoO,IARhD,qCAWQpO,GAAgB,eAAgB,GAAI,GAAIoO,IAXhD,wCAcQpO,GAAgB,aAAc,GAAI,GAAIoO,IAC1C/U,GACJA,GAINqG,GAAM,uIACNA,GAAM,mFACCA,EAwFX,SAAS2vC,KACL5kD,EAAE,mBAAmB40B,GAAGsvB,KAClBM,KACAC,KACAC,KACAC,MAMV,SAASE,KAuJL,SAASC,EAAO7lC,EAAKiM,EAAUjL,GAC3B5Y,YAAW,WACP,IAAI0B,EAAK,IAAIC,GACbD,EAAGE,GAAG,eAAiBgW,EAAM,YAC7B,IAAqBoM,IAAcH,IACnCniB,EAAGS,GAAG+E,MACP0R,GA1JP/R,GAAWjF,GAAG,mBACT+G,GAAIoD,QAAQsJ,QAAW1M,GAAIoD,QAAQoJ,MAASxM,GAAIoD,QAAQC,SAAYrD,GAAIoD,QAAQuJ,QAAW3M,GAAI+0C,KAAKC,QACrGpnD,EAAM,CACF,4CACA,oFACF+K,KAGNuF,GAAW1E,GAAG+E,IAIdN,KAIA,IAAIg3C,EAAYljD,EAAmB,UACjB,UAAdkjD,GAAuC,QAAdA,EAEzBz/C,EAAuB,CACnB0/C,GACAC,GACAC,GACAC,GACAC,IACDL,GAEEA,IAAcvtC,IAEnBlS,EAAuB,CACnB0/C,GACAC,GACAC,GACAC,GACAC,KAMRR,EAAO,8BAA8B,WACjC5yC,OACD,KAIH4yC,EAAO,iBAAiB,WACpB33B,GAAa5jB,SACd,KAIH2E,GAAWjF,GAAG,iBACd1K,EAAY8B,IAAW,6BACvB6N,GAAW1E,GAAG+E,IAIdu2C,EAAO,iBAAiB,WACpBrqC,OACD,KAIHqqC,EAAO,UAAU,WACb7sC,OACD,KAIH6sC,EAAO,WAAW,WACdvxC,OACD,KAIHuxC,EAAO,gBAAgB,WACnBjqC,GAAYC,OAAShV,EAAiB,oBAAoBkB,IAC1D1J,EAAK,gBAAkBud,GAAYC,OAAS,MAC5CD,GAAYtR,OAEZ,IAAIg8C,EAAcxjD,EAAmB,MACjCwjD,IAAgBtqC,IAAWsqC,IAAgBxqC,IAC3Czd,EAAK,mBAAqBioD,EAAc,MACxC1qC,GAAYrP,GAAG+5C,IAGV1qC,GAAYC,SAAWC,IAC5BF,GAAYrP,GAAGqP,GAAYC,UAChC,KAIHgqC,EAAO,aAAa,WAChB9oC,GAAgBwpC,GAAcC,MAC/B,KAKHX,EAAO,oBAAoB,WACvBrkC,KACA0C,KAGIphB,EAAmB,QAAUmI,IAC7BuX,OACL,KAIHqjC,EAAO,oBAAoB,WACvB,IAAIY,EAAWt+C,IACX7G,MAAgB7B,IAAegnD,IAC/B56C,GAAWwF,QAAQ0a,mBAAqB,EACxChZ,KACAE,QAEL,KAIH4yC,EAAO,eAAe,WAClBhyB,OACD,KAKH5kB,GAAWjF,KACX3L,EAAK,wBAA0BoiB,GAAmB,KAClDE,KACA1R,GAAW1E,GAAG4F,IAIdo2C,GAAct3C,GAAWgR,OAAS,IAClC5hB,EAAK,qCACLA,EAAK,kBAAoBkoD,GAAc,OACvCloD,EAAK,kBAAoBmoD,GAAS,OAClCnoD,EAAK,mBAAqBkoD,GAAcC,IAAU,OAlscnD,IAACE,GAAO,QACPz3C,GAAa,IAAIlF,GACjBtK,GACA6I,IAAQ,EACRC,IAAS,EACTi+C,GAAS,EACTD,GAAc,EACdryC,GAAY,KACZ4B,GAAoB,KACpBlM,GAAOnK,GACPg+B,GAAch+B,GACd6P,GAAW,OACXgsB,GAAa,WACb/P,GAAY,UACZgP,GAAQ,MACR3c,GAAU,QACVkD,GAAc,YACdzJ,GAAS,OACT24B,GAAa,WACbjoB,GAAe,aACfymB,GAAoB,mBACpBr/B,GAAoB,mBACpB+M,GAAqB,qBACrBI,GAAwB,yBACxB6P,GAAU,QACVvY,GAAe,aACf8c,GAAS,OACTnL,GAAW,SACXpgB,GAAsB,sBACtByyB,GAA4B,6BAC5BkqB,GAAgB,eAChBC,GAAgB,eAChB5oB,GAAiB,gBAGjB1hB,GAAgB,eAChBuM,GAAoB,oBACpBC,GAAmB,mBACnB7V,GAAW,SACXssC,GAAc,aACd4K,GAAO,OACPpsB,GAAW,SACXkf,GAAa,WACbtG,GAAa,WACbwI,GAAS,OACTjwC,GAAW,SACXs8C,GAAiB,eACjB7H,GAAmB,kBACnBC,GAAmB,kBACnB/N,GAAwB,uBACxB+S,GAAkB,gBAClB6C,GAAwB,sBACxBjvC,GAAoB,uBACpBuK,GAAqB,kBACrB2B,GAAwB,aACxBgjC,GAAwB,oBACxBC,GAAsB,kBACtBpwB,GAAuB,qBACvB/O,GAAmB,iBACnBo/B,GAAc,YACdx6B,GAAiB,eACjB0rB,GAAW,QACX8E,GAAkB,kBAClBiK,GAAmB,gBACnBC,GAAkB,gBAClB5K,GAAqB,oBACrB12B,GAAuB,qBACvB6G,GAAsB,qBACtBF,GAAsB,qBACtBwC,GAAqB,oBACrBxK,GAAc,aACd8/B,GAAc,YAEd8C,GAAkB,gBAClBz/B,GAAuB,sBACvBqiB,GAAkB,iBAClBd,GAAsB,qBACtBuD,GAA8B,yBAC9B2B,GAAwB,mBACxBzW,GAAyB,uBACzB0P,GAAkC,uBAClCuD,GAA8B,qBAC9BC,GAA4B,mBAC5BE,GAA2B,kBAC3BpH,GAA8B,qBAC9B6D,GAA6B,oBAC7B8E,GAAgC,6BAChCC,GAAgC,6BAChC7E,GAAwB,kBACxB2f,GAA4B,sBAC5B1M,GAAY,UACZ3H,GAAsB,oBACtB5D,GAAkB,gBAClBgF,GAAiB,gBACjBkT,GAAuB,sBACvBhS,GAAe,aACftpB,GAAsB,qBACtBjT,GAAqB,mBACrB6kC,GAAY,UACZ/zC,GAAU,QACVwP,GAAU,QACV5N,GAAc,YACd0gC,GAAU,QACVtE,GAAY,UACZ9kC,GAAY,UACZgvC,GAAa,WACbjxB,GAAW,SAEXzQ,GAAS,YACTkd,GAAU,QACVvR,GAAS,OACTurC,GAAY,UACZC,GAAe,aACfl6B,GAAe,WACf0J,GAA0B,wBAE1BxH,GAAiB,cACjB8K,GAAoB,cACpB6Z,GAAqB,kBACrBrR,GAAkB,eAClBnG,GAAsB,sBACtBiM,GAAgB,YAChBpC,GAAqB,kBACrBvP,GAAkB,SAClBH,GAAwB,qBACxB3R,GAAsB,mBACtB4S,GAAoB,iBACpBvD,GAAgB,YAChBE,GAAe,WACf9O,GAAe,YACf6hC,GAAgB,aAChBlT,GAAe,WACf1G,GAAe,WACfD,GAAiB,cACjB7M,GAAqB,YACrByU,GAAkB,kBAClBmE,GAAgB,YAChBpI,GAAiB,aACjByH,GAAmB,aACnBhrB,GAAkB,eAClBupB,GAAa,SACbmQ,GAAgB,YAChB5+B,GAAa,SACb6+B,GAAkB,gBAClBpS,GAAqB,kBACrB7Z,GAAY,QACZ4Y,GAAa,SACbgD,GAAa,SACb9I,GAAuB,qBACvBmG,GAAY,QACZhT,GAAmB,gBACnB0S,GAAY,WACZlN,GAAsB,eACtB2a,GAAoB,YACpB1a,GAAyB,kBACzB0G,GAAkB,eAClBS,GAAoB,kBACpBiO,GAAa,SACbzC,GAAgB,aAChBD,GAAiB,cACjB2C,GAAgB,YAChBxC,GAAmB,gBACnBD,GAAoB,iBACpBnR,GAAc,UACdtO,GAAc,UACd9L,GAAW,OACXuV,GAAmB,gBACnBkV,GAAgB,aAChBrI,GAAc,UACdniB,GAAc,WACdpF,GAAe,WACfi7B,GAAmB,iBACnBznC,GAAqB,mBACrB2mB,GAAiB,cACjBJ,GAAe,YACf9f,GAAiB,cACjB4f,GAAc,WACdtsB,GAAa,SACb4F,GAAY,UACZgR,GAAa,WACbE,GAAY,UACZ9d,GAAa,SACbnD,GAAW,UACX2gB,GAAW,SACXzU,GAAY,UACZyK,GAAkB,gBAClBC,GAAiB,eACjBuuB,GAAY,UACZnc,GAAU,QACVv0B,GAAW,YACX+1B,GAAU,QACVnV,GAAQ,MACRxW,GAAW,SACXyxC,GAAS,OACTJ,GAAW,SACXz5B,GAAsB,qBACtB8G,GAAU,QACV3f,GAAc,aACds9C,GAAkB,iBAClBpsC,GAAW,SACX8Q,GAAa,WACb/V,GAAO,KACPH,GAAW,SACXrB,GAAW,SAEXqD,GAAU,QACVi7B,GAAgB,eAChBx3B,GAAS,OACT4Z,GAAO,KACPsqB,GAAc,eACdnyB,GAAY,WAEZ8rB,GAAW,SACX5oB,GAAW,SACXoL,GAAS,OACTvuB,GAAiB,gBACjBzB,GAAS,OACTgQ,GAAU,QACV6gC,GAAS,OACT5L,GAAY,UACZhB,GAAS,OACT3qB,GAAW,SACXysB,GAAiB,gBACjBtoB,GAAe,cACf4zB,GAAc,aACdhhC,GAAa,YACbsrC,GAAU,SACV/iC,GAAQ,MACRnV,GAAS,OACTy8B,GAAa,YACbgR,GAAc,YACdjpC,GAAY,UACZkE,GAAe,aACfG,GAAe,aACfsvC,GAAS,OACT77C,GAAc,aACd0M,GAAS,OACT+X,GAAW,SACXxlB,GAAQ,MACRC,GAAO,KACP0J,GAAY,UACZ0tB,GAAS,OACTwiB,GAAW,SACX/sB,GAAa,WACbT,GAAc,aACdC,GAAc,aACdvB,GAAY,UACZkB,GAAkB,iBAClB1f,GAAgB,eAChBC,GAAiB,gBACjBvS,GAAe,cAEfoI,GAAiB,gBACjB+lC,GAAgB,cAChB3C,GAAY,UACZpV,GAAa,WACb6U,GAAY,UAEZzsB,GAAY,WACZ/V,GAAU,QAEVe,GAAU,QACVi5B,GAAY,UACZkX,GAAO,KACPC,GAAO,KACPt7B,GAAa,WACb5Y,GAAc,YACdojB,GAAS,SACTxkB,GAAc,SACdykB,GAAc,UACdlP,GAAQ,MACRs7B,GAAW,SACX0F,GAAW,SACX1jC,GAAU,QACVyrC,GAAc,OACd5O,GAAc,OACd5jB,GAAa,WACblqB,GAAU,QACVhC,GAAY,UACZuS,GAAW,SACX+gC,GAAS,OACTlV,GAAc,aACdyX,GAAe,aACfiD,GAAe,cACfv9B,GAAU,QACVhiB,GAAU,QACVuyC,GAAY,0BACZ7nC,GAAmB,kBACnB6I,GAAQ,MACRgR,GAAc,YACdF,GAAoB,mBACpBzD,GAAS,OACT0N,GAAQ,MACRizB,GAAQ,MACR3Y,GAAO,KACPjwB,GAAa,WACbrO,GAAQ,MAERwqC,GAAgB,gBAChBkI,GAAe,kBACfF,GAAkB,kBAClBI,GAAgB,kBAChBkF,GAAW,cACXH,GAAW,eAEXhF,GAAc,iBAEdN,GAAgB,iBAEhBI,GAAa,iBAEb9yB,GAA2B,+BAC3BC,GAAsB,wBACtBwM,GAAU,eACV6sB,GAAY,UACZI,GAAY,UACZH,GAAY,UACZC,GAAY,UACZC,GAAc,YACdrZ,GAAmB,yBACnBxE,GAAkB,iBAClB1qB,GAAU,QACV8c,GAAY,UACZjmB,GAAe,aACfwM,GAAS,OACTsC,GAAe,cACfrH,GAAU,QACVsU,GAAU,QACVhE,GAAoB,qCACpB4e,GAAQ,MACRvV,GAAW,UACX/S,GAAa,eACjB9T,GAAWjF,KAiEXjJ,EAAE+mD,UAAUrlD,EAAI,SAAU0S,EAAKhW,GAC3B,OAAIA,IAAUM,GACHwY,KAAKgmC,KAAK9oC,GAEV8C,KAAKgmC,KAAK9oC,EAAKhW,IAI9B4B,EAAE+mD,UAAU9iD,EAAI,SAAUmQ,EAAKhW,GAC3B,OAAIA,IAAUM,GACHwY,KAAK3R,IAAI6O,GAET8C,KAAK3R,IAAI6O,EAAKhW,IAI7B4B,EAAE+mD,UAAU71C,GAAK,SAAUga,GACvBhU,KAAK8vC,MAAM97B,IAIflrB,EAAE+mD,UAAUjmD,GAAK,SAAU1C,GACvB,OAAO8Y,KAAKrB,KAAKzX,IAIrB4B,EAAE+mD,UAAU3iC,EAAI,SAAUhmB,GACtB,OAAO8Y,KAAKpB,KAAK1X,IAIrB4B,EAAE+mD,UAAU3wC,GAAK,SAAUhY,GACvB,OAAO8Y,KAAK+vC,SAAS7oD,IAIzB4B,EAAE+mD,UAAUrsC,EAAI,SAAUwQ,GACtBhU,KAAKgwC,KAAKh8B,IAIdlrB,EAAE+mD,UAAU/zC,EAAI,SAAU5U,GACtB,OAAO8Y,KAAKiwC,KAAK/oD,IAIrB4B,EAAE+mD,UAAU7wC,GAAK,SAAU9X,GACvB,OAAIA,IAAUM,GACHwY,KAAK8iB,OAEL9iB,KAAK8iB,KAAK57B,IAIzB4B,EAAE+mD,UAAUziD,EAAI,WACZ,OAAO4S,KAAKsO,SAGhBxlB,EAAE+mD,UAAUxvB,GAAK,WACb,OAAOrgB,KAAKkwC,cAGhBpnD,EAAE+mD,UAAUjyC,GAAK,SAAUuyC,GACvB,OAAIA,IAAW9/C,GACJ2P,KAAKowC,aAELpwC,KAAKowC,WAAW//C,KAI/BvH,EAAE+mD,UAAU5kD,EAAI,WACZ,OAAO+U,KAAKuO,UAGhBzlB,EAAE+mD,UAAUtvB,GAAK,WACb,OAAOvgB,KAAKqwC,eAIhBvnD,EAAE+mD,UAAUr0C,EAAI,WACZ,OAAOwE,KAAK2L,UAIhB7iB,EAAE+mD,UAAU1iD,GAAK,WACb,OAAO6S,KAAK2L,SAAS4F,MAIzBzoB,EAAE+mD,UAAUxiD,GAAK,WACb,OAAO2S,KAAK2L,SAAS+U,KAIzB53B,EAAE+mD,UAAUv+B,IAAM,WACd,OAAOtR,KAAKswC,YAIhBxnD,EAAE+mD,UAAUvkD,EAAI,WACZ,OAAO0U,KAAKmqB,UAIhBrhC,EAAE+mD,UAAU5xB,GAAK,WACb,OAAOje,KAAKuwC,WAIhBznD,EAAE+mD,UAAUz4C,GAAK,SAAUlQ,GACvB,OAAO8Y,KAAKk6B,OAAOhzC,IAIvB4B,EAAE+mD,UAAUp4C,GAAK,SAAUvQ,GACvB,OAAO8Y,KAAKwwC,QAAQtpD,IAIxB4B,EAAE+mD,UAAUnyB,GAAK,SAAUx2B,GACvB,OAAO8Y,KAAKywC,MAAMvpD,IAItB4B,EAAE+mD,UAAU5tB,GAAK,SAAU/6B,GACvB,OAAO8Y,KAAK0wC,OAAOxpD,IAIvB4B,EAAE+mD,UAAU9/C,EAAI,SAAU7I,GACtB,OAAIA,IAAUM,GACHwY,KAAK5Q,OAEL4Q,KAAK5Q,KAAKlI,IAIzB4B,EAAE+mD,UAAUv7C,GAAK,SAAUpN,GACvB8Y,KAAK2wC,OAAOzpD,IAIhB4B,EAAE+mD,UAAU9zC,GAAK,SAAU7U,GACvB8Y,KAAK4wC,QAAQ1pD,IAIjB4B,EAAE+mD,UAAU91C,GAAK,WACb,OAAOiG,KAAKI,OAAOc,KAIvBpY,EAAE+mD,UAAUlwC,GAAK,WACb,OAAOK,KAAKI,OAAOH,KAMvB4B,OAAOguC,UAAUlpD,EAAI,SAAUO,GAC3B,OAAO8Y,KAAK6wC,MAAM3pD,IAItB2a,OAAOguC,UAAUxgD,EAAI,SAAUyhD,EAAaC,GACxC,OAAO/wC,KAAKgxC,QAAQF,EAAaC,IAIrClvC,OAAOguC,UAAU//C,EAAI,WACjB,OAAOkQ,KAAKixC,QAMhBpvC,OAAOguC,UAAU7+C,GAAK,SAAU28B,EAAKzmC,GACjC,MAAMgqD,EAAM,IAAIzR,OAAO9R,EAAK,KAC5B,OAAO3tB,KAAKmxC,WAAWD,EAAKhqD,IAMhC2a,OAAOguC,UAAU/xC,GAAK,SAAU5W,GAC5B,OAAO8Y,KAAKoxC,WAAWlqD,IAM3B2a,OAAOguC,UAAU5kC,GAAK,SAAU/jB,GAC5B,OAAO8Y,KAAKqxC,SAASnqD,IAIzB2a,OAAOguC,UAAU3kD,EAAI,SAAUhE,GAC3B,OAAO8Y,KAAKsxC,QAAQpqD,IAIxB2a,OAAOguC,UAAUnkD,EAAI,WACjB,OAAOsU,KAAKuxC,eAIhB1vC,OAAOguC,UAAUzkD,EAAI,SAAUohD,EAAOC,GAClC,OAAOzsC,KAAKwxC,UAAUhF,EAAOC,IAIjC5qC,OAAOguC,UAAUrkD,GAAK,SAAUmiC,GAC5B,OAAO3tB,KAAKhS,MAAM2/B,IA8BtB5nC,EAAI,uBAEJA,EAAI,QAAU0rD,QAAU,UAAY,YAAe,QACnD1rD,EAAI,iBACJA,EAAI,uBAEJK,EAAK,yBAGL,IAAI+N,GAAW3M,GACXoM,GAAapM,GACbwM,GAAcxM,GACd+N,GAAgB/N,GAChB+K,GAAa/K,GACbmL,GAAgBnL,GAChBwK,GAAaxK,GACbsO,GAAUtO,GACViM,GAAYjM,GACZyO,GAAYzO,GAKZqB,GAAQrB,GAaR0B,GAAQ1B,GAeR4B,GAAQ5B,GAaR8B,GAAQ9B,GAcRiC,GAASjC,GAoBTuC,GAASvC,GAiBbsB,EAAE+mD,UAAUpqB,QAAU,WAClB,YAAyB,IAAjB,MAMZ38B,EAAE+mD,UAAUj0C,SAAW,WACnB,IAAI6L,EAAIzH,KACR,OAAOyH,IAAMjgB,KACLigB,EAAE1a,EAAEyoB,MAAehV,IAAUiH,EAAE1a,EAAE0P,MAAkBG,IAA+B,MAAnB6K,EAAE1a,EAAE2P,MAM/E5T,EAAE+mD,UAAU5uC,SAAW,WACnB,OAAQjB,KAAKpE,YAQjB9S,EAAE+mD,UAAU6B,SAAW,SAAU7pC,EAAK8pC,GAClC3xC,KAAKhB,GAAG6I,EAAM7H,KAAKhB,KAAO2yC,IAQ9B7oD,EAAE+mD,UAAU5kB,MAAQ,SAAU0C,EAAKzmC,GAC/B8Y,KAAKhB,GAAGgB,KAAKhB,KAAKgyC,QAAQrjB,EAAKzmC,KASnC2a,OAAOguC,UAAU1M,OAAS,SAAUzzC,EAAKkiD,EAAUC,GAC/C,IAAIpqC,EAAIzH,KACJ9U,EAAIuc,EAAEvc,EAAEwE,GACZ,GAAIxE,GAAK,EAAG,CACR,IAAI2c,EACA8pC,EACJ,OAFUlqC,EAAErc,EAAE,EAAGF,GACNuc,EAAErc,EAAEF,EAAGuc,EAAE1e,QACFsG,EAAEuiD,EAAUC,GAElC,OAAO7xC,MAMX6B,OAAOguC,UAAUvc,SAAW,WACxB,MAAO,uBAAuBvQ,KAAK/iB,OAMvC6B,OAAOguC,UAAUrc,UAAY,WACzB,MAAO,wBAAwBzQ,KAAK/iB,OAMxC6B,OAAOguC,UAAU3b,WAAa,WAC1B,MAAO,iCAAiCnR,KAAK/iB,OAMjD,MAAMlH,GAAM,CAyBR+0C,KAAO,WACH,MAAM7iD,EAAIuX,UAAUuvC,UACpB,MAAO,CACHC,QAAS/mD,EAAEE,EAAE,YAAc,EAC3B8mD,OAAQhnD,EAAEE,EAAE,WAAa,EACzB4iD,OAAQ9iD,EAAEE,EAAE,gBAAkB,EAC9B+mD,MAAOjnD,EAAEE,EAAE,UAAY,IAAuB,IAAlBF,EAAEE,EAAE,UANjC,GAWP6N,OAAS,WACL,MAAM/N,EAAIuX,UAAUuvC,UACpB,MAAO,CACH94C,OAAQhO,EAAEE,EAAE,WAAa,EACzBka,IAAKpa,EAAEE,EAAE,WAAa,EACtBgnD,QAASlnD,EAAEE,EAAE,YAAc,GAAKF,EAAEE,EAAE,UAAY,EAChDinD,OAAQnnD,EAAEE,EAAE,WAAa,EACzBknD,KAAMpnD,EAAEE,EAAE,SAAW,GAPpB,GAYTgR,QAAU,WACN,MAAMlR,EAAIuX,UAAUuvC,UACpB,MAAO,CACHtsC,OAASxa,EAAEE,EAAE,WAAa,GAAKF,EAAEE,EAAE,OAAS,GAAMF,EAAEE,EAAE,UAAY,EAClEiR,QAASnR,EAAEE,EAAE,YAAc,GAAKF,EAAEE,EAAE,UAAY,EAChDua,OAAQza,EAAEE,EAAE,WAAa,IAAMF,EAAEE,EAAE,UAAY,GAAKF,EAAEE,EAAE,UAAY,GAAKF,EAAEE,EAAE,OAAS,GAAKF,EAAEE,EAAE,SAAW,GAC1Goa,KAAMta,EAAEE,EAAE,QAAU,GANlB,GAWVqa,WAAa,WACT,MAAMva,EAAIuX,UAAUuvC,UACpB,MAAO,CACHtsC,OAAQxa,EAAErE,EAAE,oBAAsBqE,EAAErE,EAAE,oBAAoB,GAAGA,EAAE,OAAO,GAAK,IAC3EwV,QAASnR,EAAErE,EAAE,qBAAuBqE,EAAErE,EAAE,qBAAqB,GAAGA,EAAE,OAAO,GAAK,IAC9E8e,OAAQza,EAAErE,EAAE,qCAAuCqE,EAAErE,EAAE,qCAAqC,GAAGA,EAAE,OAAO,GAAK,IAC7G2e,KAAMta,EAAErE,EAAE,iBAAmBqE,EAAErE,EAAE,iBAAiB,GAAGA,EAAE,OAAO,GAAK,KAN9D,GAWbwW,GAAK,WACD,MAAMnS,EAAIuX,UAAUuvC,UACpB,MAAO,CACH3sC,QAAS,uBAAuB4d,KAAK/3B,GACrCoS,MAAO,aAAa2lB,KAAK/3B,GACzBoa,IAAK,aAAa2d,KAAK/3B,GACvBqa,MAAO,SAAS0d,KAAK/3B,IANxB,GAWLiY,SAAW,WACP,MAAM6gB,EAAOvhB,UAAUU,SACvB,MAAO,CACHovC,KAAMvuB,EAAKp4B,IACXwX,KAAM4gB,EAAK14B,EAAE,EAAG,GAChBknD,OAAQxuB,EAAK14B,EAAE,EAAG04B,EAAK/6B,SALpB,GAUXkc,QACW,CACHC,IAAMpe,OAAOyrD,kBASrB70C,MAAQ,SAAU80C,EAASliD,OACvB,IAAIjK,EAAO,0BACPgJ,EAAIhJ,EAqER,OApEKmsD,GAAQzsD,EAAIM,GAEjBA,EAAO,sBACDyS,GAAImK,SAASC,MACZpK,GAAImK,SAASqvC,OAAOvpD,OAAS,EAAI,IAAM+P,GAAImK,SAASqvC,OAAS,IAC9D,OACNjjD,GAAKhJ,EACAmsD,GAAQzsD,EAAIM,GAEjBA,EAAO,uBACAyS,GAAIC,OAAOC,OAAS,SAAW,KAC/BF,GAAIC,OAAOqM,IAAM,OAAS,KAC1BtM,GAAIC,OAAOm5C,QAAU,WAAa,KAClCp5C,GAAIC,OAAOo5C,OAAS,UAAY,KAChCr5C,GAAIC,OAAOq5C,KAAO,QAAU,IAC7B,MACN/iD,GAAKhJ,EACAmsD,GAAQzsD,EAAIM,GAEjBA,EAAO,qBACFyS,GAAIqE,GAAGC,MAAQ,YACTtE,GAAIqE,GAAGgI,QAAU,cACbrM,GAAIqE,GAAGiI,IAAM,UACTtM,GAAIqE,GAAGkI,MAAQ,UAAY,YACxC,KACNhW,GAAKhJ,EACAmsD,GAAQzsD,EAAIM,GAEjBA,EAAO,uBACAyS,GAAIoD,QAAQsJ,OAAS,YAAc1M,GAAIyM,WAAWC,OAAS,KAC3D1M,GAAIoD,QAAQC,QAAU,aAAerD,GAAIyM,WAAWpJ,QAAU,KAC9DrD,GAAIoD,QAAQuJ,OAAS,YAAc3M,GAAIyM,WAAWE,OAAS,KAC3D3M,GAAIoD,QAAQoJ,KAAO,UAAYxM,GAAIyM,WAAWD,KAAO,IACtD,OACNjW,GAAKhJ,EACAmsD,GAAQzsD,EAAIM,GAEjBA,EAAO,uBACAyS,GAAI+0C,KAAKoE,MAAQ,QAAU,KAC3Bn5C,GAAI+0C,KAAKmE,OAAS,SAAW,KAC7Bl5C,GAAI+0C,KAAKkE,QAAU,UAAY,KAC/Bj5C,GAAI+0C,KAAKC,OAAS,SAAW,IAC9B,OACNz+C,GAAKhJ,EACAmsD,GAAQzsD,EAAIM,GAEjBA,EAAO,sBACDyS,GAAImM,QAAQC,IACZ,OACN7V,GAAKhJ,EACAmsD,GAAQzsD,EAAIM,GAEjBA,EAAO,sBACD0K,IACA,OACN1B,GAAKhJ,EACAmsD,GAAQzsD,EAAIM,GAEjBA,EAAO,sBACDkR,GACA,OACNlI,GAAKhJ,EACAmsD,GAAQzsD,EAAIM,GAEjBA,EAAOkc,UAAUuvC,UAAY,KAC7BziD,GAAKhJ,EACAmsD,GAAQzsD,EAAIM,GAEVgJ,GAIXojD,gBAAkB,WACd,IAAIpsD,EAAO,gDACwBqsD,GADxB,+BAEwBC,GAA+B,OAElE,OADA5sD,EAAIM,GACGA,GAMX4O,KAAO,SAAU2X,GACb,IAAIvmB,EAAOyS,GAAI4E,QACT5E,GAAI25C,kBACJ,oCACNzsD,QAAQC,IAAII,GACZ29B,GAAcpX,EAAQvmB,EAAMiK,IAC5B5J,EAAML,KAMd,IAAIusD,GAAQnE,GACR7sC,GAAcisB,UACdt2B,GAAS,MACTtN,GAAe,GACfI,GAAgB,GA+7BhBkW,GAAc,EACdd,GAAuBnP,GAqjBvBmB,GAAY,EAmBZ0Q,GAAc7R,GAGdmK,GAA0B,EAC1BG,GAAuB,EA2BvB8oC,GAAoB,EACpBnhB,GAAuB,EACvBygB,GAAyB,EACzBzhB,GAAsB,EACtBG,GAA0B,EAC1Bc,GAAsB,EACtBqW,GAA0B,EAC1BpW,GAAsB,EACtB4F,GAAwB,EAgBxBntB,GAAesF,GA2Wf0G,GAAsB,GA6HtBkB,GAAqB,kBACrBD,GAAiB3gB,GACjB6gB,GAAqB7gB,GACrB8gB,GAAmB9gB,GACnB+gB,GAAuBjY,GACvBkY,GAAmB,OA+HnBuB,GAAqBviB,GACrB0iB,GAAuC1iB,GACvCwiB,GAAmCxiB,GACnC2iB,GAAkC3iB,GAClC4iB,GAAiC5iB,GACjC6iB,GAAgC7iB,GAChCub,GAAiCzS,GAEjC46C,GAA6B1jD,GAC7BiiB,GAA4BjiB,GAC5BkiB,GAAkCliB,GAyPlC0kB,GAAmB1kB,GACnB2kB,GAAsB3kB,GACtB4kB,GAAmB5kB,GACnB8kB,GAAoB9kB,GAEpBglB,GAAiB,IAEjB2B,GAAsB,EACtBC,GAAuB,EAw9B3Bva,GAAUxB,KAAO,WAIb,GAAIV,GAAK8zB,UAEL,OADA5xB,GAAUg/C,cACHviD,GAIX,IAAIwiD,EAAWnhD,GAAKyb,QAUpB,GARAzb,GAAK2D,OAELw9C,EAASh3C,EAAE,mBAAmBtR,EAAE8yB,GAAM,aACtC1pB,GAAWwF,QAAQ2E,GAAGvR,KAAK4K,GAAG07C,GAE9BttB,GAAc18B,EAAE,cAChB6I,GAAO6zB,GAAYl6B,IAEfk6B,GAAYC,UAEZ,OADA5xB,GAAUg/C,cACHviD,GAIXsD,GAAWY,OAAS,IAAImqC,GAAO,IAAIzsC,GAAO,UAAWE,IAAW4N,MAE5DzI,KAAWC,KAEsB,IAA7B5D,GAAWY,OAAOzL,OAClBrC,EAAMsC,sBACD6B,EAAmBkK,MAAWhC,IACnCa,GAAWY,OAAOnC,QAItBuB,GAAWY,OAAOoO,SAClBzO,GAAS0B,KAAKtB,IAAUxH,EAAEyoB,GAAW,QAGzC,IAAIu9B,EAASvtB,GAAYtmB,GAAG,0EACxB8zC,EAAeD,EAAOhqD,OACtBkqD,EAAY5pD,MAAgB7B,GAChCurD,EAAOvvC,GAAE,SAAUtY,GACf,IAAI6U,EAAKjX,EAAEkX,OAE2B,IAAlCD,EAAGvV,EAAEkH,IAASxG,EAAE,aACZ+nD,EACI/nD,EAAI8nD,EAAe,EACnBp/C,GAAWwF,QAAQ/E,IAAI0L,GAEvBhY,EAAUgY,GAGdnM,GAAWwF,QAAQ/E,IAAI0L,GAI3BhY,EAAUgY,MAIlB,IAAImzC,EAAoBroD,EAAmB,OAQ3C,OAPAqoD,EAAqBA,IAAsB1rD,GAAcS,EAAYirD,GAAqB,EACtFA,GAAqB,GAAKA,GAAoB,GAC9C1tB,GAAYtmB,GAAG,YAAcg0C,EAAoB,IAAlC,eAAA,qBAA4F1vC,GAAE,WACzG5P,GAAWwF,QAAQmjC,YAAYzzC,EAAEkX,MAAMxV,EAAE8yB,IAAO,IAAKjtB,OAItDA,IAMXwD,GAAUg/C,YAAc,WACpBj/C,GAAW0B,OAEX9O,EAAM,CACF,0CACA,mIACFiL,MAmfNwkB,GAAa5jB,KAAO,WAChBkD,GAAgB,IAAI0gB,GAAa,IAAIxjB,GAAW2C,KAEhDG,GAAcI,QAAUxB,GAGxBrL,EAAE,mBAAmB+pC,WAAW71B,SAGhClU,EAAE,4HAA4H0a,GAAE,WAC5H,IAAI/X,EAAO3C,EAAEkX,OAETvU,EAAKF,GAAG,aACoB,IAAxBE,EAAKyT,GAAG,KAAKnW,QAA4C,YAA5Be,EAAkB2B,KACnD8J,GAAclB,IAAI5I,GAGlBA,EAAK0O,GAAG,YAAY,WAGhB4c,aAQhB,IAAIC,GAA0B,EA0L9BrT,GAAYC,OAASG,GACrBJ,GAAYG,kBAAoBC,GAKhCJ,GAAYtR,KAAO,WAKf,SAAS8gD,IAELprD,EAAUqrD,GACV7oD,SAAS8oD,KAAKnZ,OAAOoZ,GAIzB,SAASC,IAELxrD,EAAUurD,GACV/oD,SAAS8oD,KAAKnZ,OAAOkZ,GAIzB,SAASI,EAAazmB,GACdA,EAAQ0mB,SACRC,EAAarjD,IACbsT,GAAYrP,GAAGuP,MAGf6vC,EAAapjD,IACbqT,GAAYrP,GAAGyP,KAKvB,SAAS2vC,EAAallD,GACdA,GACA+kD,IACA5vC,GAAYC,OAASC,KAGrBsvC,IACAxvC,GAAYC,OAASG,IAEzByY,KAvCJ,MAAM82B,EAAc/oD,SAASopD,cAAc,uBACrCP,EAAa7oD,SAASopD,cAAc,sBA0CpCC,EAAa9sD,OAAO+sD,WAAW,+BACrCD,EAAWh6C,iBAAiB,SAAU45C,GAGtCE,EAAaE,EAAWH,UAO5B9vC,GAAYrP,GAAK,SAAUsP,GACnBA,IAAWpc,KACXoc,EAAUD,GAAYC,SAAWG,GAAWF,GAASE,IAEzDJ,GAAYC,OAASA,EACrBxd,EAAK,uBAAyBud,GAAYC,OAAS,MAEnDD,GAAYK,UAERpQ,GAAWY,OAAOoO,SAClBhP,GAAWY,OAAOkrC,OAAO/7B,GAAYC,QAEzCxd,EAAK,cAMTud,GAAYK,QAAU,WAClBwY,KAIA,IAAIs3B,EAAK,QACLC,EAAO,OACPC,EAAQ,QACRC,EAAS,SAETC,EAAQJ,EAAK,KACbK,EAAWL,EAAK,KAChBM,EAAWN,EAAK,KAChBO,EAASP,EAAK,KACdQ,EAAUR,EAAK,KACfS,EAAYT,EAAK,KACjBU,EAAWV,EAAK,KAChBW,EAASX,EAAK,KACdY,EAASZ,EAAK,KACda,EAASb,EAAK,KACdc,EAASd,EAAK,KACde,EAAQf,EAAK,KACbgB,EAAahB,EAAK,KAClBiB,EAASjB,EAAK,KACdkB,EAAWlB,EAAK,KAChBmB,EAASnB,EAAK,KACdoB,EAASpB,EAAK,KACdqB,EAASrB,EAAK,KACdsB,EAAUtB,EAAK,KACfuB,EAASvB,EAAK,KACdwB,EAAUxB,EAAK,KACfyB,EAAWzB,EAAK,KAChB0B,EAAW1B,EAAK,KAEhB2B,EAAK,UAELC,EAAQD,EAAK,KACbE,EAAWF,EAAK,KAChBG,EAAWH,EAAK,KAChBI,EAAUJ,EAAK,KACfK,EAASL,EAAK,KACdM,EAASN,EAAK,KACdO,EAAWP,EAAK,KAChBQ,EAASR,EAAK,KACdS,EAAUT,EAAK,KACfU,EAASV,EAAK,KAEdW,EAAK,QAET9nD,EAAuB,CACnB,kBACA,sBACA,SACA,SACA,aACA,UACA,iBACA,iBACA,iBACA,wBACA,wBACA,SACA,aACA,aACA,kBACA,YACA,YACA,WACA,cACA,cACA,cACA,gBACA,oBACA,oBACA,QACA,iBACA,eACA,aACA,YACA,oBACA,mBACA,aACA,WACA,gBACA,eACA4lD,EACAA,EAAQH,EACRG,EAAQF,EACRE,EAAQD,EACRE,EACAA,cACAA,eACAA,gBACAC,EACAA,cACAA,eACAA,gBACAC,EACAA,EAASN,EACTM,EAASL,EACTK,EAASJ,EACTK,EACAA,EAAUP,EACVO,EAAUN,EACVM,EAAUL,EACVM,EACAA,cACAA,eACAA,gBACAC,EACAA,cACAA,eACAA,gBACAC,EACAA,EAASV,EACTU,EAAST,EACTS,EAASR,EACTS,EACAA,EAASX,EACTW,EAASV,EACTU,EAAST,EACTU,EACAA,EAASZ,EACTY,EAASX,EACTW,EAASV,EACTW,EACAA,EAASb,EACTa,EAASZ,EACTY,EAASX,EACTY,EACAA,EAAQd,EACRc,EAAQb,EACRa,EAAQZ,EACRa,EACAA,cACAA,eACAA,gBACAC,EACAA,EAAShB,EACTgB,EAASf,EACTe,EAASd,EACTe,EACAA,cACAA,eACAA,gBACAC,EACAA,EAASlB,EACTkB,EAASjB,EACTiB,EAAShB,EACTiB,EACAA,EAASnB,EACTmB,EAASlB,EACTkB,EAASjB,EACTkB,EACAA,EAASpB,EACToB,EAASnB,EACTmB,EAASlB,EACTmB,EACAA,EAAUrB,EACVqB,EAAUpB,EACVoB,EAAUnB,EACVoB,EACAA,EAAStB,EACTsB,EAASrB,EACTqB,EAASpB,EACTqB,EACAA,EAAUvB,EACVuB,EAAUtB,EACVsB,EAAUrB,EACVsB,EACAA,cACAA,eACAA,gBACAC,EACAA,cACAA,eACAA,gBACAE,EACAA,EAAQ3B,EACR4B,EACAA,EAAW5B,EACX6B,EACAA,EAAW7B,EACX8B,EACAA,EAAU9B,EACV+B,EACAA,EAAS/B,EACTgC,EACAA,EAAShC,EACTiC,EACAA,EAAWjC,EACXkC,EACAA,EAASlC,EACTmC,EACAA,EAAUnC,EACVoC,EACAA,EAASpC,EACTqC,EAAK,UACLA,EAAK,WACLA,EAAK,aACLA,EAAK,aACLA,EAAK,MACLA,EAAK,YACLA,EAAK,oBACLA,EAAK,SACLA,EAAK,WACLA,EAAK,UACLA,EAAK,SACLA,EAAK,QACLA,EAAK,KACLA,EAAK,OACLA,EAAK,WACLA,EAAK,WACLA,EAAK,OACLA,EAAK,UACLA,EAAK,UACLA,EAAK,OACLA,EAAK,UACLzyC,GAAYC,SAAWC,GAAU,KAAO,MAG5CmgC,GAA4B3zC,KAKhC,IAAIgqB,GAAiB,0CAkiBrBnkB,GAAS7D,KAAO,WAEZ,IAAIgkD,EAAgBvtD,EAAE,mBAElBU,MAAoBhC,GACpB6uD,EAAcha,aAAa7yC,KAG3BL,IAAUiO,GAAGi/C,GAGjBvtD,EAAE,mBAAmBuzC,aAAaga,GAGlC,IAAI7rD,EAAI1B,EAAE,oDACV0B,EAAEqa,WAAWnB,IAEblZ,EAAEuP,KAAKC,IAAG,WAE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","sourcesContent":["/**************************************\n *\n * VLOOK JS - Typora Plugin\n *\n * V21.0\n * 2023-11-29\n * powered by MAX°孟兆\n *\n * QQ Group: 805502564\n * email: maxchow@qq.com\n *\n * https://github.com/MadMaxChow/VLOOK\n * https://gitee.com/madmaxchow/VLOOK\n *\n *************************************/\n\nlet vVer = \"V21.0\",\n    iStopwatch = new Stopwatch(), // 初始化计时器\n    gUndefined = undefined,\n    gTrue = true,\n    gFalse = false,\n    gTimes = 0,\n    gTotalTimes = 0,\n    gLastHash = null,\n    gSmallScreenWidth = 1279, // 修改时须同步修改 media.less 的同名参数\n    gToc = gUndefined, // 文档大纲对象\n    gTocContent = gUndefined, // 文档大纲内容\n    s_4space = \"    \",\n    s_Absolute = \"absolute\",\n    s_Actived = \"actived\",\n    s_Alt = \"alt\",\n    s_Audio = \"audio\",\n    s_Animation = \"animation\",\n    s_Auto = \"auto\",\n    s_Autoplay = \"autoplay\",\n    s_Background = \"background\",\n    s_BackgroundColor = \"background-color\",\n    s_BackgroundImage = \"background-image\",\n    s_BeforePrintWidth = \"before-print-width\",\n    s_BeforePrintMaxWidth = \"before-print-max-width\",\n    s_Block = \"block\",\n    s_Blockquote = \"blockquote\",\n    s_Bold = \"bold\",\n    s_Border = \"border\",\n    s_BorderBottomWidth = \"border-bottom-width\",\n    s_BorderBottomRightRadius = \"border-bottom-right-radius\",\n    s_BorderColor = \"border-color\",\n    s_BorderImage = \"border-image\",\n    s_BorderRadius = \"border-radius\",\n    s_BorderTopLeftRadius = \"border-top-left-radius\",\n    s_BorderTopRightRadius = \"border-top-right-radius\",\n    s_BorderWidth = \"border-width\",\n    s_BorderLeftWidth = \"border-left-width\",\n    s_BorderTopWidth = \"border-top-width\",\n    s_Bottom = \"bottom\",\n    s_BoxShadow = \"box-shadow\",\n    s_Br = \"<br>\",\n    s_Bubble = \"bubble\",\n    s_Caption1 = \".v-cap-1\",\n    s_Caption2 = \".v-cap-2\",\n    s_Card = \"card\",\n    s_Center = \"center\",\n    s_CssAccentBtn = \"v-accent-btn\",\n    s_CssActorKeySys = \"v-actor-key-sys\",\n    s_CssActorExtSys = \"v-actor-ext-sys\",\n    s_CssAudioMiniControl = \"v-audio-mini-control\",\n    s_CssBadgeValue = \"v-badge-value\",\n    s_CssBlockquoteFolder = \"v-blockquote-folder\",\n    s_CssBtn_BtnGroup = \".v-btn, .v-btn-group\",\n    s_CssBtn__Assistor = \".v-btn.assistor\",\n    s_CssCaptionContainer = \"v-cap-cntr\",\n    s_CssCaption__Mermaid = \"v-caption.mermaid\",\n    s_CssCodeMirrorLine = \"CodeMirror-line\",\n    s_CssContentExpander = \"v-content-expander\",\n    s_CssCursorLaser = \"v-cursor-laser\",\n    s_CssFences = \"md-fences\",\n    s_CssFloatCard = \"v-float-card\",\n    s_CssFig = \"v-fig\",\n    s_CssFigNavBtns = \".v-fig-nav-btns\",\n    s_CssFocusSearch = \"v-focus-serch\",\n    s_CssTocHistory = \"v-toc-history\",\n    s_CssImgInvertDark = \"v-img-invert-dark\",\n    s_CssMermaidRestyler = \"v-mermaid-restyler\",\n    s_CssNavCenterBlock = \"v-nav-center-block\",\n    s_CssNavCenterFloat = \"v-nav-center-float\",\n    s_CssPgCurrentItem = \"v-pg-current-item\",\n    s_CssPipBtn = \".v-pip-btn\",\n    s_CssRbCoat = \"v-rb-coat\",\n    s_CssResultNone = \"v-result-none\",\n    s_CssSegmentBtn = \"v-segment-btn\",\n    s_CssSpotlightInDark = \"v-spotlight-in-dark\",\n    s_CssTableCross = \".v-table-cross\",\n    s_CssTableCrossCell = \"v-table-cross-cell\",\n    s_CssTableRowGroupNotFolder = \"v-tbl-row-g-not-folder\",\n    s_CssTableRowGroupBtn = \".v-tbl-row-g-btn\",\n    s_CssTableRowNumHidden = \"v-tbl-row-num-hidden\",\n    s_CssTableColumnFormat_Checkbox = \"v-tbl-col-fmt-chkbox\",\n    s_CssTableColumnFormat_Bold = \"v-tbl-col-fmt-bold\",\n    s_CssTableColumnFormat_Em = \"v-tbl-col-fmt-em\",\n    s_CssTableColumnFormat_U = \"v-tbl-col-fmt-u\",\n    s_CssTableColumnFormat_Mark = \"v-tbl-col-fmt-mark\",\n    s_CssTableColumnFormat_Del = \"v-tbl-col-fmt-del\",\n    s_CssTableColumnFormat_NumNeg = \"v-tbl-col-fmt-num-negative\",\n    s_CssTableColumnFormat_NumPos = \"v-tbl-col-fmt-num-positive\",\n    s_CssTableRowGroupSub = \"v-tbl-row-g-sub\",\n    s_CssTableRowGroupIdenter = \"v-tbl-row-g-identer\",\n    s_CssText = \"cssText\",\n    s_CssTextFieldFocus = \"v-textfield-focus\",\n    s_CssThRepeater = \"v-th-repeater\",\n    s_CssTocFolder = \".v-toc-folder\",\n    s_CssTocFilterResult = \"v-toc-filter-result\",\n    s_CssTocItem = \"v-toc-item\",\n    s_CssTocItemCurrent = \"v-toc-item-current\",\n    s_CssTransitionAll = \"v-transition-all\",\n    s_Checked = \"checked\",\n    s_Class = \"class\",\n    s_Click = \"click\",\n    s_Codeblock = \"codeblock\",\n    s_Color = \"color\",\n    s_Colspan = \"colspan\",\n    s_Content = \"content\",\n    s_Controls = \"controls\",\n    s_Cursor = \"cursor\",\n    s_ColorScheme = \"color-scheme\",\n    s_Cost = \"    COST \",\n    s_Cover = \"cover\",\n    s_Dark = \"dark\",\n    s_Darksrc = \"darksrc\",\n    s_Darksrcset = \"darksrcset\",\n    s_DataAnchor = \"d-anchor\",\n    s_DataBeforePrintFolded = \"d-before-print-folded\",\n    s_DataBlockquoteFolded = \"d-blockquote-folded\",\n    s_DataBtnGroup = \"d-btn-group\",\n    s_DataCaptionCount =\"d-cap-count\",\n    s_DataCatalogEmpty = \"d-catalog-empty\",\n    s_DataCellMerge = \"d-cell-merge\",\n    s_DataClipboardText = \"data-clipboard-text\",\n    s_DataColspan = \"d-colspan\",\n    s_DataColumnFmting = \"d-column-fmting\",\n    s_DataContainer = \"d-cntr\",\n    s_DataContentExpanded = \"d-content-expanded\",\n    s_DataContentFolded = \"d-content-folded\",\n    s_DataContentType = \"d-content-type\",\n    s_DataDefault = \"d-default\",\n    s_DataExtend = \"d-extend\",\n    s_DataFigNum = \"d-fig-num\",\n    s_DataFigType = \"d-fig-type\",\n    s_DataFolded = \"d-folded\",\n    s_DataFolder = \"d-folder\",\n    s_DataFolderId = \"d-folder-id\",\n    s_DataFoldingQuote = \"d-folding\",\n    s_DataForSearch = \"data-for-search\",\n    s_DataDarkSrc = \"d-darksrc\",\n    s_DataDuration = \"d-duration\",\n    s_DataFigureGrid = \"d-fig-grid\",\n    s_DataHeaderNum = \"d-header-num\",\n    s_DataHash = \"d-hash\",\n    s_DataHistory = \"d-history\",\n    s_DataIcon = \"d-icon\",\n    s_DataIdFigType = \"d-id-fig-type\",\n    s_DataKeywordMatch = \"d-keyword-match\",\n    s_DataLmc = \"d-lmc\",\n    s_DataNode = \"d-node\",\n    s_DataPage = \"d-page\",\n    s_DataParentFolderId = \"d-parent-folder-id\",\n    s_DataPid = \"d-pid\",\n    s_DataQuoteGroup = \"d-quote-group\",\n    s_DataRef = \"data-ref\",\n    s_DataRainbowCellBg = \"d-rb-cell-bg\",\n    s_DataRainbowText = \"d-rb-text\",\n    s_DataRainbowWholeText = \"d-rb-whole-text\",\n    s_DataRowFolded = \"d-row-folded\",\n    s_DataRowOpenMode = \"d-row-open-mode\",\n    s_DataSrc_ = \"d-src-\",\n    s_DataSrcDark = \"d-src-dark\",\n    s_DataSrcLight = \"d-src-light\",\n    s_DataSrcset_ = \"d-srcset-\",\n    s_DataSrcsetDark = \"d-srcset-dark\",\n    s_DataSrcsetLight = \"d-srcset-light\",\n    s_DataTd2th = \"d-td2th\",\n    s_DataTitle = \"d-title\",\n    s_DataId = \"d-id\",\n    s_DataIdentLevel = \"d-ident-level\",\n    s_DataImgFill = \"d-img-fill\",\n    s_DataPause = \"d-pause\",\n    s_DataPgIdx = \"d-pg-idx\",\n    s_DataResult = \"d-result\",\n    s_DataRbCoatData = \"d-rb-coat-data\",\n    s_DataRbCoatShowed = \"d-rb-coat-showed\",\n    s_DataRowGroup = \"d-row-group\",\n    s_DataTblCol = \"d-tbl-col\",\n    s_DataTblCross = \"d-tbl-cross\",\n    s_DataThRpt = \"d-th-rpt\",\n    s_DataTips = \"d-tips\",\n    s_Details = \"details\",\n    s_Disabled = \"disabled\",\n    s_Display = \"display\",\n    s_DivClose = \"</div>\",\n    s_DocLib = \"doc-lib\",\n    s_Effect = \"effect\",\n    s_Enabled = \"enabled\",\n    s_Enabled_First = \"enabled first\",\n    s_Enabled_Last = \"enabled last\",\n    s_Emptied = \"emptied\",\n    s_Error = \"error\",\n    s_Failed = \"Failed [ \",\n    s_False = \"false\",\n    s_Fig = \"fig\",\n    s_Figure = \"figure\",\n    s_Fill = \"fill\",\n    s_Filter = \"filter\",\n    s_First_Enable_Last = \"first enabled last\",\n    s_Float = \"float\",\n    s_FontTheme = \"font-theme\",\n    s_FootnotesArea = \"footnotes-area\",\n    s_Freeze = \"freeze\",\n    s_Function = \"function\",\n    s_H6 = \"h6\",\n    s_Height = \"height\",\n    s_Hidden = \"hidden\",\n    s_Hotkey = \"Hotkey\",\n    s_Hover = \"hover\",\n    s_HoverAction = \"hover-action\",\n    s_Href = \"href\",\n    s_Id = \"id\",\n    s_Important = \" !important;\",\n    s_InStart = \"in-start\",\n    s_Interactive = \"Interactive\",\n    s_Invert = \"invert\",\n    s_Italic = \"italic\",\n    s_Lang = \"lang\",\n    s_LaserPointer = \"laser-pointer\",\n    s_Left = \"left\",\n    s_Light = \"light\",\n    s_Line = \"line\",\n    s_Loading = \"loading\",\n    s_Loop = \"loop\",\n    s_Margin = \"margin\",\n    s_MarginBottom = \"margin-bottom\",\n    s_MarginLeft = \"margin-left\",\n    s_MaxHeight = \"max-height\",\n    s_MaxWidth = \"max-width\",\n    s_MdToc = \"md-toc\",\n    s_Min = \"min\",\n    s_Mini = \"mini\",\n    s_MinWidth = \"min-width\",\n    s_MouseDown = \"mousedown\",\n    s_MouseUp = \"mouseup\",\n    s_MouseEnter = \"mouseenter\",\n    s_MouseLeave = \"mouseleave\",\n    s_Name = \"name\",\n    s_NavCenter = \"nav-center\",\n    s_None = \"none\",\n    s_Normal = \"normal\",\n    s_Off = \"off\",\n    s_On = \"on\",\n    s_Opacity = \"opacity\",\n    s_Open = \"open\",\n    s_Opened = \"opened\",\n    s_Overflow = \"overflow\",\n    s_OverflowX = \"overflow-x\",\n    s_OverflowY = \"overflow-y\",\n    s_Padding = \"padding\",\n    s_PaddingBottom = \"padding-bottom\",\n    s_PaddingLeft = \"padding-left\",\n    s_PaddingRight = \"padding-right\",\n    s_PaddingTop = \"padding-top\",\n    s_Par = \"par\",\n    s_ParagraphNav = \"paragraph-nav\",\n    s_Placeholder = \"placeholder\",\n    s_Playing = \"playing\",\n    s_Position = \"position\",\n    s_Preload = \"preload\",\n    s_Presentation = \"Presentation\",\n    s_PreWrap = \"pre-wrap\",\n    s_Print = \"print\",\n    s_Quote = \"quote\",\n    s_Right = \"right\",\n    s_Rowspan = \"rowspan\",\n    s_Rx = \"rx\",\n    s_Ry = \"ry\",\n    s_Selected = \"selected\",\n    s_Spotlight = \"spotlight\",\n    s_Span = \"<span>\",\n    s_SpanSpace = \"<span \",\n    s_SpanClose = \"</span>\",\n    s_Src = \"src\",\n    s_Srcset = \"srcset\",\n    s_Stroke = \"stroke\",\n    s_Style = \"style\",\n    s_SuffixImg = \".img\",\n    s_SuffixSvg = \".svg\",\n    s_Tabindex = \"tabindex\",\n    s_Table = \"table\",\n    s_TagName = \"tagName\",\n    s_Target = \"target\",\n    s_Text = \"text\",\n    s_TextAlign = \"text-align\",\n    s_TextLength = \"textLength\",\n    s_TextShadow = \"text-shadow\",\n    s_Theme = \"theme\",\n    s_Title = \"title\",\n    s_TocItem = \"#vlook-toc>.md-toc-item\",\n    s_ToolbarSpliter = \"toolbar-spliter\",\n    s_Top = \"top\",\n    s_Transform = \"transform\",\n    s_TransformOrigin = \"transform-origin\",\n    s_True = \"true\",\n    s_TTF = \"ttf\",\n    s_Two = \"two\",\n    s_Un = \"un\",\n    s_Unfreeze = \"unfreeze\",\n    s_vdl = \"vdl\",\n    s_VLOOK_ = \"VLOOK-\",\n    s_vlookDocLib = \"vlook-doc-lib\",\n    s_varAcRedLg = \"var(--ac-rd-lg)\",\n    s_varAcOrangeLg = \"var(--ac-og-lg)\",\n    s_varAcCyanLg = \"var(--ac-cy-lg)\",\n    s_varDBc = \"var(--d-bc)\",\n    s_varDFC = \"var(--d-f-c)\",\n    s_varMarkBg = \"var(--mark-bg)\",\n    s_varMmCyan = \"var(--mm-c-cy)\",\n    s_varMmCyanAlt = \"var(--mm-c-cy-alt)\",\n    s_varMmOrange = \"var(--mm-c-og)\",\n    s_varMmOrangeAlt = \"var(--mm-c-og-alt)\",\n    s_varMmRed = \"var(--mm-c-rd)\",\n    s_varMmRedAlt = \"var(--mm-c-rd-alt)\",\n    s_varNavCenterHiddenLeft = \"var(--v-nav-center-hidden-l)\",\n    s_varNavCenterWidth = \"var(--v-nav-center-w)\",\n    s_varRB = \"var(--v-r-b)\",\n    s_varRB__ = \"--v-r-b\",\n    s_varRC__ = \"--v-r-c\",\n    s_varRS__ = \"--v-r-s\",\n    s_varRT__ = \"--v-r-t\",\n    s_varRTag__ = \"--v-r-tag\",\n    s_varTblRowAlpha = \"var(--tbl-row-g-alpha)\",\n    s_VerticalAlign = \"vertical-align\",\n    s_Video = \"video\",\n    s_ViewBox = \"viewBox\",\n    s_Visibility = \"visibility\",\n    s_Wait = \"wait\",\n    s_WhiteSpace = \"white-space\",\n    s_Width = \"width\",\n    s_WOFF2 = \"woff2\",\n    s_writeMarginLeft = \"calc(var(--v-nav-center-w) + 30px)\",\n    s_Yes = \"yes\",\n    s_Zindex = \"z-index\",\n    tag_2space = \"&nbsp;&nbsp;\";\niStopwatch.st();\n\n// ==================== 内置函数调用简化 ==================== //\n\n// 控制台打印日志\nfunction LOG() {\n    console.log.apply(console, arguments);\n}\n// 控制台打印通知\nfunction INFO() {\n    console.info.apply(console, arguments);\n}\n// 控制台打印警告\nfunction WARN() {\n    console.warn.apply(console, arguments);\n}\n// 控制台打印错误\nfunction ERROR() {\n    console.error.apply(console, arguments);\n}\n// 弹窗显示信息\nfunction ALERT(m) {\n    alert(m);\n}\n\n// 获得文档 URL\nfunction WINDOW_getHref() {\n    return window.location.href;\n}\n\n// 设置文档 URL\nfunction WINDOW_setHref(value) {\n    window.location.href = value;\n}\n\n// 获得文档 URL 的 hash\nfunction WINDOW_getHash() {\n    return window.location.hash;\n}\n\n// ==================== JQuery 方法调用简化 ==================== //\n\nfunction JQ_addClass(target, className) {\n    if (target !== gUndefined)\n        target.addClass(className);\n}\n\nfunction JQ_removeClass(target, className) {\n    if (target !== gUndefined)\n        target.removeClass(className);\n}\n\nfunction JQ_exchangeClass(target, oldClassName, newClassName) {\n    if (target !== gUndefined) {\n        target.removeClass(oldClassName);\n        target.addClass(newClassName);\n    }\n}\n\nfunction JQ_remove(target) {\n    if (target !== gUndefined)\n        target.remove();\n}\n\n// attr 简化版\n$.prototype.a = function (key, value) {\n    if (value === gUndefined)\n        return this.attr(key);\n    else\n        return this.attr(key, value);\n}\n\n// css 简化版\n$.prototype.c = function (key, value) {\n    if (value === gUndefined)\n        return this.css(key);\n    else\n        return this.css(key, value);\n}\n\n// click 简化版\n$.prototype.ck = function (callback) {\n    this.click(callback);\n}\n\n// prev 简化版\n$.prototype.pr = function (value) {\n    return this.prev(value);\n}\n\n// next 简化版\n$.prototype.n = function (value) {\n    return this.next(value);\n}\n\n// children 简化版\n$.prototype.ch = function (value) {\n    return this.children(value);\n}\n\n// each 简化版\n$.prototype.e = function (callback) {\n    this.each(callback);\n}\n\n// find 简化版\n$.prototype.f = function (value) {\n    return this.find(value);\n}\n\n// html 简化版\n$.prototype.hm = function (value) {\n    if (value === gUndefined)\n        return this.html();\n    else\n        return this.html(value);\n}\n\n// width 简化版\n$.prototype.w = function () {\n    return this.width();\n}\n// innerWidth 简化版\n$.prototype.iW = function () {\n    return this.innerWidth();\n}\n// outerWidth 简化版\n$.prototype.oW = function (margin) {\n    if (margin !== gTrue)\n        return this.outerWidth();\n    else\n        return this.outerWidth(gTrue);\n}\n\n// height 简化版\n$.prototype.h = function () {\n    return this.height();\n}\n// innerHeight 简化版\n$.prototype.iH = function () {\n    return this.innerHeight();\n}\n\n// offset 简化版\n$.prototype.o = function () {\n    return this.offset();\n}\n\n// offset().left 简化版\n$.prototype.oL = function () {\n    return this.offset().left;\n}\n\n// offset().top 简化版\n$.prototype.oT = function () {\n    return this.offset().top;\n}\n\n// position 简化版\n$.prototype.pos = function () {\n    return this.position();\n}\n\n// parent 简化版\n$.prototype.p = function () {\n    return this.parent();\n}\n\n// parents 简化版\n$.prototype.ps = function () {\n    return this.parents();\n}\n\n// append 简化版\n$.prototype.ap = function (value) {\n    return this.append(value);\n}\n\n// prepend 简化版\n$.prototype.pp = function (value) {\n    return this.prepend(value);\n}\n\n// after 简化版\n$.prototype.af = function (value) {\n    return this.after(value);\n}\n\n// before 简化版\n$.prototype.bf = function (value) {\n    return this.before(value);\n}\n\n// text 简化版\n$.prototype.t = function (value) {\n    if (value === gUndefined)\n        return this.text();\n    else\n        return this.text(value);\n}\n\n// toggle 简化版\n$.prototype.tg = function (value) {\n    this.toggle(value);\n}\n\n// trigger 简化版\n$.prototype.tr = function (value) {\n    this.trigger(value);\n}\n\n// unbind(\"click\") 简化版\n$.prototype.uC = function () {\n    return this.unbind(s_Click);\n}\n\n// unbind(\"hover\") 简化版\n$.prototype.uH = function () {\n    return this.unbind(s_Hover);\n}\n\n// ==================== JavaScript 方法调用简化 ==================== //\n\n// match 简化版\nString.prototype.m = function (value) {\n    return this.match(value);\n}\n\n// replace 简化版\nString.prototype.r = function (searchValue, replaceValue) {\n    return this.replace(searchValue, replaceValue);\n}\n\n// trim 简化版\nString.prototype.x = function () {\n    return this.trim();\n}\n\n/**\n * replaceAll 简化版\n */\nString.prototype.rA = function (exp, value) {\n    const reg = new RegExp(exp, \"g\");\n    return this.replaceAll(reg, value);\n}\n\n/**\n * startsWith 简化版\n */\nString.prototype.sW = function (value) {\n    return this.startsWith(value);\n}\n\n/**\n * endsWith 简化版\n */\nString.prototype.eW = function (value) {\n    return this.endsWith(value);\n}\n\n// indexOf 简化版\nString.prototype.i = function (value) {\n    return this.indexOf(value);\n}\n\n// toLowerCase 简化版\nString.prototype.l = function () {\n    return this.toLowerCase();\n}\n\n// substring 简化版\nString.prototype.s = function (start, end) {\n    return this.substring(start, end);\n}\n\n// split 简化版\nString.prototype.sp = function (exp) {\n    return this.split(exp);\n}\n\n// parseInt 简化版\nfunction JS_parseInt(value) {\n    return parseInt(value);\n}\n\n// parseFloat 简化版\nfunction JS_parseFloat(value) {\n    return parseFloat(value);\n}\n\n// Math.round 简化版\nfunction JS_mathRound(value) {\n    return Math.round(value);\n}\n\n// Math.ceil 简化版\nfunction JS_mathCeil(value) {\n    return Math.ceil(value);\n}\n\n// decodeURI 简化版\nfunction JS_decodeURI(value) {\n    return decodeURI(value);\n}\n\n// ======================================== //\n\nLOG(\":::::::::::::::::::\");\n// LOG(devMode,lVer);\nLOG(\"!!! \" + (devMode ? \"- DEV -\" : \"RELEASED\" ) + \" !!!\");\nLOG(\"::: \" + vVer + \" :::\");\nLOG(\":::::::::::::::::::\");\n\nINFO(\"=== Load Document ===\");\n\n// UI 元素\nlet iToolbar = gUndefined,\n    iNavCenter = gUndefined,\n    iChapterNav = gUndefined,\n    iParagraphNav = gUndefined,\n    iSpotlight = gUndefined,\n    iLaserPointer = gUndefined,\n    iFontTheme = gUndefined,\n    iFigNav = gUndefined,\n    iInfoTips = gUndefined,\n    iFootNote = gUndefined;\n\n// ==================== 文档对象模型 ==================== //\n\n// 文档的 html 对象\nlet DOM_h = gUndefined;\nfunction DOM_html() {\n    if (DOM_h === gUndefined) {\n        DOM_h = $(\"html\");\n        if (DOM_h.length === 0) {\n            DOM_h = gUndefined;\n            ERROR(s_Failed + \"DOM.html ]\");\n        }\n    }\n    return DOM_h;\n}\n\n// 文档的 body 对象\nlet DOM_b = gUndefined;\nfunction DOM_body() {\n    if (DOM_b === gUndefined) {\n        DOM_b = $(\"body\");\n        if (DOM_b.length === 0) {\n            DOM_b = gUndefined;\n            ERROR(s_Failed + \"DOM.body ]\");\n        }\n    }\n    return DOM_b;\n}\n\n// ==================== VLOOK 对象模型 ==================== //\n\n// Markdown 导出为 HTML 的内容对象\nlet VOM_d = gUndefined;\nfunction VOM_doc() {\n    if (VOM_d === gUndefined) {\n        VOM_d = $(\"#write\");\n        if (VOM_d.length === 0) {\n            VOM_d = gUndefined;\n            ERROR(s_Failed + \"VOM.doc ]\");\n        }\n    }\n    return VOM_d;\n}\n\n// 封面对象\nlet VOM_c = gUndefined;\nfunction VOM_cover() {\n    if (VOM_c === gUndefined) {\n        VOM_c = $(`#write>pre.md-meta-block:first-child+${s_H6}, #write>${s_H6}:first-child`);\n        if (VOM_c.length === 0) {\n            VOM_c = gUndefined;\n            if (VOM_docTitle() === gUndefined)\n                WARN(s_Failed + \"VOM.c ], maybe no cover: \" + WINDOW_getHref());\n        }\n    }\n    return VOM_c;\n}\n\n// 封底对象\nlet VOM_bc = gUndefined;\nfunction VOM_backcover() {\n    // 注意该方法调用，必须在 #vk-footer-area 的位置调整前完成\n    if (VOM_bc === gUndefined) {\n        let fns = $(\".\" + s_FootnotesArea);\n        if (fns !== gUndefined) {\n            let backcover = fns.pr(),\n                tagName = V_util_getTagName(backcover);\n            if (tagName === \"h1\")\n                VOM_bc = backcover;\n        }\n        else {\n            VOM_bc = gUndefined;\n            WARN(s_Failed + \"VOM.bc ], maybe no backcover\");\n        }\n    }\n    return VOM_bc;\n}\n\n// 文档标题对象（无封面模式）\nlet VOM_dt = gUndefined;\nfunction VOM_docTitle() {\n    if (VOM_dt === gUndefined) {\n        VOM_dt = $(\"#vk-id-doc-title\");\n        if (VOM_dt.length === 0) {\n            VOM_dt = gUndefined;\n            WARN(s_Failed + \"VOM.dt ] \" + WINDOW_getHref());\n        }\n    }\n    return VOM_dt;\n}\n\n// ==================== 通用方法 ==================== //\n\n/**\n * 检查是否为空对象\n */\n$.prototype.isEmpty = function () {\n    return (typeof (this) == \"undefined\");\n}\n\n/**\n * 判断对象是否已隐藏\n */\n$.prototype.isHidden = function () {\n    let T = this;\n    return T !== gUndefined\n        && (T.c(s_Display) === s_None || T.c(s_Visibility) === s_Hidden || T.c(s_Opacity) === \"0\");\n}\n\n/**\n * 判断对象是否已显示\n */\n$.prototype.isShowed = function () {\n    return !this.isHidden();\n}\n\n/**\n * 在元素前后以指定的前缀和后缀文本进行包裹\n * @param pre 前缀文本\n * @param suff 后缀文本\n*/\n$.prototype.wrapText = function (pre, suff) {\n    this.hm(pre + this.hm() + suff);\n}\n\n/**\n * 替换 innerHTML 的内容\n * @param exp 用于匹配内容的正则表达式\n * @param value 将匹配的内容替换成该内容\n*/\n$.prototype.rHTML = function (exp, value) {\n    this.hm(this.hm().replace(exp, value));\n}\n\n/**\n * 从指定内容开始，替换之后的匹配的内容\n * @param str 从指定内容出现的位置开始进行替换\n * @param oldValue 被替换的内容\n * @param newValue 用于替换的新内容\n */\nString.prototype.rAfter = function (str, oldValue, newValue) {\n    let T = this,\n        i = T.i(str);\n    if (i > -1) {\n        let pre = T.s(0, i),\n            suff = T.s(i, T.length);\n        return pre + suff.r(oldValue, newValue);\n    }\n    return this;\n};\n\n/**\n * 判断是否为数值型\n */\nString.prototype.isNumber = function () {\n    return /^([-+])*\\d+(\\.\\d+)?$/.test(this);\n}\n\n/**\n * 判断是否为百分数\n */\nString.prototype.isPercent = function () {\n    return /^([-+])*\\d+(\\.\\d+)?%$/.test(this);\n}\n\n/**\n * 判断是否为货币型\n */\nString.prototype.isCurrency = function () {\n    return /^(\\D{1,3} )([-+])*\\d+(\\.\\d+)?$/.test(this);\n}\n\n/**\n * 环境信息类\n */\nconst env = {\n    /*\n    Windows 平台样例：\n        - (Chrome) Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36\n        - (Edge) Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.102 Safari/537.36 Edge/18.18362\n        - (Firefox) Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:69.0) Gecko/20100101 Firefox/69.0\n\n    macOS 平台样例：\n        - (Safari) Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.2 Safari/605.1.15\n        - (Chrome) Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36\n        - (Edge) Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.0.0 Safari/537.36 Edg/113.0.1774.35\n        - (Firefox) Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:69.0) Gecko/20100101 Firefox/69.0\n\n    iPhone 平台样例：\n        - (Safari) Mozilla/5.0 (iPhone; CPU iPhone OS 15_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.2 Mobile/15E148 Safari/604.1\n        - (Chrome) Mozilla/5.0 (iPhone; CPU iPhone OS 15_02 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/97.0.04692.72 Mobile/15E148 Safari/604.1\n        - (Edge) Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1 Edg/113.0.0.0\n        - (Firefox) Mozilla/5.0 (iPhone; CPU iPhone OS 15_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/40.2 Mobile/15E148 Safari/605.1.15\n        // 以下情况建议暂按以内核为判断标准 //\n        - (QQ) Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148 QQ/8.9.75.613 V1_IPH_SQ_8.9.75_1_APP_A Pixel/1125 MiniAppEnable SimpleUISwitch/0 StudyMode/0 CurrentMode/0 CurrentFontScale/1.000000 QQTheme/1000 AppId/537172547 Core/WKWebView Device/Apple(iPhone XS) NetType/WIFI QBWebViewType/1 WKType/1\n        - (微信) Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148 MicroMessenger/8.0.40(0x18002830) NetType/WIFI Language/zh_CN\n        - (钉钉) Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/20G75 AliApp(DingTalk/7.0.50) com.laiwang.DingTalk/31322509 Channel/201200 language/zh-Hans-CN UT4Aplus/0.0.6 WK\n    */\n\n    // 浏览器内核信息\n    core : function () {\n        const u = navigator.userAgent;\n        return {\n            trident: u.i(\"Trident\") > -1, // IE内核\n            presto: u.i(\"Presto\") > -1, // Opera内核\n            webkit: u.i(\"AppleWebKit\") > -1, // 苹果、谷歌内核\n            gecko: u.i(\"Gecko\") > -1 && u.i(\"KHTML\") === -1 // 火狐内核\n        };\n    }(),\n\n    // 设备信息\n    device : function () {\n        const u = navigator.userAgent;\n        return {\n            mobile: u.i(\"Mobile\") > -1, // 是否为移动终端\n            iOS: u.i(\"iPhone\") > -1, // iOS 类终端\n            android: u.i(\"Android\") > -1 || u.i(\"Linux\") > -1, // android 终端或者 UC 浏览器\n            iPhone: u.i(\"iPhone\") > -1, // 是否为 iPhone 或者 QQHD 浏览器\n            iPad: u.i(\"iPad\") > -1 // 是否 iPad\n        };\n    }(),\n\n    // 浏览器类型\n    browser : function () {\n        const u = navigator.userAgent;\n        return {\n            Chrome: (u.i(\"Chrome\") > -1 && u.i(\"Edg\") < 0) || u.i(\"CriOS\") > -1, // Chrome 浏览器\n            Firefox: u.i(\"Firefox\") > -1 || u.i(\"FxiOS\") > -1, // Firefox 浏览器\n            Safari: u.i(\"Safari\") > -1 && (u.i(\"Chrome\") < 0 || u.i(\"CriOSc\") < 0 || u.i(\"Edg\") < 0 || u.i(\"FxiOS\") < 0), // Safari 浏览器\n            Edge: u.i(\"Edg\") > -1 // Edge 浏览器\n        };\n    }(),\n\n    // 浏览器版本信息\n    browserVer : function () {\n        const u = navigator.userAgent;\n        return {\n            Chrome: u.m(/Chrome\\/[\\d.]+/gi) ? u.m(/Chrome\\/[\\d.]+/gi)[0].m(/\\d+/)[0] : \"0\", // Chrome 浏览器版本\n            Firefox: u.m(/Firefox\\/[\\d.]+/gi) ? u.m(/Firefox\\/[\\d.]+/gi)[0].m(/\\d+/)[0] : \"0\", // Firefox 浏览器版本\n            Safari: u.m(/Version\\/[\\d.]+.+Safari\\/[\\d.]+/gi) ? u.m(/Version\\/[\\d.]+.+Safari\\/[\\d.]+/gi)[0].m(/\\d+/)[0] : \"0\", // Safari 浏览器版本\n            Edge: u.m(/Edg\\/[\\d.]+/gi) ? u.m(/Edg\\/[\\d.]+/gi)[0].m(/\\d+/)[0] : \"0\" // Edge 浏览器版本\n        };\n    }(),\n\n    // 操作系统信息\n    os : function () {\n        const u = navigator.userAgent;\n        return {\n            Windows: /windows|win32|win64/i.test(u), // 是否为 Windows 平台\n            macOS: /macintosh/i.test(u), // 是否为 macOS 平台\n            iOS: /iphone os/i.test(u), // 是否为 iOS 平台\n            Linux: /linux/i.test(u) // 是否为 Linux 平台\n        };\n    }(),\n\n    // 语言信息\n    language : function () {\n        const lang = navigator.language;\n        return {\n            full: lang.l(),\n            base: lang.s(0, 2),\n            subset: lang.s(3, lang.length)\n        };\n    }(),\n\n    // 显示信息\n    display : function () {\n        return {\n            DPR : window.devicePixelRatio\n        };\n    }(),\n\n    /**\n     * 打印环境信息\n     * @param silent 是否为静默模式，静默模式只反馈环境信息值，不打印到控制台\n     * @returns string 环境信息\n     */\n    print : function (silent = gFalse) {\n        let info = \"::: Environmental :::\\n\",\n            r = info;\n        if (!silent) LOG(info);\n\n        info = \"    ├ Language   [ \"\n            + env.language.base\n            + (env.language.subset.length > 0 ? \"_\" + env.language.subset : \"\")\n            + \" ]\\n\";\n        r += info;\n        if (!silent) LOG(info);\n\n        info = \"    ├ Device     [ \"\n            + (env.device.mobile ? \"Mobile\" : \"\")\n            + (env.device.iOS ? \"/iOS\" : \"\")\n            + (env.device.android ? \"/Android\" : \"\")\n            + (env.device.iPhone ? \"/iPhone\" : \"\")\n            + (env.device.iPad ? \"/iPad\" : \"\")\n            + \"]\\n\";\n        r += info;\n        if (!silent) LOG(info);\n\n        info = \"    ├ OS         \" +\n            (env.os.macOS ? \"[ macOS ]\"\n                : (env.os.Windows ? \"[ Windows ]\"\n                    : (env.os.iOS ? \"[ iOS ]\"\n                        : (env.os.Linux ? \"[Linux]\" : \"[Others]\"))))\n            + \"\\n\";\n        r += info;\n        if (!silent) LOG(info);\n\n        info = \"    ├ Browser    [ \"\n            + (env.browser.Chrome ? \"Chrome / \" + env.browserVer.Chrome : \"\")\n            + (env.browser.Firefox ? \"Firefox / \" + env.browserVer.Firefox : \"\")\n            + (env.browser.Safari ? \"Safari / \" + env.browserVer.Safari : \"\")\n            + (env.browser.Edge ? \"Edge / \" + env.browserVer.Edge : \"\")\n            + \" ]\\n\";\n        r += info;\n        if (!silent) LOG(info);\n\n        info = \"    ├ Core       [ \"\n            + (env.core.gecko ? \"Gecko\" : \"\")\n            + (env.core.presto ? \"Presto\" : \"\")\n            + (env.core.trident ? \"Trident\" : \"\")\n            + (env.core.webkit ? \"WebKit\" : \"\")\n            + \" ]\\n\";\n        r += info;\n        if (!silent) LOG(info);\n\n        info = \"    ├ DPR        [ \"\n            + env.display.DPR\n            + \" ]\\n\"; // Device Pixel Ratio\n        r += info;\n        if (!silent) LOG(info);\n\n        info = \"    ├ Theme      [ \"\n            + V_util_getTemplateTheme()\n            + \" ]\\n\"; // 文档风格主题\n        r += info;\n        if (!silent) LOG(info);\n\n        info = \"    └ VLOOK Type [ \"\n            + V_type\n            + \" ]\\n\"; // VLOOK 插件运行类型\n        r += info;\n        if (!silent) LOG(info);\n\n        info = navigator.userAgent + \"\\n\";\n        r += info;\n        if (!silent) LOG(info);\n\n        return r;\n    },\n\n    // 打印 Mermaid 缩放信息\n    printMermaidDPR : function () {\n        let info = \"::: Mermaid DPR :::\\n\"\n            + \"    ├ DPR of builder  [ \" + RepairTool_mermaidDPR_builder + \" ]\\n\"\n            + \"    └ DPR of render   [ \" + RepairTool_mermaidDPR_render + \" ]\\n\";\n        LOG(info);\n        return info;\n    },\n\n    /**\n     * 屏幕上显示环境信息、Mermaid 信息等\n     **/\n    show : function (source) {\n        let info = env.print()\n            + env.printMermaidDPR()\n            + \"\\n----------\\nPowered by MAX°孟兆\\n\";\n        console.log(info);\n        Copyer_action(source, info, gFalse);\n        ALERT(info);\n    }\n};\n\n// ==================== VLOOK 关键信息类 ==================== //\n\nlet V_ver = vVer, // VLOOK 版本信息\n    V_debugMode = debugMode, // 是否为开发模式\n    V_type = \"max\", // 插件运行类型：max, pro, mini\n    V_params_url = [], // VLOOK 的调校参数\n    V_params_yaml = []; // VLOOK 文档的 YAML\n\n// 初始化调校参数\nfunction V_params_init() {\n    V_params_url = V_util_getUrlQueryParams(WINDOW_getHref());\n    let vp = V_util_getMetaByName(\"vlook-query\");\n    V_params_yaml = V_util_getUrlQueryParams(\"file.html\" + (vp !== gUndefined ? \"?\" + vp : \"\"));\n}\n// ========================================\n\n\n// ========================================\n// 在 debug 模式下输出调试信息\nfunction DEBUG(...info) {\n    if (V_debugMode)\n        WARN(...info);\n}\n\n// ========================================\n// VLOOK 本地数据读/写\n// 获得数据\nfunction V_data_get(key) {\n    return localStorage[s_VLOOK_ + key];\n}\n// 写入数据\nfunction V_data_set(key, value) {\n    localStorage[s_VLOOK_ + key] = value;\n}\n// ========================================\n\n// ========================================\n// VLOOK 工具包\n/**\n * 获取 HTML 文档标题\n */\nfunction V_util_getDocTitle() {\n    return $(document).a(s_Title);\n}\n\n/**\n * 获取 HTML <meta> 标签的内容\n * @param metaName 指定 meta 的名称\n * @returns 指定 meta 的内容\n */\nfunction V_util_getMetaByName(metaName) {\n    let content = $(\"meta[name='\" + metaName + \"']\").a(s_Content);\n    return (content === \"${\" + metaName + \"}\" ? gUndefined : content);\n}\n\n/**\n * 获取启动参数的值\n * @param pName 启动参数名称\n * @returns string 启动参数的值\n */\nfunction V_util_getParamVal(pName) {\n    let v = V_params_url[pName];\n    // URL 中无指定，则深度通过 YAML 中获取\n    if (v === gUndefined)\n        v = V_params_yaml[pName];\n    return v;\n}\n\n/**\n * 获取 URL 中的参数数组\n * @param u 完整的 URL 内容\n */\nfunction V_util_getUrlQueryParams(u) {\n    let h = u.i(\"#\");\n    u = h > -1 ? u.s(0, h) : u; // 只截取 URL 中 # 前的内容\n\n    let si = u.i(\"?\"),\n        qs = u.s(si > -1 ? si + 1 : u.length, u.length), // 获取url中\"?\"符后的字串\n        p = {}, // 保存参数数据的对象\n        is = (qs.length > 0) ? qs.sp(\"&\") : [], // 取得每一个参数项,\n        item = null,\n        l = is.length;\n\n    // 将所有参数拆解至数组中\n    for (let i = 0; i < l; i++) {\n        // WARN(u, is[i]);\n        item = is[i].sp(\"=\");\n        p[decodeURIComponent(item[0])] = decodeURIComponent(item[1]);\n    }\n    return p;\n}\n\n/**\n * 获取 URL 中的锚点\n * @param u 完整的 URL 内容\n */\nfunction V_util_getUrlHash(u) {\n    let i = u.i(\"#\");\n    return i > -1 ? u.s(i, u.length) : \"\";\n}\n\n/**\n * 获取 URL 中的参数字符串\n * @param u 完整的 URL 内容\n */\nfunction V_util_getUrlQueryString(u) {\n    let i = u.i(\"?\");\n    return i > -1 ? u.s(i + 1, u.length) : \"\";\n}\n\n/**\n * 获取 URL 中的不含锚点的部分\n * @param u 完整的 URL 内容\n */\nfunction V_util_getUrlWithoutHash(u) {\n    let i = u.i(\"#\");\n    return i > -1 ? u.s(0, i) : u;\n}\n\n/**\n * 获取 URL 中的不含锚点、参数的部分\n * @param u 完整的 URL 内容\n */\nfunction V_util_getUrlPathWithoutQueryAndHash(u) {\n    let queryIdx = u.i('?');\n    if (queryIdx > -1)\n        u = u.s(0, queryIdx);\n    else {\n        let hashIdx = u.i('#');\n        if (hashIdx > -1)\n            u = u.s(0, hashIdx);\n    }\n    return u;\n}\n\n/**\n * 获取 Alt / Option 修饰键情况\n * @returns boolean true：按下，false：未按下\n */\nfunction V_util_holdKey_Alt(event) {\n    return (event.altKey);\n}\n\n/**\n * 判断鼠标当前位置是否落在指定对象的区域范围内\n * @param target 指定对象\n * @param event 事件对象\n */\nfunction v_util_mouseDropIn(target, event) {\n    let mx = event.pageX || event.clientX + document.body.scrollLeft,\n        my = event.pageY || event.clientY + document.body.scrollTop,\n        padding = JS_parseInt(target.c(s_PaddingTop)) * 2,\n        borderBottomWidth = JS_parseInt(target.c(s_BorderBottomWidth));\n    return !(mx <= target.oL() || mx >= (target.oL() + target.w() + padding)\n        || my <= target.oT() || my >= (target.oT() + target.h() + padding + borderBottomWidth));\n}\n\n/**\n * 将预置颜色标识转换为驼峰格式\n * @param color 预置的颜色标识\n */\nfunction V_util_campColor(color) {\n    // 渐变色\n    if (color.length > 3) {\n        let gradientColors = V_util_splitColors(color),\n            count = gradientColors.length,\n            colorStr = \"\", gColor;\n        for (let i = 0; i < count; i++) {\n            gColor = gradientColors[i];\n            colorStr += gColor.charAt(0).toUpperCase() + gColor.slice(1);\n        }\n        return colorStr;\n    }\n    // 单色\n    return color.charAt(0).toUpperCase() + color.slice(1);\n}\n\n/**\n * 拆分渐变的预置颜色标识\n * @param color 预置的颜色标识\n * @return Array[] 颜色标识数组\n */\nfunction V_util_splitColors(color) {\n    let gradientColors = color.l().split(/(\\S{2})/i);\n    return gradientColors.filter(item => item !== \"\");\n}\n\n/**\n * 生成文本渐变色 CSS 代码\n * @param gradientColors 渐变色色号内容，如：RdBuYe\n * @param fade 透明度子标识\n * @param suffix 颜色后缀子标识\n */\nfunction V_util_genGradColorCSS(gradientColors, fade, suffix) {\n    let css = \"\",\n        count = gradientColors.length,\n        color = \"\";\n    for (let i = 0; i < count; i++) {\n        color = gradientColors[i];\n        css += \"var(--ac-\" + color\n            + fade\n            + (color === \"bk\" ? \"\" : suffix) + \")\";\n        if (i < count - 1)\n            css += \",\";\n    }\n    return css;\n}\n\n/**\n * 批量修改指定的 CSS 变量集\n * @param varSet 变量数组\n * @param flag 修改为指定变量集的标识\n */\nfunction V_util_changeCssVarSet(varSet, flag) {\n    // 生成目标颜色方案值列表\n    let tmp = [];\n    if (flag !== gUndefined) {\n        for (let i = 0, len = varSet.length; i < len; i++) {\n            tmp.push(V_util_getVarVal(varSet[i] + \"-\" + flag));\n        }\n    }\n    // 遍历所有变量实现 ColorScheme 切换\n    for (let i = 0, len = varSet.length; i < len; i++) {\n        if (flag !== gUndefined)\n            V_util_setVarVal(varSet[i], tmp[i]);\n        else\n            V_util_setVarVal(varSet[i], 0);\n    }\n}\n\n/**\n * 获得 URL 中的路径部分\n * @param u URL 地址\n */\nfunction V_util_getPath(u) {\n    let qi = u.i(\"?\"),\n        ti = u.s(0, qi).lastIndexOf(\"/\"),\n        pi = ti === -1 ? 0 : ti;\n    return u.s(0, pi + 1);\n}\n\n/**\n * 进行 HTML 特殊符号进行转义\n * @param text 原始文本\n * @return String 转义后文本\n */\nfunction V_util_htmlEncode(text) {\n    if (text.length === 0)\n        return \"\";\n    return text.r(/&/g, \"&amp;\")\n        .r(/</g, \"&lt;\")\n        .r(/>/g, \"&gt;\")\n        .r(/ /g, \"&nbsp;\")\n        .r(/'/g, \"&apos;\")\n        .r(/\"/g, \"&quot;\")\n        .r(/<br>/g, \"\");\n}\n\n/**\n * 进行 HTML 标签符转义\n * @param text 原始文本\n * @return String 转义后文本\n */\nfunction V_util_htmlTagEncode(text) {\n    if (text.length === 0)\n        return \"\";\n    return text.r(/</g, \"&lt;\")\n        .r(/>/g, \"&gt;\");\n}\n\n/**\n * 进行 HTML 单、双引号转义\n * @param text 原始文本\n * @return String 转义后文本\n */\nfunction V_util_htmlQuotEncode(text) {\n    if (text.length === 0)\n        return \"\";\n    return text.r(/'/g, \"&apos;\")\n        .r(/\"/g, \"&quot;\");\n}\n\n/**\n * 清理 HTML 中的单、双引号\n * @param text 原始文本\n * @return String 清理后的文本\n */\nfunction V_util_clearHtmlQuot(text) {\n    if (text.length === 0)\n        return \"\";\n    return text.r(/'/g, \"\")\n        .r(/\"/g, \"\");\n}\n\n/**\n * 处理并返回省略后的文本\n * @param text 原始文本\n * @param limit 头、尾长度限制\n * @return String 省略后的文本\n */\nfunction V_util_ellipsisText(text, limit) {\n    // 多个空格替换为 1 个\n    text = text.r(/\\s+/g, \" \");\n\n    // 不需要进行省略处理\n    if (text.length <= limit * 2)\n        return V_util_htmlTagEncode(text);\n\n    // 默认先按 1 个字占 1 个字节长度取头、尾部分\n    let h = text.s(0, limit).x(),\n        t = text.s(text.length - limit, text.length).x();\n    // 判断头、尾部分是否含中文\n    let cjkHeader = h.m(/\\p{Unified_Ideograph}/ug),\n        cjkTailer = t.m(/\\p{Unified_Ideograph}/ug);\n    if (cjkHeader != null && cjkHeader.length > 0)\n        h = __getChs(h, limit, cjkHeader);\n    if (cjkTailer != null && cjkTailer.length > 0)\n        t = __getChsRev(t, limit, cjkTailer);\n\n    /**\n     * 正序获取字符串（ 1 个 CJK 算两个字符）\n     *\n     * @param {*} str 原始字符\n     * @param {*} limit 限制长度\n     * @param {*} cjk CJK 字符数组\n     * @returns string 新的字符串\n     */\n    function __getChs(str, limit, cjk) {\n        let cnt = 0;\n        while (limit > 0) {\n            if (cjk.i(str[cnt]) > -1)\n                limit -= 2;\n            else\n                limit--;\n            cnt++;\n        }\n        return str.s(0, cnt);\n    }\n    /**\n     * 反序获取字符串（ 1 个 CJK 算两个字符）\n     *\n     * @param str 原始字符\n     * @param limit 限制长度\n     * @param cjk CJK 字符数组\n     * @returns string 新的字符串\n     */\n    function __getChsRev(str, limit, cjk) {\n        let count = 0,\n            len = str.length - 1;\n        while (limit > 0) {\n            if (cjk.i(str[len - count]) > -1)\n                limit -= 2;\n            else\n                limit--;\n            count++;\n        }\n        return str.s(len + 1 - count);\n    }\n\n    return V_util_htmlTagEncode(h + \" . . . \" + t);\n}\n\n/**\n * 重定位至锚点\n * @return boolean true：已进行重定向，false：无须进行重定向\n */\nfunction V_util_redirectTo() {\n    let hash = WINDOW_getHash();\n    // 如果 URL 带锚点\n    if (hash.length > 0 && hash !== \"#vk-id-doc-title\") {\n        LOG(\"    ↩ Redirect to h: \" + JS_decodeURI(hash));\n        WINDOW_setHref(\"#\"); // 强制先清空当前 hash\n        WINDOW_setHref(hash);\n        // 若最后访问的锚点与本次相同，则强制进行一次微调\n        setTimeout(function () {\n            V_ui_tuningScrollTop(hash);\n        }, 300);\n        return gTrue;\n    }\n    return gFalse;\n}\n\n/**\n * 跳转至页内锚点，并自动进行位置微调适配\n */\nfunction V_util_gotoHash(hash) {\n    let last = JS_decodeURI(WINDOW_getHash());\n    WINDOW_setHref(hash);\n    // 若前后锚点一样，则会导致不会触发 hashchange 事件，须强制进行一次微调\n    if (last === JS_decodeURI(hash))\n        V_ui_tuningScrollTop(hash);\n}\n\n/**\n * 获取 CSS 变量值\n * @param varName CSS 变量名\n */\nfunction V_util_getVarVal(varName) {\n    return getComputedStyle(document.documentElement).getPropertyValue(varName);\n}\n\n/**\n * 设置 CSS 变量值\n * @param varName CSS 变量名\n * @param value CSS 变量值\n */\nfunction V_util_setVarVal(varName, value) {\n    document.documentElement.style.setProperty(varName, value);\n}\n/**\n * 获取 HTML 文档使用的模板主题\n */\nfunction V_util_getTemplateTheme() {\n    return V_util_getVarVal(\"--v-theme-name\").rA(\"\\\"\", \"\").x();\n}\n\n/**\n * 获取 HTML 标签名称\n * @param target 标签对象\n */\nfunction V_util_getTagName(target) {\n    let tagName = (target === gUndefined ? \"\" : target.prop(s_TagName));\n    return (tagName === gUndefined ? \"\" : tagName.l());\n}\n// VLOOK 工具 包\n// ========================================\n\n// ========================================\n// 通用的格式化操作\n/**\n * 添加千位符\n * @param str 需要进行格式化的目标字符串\n * @returns string 格式化后的字符串\n */\nfunction V_formatting_thousands(str) {\n    return str.r(/(\\d)(?=(\\d{3})+(\\.\\d+)*(\\D)*$)/g, \"$1,\");\n}\n\n/**\n * 对小数部分进行格式化\n * @param str 需要进行格式化的目标字符串\n * @returns string 格式化后的字符串\n */\nfunction V_formatting_decimal(str) {\n    return str.r(/\\.(\\d+)/, \".<span class='v-tbl-col-fmt-num-decimal'>$1</span>\");\n}\n\n/**\n * 对百分号进行格式化\n * @param str 需要进行格式化的目标字符串\n * @returns string 格式化后的字符串\n */\nfunction V_formatting_percent(str) {\n    return str.r(/%</, s_SpanSpace + \"class='v-tbl-col-fmt-percent'> %</span><\");\n}\n\n/**\n * 对货币符号进行格式化\n * @param str 需要进行格式化的目标字符串\n * @returns string 格式化后的字符串\n */\nfunction V_formatting_currency(str) {\n    // 对于存在转义符号 $ 时（与 Markdown 的数学公式格式冲突，所以一般会写成 \\$）\n    // 先将其处理成不存在转义的标准形式，如：HK$\n    str = str.r(/<\\/span><span>([$])<\\/span><span>/, \"$1\");\n    str = str.r(/>([$])<\\/span><span>/, \">$1\");\n    // 因 html() 中含有 > 字符，所以替换的内容中须进行 > 的前后拼接调整\n    return str.r(/>([a-z$¥￥]{0,3})\\s/i, '><span class=\"v-tbl-col-fmt-currency\">$1</span>');\n}\n// ========================================\n\n// ========================================\n// 检查文档结构是否符合 VLOOK 规范程度\nfunction V_checkSpec () {\n    let v = gTrue,\n        c = [\n            \"因以下原因无法激活 VLOOK 插件：\\n\\n\",\n            \"The VLOOK plugin cannot be activated for the following reasons:\\n\\n\"\n            ][V_lang_id];\n\n    // 只支持由 Typora 导出的 HTML 文件\n    if (DOM_body().a(s_Class).i(\"typora-export\") === -1) {\n        c += [\n            \"• 只支持由 Typora 导出的 HTML 文件\\n\",\n            \"• Only HTML files exported by Typora are supported\\n\"\n            ][V_lang_id];\n        v = gFalse;\n    }\n\n    // 缺少目录\n    gToc = $(\".\" + s_MdToc);\n    if (gToc.length === 0) {\n        c += [\n            \"• 缺少 [TOC], 这是 GFM 标准的「目录」语法\\n\",\n            \"• Missing [TOC], the GFM standard \\\"Table of Content\\\"\\n\"\n            ][V_lang_id];\n    }\n\n    // 存在不符合规范的情况\n    if (!v) {\n        c += [\n            \"\\n建议参考文档模板：\",\n            \"\\nSuggestion Reference document template: \"\n        ][V_lang_id] + \"\\nreleased/demo/VLOOK-Document-Template.md\";\n\n        ALERT(c);\n        return gFalse;\n    }\n\n    // 符合规范\n    return gTrue;\n}\n// ========================================\n\n\n/**\n * 初始化关键组件实例\n */\nfunction V_init() {\n    let sw = new Stopwatch();\n    sw.st();\n    iFontTheme = new FontTheme(new BgMask(s_FontTheme, s_Center), V_util_getVarVal(\"--v-f-theme\"));\n    if (iFontTheme === gFalse)\n        ALERT(s_Failed + \"iFntThm ]\");\n    else\n        iFontTheme.init(V_util_getParamVal(\"wf\")); // 初始化\n    sw.ed(\"    ├ Font Themer: \");\n\n    // ==================== UI --------------------\n\n    // 聚光灯\n    sw.st();\n    iSpotlight = new Spotlight(180, new BottomTips(s_Spotlight));\n    if (iSpotlight === gFalse)\n        ALERT(s_Failed + \"iSpotlight ]\");\n    sw.ed(\"    ├ Spotlight: \");\n\n    // 激光笔\n    iLaserPointer = new LaserPointer(new BottomTips(\"laserPointe\"));\n    if (iLaserPointer === gFalse)\n        ALERT(s_Failed + \"iPter ]\");\n    sw.ed(\"    ├ LaserPointer: \");\n\n    // 长内容折叠\n    sw.st();\n    let cf = V_util_getParamVal(\"cf\");\n    ContentFolder_enabled = (cf !== s_Off);\n    // 指定对象（table,figure,codeblock）启用的处理\n    if (cf !== gUndefined && cf !== s_On && cf !== s_Off) {\n        ContentFolder_enabled_table = (cf.i(s_Table) > -1);\n        ContentFolder_enabled_figure = (cf.i(s_Figure) > -1);\n        ContentFolder_enabled_codeblock = (cf.i(s_Codeblock) > -1);\n    }\n\n    ContentFolder_init();\n    sw.ed(\"    ├ Content Folding: \");\n\n    // 工具提示\n    ToolTips_init();\n\n    // 弹窗信息提示\n    iInfoTips = new InfoTips(new BgMask(\"info-tips\", s_Center));\n    if (iInfoTips.length === 0)\n        ALERT(s_Failed + \"iInfoTips ]\");\n\n    // 导航中心\n    sw.st();\n    let runMode = V_util_getParamVal(\"nc\");\n    iNavCenter = new NavCenter(new BgMask(s_NavCenter, s_Left, gTrue), runMode);\n    if (iNavCenter === gFalse)\n        ALERT(s_Failed + \"iNavCenter ]\");\n    sw.ed(\"    ├ Nav Center: \");\n\n    // 逐章导航\n    sw.st();\n    iChapterNav = new ChapterNav(iNavCenter);\n    if (iChapterNav === gFalse)\n        ALERT(s_Failed + \"iChapNav ]\");\n    else {\n        // 添加关联组件\n        iNavCenter.chpNav = iChapterNav;\n    }\n    sw.ed(\"    ├ Chapter Nav: \");\n\n    // 工具栏\n    sw.st();\n    iToolbar = new Toolbar(iNavCenter, iChapterNav);\n    if (iToolbar === gFalse)\n        ALERT(s_Failed + \"iTb ]\");\n    else {\n        // 导航中心按钮\n        iToolbar.add(s_NavCenter, function () {\n            iNavCenter.tg();\n        });\n\n        // 文库\n        iToolbar.add(s_DocLib, function () {\n            if (iNavCenter.docLib.counter > 1) {\n                if (!iNavCenter.showed)\n                    iNavCenter.tg();\n                iNavCenter.keyword.input.focus();\n                iNavCenter.keyword.input.val(s_vdl);\n                iNavCenter.keyword.input.select();\n            }\n            else\n                iNavCenter.docLib.show(\"\", \"\");\n        });\n\n        // 分隔条\n        iToolbar.addSpliter(s_ToolbarSpliter);\n\n        // 段落导航\n        iToolbar.add(s_ParagraphNav, function () {\n            iInfoTips.inform([\n                \"开启方式：<br /><strong>三击文档中的「任意段落」</strong>\",\n                \"Open method:<br /><strong>three click \\\"any paragraph\\\" in the document</strong>\"\n            ][V_lang_id], 10000, gTrue);\n        });\n\n        // 聚光灯\n        iToolbar.add(s_Spotlight, function () {\n            iLaserPointer.hide();\n            if (iSpotlight.tg())\n                iParagraphNav.hide();\n        });\n\n        // 激光笔\n        iToolbar.add(s_LaserPointer, function () {\n            iSpotlight.hide();\n            if (iLaserPointer.tg())\n                iParagraphNav.hide();\n        });\n\n        // 打印按钮\n        iToolbar.add(s_Print, function () {\n            V_print_ready();\n        });\n\n        // 添加关联组件\n        iNavCenter.toolbar = iToolbar;\n        iSpotlight.toolbar = iToolbar;\n        iLaserPointer.toolbar = iToolbar;\n\n        // 绑定选择字体风格的工具栏按钮\n        iFontTheme.bindButton(iToolbar.btns[s_FontTheme]);\n    }\n    sw.ed(\"    ├ Toolbar: \");\n\n    // 插图浏览器\n    sw.st();\n    iFigNav = new FigureNav();\n    if (iFigNav === gFalse)\n        ALERT(s_Failed + \"iFigNav ]\");\n    sw.ed(\"    ├ Figure Nav: \");\n\n    // ----------------------------------------\n    sw.st();\n\n    // 文档更多内容栏遮罩栏\n    MoreDocContent_init();\n\n    // 脚注\n    iFootNote = new FootNote(new BgMask(\"foot-note\", s_Bottom, gTrue));\n    if (iFootNote === gFalse)\n        ALERT(s_Failed + \"iFootNote ]\");\n\n    // 状态栏相关\n    StsDocInfo_init();\n    // StsDocLib_init();\n    StsFontTheme_init();\n    StsColorScheme_init();\n    // StsZoomView_init();\n    StsLinkTool_init(new BgMask(\"link-checker\", s_Right, gTrue));\n\n    // 状态栏\n    StatusBar_init();\n    StatusBar_add(\"doc-info\", StsDocInfo_ui);\n    StatusBar_add(\"font-theme\", StsFontTheme_ui);\n    StatusBar_add(\"color-scheme\", StsColorScheme_ui);\n    StatusBar_add(\"link-checker\", StsLinkTool_ui);\n\n    sw.ed(\"    └ Misc: \");\n}\n\n/**\n * 初始化 VLOOK 核心模块\n */\nfunction V_initKernel() {\n    // ----------------------------------------\n    // 加载本文档主题配套的 Logo 图标\n    iStopwatch.st(\"* Document Logo\");\n    let icoLg = $(\".v-doc-logo-light\").c(s_BackgroundImage),\n        icoDk = $(\".v-doc-logo-dark\").c(s_BackgroundImage);\n    $(\"head\").ap(\"<link rel='icon' id='doc-icon-light' href='\" + icoLg.s(5, icoLg.length - 2) + \"' type='image/x-icon'/>\"\n        + \"<link rel='icon' id='doc-icon-dark' href='\" + icoDk.s(5, icoDk.length - 2) + \"' type='image/x-icon'/>\");\n    iStopwatch.ed(s_4space);\n\n    // ----------------------------------------\n    // 封面、封底处理\n    if (VOM_cover() === gUndefined) {\n        let vTp = (V_type === s_Mini ? \" mini\" : \"\");\n        VOM_doc().pp('<div id=\"vk-id-doc-title\" class=\"v-doc-title' + vTp + '\">' + V_util_getDocTitle() + s_DivClose);\n    }\n\n    // ----------------------------------------\n    // 初始化国际化 UI\n    iStopwatch.st(\"* UI i18n\");\n    V_ui_initI18n();\n    iStopwatch.ed(s_4space);\n\n    // ----------------------------------------\n    // 初始化题注生成器配置\n    if (V_util_getParamVal(\"capauto\") === s_On)\n        CaptionGenerator_autoContent = gTrue;\n\n    // ----------------------------------------\n    // 初始化音频数据\n    iStopwatch.st(\"* Audio: \");\n    ExtAudio_init();\n    iStopwatch.ed(s_4space);\n\n    // ----------------------------------------\n    // 初始化视频数据\n    iStopwatch.st(\"* Video: \");\n    ExtVideo_init();\n    iStopwatch.ed(s_4space);\n\n    // ========================================\n    // 初始化引用块\n    // 须在 ExtFigure 处理前，避免引用折叠处理中，对其内含有 svg 颜色替换处理导致 DOM 冲突而失效\n    iStopwatch.st(\"* Quote: \");\n    ExtQuote_init();\n    ExtQuote_adjustHoverStyle();\n    iStopwatch.ed(s_4space);\n\n    // ----------------------------------------\n    // 初始化插图数据\n    iStopwatch.st(\"* Figure: \");\n    ExtFigure_init();\n    iStopwatch.ed(s_Cost);\n\n    // ----------------------------------------\n    // 初始化表格\n    iStopwatch.st(\"* Table: \");\n    ExtTable_init();\n    iStopwatch.ed(s_Cost);\n\n    TableCross_init();\n    // 设置表格阅读模式的开关状态（不指定则默认开启）\n    RowGroup_adjustHoverStyle();\n\n    // ----------------------------------------\n    // 初始化代码块\n    iStopwatch.st(\"* Code Block: \");\n    ExtCodeBlock_init();\n    iStopwatch.ed(s_4space);\n\n    // ========================================\n    // Code Magic 处理\n    // （注意：须在 ExtQuote 初始化之后执行）\n    // 包括了：彩虹标签、彩虹徽章、彩虹引用、刮刮卡、文字注音等\n    iStopwatch.st(\"* Code & Xscript °Magic: \");\n    CodeMagic_init();\n    XscriptMagic_init();\n    iStopwatch.ed(s_4space);\n    // ========================================\n\n    // ========================================\n    // 在插图、表格、代码等内容的题注处理后，进行引用的二次初始化\n    ExtQuote_initAfterCap();\n    // ========================================\n\n    // ----------------------------------------\n    // 检查页内链接坏链\n    // 因涉及对 mdx 的处理，需要在文库处理之前（DocLib）进行\n    // __fork(\"Check Hash Link\", function () {\n    iStopwatch.st(\"* Check Hash Link: \");\n    LinkTool_mdToHtml();\n    LinkTool_checkLink();\n    iStopwatch.ed(s_4space);\n    // }, 250);\n\n    // ----------------------------------------\n    // 增强脚注\n    iStopwatch.st(\"* Foot Note: \");\n    FootNote.init();\n    iStopwatch.ed(s_4space);\n\n    // VLOOK UI 统一样式适配处理\n    V_ui_adjustHoverStyle();\n\n    // 主要针对小屏情况，完成表格初始化后进行适配\n    // 如果不是小屏，则由 adjustAll 触发\n    ContentFolder_adjust();\n\n    // ----------------------------------------\n    // 初始化 导航中心、章节导航 数据\n    iStopwatch.st(\"* Adjust NavCenter/ChapterNav/FigureNav/Toolbar/StatusBar\");\n    if (NavCenter.init()) {\n        if (!env.device.mobile)\n            iNavCenter.showHandle();\n\n        iNavCenter.adjust();\n        iChapterNav.adjust();\n        iToolbar.adjust();\n        StatusBar_adjust();\n\n        // 根据设备类型自适应 hover 样式\n        iNavCenter.catalog.adjustHoverStyle();\n        iChapterNav.adjustHoverStyle();\n        iFigNav.adjustHoverStyle();\n    }\n    iStopwatch.ed(s_4space);\n\n    // ----------------------------------------\n    // 自动生成可通过 DOM 引用的目录自动编号\n    ChpAutoNum_initToc();\n\n    // ----------------------------------------\n    // 文档没有任何可索引的对象时，默认不显示导航中心\n    if (!iNavCenter.catalog.hasIndexItem()\n        && !iNavCenter.figure.hasIndexItem()\n        && !iNavCenter.table.hasIndexItem()\n        && !iNavCenter.media.hasIndexItem()\n        && !iNavCenter.codeblock.hasIndexItem()) {\n            iNavCenter.runMode = \"closed\";\n    }\n\n    // ----------------------------------------\n    iStopwatch.st(\"* Binding Event\");\n    // 绑定文档鼠标移动事件，聚光灯跟随鼠标移动\n    document.addEventListener(\"mousemove\", function (event) {\n        iSpotlight.repaint(event);\n        iNavCenter.snap(event);\n    });\n\n    // 绑定文档的单击事件\n    $(document).uC().ck(function () {\n        TableCross_hide();\n        mmMindmap_init();\n    });\n\n    // 绑定文档的鼠标滚轮事件\n    document.addEventListener(\"mousewheel\", function (event) {\n        // 忽略处理，提升性能\n        return false;\n    }, false);\n\n    // 绑定文档的滚动事件\n    $(document).on(\"scroll\", function () {\n        let currentTime = new Date().getTime(),\n            scrollTop = $(document).scrollTop(),\n            timeInterval = gFalse,\n            docHeight = $(document).h();\n\n        // 显示或隐藏文档更多内容遮罩栏\n        if (scrollTop < 20\n            || scrollTop > (docHeight - 20)\n            || currentTime - V_doc_scroll_lastUpdate > 500)\n                MoreDocContent_refresh(scrollTop);\n\n        // ----------------------------------------\n        // 控制执行频率，避免处理过快影响性能\n        if (scrollTop < 20\n            || scrollTop > (docHeight - 20)\n            || (timeInterval = (currentTime - V_doc_scroll_lastUpdate) > 500)\n            || (timeInterval && Math.abs(scrollTop - V_doc_scroll_lastTop) > 100)) {\n                // 更新控制执行频率相关判断数据\n                V_doc_scroll_update(currentTime, $(document).scrollTop());\n                // 根据是屏幕大小进行不同的适配控制\n                V_ui_adjustAll();\n        }\n\n        // 由于涉及到章节导航栏数据更新等不同逻辑处理，执行频率由 focusHeader 内进行控制\n        iNavCenter.catalog.focusHeader(scrollTop);\n    });\n\n    // 绑定窗口大小缩放事件\n    $(window).on(\"resize\", function () {\n        TableCross_hide();\n        iNavCenter.catalog.focusHeader();\n        V_ui_adjustAll();\n        ExtQuote_uniteColumnsHeight();\n    });\n\n    // 绑定打印前的触发事件\n    window.onbeforeprint = function () {\n        if (V_type === s_Mini)\n            return;\n        // 不是通过 VLOOK 打印按钮进行打印时进行提醒\n        if (V_print_mode !== \"VLOOK\")\n            ALERT([\n                \"注意！为确保打印正常，建议使用文档内工具栏左侧的【打印】按钮进行打印！\",\n                \"Notice! To ensure normal printing, it is recommended to use the [Print] button on the left side of the toolbar in the document to print!\"\n            ][V_lang_id]);\n    };\n    // 绑定打印后的触发事件\n    window.onafterprint = function () {\n        if (V_type === s_Mini)\n            return;\n        V_print_done();\n    };\n\n    // 监听页内锚点链接跳转\n    // 注意：同一个锚点连续点击不会触发该事件\n    $(window).on(\"hashchange\", function(event) {\n        let h = WINDOW_getHash(),\n            anchor = h.s(1, h.length);\n        if (anchor.x().length === 0)\n            return;\n\n        iNavCenter.history.add(h);\n\n        // 锚点未显示的处理（如所在父元素被隐藏）\n        let aObj = $(\"#\" + JS_decodeURI(anchor) + \", a[name='\" + anchor + \"']\");\n        if (aObj !== gUndefined && aObj.o() !== gUndefined && aObj.oT() === 0) {\n            let hiddenObj = aObj.closest(s_Blockquote);\n            // 若属于被折叠的引用，则模拟点击展开，并重新定位到该引用\n            if (hiddenObj.length > 0 && hiddenObj.isHidden()) {\n                let fd = hiddenObj.pr().f(\".\" + s_CssBlockquoteFolder);\n                if (fd.length > 0) {\n                    fd.tr(s_MouseUp);\n                    WINDOW_setHref(h);\n                }\n            }\n        }\n\n        // 页内位置改变后，微调滚动条位置\n        if (gLastHash == null || gLastHash !== h) {\n            // 其中对于 Firefox 若不延时微调会存在微调无效的情况\n            setTimeout(function () {\n                V_ui_tuningScrollTop(JS_decodeURI(anchor));\n            }, env.browser.Firefox ? 300 : 0);\n        }\n        gLastHash = h;\n\n        // 若导航中心没有显示，则强制进行延时适配处理（如从封面直接到指定章节）\n        if (!iNavCenter.showed)\n            V_ui_adjustAllDelay();\n    });\n\n    iStopwatch.ed(s_4space);\n}\n\n/**\n * 初始化须在页面 body 显示后才能执行的部分\n */\nfunction V_initRestyle() {\n    let sw = new Stopwatch();\n\n    // ----------------------------------------\n    // 重置任务列表样式\n    sw.st();\n    Restyler_forTaskList();\n    sw.ed(\"    ├ TaskList: \");\n\n    // ----------------------------------------\n    // 重置脚本化图表样式，须在以上页面内容恢复显示后再处理\n    sw.st();\n    Restyler_forMermaid();\n    sw.ed(\"    └ Mermaid: \");\n}\n\n// ========================================\n// VLOOK UI\nlet V_ui_effect = 0, // 0: 无动效\n    V_ui_processingAdjust= gFalse;\n\n/**\n * 淡入显示\n * @param t 目标对象\n */\nfunction V_ui_show(t) {\n    if (t === gUndefined)\n        return;\n\n    t.c(s_Visibility, \"visible\")\n        .c(s_Opacity, 1);\n}\n\n/**\n * 淡出隐藏\n * @param t 目标对象\n */\nfunction V_ui_hide(t) {\n    if (t === gUndefined)\n        return;\n\n    t.c(s_Visibility, s_Hidden)\n        .c(s_Opacity, 0);\n}\n\nfunction V_ui_wrap_kbd(src) {\n    return \"<kbd>\" + src + \"</kbd>\"\n}\n/**\n * 获得当前 OS 环境下的 Ctrl 键 UI 元素\n */\nfunction V_ui_getCtrlKeyUI(unwrap, short) {\n    let key = short ? \"⌃\"\n        : (env.os.macOS ? \"⌃ control\" : \"⌃ Ctrl\");\n    return unwrap ? key : V_ui_wrap_kbd(key);\n}\n\n/**\n * 获得当前 OS 环境下的 Shift 键 UI 元素\n */\nfunction V_ui_getShiftKeyUI(unwrap, short) {\n    let key = short ? \"⇧\" : \"⇧ shift\";\n    return unwrap ? key : V_ui_wrap_kbd(key);\n}\n\n/**\n * 获得当前 OS 环境下的 Alt / Option 键 UI 元素\n */\nfunction V_ui_getAltKeyUI(unwrap, short) {\n    let str = env.os.macOS\n        ? (short ? \"⌥\" : \"⌥ option\") : \"Alt\";\n    return unwrap ? str : V_ui_wrap_kbd(str);\n}\n\n/**\n * 获得当前 OS 环境下的 Windows / Command 键 UI 元素\n */\nfunction V_ui_getMetaKeyUI(unwrap, short) {\n    let str = env.os.macOS\n        ? (short ? \"⌘\" : \"⌘ command\") : \"Win\";\n    return unwrap ? str : V_ui_wrap_kbd(str);\n}\n\n/**\n * 获得滚动条宽度\n */\nfunction V_ui_scrollWidth() {\n    let sc,\n        d = document.createElement(\"DIV\");\n    d.style.cssText = \"position: absolute; top: -9999px; width: 100px; height: 100px; overflow: hidden;\";\n    sc = document.body.appendChild(d).clientWidth;\n    d.style.overflowY = \"scroll\";\n    document.body.removeChild(d);\n    return sc - d.clientWidth;\n}\n\n/**\n * 获得 VLOOK 与技术支持信息内容\n * @returns string VLOOK 与技术支持信息内容\n */\nfunction V_ui_copyrightInfo() {\n    return '<div class=\"v-copyright\">'\n        + '<svg class=\"v-copyright-svg-ico\" width=\"24px\" height=\"24px\" style=\"display: inline-block; vertical-align: middle; cursor: pointer;\"><use xlink:href=\"#icoVLOOK\"></use></svg>' + tag_2space\n        + 'Published with <a href=\"https://github.com/MadMaxChow/VLOOK\" target=\"_blank\"><strong>VLOOK</strong></a>™ (V21.0) &amp; <a href=\"https://www.typora.io\" target=\"_blank\"><strong>Typora</strong></a>.'\n        + tag_2space + 'Support: <strong><a href=\"https://qm.qq.com/cgi-bin/qm/qr?k=oB8wpFG_4SEMf1CL9qVy-jMw0CMfSwff&jump_from=webapi\">QQ Group</a></strong> / <strong><a href=\"mailto:67870144@qq.com?subject=Feedback%20about%20VLOOK%20' + V_ver + '&body=Hi,%0D%0A%0D%0A====================%0D%0A%0D%0A' + encodeURI(env.print(gTrue)) + '\">Email</a></strong>.'\n        + s_DivClose\n}\n\n/**\n * 判断是否为小屏\n */\nfunction V_ui_isSmallScreen() {\n    return $(window).oW() <= gSmallScreenWidth;\n}\n\n/**\n * 微调页内跳转后的滚动条位置\n * @param anchor 锚点名称，不含 #，如含 # 会自动过滤\n */\nfunction V_ui_tuningScrollTop(anchor) {\n    if (anchor !== gUndefined && anchor.sW(\"#\"))\n        anchor = anchor.s(1, anchor.length);\n    if (anchor === gUndefined || anchor.x().length === 0)\n        return;\n\n    let t = JS_parseInt(iChapterNav.ui.c(s_Top)),\n        h = JS_parseInt(iChapterNav.ui.c(s_Height)),\n        y = 10,\n        aObj = $(\"#\" + JS_decodeURI(anchor) + \", a[name='\" + anchor + \"']\"),\n        tag = V_util_getTagName(aObj);\n\n    // h1-6\n    if (\"h1h2h3h4h5h6\".i(tag) > -1) {\n        y += (tag === s_H6)\n            ? (t + h + 16)\n            : (aObj.h() + 10 + (JS_parseInt(tag.s(1, 2)) - 1) * 6);\n        y -= JS_parseInt(V_util_getVarVal(\"--v-top-margin\"));\n    }\n    // 从底部脚注列表回到脚注位置\n    else if (anchor.sW(\"ref-footnote\"))\n        y += 70;\n    // 其他情况\n    else\n        y += t + h;\n    // 微调滚动位置\n    $(document).scrollTop($(document).scrollTop() - y);\n}\n\n/**\n * 生成 SVG 图标\n * @param i 图标资源集标识\n * @param w 图标宽度\n * @param h 图标高度\n * @param c 内置图标样式 v-svg-ico-xxx 标识：light / dark / alpha / ...\n * @param s 扩展补充的 style 样式\n */\nfunction V_ui_genSvgIcon(i, w, h, c, s) {\n    s = (s !== gUndefined) ? ' style=\"' + s + '\"' : \"\"\n    return '<svg width=\"' + w + 'px\" height=\"' + h + 'px\"' + s + ' class=\"v-svg-small-ico\">'\n        + '<use class=\"v-svg-ico-' + c + '\" xlink:href=\"#' + i + '\">'\n        + '</use></svg>';\n}\n\n/**\n * 生成 div 标签\n * @param idValue id 属性值\n * @param classValue class 属性值\n */\nfunction V_ui_genDiv(idValue, classValue) {\n    if (idValue.length > 0)\n        idValue = 'id=\"' + idValue + '\" ';\n    if (classValue.length > 0)\n        classValue = 'class=\"' + classValue + '\" ';\n    return '<div ' + idValue + classValue + '>';\n}\n\n/**\n * 初始 UI 国际化\n */\nfunction V_ui_initI18n() {\n    if (ContentFolder_ui !== gUndefined) {\n        ContentFolder_ui.f(\"div > span\").a(s_Title, [\n            \"查看更多\",\n            \"View More\"\n        ][V_lang_id]);\n    }\n\n    iToolbar.btns[s_NavCenter].a(s_DataTips, [\n        \"<strong>隐藏</strong> / <strong>显示</strong> 导航中心\",\n        \"<strong>Hide</strong> / <strong>Show</strong> Navigation Center\"\n    ][V_lang_id] + \"\\n<sub>\" + V_ui_wrap_kbd(\"O\") + \"</sub>\");\n\n    iToolbar.btns[s_DocLib].a(s_DataTips, [\n        \"浏览文库\",\n        \"Document Library\"\n    ][V_lang_id] + \"\\n<sub>\" + V_ui_wrap_kbd(\"L\") + \"</sub>\");\n\n    iToolbar.btns[s_ParagraphNav].a(s_DataTips, [\n        \"段落导航 模式\",\n        \"Paragraph Navigation mode\"\n    ][V_lang_id]);\n\n    iToolbar.btns[s_Spotlight].a(s_DataTips, [\n        \"聚光灯\",\n        s_Spotlight\n    ][V_lang_id] + \"\\n<sub>\" + V_ui_wrap_kbd(\"S\") + \"</sub>\");\n\n    iToolbar.btns[s_LaserPointer].a(s_DataTips, [\n        \"激光笔\",\n        \"Laser Pointer\"\n    ][V_lang_id] + \"\\n<sub>\" + V_ui_wrap_kbd(\"P\") + \"</sub>\");\n\n    iToolbar.btns[s_Print].a(s_DataTips, [\n        \"打印...\",\n        \"Print...\"\n    ][V_lang_id]);\n\n    iChapterNav.prev.ui.a(s_DataTips, [\n        \"前一章\",\n        \"Previous Chapter\"\n    ][V_lang_id] + \"\\n<sub>\" + V_ui_wrap_kbd(\"◄\") + \"</sub>\");\n\n    iChapterNav.next.ui.a(s_DataTips, [\n        \"后一章\",\n        \"Next Chapter\"\n    ][V_lang_id] + \"\\n<sub>\" + V_ui_wrap_kbd(\"►\") + \"</sub>\");\n\n    iChapterNav.dt.a(s_DataTips, [\n        \"回到封面\",\n        \"Back to cover\"\n    ][V_lang_id]);\n\n    iChapterNav.current.ui.a(s_DataTips, [\n        \"回到本章的开始\",\n        \"Go back to the beginning of this chapter\"\n    ][V_lang_id]);\n\n    iFigNav.btns.prev.a(s_Title, \"[ ← ] \" + [\n        \"前一张\",\n        \"Previous\"\n    ][V_lang_id]);\n\n    iFigNav.btns.next.a(s_Title, \"[ → ] \" + [\n        \"后一张\",\n        \"Next\"\n    ][V_lang_id]);\n\n    iFigNav.btns.close.a(s_Title, \"[ ESC ] \" + [\n        \"关闭\",\n        \"Close\"\n    ][V_lang_id]);\n\n    iFontTheme.ui.f(\".v-font-package\").t([\n        \"字体\",\n        \"Font\"\n    ][V_lang_id] + \" \");\n\n    iFontTheme.ui.f(\".v-font-theme-info\").hm([\n        \"若无法连接互联网加载在线版本字体，建议将字体直接下载到本地\",\n        \"If you cannot connect to the Internet to load the online version of the font, it is recommended to download the font directly to the local\"\n    ][V_lang_id] + \" (<a href='https://github.com/MadMaxChow/VLOOK/blob/master/FONT.md'>\" + [\n        \"主站\",\n        \"Primary\"\n    ][V_lang_id] + \"</a> | <a href='https://gitee.com/madmaxchow/VLOOK/blob/master/FONT.md'>\" + [\n        \"备用\",\n        \"Standby\"\n    ][V_lang_id] + \"</a>)\");\n\n    iFootNote.buttonSeeAll.ch(\"a\").t([\n        \"查看所有脚注\",\n        \"View all footnotes\"\n    ][V_lang_id] + \" ▶\");\n}\n\n/**\n * 移动到中间\n * @param s 源对象\n */\nfunction V_ui_moveToCenter(s) {\n    let l = ($(window).w() - s.w()) / 2,\n        r = s_Auto;\n    if (env.device.mobile) { // 移动端\n        l = 10;\n        r = 10;\n    }\n\n    s.c(s_Left, l)\n        .c(s_Right, r)\n        .c(s_Top, ($(window).h() - s.h()) / 2);\n}\n\n/**\n * 移动到中间\n * @param s 源对象\n * @param t 目标对象\n */\nfunction V_ui_moveToTarget(s, t) {\n    let l = t.oL(),\n        w = s.w() + JS_parseInt(s.c(s_PaddingLeft))\n            + JS_parseInt(s.c(s_PaddingRight))\n            + JS_parseInt(s.c(s_BorderWidth)) * 2;\n\n    if (l + w + 10 > $(window).w())\n        l = $(window).w() - w - 10;\n\n    s.c(s_Left, l)\n        .c(s_Top, t.oT() - $(document).scrollTop() + t.h() + 10);\n}\n\n/**\n * 进行文档导航相关的 UI 元素的适配处理\n */\nfunction V_ui_adjustAll() {\n    if (V_ui_processingAdjust)\n        return;\n\n    V_ui_processingAdjust = gTrue;\n\n    if (iNavCenter.adjust())\n        ContentFolder_adjust();\n    iChapterNav.adjust();\n    iToolbar.adjust();\n\n    V_ui_processingAdjust = gFalse;\n}\n\n/**\n * 模拟等待页面完成跳转后，再进行导航中心布局自适应处理\n */\nfunction V_ui_adjustAllDelay() {\n    setTimeout(function () {\n        V_ui_adjustAll();\n        ExtQuote_uniteColumnsHeight();\n    }, 500);\n}\n\n/**\n * 根据设备类型自适应hover样式\n */\nfunction V_ui_adjustHoverStyle() {\n    // 移动设备时解绑样式事件\n    if (env.device.mobile) {\n        $(s_CssBtn_BtnGroup).uH();\n        $(\".\" + s_CssSegmentBtn).uH();\n        $(\".\" + s_CssAccentBtn).uH();\n        StsFontTheme_ui.uH();\n        StsColorScheme_ui.uH();\n        $(\"#doc-lib-toc>.v-doc-lib-item\").uH();\n        $(\".v-std-code, .v-tag, .v-badge-name\").uH();\n        $(\".\" + s_CssBadgeValue).uH();\n    }\n    // 非移动设备时绑定样式事件\n    else {\n        // 所有常规按钮 hover 事件处理\n        V_ui_bindHover($(s_CssBtn_BtnGroup));\n        // 所有导航中心分段控制按钮 hover 事件处理\n        V_ui_bindHover($(\".\" + s_CssSegmentBtn));\n        // 所有辅助按钮 hover 事件处理\n        V_ui_bindHover($(\".\" + s_CssAccentBtn));\n        // 状态栏上的按钮\n        V_ui_bindHover(StsFontTheme_ui);\n        V_ui_bindHover(StsColorScheme_ui);\n        // 文库按钮 hover 事件处理\n        V_ui_bindHover($(\"#doc-lib-toc>.v-doc-lib-item\"));\n        // 代码、标签类 hover 事件处理\n        V_ui_bindHover($(\".\" + s_CssBadgeValue), gTrue);\n    }\n}\n\n/**\n * 为对象绑定 hover 事件\n * @param target 目标对象\n * @param cancleParent 是否临时模拟取消父元素的 hover 处理（即 mouseenter）\n */\nfunction V_ui_bindHover(target, cancleParent) {\n    target.hover(function () {\n        let _t = $(this);\n        JQ_addClass(_t, s_Hover);\n        if (cancleParent)\n            JQ_removeClass(_t.p(), s_Hover);\n    }, function () {\n        let _t = $(this);\n        JQ_removeClass(_t, s_Hover);\n        if (cancleParent)\n            _t.p().tr(s_MouseEnter);\n    });\n}\n\n/**\n * 为对象取消 hover 事件绑定\n * @param t 目标对象\n */\nfunction V_ui_unbindHover(t) {\n    t.unbind(s_MouseEnter).unbind(s_MouseLeave);\n}\n\n/**\n * 初始化动效处理\n */\nfunction V_ui_initEffectLevel() {\n    // 不启用动效\n    if (V_ui_effect < 1)\n        V_util_setVarVal(\"--v-trans-value\", s_None);\n    // 动效等级为 2 或更高级时才开启毛玻璃动效（如遮罩、插图浏览器背景）\n    else if (V_ui_effect >= 2)\n        JQ_addClass($(\".v-backdrop-blurs\"), s_Enabled);\n    // 以下动效等级为 1 或更高级时才开启\n    V_ui_addAnimate($(\"a kbd, a img\"));\n}\nfunction V_ui_initEffectLevel2() {\n    if (V_ui_effect >= 2)\n        JQ_addClass($(\".v-backdrop-blurs\"), s_Enabled);\n}\n\n/**\n * 为指定对象添加过渡动画\n * @param t 目标对象\n * @param css 应用的属性，不指定时默认为 “all”\n */\nfunction V_ui_addAnimate(t, css) {\n    // ERROR(t.hm());\n    if (V_ui_effect >= 1) {\n        if  (css === gUndefined) {\n            JQ_addClass(t, s_CssTransitionAll);\n        }\n        else {\n            let attrSet = css.sp(\" \");\n            for (let i = 0; i < attrSet.length; i++)\n                JQ_addClass(t, \"v-transition-\" + attrSet[i]);\n        }\n    }\n}\n\n/**\n * 为指定对象移除过渡动画\n * @param t 目标对象\n * @param css 应用的属性，不指定时默认为 “all”\n */\nfunction V_ui_removeAnimate(t, css) {\n    if  (css === gUndefined)\n        JQ_removeClass(t, s_CssTransitionAll);\n    else {\n        let attrSet = css.sp(\" \");\n        for (let i = 0; i < attrSet.length; i++)\n            JQ_removeClass(t, \"v-transition-\" + attrSet[i]);\n    }\n}\n\n/**\n * 检查目标对象是否有指定的任意过渡动画\n * @param t 目标对象\n * @returns boolean true：有，false：无\n */\nfunction V_ui_existAnimate(t) {\n    return t.a(s_Class).i(\"v-transition-\") > -1;\n}\n\n/**\n * 初始化热键\n */\nfunction V_ui_initHotkey() {\n    // 键盘按下事件\n    $(document).on(\"keydown\", function (event) {\n        const code = event.keyCode || event.which || event.charCode;\n        let combKeys = (event.ctrlKey ? V_ui_getCtrlKeyUI(true) : \"\")\n            + (event.shiftKey ? V_ui_getShiftKeyUI(true) : \"\")\n            + (event.altKey ? V_ui_getAltKeyUI(true) : \"\")\n            + (event.metaKey ? V_ui_getMetaKeyUI(true) : \"\");\n\n        if (V_debugMode) {\n            WARN(`KEY: ${combKeys} ${String.fromCharCode(code)} (${code})`);\n            ERROR(`keyCode: ${event.keyCode}, key: ${event.key}, code: ${event.code}`);\n        }\n\n        // 按下 alt / option 键\n        if (V_util_holdKey_Alt(event) === gTrue) {\n            ContentAssistor_toggleCopyMode(gTrue);\n        }\n\n        // 热键操作处理\n        iSpotlight.disposeHotkey(code, combKeys, event);\n        iLaserPointer.disposeHotkey(code, combKeys, event);\n        iParagraphNav.disposeHotkey(code, combKeys, event);\n        WelcomePage_disposeHotkey(code, combKeys, event);\n        iFigNav.disposeHotkey(code, combKeys, event);\n        iNavCenter.disposeHotkey(code, combKeys, event);\n        iFontTheme.disposeHotkey(code, combKeys, event);\n        iInfoTips.disposeHotkey(code, combKeys, event);\n        iFootNote.disposeHotkey(code, combKeys, event);\n        LinkTool_disposeHotkey(code, combKeys, event);\n\n        // 文档的热键操作处理，只在文档为当前焦点且没有弹层时才有效\n        if (V_doc_block || document.activeElement.tagName.l() !== \"body\")\n            return;\n\n        // 逐章导航热键操作处理\n        iChapterNav.disposeHotkey(code, combKeys, event);\n\n        let handled = false;\n        switch (code) {\n            case 79: // O 显示/隐藏导航中心\n                __showHideNavCenter();\n                handled = true;\n                break;\n            case 191: // / 导航中心搜索\n                // 与 Firefox 的 / 快捷键会存在冲突\n                // 所以针对 Firefox，快捷键为 Ctrl + / 或 Cmd + /\n                // 阻止默认的浏览器行为\n                event.preventDefault();\n                if (!iNavCenter.showed) {\n                    __showHideNavCenter();\n                }\n                iNavCenter.keyword.input.focus();\n\n                // 自动读取并粘贴剪粘板的文本内容\n                navigator.clipboard.readText().then(function (v) {\n                        iNavCenter.keyword.input.val(v);\n                        iNavCenter.keyword.input.select();\n                    }).catch(function (v) {\n                        ERROR(\"GET CLIPBOARD FAILED：\", v);\n                    });\n                handled = true;\n                break;\n            case 76: // L\n                if (iNavCenter.docLib.enabled)\n                    iToolbar.btns[s_DocLib].tr(s_Click);\n                handled = true;\n                break;\n            case 68: // D\n                StsColorScheme_ui.tr(s_Click);\n                handled = true;\n                break;\n            case 65: // A\n                if (iFontTheme.ui.isHidden())\n                    StsFontTheme_ui.tr(s_Click);\n                else\n                    iFontTheme.hide();\n                handled = true;\n                break;\n            case 80: // P\n                iParagraphNav.hide();\n                iSpotlight.hide();\n                iLaserPointer.tg();\n                handled = true;\n                break;\n            case 83: // S\n                iParagraphNav.hide();\n                iLaserPointer.hide();\n                iSpotlight.tg();\n                handled = true;\n                break;\n            case 27: // ESC\n                // 表格为阅读模式时，则退出\n                if (!TableCross_ui.isHidden()) {\n                    TableCross_disable();\n                    handled = true;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n\n        function __showHideNavCenter() {\n            if (iFigNav.ui.isShowed())\n                return;\n            iToolbar.btns[s_NavCenter].tr(s_Click);\n        }\n    });\n\n    // 松开任意键\n    $(document).on(\"keyup\", function (event) {\n        // 更新复制模式\n        if (ContentAssistor_copyAsMarkdown === gTrue) {\n            ContentAssistor_toggleCopyMode(gFalse);\n        }\n    });\n}\n// V.ui\n// ========================================\n\n// ========================================\n// VLOOK 语言类\nlet V_lang_id = 1;\n\n/**\n * 初始化语言\n */\nfunction V_lang_init() {\n    switch (env.language.base) {\n        case \"zh\":\n            V_lang_id = 0; // 中（简）\n            break;\n        default:\n            V_lang_id = 1; // 默认：英语\n    }\n}\n// V.lang\n// ========================================\n\n// ========================================\n// 文档类\nlet V_doc_block = gFalse; // 当前文档是否被模态窗口阻塞\n\n// 滚动信息\nlet V_doc_scroll_lastUpdate = 0, // 最后一次根据滚动变动更新 UI 的时间\n    V_doc_scroll_lastTop = 0; // 最后一次记录的滚动位置\n/**\n * 更新页面滚动信息\n *\n * @param u 最后更新滚动信息的时间时间\n * @param t 最后更新的滚动位置\n */\nfunction V_doc_scroll_update(u, t) {\n    V_doc_scroll_lastUpdate = u;\n    V_doc_scroll_lastTop = t;\n}\n\n/**\n * 冻结文档滚动\n */\nfunction V_doc_scroll_freeze() {\n    JQ_exchangeClass(DOM_body(), s_Unfreeze, s_Freeze);\n}\n\n/**\n * 解冻文档滚动\n */\nfunction V_doc_scroll_unfreeze() {\n    JQ_exchangeClass(DOM_body(), s_Freeze, s_Unfreeze);\n}\n\n// 内容计数器\nlet V_doc_counter_img = 0, // 图片总数\n    V_doc_counter_figure = 0, // 插图总数\n    V_doc_counter_postcard = 0, // 明信片数量\n    V_doc_counter_table = 0, // 表格总数\n    V_doc_counter_codeblock = 0, // 代码块总数\n    V_doc_counter_audio = 0, // 非 mini 模式音频总数\n    V_doc_counter_audiomini = 0, // mini 模式音频总数\n    V_doc_counter_video = 0, // 视频总数\n    V_doc_counter_details = 0; // 详情总数\n\n/**\n * 初始化外部链接（如：http://、https://、ftp://、站内链接等），为其添加 target 参数\n */\nfunction V_doc_link_adjustExternal() {\n    $(\"a:not([href^='#'])\").e(function () {\n        let a = $(this);\n        a.a(s_Target, a.a(s_Href));\n    });\n}\n// ========================================\n\n// ========================================\n// 打印类\n// 打印模式。none：指由直接使用浏览器自带的打印，vlook：指先通过 vlook 进行预处理\nlet V_print_mode = s_None;\n\n/**\n * 打印文档前处理\n */\nfunction V_print_ready() {\n    V_print_mode = \"VLOOK\";\n\n    // 若当前为 Dark Mode 则强制临时切换为 Light 模式\n    if (ColorScheme.scheme === s_Dark) {\n        ColorScheme.schemeBeforePrint = ColorScheme.scheme;\n        ColorScheme.scheme = s_Light;\n        ColorScheme.refresh();\n    }\n\n    // 将 Mermaid 图表题注 width 等属性临时禁用，并调整为 100%，以适应打印纸张宽度\n    $(\".\" + s_CssCaption__Mermaid).e(function () {\n        let _t = $(this);\n        _t.a(s_BeforePrintWidth, _t.c(s_Width));\n        _t.c(s_Width, \"100%\");\n    });\n\n    // 将 Mermaid 图表的 width, max-width 等属性临时禁用，并调整为 100%，以适应打印纸张宽度\n    $(\".\" + s_CssCaption__Mermaid + \" svg\").e(function () {\n        let _t = $(this);\n        if (_t.a(s_Width) === \"100%\") {\n            // 针对流程图\n            if (_t.a(s_Style).i(s_MaxWidth + \":\") > -1) {\n                _t.a(s_BeforePrintMaxWidth, _t.c(s_MaxWidth));\n                _t.c(s_MaxWidth, \"\");\n            }\n            // 针对状态机图\n            else if (_t.a(s_Style).i(s_Width + \":\") > -1) {\n                _t.a(s_BeforePrintWidth, _t.c(s_Width));\n                _t.c(s_Width, \"100%\");\n            }\n        } else { // 针对顺序图\n            _t.a(s_BeforePrintWidth, _t.a(s_Width));\n            _t.c(s_Width, \"100%\");\n        }\n    });\n\n    // 展开折叠的引用块\n    $(s_Details + \":not([\" + s_Open + \"])\").e(function () {\n        $(this).ch(\"summary\").tr(s_Click);\n    });\n\n    // 展开所有折叠的长内容\n    $(\"[\" + s_DataContentFolded + \"='true']\").e(function () {\n        $(this).next(\".\" + s_CssContentExpander).ch(\".v-btn\").tr(s_Click);\n    });\n\n    // 展开所有折叠的表格行\n    $(\".v-tbl-row-g-btn\").e(function () {\n        RowGroup_open($(this).p().p());\n    });\n\n    // 隐藏画中画\n    PicInPic_hide();\n\n    // 若存在「刮刮卡」内容，则先让用户确认是否显示\n    let rainbowCoats = $(\".\" + s_CssRbCoat);\n    if (rainbowCoats.length > 0) {\n        if (confirm(\"文档含有「刮刮卡」内容，打印前是否显示实际内容？\")) {\n            rainbowCoats.e(function () {\n                let _t = $(this);\n                if (_t.a(s_DataRbCoatShowed).sW(\"f\"))\n                    RainbowCoat_show(_t);\n            });\n        }\n    }\n\n    // 调用浏览器的打印功能\n    // 延后是为以上相关的异步和界面完成刷新\n    setTimeout(function () {\n        window.print();\n    }, 2000);\n}\n\n/**\n * 打印文档后处理\n */\nfunction V_print_done () {\n    // 若打印前为 Dark Mode 则先恢复为 Dark Mode\n    if (ColorScheme.schemeBeforePrint === s_Dark) {\n        ColorScheme.tg();\n    }\n\n    // 恢复打印前的配置，详见 V_print_ready()\n    $(\".\" + s_CssCaption__Mermaid).e(function () {\n        let _t = $(this);\n        _t.c(s_Width, _t.a(s_BeforePrintWidth));\n        _t.removeAttr(s_BeforePrintWidth);\n    });\n\n    // 恢复打印前的配置，详见 V_print_ready()\n    $(\".\" + s_CssCaption__Mermaid + \" svg\").e(function () {\n        let _t = $(this);\n        if (_t.a(s_Width) === \"100%\") {\n            // 针对流程图\n            if (_t.a(s_Style).i(s_MaxWidth + \":\") > -1) {\n                _t.c(s_MaxWidth, _t.a(s_BeforePrintMaxWidth));\n                _t.removeAttr(s_BeforePrintMaxWidth);\n            }\n            // 针对状态机图\n            else if (_t.a(s_Style).i(s_Width + \":\") > -1) {\n                _t.c(s_Width, _t.a(s_BeforePrintWidth));\n                _t.removeAttr(s_BeforePrintWidth);\n            }\n        } else { // 针对顺序图\n            _t.c(s_Width, _t.a(s_BeforePrintWidth));\n            _t.removeAttr(s_BeforePrintWidth);\n        }\n    });\n\n    // 隐藏所有刮刮卡\n    // $(\".\" + s_CssRbCoat).e(function () {\n    //     let _t = $(this);\n    //     if (_t.a(s_DataRbCoatShowed).sW(\"t\"))\n    //         RainbowCoat_hide(_t);\n    // });\n\n    V_print_mode = s_None;\n}\n\n// ========================================\n// VLOOK 埋点数据统计\n// 上报事件的累计次数，用于标识不同的上报事件 iframe 的 id\nlet V_report_count =  0;\n\n/**\n * 提交统计数据\n */\nfunction V_report_submit(loadTimeCost) {\n    // VLOOK 基本信息\n    let sd = \"?p=vlook\"\n        + \"&ver=\" + V_ver\n        + \"&thm=\" + V_util_getTemplateTheme();\n\n    sd += \"&d=\" + (env.device.mobile ? \"mob\" : \"\") // 设备类型\n        + \"&dpr=\" + env.display.DPR; // DPR\n\n    // OS 信息\n    sd += \"&os=\";\n    if (env.os.macOS)\n        sd += \"macOS\";\n    else if (env.os.Windows)\n        sd += \"Windows\";\n    else if (env.os.iOS)\n        sd += \"iPhone\";\n    else if (env.os.Linux)\n        sd += \"iPhone\";\n    else\n        sd += \"others\";\n\n    // 浏览器及版本\n    sd += \"&b=\";\n    if (env.browser.Edge)\n        sd += \"edge&bv=\" + env.browserVer.Edge;\n    else if (env.browser.Chrome)\n        sd += \"chrome&bv=\" + env.browserVer.Chrome;\n    else if (env.browser.Firefox)\n        sd += \"firefox&bv=\" + env.browserVer.Firefox;\n    else if (env.browser.Safari)\n        sd += \"safari&bv=\" + env.browserVer.Safari;\n    else\n        sd += \"others&bv=\";\n\n    // 浏览器的颜色方案\n    sd += \"&cs=\" + V_util_getVarVal(\"--v-color-scheme\").rA(\"\\\"\", \"\").x();\n\n    sd += \"&lang=\" + V_lang_id // 浏览器语言\n        + \"&size=\" + VOM_doc().t().length // 文档大小\n        + \"&time=\" + loadTimeCost; // 加载文档时间\n\n    // 图片插图数据\n    sd += \"&img=\" + $(\".\" + s_CssFig).length\n        + \"&img-fold=\" + $(\"p[\" + s_DataContainer + \"='img'][\" + s_DataContentFolded + \"='true']\").length\n        + \"&img-fill=\" + $(\"img:not([\" + s_DataImgFill + \"])\").length\n        + \"&img-invert=\" + $(\"img[\" + s_DataDarkSrc + \"='invert']\").length\n        + \"&img-alter=\" + $(\"img[\" + s_DataDarkSrc + \"='alter']\").length\n        + \"&img-cap1=\" + $(\"div[id^=vk-id-fig][\" + s_DataIdFigType + \"='img'] .v-cap-1 strong\").length\n        + \"&img-cap2=\" + $(\"div[id^=vk-id-fig][\" + s_DataIdFigType + \"='img'] .v-cap-2\").length;\n\n    // Mermaid 插图数据\n    let mermaid = $(\".md-diagram-panel\");\n    sd += \"&mm=\" + mermaid.length\n        + \"&mm-fold=\" + $(\"div[\" + s_DataContainer + \"='svg'][\" + s_DataContentFolded + \"='true']\").length\n        + \"&mm-cap1=\" + $(\"div[id^=vk-id-fig][\" + s_DataIdFigType + \"='svg'] .v-cap-1 strong\").length\n        + \"&mm-cap2=\" + $(\"div[id^=vk-id-fig][\" + s_DataIdFigType + \"='svg'] .v-cap-2\").length;\n\n    // Mermaid 音频数据\n    sd += \"&audio=\" + $(s_Audio).length\n        + \"&mm-cap1=\" + $(\"div[id^=vk-id-audio] .v-cap-1 strong\").length\n        + \"&mm-cap2=\" + $(\"div[id^=vk-id-audio] .v-cap-2\").length;\n\n    // Mermaid 视频数据\n    sd += \"&video=\" + $(s_Video).length\n        + \"&mm-cap1=\" + $(\"div[id^=vk-id-video] .v-cap-1 strong\").length\n        + \"&mm-cap2=\" + $(\"div[id^=vk-id-video] .v-cap-2\").length;\n\n    // Mermaid 图的细类\n    let pie = 0,\n        flow = 0,\n        flowSTART = 0,\n        flowINIT = 0,\n        state = 0,\n        seq = 0,\n        classD = 0,\n        gantt = 0;\n    mermaid.e(function () {\n        let _t = $(this);\n        if (_t.f(\"g.legend\").length > 0)\n            pie++; // 饼图\n        else if (_t.f(\"g.output g.nodes\").length > 0) {\n            flow++; // 流程图\n            if (_t.f(\"g.output g.nodes g#START.node\").length > 0)\n                flowSTART++; // VLOOK 标准的流程图\n            else if (_t.f(\"g.output g.nodes g#INIT.node\").length > 0)\n                flowINIT++; // VLOOK 标准的状态机图\n        }\n        else if (_t.f(\"g.stateGroup\").length > 0)\n            state++; // 状态机图（原生）\n        else if (_t.f(\"g rect.actor\").length > 0)\n            seq++; // 顺序图\n        else if (_t.f(\"g.classGroup\").length > 0)\n            classD++; // 类图\n        else if (_t.f(\"g rect.section\").length > 0)\n            gantt++; // 甘特图\n    });\n    sd += \"&mm-pie=\" + pie\n        + \"&mm-flow=\" + flow\n        + \"&mm-flow-S=\" + flowSTART\n        + \"&mm-flow-I=\" + flowINIT\n        + \"&mm-state=\" + state\n        + \"&mm-seq=\" + seq\n        + \"&mm-class=\" + classD\n        + \"&mm-gantt=\" + gantt;\n\n    // 表格数据\n    sd += \"&tbl=\" + $(s_Table).length\n        + \"&tbl-fold=\" + $(\"figure[\" + s_DataContainer + \"='\" + s_Table + \"'][\" + s_DataContentFolded + \"='true']\").length\n        + \"&tbl-cap1=\" + $(\"div[id^=vk-id-tbl] .v-cap-1 strong\").length\n        + \"&tbl-cap2=\" + $(\"div[id^=vk-id-tbl] .v-cap-2\").length;\n\n    // 表格列格式数据\n    let fmBold = 0,\n        fmEm = 0,\n        fmUnderline = 0,\n        fmMark = 0,\n        fmDel = 0,\n        fmChk = 0,\n        fmNum = 0;\n    $(s_Table + \"[\" + s_DataColumnFmting + \"='true']\").e(function () {\n        let _t = $(this);\n        if (_t.f(\"thead .v-tbl-col-fmt-bold\").length > 0)\n            fmBold++;\n        if (_t.f(\"thead .v-tbl-col-fmt-em\").length > 0)\n            fmEm++;\n        if (_t.f(\"thead u\").length > 0)\n            fmUnderline++;\n        if (_t.f(\"thead .v-tbl-col-fmt-mark\").length > 0)\n            fmMark++;\n        if (_t.f(\"thead del\").length > 0)\n            fmDel++;\n        if (_t.f(\"thead .v-tbl-col-fmt-chkbox\").length > 0)\n            fmChk++;\n        if (_t.f(\"thead .v-tbl-col-fmt-num\").length > 0)\n            fmNum++;\n    });\n    sd += \"&tbl-fm-b=\" + fmBold\n        + \"&tbl-fm-em=\" + fmEm\n        + \"&tbl-fm-u=\" + fmUnderline\n        + \"&tbl-fm-m=\" + fmMark\n        + \"&tbl-fm-d=\" + fmDel\n        + \"&tbl-fm-chk=\" + fmChk\n        + \"&tbl-fm-num=\" + fmNum;\n\n    // 带单元格合并的表格数\n    sd += \"&tbl-cell-merge=\" + $(s_Table + \"[\" + s_DataCellMerge + \"='true']\").length;\n\n    // 带行折叠的表格数\n    sd += \"&tbl-row-group=\" + $(s_Table + \"[\" + s_DataRowGroup + \"='true']\").length;\n\n    // 代码块数据\n    sd += \"&cb=\" + $(\".\" + s_CssFences).length\n        + \"&cb-fold=\" + $(\"p[\" + s_DataContainer + \"='pre'][\" + s_DataContentFolded + \"='true']\").length\n        + \"&cb-cap1=\" + $(\"div[id^=vk-id-codeblock] .v-cap-1 strong\").length\n        + \"&cb-cap2=\" + $(\"div[id^=vk-id-codeblock] .v-cap-2\").length;\n\n    // 标签数据\n    sd += \"&tag=\" + $(\"code[class^=v-tag]\").length\n        + \"&badge=\" + $(\"code[class^=v-badge-name]\").length;\n\n    // 折叠引用数据\n    sd += \"&dt=\" + $(s_Details).length;\n\n    // 脚注数据\n    sd += \"&fn=\" + $(\".md-footnote\").length;\n\n    // 当前文档的 URL\n    sd += \"&url=\" + WINDOW_getHref();\n\n    // 提交统计数据\n    let vlookStat = $(\"iframe[name='vlook-stat-gitee']\");\n    vlookStat.a(s_Src,\n        \"https://madmaxchow.gitee.io/vlook/act/\" + (V_debugMode ? \"dev-\" : \"\") + \"stat-gitee.html\"\n        + encodeURI(sd));\n}\n\n/**\n * 上报事件统计数据（基于百度统计）\n * 为兼容在本地打开的 HTML 文件，所以通过 iframe 的方式进行数据上报\n * @param d 数据数组，与百度统计的 _hmt.push([\"_trackEvent\", data[0], data[1], data[2], data[3]) 的参数保持一致\n */\n// function V_report_push(d) {\n//     return false; // 暂停事件数据上报，因百度统计免费版已下线了事件服务\n//     // ---\n//     $(\"body\").ap('<iframe name=\"vk-event-' + V_report_count + '\" style=\"display: block; margin: 0; border: none; overflow: hidden; width: 100%; height: 0;\"'\n//         + ' src=\"https://madmaxchow.gitee.io/vlook/act/'\n//         + (V_debugMode ? \"dev-\" : \"\")\n//         + 'event-gitee.html'\n//         + \"?category=\" + (V_debugMode ? \"dev-\" : \"\") + d[0]\n//         + \"&action=\" + d[1]\n//         + \"&label=\" + d[2]\n//         + \"&value=\" + d[3]\n//         + \"&debug=\" + V_debugMode\n//         + '\"></iframe>');\n//\n//     // 默认在指定时间后回收 iframe 资源\n//     setTimeout(V_report_recycleResources, 10000);\n//     V_report_count++;\n// }\n\n/**\n * 转换标签名为 VLOOK 中的特定内容类型名称\n */\nfunction V_report_transTagName(t) {\n    if (t.sW(\"i\"))\n        return s_Fig + s_SuffixImg;\n    else if (t.sW(\"s\"))\n        return s_Fig + s_SuffixSvg;\n    else if (t.sW(\"t\"))\n        return s_Table;\n    else if (t.sW(\"pr\"))\n        return s_Codeblock;\n    return \"Unknown\";\n}\n\n/**\n * 移除上报事件的资源\n */\nfunction V_report_recycleResources() {\n    $(\"iframe[name^=vk-event-]\").e(function () {\n        JQ_remove($(this));\n        return gFalse; // 执行一次即跳出，即每次只删除当前最早创建的\n    });\n}\n// V.report\n// ========================================\n\n// ==================== 随机颜色类 ==================== //\n\nlet RandomColor_palette = []; // 不相似颜色的色板\n\n/**\n * 生成随机颜色\n * @returns number[] R/G/B 颜色分量是数组\n */\nfunction RandomColor_generate() {\n    let c = [0, 0, 0];\n    c[0] = Math.floor(Math.random() * 255);\n    c[1] = Math.floor(Math.random() * 255);\n    c[2] = Math.floor(Math.random() * 255);\n    return c;\n}\n\n/**\n * 生成不相似的随机颜色\n * @returns number[] R/G/B 颜色分量是数组\n */\nfunction RandomColor_dissimilarRgb() {\n    // 色板为空时，生成随机颜色后直接返回\n    let c = [0, 0, 0];\n    if (RandomColor_palette.length === 0) {\n        c = RandomColor_generate();\n        RandomColor_palette.push(c);\n        return c;\n    }\n\n    // 色板不为空时，避免相似的颜色\n    let flag = gFalse,\n        t = 0,\n        d = [0, 0, 0];\n\n    // 随机生成不相似的颜色（最多尝试次数上限为 20）\n    while (!flag && t < 20) {\n        c = RandomColor_generate();\n        // 判断新生成的随机颜色，色板中是否已有相似的\n        let idx = 0;\n        for (let i = 0; i < RandomColor_palette.length; i++) {\n            idx = i;\n            d[0] = (RandomColor_palette[i][0] - c[0]) / 256;\n            d[1] = (RandomColor_palette[i][1] - c[1]) / 256;\n            d[2] = (RandomColor_palette[i][2] - c[2]) / 256;\n            // 比例两个颜色的 RGB 色差来作为相似性的依据（0.3 为经验值，值越大差异最大）\n            if (Math.sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]) < 0.3)\n                break;\n        }\n\n        // 色板中没有找到相似的颜色\n        if (idx === RandomColor_palette.length) {\n            RandomColor_palette.push(c);\n            flag = gTrue;\n        }\n        t++;\n    }\n    return c;\n}\n\n/**\n * 格式化颜色为 rgba 格式\n * @param rgb RGB 颜色分量数组\n * @param opacity 透明度，0:透明，1:不透明\n */\nfunction RandomColor_format(rgb, opacity) {\n    return \"rgba(\" + rgb[0] + \", \" + rgb[1] + \", \" + rgb[2] + \", \" + opacity + \")\";\n}\n\n// ==================== 处理耗时计时器类 ==================== //\n\n/**\n * 构造函数\n */\nfunction Stopwatch() {\n    let T = this;\n    T.sT = null; // 重置后的初始时间\n    T.lT = null; // 每次中间计时的初始时间\n\n    /**\n     * 重置计时器\n     */\n    T.reset = function () {\n        T.sT = new Date().getTime();\n    }\n\n    /**\n     * 一次中间计时开始\n     */\n    T.st = function (t) {\n        if (t !== gUndefined)\n            LOG(t);\n        T.lT = new Date().getTime();\n    }\n\n    /**\n     * 一次中间计时结束\n     * @param pre 输出内容前缀\n     * @param slient 是否为静默模式，true：是\n     */\n    T.ed = function (pre, slient) {\n        let c = new Date().getTime() - T.lT;\n        // 非静默模式时，输出计时结果\n        if (!slient) {\n            let msg = pre + \"⏱ \" + c + \" ms\";\n            if (c < 300)\n                INFO(msg);\n            else if (c < 500)\n                WARN(msg);\n            else\n                ERROR(msg);\n        }\n        return c;\n    }\n\n    /**\n     * 计时器结束\n     */\n    T.stop = function () {\n        return new Date().getTime() - T.sT;\n    }\n\n    // 初始化计时器\n    T.reset();\n}\n\n// ==================== 欢迎页 ==================== //\n\nlet WelcomePage_uiName = \".v-welcome-page\",\n    WelcomePage_ui = gUndefined, // 欢迎页主界面\n    WelcomePage_button = gUndefined, // 关闭欢迎页按钮\n    WelcomePage_tips = gUndefined, // 欢迎信息\n    WelcomePage_finished = gFalse, // 是否已加载\n    WelcomePage_mode = \"auto\"; // 模式\n\n/**\n * 构造函数\n * @param mode 欢迎页显示模式\n */\nfunction WelcomePage_init(mode) {\n    WelcomePage_ui = $(WelcomePage_uiName); // 欢迎页主界面\n    WelcomePage_button = $(WelcomePage_uiName + \">.v-loading\"); // 关闭欢迎页按钮\n    WelcomePage_tips = $(WelcomePage_uiName + \">.v-tips\"); // 欢迎信息\n    WelcomePage_finished = gFalse; // 是否已加载\n    WelcomePage_mode = mode; // 模式\n\n    // 初始执行\n    if (WelcomePage_mode === s_None)\n        WelcomePage_close();\n    else\n        V_ui_show(WelcomePage_ui);\n}\n\n/**\n * 完成所有内容加载后调用\n */\nfunction WelcomePage_done() {\n    // 关闭欢迎页事件\n    WelcomePage_button.uC().ck(function () {\n        WelcomePage_close();\n    });\n\n    WelcomePage_ui.c(s_Cursor, \"default\");\n    WelcomePage_stopAni();\n\n    WelcomePage_tips.c(s_Animation, s_None);\n\n    WelcomePage_updateCloseButton(null);\n    JQ_addClass(WelcomePage_button, \"v-btn-done\");\n\n    WelcomePage_finished = gTrue;\n\n    // auto 模式时延时自动关闭\n    let delay = JS_parseInt(WelcomePage_mode);\n    if (delay > 60) // 控制秒数上限\n        delay = 60;\n    if (WelcomePage_mode === s_Auto || delay >= 0)\n        WelcomePage_autoClose(delay);\n    // wait 模式\n    else if (WelcomePage_mode === s_Wait)\n        JQ_addClass(WelcomePage_button, s_Wait);\n}\n\n/**\n * 自动延时关闭\n * @param delay VLOOK Query 调校参数指定的延时自动关闭秒数\n */\nfunction WelcomePage_autoClose(delay) {\n    let delaySecs = (delay >= 0 ? delay : JS_parseInt(V_util_getVarVal(\"--v-ws-delay\"))),\n        closeTimer = null;\n\n    __timeToClose();\n\n    // 关闭倒计时\n    function __timeToClose() {\n        WelcomePage_updateCloseButton(delaySecs);\n        delaySecs--;\n        if (delaySecs < 0) { // 倒计时结束\n            clearTimeout(closeTimer);\n            closeTimer = null;\n            WelcomePage_close();\n        }\n        else\n            closeTimer = setTimeout(__timeToClose, 1000);\n    }\n}\n\n/**\n * 更新关闭按钮\n * @param sec 显示倒计时的秒数\n */\nfunction WelcomePage_updateCloseButton(sec) {\n    WelcomePage_button.hm([\n        \"开始阅览\",\n        \"Start Reading\"\n    ][V_lang_id]\n        + (sec == null ? \"\" : \" <span> (\" + sec + \"s)</span>\"));\n}\n\n/**\n * 停止加载时的呼吸动画\n */\nfunction WelcomePage_stopAni() {\n    WelcomePage_tips.c(s_Animation, s_None);\n}\n\n/**\n * 关闭欢迎页\n */\nfunction WelcomePage_close() {\n    WelcomePage_ui.hide();\n    V_doc_scroll_unfreeze();\n}\n\n/**\n * 处理热键操作\n * @param code 非功能键键\n * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n * @param event 事件对象\n */\nfunction WelcomePage_disposeHotkey(code, combKeys, event) {\n    if (!WelcomePage_finished || WelcomePage_ui.isHidden())\n        return;\n\n    let handled = false;\n    switch (code) {\n        case 13: // ENTER\n            // 关闭欢迎页\n            WelcomePage_close();\n            handled = true;\n            break;\n    }\n\n    // 如果事件已处理，则禁止双重操作\n    if (handled)\n        event.preventDefault();\n}\n\n// ==================== 内容助手类 ==================== //\n\nlet ContentAssistor_ui = gUndefined,\n    ContentAssistor_btns_openInFigureNav = gUndefined, // 插图浏览器中打开\n    ContentAssistor_btns_copyContent = gUndefined, // 复制内容\n    ContentAssistor_btns_tableCross = gUndefined, // 表格阅读模式（十字光标）\n    ContentAssistor_btns_tableWrap = gUndefined, // 表格自动换行\n    ContentAssistor_btns_picInPic = gUndefined, // 「画中画」\n    ContentAssistor_copyAsMarkdown = gFalse, // 复制模式\n    // 最后显示新标签打开按钮的内容（插图/表格等\n    ContentAssistor_lastTarget = gUndefined, // 用于代码、标签、徽章\n    ContentAssistor_lastHover = gUndefined,\n    ContentAssistor_lastContentType = gUndefined;\n\nfunction ContentAssistor_init() {\n    ContentAssistor_ui = $(\".v-content-assistor\");\n    ContentAssistor_btns_copyContent = $(s_CssBtn__Assistor + \".copy\"); // 复制内容\n    ContentAssistor_btns_openInFigureNav = $(s_CssBtn__Assistor + \".open-in-figure-nav\"); // 插图浏览器中打开\n    ContentAssistor_btns_tableCross = $(s_CssBtn__Assistor + \".table-cross\"); // 表格阅读模式（十字光标）\n    ContentAssistor_btns_tableWrap = $(s_CssBtn__Assistor + \".table-wrap\"); // 表格自动换行\n    ContentAssistor_btns_picInPic = $(s_CssBtn__Assistor + \".pic-in-pic\"); // 「画中画」\n\n    ContentAssistor_btns_openInFigureNav.a(s_DataTips, [\n        \"全屏显示\",\n        \"Full screen\"\n    ][V_lang_id]);\n\n    ContentAssistor_btns_tableCross.a(s_DataTips, [\n        \"阅读模式\",\n        \"Reading mode\"\n    ][V_lang_id]);\n\n    ContentAssistor_btns_tableWrap.a(s_DataTips,  [\n        \"自动换行 / 不换行\",\n        \"Wrap / Unwrap\"\n    ][V_lang_id]);\n\n    ContentAssistor_btns_picInPic.a(s_DataTips, [\n        \"画中画\",\n        \"Picture in picture\"\n    ][V_lang_id]);\n\n    ContentAssistor_ui.on(s_MouseLeave, function (event) {\n        if (!v_util_mouseDropIn(ContentAssistor_lastHover, event))\n            ContentAssistor_hide();\n    });\n\n    /**\n     * 初始化内容助手\n     */\n    // 在插图浏览器中打开\n    ContentAssistor_btns_openInFigureNav.uC().ck(function () {\n        ContentAssistor_hide();\n        iFigNav.show(ContentAssistor_lastHover);\n    });\n\n    //  开/关表格阅读模式（十字光标）\n    ContentAssistor_btns_tableCross.uC().ck(function () {\n        TableCross_toggle(ContentAssistor_lastHover);\n    });\n\n    //  开/关表格自动换行\n    ContentAssistor_btns_tableWrap.uC().ck(function () {\n        TableWrap_toggle(ContentAssistor_lastHover);\n    });\n\n    ContentAssistor_btns_copyContent.uC().ck(function (event) {\n        __actionCopy($(this), event);\n    });\n\n    // 画中画\n    ContentAssistor_btns_picInPic.uC().ck(function () {\n        PicInPic_show(ContentAssistor_lastHover);\n    });\n\n    ToolTips_bind(ContentAssistor_btns_copyContent);\n    ToolTips_bind(ContentAssistor_btns_openInFigureNav);\n    ToolTips_bind(ContentAssistor_btns_tableCross);\n    ToolTips_bind(ContentAssistor_btns_tableWrap);\n    ToolTips_bind(ContentAssistor_btns_picInPic);\n\n    function __actionCopy(target, event) {\n        if (ContentAssistor_lastHover === gUndefined)\n            return;\n\n        if (ContentAssistor_lastContentType === s_Codeblock)\n            ExtCodeBlock_copyContent(target, event);\n        else if (ContentAssistor_lastContentType === s_Fig + s_SuffixImg)\n            ExtFigure_copySrc(target, event);\n        else if (ContentAssistor_lastContentType === s_Table)\n            ExtTable_copyContent(target, event);\n    }\n}\n\n/**\n * 切换「复制」模式\n * @param mode false: 普通，true: 复制为 Markdown\n */\nfunction ContentAssistor_toggleCopyMode(mode) {\n    ContentAssistor_copyAsMarkdown = mode;\n    if (ContentAssistor_copyAsMarkdown) {\n        // 切换复制光标、内容助手的复制图标\n        V_util_setVarVal(\"--cur-copy\", V_util_getVarVal(\"--cur-copy-as-md\"));\n        ContentAssistor_btns_copyContent.hm(V_ui_genSvgIcon(\"icoCopyAsMd\", 16, 16, s_Light));\n    }\n    else {\n        // 恢复复制光标、内容助手的复制图标\n        V_util_setVarVal(\"--cur-copy\", V_util_getVarVal(\"--cur-copy-normal\"));\n        ContentAssistor_btns_copyContent.hm(V_ui_genSvgIcon(\"icoCopy\", 16, 16, s_Light));\n    }\n}\n\n/**\n * 绑定对象的 hover 行为\n * @param target 目标对象\n * @param contentType 内容类型：Figure/Table/CodeBlock\n */\nfunction ContentAssistor_bind(target, contentType) {\n    // 鼠标悬停时事件处理\n    target.hover(function () {\n        V_ui_removeAnimate(ContentAssistor_ui);\n\n        // 更新复制模式\n        if (ContentAssistor_lastHover !== target)\n            ContentAssistor_toggleCopyMode(gFalse);\n\n        ContentAssistor_lastHover = target;\n        ContentAssistor_lastContentType = contentType;\n\n        let asMarkdown =  \"\\n<sub>\" + [\n            \"按住\",\n            \"Hold\"\n            ][V_lang_id]\n            + tag_2space+ V_ui_getAltKeyUI() + [\n                tag_2space +\"- 复制为 Markdown\",\n                tag_2space +\"- Copy as Markdown\"\n                ][V_lang_id] + \"</sub>\";\n        if (contentType === s_Codeblock) {\n            ContentAssistor_btns_copyContent.a(s_DataTips, [\n                \"复制全部代码\",\n                \"Copy code\"\n            ][V_lang_id] + asMarkdown);\n        }\n        else if (contentType === s_Fig + s_SuffixImg) {\n            ContentAssistor_btns_copyContent.a(s_DataTips, [\n                \"复制图片地址\",\n                \"Copy Image Link\"\n            ][V_lang_id] + asMarkdown);\n        }\n        else if (contentType === s_Table) {\n            ContentAssistor_btns_copyContent.a(s_DataTips, [\n                \"复制表格内容\",\n                \"Copy Table Content\"\n            ][V_lang_id] + asMarkdown);\n        }\n\n        ContentAssistor_show();\n    }, function (event) {\n        if (!v_util_mouseDropIn(ContentAssistor_lastHover, event))\n            ContentAssistor_hide();\n    });\n}\n\n/**\n * 显示指定内容的内容助手\n */\nfunction ContentAssistor_show() {\n    if (ContentAssistor_lastHover === gUndefined)\n        return;\n\n    // 圆角重置样式\n    JQ_removeClass(ContentAssistor_btns_copyContent, s_First_Enable_Last);\n    JQ_removeClass(ContentAssistor_btns_openInFigureNav, s_First_Enable_Last);\n    JQ_removeClass(ContentAssistor_btns_tableCross, s_First_Enable_Last);\n    JQ_removeClass(ContentAssistor_btns_tableWrap, s_First_Enable_Last);\n    JQ_removeClass(ContentAssistor_btns_picInPic, s_First_Enable_Last);\n\n    // 插图\n    if (ContentAssistor_lastContentType.sW(s_Fig)) {\n        // 图片插图\n        if (ContentAssistor_lastContentType.eW(\"img\")) {\n            JQ_addClass(ContentAssistor_btns_copyContent, s_Enabled_First);\n            JQ_addClass(ContentAssistor_btns_openInFigureNav, s_Enabled);\n        }\n        // 非图片插图\n        else\n            JQ_addClass(ContentAssistor_btns_openInFigureNav, s_Enabled_First);\n        // 画中画\n        JQ_addClass(ContentAssistor_btns_picInPic, s_Enabled_Last);\n    }\n    // 表格\n    else if (ContentAssistor_lastContentType === s_Table) {\n        // 复制\n        JQ_addClass(ContentAssistor_btns_copyContent, s_Enabled_First);\n        // 阅读模式\n        JQ_addClass(ContentAssistor_btns_tableCross, s_Enabled);\n        if (ContentAssistor_lastHover.a(s_DataTblCross) === s_True)\n            JQ_addClass(ContentAssistor_btns_tableCross, s_Selected);\n        else\n            JQ_removeClass(ContentAssistor_btns_tableCross, s_Selected);\n        // 自动换行\n        JQ_addClass(ContentAssistor_btns_tableWrap, s_Enabled);\n        if (ContentAssistor_lastHover.c(s_WhiteSpace) === s_PreWrap)\n            JQ_addClass(ContentAssistor_btns_tableWrap, s_Selected);\n        else\n            JQ_removeClass(ContentAssistor_btns_tableWrap, s_Selected);\n        // 画中画\n        JQ_addClass(ContentAssistor_btns_picInPic, s_Enabled_Last);\n    }\n    // 代码块\n    else if (ContentAssistor_lastContentType === s_Codeblock) {\n        // 复制\n        JQ_addClass(ContentAssistor_btns_copyContent, s_Enabled_First);\n        // 画中画\n        JQ_addClass(ContentAssistor_btns_picInPic, s_Enabled_Last);\n    }\n\n    // ----------------------------------------\n    // 计算助手显示的位置\n    let caption = ContentAssistor_lastHover.p(),\n        className = caption.a(s_Class),\n        container = caption.p(),\n        offset = 0;\n    // 对于存在横向滚动的情况时，须计算其偏移量用来位置调整\n    if (className !== gUndefined && className.i(\"v-caption\") > -1\n        && container !== gUndefined) {\n            className = container.a(s_Class);\n            if (className !== gUndefined && className.i(s_CssCaptionContainer) > -1) {\n                let capWidth = JS_parseInt(caption.w()),\n                    conWidth = JS_parseInt(container.w());\n                if (capWidth > conWidth)\n                    offset = capWidth - conWidth + 1;\n            }\n    }\n    // 显示\n    ContentAssistor_ui.c(s_Left, ContentAssistor_lastHover.oL()\n            + ContentAssistor_lastHover.w()\n            + JS_parseInt(ContentAssistor_lastHover.c(s_BorderLeftWidth))\n            - ContentAssistor_ui.w()\n            + JS_parseInt(ContentAssistor_lastHover.c(s_PaddingLeft))\n            + JS_parseInt(ContentAssistor_lastHover.c(s_PaddingRight))\n            - offset)\n        .c(s_Top, ContentAssistor_lastHover.oT()\n            + JS_parseInt(ContentAssistor_lastHover.c(s_BorderTopWidth)));\n\n    // 须延时后再执行显示，让以上代码先完成\n    setTimeout(function () {\n        V_ui_addAnimate(ContentAssistor_ui);\n        V_ui_show(ContentAssistor_ui);\n    }, 50);\n}\n\n/**\n * 隐藏内容辅助动作按钮\n */\nfunction ContentAssistor_hide() {\n    V_ui_hide(ContentAssistor_ui);\n}\n\n// ==================== 画中画类 ==================== //\n\nlet PicInPic_ui_body = gUndefined,\n    PicInPic_ui_content = gUndefined,\n    PicInPic_ui_zoom = gUndefined,\n    PicInPic_ui_close = gUndefined;\n\nlet PicInPic_ratio = 0.75;\n\nlet PicInPic_size_width = 0,\n    PicInPic_size_height = 0;\n\n/**\n * 初始化画中画\n */\nfunction PicInPic_init() {\n    PicInPic_ui_body = $(\".v-pic-in-pic\");\n    PicInPic_ui_content = PicInPic_ui_body.ch(\".v-content\");\n    PicInPic_ui_zoom = $(s_CssPipBtn + \".v-zoom\");\n    PicInPic_ui_close = $(s_CssPipBtn + \".v-close\");\n\n    // 缩放事件处理\n    PicInPic_ui_zoom.uC().ck(function () {\n        let _t = $(this),\n            pipBtn = $(s_CssPipBtn);\n        if (PicInPic_ratio === 1) {\n            PicInPic_ratio = 0.75;\n            JQ_exchangeClass(pipBtn, \"zoom-in\", \"zoom-out\");\n            _t.hm(V_ui_genSvgIcon(\"icoZoomIn\", 16, 16, s_Theme));\n        }\n        else {\n            PicInPic_ratio = 1;\n            JQ_exchangeClass(pipBtn, \"zoom-out\", \"zoom-in\");\n            _t.hm(V_ui_genSvgIcon(\"icoZoomOut\", 16, 16, s_Theme));\n        }\n        PicInPic_zoom();\n    });\n\n    PicInPic_ui_close.uC().ck(function () {\n        PicInPic_hide();\n    });\n\n    PicInPic_ui_body.hover(function () {\n        // 高度过小时调整操作按钮位置\n        if (PicInPic_ui_body.h() < 30) {\n            JQ_addClass(PicInPic_ui_zoom, s_Min);\n            JQ_addClass(PicInPic_ui_close, s_Min);\n        }\n        else {\n            JQ_removeClass(PicInPic_ui_zoom, s_Min);\n            JQ_removeClass(PicInPic_ui_close, s_Min);\n        }\n        V_ui_show(PicInPic_ui_zoom);\n        V_ui_show(PicInPic_ui_close);\n    }, function () {\n        V_ui_hide(PicInPic_ui_zoom);\n        V_ui_hide(PicInPic_ui_close);\n    });\n}\n\n/**\n * 显示画中画\n * @param source 显示内容的来源对象\n */\nfunction PicInPic_show(source) {\n    PicInPic_calcSize();\n\n    // 清空原有内容（除关闭按钮）\n    PicInPic_ui_content.empty();\n\n    // 为画中画进行克隆处理\n    let pic = __cloneForPicInPic(source);\n\n    // 缩放并显示\n    PicInPic_zoom();\n    PicInPic_ui_body.show();\n\n    // 根据内容调整画中画的展示\n    PicInPic_fitContentSize(pic);\n    PicInPic_ui_content.scrollTop(0);\n\n    /**\n     * 为画中画进行克隆处理\n     * @param source 源对象\n     */\n    function __cloneForPicInPic (source) {\n        let openAll = gFalse,\n            tagName = V_util_getTagName(source);\n        // 针对表格的处理\n        if (tagName === s_Table) {\n            // 1. 先展开所有行分组\n            openAll = RowGroup_openAll(source, s_Auto);\n            // 2. 先展开长内容\n            let container = source.p().p();\n            if (container.a(s_DataContentFolded) === s_True)\n                ContentFolder_expand(container.n());\n        }\n\n        // 将来源对象的内容进行克隆\n        let newClone = source.clone();\n        newClone.c(s_Margin, 0)\n            .c(s_Border, 0);\n        PicInPic_ui_content.ap(newClone);\n\n        // 针对插图的处理\n        let img = (tagName === \"img\"),\n            svg = tagName === \"svg\";\n        if (img || svg) {\n            newClone.removeAttr(s_DataFigNum);\n            if (svg)\n                JQ_addClass(newClone, s_CssMermaidRestyler);\n        }\n\n        // 对展开了所有行分组的表格进行克隆后的干净处理\n        if (openAll) {\n            RowGroup_reset(newClone); // 重置、切断\n            RowGroup_closeAll(source, s_Auto); // 全部收起\n        }\n\n        return newClone;\n    }\n}\n\n/**\n * 隐藏画中画\n */\nfunction PicInPic_hide() {\n    PicInPic_ui_body.hide();\n}\n\n/**\n * 计算画中画建议的基准尺寸\n */\nfunction PicInPic_calcSize() {\n    // 计算基准大小\n    let baseW = 550,\n        baseH = 350,\n        w = $(window).w() / 2.5,\n        h = $(window).h() / 3;\n    PicInPic_size_width = w < baseW ? baseW : w;\n    PicInPic_size_height = h < baseH ? baseH : h;\n    PicInPic_ui_body.c(s_Width, PicInPic_size_width)\n        .c(s_Height, PicInPic_size_height);\n}\n\n/**\n * 调整画中画的基准大小，以适应内容的实际大小\n */\nfunction PicInPic_fitContentSize(source) {\n    // 宽度\n    let tagName = V_util_getTagName(source),\n        w = source.w(),\n        h = source.h(),\n        sourcePadding = JS_parseInt(source.c(s_PaddingTop)) * 2,\n        uiPadding = JS_parseInt(PicInPic_ui_body.c(s_PaddingTop)) * 2;\n\n    // 针对图片尺寸的兼容性处理（部分浏览器不使用该处理尺寸不正常，如：Firefox）\n    if (tagName === \"img\") {\n        let img = new Image();\n        img.src = source.a(s_Src);\n        if (img.complete)\n            __getImgSize(img);\n        else\n            img.onload = function () {\n                __getImgSize(img);\n            }\n    }\n\n    // 宽度\n    let wWithPadding = w + sourcePadding;\n    if (w > 0 && wWithPadding < PicInPic_size_width) {\n        PicInPic_size_width = w;\n        PicInPic_ui_body.c(s_Width, wWithPadding)\n            .c(s_TransformOrigin, PicInPic_size_width + \"px \" + PicInPic_size_height + \"px\");\n    }\n\n    // 高度\n    h = source.h(); // 重新获得画中画最新高度\n    let hWithPadding = h + uiPadding + sourcePadding;\n    if (h > 0 && hWithPadding < PicInPic_size_height) {\n        // 针对会进行等比缩放的对象进行高度微调\n        if ((tagName === \"img\" || tagName === \"svg\")\n            && h > source.h()) {\n                h = source.h();\n                hWithPadding = h + uiPadding + sourcePadding;\n        }\n        PicInPic_size_height = h;\n        PicInPic_ui_body.c(s_Height, hWithPadding)\n            .c(s_TransformOrigin, PicInPic_size_width + \"px \" + PicInPic_size_height + \"px\");\n    }\n\n    /**\n     * 获得 img 对象的实际长宽\n     * @param img img 对象\n     */\n    function __getImgSize(img) {\n        w = img.width;\n        h = img.height;\n    }\n}\n\n/**\n * 放大、缩放显示\n */\nfunction PicInPic_zoom() {\n    V_ui_removeAnimate(PicInPic_ui_zoom);\n    V_ui_removeAnimate(PicInPic_ui_close);\n\n    PicInPic_ui_body.c(s_Transform, \"scale(\" + PicInPic_ratio + \")\")\n        .c(s_TransformOrigin, PicInPic_size_width + \"px \" + PicInPic_size_height + \"px\");\n\n    setTimeout(function () {\n        V_ui_addAnimate(PicInPic_ui_zoom);\n        V_ui_addAnimate(PicInPic_ui_close);\n    }, 50);\n}\n\n// ==================== 聚光灯类 ==================== //\n\n/**\n * 构造函数\n * @param radius 半径大小\n * @param tips 操作提示栏对象\n */\nfunction Spotlight(radius, tips) {\n    let T = this;\n    T.ui = $(\".v-spotlight\");\n    T.radius = radius; // 聚光灯半径\n    T.tips = tips;\n    T.zoom = {\n        normal: radius, // 标准大半径\n        bigger: radius * 1.4, // 放大的半径\n    };\n    T.lastPos = {\n        x : -1,\n        y : -1\n    };\n\n    T.toolbar = gUndefined; // 联动的工具栏\n\n    /**\n     * 切换聚光灯的不同大小\n     */\n    T.toggleZoom = function () {\n        if (T.ui.isHidden())\n            return;\n\n        T.radius = T.radius < T.zoom.bigger\n            ? T.zoom.bigger\n            : T.zoom.normal;\n\n        T.repaint();\n    }\n\n    /**\n     * 使用聚光灯模式\n     */\n    T.show = function () {\n        JQ_removeClass(T.toolbar.btns[s_LaserPointer], s_Selected);\n        JQ_addClass(T.toolbar.btns[s_Spotlight], s_Selected);\n\n        // Dark Mode 时先添加微调的样式\n        if (ColorScheme.scheme === s_Dark)\n            JQ_addClass(VOM_doc(), s_CssSpotlightInDark);\n\n        T.mode = \"S\";\n        T.ui.show();\n        JQ_removeClass($(T.pointerScope), s_CssCursorLaser);\n        T.repaint();\n\n        let key1 = V_ui_wrap_kbd(\"⇧ Shift\") + tag_2space,\n            key2 = tag_2space + tag_2space +\"-\" + tag_2space + tag_2space + V_ui_wrap_kbd(\"ESC\") + tag_2space;\n        T.tips.show([\n            key1 + \"调整聚光灯大小\" + key2 + \"退出\",\n            key1 + \"Adjust the size of the spotlight\" + key2 + \"Exit\"\n        ][V_lang_id]);\n    }\n\n    /**\n     * 刷新聚光灯的显示\n     * @param event window.event 鼠标事件对象\n     */\n    T.repaint = function (event) {\n        // 记录鼠标最新位置，避免通过快捷键显示时无法在鼠标位置正常渲染\n        if (event !== gUndefined) {\n            if (event.clientX !== gUndefined)\n                T.lastPos.x = event.clientX;\n            if (event.clientY !== gUndefined)\n                T.lastPos.y = event.clientY;\n        }\n\n        // 未启用则跳过\n        if (!T.isEnabled())\n            return;\n\n        // 聚光灯模式\n        T.ui.c(s_Background, \"radial-gradient(circle at \"\n            + T.lastPos.x + \"px \" + T.lastPos.y + \"px, \"\n            + \"transparent \" + T.radius + \"px, \"\n            + \"rgba(0, 0, 0, 0.4)\" + (T.radius + 5) + \"px, rgba(0, 0, 0, 0.9) 900px)\");\n    }\n\n    /**\n     * 是否已显示\n     */\n    T.isEnabled = function () {\n        return T.ui.isShowed();\n    }\n\n    /**\n     * 切换聚光灯的开关\n     */\n    T.tg = function () {\n        // 已打开，则关闭\n        if (T.isEnabled()) {\n            T.hide();\n        }\n        // 未打开，则打开\n        else {\n            T.show();\n            return gTrue;\n        }\n        return gFalse;\n    }\n\n    /**\n     * 隐藏聚光灯\n     */\n    T.hide = function () {\n        MoreDocContent_refresh();\n        T.tips.hide();\n        JQ_removeClass(T.toolbar.btns[s_Spotlight], s_Selected);\n        JQ_removeClass(VOM_doc(), s_CssSpotlightInDark);\n        T.ui.hide();\n    }\n\n    /**\n     * 处理热键操作\n     * @param code 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (code, combKeys, event) {\n        if (V_doc_block)\n            return;\n\n        let handled = false;\n        switch (code) {\n            case 16: // Shift\n                T.toggleZoom();\n                handled = true;\n                break;\n            case 27: // ESC\n                if (T.isEnabled()) {\n                    T.hide();\n                    handled = true;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n    }\n}\n\n// ==================== 激光笔类 ==================== //\n\n/**\n * 构造函数\n * @param tips 操作提示栏对象\n */\n function LaserPointer(tips) {\n    let T = this;\n    T.tips = tips;\n    T.toolbar = gUndefined; // 联动的工具栏\n\n    T.enable = gFalse;\n\n    // 激光笔模式时鼠标形状影响的范围\n    T.pointerScope = \"body *\";\n\n    /**\n     * 使用激光笔\n     */\n    T.show = function () {\n        JQ_removeClass(T.toolbar.btns[s_Spotlight], s_Selected);\n        JQ_addClass(T.toolbar.btns[s_LaserPointer], s_Selected);\n\n        T.enable = gTrue;\n        JQ_addClass($(T.pointerScope), s_CssCursorLaser);\n\n        T.tips.show(V_ui_wrap_kbd(\"ESC\") + tag_2space + [\n            \"退出\",\n            \"Exit\"\n        ][V_lang_id]);\n    }\n\n    /**\n     * 是否已显示\n     */\n    T.isEnabled = function () {\n        return T.enable;\n    }\n\n    /**\n     * 切换激活笔开关\n     */\n    T.tg = function () {\n        // 已打开，则关闭\n        if (T.isEnabled()) {\n            T.hide();\n        }\n        // 未打开，则打开\n        else {\n            T.show();\n            return gTrue;\n        }\n        return gFalse;\n    }\n\n    /**\n     * 隐藏激活笔\n     */\n    T.hide = function () {\n        MoreDocContent_refresh();\n        T.tips.hide();\n        T.enable = gFalse;\n        JQ_removeClass(T.toolbar.btns[s_LaserPointer], s_Selected);\n        JQ_removeClass($(T.pointerScope), s_CssCursorLaser);\n    }\n\n    /**\n     * 处理热键操作\n     * @param code 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (code, combKeys, event) {\n        if (V_doc_block)\n            return;\n\n        let handled = false;\n        switch (code) {\n            case 27: // ESC\n                if (T.isEnabled()) {\n                    T.hide();\n                    handled = true;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n    }\n}\n\n// ==================== 分段控制器类 ==================== //\n\n/**\n * @param control 控件 UI 对象\n * @param group 分段控制器分组标识\n */\nfunction SegmentControl(control, group) {\n    let T = this;\n    T.ui = control;\n    T.group = group;\n\n    T.last = gUndefined;\n    T.segs = [];\n    T.segCnt = 0;\n\n    T.ui.ap('<span class=\"v-segment-indicator\"></span>');\n    T.indicator = T.ui.ch(\".v-segment-indicator\"); // 当前选中分段的滑块\n\n    /**\n     * 添加分段\n     * @param target 分段对应的组件\n     * @param icon 分段使用的图标标识\n     * @param checked 是否为默认选中\n     * @param status 默认状态\n     */\n    T.add = function (target, icon, checked, status) {\n        let name = target.typeName();\n        T.segCnt++;\n        T.segs[name] = target;\n\n        // 新增段的 UI\n        let id = T.group + \"-\" + name,\n            ui = '<input id=\"' + id + '\" onfocus=\"this.blur()\" type=\"radio\" name=\"' + T.group\n                + '\"' + (status ? '' : ' ' + s_DataResult + '=\"' + s_None + '\"')\n                + ' value=\"' + name + '\"' + (checked ? ' checked' : '' ) + ' />'\n                + '<label for=\"' + id + '\" class=\"v-segment-btn ' + name + '\" ' + s_DataIcon + '=\"' + icon + '\">'\n                + V_ui_genSvgIcon(icon, 16, 16, s_Dark)\n                + '</label>';\n        T.ui.ap(ui);\n        target.ui.entry = T.ui.ch(\".\" + s_CssSegmentBtn + \".\" + name);\n\n        // 指定为默认选项\n        if (checked) {\n            T.last = target;\n            __updateIcon(gTrue);\n        }\n\n        // 为新添加的段绑定事件\n        T.ui.f(\"input#\" + id).change(function () {\n            // 隐藏切换前选择的组件\n            T.last.hide();\n            __updateIcon(gFalse);\n            // 显示最新选择的组件\n            T.last = T.segs[$(this).val()];\n            __updateIcon(gTrue);\n\n            T.last.show();\n            T.update();\n        });\n\n        return T.segs[name];\n\n        /**\n         * 更新分段的图标\n         *\n         * @param checked 是否为选择状态\n         */\n        function __updateIcon(checked) {\n            T.last.ui.entry.hm(V_ui_genSvgIcon(T.last.ui.entry.a(s_DataIcon)\n                + (checked ? \"-checked\" : \"\") , 16, 16, s_Dark));\n        }\n    }\n\n    /**\n     * 获得当前选中的分段\n     * @returns string 当前选中的分段\n     */\n    T.checkedItem = function () {\n        return T.ui.f('input[name=\"' + T.group + '\"]:checked').val();\n    }\n\n    /**\n     * 获得、设置指定分段的状态\n     * @returns 无 value 时，返回指定分段的状态\n     */\n    T.sts = function (target, value) {\n        let id = T.group + \"-\" + target.typeName();\n        if (value === gUndefined) {\n            return T.ui.f('input[id=\"' + id + '\"]').a(s_DataResult);\n        }\n\n        if (value) {\n            T.ui.f('input[id=\"' + id+ '\"]').removeAttr(s_DataResult);\n        }\n        else {\n            T.ui.f('input[id=\"' + id+ '\"]').a(s_DataResult, s_None);\n        }\n    }\n\n    /**\n     * 更新分段控制器界面\n     */\n    T.update = function () {\n        // 更新各分段 UI 大小、间隔等\n        let space = 2,\n            spacePercent = (space * (T.segCnt - 1)) / T.ui.w() * 100,\n            width = (100 - spacePercent) / T.segCnt;\n        T.ui.ch(\".\" + s_CssSegmentBtn).c(s_Margin, \"0 0 0 \" + space + \"px\")\n            .c(s_Width, width + \"%\");\n        // 修正第一个\n        T.ui.ch(\".\" + s_CssSegmentBtn + \":first\").c(s_Margin, 0);\n\n        // 更新当前选择分段相关 UI\n        if (T.last === gUndefined)\n            return;\n        let target = T.last.ui.entry;\n        T.indicator.c(s_Left, target.pos().left + JS_parseInt(target.c(s_MarginLeft)))\n            .c(s_Width, target.w());\n    }\n}\n\n// ==================== 导航中心类 ==================== //\n\n/**\n * 构造函数\n * @param mask 遮罩对象\n * @param runMode 关闭模式\n */\nfunction NavCenter(mask, runMode = s_Auto) {\n    let T = this;\n    T.ui = $(\".v-nav-center\"); // 导航中心主界面\n    T.handle = $(\".v-toc-handle\"); // 导航中心引导把手\n\n    // 关键字搜索\n    T.__keywordBody = $(\".v-serch-by-keyword\");\n    T.keyword = new TextField(T.__keywordBody, \"toc-filter-nav-center\", gTrue);\n\n    T.runMode = (runMode === gUndefined) ? s_Auto : runMode; // 导航中心运行方式\n    T.lastDisplayType = s_Float; // 最后一次的显示方式（float/block）\n    T.showed = gFalse; // 是否已显示\n\n    T.width = T.ui.w(); // 导航中心宽度\n\n    T.chpNav = gUndefined; // 联动的章节导航栏\n    T.toolbar = gUndefined; // 联动的工具栏\n\n    T.snapTimer = null; // 鼠标在边缘悬停计时器\n\n    // 索引内容分类选择\n    T.segs = new SegmentControl($(\".v-segment.toc\"), \"toc-segment\");\n    TocIndex_segments = T.segs;\n\n    // 目录索引组件\n    T.catalog = T.segs.add(new TocCatalog(this, gFalse), \"icoTocTabCatalog\", gTrue, gFalse);\n    // 插图索引组件\n    T.figure = T.segs.add(new TocFigure(this, gTrue), \"icoTocTabFigure\", gFalse, gFalse);\n    // 表格索引组件\n    T.table = T.segs.add(new TocTable(this, gTrue), \"icoTocTabTable\", gFalse, gFalse);\n    // 多媒体索引组件\n    T.media = T.segs.add(new TocMedia(this, gTrue), \"icoTocTabMedia\", gFalse, gFalse);\n    // 代码块索引组件\n    T.codeblock = T.segs.add(new TocCodeblock(this, gTrue), \"icoTocTabCodeblock\", gFalse, gFalse);\n    // 访问历史组件\n    T.history = T.segs.add(new TocHistory(this, gTrue), \"icoTocTabHistory\", gFalse, gFalse);\n\n    // 遮罩\n    T.mask = mask;\n    T.mask.bindPartner(this, T.ui);\n\n    T.segs.update();\n\n    V_ui_addAnimate(T.handle);\n\n    /**\n     * 当前章节变化事件\n     */\n    T.catalog.onChapterChanged = function () {\n        // 更新逐章导航内容\n        if (T.chpNav !== gUndefined)\n            T.chpNav.update();\n    }\n\n    // 关键字输入组件属性设置\n    T.keyword.setIcon(V_ui_genSvgIcon(\"icoRetrieval\", 16, 16, \"alpha\"));\n\n    let cmdKey = \"\";\n    T.keyword.placeholder([\n        \"按下 [\" + cmdKey + \"／] 进行搜索\",\n        \"Type [\" + cmdKey + \"／] to search\"\n    ][V_lang_id]);\n\n    // 绑定输入框事件处理\n    T.keyword.onInput = function (source, value) {\n        T.catalog.resultNav.reset();\n        T.figure.resultNav.reset();\n        T.table.resultNav.reset();\n        T.table.resultNav.reset();\n        T.media.resultNav.reset();\n        T.codeblock.resultNav.reset();\n\n        if (value.x().length === 0) {\n            // 目录\n            T.catalog.ui.result.empty();\n            if (T.segs.checkedItem() === T.catalog.typeName())\n               T.catalog.ui.body.show();\n            T.catalog.hideFilterResult();\n            T.catalog.scrollToCurrent();\n            T.catalog.updateStatus();\n            // 插图、表格、多媒体、代码块\n            TocIndex_noneKeyword(T.figure);\n            TocIndex_noneKeyword(T.table);\n            TocIndex_noneKeyword(T.media);\n            TocIndex_noneKeyword(T.codeblock);\n        }\n        else {\n            // 目录\n            T.catalog.filter(value.l());\n            // 插图、表格、多媒体、代码块\n            TocIndex_filter(T.figure, value.l());\n            TocIndex_filter(T.table, value.l());\n            TocIndex_filter(T.media, value.l());\n            TocIndex_filter(T.codeblock, value.l());\n        }\n    }\n\n    T.keyword.onFocus = function (source) {\n        if (T.lastDisplayType !== s_Float) {\n            JQ_addClass(VOM_doc(), s_Actived);\n            let search = $(\".\" + s_CssFocusSearch);\n            JQ_addClass(search, s_Actived);\n        }\n    }\n\n    T.keyword.onBlur = function (source) {\n        JQ_removeClass(VOM_doc(), s_Actived);\n        JQ_removeClass($(\".\" + s_CssFocusSearch), s_Actived);\n    }\n\n    // 绑定输入框事件处理\n    T.keyword.pressEnter = function (source, value) {\n        T.keyword.input.focus();\n    }\n\n    /**\n     * 触发互动事件\n     */\n    T.onInteractive = function () {\n        T.adjustClickHash();\n    }\n\n    /**\n     * 跳转回文档封面\n     */\n    T.gotoCover = function () {\n        WINDOW_setHref(\"#\");\n        // 【有封面】模式时处理\n        if (VOM_cover() !== gUndefined) {\n            if (T.catalog.currentItem !== gUndefined) {\n                JQ_removeClass(T.catalog.currentItem, s_CssTocItemCurrent);\n                T.catalog.currentHeaderIndex = -1;\n            }\n            T.adjust();\n            T.chpNav.adjust();\n            T.toolbar.adjust();\n        }\n        // 【无封面】模式时处理\n        else {\n            ToolTips_hide();\n        }\n    }\n\n    /**\n     * 适配锚点击事件\n     */\n    T.adjustClickHash = function () {\n        if (T.lastDisplayType === s_Float)\n            T.hide(s_Auto);\n    }\n\n    /**\n     * 显示/隐藏导航中心\n     * @param callback 显示/隐藏导航中心后执行回调函数\n     */\n    T.tg = function (callback) {\n        // 导航中心已显示\n        if (T.showed) {\n            T.hide(\"closed\");\n        }\n        // 导航中心未显示\n        else {\n            T.runMode = s_Auto;\n            // 在封面，或小屏\n            if (!T.catalog.inHeader() || V_ui_isSmallScreen()) {\n                T.show(s_Float);\n            }\n            // 在章节内，非小屏\n            else {\n                // 导航中心运行模式为 auto 时，自动显示导航中心\n                if (T.runMode === s_Auto)\n                    T.show(s_Block);\n            }\n        }\n\n        typeof(callback) === s_Function && callback();\n        T.afterToggle();\n    }\n\n    /**\n     * 显示导航中心\n     * @param lastDisplayType float: 以浮动形式显示，block: 以占位形式显示\n     * @returns boolean true: 需要处理显示，false: 已显示，无须重复处理\n     */\n    T.show = function (lastDisplayType) {\n        // 已显示，或在以动画显示过程中\n        if (V_type !== \"max\" || T.showed || T.ui.oL() > -T.width) {\n            return gFalse;\n        }\n\n        T.ui.c(s_Left, 20);\n        T.handle.hide();\n\n        T.lastDisplayType = lastDisplayType;\n        // 以「占位方式」显示导航中心\n        if (T.lastDisplayType === s_Block) {\n            // 占位方式的样式设置\n            JQ_removeClass(T.ui, s_CssNavCenterFloat);\n            JQ_removeClass(T.ui, s_CssFloatCard);\n            JQ_addClass(T.ui, s_CssNavCenterBlock);\n\n            // 更新工具栏导航中心按钮图标\n            if (!env.device.mobile)\n                JQ_addClass(T.toolbar.btns[s_NavCenter], s_Selected);\n\n            VOM_doc().c(s_MarginLeft, s_writeMarginLeft);\n\n            // 因为从切换为占位显示后，会影响文档内容布局，所以须调整随大小变化的内容\n            if (!T.showed) {\n                setTimeout(function () {\n                    // 重定位至当前锚点\n                    V_util_redirectTo();\n                    // 统一同组的分栏引用的高度\n                    ExtQuote_uniteColumnsHeight();\n                }, 300);\n            }\n        }\n        // 以「浮动方式」显示导航中心\n        else if (T.lastDisplayType === s_Float) {\n            // 浮动方式的样式设置\n            JQ_removeClass(T.ui, s_CssNavCenterBlock);\n            JQ_addClass(T.ui, s_CssNavCenterFloat);\n            JQ_addClass(T.ui, s_CssFloatCard);\n\n            // 显示联动的遮罩\n            T.mask.show();\n\n            // 若文档可视空间比导航中心宽度要小，则进行微调\n            if ($(window).w() < T.width + 20)\n                T.ui.c(s_Width, $(window).w() - 20);\n            // 若文档空间比导航中心宽度大，则直接显示原始大小\n            else\n                T.ui.c(s_Width, T.width);\n        }\n\n        T.showed = gTrue;\n        return gTrue;\n    }\n\n    /**\n     * 隐藏导航中心\n     * @param runMode 导航中心的运行模式（auto/closed）\n     * @returns boolean true: 需要处理隐藏，false: 已显示，无须重复处理\n     */\n    T.hide = function (runMode = s_Auto) {\n        // 已隐藏，或在以动画隐藏过程中\n        if (!T.showed || T.ui.oL() < 10)\n            return gFalse;\n\n        // 若最后一次显示以是「占位方式」显示\n        if (T.lastDisplayType === s_Block) {\n            // 更新运行模式\n            T.runMode = runMode;\n\n            // 统一同组的分栏引用的高度\n            ExtQuote_uniteColumnsHeight();\n\n            // 更新工具栏导航中心按钮图标\n            if (!env.device.mobile)\n                JQ_removeClass(T.toolbar.btns[s_NavCenter], s_Selected);\n        }\n\n        T.ui.c(s_Left, V_util_getVarVal(\"--v-nav-center-hidden-l\"));\n\n        // 恢复不挤压文档正文区\n        VOM_doc().c(s_MarginLeft, 0);\n\n        T.mask.hide();\n\n        // 非移动设备时显示把手\n        if (!env.device.mobile)\n            T.showHandle();\n\n        T.showed = gFalse;\n\n        return gTrue;\n    }\n\n    /**\n     * 导航中心根据规则进行布局的自适应处理\n     * @returns boolean true: 需要处理显示/隐藏，false: 已显示/隐藏，无须重复处理\n     */\n    T.adjust = function () {\n        let result = gFalse;\n\n        // 根据导航中心宽度更新相关界面组件的样式\n        if (T.showed && T.lastDisplayType === s_Block)\n            VOM_doc().c(s_MarginLeft, s_writeMarginLeft);\n\n        T.width = T.ui.w();\n\n        T.keyword.setWidth(T.width - 2 - JS_parseInt(T.__keywordBody.c(s_MarginLeft)) * 2);\n\n        // 根据最新窗口大小调整宽度\n        T.segs.update();\n\n        // 在封面，或为小屏\n        if (!T.catalog.inHeader() || V_ui_isSmallScreen()) {\n            // 自动隐藏导航中心\n            result = T.hide(s_Auto);\n\n            // 根据最新窗口大小调整收起位置\n            T.ui.c(s_Left, s_varNavCenterHiddenLeft);\n\n            // 更新工具栏导航中心按钮图标\n            if (!env.device.mobile)\n                JQ_removeClass(T.toolbar.btns[s_NavCenter], s_Selected);\n        }\n        // 不在封面\n        else {\n            // 导航中心运行模式为 auto 时，自动显示导航中心\n            if (T.runMode === s_Auto) {\n                // 以占位方式显示导航中心\n                result = T.show(s_Block);\n\n                // 根据最新窗口大小调整导航中心宽度\n                T.ui.c(s_Width, s_varNavCenterWidth);\n\n                // 更新工具栏导航中心按钮图标\n                if (!env.device.mobile)\n                    JQ_addClass(T.toolbar.btns[s_NavCenter], s_Selected);\n            }\n        }\n        return result;\n    }\n\n    /**\n     * 显示导航中心引导把手\n     */\n    T.showHandle = function () {\n        if (V_type !== \"max\")\n            return;\n\n        T.handle.c(s_Top, ($(window).h() - T.handle.h()) / 2);\n        T.handle.show();\n    }\n\n    /**\n     * 鼠标位置变化对导航中心处理\n     */\n    T.snap = function (event) {\n        // 已显示则跳过\n        if (T.showed || env.device.mobile)\n            return;\n\n        // 鼠标离左边缘小于指定值时\n        if (event.clientY > 200 && event.clientY < ($(window).h() - 300) && event.clientX <= 20) {\n            if (T.snapTimer != null)\n                return;\n\n            JQ_addClass(T.handle, s_Hover);\n\n            // 延时（模拟悬停一定时间）以浮动方式显示导航中心\n            T.snapTimer = setTimeout(function () {\n                JQ_removeClass(T.handle, s_Hover);\n                T.show(s_Float);\n            }, 1000);\n        }\n        else {\n            // 未显示导航中心前离开边缘则取消显示\n            if (T.snapTimer != null) {\n                clearTimeout(T.snapTimer);\n                T.snapTimer = null;\n                JQ_removeClass(T.handle, s_Hover);\n            }\n        }\n    }\n\n    /**\n     * 显示/隐藏导航中心，并进行关联处理\n     */\n     T.afterToggle = function () {\n        if (iNavCenter.lastDisplayType === s_Block)\n            ContentFolder_adjust();\n    }\n\n    /**\n     * 处理热键操作\n     * @param code 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (code, combKeys, event) {\n        // 文档库热键操作\n        T.docLib.disposeHotkey(code, combKeys, event);\n\n        if (T.ui.isHidden())\n            return;\n\n        let handled = false;\n        switch (code) {\n            case 27: // ESC\n                if (!T.keyword.inputing && T.showed && T.lastDisplayType === s_Float) {\n                    T.hide();\n                    handled = true;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n    }\n}\n\n/**\n * 导航中心初始化\n */\nNavCenter.init = function () {\n    // 提取文档中由[toc]标签生成的文档目录作为浮动 outline 中的内容\n    // let toc = $(\".\" + s_MdToc);\n    // 没有生成目录\n    if (gToc.isEmpty()) {\n        NavCenter.hideOnError();\n        return gFalse;\n    }\n\n    // 有生成目录，则复制 toc 内容\n    let vlookToc = gToc.clone();\n    // 隐藏原目录\n    gToc.hide();\n    // 将复制的目录进行唯一性标识\n    vlookToc.f(\".md-toc-content\").a(s_Id, \"vlook-toc\");\n    iNavCenter.catalog.ui.body.ap(vlookToc);\n\n    gTocContent = $(\"#vlook-toc\");\n    gToc = gTocContent.p(); // 更新引用\n    // 检查目录内容情况\n    if (gTocContent.isEmpty()) {\n        NavCenter.hideOnError();\n        return gFalse;\n    }\n\n    // 文库\n    iNavCenter.docLib = new DocLib(new BgMask(\"doc-lib\", s_Center), this);\n    // 当前文档不是 mini 类型（文库类文档一般为 mini 类型）\n    if (V_type !== s_Mini) {\n        // 文库\n        if (iNavCenter.docLib.length === 0)\n            ALERT(s_Failed + \"iDocLib ]\");\n        else if (V_util_getParamVal(s_vdl) !== s_Off) {\n            iNavCenter.docLib.init();\n        }\n    }\n    // 根据文库配置显示入口\n    if (iNavCenter.docLib.enabled)\n        iToolbar.btns[s_DocLib].c(s_Display, \"flex\");\n\n    // 有 Typora 生成的原始目录节点，针对 VLOOK 的封面规则进行调整\n    let tocSet = gTocContent.ch(\".md-toc-h1, .md-toc-h2, .md-toc-h3, .md-toc-h4, .md-toc-h5, .md-toc-h6\"),\n        tocSetLength = tocSet.length,\n        hasCover = (VOM_cover() !== gUndefined);\n    tocSet.e(function (i) {\n        let _t = $(this);\n        // 只处理 h1～h5 的目录节点\n        if (_t.a(s_Class).i(\"md-toc-h6\") === -1) {\n            if (hasCover) { // 文档有封面时\n                if (i < tocSetLength - 1) // 未到最后一个元素\n                    iNavCenter.catalog.add(_t);\n                else // 最后一个 h1 为封底，移除\n                    JQ_remove(_t);\n            }\n            else\n                iNavCenter.catalog.add(_t);\n        }\n        // 移除无效的目录节点（如：封面、封底、普通的 h6 节点）\n        else\n            JQ_remove(_t);\n    });\n\n    // 不指定打开，则默认收起所有含子章节的 h1 章节\n    let tocAutoCloseLevel = V_util_getParamVal(\"toc\");\n    tocAutoCloseLevel = (tocAutoCloseLevel !== gUndefined) ? JS_parseInt(tocAutoCloseLevel) : 2;\n    if (tocAutoCloseLevel >= 1 && tocAutoCloseLevel <=5) {\n        gTocContent.ch(\".md-toc-h\" + tocAutoCloseLevel + \"[\" + s_DataNode + \"='1'][\" + s_DataFolded + \"='false']\").e(function () {\n            iNavCenter.catalog.disposeFold($(this).a(s_Id), \"c\", gTrue);\n        });\n    }\n\n    return gTrue;\n}\n\n/**\n * 隐藏导航中心（异常情况使用）\n */\nNavCenter.hideOnError = function () {\n    iNavCenter.hide();\n\n    ERROR([\n        \"文档中没有找到目录信息，请用Typora最新版本导出，并应用最新VLOOK插件\",\n        \"No [TOC] information was found in the document, export it with the latest version of Typora and apply the latest VLOOK plug-in.\"\n    ][V_lang_id]);\n}\n\n// ==================== 逐章导航类 ==================== //\n\n/**\n * 构造函数\n */\nfunction ChapterNav() {\n    let T = this,\n        __prev = \".v-chapter-nav-prev\",\n        __current = \".v-chapter-nav-current\",\n        __next = \".v-chapter-nav-next\",\n        __dt = \".v-chapter-nav-doc-title\";\n    // 逐章导航面板主界面\n    T.ui = $(\".v-chapter-nav\");\n\n    T.prev = {\n        ui : $(__prev), // 前一章界面\n        text: $(\".v-chapter-nav-prev-text\"), // 前一章文本界面\n    };\n\n    T.current = {\n        ui : $(__current), // 当前章节界面\n    };\n\n    T.next = {\n        ui : $(__next), // 后一章界面\n        text : $(\".v-chapter-nav-next-text\"), // 后一章文本界面\n    };\n\n    // 文档标题\n    T.dt = $(__dt);\n    T.dt.t(V_util_getDocTitle());\n\n    if (V_type !== \"max\")\n        T.ui.hide();\n\n    /**\n     * 初始化动效\n     */\n    T.adjustEffectLevel = function (target) {\n        // 因 CSS 的 transition 不变动渐变背景过渡效果，须通过增/减不同的预置样式实现过渡效果\n        if (V_ui_effect >= 1) {\n            JQ_addClass($(target), s_Effect);\n            V_ui_addAnimate($(target + \".effect\"));\n        }\n        else {\n            JQ_exchangeClass($(target), s_Effect, \"noeffect\");\n        }\n    }\n    // 初始化动效\n    T.adjustEffectLevel(__prev);\n    T.adjustEffectLevel(__current);\n    T.adjustEffectLevel(__next);\n    T.adjustEffectLevel(__dt);\n\n    /**\n     * 跳转至前一章节\n     */\n    T.prev.ui.uC().ck(function () {\n        ToolTips_hide();\n        if (T.prev.text.a(s_DataAnchor) === s_Cover)\n            iNavCenter.gotoCover();\n        else\n            iNavCenter.catalog.gotoHeader(T.prev.text);\n    });\n\n    /**\n     * 回到封面\n     */\n    T.dt.uC().ck(function () {\n        ToolTips_hide();\n        if ($(this).a(s_Disabled) === gUndefined)\n            iNavCenter.gotoCover();\n    });\n\n    /**\n     * 跳转至当前章节\n     */\n    T.current.ui.uC().ck(function () {\n        ToolTips_hide();\n        iNavCenter.catalog.gotoHeader(T.current.ui);\n    });\n\n    /**\n     * 跳转至后一章节\n     */\n    T.next.ui.uC().ck(function () {\n        ToolTips_hide();\n        iNavCenter.catalog.gotoHeader(T.next.text);\n    });\n\n    /**\n     * 更新逐章导航栏 UI 及数据\n     */\n    T.update = function () {\n        let curIdx = iNavCenter.catalog.currentHeaderIndex;\n\n        // ----------------------------------------\n        // 更新「上一章」导航内容\n        if (curIdx > 0) {\n            T.prev.ui.show();\n            T.prev.ui.c(s_Display, s_Block);\n            T.prev.text.t($(\"#\" + iNavCenter.catalog.h[curIdx - 1]).t());\n            T.prev.text.a(s_DataAnchor, iNavCenter.catalog.h[curIdx - 1]);\n\n            // 【无封面】模式时处理\n            if (VOM_cover() === gUndefined) {\n                JQ_removeClass(T.dt, s_InStart);\n                T.dt.removeAttr(s_Disabled);\n                T.adjustEffectLevel(__dt);\n                ToolTips_bind(T.dt, s_Center);\n                // __bindEvent(T.dt, s_Center);\n            }\n        }\n        // 当前章节为第 1 章时特殊处理，设置为「封面」\n        else if (iNavCenter.catalog.inFirstHeader()) {\n            T.prev.text.t([\n                \"封面\",\n                \"Cover\"\n            ][V_lang_id]);\n            T.prev.text.a(s_DataAnchor, s_Cover);\n        }\n        // 「无封面」模式时对「文档标题」章节的特殊处理\n        else if (iNavCenter.catalog.inDocTitle()) {\n            T.prev.ui.hide();\n            T.current.ui.hide();\n            // 调整为在文档开始位置时的样式\n            JQ_removeClass(T.dt, \"noeffect effect hover\");\n            JQ_addClass(T.dt, s_InStart);\n            T.dt.a(s_Disabled, s_True);\n            V_ui_unbindHover(T.dt);\n        }\n\n        // ----------------------------------------\n        // 更新「当前章节」导航内容\n        if (iNavCenter.catalog.currentItem !== gUndefined) {\n            // 【无封面】模式\n            if (iNavCenter.catalog.inDocTitle())\n                T.current.ui.hide();\n            else\n                T.current.ui.show();\n\n            let headerNum = iNavCenter.catalog.currentItem.a(s_DataHeaderNum);\n            if (headerNum === gUndefined)\n                headerNum = \"\";\n            T.current.ui.hm(s_Span + headerNum + s_SpanClose\n                + iNavCenter.catalog.currentItem.a(s_Title));\n            T.current.ui.a(s_DataAnchor, iNavCenter.catalog.h[curIdx]);\n        }\n\n        // ----------------------------------------\n        // 更新「下一章」导航内容\n        if (curIdx < iNavCenter.catalog.h.length - 1) {\n            T.next.ui.show();\n            T.next.text.t($(\"#\" + iNavCenter.catalog.h[curIdx + 1]).t());\n            T.next.text.a(s_DataAnchor, iNavCenter.catalog.h[curIdx + 1]);\n        }\n        else\n            T.next.ui.hide();\n    }\n\n    /**\n     * 显示逐章导航栏\n     */\n    T.show = function () {\n        // 若已显示则直接退出\n        if (V_type !== \"max\" || JS_parseInt(T.ui.c(s_Top)) >= 0)\n            return;\n\n        JQ_addClass(T.ui, s_CssFloatCard);\n        T.ui.c(s_Top, 0);\n        T.ui.show();\n    }\n\n    /**\n     * 隐藏逐章导航栏\n     */\n    T.hide = function () {\n        // 若已隐藏则直接退出\n        if (JS_parseInt(T.ui.c(s_Top)) < 0)\n            return;\n\n        JQ_removeClass(T.ui, s_CssFloatCard);\n        T.ui.c(s_Top, -50);\n        T.ui.hide();\n    }\n\n    /**\n     * 逐章导航栏自适应显示\n     */\n    T.adjust = function () {\n        // 在封面时，隐藏逐章导航栏\n        if (!iNavCenter.catalog.inHeader()) {\n            T.hide();\n            JQ_addClass(MoreDocContent_ui_before, s_Cover);\n\n            // 初始化前 / 后章节数据\n            T.prev.text.a(s_DataAnchor, s_Cover);\n            T.next.text.a(s_DataAnchor, iNavCenter.catalog.h[0]);\n        }\n        // 不在封面时，显示逐章导航栏\n        else {\n            JQ_removeClass(MoreDocContent_ui_before, s_Cover);\n            T.show();\n            T.update();\n        }\n    }\n\n    /**\n     * 逐章导航导航按钮在不同终端的适配处理\n     */\n    T.adjustHoverStyle = function () {\n        // 移动设备时解绑样式事件\n        if (env.device.mobile) {\n            T.prev.ui.uH();\n            T.current.ui.uH();\n            T.next.ui.uH();\n        }\n        // 非移动设备时绑定样式事件\n        else {\n            // 上一章\n            ToolTips_bind(T.prev.ui, s_Auto);\n            // 文档标题\n            ToolTips_bind(T.dt, s_Center);\n            // 当前章节\n            ToolTips_bind(T.current.ui, s_Center);\n            // 下一章\n            ToolTips_bind(T.next.ui, s_Right);\n        }\n    }\n\n    /**\n     * 处理热键操作\n     * @param code 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (code, combKeys, event) {\n        if (V_doc_block)\n            return;\n\n        let handled = false;\n        switch (code) {\n            case 188: // ,\n            case 37: // ←\n                T.prev.ui.tr(s_Click);\n                // 自适应页面内容显示\n                iNavCenter.catalog.focusHeader();\n                handled = true;\n                break;\n            case 190: // .\n            case 39: // →\n                T.next.ui.tr(s_Click);\n                // 强制设置滚动间隔已超时，以强制触发 focusHeader 中的处理\n                V_doc_scroll_update(0, 0);\n                // 自适应页面内容显示\n                iNavCenter.catalog.focusHeader();\n                handled = true;\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n    }\n}\n\n// ==================== 段落导航类 ==================== //\n\n/**\n * 构造函数\n * @param tips 操作提示栏对象\n */\nfunction ParagraphNav(tips) {\n    let T = this;\n    T.tips = tips;\n    T.count = 0; // 段的总数量\n    T.curIdx = -1; // 当前段索引号\n    T.enabled = gFalse; // 是否段落导航激活\n\n    T.toolbar = gUndefined; // 联动的工具栏\n\n    /**\n     * 返回当前段落\n     */\n    T.cur = function () {\n        if (T.curIdx === -1)\n            return gUndefined;\n        return $(\"[\" + s_DataId + \"='vk-pg-\" + T.curIdx + \"']\");\n    }\n\n    /**\n     * 切换段落导航开关\n     * @returns boolean true：开启，false：关闭\n     */\n    T.tg = function (target) {\n        T.enabled = !T.enabled;\n        if (T.enabled) {\n            JQ_addClass(T.toolbar.btns[s_ParagraphNav], s_Selected);\n            MoreDocContent_hideAfter();\n\n            // 显示工具底栏提示信息\n            let key1 = V_ui_wrap_kbd(\"J\") + tag_2space + \"↑\" + tag_2space,\n                key2 = tag_2space +\"-\" + tag_2space + V_ui_wrap_kbd(\"K\") + tag_2space + \"↓\" + tag_2space,\n                key3 = tag_2space + tag_2space +\"/\" + tag_2space + tag_2space + V_ui_wrap_kbd(\"ESC\") + tag_2space;\n            T.tips.show([\n                key1 + \"上一个段落\"\n                    + key2 + \"下一个段落\"\n                    + key3 + \"退出\",\n                key1 + \"Previous paragraph\"\n                    + key2 + \"Next paragraphs\"\n                    + key3 + \"Exit\"\n            ][V_lang_id]);\n\n            T.goto(target);\n            return gTrue;\n        }\n        else {\n            T.hide();\n        }\n        return gFalse;\n    }\n\n    /**\n     * 添加段落\n     */\n    T.add = function (item) {\n        item.a(s_DataId, \"vk-pg-\" + T.count);\n        item.a(s_DataPgIdx, T.count);\n        T.count++;\n\n        // 单击内容块处理\n        item.uC().ck(function () {\n            // 未激活段落导航模式模式\n            if (!iParagraphNav.enabled) {\n                if (ThreeClicker_tick()\n                    && iParagraphNav.tg(item)) {\n                        iSpotlight.hide();\n                        iLaserPointer.hide();\n                    }\n            }\n            else {\n                T.goto(item);\n                if (ThreeClicker_tick()) {\n                    iParagraphNav.tg(item);\n                }\n            }\n        });\n    }\n\n    /**\n     * 上一个段\n     * @param step 跳转的步长\n     * @returns boolean 跳转结果，true：成功，false：失败\n     */\n    T.prevPg = function (step) {\n        if (!T.enabled)\n            return gFalse;\n\n        T.blurFocus();\n\n        // 未到首段\n        if (T.curIdx > 0) {\n            T.curIdx = T.curIdx - step;\n\n            if (T.curIdx < 0)\n                T.curIdx = 0;\n\n            // 如果目标内容块 item 跳转失败，则再尝试上一个\n            if (!T.goto(0))\n                T.prevPg(1);\n\n            return gTrue;\n        }\n        return gFalse\n    }\n\n    /**\n     * 下一个段\n     * @param step 跳转的步长\n     * @returns boolean 跳转结果，true：成功，false：失败\n     */\n    T.nextPg = function (step) {\n        if (!T.enabled)\n            return gFalse;\n\n        T.blurFocus();\n\n        // 未到末段\n        if (T.curIdx < T.count - 1) {\n            T.curIdx = T.curIdx + step;\n\n            // 跳转 step 后修正超出最大值的情况\n            if (T.curIdx > T.count - 1)\n                T.curIdx = T.count - 1;\n\n            // 如果目标内容块 item 跳转失败，则再尝试下一个\n            if (!T.goto(0))\n                T.nextPg(1);\n\n            return gTrue;\n        }\n        return gFalse;\n    }\n\n    /**\n     * 跳到指定的内容块，或最新的_blockFocusItemIndex指定的内容块\n     * @param target 跳转的目标。0: 指定跳到上/下一个位置，非0: 指定的目标位置\n     */\n    T.goto = function (target) {\n        T.blurFocus();\n\n        // 初始化目标段\n        let item = (target === 0)\n            ? T.cur()\n            : target;\n\n        // 若目标聚焦块为空（可能是对象已在其他处理过程中被删除）、不可视等情况\n        // 则返回跳转失败\n        if (item === gUndefined || item.isHidden() || item.o() === gUndefined)\n            return gFalse;\n\n        // 添加高亮样式\n        JQ_addClass(item, s_CssPgCurrentItem);\n        T.curIdx = JS_parseInt(item.a(s_DataPgIdx));\n\n        // 或目标段不在当前窗口显示区域内，则跳转到对应位置\n        let height = item.h() * 3;\n        if (item.oT() !== 0\n            && ((item.oT() - height) < $(document).scrollTop()\n            || (item.oT() + height) > ($(document).scrollTop() + $(window).h()))) {\n                DOM_html().scrollTop(item.oT() - $(window).h() / 2);\n        }\n\n        return gTrue; // 返回跳转成功\n    }\n\n    /**\n     * 让当前聚焦段其失去聚焦效果\n     */\n    T.blurFocus = function () {\n        if (T.cur() !== gUndefined)\n            JQ_removeClass(T.cur(), s_CssPgCurrentItem);\n    }\n\n    /**\n     * 隐藏当前段落的高亮样式\n     */\n    T.hide = function () {\n        MoreDocContent_refresh();\n        T.tips.hide();\n        JQ_removeClass(T.toolbar.btns[s_ParagraphNav], s_Selected);\n        T.enabled = gFalse;\n        T.blurFocus();\n    }\n\n    /**\n     * 处理热键操作\n     * @param code 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (code, combKeys, event) {\n        if (!T.enabled)\n            return;\n\n        let handled = false;\n        switch (code) {\n            case 74: // J\n                TableCross_hide();\n                if (T.nextPg(1)) // 步长1\n                    ExtQuote_autoUnfold(); // 自动展开引用\n                handled = true;\n                break;\n            case 75: // K\n                TableCross_hide();\n                if (T.prevPg(1)) // 步长1\n                    ExtQuote_autoUnfold(); // 自动展开引用\n                handled = true;\n                break;\n            case 27: // ESC\n                if (T.enabled) {\n                    T.hide();\n                    handled = true;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n    }\n}\n\n/**\n * 初始化段落导航模式\n */\nParagraphNav.init = function () {\n    iParagraphNav = new ParagraphNav(new BottomTips(s_ParagraphNav));\n    // 添加关联组件\n    iParagraphNav.toolbar = iToolbar;\n\n    // 先清理多余的段落标签\n    $(\"li>p:only-child\").contents().unwrap();\n\n    // 初始化\n    $(\"h1, h2, h3, h4, h5, h6, ul>li, summary, ol>li, p[class!=md-toc-content], figure, .md-diagram-panel, .MathJax_SVG_Display\").e(function () {\n        let item = $(this);\n        // 跳过不可见元素、子元素有嵌套 p 的情况，如li > p\n        if (item.is(\":visible\")\n            && (item.ch(\"p\").length === 0 || V_util_getTagName(item) === \"details\")) {\n            iParagraphNav.add(item);\n\n            // 双击内容块\n            item.on(\"dblclick\", function () {\n                // 激活三击检查\n                // 配合段落的单击事件对 ThreeClicker_tick() 的判断实现\n                ThreeClicker_active();\n            });\n        }\n    });\n}\n\n// ==================== 三击处理器 ==================== //\n\nlet ThreeClicker_activeTime = 0;\n\n/**\n * 进入激活状态（在双击事件中触发）\n */\nfunction ThreeClicker_active() {\n    ThreeClicker_activeTime = new Date().getTime();\n}\n\n/**\n * 三击触发尝试\n * @returns boolean true：成功触发三击，false：未满足触发三击\n */\nfunction ThreeClicker_tick() {\n    // 未进入激活状态\n    if (ThreeClicker_activeTime === 0)\n        return gFalse;\n\n        // 与进入激活状态时间隔小于指定时间，则满足触发三击条件\n    if (new Date().getTime() - ThreeClicker_activeTime < 300) {\n        // 取消文本选择\n        window.getSelection().removeAllRanges();\n        return gTrue;\n    }\n\n    // 超过指定时间隔音则恢复为未激活\n    ThreeClicker_activeTime = 0;\n    return gFalse;\n}\n\n// ==================== 工具栏类 ==================== //\n\n/**\n * 构造函数\n * @param chpNav 章节导航对象\n */\nfunction Toolbar(chpNav) {\n    let T = this;\n    T.ui = $(\".v-toolbar\"); // 工具栏主界面\n    T.btns = []; // 工具栏按钮集\n    T.chpNav = chpNav;\n\n    if (V_type !== \"max\")\n        T.ui.hide();\n\n    /**\n     * 添加按钮\n     * @param name 按钮标识\n     * @param clickEvent 按钮点击事件回调函数\n     */\n    T.add = function (name, clickEvent) {\n        T.btns[name] = $(\".v-btn.\" + name);\n\n        T.btns[name].uC().ck(function () {\n            ToolTips_hide();\n            typeof(clickEvent) === s_Function && clickEvent();\n        });\n\n        // hover 事件处理\n        T.btns[name].hover(function () {\n            let _t = $(this),\n                btnGroup = _t.a(s_DataBtnGroup);\n            if (btnGroup !== gUndefined)\n                JQ_addClass($(\".v-btn-group.\" + btnGroup), s_Hover);\n            ToolTips_show(_t, s_Auto);\n        }, function () {\n            let btnGroup = $(this).a(s_DataBtnGroup);\n            if (btnGroup !== gUndefined)\n                JQ_removeClass($(\".v-btn-group.\" + btnGroup), s_Hover);\n            ToolTips_hide();\n        });\n    }\n\n    /**\n     * 添加分隔条\n     * @param name 分隔条标识\n     */\n    T.addSpliter = function (name) {\n        T.btns[name] = $(\".v-\" + name);\n    }\n\n    /**\n     * 自适应显示工具栏\n     */\n    T.adjust = function () {\n        if (V_type !== \"max\")\n            return;\n\n        // 移动端下隐藏不必要的功能入口\n        if (env.device.mobile) {\n            T.btns[s_ParagraphNav].hide();\n            T.btns[s_Spotlight].hide();\n            T.btns[s_LaserPointer].hide();\n            T.btns[s_Print].hide();\n            T.btns[s_ToolbarSpliter].hide();\n        }\n\n        // 如果是小屏，或在封面\n        if (V_ui_isSmallScreen() || !iNavCenter.catalog.inHeader()) {\n            let offsetY = 0;\n            // 小屏\n            if (V_ui_isSmallScreen()) {\n                T.ui.c(s_PaddingLeft, 0)\n                    .c(s_PaddingRight, 0)\n                    .c(s_Top, 50 + offsetY);\n            }\n\n            // 微调工具栏分隔宽度\n            T.btns[s_ToolbarSpliter].c(s_Width, 20);\n\n            // 调整工具栏样式\n            JQ_removeClass(T.ui, s_CssFloatCard);\n            JQ_addClass(T.ui, s_Cover);\n\n            // 为去掉工具栏背景的按钮添加浮动样式\n            JQ_addClass(T.ui.ch(s_CssBtn_BtnGroup), s_CssFloatCard);\n            JQ_addClass(T.ui.ch(s_CssBtn_BtnGroup), s_Float);\n\n            // 大屏，回到封面及最开始位置进行二次调整\n            if (!V_ui_isSmallScreen()\n                && !iNavCenter.catalog.inHeader()) {\n                if ($(document).scrollTop() <= 5) {\n                    T.ui.c(s_PaddingLeft, 10)\n                        .c(s_PaddingRight, 10)\n                        .c(s_Top, 10);\n                }\n                else {\n                    T.ui.c(s_PaddingLeft, 10)\n                        .c(s_PaddingRight, 10)\n                        .c(s_Top, 0);\n                }\n            }\n            else {\n                // 小屏，在非封面位置进行二次调整\n                if (V_ui_isSmallScreen() && iNavCenter.catalog.inHeader())\n                    T.ui.c(s_PaddingLeft, 0)\n                        .c(s_PaddingRight, 0)\n                        .c(s_Top, 50 + offsetY);\n                else {\n                    // 小屏，在封面及最开始位置进行二次调整\n                    if ($(document).scrollTop() <= 5)\n                        T.ui.c(s_PaddingLeft, 10)\n                            .c(s_PaddingRight, 10)\n                            .c(s_Top, 10);\n                    // 小屏，在封面位置进行二次调整\n                    else\n                        T.ui.c(s_PaddingLeft, 10)\n                            .c(s_PaddingRight, 10)\n                            .c(s_Top, 0);\n                }\n            }\n        }\n        // 宽屏，且不在封面\n        else {\n            if (T.ui.oT() === 0)\n                return;\n\n            // 调整工具栏样式\n            JQ_removeClass(T.ui, s_Cover);\n            JQ_addClass(T.ui, s_CssFloatCard);\n\n            // 微调工具栏分隔宽度\n            let btnCount = T.ui.f(\".v-btn\").length,\n                btnWidth = JS_parseInt(V_util_getVarVal(\"--v-tb-btn-w\")),\n                space = JS_parseInt(V_util_getVarVal(\"--v-tb-btn-s\"));\n            T.btns[s_ToolbarSpliter].c(s_Width, \"calc((var(--v-nav-center-w) - \"\n                    + (btnCount * btnWidth + JS_parseInt(T.ui.c(s_PaddingLeft)) * 2 + (btnCount - 4) * space) + \"px) / 2)\");\n\n            T.ui.c(s_PaddingLeft, 10)\n                .c(s_PaddingRight, 10)\n                .c(s_Top, 0);\n            // 为增加了工具栏按钮的背景去掉浮动样式\n            JQ_removeClass(T.ui.ch(s_CssBtn_BtnGroup), s_CssFloatCard);\n            JQ_removeClass(T.ui.ch(s_CssBtn_BtnGroup), s_Float);\n        } // else\n        T.ui.show();\n    }\n}\n\n// ==================== 颜色方案类 ==================== //\n\n/**\n * 构造函数\n */\nfunction ColorScheme() {}\n\nColorScheme.scheme = s_Light; // 当前颜色以方案，light/dark\nColorScheme.schemeBeforePrint = s_Light; // 打印前的颜色方案\n\n/**\n * 初始化\n */\nColorScheme.init = function () {\n    const __lightIcon = document.querySelector('link#doc-icon-light');\n    const __darkIcon = document.querySelector('link#doc-icon-dark');\n\n    // Light Mode 时的文档图标\n    function __setLightIcon() {\n        // 浏览器中显示的文档图标\n        JQ_remove(__darkIcon);\n        document.head.append(__lightIcon);\n    }\n\n    // Dark Mode 时的文档图标\n    function __setDarkIcon() {\n        // 浏览器中显示的文档图标\n        JQ_remove(__lightIcon);\n        document.head.append(__darkIcon);\n    }\n\n    // 根据系统 Color Scheme 变化进行适配更新颜色方案\n    function __syncScheme(matcher) {\n        if (matcher.matches) {\n            __initScheme(gTrue);\n            ColorScheme.tg(s_Dark);\n        }\n        else {\n            __initScheme(gFalse);\n            ColorScheme.tg(s_Light);\n        }\n    }\n\n    // 根据系统 Color Scheme 变化进行适配更新图标\n    function __initScheme(flag) {\n        if (flag) {\n            __setDarkIcon();\n            ColorScheme.scheme = s_Dark;\n        }\n        else {\n            __setLightIcon();\n            ColorScheme.scheme = s_Light;\n        }\n        StsColorScheme_updateIcons();\n    }\n\n    // 监听系统的 Color Scheme 变化\n    const mediaQuery = window.matchMedia('(prefers-color-scheme:dark)');\n    mediaQuery.addEventListener(\"change\", __syncScheme);\n\n    // 初始执行\n    __initScheme(mediaQuery.matches);\n}\n\n/**\n * 切换颜色方案\n * @param scheme 指定方案，为空时则轮换\n */\nColorScheme.tg = function (scheme) {\n    if (scheme === gUndefined)\n        scheme = (ColorScheme.scheme === s_Light) ? s_Dark : s_Light;\n\n    ColorScheme.scheme = scheme;\n    INFO(\"    Switch to ... [ \" + ColorScheme.scheme + \" ]\");\n    // 应用最新颜色方案\n    ColorScheme.refresh();\n\n    if (iNavCenter.docLib.enabled) {\n        iNavCenter.docLib.reload(ColorScheme.scheme);\n    }\n    INFO(\"    DONE!\");\n}\n\n/**\n * 根据指定的颜色方案进行文档刷新\n */\nColorScheme.refresh = function () {\n    StsColorScheme_updateIcons();\n    // iToolbar.updateIcons();\n\n    // 批量修改颜色方案相关的 CSS 变量为指定的新值\n    let ac = \"--ac-\",\n        _alt = \"-alt\",\n        _fade = \"-fade\",\n        _title = \"-title\",\n        // ---\n        acRed = ac + \"rd\",\n        acOrange = ac + \"og\",\n        acYellow = ac + \"ye\",\n        acLime = ac + \"lm\",\n        acGreen = ac + \"gn\",\n        acMineral = ac + \"mn\",\n        acOlives = ac + \"ol\",\n        acWine = ac + \"wn\",\n        acAqua = ac + \"aq\",\n        acCyan = ac + \"cy\",\n        acBlue = ac + \"bu\",\n        acSea = ac + \"se\",\n        acLavender = ac + \"la\",\n        acVine = ac + \"vn\",\n        acPurple = ac + \"pu\",\n        acRose = ac + \"ro\",\n        acPink = ac + \"pk\",\n        acGold = ac + \"gd\",\n        acBrown = ac + \"bn\",\n        acGray = ac + \"gy\",\n        acBlack = ac + \"bk\",\n        acTheme1 = ac + \"t1\",\n        acTheme2 = ac + \"t2\",\n        // ---\n        mm = \"--mm-c-\",\n        // ---\n        mmRed = mm + \"rd\",\n        mmOrange = mm + \"og\",\n        mmYellow = mm + \"ye\",\n        mmGreen = mm + \"gn\",\n        mmCyan = mm + \"cy\",\n        mmBlue = mm + \"bu\",\n        mmPurple = mm + \"pu\",\n        mmPink = mm + \"pk\",\n        mmBrown = mm + \"bn\",\n        mmGray = mm + \"gy\",\n        // ---\n        cm = \"--cm-\";\n\n    V_util_changeCssVarSet([\n        \"--v-invert-dark\",\n        \"--v-brightness-dark\",\n        \"--d-bc\",\n        \"--d-bi\",\n        \"--d-bc-tsp\",\n        \"--d-f-c\",\n        \"--fig-solid-bg\",\n        \"--v-fig-grid-l\",\n        \"--v-fig-grid-b\",\n        \"--v-fig-grid-l-invert\",\n        \"--v-fig-grid-b-invert\",\n        \"--pn-c\",\n        \"--pn-c-alt\",\n        \"--pn-c-tsp\",\n        \"--blockquote-bg\",\n        \"--a-color\",\n        \"--mark-bg\",\n        \"--tbl-bd\",\n        \"--tbl-tr-hv\",\n        \"--tbl-th-bg\",\n        \"--tbl-td-bg\",\n        \"--tbl-cell-bd\",\n        \"--tbl-row-g-alpha\",\n        \"--toc-h-num-color\",\n        \"--h-f\",\n        \"--h-box-shadow\",\n        \"--h-bg-start\",\n        \"--h-bg-end\",\n        \"--code-bg\",\n        \"--std-code-shadow\",\n        \"--rb-code-shadow\",\n        \"--c-blk-bg\",\n        \"--key-bg\",\n        \"--key-reflect\",\n        \"--key-shadow\",\n        acRed,\n        acRed + _alt,\n        acRed + _fade,\n        acRed + _title,\n        acOrange,\n        acOrange + _alt,\n        acOrange + _fade,\n        acOrange + _title,\n        acYellow,\n        acYellow + _alt,\n        acYellow + _fade,\n        acYellow + _title,\n        acLime,\n        acLime + _alt,\n        acLime + _fade,\n        acLime + _title,\n        acGreen,\n        acGreen + _alt,\n        acGreen + _fade,\n        acGreen + _title,\n        acMineral,\n        acMineral + _alt,\n        acMineral + _fade,\n        acMineral + _title,\n        acOlives,\n        acOlives + _alt,\n        acOlives + _fade,\n        acOlives + _title,\n        acWine,\n        acWine + _alt,\n        acWine + _fade,\n        acWine + _title,\n        acAqua,\n        acAqua + _alt,\n        acAqua + _fade,\n        acAqua + _title,\n        acCyan,\n        acCyan + _alt,\n        acCyan + _fade,\n        acCyan + _title,\n        acBlue,\n        acBlue + _alt,\n        acBlue + _fade,\n        acBlue + _title,\n        acSea,\n        acSea + _alt,\n        acSea + _fade,\n        acSea + _title,\n        acLavender,\n        acLavender + _alt,\n        acLavender + _fade,\n        acLavender + _title,\n        acVine,\n        acVine + _alt,\n        acVine + _fade,\n        acVine + _title,\n        acPurple,\n        acPurple + _alt,\n        acPurple + _fade,\n        acPurple + _title,\n        acRose,\n        acRose + _alt,\n        acRose + _fade,\n        acRose + _title,\n        acPink,\n        acPink + _alt,\n        acPink + _fade,\n        acPink + _title,\n        acGold,\n        acGold + _alt,\n        acGold + _fade,\n        acGold + _title,\n        acBrown,\n        acBrown + _alt,\n        acBrown + _fade,\n        acBrown + _title,\n        acGray,\n        acGray + _alt,\n        acGray + _fade,\n        acGray + _title,\n        acBlack,\n        acBlack + _alt,\n        acBlack + _fade,\n        acBlack + _title,\n        acTheme1,\n        acTheme1 + _alt,\n        acTheme1 + _fade,\n        acTheme1 + _title,\n        acTheme2,\n        acTheme2 + _alt,\n        acTheme2 + _fade,\n        acTheme2 + _title,\n        mmRed,\n        mmRed + _alt,\n        mmOrange,\n        mmOrange + _alt,\n        mmYellow,\n        mmYellow + _alt,\n        mmGreen,\n        mmGreen + _alt,\n        mmCyan,\n        mmCyan + _alt,\n        mmBlue,\n        mmBlue + _alt,\n        mmPurple,\n        mmPurple + _alt,\n        mmPink,\n        mmPink + _alt,\n        mmBrown,\n        mmBrown + _alt,\n        mmGray,\n        mmGray + _alt,\n        cm + \"keyword\",\n        cm + \"variable\",\n        cm + \"variable-2\",\n        cm + \"variable-3\",\n        cm + \"tag\",\n        cm + \"attribute\",\n        cm + \"CodeMirror-cursor\",\n        cm + \"string\",\n        cm + \"string-2\",\n        cm + \"comment\",\n        cm + \"header\",\n        cm + \"quote\",\n        cm + \"hr\",\n        cm + \"link\",\n        cm + \"negative\",\n        cm + \"positive\",\n        cm + \"meta\",\n        cm + \"bulidin\",\n        cm + \"bracket\",\n        cm + \"atom\",\n        cm + \"number\"\n    ], (ColorScheme.scheme === s_Dark) ? \"dk\" : \"lg\");\n\n    // 针对 Dark Mode 进行适配处理\n    ExtFigure_adjustColorScheme(gTrue);\n}\n\n// ==================== 字体风格选项、选择器类 ==================== //\n\nlet webfontHostAlt = \"https://madmaxchow.github.io/openfonts/\";\n// let webfontHostAlt = \"https://cdn.jsdelivr.net/gh/MadMaxChow/openfonts@master/\";\n\n/**\n * 构造函数\n * @param ui 选项的 UI\n * @param fonts 字体集数组\n */\nfunction FontThemeOption(ui, fonts) {\n    let T = this;\n    T.ui = ui;\n    T.fonts = fonts;\n    T.fontCount = T.fonts.length;\n}\n\n/**\n * 构造函数\n * @param mask 遮罩对象\n * @param theme 默认的字体主题\n */\nfunction FontTheme(mask, theme) {\n    let T = this;\n    T.theme = theme; // 当前字体风格，sans：非衬线（小清新），serif：衬线（文艺范）\n    T.ui = $(\".v-font-theme\"); // 字体风格切换选择界面\n    // 系统默认字体风格选项\n    T.localTheme = new FontThemeOption($(\".v-font-theme-opt-local\"), []);\n    // Book 风格选项\n    T.bookTheme = new FontThemeOption($(\".v-font-theme-opt-book\"), []);\n    // 小清新字体风格选项\n    T.sansTheme = new FontThemeOption($(\".v-font-theme-opt-sans\"),\n        [\n            \"VLOOK Number/normal/normal\", \"VLOOK Number/normal/bold\", \"VLOOK Number/italic/normal\",\n            \"VLOOK Digital Sans/normal/normal\", \"VLOOK Digital Sans/normal/500\", \"VLOOK Digital Sans/normal/bold\", \"VLOOK Digital Sans/normal/900\",\n            \"VLOOK Sans Mono/normal/normal\", \"VLOOK Sans Mono/normal/500\", \"VLOOK Sans Mono/normal/bold\", \"VLOOK Sans Mono/normal/900\",\n            \"VLOOK Sans/normal/normal\", \"VLOOK Sans/normal/bold\", \"VLOOK Sans/normal/900\"\n            ]);\n    // 艺术范字体风格选项\n    T.serifTheme = new FontThemeOption($(\".v-font-theme-opt-serif\"),\n        [\n            \"VLOOK Number/normal/normal\", \"VLOOK Number/normal/bold\", \"VLOOK Number/italic/normal\",\n            \"VLOOK Digital Serif/normal/normal\", \"VLOOK Digital Serif/normal/bold\", \"VLOOK Digital Serif/italic/normal\", \"VLOOK Digital Serif/italic/bold\",\n            \"VLOOK Serif Mono/normal/normal\", \"VLOOK Serif Mono/normal/bold\", \"VLOOK Serif Mono/italic/normal\", \"VLOOK Serif Mono/italic/bold\",\n            \"VLOOK Serif/normal/500\", \"VLOOK Serif/normal/900\",\n            \"VLOOK Sans Mono/normal/normal\", \"VLOOK Sans Mono/normal/500\", \"VLOOK Sans Mono/normal/bold\", \"VLOOK Sans Mono/normal/900\",\n            \"VLOOK Sans/normal/normal\", \"VLOOK Sans/normal/bold\", \"VLOOK Sans/normal/900\"\n        ]);\n    // 遮罩\n    T.mask = mask;\n    T.mask.bindPartner(this, T.ui);\n\n    V_ui_addAnimate(T.ui);\n\n    // 绑定各字体风格选项事件\n    T.localTheme.ui.uC().ck(function () {\n        T.apply(\"local\");\n        T.hide();\n    });\n    T.bookTheme.ui.uC().ck(function () {\n        T.apply(\"book\");\n        T.hide();\n    });\n    T.sansTheme.ui.uC().ck(function () {\n        T.apply(\"sans\");\n        T.initWebFont();\n        T.hide();\n    });\n    T.serifTheme.ui.uC().ck(function () {\n        T.apply(\"serif\");\n        T.initWebFont();\n        T.hide();\n    });\n\n    /**\n     * 初始化\n     * @param theme 可选。强制指定的字体主题\n     */\n    T.init = function (theme) {\n        // 有指定强制字体主题，同时指定的字体主题合法且与文档配套的不一致，则进行处理\n        if (theme !== gUndefined\n            && theme.m(/^(local|sans|serif)$/i) != null\n            && theme !== T.theme) {\n                T.theme = theme;\n                T.apply(T.theme);\n        }\n\n        LOG(\"_____ FONT THEME (\" + T.theme + \") _____ \");\n\n        T.initWebFont();\n\n        // 对于本地字体主题的状态，直接为就绪\n        $(\":is(.v-fontinfo-local, .v-fontinfo-book) > #fontset-status\").t(\"✅ \" + [\n            \"已就绪\",\n            \"Ready\"\n        ][V_lang_id]);\n    }\n\n    /**\n     * 初始化 WebFont\n     */\n    T.initWebFont = function () {\n        let fontWeight500 = \"500\",\n            fontWeight900 = \"900\",\n            _Regular = \"-Regular\",\n            _Medium = \"-Medium\",\n            _Bold = \"-Bold\",\n            _Black = \"-Black\",\n            _Italic = \"-Italic\";\n        let unicodeRange = \"U+0021-002F,\" // !\"#$%&'()*+,-./（不含空格）\n            + \"U+0030-0039,\" // 0123456789\n            + \"U+003A-0040,\" // :;<=>?@\n            + \"U+005B-0060,\" // [\\]^_`\n            + \"U+007B-007E\"; // {|}~\n        let timeOutMsg = \"❌ \" + [\"超时\", \"Timeout\"][V_lang_id];\n\n        if (T.theme === \"local\") {\n            // 动态加载字体 VLOOK Number\n            __loadNumberFont();\n        }\n        else if (T.theme === \"sans\") {\n            // 动态加载字体 VLOOK Number\n            __loadNumberFont();\n            // 动态加载字体 VLOOK Digital Sans\n            __LoadDigitalSansFont();\n            // 动态加载字体 VLOOK Sans Mono\n            __loadSansMonoFont();\n            // 动态加载字体 VLOOK Noto Sans CJK SC\n            __loadSansCjkFont();\n\n            // Sans 字体主题的加载超时检测\n            setTimeout(function () {\n                if (T.sansTheme.fonts.length > 0)\n                    $(\".v-fontinfo-sans > #fontset-status\").t(timeOutMsg);\n            }, 600000); // 10 分钟后进行超时检测\n        }\n        else if (T.theme === \"serif\") {\n            // 动态加载字体 VLOOK Number\n            __loadNumberFont();\n            // 动态加载字体 VLOOK Digital Serif\n            __LoadDigitalSerifFont();\n            // 动态加载字体 VLOOK Serif Mono\n            __loadSerifMonoFont();\n            // 动态加载字体 VLOOK Noto Serif CJK SC\n            __loadSerifCjkFont();\n\n            // 动态加载字体 VLOOK Sans Mono\n            __loadSansMonoFont();\n            // 动态加载字体 VLOOK Noto Sans CJK SC\n            __loadSansCjkFont();\n\n            // Serif 字体主题的加载超时检测\n            setTimeout(function () {\n                if (T.serifTheme.fonts.length > 0)\n                    $(\".v-fontinfo-serif > #fontset-status\").t(timeOutMsg);\n            }, 600000); // 10 分钟后进行超时检测\n        }\n\n        // 动态加载字体 VLOOK Number\n        function __loadNumberFont() {\n            let fontName = \"VLOOK Number\",\n                srcName = \"Altinn-DIN\";\n            T.loadFont(fontName, s_Normal, s_Normal, srcName, srcName, \"otf\", s_WOFF2);\n            T.loadFont(fontName, s_Normal, s_Bold, srcName, srcName + _Bold, \"otf\", s_WOFF2);\n            T.loadFont(fontName, s_Italic, s_Normal, srcName, srcName + _Italic, \"otf\", s_WOFF2);\n        }\n\n        // 动态加载字体 VLOOK Digital Sans\n        function __LoadDigitalSansFont() {\n            let fontName = \"VLOOK Digital Sans\",\n                srcName = \"NotoSansMono\";\n            T.loadFont(fontName, s_Normal, s_Normal, srcName, srcName + _Regular, s_TTF, s_WOFF2, unicodeRange);\n            T.loadFont(fontName, s_Normal, fontWeight500, srcName, srcName + _Medium, s_TTF, s_WOFF2, unicodeRange);\n            T.loadFont(fontName, s_Normal, s_Bold, srcName, srcName + _Bold, s_TTF, s_WOFF2, unicodeRange);\n            T.loadFont(fontName, s_Normal, fontWeight900, srcName, srcName + _Black, s_TTF, s_WOFF2, unicodeRange);\n        }\n\n        // 动态加载字体 VLOOK Digital Serif\n        function __LoadDigitalSerifFont() {\n            let fontName = \"VLOOK Digital Serif\",\n                srcName = \"LuxiMono\";\n            let luxiMonoSubName = srcName + _Italic;\n            T.loadFont(fontName, s_Normal, s_Normal, srcName, srcName + _Regular, s_TTF, s_WOFF2, unicodeRange);\n            T.loadFont(fontName, s_Normal, s_Bold, srcName, srcName + _Bold, s_TTF, s_WOFF2, unicodeRange);\n            T.loadFont(fontName, s_Italic, s_Normal, srcName, luxiMonoSubName + _Regular, s_TTF, s_WOFF2, unicodeRange);\n            T.loadFont(fontName, s_Italic, s_Bold, srcName, luxiMonoSubName + _Bold, s_TTF, s_WOFF2, unicodeRange);\n        }\n\n        // 动态加载字体 VLOOK Sans Mono\n        function __loadSansMonoFont() {\n            let fontName = \"VLOOK Sans Mono\",\n                srcName = \"NotoSansMono\";\n            T.loadFont(fontName, s_Normal, s_Normal, srcName, srcName + _Regular, s_TTF, s_WOFF2);\n            T.loadFont(fontName, s_Normal, fontWeight500, srcName, srcName +_Medium, s_TTF, s_WOFF2);\n            T.loadFont(fontName, s_Normal, s_Bold, srcName, srcName + _Bold, s_TTF, s_WOFF2);\n            T.loadFont(fontName, s_Normal, fontWeight900, srcName, srcName + _Black, s_TTF, s_WOFF2);\n        }\n\n        // 动态加载字体 VLOOK Serif Mono\n        function __loadSerifMonoFont() {\n            let fontName = \"VLOOK Serif Mono\",\n                srcName = \"LuxiMono\";\n            let luxiMonoSubName = srcName + _Italic;\n            T.loadFont(fontName, s_Normal, s_Normal, srcName, srcName + _Regular, s_TTF, s_WOFF2);\n            T.loadFont(fontName, s_Normal, s_Bold, srcName, srcName + _Bold, s_TTF, s_WOFF2);\n            T.loadFont(fontName, s_Italic, s_Normal, srcName, luxiMonoSubName + _Regular, s_TTF, s_WOFF2);\n            T.loadFont(fontName, s_Italic, s_Bold, srcName, luxiMonoSubName + _Bold, s_TTF, s_WOFF2);\n        }\n\n        // 动态加载字体 VLOOK Noto Sans CJK SC\n        function __loadSansCjkFont() {\n            let fontName = \"VLOOK Sans\",\n                srcName = \"NotoSansCJKsc\";\n            T.loadFont(fontName, s_Normal, s_Normal, srcName, srcName + _Regular, \"otf\", s_WOFF2);\n            T.loadFont(fontName, s_Normal, s_Bold, srcName, srcName + _Bold, \"otf\", s_WOFF2);\n            T.loadFont(fontName, s_Normal, fontWeight900, srcName, srcName + _Black, \"otf\", s_WOFF2);\n        }\n\n        // 动态加载字体 VLOOK Noto Serif CJK SC\n        function __loadSerifCjkFont() {\n            let fontName = \"VLOOK Serif\",\n                srcName = \"NotoSerifCJKsc\";\n            T.loadFont(fontName, s_Normal, fontWeight500, srcName, srcName + _Medium, \"otf\", s_WOFF2);\n            T.loadFont(fontName, s_Normal, fontWeight900, srcName, srcName + _Black, \"otf\", s_WOFF2);\n        }\n    }\n\n    /**\n     * 绑定选择字体风格操作按钮\n     * @param button 绑定的工具栏按钮\n     */\n    T.bindButton = function (button) {\n        T.button = button; // 绑定的工具栏按钮\n    }\n\n    /**\n     * 加载自定义字体\n     * @param fontFamily 自定义字体名称\n     * @param fontStyle 字体样式\n     * @param fontWeight 字重\n     * @param srcFontName 字体源名称\n     * @param srcFontSubName 字体源子名称\n     * @param suffix 字体扩展名，支持 otf ttf\n     * @param woff 加载 woff 的版本，支持 woff woff2，不加载不指定\n     * @param unicodeRange 指定应用的字符范围\n     */\n    T.loadFont = function (fontFamily, fontStyle, fontWeight, srcFontName, srcFontSubName, suffix, woff, unicodeRange) {\n        if (document.fonts && !T.isExist(fontFamily, fontStyle, fontWeight)) {\n            let woffURL = \"url('\" + webfontHostAlt + srcFontName + \"-\" + woff + \"/\" + srcFontSubName + \".\" + woff + \"') format('woff2')\",\n                fontFace;\n            if (unicodeRange === gUndefined) {\n                fontFace = new FontFace(fontFamily,\n                    ((woff !== gUndefined) ? woffURL : \"\"), {\n                        style: fontStyle,\n                        weight: fontWeight,\n                        display: \"swap\"\n                    });\n            }\n            else {\n                fontFace = new FontFace(fontFamily,\n                    ((woff !== gUndefined) ? woffURL : \"\"), {\n                        style: fontStyle,\n                        weight: fontWeight,\n                        display: \"swap\",\n                        unicodeRange: \"U+0030-0039\"\n                    });\n            }\n\n            // 指定字体加载完成后回调函数\n            fontFace.load().then(function(loadedFontFace) {\n                document.fonts.add(loadedFontFace);\n\n                let fontID = fontFamily + \"/\" + fontStyle + \"/\" + fontWeight,\n                    readyMsg = \"✅ \" + [\"已就绪\", \"Ready\"][V_lang_id],\n                    loadingMsg = [\"加载中\", \"Loading\"][V_lang_id];\n                LOG(\"↓↓↓ FONT LOADED ↓↓↓\");\n                LOG(fontID);\n\n                // --------------------\n                // 更新小清新风格字体包下载进度\n                // 剔除已下载的字体字形\n                for (let i = 0; i < T.sansTheme.fonts.length; i++) {\n                    if (T.sansTheme.fonts[i] === fontID) {\n                        T.sansTheme.fonts.splice(i, 1);\n                        break;\n                    }\n                }\n                // 计算进度\n                let sansLoadedCount = T.sansTheme.fontCount - T.sansTheme.fonts.length,\n                    sansStatus = $(\".v-fontinfo-sans > #fontset-status\");\n                if (sansLoadedCount < T.sansTheme.fontCount)\n                    sansStatus.t(loadingMsg + \"... (\" + JS_mathRound(sansLoadedCount / T.sansTheme.fontCount * 100) + \"%)\");\n                else\n                    sansStatus.t(readyMsg);\n\n                // --------------------\n                // 更新艺术范风格字体包下载进度\n                // 剔除已下载的字体字形\n                for (let i = 0; i < T.serifTheme.fonts.length; i++) {\n                    if (T.serifTheme.fonts[i] === fontID) {\n                        T.serifTheme.fonts.splice(i, 1);\n                        break;\n                    }\n                }\n                // 计算进度\n                let serifLoadedCount = T.serifTheme.fontCount - T.serifTheme.fonts.length,\n                    serifStatus = $(\".v-fontinfo-serif > #fontset-status\");\n                if (serifLoadedCount < T.serifTheme.fontCount)\n                    serifStatus.t(loadingMsg + \"... (\" + JS_mathRound(serifLoadedCount / T.serifTheme.fontCount * 100) + \"%)\");\n                else\n                    serifStatus.t(readyMsg);\n            });\n        }\n    }\n\n    /**\n     * 检测指定自定义字体是否已加载\n     * @param fontFamily 自定义字体名称\n     * @param fontStyle 字体样式\n     * @param fontWeight 字重\n     */\n    T.isExist = function (fontFamily, fontStyle, fontWeight) {\n        let values = document.fonts.values(),\n            isHave = gFalse,\n            item = values.next();\n\n        while (!item.done && !isHave) {\n            let fontFace = item.value;\n            if (fontFace.family === fontFamily\n                && fontFace.style === fontStyle\n                && fontFace.weight === fontWeight) {\n                    isHave = gTrue;\n                    LOG(\"///// FONT IS EXIST /////\");\n                    LOG(fontFamily + \"/\" + fontStyle + \"/\" + fontWeight);\n            }\n            item = values.next();\n        }\n        return isHave;\n    }\n\n    /**\n     * 显示字体风格选择器\n     */\n    T.show = function () {\n        T.mask.show();\n        V_ui_moveToCenter(T.ui);\n        T.ui.show();\n\n        LOG(\"'\" + T.theme + \"'\");\n        if (T.theme === \"local\") {\n            JQ_addClass(T.localTheme.ui, s_Selected);\n            JQ_removeClass(T.bookTheme.ui, s_Selected);\n            JQ_removeClass(T.sansTheme.ui, s_Selected);\n            JQ_removeClass(T.serifTheme.ui, s_Selected);\n        }\n        else if (T.theme === \"book\") {\n            JQ_removeClass(T.localTheme.ui, s_Selected);\n            JQ_addClass(T.bookTheme.ui, s_Selected);\n            JQ_removeClass(T.sansTheme.ui, s_Selected);\n            JQ_removeClass(T.serifTheme.ui, s_Selected);\n        }\n        else if (T.theme === \"sans\") {\n            JQ_removeClass(T.localTheme.ui, s_Selected);\n            JQ_removeClass(T.bookTheme.ui, s_Selected);\n            JQ_addClass(T.sansTheme.ui, s_Selected);\n            JQ_removeClass(T.serifTheme.ui, s_Selected);\n        }\n        else {\n            JQ_removeClass(T.localTheme.ui, s_Selected);\n            JQ_removeClass(T.bookTheme.ui, s_Selected);\n            JQ_addClass(T.serifTheme.ui, s_Selected);\n            JQ_removeClass(T.sansTheme.ui, s_Selected);\n        }\n    }\n\n    /**\n     * 是否已显示\n     * @returns boolean\n     */\n    T.isShowed = function () {\n        return T.ui.c(s_Display) !== s_None;\n    }\n    /**\n     * 显示/隐藏字体风格选择器\n     */\n    T.tg = function () {\n        if (T.isShowed()) {\n            T.hide();\n        }\n        else {\n            T.show();\n        }\n    }\n\n    /**\n     * 隐藏字体风格选择器\n     */\n    T.hide = function () {\n        T.ui.hide();\n        T.mask.hide();\n    }\n\n    /**\n     * 应用指定字体风格\n     * @param theme 指定应用的字体风格（sans/serif），不指定则以为当前字体风格\n     */\n    T.apply = function (theme) {\n        // 修正无指定样式的情况\n        if (theme === gUndefined)\n            theme = T.theme;\n        T.theme = theme;\n\n        // CSS 变量名称列表\n        const varList = [\n            \"--v-f-fm-title\",\n            \"--v-f-fm-subtitle\",\n            \"--v-f-fm-h\",\n            \"--v-f-fm-text\",\n            \"--v-f-fm-bd\",\n            \"--v-f-fm-key\",\n            \"--v-f-fm-num\",\n            \"--v-f-fm-tag\",\n            \"--v-f-fm-code\",\n            \"--v-f-w-bd\",\n            \"--v-f-w-title\",\n            \"--v-f-w-text\"\n        ];\n        // 生成目标字体主题变量值列表\n        let fontVarList = [];\n        for (let i = 0, len = varList.length; i < len; i++) {\n            fontVarList.push(V_util_getVarVal(varList[i] + \"-\" + T.theme));\n        }\n        // 遍历所有变量实现字体主题的切换\n        for (let i = 0, len = varList.length; i < len; i++) {\n            V_util_setVarVal(varList[i], fontVarList[i]);\n        }\n    }\n\n    /**\n     * 处理热键操作\n     * @param code 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (code, combKeys, event) {\n        if (T.ui.isHidden())\n            return;\n\n        let handled = false;\n        switch (code) {\n            case 27: // ESC\n                if (T.isShowed()) {\n                    T.hide();\n                    handled = true;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n    }\n}\n\n// ==================== 脚注类 ==================== //\n\n/**\n * 构造函数\n * @param mask 遮罩对象\n */\nfunction FootNote(mask) {\n    let T = this;\n    T.ui = $(\".v-footnote-pn\"); // 脚注主界面\n    T.content = $(\".v-footnote-pn-content\"); // 脚注内容区\n\n    T.buttonSeeAll = $(\".v-footnote-pn-all\"); // 查看所有脚注按钮\n    T.buttonSeeAll.uC().ck(function () {\n        T.hide();\n        // 跳转至所有脚注区域\n        WINDOW_setHref(\"#vk-footer-area\");\n    });\n\n    // 遮罩\n    T.mask = mask;\n    T.mask.bindPartner(this, T.ui);\n\n    /**\n     * 是否已显示\n     * @returns boolean\n     */\n    T.isShowed = function () {\n        return T.ui.c(s_Display) !== s_None;\n    }\n\n    /**\n     * 显示脚注弹层\n     */\n    T.show = function () {\n        // 显示关联的遮罩\n        T.mask.show();\n\n        if (V_ui_isSmallScreen())\n            T.ui.c(s_Left, 20)\n                .c(s_Right, 20);\n        else\n            T.ui.c(s_Left, \"15%\")\n                .c(s_Right, \"15%\");\n\n        T.ui.show();\n    }\n\n    /**\n     * 隐藏脚注弹层\n     */\n    T.hide = function () {\n        T.ui.hide();\n        T.mask.hide();\n    }\n\n    /**\n     * 处理热键操作\n     * @param code 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (code, combKeys, event) {\n        if (T.ui.isHidden())\n            return;\n\n        let handled = false;\n        switch (code) {\n            case 27: // ESC\n                if (T.isShowed()) {\n                    T.hide();\n                    handled = true;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n    }\n}\n\n/**\n * 初始化脚注\n */\nFootNote.init = function () {\n    // 将 Typora 的脚注调整到封底前，VLOOK 规范的文档中最后一个 <h6> 是封底\n    let footnotesArea = $(\".\" + s_FootnotesArea);\n    // 「有封面」模式\n    if (VOM_backcover() !== gUndefined)\n        footnotesArea.insertBefore(VOM_backcover());\n    // 「无封面」模式\n    else\n        VOM_doc().ap(footnotesArea);\n\n    // 将 VLOOK 生成的脚注区锚点调整到生成 HTML 后的实际位置\n    $(\"#vk-footer-area\").insertBefore(footnotesArea);\n\n    // 移除默认的跳转属性\n    let a = $(\"a[name^='ref-footnote-'], a[id^='ref-footnote-']\");\n    a.removeAttr(s_Href);\n    // 将脚注角标的事件替换为指定的处理事件\n    a.uC().ck(function () {\n        // 获取脚注【返回】链接对应的脚注原文信息\n        let _t = $(this),\n            target = $(\"a[name='df\" + _t.a(s_Name) + \"'], a[id='df\" + _t.a(s_Name) + \"']\").p().clone();\n\n        // 更新脚注弹层内容区\n        LOG(target, target.t());\n        iFootNote.content.hm(target);\n        // 移除默认的返回链接\n        JQ_remove(target.f(\"a[name^='dfref-footnote'], a[id^='dfref-footnote']\"));\n\n        // 显示脚注弹层\n        iFootNote.show();\n    });\n}\n\n// ==================== 状态栏类 ==================== //\n\nlet StatusBar_ui = gUndefined,\n    StatusBar_items = [], // 状态栏条目集\n    StatusBar_options = V_util_getParamVal(\"stsbar\");\n/**\n * 构造函数\n */\nfunction StatusBar_init() {\n    StatusBar_ui = $(\".v-status-bar\");\n    if (V_type !== \"max\")\n        StatusBar_ui.hide();\n}\n\n/**\n * 添加状态栏条目\n * @param name 条目标识\n * @param item 条目对象\n */\nfunction StatusBar_add(name, item) {\n    StatusBar_items[name] = item;\n    if (StatusBar_options !== gUndefined && StatusBar_options.i(name) > -1) {\n        item.enabled = gFalse;\n        JQ_remove(item.ui);\n    }\n}\n\n/**\n * 自适应显示状态栏\n */\nfunction StatusBar_adjust() {\n    // 移动端下隐藏不必要的功能入口\n    if (env.device.mobile) {\n        JQ_remove(StatusBar_items[\"zoom-view\"]);\n    }\n}\n\n// ==================== 文档信息类 ==================== //\n\nlet StsDocInfo_ui = gUndefined,\n    DocInfo_enabled = gTrue;\n/**\n * 构造函数\n */\nfunction StsDocInfo_init() {\n    StsDocInfo_ui = $(\".v-doc-info\");\n}\n\n/**\n * 统计字数\n */\nfunction DocInfo_countWord() {\n    if (!DocInfo_enabled)\n        return;\n\n    let latin = VOM_doc().t().m(/[\\w\\-]+/g),\n        cjk = VOM_doc().t().m(/\\p{Unified_Ideograph}/ug);\n        // docInfo = $(\".v-doc-info\");\n    let latinCount = (latin == null) ? 0 : latin.length,\n        cjkCount = (cjk == null) ? 0 : cjk.length,\n        wordCount = latinCount + cjkCount,\n        readCountPerMin = 180;\n\n    // 计算阅读时长\n    let mins = wordCount < readCountPerMin ? 1 : JS_parseInt(wordCount / readCountPerMin),\n        times = mins + \" \" + [\n            \"分钟\",\n            \"minutes\"\n        ][V_lang_id];\n    if (mins > 60)\n        times = (mins / 60).toFixed(1) + \" \" + [\n            \"小时\",\n            \"hours\"\n        ][V_lang_id];\n    // 默认信息\n    StsDocInfo_ui.a(s_DataDefault,\n        times + \" / \" + V_formatting_thousands(wordCount.toString()) + \" \"\n        + [\n            \"字\",\n            \"words\"\n        ][V_lang_id]);\n    // 扩展信息\n    StsDocInfo_ui.a(s_DataExtend,\n        \"( \" + V_formatting_thousands(cjkCount.toString()) + \" \" + [\n            \"中日韩，\",\n            \"CJK, \"\n        ][V_lang_id]\n        + V_formatting_thousands(latinCount.toString()) + \" \" + [\n            \"非中日韩\",\n            \"Non-CJK\"\n        ][V_lang_id] + \" )\");\n    // hover 时显示扩展信息\n    StsDocInfo_ui.hover(function () {\n        StsDocInfo_ui.hm(StsDocInfo_ui.a(s_DataDefault) + \"&nbsp;<span style='color: var(--d-f-c-alt)'>\" + StsDocInfo_ui.a(s_DataExtend) + s_SpanClose);\n    }, function () {\n        StsDocInfo_ui.hm(StsDocInfo_ui.a(s_DataDefault));\n    });\n    StsDocInfo_ui.hm(StsDocInfo_ui.a(s_DataDefault));\n}\n\n// ==================== 状态栏的字体主题类 ==================== //\n\nlet StsFontTheme_ui = gUndefined;\n/**\n * 构造函数\n */\nfunction StsFontTheme_init() {\n    StsFontTheme_ui = $(\".v-sts-font-theme\");\n    StsFontTheme_ui.a(s_DataTips, [\n        \"切换 字体风格\",\n        \"Switch Font Theme\"\n    ][V_lang_id] + \"\\n<sub>\" + V_ui_wrap_kbd(\"A\") + \"</sub>\");\n\n    ToolTips_bind(StsFontTheme_ui);\n    StsFontTheme_ui.uC().ck(function () {\n        iFontTheme.tg();\n    });\n}\n\n// ==================== 状态栏的颜色模式类 ==================== //\n\nlet StsColorScheme_ui = gUndefined;\n/**\n * 构造函数\n */\nfunction StsColorScheme_init() {\n    StsColorScheme_ui = $(\".v-color-scheme\");\n    StsColorScheme_ui.a(s_DataTips, [\n        \"切换 [ <strong>黑暗</strong> / <strong>明亮</strong> ] 模式\",\n        \"Switch <strong>Dark</strong> / <strong>Light</strong> Mode\"\n    ][V_lang_id] + \"\\n<sub>\" + V_ui_wrap_kbd(\"D\") + \"</sub>\");\n\n    ToolTips_bind(StsColorScheme_ui);\n    StsColorScheme_ui.uC().ck(function () {\n        ColorScheme.tg();\n    });\n}\n\n/**\n * 更新按钮图标\n */\nfunction StsColorScheme_updateIcons() {\n    // 调整模式切换按钮图标\n    StsColorScheme_ui.hm(\"<svg width='20px' height='20px'><use xlink:href='#\"\n        + (ColorScheme.scheme === s_Light ? \"icoLightMode\" : \"icoDarkMode\")\n        + \"' class='v-svg-ico-theme'/></svg>\");\n}\n\n// ==================== 链接检查器类 ==================== //\n\nlet StsLinkTool_ui = gUndefined,\n    LinkTool_panel_list = gUndefined,\n    LinkTool_panel_header = gUndefined,\n    LinkTool_panel_body = gUndefined,\n    LinkTool_enabled = gTrue,\n    LinkTool_icon_error = \"\",\n    // LinkTool_icon_close = \"\",\n    LinkTool_mask = gUndefined;\n\n/**\n * 构造函数\n */\nfunction StsLinkTool_init(mask) {\n    // let T = this;\n    StsLinkTool_ui = $(\".v-link-chk-result\"); // 检查结果\n    LinkTool_panel_list = $(\".v-link-error-list\"); // 坏链主界面\n    LinkTool_panel_header = $(\".v-link-error-list-header\");\n    LinkTool_panel_body = $(\".v-link-error-list-items\"); // 坏链内容列表\n    LinkTool_enabled = gTrue;\n\n    LinkTool_icon_error = V_ui_genSvgIcon(\"icoLinkError\", 16, 14, s_Light);\n    // LinkTool_icon_close = V_ui_generateSvgIcon(\"icoClose\", 16, 16, s_Light);\n\n    // 遮罩\n    LinkTool_mask = mask;\n    LinkTool_mask.bindPartner(function () {\n        LinkTool_hide()\n    }, LinkTool_panel_list);\n\n    // 滚动事件处理\n    LinkTool_panel_body.scroll(function () {\n        // 滚出了顶部则显示顶部渐变条\n        if (LinkTool_panel_header.isHidden() && LinkTool_panel_body.scrollTop() > 10)\n            LinkTool_panel_header.show()\n        // 否则隐藏\n        else if (LinkTool_panel_body.scrollTop() <= 10)\n            LinkTool_panel_header.hide()\n    });\n}\n\n/**\n * 将 .md 的链接转换为 .html 链接（或指定后缀）\n */\nfunction LinkTool_mdToHtml() {\n    let mdx = V_util_getParamVal(\"mdx\"),\n        newExt = \".html\";\n    // 全局配置，禁用转换，则停止\n    if (mdx === s_Off)\n        return;\n\n    // 全局配置，指定转换的后缀\n    if (mdx !== gUndefined)\n        newExt = \".\" + mdx;\n\n    $(\"a[href*='.md']\").e(function () {\n        let _t = $(this),\n            href = _t.a(s_Href),\n            mdx = V_util_getUrlQueryParams(href)[\"mdx\"];\n        // 单个链接指定禁用转换，则停止\n        if (mdx === s_Off)\n            return gFalse;\n\n        // 单个链接指定转换的后缀\n        if (mdx !== gUndefined)\n            _t.a(s_Href, href.r(\".md\", \".\" + mdx));\n        else // 默认的全局后缀\n            _t.a(s_Href, href.r(\".md\", newExt));\n    });\n}\n\n/**\n * 添加坏链项目\n * @param id 坏链对象的标识\n * @param content 坏链项目显示的内容\n */\nfunction LinkTool_addToCheck(id, content) {\n    let item = $('<span ' + s_DataAnchor + '=\"#' + id + '\" class=\"' + s_CssTocItem + '\">' + content + s_SpanClose);\n    // 添加链接异常样式及属性\n    JQ_addClass($(item.a(s_DataAnchor)).a(s_Tabindex, 0), \"v-link-error-source\");\n    // 添加节点\n    LinkTool_panel_body.ap(item);\n    item.uC().ck(function () {\n        JQ_removeClass(LinkTool_panel_body.ch(\".\" + s_CssTocItemCurrent), s_CssTocItemCurrent);\n        JQ_addClass(item, s_CssTocItemCurrent);\n\n        V_util_gotoHash(item.a(s_DataAnchor));\n        LinkTool_hide();\n    });\n}\n\n/**\n * 检查链接\n */\nfunction LinkTool_checkLink() {\n    if (!LinkTool_enabled)\n        return;\n\n    let count = 0;\n    // 检查所有页内链接对应的锚点是否都存在\n    $(\"#write a\").e(function () {\n        let _t = $(this),\n            href = _t.a(s_Href);\n        // 忽略无效数据\n        // 对于 href=\"#\" 的情况，在 Typora 1.6.x 开始的版本需要考虑，因为 Typora 生成的 HTML 会自动过滤无效的页内链接，直接用 # 代替\n        if (href === gUndefined) // || href.length <= 1)\n            return gTrue;\n\n        // --------------------\n        // 页内链接\n        // 以 #mjx- 开始的链接为行间公式的页内引用，会导致 jQuery 的正则表达式解析错误，须跳过\n        if (href === \"#\")\n            __addErrorLink(_t);\n        else if (href.sW(\"#\") && !href.sW(\"#mjx-\")) {\n            // 检索是否存在与该内链对应的锚点\n            let anchor = href.s(1, href.length);\n            // 没有检索到对应的锚点\n            if ($(\"#write #\" + anchor + \", #write a[name='\" + anchor + \"']\").length === 0) {\n                __addErrorLink(_t);\n            }\n        }\n    });\n\n    // 无错误链接\n    if (count === 0) {\n        JQ_remove(StsLinkTool_ui);\n    }\n    else {\n        // 显示错误链接错误图标\n        JQ_addClass(StsLinkTool_ui, s_Error);\n        StsLinkTool_ui.hm(LinkTool_icon_error);\n\n        // 点击图标行为\n        StsLinkTool_ui.uC().ck(function () {\n            if (LinkTool_panel_list.isHidden())\n                LinkTool_show();\n            else\n                LinkTool_hide();\n        });\n    }\n\n    // 添加一条无效的页内链接记录\n    function __addErrorLink(aObj) {\n        count++;\n\n        // 设置坏链 id 值，用于跳转定位\n        let id = \"vk-error-anchor\" + count;\n        aObj.a(s_Id, id);\n\n        LinkTool_addToCheck(id, \"🔗 <strong>\" + [\n            \"无效页内链接\",\n            \"Invalid Inner Link\"\n        ][V_lang_id] + \":</strong> \" + aObj.t());\n    }\n}\n\n/**\n * 是否已显示\n * @returns boolean\n */\nfunction LinkTool_isShowed() {\n    return StsLinkTool_ui.c(s_Display) !== s_None;\n}\n\n/**\n * 显示坏链列表\n */\nfunction LinkTool_show() {\n    LinkTool_panel_list.show()\n    LinkTool_mask.show();\n}\n\n/**\n * 隐藏坏链列表\n */\nfunction LinkTool_hide() {\n    LinkTool_panel_list.hide()\n    LinkTool_mask.hide();\n\n    StsLinkTool_ui.hm(LinkTool_icon_error);\n    V_doc_scroll_unfreeze();\n}\n\n/**\n * 处理热键操作\n * @param code 非功能键键\n * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n * @param event 事件对象\n */\nfunction LinkTool_disposeHotkey(code, combKeys, event) {\n    if (LinkTool_panel_list.isHidden())\n        return;\n\n    let handled = false;\n    switch (code) {\n        case 27: // ESC\n            ERROR(LinkTool_isShowed());\n            if (LinkTool_isShowed()) {\n                LinkTool_hide();\n                handled = true;\n            }\n            break;\n    }\n\n    // 如果事件已处理，则禁止双重操作\n    if (handled)\n        event.preventDefault();\n}\n\n// ==================== 背景遮罩类 ==================== //\n\n/**\n * 构造函数\n * @param id 标识\n * @param style 扩展样式：left / right / bottom / center\n * @param close 是否显示关闭提示器\n */\nfunction BgMask(id, style, close) {\n    let T = this;\n    T.style = style;\n\n    // DOM_body().after\n    VOM_doc().af('<div class=\"v-mask '\n        + (style !== gUndefined ? style + ' ' : '') + id + ' v-backdrop-blurs\">'\n        + V_ui_copyrightInfo()\n        + s_DivClose);\n\n    // 根据动效等级初始化遮罩样式\n    V_ui_initEffectLevel2();\n\n    T.ui = $(\".v-mask.\" + id);\n    T.close = gUndefined;\n\n    // 生成关闭提示器\n    if (close !== gUndefined && close) {\n        T.ui.ap('<div class=\"v-mask-close ' + T.style + '\">'\n            + V_ui_genSvgIcon(\"icoCloseTo-\" + T.style, 60, 60, s_Light)\n            + s_DivClose);\n        T.close = T.ui.ch(\".v-mask-close\");\n    }\n\n    T.partner = gUndefined;\n    T.partnerUI = gUndefined;\n\n    /**\n     * 绑定联动对象\n     * @param partner 联动对象\n     * @param ui 联动对象的 UI\n     */\n    T.bindPartner = function (partner, ui) {\n        T.partner = partner;\n        T.partnerUI = ui;\n    }\n\n    /**\n     * 显示遮罩\n     */\n    T.show = function () {\n        // 冻结滚动\n        V_doc_scroll_freeze();\n        V_doc_block = gTrue;\n\n        // 总是在 target 下显示\n        T.ui.c(s_Zindex, T.partnerUI.c(s_Zindex) - 1);\n\n        // 「关闭提示器」的处理\n        if (T.close !== gUndefined) {\n            // 默认是 style = left 的位置\n            let offset = 30,\n                x = JS_parseInt(T.partnerUI.c(s_Left)) + T.partnerUI.w() + offset,\n                y = JS_parseInt(T.partnerUI.c(s_Top)) + (T.partnerUI.h() - T.close.h()) / 2;\n            // left / right 的处理\n            if (T.style === s_Left || T.style === s_Right) {\n                T.close.c(s_Left, T.style === s_Right\n                        ? JS_parseInt(T.partnerUI.c(s_Left)) - T.close.w() - offset\n                        : x)\n                    .c(s_Top, y);\n            }\n            // bottom 的处理\n            else if (T.style === s_Bottom) {\n                y = JS_parseInt(T.partnerUI.c(s_Bottom)) + T.partnerUI.h() + offset;\n                T.close.c(s_Left, s_Auto)\n                    .c(s_Top, s_Auto)\n                    .c(s_Bottom, y)\n                    .c(s_MarginLeft, \"-\" + (T.close.w() / 2) + 'px')\n                    .c(s_Padding, \"0px 50%\");\n            }\n        }\n\n        // 绑定 VLOOK logo 的点击事件\n        T.ui.f(\".v-copyright .v-copyright-svg-ico\").uC().ck(function () {\n            env.show($(this));\n        });\n\n        // 点击遮罩隐藏联动对象\n        T.ui.uC().ck(function () {\n            // 取消冻结滚动\n            V_doc_scroll_unfreeze();\n            // 隐藏联动对应\n            if (typeof(T.partner) === s_Function)\n                 T.partner();\n            else\n                T.partner.hide();\n\n            T.hide();\n        });\n\n        T.ui.show();\n    }\n\n    /**\n     * 隐藏遮罩\n     */\n    T.hide = function () {\n        // 取消冻结滚动\n        V_doc_scroll_unfreeze();\n        V_doc_block = gFalse;\n\n        T.ui.hide();\n    }\n}\n\n// ==================== 长内容折叠类 ==================== //\n\nlet ContentFolder_enabled = gTrue,\n    ContentFolder_enabled_table = gTrue,\n    ContentFolder_enabled_figure = gTrue,\n    ContentFolder_enabled_codeblock = gTrue,\n    ContentFolder_ui = gUndefined, // 展开操作区的 UI 模板\n    ContentFolder_limit = V_debugMode ? 300 : 640, // 内容须折叠的高度限值\n    ContentFolder_contents = [], // 须进行折叠判断和处理的内容集\n    ContentFolder_buildTimers = [],\n    ContentFolder_rowNumFilter = s_Table + \" tbody tr\";\n\nfunction ContentFolder_init() {\n    if (!ContentFolder_enabled)\n        return;\n    ContentFolder_ui = $(\".\" + s_CssContentExpander)\n}\n\n/**\n * 添加内容\n */\nfunction ContentFolder_add(content, type) {\n    // 跳过不启用折叠，或任意父级元素是折叠引用的情况\n    if (!ContentFolder_enabled\n        || V_util_getTagName(content.p()) === s_Details\n        || content.ps(s_Details).length > 0)\n        return;\n\n    if (type === s_Table && ContentFolder_enabled_table === gFalse)\n        return;\n    if (type === s_Figure && ContentFolder_enabled_figure === gFalse)\n        return;\n    if (type === s_Codeblock && ContentFolder_enabled_codeblock === gFalse)\n        return;\n\n    ContentFolder_contents.push(content);\n}\n\n/**\n * 适配内容展开操作区\n */\nfunction ContentFolder_adjust() {\n    if (!ContentFolder_enabled)\n        return;\n\n    // 提前中断未完成的处理\n    if (ContentFolder_buildTimers.length > 0) {\n        for (let i = 0, len = ContentFolder_buildTimers.length; i < len; i++)\n            clearTimeout(ContentFolder_buildTimers.shift());\n    }\n    // 重新开始构建内容展开操作区\n    ContentFolder_rebuild();\n}\n\n/**\n * 重建部分内容展开操作区，主要是 img, table, .md-fences 等会因导航中心的显示/关闭\n * 导致文档宽度变化而引起的内容高度也跟随变化的情况\n * 如在不显示导航中心时因宽度较变，高度等比变高，或高度反而变短\n * 会导致应该显示展开操作区即不显示，或不应显示却显示的情况\n */\nfunction ContentFolder_rebuild() {\n    if (!ContentFolder_enabled)\n        return;\n\n    // 重建需要重建的部分\n    for (let i = 0, len = ContentFolder_contents.length; i < len; i++) {\n        // img 类长内容\n        if (V_util_getTagName(ContentFolder_contents[i]).sW(\"i\")) {\n            // 创建一个Image对象，实现图片的预下载\n            let img = new Image();\n            img.src = ContentFolder_contents[i].a(s_Src);\n            // 如果图片已经存在于浏览器缓存，直接处理\n            if (img.complete)\n                ContentFolder_buildTimers.push(\n                    setTimeout(function () {\n                        ContentFolder_checkAndProcess(ContentFolder_contents[i], gTrue);\n                    }, 50)\n                );\n            // 等待图片下载完成后再处理\n            else\n                img.onload = function () {\n                    // DEBUG(\"img [\" + img.src + \"] loaded\");\n                    ContentFolder_checkAndProcess(ContentFolder_contents[i], gTrue);\n                }\n        }\n        // 非 img 类长内容\n        else {\n            // 设置按不同时间间隔执行，减少在处理数量过多时，会阻塞 UI\n            ContentFolder_buildTimers.push(\n                setTimeout(function () {\n                    ContentFolder_checkAndProcess(ContentFolder_contents[i], gTrue);\n                }, 50)\n            );\n        }\n    }\n}\n\n/**\n * 检测内容是否过长，过长则进行处理。适用于「插图、表格、代码块」等\n * @param target 折叠的目标对象\n * @param rebuild 本次折叠是否属于重建的（如在页面加载后，由于页面正文区宽度变化后调用时属于重建）\n */\nfunction ContentFolder_checkAndProcess(target, rebuild) {\n    if (!ContentFolder_enabled)\n        return;\n\n    let container = target.p(),\n        tagName = V_util_getTagName(target);\n\n    // 重建时已生成题注，所以实际容器对象与初始化时第一次构建会不同\n    if (rebuild)\n        container = container.p();\n\n    // 获得上一轮构建时生成的展开操作区，没有则初始为 undefined\n    let oldExpander = container.n(),\n        className = oldExpander.a(s_Class);\n    if (className === gUndefined || className.i(s_CssContentExpander) === -1)\n        oldExpander = gUndefined;\n\n    // 已被点击展开过了，在重建时则跳过\n    let expanded = container.a(s_DataContentExpanded);\n    if (expanded !== gUndefined && expanded.sW(\"t\")) {\n        let folded = container.a(s_DataBeforePrintFolded);\n        if (folded !== gUndefined && !expanded.sW(\"t\")) {\n            ContentFolder_buildTimers.shift();\n            return;\n        }\n    }\n\n    // 针对 img 内容，进行父容器的正确性处理\n    if (tagName.sW(\"i\")) {\n        // 图像若加载晚于 img 的题注生成，其父容器则题注而不是 VLOOK 标识的 img 父容器\n        if (container.a(s_DataContainer) === gUndefined)\n            container = container.p();\n    }\n\n    // 初始化折叠配置\n    container.a(s_DataContentFolded, s_False); // 未折叠\n    container.a(s_DataContentExpanded, s_False); // 已被点击扩展了\n    container.c(s_Height, s_Auto);\n    // 针对 Mermaid 图表，不添加会导致出现滚动条\n    if (tagName.sW(\"s\"))\n        container.c(s_PaddingBottom, \"10px\");\n\n    let h = JS_parseInt(target.c(s_Height));\n    // 高度超出折叠要求高度时进行折叠\n    if (h > ContentFolder_limit) {\n        // 构建内容展开操作区\n        ContentFolder_buildContentExpander(target, container, tagName, h, oldExpander);\n    }\n    // 高度没有超出折叠要求\n    else {\n        // 若之前须折叠，目前不需要折叠，则清除对应的展开操作区\n        if (oldExpander !== gUndefined && className !== gUndefined\n            && className.i(s_CssContentExpander) > -1)\n                JQ_remove(oldExpander);\n    }\n\n    ContentFolder_buildTimers.shift();\n}\n\n/**\n * 构建内容展开操作区\n * @param target 为目标对象创建展开操作区（如 table）\n * @param container 指定对象所属的容器（如 table 的容器为父元素 figure）\n * @param tagName target 的 HTML 标签名\n * @param tHeight target 的高度\n * @param oldExpander 上一轮重建前的展开操作区（没有则为 undefined）\n */\nfunction ContentFolder_buildContentExpander(target, container, tagName, tHeight, oldExpander) {\n    if (!ContentFolder_enabled)\n        return;\n\n    // 设置为已折叠\n    container.a(s_DataContentFolded, s_True);\n\n    // 表格 <table>、Mermaid <svg> 图表的特性处理\n    if (tagName.sW(\"t\") || tagName.sW(\"s\")) {\n        container.c(s_Height, ContentFolder_limit)\n            .c(s_OverflowX, s_Auto) // 可横向滚动\n            .c(s_OverflowY, s_Hidden);\n    }\n    // 非表格，非 Mermaid 图表的处理\n    else {\n        container.c(s_Height, ContentFolder_limit)\n            .c(s_OverflowY, s_Hidden);\n    }\n\n    let expander,\n        w = JS_mathCeil(JS_parseFloat(container.c(s_Width)));\n\n    // 上一轮构建时没有生成展开操作区，则生成一个新的\n    if (oldExpander === gUndefined) {\n        expander = ContentFolder_ui.clone();\n        container.af(expander);\n    }\n    // 直接复用上一轮构建时生成的展开操作区\n    else\n        expander = oldExpander;\n\n    // 如果处理对象为表格，先隐藏表格行号，find 过滤器的内容与对应的 css 要同步更新\n    if (container.f(s_Table).length > 0)\n        JQ_addClass(container.f(ContentFolder_rowNumFilter), s_CssTableRowNumHidden);\n\n    // 动态生成按钮文本内容\n    let btn = expander.f(\"div>span\");\n    btn.hm(btn.a(s_Title) + \" <span style='font-weight: normal;'>\"\n        + JS_mathRound((1 - ContentFolder_limit / tHeight) * 100) + \"%</span>\");\n\n    // 重新适配展开操作区尺寸\n    let tW = JS_mathCeil(JS_parseFloat(target.c(s_Width)));//JS_parseInt(target.c(s_Width));\n    if (w > tW) {\n        w = tW;// + JS_parseInt(target.c(s_BorderWidth)) * 2;\n        // 表格、mermarid 插图与比容器宽度小时，右下角不是圆角，须进行适配调整\n        expander.c(s_BorderBottomRightRadius, 0);\n    }\n    expander.a(s_DataContentType, tagName);\n    expander.c(s_MarginLeft, container.c(s_MarginLeft))\n        .c(s_Width, w + \"px\");\n    // 设置为可视\n    expander.c(s_Visibility, \"visible\");\n\n    // 展开按钮 click 事件处理\n    expander.ch(\".v-btn\").uC().ck(function () {\n        ContentFolder_expand(expander);\n    });\n\n    // 展开按钮 hover 事件处理\n    V_ui_bindHover(expander.ch(\".v-btn\"));\n}\n\n/**\n * 展开被折叠的内容\n * @param expander 点击的按钮所在父元素\n */\nfunction ContentFolder_expand(expander) {\n    if (!ContentFolder_enabled)\n        return;\n\n    let container = expander.pr(),\n        tagName = expander.a(s_DataContentType);\n\n    // 移除内容展开操作区\n    JQ_remove(expander);\n\n    // 展开对应的内容\n    container.a(s_DataContentFolded, s_False);\n    container.a(s_DataContentExpanded, s_True);\n    container.c(s_Height, s_Auto);\n    // 针对表格 <table>、Mermaid <svg> 图表增加滚动属性\n    if (tagName.sW(\"t\") || tagName.sW(\"s\"))\n        container.c(s_Overflow, s_Auto);\n    // 非表格、非 Mermaid 图表的处理\n    else\n        container.c(s_OverflowY, \"initial\");\n\n    // 如果处理对象为表格，恢复显示表格行号，find 过滤器的的内容与对应的 css 要同步更新\n    if (container.f(s_Table).length > 0)\n        JQ_removeClass(container.f(ContentFolder_rowNumFilter), s_CssTableRowNumHidden);\n}\n\n// ==================== 工具提示信息类 ==================== //\n\nlet ToolTips_ui = gUndefined,\n    ToolTips_continueShow = gFalse, // 是否激活持续显示\n    ToolTips_lastStyle = gUndefined,\n    ToolTips_aniTimer = null,\n    ToolTips_continueTimer = null,\n    ToolTips_delay = 2000;\n\n/**\n * 构造函数\n */\nfunction ToolTips_init() {\n    ToolTips_ui = $(\".v-tool-tips\");\n\n    V_ui_addAnimate(ToolTips_ui, s_Opacity);\n}\n\n/**\n * 绑定操作相关事件\n * @param source 对象\n * @param align 对齐方式，auto/center/right\n */\nfunction ToolTips_bind(source, align = s_Auto) {\n    V_ui_bindHover(source);\n    source.hover(function () {\n        ToolTips_show(source, align);\n    }, function () {\n        ToolTips_hide();\n    });\n}\n\n/**\n * 显示工具提示信息\n *\n * @param follow 提示的目标元素\n * @param align 强制指定工具提示的水平对齐方式（auto/left/center/right）\n * @param style 指定微调的样式\n */\nfunction ToolTips_show(follow, align, style) {\n    if (env.device.mobile)\n        return;\n\n    ToolTips_ui.hm(follow.a(s_DataTips));\n\n    // 强制取消最后一次延时显示的处理\n    clearTimeout(ToolTips_aniTimer);\n    ToolTips_aniTimer = null;\n    // 强制取消隐藏后指定时间内取消持续显示的处理\n    clearTimeout(ToolTips_continueTimer);\n    ToolTips_continueTimer = null;\n\n    ToolTips_lastStyle = style;\n\n    const space = 10,\n        tipsW = ToolTips_ui.iW(),\n        tipsH = ToolTips_ui.iH(),\n        ww = $(window).w() - space,\n        wh = $(window).h() - space;\n    let left = follow.oL(),\n        top = follow.oT() - $(document).scrollTop(),\n        width = follow.iW(),\n        height = follow.iH();\n\n    JQ_removeClass(ToolTips_ui, s_Top + \" \" + s_Bottom + \" \" + s_Center + \" \" + s_Right);\n\n    // 指定对齐方式或提示超出屏幕\n    if (align !== s_Auto || (left + tipsW) > ww) {\n        // align: right\n        JQ_addClass(ToolTips_ui, s_Right);\n        left = follow.oL() - tipsW + width;\n        // 右侧顶边，则微调\n        if (left + tipsW >= ww)\n            left = left - space;\n\n        // align: center\n        if (align === s_Center) {\n            JQ_removeClass(ToolTips_ui, s_Right);\n            JQ_addClass(ToolTips_ui, s_Center);\n            left = follow.oL() + (width - tipsW) / 2;\n        }\n    }\n    // 左侧顶边，则微调\n    if (left <= 0)\n        left = space;\n\n    if (ToolTips_lastStyle !== gUndefined)\n        JQ_addClass(ToolTips_ui, ToolTips_lastStyle);\n\n    if (top + height + tipsH + space < wh) {\n        JQ_addClass(ToolTips_ui, s_Top);\n        top = top + height + space;\n    }\n    else {\n        JQ_addClass(ToolTips_ui, s_Bottom);\n        top = top - tipsH - space;\n    }\n    ToolTips_ui.c(s_Left, left).c(s_Top, top);\n\n    // 延时，或立即显示提示\n    let waitTime = (ToolTips_continueShow) ? 0 : ToolTips_delay;\n    ToolTips_aniTimer = setTimeout(function () {\n        ToolTips_continueShow = gTrue; // 一旦显示后，激活持续显示\n        V_ui_show(ToolTips_ui);\n\n    }, waitTime);\n}\n\n/**\n * 隐藏工具提示\n */\nfunction ToolTips_hide() {\n    // 隐藏后在指定时间内取消持续显示\n    clearTimeout(ToolTips_continueTimer);\n    ToolTips_continueTimer = setTimeout(function () {\n        ToolTips_continueShow = gFalse;\n    }, ToolTips_delay);\n\n    // V_doc_scroll_unfreeze();\n    // 强制取消最后一次延时显示的处理\n    clearTimeout(ToolTips_aniTimer);\n    ToolTips_aniTimer = null;\n    V_ui_hide(ToolTips_ui);\n\n    if (ToolTips_lastStyle !== gUndefined)\n        JQ_removeClass(ToolTips_ui, ToolTips_lastStyle);\n}\n\n// ==================== 弹层提示信息类 ==================== //\n\n/**\n * 构造函数\n * @param mask 遮罩对象\n */\nfunction InfoTips(mask) {\n    let T = this;\n    T.ui = $(\".v-info-tips\");\n    T.aniTimer = null;\n\n    // 绑定点击事件\n    T.ui.uC().ck = function () {\n        T.hide();\n    }\n\n    // 遮罩\n    T.mask = mask;\n    T.mask.bindPartner(this, T.ui);\n\n    /**\n     * 显示通知信息\n     * @param message 提示内容\n     * @param delay 延时指定 ms 时间后自动关闭提示\n     * @param mask 是否显示遮罩\n     * @param target 事件源，不为空时则跟随显示\n     */\n    T.inform = function (message, delay, mask, target) {\n        T.show(message, delay, mask, \"inform\", target);\n    }\n\n    /**\n     * 显示泡泡信息\n     * @param message 提示内容\n     * @param delay 延时指定 ms 时间后自动关闭提示\n     * @param mask 是否显示遮罩\n     * @param target 事件源，不为空时则跟随显示\n     */\n    T.bubble = function (message, delay, mask, target) {\n        T.show(message, delay, mask, s_Bubble, target);\n    }\n\n    /**\n     * 显示错误信息\n     * @param message 提示内容\n     * @param delay 延时指定 ms 时间后自动关闭提示\n     * @param mask 是否显示遮罩\n     * @param target 事件源，不为空时则跟随显示\n     */\n    T.error = function (message, delay, mask, target) {\n        T.show(message, delay, mask, s_Error, target);\n    }\n\n    /**\n     * 是否已显示\n     * @returns boolean\n     */\n    T.isShowed = function () {\n        return T.ui.c(s_Display) !== s_None;\n    }\n\n    /**\n     * 显示通知提示信息\n     * @param message 提示内容\n     * @param delay 延时指定 ms 时间后自动关闭提示\n     * @param mask 是否显示遮罩\n     * @param type 类型。info/error\n     * @param target 事件源，不为空时则跟随显示\n     */\n    T.show = function (message, delay, mask, type, target) {\n        clearTimeout(T.aniTimer);\n        T.aniTimer = null;\n\n        T.ui.hm(message);\n\n        // 先重置为默认值\n        JQ_removeClass(T.ui, s_Error);\n        JQ_removeClass(T.ui, s_Bubble);\n        T.ui.c(s_Width, \"\")\n            .c(s_Height, \"\")\n            .c(s_Right, s_Auto)\n            .c(s_Bottom, s_Auto)\n            .c(s_BorderRadius, s_varRB);\n        if (type === s_Error)\n            JQ_addClass(T.ui, s_Error);\n        else if (type === s_Bubble)\n            JQ_addClass(T.ui, s_Bubble);\n\n        // 跟随事件源显示\n        if (target !== gUndefined) {\n            V_ui_moveToTarget(T.ui, target);\n        }\n        // 居中显示\n        else\n            V_ui_moveToCenter(T.ui);\n\n        T.ui.show();\n\n        // 延时后自动关闭\n        if (delay != null) {\n            T.aniTimer = setTimeout(function () {\n                    T.hide();\n                }, delay);\n        }\n\n        // 显示遮罩\n        if (mask)\n            T.mask.show();\n    }\n\n    /**\n     * 隐藏弹窗信息\n     */\n    T.hide = function () {\n        T.ui.hide();\n        T.mask.hide();\n    }\n\n    /**\n     * 处理热键操作\n     * @param code 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (code, combKeys, event) {\n        if (T.ui.isHidden())\n            return;\n\n        let handled = false;\n        switch (code) {\n            case 27: // ESC\n                if (T.isShowed()) {\n                    T.hide();\n                    handled = true;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n    }\n}\n\n// ==================== 底部提示信息类 ==================== //\n\n/**\n * 构造函数\n * @param id 对象标识\n */\nfunction BottomTips(id) {\n    let T = this;\n    VOM_doc().af('<div class=\"v-bottom-tips ' + id + '\"><div>' + s_DivClose + s_DivClose);\n\n    T.ui = $(\".v-bottom-tips.\" + id);\n\n    /**\n     * 显示底部提示栏\n     * @param message 提示内容\n     */\n    T.show = function (message) {\n        T.ui.ch(\"div\").hm(message);\n        T.ui.show();\n    }\n\n    /**\n     * 隐藏底部提示栏\n     */\n    T.hide = function () {\n        T.ui.hide();\n    }\n}\n\n// ==================== 文档更多内容遮罩栏 ==================== //\n\nlet MoreDocContent_ui_before = gUndefined,\n    MoreDocContent_ui_after = gUndefined;\n/**\n * 构造函数\n */\nfunction MoreDocContent_init() {\n    MoreDocContent_ui_before = $(\".v-more-doc-content-before\");\n    MoreDocContent_ui_after = $(\".v-more-doc-content-after\")\n}\n\n/**\n * 刷新显示更多内容遮罩栏\n * @param scrollTop 文档当前滚动位置，如果为空则自动获取\n */\nfunction MoreDocContent_refresh(scrollTop) {\n    if (scrollTop === gUndefined)\n        scrollTop = $(document).scrollTop();\n\n    // before UI\n    if (scrollTop > 20) {\n        if (MoreDocContent_ui_before.c(s_Display) === s_None)\n            MoreDocContent_ui_before.show();\n    }\n    else\n        MoreDocContent_ui_before.hide();\n\n    // after UI\n    if (scrollTop + $(window).h() > ($(document).h() - 20))\n        MoreDocContent_ui_after.hide();\n    else {\n        if (MoreDocContent_ui_after.c(s_Display) === s_None)\n            MoreDocContent_ui_after.show();\n    }\n}\n\n/**\n * 隐藏更多内容遮罩栏\n */\nfunction MoreDocContent_hideAfter() {\n    MoreDocContent_ui_after.hide();\n}\n\n// ==================== 题注生成器类 ==================== //\n\nlet CaptionGenerator_spliter = \". \",\n    CaptionGenerator_autoContent = gFalse; // 自动根据内索引对象内容生成题注\n\n/**\n * 生成题注\n * @param target 需要添加题注的对象\n * @param tagName HTML 标签名称\n */\nfunction CaptionGenerator_actionForTextContent(target, tagName) {\n    let captionPrefix = [\n            \"表 \",\n            \"Table \"\n        ][V_lang_id] + V_doc_counter_table,\n        caption = \"\",\n        indexObj = gUndefined,\n        anchor = \"\",\n        dataForSearch = \"\";\n\n    // 代码块 <pre>\n    if (tagName.sW(\"pr\")) {\n        indexObj = iNavCenter.codeblock;\n        captionPrefix = [\n            \"代码块 \",\n            \"Code Block \"\n        ][V_lang_id] + V_doc_counter_codeblock;\n    }\n    // 表格 <table>\n    else if (tagName.sW(\"t\")) {\n        indexObj = iNavCenter.table;\n    }\n\n    // 尝试获得带题注语法的内容\n    let fcSet = CaptionGenerator_getCaptions(target.p().pr(), tagName);\n    let fc = fcSet[0], // 第 1 题注\n        fc2 = fcSet[1]; // 第 2 题注\n    captionPrefix = s_Span + captionPrefix + CaptionGenerator_spliter + s_SpanClose;\n\n    // 无指定的题注文本，同时开启了自动生成题注，则取其部分内容作为自动题注内容\n    if (fc == null || fc.x().length === 0) {\n        fc = \"\";\n        if (CaptionGenerator_autoContent) {\n            if (tagName.sW(\"pr\")) // 代码块\n                fc = target.f(\".\" + s_CssCodeMirrorLine).t().x();\n            else if (tagName.sW(\"t\")) // 表格，并过滤掉列格式相关语法标识内容\n                fc = target.f(\"td\").t().x().r(/(==|\\[\\s]|\\.\\.|<<|\\^\\^|##\\s)/ig, \"\");\n            // 省略中间内容处理\n            fc = V_util_ellipsisText(fc.x(), 20);\n        }\n    }\n    caption = captionPrefix + fc;\n\n    // 代码块 <pre>\n    if (tagName.sW(\"pr\")) {\n        anchor = \"vk-id-codeblock\" + V_doc_counter_codeblock;\n        target.wrap(\"<div id='\" + anchor + \"' class='v-caption' style='width: 100%'>\");\n        dataForSearch += target.f(\".\" + s_CssCodeMirrorLine).t();\n    }\n    // 表格 <table>\n    else if (tagName.sW(\"t\")) {\n        anchor = \"vk-id-tbl\" + V_doc_counter_table;\n        target.wrap(\"<div id='\" + anchor + \"' class='v-caption'>\");\n        dataForSearch += target.t();\n    }\n\n    // 添加第 1 题注\n    target.bf(\"<figcaption class='v-cap-1'>\" + caption + \"</figcaption>\");\n    // 添加第 2 题注\n    let has2Captions = (fc2 != null && fc2.length > 0);\n    if (has2Captions) {\n        target.af(\"<figcaption class='v-cap-2'>\" + captionPrefix + fc2 + \"</figcaption>\");\n        target.p().a(s_DataCaptionCount, \"2\");\n    }\n    // ----------------------------------------\n    // 添加到对应的内容索引\n    if (indexObj !== gUndefined) {\n        dataForSearch += has2Captions ? fc2 : \"\";\n        $(\"#\" + anchor).a(s_DataTitle, caption);\n        indexObj.add(caption, anchor, dataForSearch);\n    }\n}\n\n/**\n * 针对插图（img、mermaid）生成题注\n * @param target 需要添加题注的对象\n * @param tagName 添加题注的目标对象的 HTML 标签名称\n */\nfunction CaptionGenerator_actionForMediaContent(target, tagName) {\n    let fc = target.a(s_Alt), // 默认尝试获取图片的 alt 内容作为题注内容\n        fc2 = target.a(s_Title), // 默认尝试获得图片的 title 作为第二题注内容\n        indexObj = iNavCenter.figure,\n        anchor = \"\",\n        dataForSearch = \"\";\n\n    let fcSet = null;\n    // 若图片 alt 无内容，则尝试获取前面段落（如<p>、<h6>）作为第 1、2 题注的内容\n    if (fc === gUndefined || fc.x().length === 0) {\n        fcSet = CaptionGenerator_getCaptions(target.p().pr(), tagName);\n        if (fcSet[0] != null)\n            fc = fcSet[0];\n        if (fcSet[1] != null)\n            fc2 = fcSet[1];\n    }\n\n    // 插图（img、mermaid）题注前缀\n    let caption = \"\",\n        captionPrefix = [\n        \"图 \",\n        \"Figure \"\n    ][V_lang_id] + V_doc_counter_figure;\n    // 音频题注 audio\n    if (tagName.sW(\"a\")) {\n        indexObj = iNavCenter.media;\n        captionPrefix = [\n            \"音频 \",\n            \"Audio \"\n        ][V_lang_id] + V_doc_counter_audio;\n    }\n    // 视频频题注 video\n    else if (tagName.sW(\"v\")) {\n        indexObj = iNavCenter.media;\n        captionPrefix = [\n            \"视频 \",\n            \"Video \"\n        ][V_lang_id] + V_doc_counter_video;\n    }\n\n    // 无指定的题注文本，同时开启了自动生成题注，则取其部分内容作为自动题注内容\n    if (fc == null || fc.x().length === 0) {\n        fc = \"\";\n        if (CaptionGenerator_autoContent) {\n            if (tagName.sW(\"s\")) // Mermaid SVG\n                fc = target.f(\"g\").t().x();\n            // 省略中间内容处理\n            fc = V_util_ellipsisText(fc.x(), 20);\n        }\n    }\n    captionPrefix = s_Span + captionPrefix + CaptionGenerator_spliter + s_SpanClose;\n    caption = captionPrefix + fc;\n\n    // 为插图（mermaid）增加题注 <svg>\n    if (tagName.sW(\"s\")) {\n        anchor = \"vk-id-fig\" + V_doc_counter_figure;\n        // 针对 Mermaid 插图，添加额外的类，用于打印前后处理时直接定位 Mermaid 插图的题注\n        target.wrap(\"<div id='\" + anchor + \"' \" + s_DataFigType + \"='\" + tagName\n            + \"' class='v-caption mermaid'>\" + s_DivClose);\n        dataForSearch += target.f(\"div, span, tspan, text\").t();\n    }\n    // 为插图（img）增加题注 <img>\n    else if (tagName.sW(\"i\")) {\n        anchor = \"vk-id-fig\" + V_doc_counter_figure;\n        target.wrap(\"<div id='\" + anchor + \"' \" + s_DataFigType + \"='\" + tagName\n            + \"' class='v-caption'>\" + s_DivClose);\n        dataForSearch += target.a(s_Src);\n    }\n    // 为音频增加题注 audio\n    else if (tagName.sW(\"a\")) {\n        anchor = \"vk-id-audio\" + V_doc_counter_audio;\n        target.wrap(\"<div id='\" + anchor + \"' \" + s_DataFigType + \"='\" + tagName\n            + \"' class='v-caption'>\");\n        dataForSearch += target.a(s_Src);\n    }\n    // 为视频增加题注 video\n    else if (tagName.sW(\"v\")) {\n        anchor = \"vk-id-video\" + V_doc_counter_video;\n        target.wrap(\"<div id='\" + anchor + \"' \" + s_DataFigType + \"='\" + tagName\n            + \"' class='v-caption'>\");\n    }\n\n    // 生成第 1 题注\n    target.bf(\"<figcaption class='v-cap-1'>\" + caption + \"</figcaption>\");\n    // 生成第 2 题注\n    let has2Captions = (fc !== gUndefined && fc2 != null && fc2.length > 0);\n    if (has2Captions) {\n        target.af(\"<figcaption class='v-cap-2'>\" + captionPrefix + fc2 + \"</figcaption>\");\n        target.p().a(s_DataCaptionCount, \"2\");\n    }\n    // ----------------------------------------\n    // 添加到对应的内容索引\n    if (indexObj !== gUndefined) {\n        dataForSearch += has2Captions ? fc2 : \"\";\n        $(\"#\" + anchor).a(s_DataTitle, caption);\n        indexObj.add(caption, anchor, dataForSearch);\n    }\n\n    // ----------------------------------------\n    // 修正在 SVG 插图套上题注后的自适应尺寸 <svg>\n    if (tagName.sW(\"s\")) {\n        if (target.a(s_Height) !== s_None || target.c(s_Height) !== s_None) { // 有指定高度的\n            target.removeAttr(s_Height);\n            target.c(s_Height, \"\");\n        }\n\n        // 调整SVG插图，尽量按其真实插图的大小显示，超出浏览器宽度的，则左右滚动浏览\n        let style = gUndefined;\n        if (target.c(s_MaxWidth) !== s_None) // CSS 中指定了最大宽度\n            target.p().c(s_Width, target.c(s_MaxWidth));\n        else if ((style = target.a(s_Style)) !== gUndefined && style.i(s_Width) > -1) // 通过 style 指定了宽度\n            target.p().c(s_Width, target.c(s_Width));\n        else if (target.a(s_Width) !== \"100%\") // 指定了 width 属性，且不为 100%\n            target.p().c(s_Width, JS_parseInt(target.a(s_Width)) + 4); // 4 为两边 border 的宽度\n        else if (target.a(s_ViewBox) !== s_None) // 指定 width 为 100% 的情况\n            target.p().c(s_Width, target.a(s_ViewBox).sp(\" \")[2] + \"px\");\n        else\n            target.p().c(s_Width, \"100%\");\n    }\n}\n\n/**\n * 返回插图、表格、代码块上方的题注\n * @param caption 潜在的题注内容对象\n * @param tagName 添加题注的目标对象的 HTML 标签名称\n */\nfunction CaptionGenerator_getCaptions(caption, tagName) {\n    let fcSet = [], // 题注集\n        captionTagName = V_util_getTagName(caption),\n        hideCaptionSrc = gFalse; // 是否隐藏题注源\n\n    let capResult = __parseCaptionSyntax(caption);\n    // 双题注\n    if (capResult[1] === 2) {\n        fcSet = __getCaptionSet(caption, 2, capResult[0]);\n        hideCaptionSrc = gTrue;\n    }\n    // 单题注\n    else if (capResult[1] === 1) {\n        fcSet = __getCaptionSet(caption, 1, capResult[0]);\n        fcSet[1] = null;\n        hideCaptionSrc = gTrue;\n    }\n    // 无题注语法，但由有 h1-h6 引导\n    else if (captionTagName.sW(\"h\")) {\n        fcSet[0] = caption.t().x();\n        fcSet[1] = null;\n        // 不能直接隐藏，会影响页内链接跳转至该位置\n        // 设置为不可见，并调整位置布局实现隐藏效果，同时不影响跳转\n        if (captionTagName === s_H6) { // 只针对 h6，h1-h5不隐藏\n           caption.c(s_Visibility, s_Hidden)\n                .c(s_Position, s_Absolute);\n        }\n    }\n\n    // 若成功匹配出题注，且内容不是 <img> 则隐藏原始内容\n    if (hideCaptionSrc && (!tagName.sW(\"i\") || capResult[0] === 200)) {\n        JQ_remove(caption);\n    }\n    return fcSet;\n\n    /**\n     * 返回匹配的题注数量\n     * @returns [] [0] type, [1] number\n     */\n    function __parseCaptionSyntax(target) {\n        let reg2 = /^!\\[.+]\".+\"$/, // 有 2 个题注\n            reg1 = /^!\\[.+]$/, // 只有 1 个题注\n            html = \"\";\n        // 标准语法，双题注\n        if (reg2.test(target.t().x()))\n            return [100, 2]; // 100: 标准语法\n        // 标准语法，单题注\n        else if (reg1.test(target.t().x()))\n            return [100, 1]; // 100: 标准语法\n        // 简化的新语法\n        else if ((html = target.hm()) !== gUndefined) {\n            if (html.sW(\"<em><mar\") && html.eW(\"/em>\")) {\n                if (html.i(\"/em></mark>\") === -1)\n                    return [200, 1]; // 200: 简化语法\n                else\n                    return [200, 2]; // 200: 简化语法\n            }\n        }\n        return [0, 0]; // 无题注\n    }\n\n    /**\n     * 返回题注数据数组\n     * @param target 题注数据的目标对象\n     * @param count 题注数量\n     * @param type 题注语法类型，100：标准，200：简化语法\n     * @returns [] [0] 为第 1 个题注，[1] 为第 2 个题注\n     */\n    function __getCaptionSet(target, count, type) {\n        let fcSet = [];\n        // 标准语法\n        if (type === 100) {\n            let text = target.t().x();\n            fcSet[0] = text.s(2, text.i(\"]\", 2));\n            if (count === 2) // \"▲ \" +\n                fcSet[1] = text.s(text.i(\"]\\\"\", 2) + 2, text.length - 1);\n        }\n        // 简化语法\n        else if (type === 200) {\n            if (count === 2) // \"▲ \" +\n                fcSet[1] = target.f(\"mark > em\").t().x();\n            JQ_remove(target.f(\"mark > em\"));\n            fcSet[0] = target.t().x();\n        }\n        return fcSet;\n    }\n}\n\n// ==================== 代码块增强类 ==================== //\n\n/**\n * 初始化代码块\n */\nfunction ExtCodeBlock_init() {\n    // 获取自动生成题注并编号的行数下限，大于该行数的代码才会自动生成题注和编号\n    let lmc = V_util_getParamVal(\"lmc\");\n    lmc = (lmc === gUndefined ? 1 : JS_parseInt(lmc));\n    // 遍历所有代码块\n    $(\".\" + s_CssFences).e(function () {\n        let _t = $(this);\n\n        // 绑定内容助手\n        ContentAssistor_bind(_t, s_Codeblock);\n\n        // 折叠长代码块\n        ContentFolder_add(_t, s_Codeblock);\n\n        // 生成代码块插图题注（行数 > 1 的才进行处理）\n        if (_t.f(\".\" + s_CssCodeMirrorLine).length > lmc) {\n            V_doc_counter_codeblock++;\n            // 外套一个 <figcaption> 标签，用于内容折叠时与插图、表格的 DOM 结构一致\n            _t.wrap(\"<figcaption \" + s_DataContainer + \"='pre' class='v-cap-cntr'></figcaption>\");\n\n            // 先根据题注语法生成题注\n            CaptionGenerator_actionForTextContent(_t, \"pre\");\n        }\n        else {\n            _t.a(s_DataLmc, s_True);\n        }\n    });\n}\n\n/**\n * 复制代码块内容\n * @param source 内容源对象\n * @param event 事件对象\n */\nfunction ExtCodeBlock_copyContent(source, event) {\n    let content = \"\",\n        lines = ContentAssistor_lastHover.ch().f(\".CodeMirror-code .\" + s_CssCodeMirrorLine),\n        lineNum = 0,\n        lineCount = lines.length,\n        // 用于清除或转换特殊字符\n        badChars = [\n            \"%E2%80%8B\", // ZERO WIDTH SPACE \\u200b\n            \"%C2%A0\", // NO-BREAK SPACE \\u00A0\n            \"%0A\" // NO-BREAK SPACE \\u0A\n        ],\n        goodChars = [\n            \"\", // 替换 ZERO WIDTH SPACE\n            \"%20\", // for NO-BREAK SPACE\n            \"\" // for NO-BREAK SPACE\n        ];\n    // 逐行读取代码\n    lines.e(function () {\n        lineNum++;\n        let encodeText = encodeURI($(this).t());\n        // 清除或转换特殊字符\n        for (let i = 0; i < badChars.length; i++) {\n            if (encodeText.i(badChars[i]) > -1)\n                encodeText = encodeText.rA(badChars[i], goodChars[i]);\n        }\n        content += JS_decodeURI(encodeText) + (lineNum < lineCount ? \"\\n\" : \"\");\n    });\n\n    // 复制目标内容\n    if (ContentAssistor_copyAsMarkdown) {\n        let lang = \"\";\n        if (ContentAssistor_lastHover !== gUndefined)\n            lang = ContentAssistor_lastHover.a(s_Lang);\n        content = \"```\" + (lang !== gUndefined ? lang : \"\") + \"\\n\" + content + \"\\n```\";\n    }\n    Copyer_action(source, content, gTrue);\n}\n\n// ==================== 复制类 ==================== //\n\nlet Copyer_lastActionTime = 0,\n    Copyer_processing = gFalse,\n    Copyer_copyModeTimer = null;\n\n/**\n * 执行复制\n * @param source 触发复制的对象\n * @param content 要复制的内容\n * @param supportMarkdown 是否支持复制为 Markdown\n * @param successCallback 复制成功后的回调函数\n * @param errorCallback 复制失败后的回调函数\n */\nfunction Copyer_action(source, content, supportMarkdown, successCallback, errorCallback) {\n    // 控制两次复制操作的时间间隔（同时也是解决嵌套情况下的复制失效问题）\n    let ts = new Date().getTime();\n    if (Copyer_processing || ts - Copyer_lastActionTime < 200)\n        return;\n    Copyer_lastActionTime = ts;\n    Copyer_processing = gTrue;\n\n    // 将要复制的内容赋予给 clipboard.js 指定的对象属性 data-clipboard-text\n    let targetName = \".\" + source.a(s_Class).rA(\" \", \".\");\n    ERROR(targetName);\n    $(targetName).a(s_DataClipboardText, content);\n    ERROR($(targetName).a(s_DataClipboardText));\n\n    // 创建 clipboard.js 对象用于实现复制\n    let clipboard = new ClipboardJS(targetName);\n\n    // 复制成功事件\n    clipboard.on(\"success\", function(event) {\n        // 显示复制成功提示\n        let note = ContentAssistor_copyAsMarkdown ? \" (<strong>as Markdown</strong>)\" : \"\",\n            tips = supportMarkdown ? [\n                \"<br><sub>( 再次点击可复制为 Markdown )</sub>\",\n                \"<br><sub>( Click again to Copy as Markdown )</sub>\"\n                ][V_lang_id] : \"\";\n        iInfoTips.bubble([\n                \"已复制\",\n                \"Copied\"\n            ][V_lang_id] + (ContentAssistor_copyAsMarkdown ? \"\" : tips)\n            + note, 2000, gFalse, source);\n\n        event.clearSelection();\n\n        typeof(successCallback) === s_Function && successCallback();\n\n        // 销毁处理已有对象，避免多次监听\n        clipboard.destroy();\n\n        // 同一复制源，限时内第 2 次点击的处理（复制为 Markdown）\n        if (supportMarkdown) {\n            // 切换复制模式、光标、内容助手的复制图标\n            if (Copyer_copyModeTimer != null) {\n                clearTimeout(Copyer_copyModeTimer);\n                Copyer_copyModeTimer = null;\n            }\n            ContentAssistor_toggleCopyMode(gTrue);\n            // 限时恢复为普通复制模式\n            Copyer_copyModeTimer = setTimeout(function () {\n                // 切换复制模式、光标、内容助手的复制图标\n                ContentAssistor_toggleCopyMode(gFalse);\n                Copyer_copyModeTimer = null;\n            }, 2000);\n        }\n\n        Copyer_processing = gFalse;\n    });\n    // 复制失败事件\n    clipboard.on(s_Error, function () {\n        // 显示复制失败提示\n        iInfoTips.error(\"<strong>\" + [\n            \"非常抱歉～暂不支持在该浏览器中复制\",\n            \"I'm very sorry~ I don't support copying in this browser\"\n        ][V_lang_id] + \"</strong>\", 3000, gFalse, source);\n\n        typeof(errorCallback) === s_Function && errorCallback();\n\n        // 销毁处理已有对象，避免多次监听\n        clipboard.destroy();\n        Copyer_processing = gFalse;\n    });\n}\n\n// ==================== 章节目录自动编号增强类 ==================== //\n\nlet ChpAutoNum_counter = [],\n    ChpAutoNum_lastLevel = 1,\n    // 自定义的自动编号格式模板（可只指定任意 h1~h6）\n    ChpAutoNum_tpl = \"h1{{###. }},h2{{### }},h3{{### }},h4{{### }},h5{{### }},h6{{❖ ### }}\",\n    // 默认的自动编号格式模板\n    ChpAutoNum_tplSet = ChpAutoNum_tpl.sp(\",\"),\n    ChpAutoNum_tpl_syntax = /h([1-6]){{(.*)(#(0*)(#|zh|ZH|alpha|ALPHA|roman|ROMAN|none)(-min|-sup)?#)(.*)}}/,\n    ChpAutoNum_tpl_leftPad = [\"\", \"\", \"\", \"\", \"\", \"\"],\n    ChpAutoNum_tpl_format = [\"#\", \"#\", \"#\", \"#\", \"#\", \"#\"], // 编号格式\n    ChpAutoNum_tpl_formatOpt = [0, 0, 0, 0, 0, 0], // 特殊格式选项\n    ChpAutoNum_tpl_prefix = [\"\", \"\", \"\", \"\", \"\", \"\"], // 前缀\n    ChpAutoNum_tpl_suffix = [\"\", \"\", \"\", \"\", \"\", \"\"]; // 后缀\n\n// 特殊格式选项\nconst CHPAUTONUM_TPL_FORMAT_OPT_NONE = 0, // 无\n    CHPAUTONUM_TPL_FORMAT_OPT_MIN = 1, // -min\n    CHPAUTONUM_TPL_FORMAT_OPT_SUP = 2; // -sup\n\n/**\n * 初始化章节目录自动编号\n */\nfunction ChpAutoNum_initToc() {\n    let metaTpl = V_util_getMetaByName(\"vlook-chp-autonum\");\n    // 没有目录大纲，或指定关闭自动编号（同时没有指定自动编号格式模板）则跳过\n    if (gTocContent.isEmpty()\n        || (V_util_getVarVal(\"--v-chp-auto-num\").x() === s_Off && metaTpl === gUndefined))\n        return;\n\n    // 重置自动编号格式模板\n    ChpAutoNum_resetTpl(metaTpl);\n\n    // 对目录大纲内的章节条目进行处理\n    ChpAutoNum_resetCounter();\n    gTocContent.ch(\".md-toc-item\").e(function () {\n        let item = $(this);\n        __genNumContent(item,\n            ChpAutoNum_parseTocHeaderLevel(item.a(s_Class)));\n    });\n\n    // 对文档中的章节条目进行处理（不包括封底）\n    ChpAutoNum_resetCounter();\n    VOM_doc().ch(\"h1:not(:last-child), h2, h3, h4, h5\").e(function () {\n        let item = $(this);\n        __genNumContent(item,\n            ChpAutoNum_parseTocHeaderLevel(V_util_getTagName(item)));\n    });\n\n    // 对文档中的 h6 章节条目进行处理（不包括封面）\n    ChpAutoNum_resetCounter();\n    VOM_doc().ch(s_H6 + \":not(:first-child)\").e(function () {\n        $(this).a(s_DataHeaderNum, ChpAutoNum_tpl_prefix[5]);\n    });\n\n    function __genNumContent(item, lv) {\n        let diff = lv - ChpAutoNum_lastLevel,\n            absDiff = Math.abs(diff);\n        // 当前层级比上一层级低\n        if (diff > 0) {\n            for (let i = 0; i < absDiff; i++)\n                ChpAutoNum_push();\n        }\n        // 当前层级比上一层级高\n        else if (diff < 0) {\n            for (let i = 0; i < absDiff; i++)\n                ChpAutoNum_pop();\n        }\n        // 当前层级与上一层级一样\n        else {\n            ChpAutoNum_counter[ChpAutoNum_lastLevel - 1]++;\n        }\n\n        item.a(s_DataHeaderNum, ChpAutoNum_toString());\n    }\n}\n\n/**\n * 进入下一级的处理\n */\nfunction ChpAutoNum_push() {\n    ChpAutoNum_lastLevel++;\n    ChpAutoNum_counter[ChpAutoNum_lastLevel - 1] = 1;\n}\n\n/**\n * 返回上一级的处理\n */\nfunction ChpAutoNum_pop() {\n    ChpAutoNum_counter[ChpAutoNum_lastLevel - 1] = 0;\n    ChpAutoNum_lastLevel--;\n    ChpAutoNum_counter[ChpAutoNum_lastLevel - 1]++;\n}\n\n/**\n * 重置自动编号计数器\n */\nfunction ChpAutoNum_resetCounter() {\n    ChpAutoNum_counter = [0, 0, 0, 0, 0, 0];\n    ChpAutoNum_lastLevel = 1;\n}\n\n/**\n * 根据自动编号格式模板重新重置 h1~h6 自动编号格式\n * @param metaTpl 格式模板内容\n */\nfunction ChpAutoNum_resetTpl(metaTpl) {\n    // 判断是否有指定自定义自动编号模板\n    if (metaTpl !== gUndefined)\n        ChpAutoNum_tpl = metaTpl;\n    // 用于测试效果\n    // ChpAutoNum_tpl = \"h1{{###. }},h2{{### }},h3{{### }},h4{{### }},h5{{### }}\";\n    // ChpAutoNum_tpl = \"h1{{第#zh#章 }}\";\n    // ChpAutoNum_tpl = \"h1{{第#zh#章 }},h2{{Chapter #alpha# }},h5{{### }},h4{{### - }},h3{{§ ###}}\";\n    // ChpAutoNum_tpl = \"h1{{第#zh#章 }},h2{{步骤 #000## }}\";\n    // ChpAutoNum_tpl = \"h6{{X ### }}\";\n    // ChpAutoNum_tpl = \"h1{{###. }},h2{{### }}\";\n\n    if (ChpAutoNum_tpl.length === 0)\n        return;\n\n    // 对自动编号格式模板内容进行处理\n    let tplSet = ChpAutoNum_tpl.sp(\",\"),\n        lv;\n    for (let i = 0; i < tplSet.length; i++) {\n        lv = tplSet[i].s(1, 2);\n        if (!isNaN(lv))\n            ChpAutoNum_tplSet[lv - 1] = tplSet[i].x();\n    }\n\n    // 解析自定义编码格式模板内容\n    __parseTplItem(0); // h1\n    __parseTplItem(1); // h2\n    __parseTplItem(2); // h3\n    __parseTplItem(3); // h4\n    __parseTplItem(4); // h5\n    __parseTplItem(5); // h6\n\n    // 解析模板条目\n    function __parseTplItem(lv) {\n        let result;\n        if ((result = ChpAutoNum_tplSet[lv].m(ChpAutoNum_tpl_syntax)) != null\n            && result.length === 8) {\n                ChpAutoNum_tpl_prefix[lv] = result[2];\n                ChpAutoNum_tpl_leftPad[lv] = result[4];\n                ChpAutoNum_tpl_format[lv] = result[5];\n                ChpAutoNum_tpl_formatOpt[lv] =\n                    (result[6] === \"-min\") ? CHPAUTONUM_TPL_FORMAT_OPT_MIN\n                    : (result[6] === \"-sup\") ? CHPAUTONUM_TPL_FORMAT_OPT_SUP\n                    : CHPAUTONUM_TPL_FORMAT_OPT_NONE;\n                ChpAutoNum_tpl_suffix[lv] = result[7];\n        }\n    }\n}\n\n/**\n * 将当前层级信息转换为字符串\n */\nfunction ChpAutoNum_toString() {\n    let lv = ChpAutoNum_lastLevel - 1,\n        superLv = (lv > 0) ? lv - 1 : -1,\n        opt = ChpAutoNum_tpl_formatOpt[lv],\n        numStr = \"\";\n\n    // 若指定了特殊的格式选项\n    if (opt > CHPAUTONUM_TPL_FORMAT_OPT_NONE) {\n        if (opt === CHPAUTONUM_TPL_FORMAT_OPT_SUP && superLv >= 0)\n            numStr =  __formatNum(superLv, opt) + \".\";\n        numStr += __formatNum(lv, opt);\n        // 结束并返回\n        return ChpAutoNum_tpl_prefix[lv]\n            + numStr\n            + ChpAutoNum_tpl_suffix[lv];\n    }\n\n    // 没有指定特殊的格式选项\n    let str = 0;\n    for (let i = 0; i < ChpAutoNum_lastLevel; i++) {\n        str = __formatNum(i, false);\n        numStr += str;\n        if (i < lv && str.length > 0)\n            numStr += \".\";\n    }\n\n    return ChpAutoNum_tpl_prefix[lv]\n        + numStr\n        + ChpAutoNum_tpl_suffix[lv];\n\n    /**\n     * 指定层级的编号进行格式化\n     * @param i 层级\n     * @param opt 特殊格式选项\n     */\n    function __formatNum(i, opt) {\n        let ns = \"\",\n            counter = ChpAutoNum_counter[i],\n            upperCase = (ChpAutoNum_tpl_format[i].s(0, 1).m(/[A-Z]/) != null),\n            format = ChpAutoNum_tpl_format[i].l();\n\n        // 十进制数字\n        if (format === \"#\")\n            ns += ChpAutoNum_leftPadForDecimal(counter, i);\n        // 中文数字\n        else if (format === \"zh\") {\n            ns += (ChpAutoNum_lastLevel === 1)\n                // h1\n                ? ChpAutoNum_decimalToZh(counter, upperCase)\n                // h2~h5\n                : ChpAutoNum_leftPadForDecimal(counter, i);\n        }\n        // 英文字母\n        else if (format === \"alpha\") {\n            ns += (ChpAutoNum_lastLevel === 1 || opt > CHPAUTONUM_TPL_FORMAT_OPT_NONE)\n                // h1\n                ? ChpAutoNum_decimalToAlpha(counter, upperCase)\n                // h2~h5\n                : ChpAutoNum_leftPadForDecimal(counter, i);\n        }\n        // 罗马数字\n        else if (format === \"roman\") {\n            ns += (ChpAutoNum_lastLevel === 1 || opt > CHPAUTONUM_TPL_FORMAT_OPT_NONE)\n                // h1\n                ? ChpAutoNum_decimalToRoman(counter, upperCase)\n                // h2~h5\n                : ChpAutoNum_leftPadForDecimal(counter, i);\n        }\n        else if (format === s_Off)\n            ns += \"\";\n        return ns;\n    }\n}\n\n/**\n * 解析 Typora 生成的目录大纲节点样式名称对应的目录层级（h1~h6）\n * @param value 包含 h1~h6 的标识内容，如：md-toc-h1、h1 等\n * @returns number 目录层级：1~6\n */\nfunction ChpAutoNum_parseTocHeaderLevel(value) {\n    let lv = value.m(/(h([1-5]))/)[2];\n    return isNaN(lv) ? 0 : JS_parseInt(lv);\n}\n\n/**\n * 左侧补 0\n * @param value 当前值\n * @param lv 级别\n * @returns\n */\nfunction ChpAutoNum_leftPadForDecimal(value, lv) {\n    let pad = ChpAutoNum_tpl_leftPad[lv].length,\n        gap = pad - value.toString().length,\n        padStr = \"\";\n    if (gap > 0) {\n        for (let i = 0; i < gap; i++)\n            padStr += \"0\";\n    }\n    return padStr + value;\n}\n\n// 算法参考：https://blog.csdn.net/lavendersue/article/details/81066091\nlet ChpAutoNum_zhNum = [\"零\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\", \"七\", \"八\", \"九\"], // 数字\n    ChpAutoNum_zhUnit = [\"\", \"十\", \"百\", \"千\", \"万\"]; // 单位，最大支持 99,999,999\n/**\n * 数字格式转换：十进制 to 中文\n * @param num 十进制数字\n * @param upperCase 是否使用大写\n */\nfunction ChpAutoNum_decimalToZh(num, upperCase) {\n    let overWan = Math.floor(num / 10000),\n        noWan = num % 10000;\n    if (noWan.toString().length < 4)\n        noWan = \"0\" + noWan;\n\n    let numeral = overWan ? __numToZh(overWan) + \"万\" + __numToZh(noWan) : __numToZh(num);\n    // 对于 10－19 的特殊处理\n    if (num >= 10 && num <= 19)\n        numeral = numeral.r(\"一十\", \"十\");\n    return upperCase ? __toZhUpperCase(numeral) : numeral;\n\n    // 阿拉伯数字转换为中文数字\n    function __numToZh(value) {\n        let strArr = value.toString().sp(\"\").reverse();\n        let newNum = \"\";\n        for (let i = 0; i < strArr.length; i++) {\n          newNum = (\n            (i === 0 && strArr[i] === 0) ? \"\"\n            : (i > 0 && strArr[i] === 0 && strArr[i - 1] === 0 ? \"\"\n            : ChpAutoNum_zhNum[strArr[i]] + (strArr[i] === 0 ? ChpAutoNum_zhUnit[0] : ChpAutoNum_zhUnit[i])\n            ))\n            + newNum;\n        }\n        return newNum;\n    }\n\n    // 将中文数字转换为大写\n    function __toZhUpperCase(value) {\n        return value.rA(/一/g, \"壹\")\n            .rA(/二/g, \"贰\")\n            .rA(/三/g, \"叁\")\n            .rA(/四/g, \"肆\")\n            .rA(/五/g, \"伍\")\n            .rA(/六/g, \"陆\")\n            .rA(/七/g, \"柒\")\n            .rA(/八/g, \"捌\")\n            .rA(/九/g, \"玖\")\n            .rA(/十/g, \"拾\")\n            .rA(/百/g, \"佰\")\n            .rA(/千/g, \"仟\");\n    }\n}\n\n/**\n * 数字格式转换：十进制 to 英文字母\n * @param value 十进制数字\n * @param upperCase 是否使用大写\n */\nfunction ChpAutoNum_decimalToAlpha(value, upperCase) {\n    let numeral = \"\";\n    while (value > 0) {\n        let m = value % 26\n        if (m === 0)\n            m = 26;\n        numeral = String.fromCharCode(64 + JS_parseInt(m)) + numeral;\n        value = (value - m) / 26;\n    }\n    return upperCase ? numeral : numeral.l();\n}\n\n// 罗马数字参考：https://baike.baidu.com/item/%E7%BD%97%E9%A9%AC%E6%95%B0%E5%AD%97/772296\n// 算法参考：https://www.mianshigee.com/note/detail/180314zvm/\nlet ChpAutoNum_romanNum = [\"M\", \"CM\", \"D\", \"CD\", \"C\", \"XC\", \"L\", \"XL\", \"X\", \"IX\", \"V\", \"IV\", \"I\"], // 罗马数字\n    ChpAutoNum_romanNumArea = [1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1]; // 进位区间\n/**\n * 数字格式转换：十进制 to 罗马\n * @param value 十进制数字\n * @param upperCase 是否使用大写\n */\nfunction ChpAutoNum_decimalToRoman(value, upperCase) {\n    if (value <= 0 || value >= 4000)\n       return value;\n    let numeral = \"\";\n    for (let i = 0; i < ChpAutoNum_romanNum.length; i++) {\n       while (value >= ChpAutoNum_romanNumArea[i]) {\n          value -= ChpAutoNum_romanNumArea[i];\n          numeral += ChpAutoNum_romanNum[i];\n       }\n    }\n    return upperCase ? numeral : numeral.l();\n}\n\n// ==================== 引用块增强类 ==================== //\n\nlet ExtQuote_columnsGroupCount = 0,\n    ExtQuote_processingUCH = gFalse;\n\n/**\n * 初始化引用块以实现折叠支持\n */\nfunction ExtQuote_init() {\n    // 初始化彩虹引用的默认颜色标识\n    let dcQuote = V_util_getParamVal(\"quote\");\n    if (dcQuote !== gUndefined) {\n        RainbowQuote_defalutColor = dcQuote;\n        RainbowQuote_defalutColor_withoutEm = dcQuote.s(0, 2);\n    }\n\n    // 遍历所有引用、详情\n    $(s_Blockquote).e(function () {\n        let _t = $(this),\n            matchedQuoteFold = gFalse;\n        // ====================\n        // 处理引用折叠（details）\n        _t.ch(s_H6 + \":first-child\").e(function () {\n            let details = __disposeDetailsFolder($(this));\n            if (details)\n                _t = details;\n            matchedQuoteFold = true;\n        });\n\n        // 存在折叠，则标识，不参与分栏引用的统一高度处理\n        if (matchedQuoteFold) {\n            _t.a(s_DataFoldingQuote, s_True);\n            if (V_util_getTagName(_t.p()) === s_Blockquote)\n                _t.p().a(s_DataFoldingQuote, s_True);\n        }\n        // ====================\n\n        // --------------------\n        // 默认引用，转换为彩虹引用\n        let parentTag = V_util_getTagName(_t.p());\n\n        // 跳过列表内、引用内的嵌套引用\n        if (parentTag === \"li\" || parentTag === s_Blockquote || parentTag === s_Details)\n            return gTrue;\n        let rainbowQuoteEnabled = gFalse;\n        // 判断引用内是否包含了彩虹引用语法\n        _t.f(\">p>sub\").e(function () {\n            let _t = $(this);\n            // 颜色标签独占一行的情况下才被视为是对引用、详情的颜色标识\n            if (ExtQuote_isValidColorMark(_t)\n                && _t.t().m(RainbowColor_syntax) != null) {\n                    rainbowQuoteEnabled = gTrue;\n                    return gFalse;\n            }\n        });\n\n        // 引用内不包含彩虹引用语法的，则模拟指定默认的彩虹语法\n        if (!rainbowQuoteEnabled)\n            _t.ap(\"<p><sub>(\" + RainbowQuote_defalutColor + \")</sub></p>\");\n    });\n\n    // 针对分栏引用进行初始化\n    ExtQuote_initColumns();\n\n    // 针对分栏列表进行初始化\n    ExtList_initColumns();\n\n    /**\n     * 对 details 详情折叠进行处理\n     * @param target 带约定 details 详情折叠的对象\n     * @returns object 成功匹配并处理\n     */\n    function __disposeDetailsFolder(target) {\n        let quote = target.p();\n        // 生成 details\n        quote.wrap('<details id=\"' + V_doc_counter_details + '\"></details>');\n        // 取消 h6，并生成 summary\n        target.unwrap().wrap(\"<summary></summary>\");\n        // 删除无用对象\n        target.ch().unwrap();\n\n        // 获取生成的 detail 实例\n        let details = $(s_Details + \"#\" + V_doc_counter_details),\n            style = \"position: absolute; margin-left: calc(0px - var(--v-summary-w));\",\n            summary = details.ch(\"summary\");\n        summary.pp(V_ui_genSvgIcon(\"icoDetailsOpen\", 18, 18, s_Dark, style));\n        summary.on(s_MouseUp, function () {\n            // 自动调整高度\n            let _t = $(this),\n                icon = \"icoDetailsClose\",\n                color = s_Alt;\n            _t.ps(s_Blockquote + \"[\" + s_DataQuoteGroup + \"]\").p().c(s_Height, s_Auto);\n            _t.p().c(s_Height, s_Auto);\n\n            if (_t.p().a(\"open\") !== gUndefined) {\n                icon = \"icoDetailsOpen\";\n                color = s_Dark;\n            }\n            _t.ch(\"svg\").hm(V_ui_genSvgIcon(icon, 18, 18, color, style));\n        });\n\n        V_doc_counter_details++;\n        return details;\n    }\n}\n\n/**\n * 判断是否为有效的彩虹引用颜色标识\n * @param target 颜色标识的对象\n */\nfunction ExtQuote_isValidColorMark(target) {\n    let pText = target.p().t().x();\n    return  pText === target.t().x();\n}\n\n/**\n * 在自动生成题注处理后，进行引用的二次初始化处理\n */\nfunction ExtQuote_initAfterCap() {\n    // 遍历所有 RainbowQuote_defalutColor_withoutEm 的彩虹引用\n    $(\".v-q.\" + RainbowQuote_defalutColor_withoutEm.l()).e(function () {\n        let _t = $(this);\n        let preObj = _t.pr(),\n            preObjClass = preObj.a(s_Class);\n        // 对紧跟表格、插图、代码块、媒体后的引用样式进行微调\n        if (preObjClass !== gUndefined &&\n            (preObjClass.i(\"v-cap-\") > -1 || preObjClass.i(s_CssContentExpander) > -1))\n                JQ_removeClass(_t, RainbowQuote_defalutColor_withoutEm.l() + \" em\");\n    });\n}\n\n/**\n * 对分栏引用进行初始化\n */\nfunction ExtQuote_initColumns() {\n    // 针对分栏引用进行修正\n    $(\"hr + blockquote, hr + details\").e(function () {\n        ExtQuote_columnsGroupCount++;\n        let _t = $(this),\n            hr = _t.pr(),\n            colCount = 0;\n\n        // ----------------------------------------\n        // 隐藏标识分栏的 <hr>\n        __hideHr(hr);\n        colCount = hr.prevUntil(\":not(hr)\").length + 2; // 计算分栏数量\n        // 有更多的 <hr> 则进行处理\n        if (colCount > 2) {\n            __hideHr(hr.prevUntil(\":not(hr)\"));\n        }\n        // 隐藏标识分栏的 <hr>\n        function __hideHr(target) {\n            target.c(s_Visibility, s_Hidden)\n                .c(s_Margin, 0)\n                .c(s_Border, 0);\n        }\n\n        // ----------------------------------------\n        // 对分栏按组进行初始处理\n        __groupingColumns(_t);\n        _t.nextUntil(\":not(blockquote, details)\").e(function () {\n            if (colCount > 0) {\n                __groupingColumns($(this));\n            }\n        });\n\n        // 进行分组标识\n        function __groupingColumns(quote) {\n            // 若为带折叠的引用，则跳过\n            if (quote.a(s_DataFoldingQuote))\n                return;\n\n            quote.a(s_DataQuoteGroup, ExtQuote_columnsGroupCount);\n            colCount--;\n        }\n    });\n}\n\n/**\n * 对文档内所有分栏，按组为单位进行统一高度处理\n */\nfunction ExtQuote_uniteColumnsHeight() {\n    if (ExtQuote_processingUCH)\n        return;\n\n    ExtQuote_processingUCH = gTrue;\n    for (let i = 1; i <= ExtQuote_columnsGroupCount; i++) {\n        ExtQuote_uniteColumnsHeightForGroup(i);\n    }\n    ExtQuote_processingUCH = gFalse;\n}\n\n/**\n * 对指定组的分栏进行统一高度处理\n * @param groupId 分栏组 id\n */\nfunction ExtQuote_uniteColumnsHeightForGroup(groupId) {\n    // 找出同一组中最大的高度\n    let maxHeight = 0,\n        quote = $(s_Blockquote + \"[\" + s_DataQuoteGroup + \"=\" + groupId + \"],\"\n            + s_Details + \"[\" + s_DataQuoteGroup + \"=\" + groupId + \"]\");\n    quote.e(function () {\n        let _t = $(this);\n        _t.c(s_Height, s_Auto);\n        // 没有被小屏强制适配为不分栏时才处理\n        if (_t.c(s_Display) !== s_Block) {\n            let height = JS_parseInt(_t.c(s_Height));\n            if (height > maxHeight)\n                maxHeight = height;\n        }\n    });\n\n    // 没有被小屏强制适配为不分栏时才处理\n    if (quote.c(s_Display) !== s_Block) {\n        // 将同一组中最大的高度\n        quote.c(s_Height, maxHeight);\n    }\n}\n\n/**\n * 根据设备类型自适应 hover 样式\n */\nfunction ExtQuote_adjustHoverStyle() {\n    if (env.device.mobile) // 移动设备时解绑样式事件\n        $(\".\" + s_CssBlockquoteFolder).uH();\n    else // 为折叠的引用的折叠控件绑定 hover 事件\n        V_ui_bindHover($(\".\" + s_CssBlockquoteFolder));\n}\n\n/**\n * 自动展开引用块（由 blockquote 转换的 details）\n */\nfunction ExtQuote_autoUnfold() {\n    if (iParagraphNav.cur() === gUndefined)\n        return;\n\n    // 针对 details 的处理\n    __openDetails(iParagraphNav.cur());\n\n    /**\n     * 打开折叠的引用（未打开的 details 标签）\n     * @param target 目标标签\n     */\n    function __openDetails(target) {\n        let parent = target.p();\n        // 只针对 details 标签\n        if (V_util_getTagName(parent) === s_Details) {\n            // 如果是嵌套的折叠引用，则进行递归处理\n            if (V_util_getTagName(parent.p()) === s_Details)\n                __openDetails(parent.p());\n            // 未打开时才进行打开\n            if (parent.a(s_Open) === gUndefined)\n                parent.ch(\"summary\").tr(s_Click);\n        }\n    }\n}\n\n// ==================== 列表增强类 ==================== //\n\n/**\n * 对分栏列表进行初始化\n */\nfunction ExtList_initColumns() {\n    // 针对分栏列表进行修正\n    $(\"hr + ul, hr + ol\").e(function () {\n        let _t = $(this),\n            hr = _t.pr();\n\n        // ----------------------------------------\n        // 隐藏标识分栏的 <hr>\n        hr.c(s_Display, s_None);\n        let colCount = hr.prevUntil(\":not(hr)\").length + 2; // 计算分栏数量\n        if (colCount > 2) // 有更多的 <hr>\n            hr.prevUntil(\":not(hr)\").c(s_Display, s_None);\n    });\n}\n\n// ==================== 表格增强类 ==================== //\n\n/**\n * 初始化表格数据\n */\nfunction ExtTable_init() {\n    let sw = new Stopwatch();\n\n    // ----------------------------------------\n    // 表格预处理\n    sw.st();\n    $(s_Table).e(function () {\n        let _t = $(this),\n            container = _t.p();\n\n        V_doc_counter_table++;\n\n        // 绑定内容助手\n        ContentAssistor_bind(_t, s_Table);\n\n        // 表格自定义属性数据\n        container.a(s_DataContainer, s_Table);\n        JQ_addClass(container, s_CssCaptionContainer);\n\n        // 表格滚动事件\n        container.scroll(function () {\n            TableCross_hide();\n        });\n\n        // 表格单元格初始化处理\n        __initCell(_t);\n\n        // 折叠长表格\n        ContentFolder_add(_t, s_Table);\n        // 先根据题注语法生成题注\n        CaptionGenerator_actionForTextContent(_t, s_Table);\n    }); // table\n    sw.ed(\"    ├ Prepare: \");\n\n    // ----------------------------------------\n    // 表格单元格合并\n    sw.st();\n    $(s_Table + \"[\" + s_DataCellMerge + \"='true']\").e(function () {\n        let _t = $(this);\n        CellMerge_dispose(_t);\n\n        // 合并后，针对列头纵向合并的情况二次执行列格式处理\n        _t.f(\"thead>tr>th\").e(function () {\n            let cell = $(this);\n            ColumnFormatting_init(_t, cell, cell.t());\n        });\n    });\n    sw.ed(\"    ├ Merge: \");\n\n    // ----------------------------------------\n    // 对表格单元格初始化处理中标识为带列格式的表格，进行列格式化处理\n    sw.st();\n    $(s_Table + \"[\" + s_DataColumnFmting + \"='true']\").e(function () {\n        ColumnFormatting_format($(this));\n    });\n    sw.ed(\"    ├ Column Format: \");\n\n    // ----------------------------------------\n    // 表格行折叠\n    sw.st();\n    $(s_Table + \"[\" + s_DataRowGroup + \"='true']\").e(function () {\n        let _t = $(this);\n        RowGroup_init(_t);\n\n        // 修正行分组的首个单元格的缩进\n        _t.f(\"tr[\" + s_DataFolder + \"='true']\").e(function () {\n            let td = $(this).ch(\"td:first\");\n            if (td.a(s_DataIdentLevel) !== gUndefined)\n                td.c(s_PaddingLeft, \"0.5em\");\n        });\n    });\n    sw.ed(\"    ├ Row Group: \");\n\n    // ----------------------------------------\n    // 表格单元格重复表头引用处理，group 模式重复将在行分组展开/收起时再进行处理\n    sw.st();\n    $(s_Table + \"[\" + s_DataThRpt + \"='true']\").e(function () {\n        ThRepeater_init( $(this));\n    });\n    sw.ed(\"    └ Th Repeater: \");\n\n    /**\n     * 表格单元格初始化\n     * @param table 表格对象\n     */\n    function __initCell(table) {\n        // 遍历表格「列头」行\n        let colIndex = 0;\n        table.f(\"thead>tr\").e(function () {\n            colIndex = 0;\n            let needCheckCellMerge = gTrue,\n                needCheckColumnFormatting = gTrue,\n                needCheckThRpt = gTrue;\n            // ----------------------------------------\n            // 遍历单元格\n            $(this).f(\"th\").e(function () {\n                let th = $(this),\n                    text = th.t();\n\n                // ---------- 表格排版增强预处理 ----------\n                // 检测是否带合并单元格语法\n                if (needCheckCellMerge\n                    && table.a(s_DataCellMerge) !== s_True\n                    && (CellMerge_syntax_row.test(text)\n                    || CellMerge_syntax_col.test(text))) {\n                        // 将表格标识为带合并单元格语法\n                        table.a(s_DataCellMerge, s_True);\n                        needCheckCellMerge = gFalse;\n                }\n                // 检测是否带列格式语法\n                if (needCheckColumnFormatting) {\n                    if (ColumnFormatting_init(table, th, text))\n                        needCheckColumnFormatting = gFalse;\n                }\n                // 检测是否带重复表头语法\n                if (needCheckThRpt\n                    && colIndex === 0 // 只检测第 1 列\n                    && ThRepeater_syntax_tag.test(text)) {\n                        // 将表格标识为带行折叠语法\n                        table.a(s_DataThRpt, s_True);\n                        th.rHTML(\"## \", \"\");\n                        needCheckThRpt = gFalse;\n                }\n\n                // ----------------------------------------\n                // 添加列号标识，用于列格式化时使用\n                th.a(s_DataTblCol, \"tbl-\" + V_doc_counter_table + \"-\" + colIndex);\n                colIndex++;\n\n                // ---------- 非列头的单元格阅读模式（十字光标）处理 ----------\n                // 鼠标点击单元格时显示阅读模式（十字光标）\n                TableCross_bind(table, th);\n            });\n        });\n\n        // 标记该表格列太多，用于匹配是否自动换行的自动版式\n        if (colIndex > 7)\n            table.a(\"d-col-too-more\", colIndex);\n\n        // ----------------------------------------\n        // 遍历表格「非列头」行\n        table.f(\"tbody>tr\").e(function () {\n            let colIndex = 0,\n                needCheckCellMerge = gTrue,\n                needCheckRowGroup = gTrue;\n            // ----------------------------------------\n            // 遍历单元格\n            $(this).f(\"td\").e(function () {\n                let td = $(this),\n                    text = td.t();\n                // ---------- 表格排版增强预处理 ----------\n                // 检测是否带合并单元格语法\n                if (needCheckCellMerge\n                    && table.a(s_DataCellMerge) !== s_True\n                    && (CellMerge_syntax_row.test(text)\n                    || CellMerge_syntax_col.test(text))) {\n                        // 将表格标识为带合并单元格语法\n                        table.a(s_DataCellMerge, s_True);\n                        needCheckCellMerge = gFalse;\n                }\n                // 检测是否带行折叠语法\n                if (needCheckRowGroup\n                    && colIndex === 0 // 只检测第 1 列\n                    && table.a(s_DataRowGroup) !== s_True\n                    && RowGroup_syntax_tag.test(text)) {\n                        // 将表格标识为带行折叠语法\n                        table.a(s_DataRowGroup, s_True);\n                        needCheckRowGroup = gFalse;\n                }\n                // 对于单元格的内容，都以 <mark> 标签包裹的，则转换为单元格的样式\n                // 同时转换后，在 Table.columnFormatting 的 init 处理中对应添加对应的过滤条件\n                if (/^<ma.+rk>$/.test(td.hm())) {\n                    td.ch().ch().unwrap(); // 解包 <mark>\n                    JQ_addClass(td, s_CssTableColumnFormat_Mark);\n                }\n\n                // 添加列号标识，用于列格式化时使用\n                td.a(s_DataTblCol, \"tbl-\" + V_doc_counter_table + \"-\" + colIndex);\n                colIndex++;\n\n                // ---------- 列头的单元格阅读模式（十字光标）处理 ----------\n                // 鼠标点击单元格时显示阅读模式（十字光标）\n                TableCross_bind(table, td);\n            }); // find(th, td)\n        }); // find(tr)\n    }\n}\n\n/**\n * 复制表格内容\n * @param source 内容源对象\n * @param event 事件对象\n */\nfunction ExtTable_copyContent(source, event) {\n    let content = \"\",\n        trSet = ContentAssistor_lastHover.f(\"tr\"),\n        theadCount = ContentAssistor_lastHover.f(\"thead > tr\").length,\n        columnFmting = ContentAssistor_lastHover.a(s_DataColumnFmting),\n        theadRepeater = ContentAssistor_lastHover.a(s_DataThRpt),\n        rowGroup = ContentAssistor_lastHover.a(s_DataRowGroup),\n        rowIndex = 0,\n        rowCount = trSet.length,\n        colIndex = 0, // 表格行的当前列（包括被合并列的）\n        colCount = 0,\n        alignSet = [], // 列的对齐方式\n        xspanMatrix = []; // 单元格合并标识矩阵\n\n    // 逐行读取表格内容\n    trSet.e(function () {\n        // 复制为 Markdown 时，在表头后添加分隔格式\n        if (ContentAssistor_copyAsMarkdown && rowIndex === 1)\n            content = __createTheadSpliter(content, alignSet);\n\n        let cellSet = $(this).f(\"th, td\")\n        colIndex = 0;\n\n        // 逐个单元格处理\n        cellSet.e(function () {\n            let htmlText = \"\",\n                rowspan, colspan;\n\n            // ====== 根据合并单元格预处理结果进行实际处理 =====\n            // 对单元格纵向合并的填充处理\n            htmlText = __disposeRowspan(htmlText);\n\n            // ====== 对普通单元格的处理 ======\n\n            // 读取单元格数据\n            let cell = $(this),\n                cellHTML = cell.hm(),\n                colFmtChkbox = gFalse,\n                colFmtDel = gFalse,\n                cellBg = cell.a(s_DataRainbowCellBg),\n                cellWholeText = cell.a(s_DataRainbowWholeText);\n\n            // 含有表格列格式时\n            if (columnFmting !== gUndefined && columnFmting === s_True) {\n                // 转换列格式（复选框）\n                let css = cell.a(s_Class);\n                if (css !== gUndefined) {\n                    if (css.i(s_CssTableColumnFormat_Checkbox) !== -1) {\n                        let yes = cell.ch('svg[data-chk=\"yes\"]');\n                        if (yes.length > 0)\n                            cellHTML = cellHTML.r(/<svg .*?>([\\s\\S]*?)<\\/svg>/i, \"Y\");\n                        else {\n                            let un = cell.ch('svg[data-chk=\"' + s_Un + '\"]');\n                            if (un.length > 0)\n                                cellHTML = cellHTML.r(/<svg .*?>([\\s\\S]*?)<\\/svg>/i, \"?\");\n                        }\n                        // 复制为 Markdown 时，对表头列格式进行处理\n                        if (ContentAssistor_copyAsMarkdown && rowIndex < theadCount)\n                            colFmtChkbox = gTrue;\n                    }\n\n                    // ----- 复制为 Markdown 时的列格式处理 01 -----\n                    // 常规（加粗/斜体/下划线/高亮/删除线）\n                    if (ContentAssistor_copyAsMarkdown && rowIndex < theadCount) {\n                        if (css.i(s_CssTableColumnFormat_Del) !== -1) // 删除线\n                            colFmtDel = gTrue;\n                    }\n                }\n\n                // 记录列的对齐方式，用于在复制为 Markdown 时生成表头分隔分隔格式\n                if (ContentAssistor_copyAsMarkdown)\n                    alignSet[colIndex] = cell.c(s_TextAlign);\n            }\n\n            // 转换表格分组\n            if (rowGroup !== gUndefined && rowGroup === s_True) {\n                let css = cell.a(s_Class);\n                if (css !== gUndefined && css.i(s_CssTableRowGroupSub) !== -1) {\n                    let identerCount = cell.ch('.' + s_CssTableRowGroupIdenter).length;\n                    for (let i = 0; i < identerCount; i++) {\n                        cellHTML = cellHTML.r(/<label .*?><\\/label>/i,\n                            i === identerCount - 1 ? \"> \" : \">\");\n                    }\n                }\n            }\n\n            // 转换单元格内容\n            cellHTML = __transCellContent(cellHTML, cellBg, cellWholeText);\n\n            // ----- 复制为 Markdown 时的列格式处理 02 -----\n            if (ContentAssistor_copyAsMarkdown && rowIndex < theadCount) {\n                if (colFmtChkbox) // 复选框\n                    cellHTML = \"[] \" + cellHTML;\n                // 加粗、斜体、下划线、高亮，已通过 __transCellContent() 进行了处理\n                if (colFmtDel) // 删除线\n                    cellHTML = \"~~\" + cellHTML + \"~~\";\n                // 重复表头\n                if (rowIndex === 0 && colIndex === 0 && theadRepeater !== gUndefined)\n                    cellHTML = \"## \" + cellHTML;\n            }\n\n            // 生成要被复制的单元格内容\n            htmlText += __maybeAsMarkdown(\"| \", \"\")\n                + __maybeAsMarkdown(\"\", '\"') + cellHTML + __maybeAsMarkdown(\"\", '\"');\n\n            // ====== 对合并单元格的处理 ======\n\n            // 对单元格有纵向合并 rowspan 属性的处理\n            rowspan = cell.a(s_Rowspan);\n            rowspan = (rowspan === gUndefined) ? 0 : JS_parseInt(rowspan);\n            if (rowspan > 0) {\n                for (let i = 0; i < rowspan - 1; i++) {\n                    // 对应纵向合并的矩阵行为空则进行创建\n                    if (xspanMatrix[rowIndex + i + 1] === gUndefined)\n                        xspanMatrix[rowIndex + i + 1] = [];\n                    // 在对应矩阵单元中标识被纵向合并的单元格\n                    // 预处理，在下一轮处理中继续\n                    xspanMatrix[rowIndex + i + 1][colIndex] = 1;\n                }\n            }\n\n            // 对单元格有横向合并 colspan 属性的处理\n            colspan = cell.a(s_Colspan);\n            colspan = (colspan === gUndefined) ? 0 : JS_parseInt(colspan);\n            if (colspan > 0) {\n                // 横向合并填充处理\n                for (let i = 0; i < colspan - 1; i++) {\n                    htmlText += __maybeAsMarkdown(\"| == \", \" \") + \"\\t\";\n                    // 对应纵向合并的矩阵行为空则进行创建\n                    if (xspanMatrix[rowIndex] === gUndefined)\n                        xspanMatrix[rowIndex] = [];\n                    // 在对应矩阵单元中标识被横向合并的单元格\n                    xspanMatrix[rowIndex][colIndex + 1] = 2;\n                    colIndex++;\n                }\n            }\n\n            colIndex++;\n            content += htmlText + __maybeAsMarkdown(\" \", \"\\t\");\n        }); // 逐个单元格处理结束\n\n        // 记录表格实际列数\n        if (colIndex > colCount)\n            colCount = colIndex;\n\n        // 每行最后一个非合并单元格的后续合并单元格的填充处理\n        content = __disposeRowspan(content);\n\n        rowIndex++;\n        content = content.s(0, content.length - 1)\n            + __maybeAsMarkdown(\" |\", \"\") + (rowIndex < rowCount ? \"\\n\" : \"\");\n\n        // ==========\n        // 对单元格纵向合并的处理\n        function __disposeRowspan(htmlText) {\n            // 对已处理行中带纵向合并 rowspan 标识的数据进行适配处理\n            if (xspanMatrix[rowIndex] !== gUndefined) {\n                let rowspan = xspanMatrix[rowIndex][colIndex];\n                while (rowspan !== gUndefined && rowspan === 1) {\n                    htmlText += __maybeAsMarkdown(\"| : \", \" \") + \"\\t\";\n                    colIndex++;\n                    rowspan = xspanMatrix[rowIndex][colIndex];\n                }\n            }\n            else\n                xspanMatrix[rowIndex] = [];\n\n            return htmlText;\n        }\n\n\n    }); // 逐行处理\n\n    // 调试：打印标识矩阵\n    __printXspanArr();\n\n    Copyer_action(source, content, gTrue);\n\n    // ==========\n\n    function __createTheadSpliter(content, alignSet) {\n        // 复制为 Markdown 时，在表头后添加分隔格式\n        let lastAlign = s_Left,\n            spliter = \"| ---- \";\n        for (let i = 0; i < colCount; i++) {\n            // 读取每列的对齐方式\n            if (alignSet[i] !== gUndefined)\n                lastAlign = alignSet[i];\n\n            if (lastAlign === s_Left) // 左对齐\n                spliter = \"| ---- \";\n            else if (lastAlign === s_Right) // 右对齐\n                spliter = \"| ---: \";\n            else if (lastAlign === s_Center) // 中间对齐\n                spliter = \"| :--: \";\n\n            content += spliter;\n        }\n        content += \"|\\n\";\n        return content;\n    }\n\n    // 适配是否要复制为 Markdown\n    function __maybeAsMarkdown(mdStr, plainStr) {\n        return (ContentAssistor_copyAsMarkdown ? mdStr : plainStr)\n    }\n\n    // 转换单元格内容\n    function __transCellContent(cellHTML, cellBg, cellWholeText) {\n        // 转换徽章\n        cellHTML = __transCellContent_badge(cellHTML);\n        // 转换标签\n        cellHTML = __transCellContent_tag(cellHTML);\n        // 转换代码\n        cellHTML = __transCellContent_code(cellHTML);\n\n        // 转换彩虹文本、单元格背景色\n        if (ContentAssistor_copyAsMarkdown) {\n            // 有指定整段（整个单元格）的文本着色\n            if (cellWholeText !== gUndefined)\n                cellHTML = \"~(\" + cellWholeText + \")~\" + cellHTML;\n\n            // 有指定单元格背景色\n            if (cellBg !== gUndefined)\n                cellHTML += \"~(\" + cellBg + \"!)~\";\n\n            // 有指定单元格内（加粗）文本着色\n            cellHTML = __transCellContent_rainbowText(cellHTML,\n                /(<strong( d-rb-text=\"([a-z!12]+)\")?>)([\\s\\S]*?)(<\\/strong>)/i);\n            // 有指定单元格内（斜体）文本着色\n            cellHTML = __transCellContent_rainbowText(cellHTML,\n                /(<em( d-rb-text=\"([a-z!12]+)\")?>)([\\s\\S]*?)(<\\/em>)/i);\n            // 有指定单元格内（高亮）文本着色\n            cellHTML = __transCellContent_rainbowText(cellHTML,\n                /(<mark( d-rb-text=\"([a-z!12]+)\")?>)([\\s\\S]*?)(<\\/mark>)/i);\n            // 有指定单元格内（下划线）文本着色\n            cellHTML = __transCellContent_rainbowText(cellHTML,\n                /(<u( d-rb-text=\"([a-z!12]+)\")?>)([\\s\\S]*?)(<\\/u>)/i);\n        }\n\n        // 用于清除或转换特殊字符\n        let badChars = [\n                // /<br\\s?\\/?>/i, // <br>\n                /&nbsp;/i, // 空格\n                /&lt;/, // <\n                /&gt;/, // >\n                \"'\", // 英文单引号\n                \"\\\"\", // 英文双引号\n                /(“)([^“]+)(“)/, // 连续第2个中文单引号\n                /(‘)([^‘]+)(‘)/, // 连续第2个中文双引号\n                /<.*?>/i // HTML 标签\n                // /<[^>]+>/g // HTML 标签\n            ],\n            goodChars = [\n                // \"\\n\", // for <br>\n                \" \", // 空格\n                \"<\", // <\n                \">\", // >\n                \"‘\", // 中文单引号\n                \"“\", // 中文双引号\n                \"$1$2”\", // 中文反单引号\n                \"$1$2’\", // 中文反双引号\n                \"\" // for HTML 标签\n            ];\n\n        // 对 <br> 的处理 01\n        let brTmp = \"___br___\";\n        if (ContentAssistor_copyAsMarkdown) {\n            cellHTML = cellHTML.rA(/<br\\s?\\/?>/i, brTmp);\n            cellHTML = cellHTML.rA(/\\$/, \"\\\\$\");\n        }\n        else\n            cellHTML = cellHTML.rA(/<br\\s?\\/?>/i, \"\\n\");\n\n        // 清除或转换特殊字符，包括 HTML 标签\n        for (let i = 0; i < badChars.length; i++)\n            cellHTML = cellHTML.rA(badChars[i], goodChars[i]);\n\n        if (ContentAssistor_copyAsMarkdown) {\n            // 对 ___br___ 的处理 02\n            cellHTML = cellHTML.rA(brTmp, \"<br>\");\n            // 对 ___u___ 和 ___/u___ 的处理\n            cellHTML = cellHTML.rA(\"___u___\", \"<u>\");\n            cellHTML = cellHTML.rA(\"___/u___\", \"</u>\");\n        }\n\n        return cellHTML;\n    }\n\n    // 转换单元格内的彩虹标签\n    function __transCellContent_tag(cellHTML) {\n        let matcher = /(<code class=\"v-tag (\\w{2}) ?(\\w{2})?\">)([\\s\\S]*?)(<\\/code>)/i,\n            result = cellHTML.m(matcher);\n\n        // 遍历处理单元格内的所有匹配的内容\n        while (result != null) {\n            let text = result[4],\n                color = RainbowTag_getColor(result[2]),\n                em = (result[3] !== gUndefined ? \"!\" : \"\");\n            let bq1 = __hasBackquote(text) ? \"`` \" : \"`\",\n                bq2 = __hasBackquote(text) ? \" ``\" : \"`\";\n\n            cellHTML = cellHTML.r(matcher,\n                __maybeAsMarkdown(bq1 + \"#\" + text + \"#\" + bq2\n                    + RainbowColor_genAsMarkdown(color, em, RainbowTag_defalutColor),\n                    \"#\" + text + \"#\"));\n            // 匹配下一项\n            result = cellHTML.m(matcher);\n        }\n        return cellHTML;\n    }\n\n    // 转换单元格内的彩虹徽章\n    function __transCellContent_badge(cellHTML) {\n        let matcher = /(<code class=\"v-badge-name (\\w{2}).*?\">)([\\s\\S]*?)(<code class=\"v-badge-value ?(\\w{2})?\".*?>)([\\s\\S]*?)(<\\/code>)(<\\/code>)/i,\n            result = cellHTML.m(matcher);\n\n        // 遍历处理单元格内的所有匹配的内容\n        while (result != null) {\n            let bName = result[3],\n                bValue = result[6],\n                color = RainbowBadge_getColor(result[2]),\n                em = (result[5] !== gUndefined ? \"!\" : \"\");\n            let bq1 = __hasBackquote(bName + bValue) ? \"`` \" : \"`\",\n                bq2 = __hasBackquote(bName + bValue) ? \" ``\" : \"`\";\n\n            cellHTML = cellHTML.r(matcher,\n                __maybeAsMarkdown(bq1 + \"#\" + bName + \"|\" + bValue + \"#\" + bq2\n                    + RainbowColor_genAsMarkdown(color, em, RainbowBadge_defalutColor),\n                    \"#\" + bName + \"|\" + bValue + \"#\"));\n\n            // 匹配下一项\n            result = cellHTML.m(matcher);\n        }\n        return cellHTML;\n    }\n\n    // 转换单元格内的普通行内代码 code\n    function __transCellContent_code(cellHTML) {\n        let matcher = /(<code .*?>)([\\s\\S]*?)(<\\/code>)/i,\n            result = cellHTML.m(matcher);\n\n        // 遍历处理单元格内的所有匹配的内容\n        while (result != null) {\n            let text = result[2];\n            let bq1 = __hasBackquote(text) ? \"`` \" : \"`\",\n                bq2 = __hasBackquote(text) ? \" ``\" : \"`\";\n            cellHTML = cellHTML.r(matcher, bq1 + text + bq2);\n            // 匹配下一项\n            result = cellHTML.m(matcher);\n        }\n        return cellHTML;\n    }\n\n    // 转换单元格内的彩虹文本\n    function __transCellContent_rainbowText(cellHTML, exp) {\n        let result = cellHTML.m(exp);\n\n        // 遍历处理单元格内所有格式着色内容\n        while (result != null) {\n            let color = result[3],\n                format = result[1];\n            if (color !== gUndefined)\n                cellHTML = cellHTML.r(exp, \"$1$4$5~($3)~\");\n            if (format !== gUndefined) {\n                // strong\n                if (format.sW(\"<st\"))\n                    cellHTML = cellHTML.r(exp, \"**$4**\");\n                // em\n                else if (format.sW(\"<e\"))\n                    cellHTML = cellHTML.r(exp, \"*$4*\");\n                // mark\n                else if (format.sW(\"<m\"))\n                    cellHTML = cellHTML.r(exp, \"==$4==\");\n                // <u>\n                else if (format.sW(\"<u\"))\n                    cellHTML = cellHTML.r(exp, \"___u___$4___/u___\");\n            }\n            // 匹配下一项\n            result = cellHTML.m(exp);\n        }\n        return cellHTML;\n    }\n\n    // 是否含有反引号 `\n    function __hasBackquote(text) {\n        return (text.i(\"`\") > -1);\n    }\n\n    // 调试：打印标识矩阵\n    function __printXspanArr() {\n        if (!debugMode)\n            return;\n\n        console.log(\"Table:\", rowCount + \" x \" + colCount);\n        let sss = \"   \";\n        for (let i = 0; i < colCount; i++)\n            sss += \" \" + i;\n        console.log(sss);\n        sss = \"   \";\n        for (let i = 0; i < colCount; i++)\n            sss += \" -\";\n        console.log(sss);\n        for (let i = 0; i < rowCount; i++) {\n            sss = \"\";\n            if (xspanMatrix[i] !== gUndefined) {\n                for (let j = 0; j < colCount; j++)\n                    sss += (xspanMatrix[i][j] === gUndefined) ? \". \" : xspanMatrix[i][j] + \" \";\n                console.log(i + \" | \" + sss);\n            }\n        }\n    }\n}\n\n// ==================== 表格单元格合并类 ==================== //\n\n// 单元格合并语法\nlet CellMerge_syntax_row = /^(:)$/, // 行，纵向合并\n    CellMerge_syntax_col = /^(==)$/ // 列，横向合并\n\n/**\n * 表格单元格合并\n * @param table 要进行单元格合并处理的表格对象\n */\nfunction CellMerge_dispose(table) {\n    let colSpanCount = 0,\n        colSpanCell = null,\n        colIndex = 0,\n        colCount = 0,\n        lastCell = null,\n        tblData = [],\n        tblSpan = [],\n        tblTd2ThData = [],\n        rowIndex = 0,\n        needRowSpan = gFalse;\n\n    // 遍历表格行\n    table.f(\"tr\").e(function () {\n        tblData[rowIndex] = [];\n        tblSpan[rowIndex] = [];\n        let tr = $(this);\n        tr.f(\"td, th\").e(function () {\n            let cell = $(this);\n\n            // --- 行合并：预处理（纵向） ---\n            // 克隆表格数据\n            tblData[rowIndex][colIndex] = cell;\n            tblSpan[rowIndex][colIndex] = 0;\n            if (CellMerge_syntax_row.test(cell.t())) {\n                tblSpan[rowIndex][colIndex] = 1;\n                needRowSpan = gTrue;\n            }\n            colIndex++;\n            colCount++;\n\n            // --- 列合并（横向） ---\n            // 是列合并标识\n            if (CellMerge_syntax_col.test(cell.t())) {\n                colSpanCount++;\n                JQ_remove(cell);\n                if (colSpanCount === 1)\n                    colSpanCell = lastCell;\n            }\n            // 不是列标识，则进行最近列标识数据进行处理\n            else {\n                if (colSpanCount > 0 && colSpanCell != null) {\n                    colSpanCell.a(s_Colspan, colSpanCount + 1);\n                    CellMerge_emptyBlankCell(colSpanCell);\n                    colSpanCell.c(s_TextAlign, s_Center);\n                }\n                colSpanCount = 0;\n            }\n            lastCell = cell;\n        }); // find(td, th)\n\n        // 如果列合并了所有列，且内容为空，则取消表格行号等样式\n        if (colCount === colSpanCount + 1 && tr.t().x().length === 0) {\n            JQ_addClass(tr, \"v-table-colspan-all\");\n        }\n\n        // 列间合并：对于最后一列的补充处理\n        if (colSpanCount > 0 && colSpanCell != null) {\n            colSpanCell.a(s_Colspan, colSpanCount + 1);\n            CellMerge_emptyBlankCell(colSpanCell);\n            colSpanCell.c(s_TextAlign, s_Center);\n        }\n        colSpanCount = 0;\n\n        rowIndex++;\n        colIndex = 0;\n        colCount = 0;\n    }); // tr\n\n    rowIndex = 0;\n\n    // --- 行间合并（纵向）---\n    if (needRowSpan) {\n        tblTd2ThData = [];\n        // 列式遍历（从左到右）\n        for (let c = 0, len = tblSpan[0].length; c < len; c++) {\n            let rowSpanCount = 0,\n                rowSpanCell = null;\n            let r = 0,\n                thSpanFlag = gFalse;\n\n            // 列式遍历（从上到下）\n            while (r < tblSpan.length) {\n                if (tblSpan[r][c] === 1) { // 要合并\n                    rowSpanCount++;\n                    if (rowSpanCell == null) {\n                        rowSpanCell = tblData[r - 1][c];\n                    }\n                    // 记录最大列头行合并深度\n                    if (r === 1)\n                        thSpanFlag = gTrue;\n                    if (thSpanFlag)\n                        tblTd2ThData[tblTd2ThData.length] = tblData[r][c].p();\n                    JQ_remove(tblData[r][c]); // 移除要被合并的单元格\n\n                    // 后接的单元格会变成第 1 列，但不需要预留表格行号显示的空间\n                    if (c + 1 < tblSpan[r].length)\n                        tblData[r][c + 1].c(s_PaddingLeft, V_util_getVarVal(\"--tbl-cell-padding\"));\n                } else {\n                    thSpanFlag = gFalse;\n                    // 单元格行合并\n                    if (rowSpanCount > 0 && rowSpanCell != null) {\n                        rowSpanCell.a(s_Rowspan, rowSpanCount + 1);\n                        CellMerge_emptyBlankCell(rowSpanCell);\n                        rowSpanCell.c(s_VerticalAlign, \"middle\");\n                        rowSpanCount = 0;\n                        rowSpanCell = null;\n                    }\n                }\n                r++;\n            } // while\n\n            // 行合并：对于最后一行的补充处理\n            if (rowSpanCount > 0 && rowSpanCell != null) {\n                rowSpanCell.a(s_Rowspan, rowSpanCount + 1);\n                CellMerge_emptyBlankCell(rowSpanCell);\n                rowSpanCell.c(s_VerticalAlign, \"middle\");\n            }\n        } // for\n\n        // 处理列头的纵向合并\n        for (let i = 0, len = tblTd2ThData.length; i < len; i++) {\n            tblData[0][0].p().p().ap(tblTd2ThData[i]);\n            // 将 thead 内的 td 标签转换为 th\n            let foundTd = gFalse;\n            tblTd2ThData[i].f(\"td\").e(function () {\n                foundTd = gTrue;\n                // 暂存 td 的属性数据\n                let td = $(this),\n                    style = td.a(s_Style),\n                    tblCol = td.a(s_DataTblCol),\n                    classValue = td.a(s_Class),\n                    colspan = td.a(s_DataColspan);\n                // td 转换为 th 标签\n                td.a(s_DataTd2th, s_True);\n                td.prop(\"outerHTML\", td.prop(\"outerHTML\").rA(\"<td \", \"<th \"));\n                // 将暂存的 td 的属性数据，恢复到新标签中\n                td.p().a(s_Style, style);\n                td.p().a(s_DataTblCol, tblCol);\n                td.p().a(s_Class, classValue);\n                td.p().a(s_DataColspan, colspan);\n            });\n            // 对被从 td 转换为 th 单元格，重新绑定：鼠标点击单元格时显示阅读模式（十字光标）\n            if (foundTd) {\n                tblTd2ThData[i].f(\"th[\" + s_DataTd2th + \"]\").e(function () {\n                    TableCross_bind(table, $(this));\n                });\n            }\n        }\n    } // if\n\n    needRowSpan = gFalse;\n}\n\n/**\n * 清空单元格内容（无内容情况下清空空格 &nbsp;）\n * @param cell 表格单元格对象\n */\nfunction CellMerge_emptyBlankCell(cell) {\n    if (cell.t().x().length === 0) {\n        cell.hm(\"\");\n        JQ_addClass(cell, \"v-empty-cell\");\n    }\n}\n\n// ==================== 表格阅读模式（十字光标）类 ==================== //\n\nlet //TableCross_enabled = gFalse,\n    TableCross_ui = gUndefined,\n    TableCross_lastTable = gUndefined, // 最后/当前显示阅读模式（十字光标）的表格\n    TableCross_lastCell = gUndefined; // 最后/当前显示阅读模式（十字光标）的表格单元格\n\nfunction TableCross_init() {\n    TableCross_ui = $(\".v-table-cross\");\n    V_ui_addAnimate(TableCross_ui);\n}\n\n/**\n * 切换表格阅读模式（十字光标）开关\n */\nfunction TableCross_toggle(table) {\n    // 已打开，则关闭\n    if (table.a(s_DataTblCross) === s_True)\n        TableCross_disable(table);\n    // 未打开，则打开\n    else\n        TableCross_enable(table);\n}\n\n// 打开表格阅读模式（十字光标）\nfunction TableCross_enable(table) {\n    // TableCross_enabled = gTrue;\n    table.a(s_DataTblCross, s_True);\n    JQ_addClass(ContentAssistor_btns_tableCross, s_Selected);\n\n    if (table !== gUndefined && table != null)\n        table.p().p().n(\".\" + s_CssContentExpander).ch(\".v-btn\").tr(s_Click);\n}\n\n// 关闭表格阅读模式（十字光标）\nfunction TableCross_disable(table) {\n    // TableCross_enabled = gFalse;\n    table.a(s_DataTblCross, s_False);\n    JQ_removeClass(ContentAssistor_btns_tableCross, s_Selected);\n    TableCross_hide();\n}\n\n/**\n * 绑定单元格，鼠标点击单元格时显示阅读模式（十字光标）\n * @param table 单元格所属表格对象\n * @param cell 单元格对象\n */\nfunction TableCross_bind(table, cell) {\n    cell.uC().ck(function (event) {\n        if (table.a(s_DataTblCross) !== s_True || Copyer_processing)\n            return;\n\n        // vvv 不同表格之间点击，先强制移除动画 vvv\n        if (TableCross_lastTable !== table)\n            V_ui_removeAnimate(TableCross_ui);\n\n        // 同一单元格不重复处理\n        if (TableCross_lastCell === cell)\n            return;\n\n        let container = table.p().p();\n        // 跳过被折叠表格\n        if (container.a(s_DataContentFolded).sW(\"t\"))\n            return;\n\n        // 若点击同时也触发了「代码 / 标签 / 徽章」的复制\n        if (!Copyer_processing)\n            event.stopPropagation(); // 停止事件冒泡，避免与其他事件的处理冲突（如：document.click）\n\n        TableCross_hide();\n        JQ_addClass(cell, s_CssTableCrossCell);\n\n        TableCross_lastCell = cell;\n        TableCross_lastTable = table;\n\n        let tblWidth = JS_parseInt(table.c(s_Width)),\n            tblHeight = JS_parseInt(table.c(s_Height));\n\n        let cellWidth = JS_parseInt(cell.c(s_Width)),\n            cellHeight = JS_parseInt(cell.c(s_Height)),\n            cornerLeftX = table.oL(),\n            cornerUpY = table.oT(),\n            cornerLeftWidth = cell.oL() - table.oL(),\n            cornerUpHeight = cell.oT() - table.oT(),\n            cornerRightX = cell.oL()  + cellWidth,\n            cornerDownY = cell.oT() + cellHeight,\n            cornerRightWidth = tblWidth - cornerLeftWidth - cellWidth,\n            cornerDownHeight = tblHeight - cornerUpHeight - cellHeight;\n\n        // 1. 左上角\n        let leftUp = $(s_CssTableCross + \".left-up\");\n        leftUp.c(s_Left, cornerLeftX)\n            .c(s_Top, cornerUpY)\n            .c(s_Width, cornerLeftWidth)\n            .c(s_Height, cornerUpHeight)\n            .c(s_Zindex, 9);\n\n        // 2. 右上角\n        let rightUp = $(s_CssTableCross + \".right-up\");\n        rightUp.c(s_Left, cornerRightX)\n            .c(s_Top, cornerUpY)\n            .c(s_Width, cornerRightWidth)\n            .c(s_Height,  cornerUpHeight)\n            .c(s_Zindex, 9);\n\n        // 3. 左下角\n        let leftDown = $(s_CssTableCross + \".left-down\");\n        leftDown.c(s_Left, cornerLeftX)\n            .c(s_Top, cornerDownY)\n            .c(s_Width, cornerLeftWidth)\n            .c(s_Height, cornerDownHeight)\n            .c(s_Zindex, 9);\n\n        // 4. 右下角\n        let rightDown = $(s_CssTableCross + \".right-down\");\n        rightDown.c(s_Left, cornerRightX)\n            .c(s_Top, cornerDownY)\n            .c(s_Width, cornerRightWidth)\n            .c(s_Height, cornerDownHeight)\n            .c(s_Zindex, 9);\n\n        // 须延时后再执行显示，让以上代码先完成\n        setTimeout(function () {\n            // 针对不同表格之间点击强制移除动画后的恢复\n            V_ui_addAnimate(TableCross_ui);\n            V_ui_show(leftUp);\n            V_ui_show(rightUp);\n            V_ui_show(leftDown);\n            V_ui_show(rightDown);\n        }, 50);\n    });\n}\n\n/**\n * 隐藏表格阅读模式（十字光标）\n */\nfunction TableCross_hide() {\n    if (TableCross_lastCell === gUndefined)\n        return;\n\n    V_ui_hide(TableCross_ui);\n\n    JQ_removeClass(TableCross_lastCell, s_CssTableCrossCell);\n    TableCross_lastTable = gUndefined;\n}\n\n/**\n * 判断当前内容块是否与已显示了阅读模式（十字光标）的表格重叠\n * @param target 内容块对象\n*/\nfunction TableCross_checkFallWith(target) {\n    return (TableCross_lastTable !== gUndefined\n        && target.ch().a(s_Id) === TableCross_lastTable.a(s_Id));\n}\n\n// ==================== 表格自动换行类 ==================== //\n\n/**\n * 切换表格自动换行开关\n */\nfunction TableWrap_toggle(table) {\n    // 已打开，则关闭\n    if (table.c(s_WhiteSpace) === s_PreWrap)\n        TableWrap_disable(table);\n    // 未打开，则打开\n    else\n        TableWrap_enable(table);\n}\n\n// 打开表格自动换行\nfunction TableWrap_enable(table) {\n    JQ_addClass(ContentAssistor_btns_tableWrap, s_Selected);\n    JQ_removeClass(table, \"v-table-unwrap\");\n    JQ_addClass(table, \"v-table-wrap\");\n    // table.c(s_CssText, s_WhiteSpace + \":\" + s_PreWrap + s_Important);\n}\n\n// 关闭表格自动换行\nfunction TableWrap_disable(table) {\n    JQ_removeClass(ContentAssistor_btns_tableWrap, s_Selected);\n    JQ_removeClass(table, \"v-table-wrap\");\n    JQ_addClass(table, \"v-table-unwrap\");\n    // table.c(s_CssText, s_WhiteSpace + \":pre\" + s_Important);\n}\n\n// ==================== 表格列格式化类 ==================== //\n\nlet ColumnFormatting_syntax_checkbox_header = /\\[ ?] /; // 复选框列头格式语法\nlet ColumnFormatting_syntax_checkbox = /(^((\\[[x-]])|[Yy?？])(\\s.+)*)/; // 复选框列内单元格格式语法\n\n/**\n * 初始化\n * @param table 表格对象\n * @param cell 单元格对象\n * @param text 单元格文本内容\n */\nfunction ColumnFormatting_init(table, cell, text) {\n    if (table.a(s_DataColumnFmting) !== s_True\n        && (cell.f(\"strong, em, u, mark, del\").length > 0 // 普通列格式\n        || cell.c(s_TextAlign) === s_Right // 右对齐表示使用数值格式\n        || ColumnFormatting_syntax_checkbox_header.test(text))) { // 复选框列格式\n            // 将表格标识为带列格式语法\n            table.a(s_DataColumnFmting, s_True);\n            return gTrue; // 匹配到列格式\n    }\n    return gFalse; // 未匹配到列格式\n}\n\n/**\n * 返回表格内所有非合并的同列单元格对象集合\n * @param table 表格格对象\n * @param th 列头单元格对象\n * @param cells 集合变量\n */\nfunction ColumnFormatting_getCells(table, th, cells) {\n    if (cells === gUndefined)\n        cells = table.f(\"[\" + s_DataColspan + \"!='true'][\" + s_DataTblCol + \"='\" + th.a(s_DataTblCol) + \"']\");\n    return cells;\n}\n\n/**\n * 返回表格 tbody 内的同列单元格对象集合\n * @param table 表格格对象\n * @param th 列头单元格对象\n * @param tbodyCells 集合变量，为 gUndefined 则重新生成\n */\nfunction ColumnFormatting_getTbodyCells(table, th, tbodyCells) {\n    if (tbodyCells === gUndefined)\n        tbodyCells = table.f(\"td[\" + s_DataTblCol + \"='\" + th.a(s_DataTblCol) + \"']\");\n    return tbodyCells;\n}\n\n/**\n * 列格式化\n * @param table 表格对象\n */\nfunction ColumnFormatting_format(table) {\n    table.f(\"thead th\").e(function () {\n        let th = $(this),\n            cells = gUndefined,\n            tbodyCells = gUndefined,\n            cellsCSS = \"\";\n\n        // 粗体\n        if (th.f(\"strong:first-child\").length > 0) {\n            cells = ColumnFormatting_getCells(table, th, cells);\n            cellsCSS += s_CssTableColumnFormat_Bold + \" \";\n        }\n\n        // 斜体\n        if (th.f(\"em:first-child\").length > 0) {\n            cells = ColumnFormatting_getCells(table, th, cells);\n            cellsCSS += s_CssTableColumnFormat_Em + \" \";\n        }\n\n        // 高亮\n        let thHTML = th.hm();\n        if (thHTML.sW(\"<mar\") && thHTML.eW(\"rk>\") // <mark>...</mark>\n            || th.a(s_Class) !== gUndefined\n            && th.a(s_Class).i(s_CssTableColumnFormat_Mark) > -1) {\n                $(\"[\" + s_DataTblCol + \"='\" + th.a(s_DataTblCol) + \"']\").f(\"mark\").ch().unwrap();\n                cells = ColumnFormatting_getCells(table, th, cells);\n                cellsCSS += s_CssTableColumnFormat_Mark + \" \";\n        }\n\n        // 批量添加以上列的常规样式\n        if (cells !== gUndefined && cellsCSS.length > 0)\n            JQ_addClass(cells, cellsCSS);\n\n        // 下划线\n        if (th.f(\"u:first-child\").length > 0) {\n            JQ_addClass(th, s_CssTableColumnFormat_U);\n            tbodyCells = ColumnFormatting_getTbodyCells(table, th, tbodyCells);\n            tbodyCells.contents().wrap(\"<u></u>\");\n        }\n\n        // 删除线\n        if (th.f(\"del:first-child\").length > 0) {\n            JQ_addClass(th, s_CssTableColumnFormat_Del);\n            tbodyCells = ColumnFormatting_getTbodyCells(table, th, tbodyCells);\n            tbodyCells.contents().wrap(\"<del></del>\");\n        }\n\n        // 复选框\n        if (ColumnFormatting_syntax_checkbox_header.test(th.t())) {\n            cells = ColumnFormatting_getCells(table, th, cells);\n            JQ_addClass(cells, s_CssTableColumnFormat_Checkbox);\n\n            // 删除列头的复选框语法\n            ColumnFormatting_removeCheckboxSyntax(th, ColumnFormatting_syntax_checkbox_header);\n\n            tbodyCells = ColumnFormatting_getTbodyCells(table, th, tbodyCells);\n\n            tbodyCells.e(function () {\n                let ce = $(this),\n                    typeFlag = ce.t().m(ColumnFormatting_syntax_checkbox),\n                    chkStatus = \"no\",\n                    chkStyle = s_Dark;\n\n                typeFlag = (typeFlag != null) ? typeFlag[2] : \"\";\n\n                // 跳过横向合并的单元格\n                if (ce.a(s_Colspan) !== gUndefined)\n                    return gTrue;\n\n                // 移除单元格的复选框语法内容\n                ColumnFormatting_removeCheckboxSyntax(ce, typeFlag);\n\n                // 指定为 yes - 已选择\n                if (typeFlag === \"[x]\" || typeFlag === \"Y\") {\n                    chkStatus = s_Yes;\n                    chkStyle = s_Theme;\n                }\n                // 指定为 un - 不确定选择\n                else if (typeFlag === \"[-]\" || typeFlag === \"?\" || typeFlag === \"？\")\n                    chkStatus = s_Un;\n                // 无指定\n                else\n                    ce.rHTML(\"&nbsp;\", \"\");\n\n                // 添加复选框样式\n                ce.pp('<svg width=\"14px\" height=\"14px\" class=\"v-svg-small-ico\" data-chk=\"' + chkStatus + '\"><use xlink:href=\"#icoChkbox_'\n                    + chkStatus + '\" class=\"v-svg-ico-' + chkStyle + '\"/></svg>');\n            });\n        }\n\n        // 数值格式\n        if (th.c(s_TextAlign).sW(\"r\")) {\n            tbodyCells = ColumnFormatting_getTbodyCells(table, th, tbodyCells);\n            // 设置为等宽字体\n            JQ_addClass(tbodyCells, \"v-tbl-col-fmt-num\");\n            // 数值格式化处理\n            tbodyCells.e(function () {\n                let ce = $(this),\n                    text = ce.t();\n                // 内容为数值\n                if (text.isNumber()) {\n                    // 添加千位符\n                    ce.hm(V_formatting_decimal( // 添加千位符\n                        V_formatting_thousands(ce.hm()))); // 对小数进行格式化处理\n                    // 根据正负号进行着色处理\n                    ColumnFormatting_coloringNumber(ce, text, gTrue);\n                }\n                // 内容为百分数\n                else if (text.isPercent()) {\n                    // 对小数进行处理\n                    ce.hm(V_formatting_percent( // 对小数进行处理\n                        V_formatting_decimal(ce.hm()))); // 对百分数进行格式化处理\n                    // 根据正负号进行着色处理\n                    let coloring = ColumnFormatting_coloringNumber(ce, text, gTrue),\n                        percent = text.r(/(-|\\+|\\s)/g, \"\"),\n                        percentValue = JS_mathRound(percent.r(\"%\", \"\")),\n                        bg1 = \"rgba(128, 128, 128, 0.1)\",\n                        bg2 = \"rgba(128, 128, 128, 0.4)\",\n                        bgSplit = \"rgba(128, 128, 128, 0.8)\";\n                    // 对有首色的进行渐变颜色调整\n                    if (coloring) {\n                        let baseBg = ce.c(s_Color).r(\"rgb\", \"rgba\");\n                        bg1 = baseBg.r(\")\", \", 0.05)\");\n                        bg2 = baseBg.r(\")\", \", 0.2)\");\n                        bgSplit = baseBg.r(\")\", \", 0.7)\");\n                    }\n                    // 根据百分比生成渐变背景色、最小宽度\n                    ce.c(s_Background, \"linear-gradient(90deg, \" + bg1 + \" 0%, \" + bg2 + \" \" + (percentValue > 1 ? percentValue - 1 : 0)\n                        + \"%, \" + bgSplit + \" \" + percent\n                        + \", transparent \" + percent + \")\")\n                            .c(s_MinWidth, \"100px\");\n                    // 对 +/- 符号进行处理\n                    ce.hm(ce.hm().r(\">+\", \">▴ \").r(\">-\", \">▾ \"));\n                }\n                // 内容为货币\n                else if (text.isCurrency()) {\n                    // 对货币符号进行格式货\n                    ce.hm(V_formatting_decimal( // 对货币符号进行格式货\n                        V_formatting_thousands( // 添加千位符\n                            V_formatting_currency(ce.hm())))); // 对小数进行格式化处理\n                    // 根据正负号进行着色处理\n                    ColumnFormatting_coloringNumber(ce, text, gFalse);\n                }\n            });\n        } // 数值格式\n\n        // 标识单元格是否为横向合并，横向合并的单元不应用列格式\n        if (th.a(s_Colspan) !== gUndefined)\n            th.a(s_DataColspan, s_True);\n        else\n            th.a(s_DataColspan, s_False);\n    });\n}\n\n/**\n * 根据数值的正、负号进行着色处理\n * @param target 着色的对象\n * @param text 依据的数值文本\n * @param mode 正负号位置模式，true：在开头，false: 在任意位置\n * @returns boolean 着色结果，true：有着色，false：没有着色\n */\nfunction ColumnFormatting_coloringNumber(target, text, mode) {\n    // 正、负号在文本的开头\n    if (mode) {\n        if (text.sW(\"-\")) {\n            JQ_addClass(target, s_CssTableColumnFormat_NumNeg);\n            return gTrue;\n        }\n        else if (text.sW(\"+\")) {\n            JQ_addClass(target, s_CssTableColumnFormat_NumPos);\n            return gTrue;\n        }\n    }\n    // 正、负号在文本的任意位置\n    else {\n        if (text.i(\"-\") > -1) {\n            JQ_addClass(target, s_CssTableColumnFormat_NumNeg);\n            return gTrue;\n        }\n        else if (text.i(\"+\") > -1) {\n            JQ_addClass(target, s_CssTableColumnFormat_NumPos);\n            return gTrue;\n        }\n    }\n    return gFalse;\n}\n\n/**\n * 移除复选框的语法内容\n * @param target 目标单元格对象\n * @param syntaxText 要移除的语法内容\n */\nfunction ColumnFormatting_removeCheckboxSyntax(target, syntaxText) {\n    target.rHTML(syntaxText, \"\");\n}\n\n// ==================== 表格行分组/折叠类 ==================== //\n\nlet RowGroup_folderCount = 0, // 折叠行内行分组类型的数量\n    RowGroup_syntax_tag = /^>+(\\s)./, // 用于匹配行折叠语法\n    RowGroup_syntax_tag2Replace = /(&gt;)+(\\s)/, // 用于匹配将行折叠语法替换为指定字符\n    RowGroup_spliter = \"> \", // 行折叠语法与内容的分隔标识\n    RowGroup_parentStack = [], // 上级行的堆栈\n    RowGroup_colorStack = [], // 不同分组的背景颜色堆栈\n    // 表格折叠行图标：已收起\n    RowGroup_icoClosed = '<svg width=\"16px\" height=\"16px\" class=\"v-svg-small-ico\"><use xlink:href=\"#icoFolded\" class=\"v-rowgroup-folder-ico\"/></svg>',\n    // 表格折叠行图标：已展开\n    RowGroup_icoOpened = '<svg width=\"16px\" height=\"16px\" class=\"v-svg-small-ico\"><use xlink:href=\"#icoUnfold\" class=\"v-rowgroup-folder-ico\"/></svg>';\n\n/**\n * 初始化\n * @param table 表格对象\n */\nfunction RowGroup_init(table) {\n    // 若不是在新标签打开的，将第 1 列的设置缩进样式\n    JQ_addClass(table.f(\"[\" + s_DataTblCol + \"$='-0']\"), s_CssTableRowGroupNotFolder);\n\n    let lastLevel = 0, // 上一个缩进等级\n        currentLevel = 0; // 当前缩进等级\n        // bgColor = new RandomColor();\n\n    // 遍历所有行的第 1 个单元格\n    table.f(\"td:first-child\").e(function () {\n        let td = $(this),\n            tr = td.p(),\n            text = td.t();\n\n        // 判断每行的首列，是否有行折叠标识\n        // 没有则进入下一个循环\n        if (!RowGroup_syntax_tag.test(text)) {\n            lastLevel = 0;\n            RowGroup_parentStack.length = 0;\n            RowGroup_colorStack.length = 0;\n            return gTrue;\n        }\n\n        // 从语法中获得当前缩进等级\n        currentLevel = text.i(RowGroup_spliter) + 1;\n        // ERROR(td.t(), currentLevel);\n        // 当前等级比上一次等级要深\n        if (currentLevel > lastLevel) {\n            let beforeChanged = lastLevel;\n            lastLevel = currentLevel;\n            // 设置为新的行分组\n            RowGroup_newFolder(tr, currentLevel, beforeChanged === 0,\n                RandomColor_format(RandomColor_dissimilarRgb(), s_varTblRowAlpha));\n            // 设置为行缩进行\n            RowGroup_ident(tr, td, currentLevel);\n        }\n        // 当前等级比上一次等级要浅\n        else {\n            // 获得等级差进行\n            let count = lastLevel - currentLevel;\n            // 获得当前行对应的上级行\n            if (count > 0) {\n                for (let i = 0; i < count; i++) {\n                    RowGroup_parentStack.pop();\n                    RowGroup_colorStack.pop();\n                }\n            }\n            lastLevel = currentLevel;\n            // 设置为行缩进行\n            RowGroup_ident(tr, td, currentLevel);\n        }\n    });\n}\n\n/**\n * 获得最近一个分组行分组对象\n */\nfunction RowGroup_lastParent() {\n    return RowGroup_parentStack[RowGroup_parentStack.length - 1];\n}\n\n/**\n * 获得最近一个分组颜色对象\n */\nfunction RowGroup_lastColor() {\n    return RowGroup_colorStack[RowGroup_colorStack.length - 1];\n}\n\n/**\n * 设置为新的行分组\n * @param tr 对应的行对象\n * @param level 缩进层级\n * @param reset 是否重置回第一级\n * @param color 该分组背景色\n */\nfunction RowGroup_newFolder(tr, level, reset, color) {\n    let folderRow = tr.pr();\n    RowGroup_folderCount++;\n\n    // 将当前行分组的 id 入栈\n    RowGroup_parentStack.push(RowGroup_folderCount);\n    // 将当前行分组的随机背景颜色入栈\n    RowGroup_colorStack.push(color);\n\n    // 设置折叠行分组的属性\n    folderRow.a(s_DataFolderId, RowGroup_folderCount);\n    folderRow.a(s_DataFolder, s_True);\n    folderRow.a(s_DataRowFolded, s_True);\n\n    // 获得折叠行分组首个单元格\n    let td = folderRow.ch(\"td:first\"),\n        tdHadIdent = td.f(\".\" + s_CssTableRowGroupIdenter + \":last\");\n\n    // 设置折叠控件样式\n    if (tdHadIdent.length > 0)\n        tdHadIdent.af(s_SpanSpace + \"class='v-tbl-row-g-btn'>\" + RowGroup_icoClosed + s_SpanClose);\n    else\n        td.pp(\"<label class='v-tbl-row-g-btn'>\" + RowGroup_icoClosed + \"</label>\");\n\n    // 调整折叠行的缩进样式\n    JQ_removeClass(td, s_CssTableRowGroupNotFolder);\n    JQ_addClass(td, \"v-tbl-row-g-folder\");\n    JQ_addClass(tdHadIdent, \"v-tbl-row-g-identer-folder\");\n\n    // 添加代表目录的括号及样式\n    // 重新组合生成新的单元格内容，以支持原始带格式的单元格内容\n    let preClass = \".\" + s_CssTableRowGroupIdenter + \", \" + s_CssTableRowGroupBtn,\n        preObjs = td.f(preClass),\n        cloneTd = td.clone();\n    JQ_remove(cloneTd.ch(preClass));\n    // td.hm(__echoOuterHTML(preObjs) + \" <span class='folder-marker'>[</span> <strong>\" + cloneTd.hm() + \" </strong><span class='folder-marker'>]</span>\");\n    td.hm(__echoOuterHTML(preObjs) + \" <strong>\" + cloneTd.hm() + \" </strong>\");\n\n    // 设置展开、收起事件\n    td.ch(s_CssTableRowGroupBtn).ck(function (event) {\n        RowGroup_toggle(folderRow, event);\n    });\n\n    /**\n     * 遍历获得指定对象集合的所有 outerHTML 内容\n     * @param objectSet 对象集合\n     * @returns String\n     */\n    function __echoOuterHTML(objectSet) {\n        let outerHTML = \"\";\n        objectSet.e(function () {\n            outerHTML += $(this).prop(\"outerHTML\");\n        });\n        return outerHTML;\n    }\n}\n\n/**\n * 展开、收起表格行分组下的表格行\n * @param folderRow 折叠按钮所在的表格行对象\n * @param event 事件对象\n */\nfunction RowGroup_toggle(folderRow, event) {\n    // 取消事件冒泡，用于避免显示表格的阅读模式（十字光标）\n    event.stopPropagation();\n\n    // 处理行分组的打开、关闭\n    if (folderRow.a(s_DataRowFolded).sW(\"t\"))\n        RowGroup_open(folderRow);\n    else\n        RowGroup_close(folderRow);\n\n    // 隐藏表格的阅读模式（十字光标）\n    TableCross_hide();\n}\n\n/**\n * 展开所有表格行分组\n * @param table 指定的表格对象\n * @param mode 指定打开模式。auto：系统自动打开\n * @returns boolean 处理结果。true: 已展开，false: 不符合展开条件\n */\nfunction RowGroup_openAll(table, mode) {\n    if (table.a(s_DataRowGroup) !== s_True)\n        return gFalse;\n\n    table.f(s_CssTableRowGroupBtn).e(function () {\n        let folderRow = $(this).p().p();\n        if (folderRow.a(s_DataRowFolded) === s_True)\n            RowGroup_open(folderRow, mode);\n    });\n    return gTrue;\n}\n\n/**\n * 收起全部表格行分级\n * @param table 指定的表格对象\n * @param mode 指定处理范围。auto：关闭被自动打开的，不指定时默认全部关闭\n * @returns boolean 处理结果。true: 已展开，false: 不符合展开条件\n */\nfunction RowGroup_closeAll(table, mode) {\n    if (table.a(s_DataRowGroup) !== s_True)\n        return gFalse;\n\n    // 只对第一级的行分组进行处理，非第一级的行分级为 span.v-tbl-row-g-btn\n    table.f(\"label\" + s_CssTableRowGroupBtn).e(function () {\n        let folderRow = $(this).p().p();\n        LOG(mode, folderRow.a(s_DataRowOpenMode), folderRow.a(s_DataRowFolded));\n        if (mode === s_Auto) {\n            if (folderRow.a(s_DataRowOpenMode) === s_Auto && folderRow.a(s_DataRowFolded) === s_False)\n                RowGroup_close(folderRow);\n        }\n        else {\n            if (folderRow.a(s_DataRowFolded) !== s_True)\n                RowGroup_close(folderRow);\n        }\n    });\n    return gTrue;\n}\n\n/**\n * 重置清空表格中的行分组相关信息\n * @param target 目标表格\n */\nfunction RowGroup_reset(target) {\n    target.removeAttr(s_DataRowGroup);\n    target.f(\"tr[\" + s_DataParentFolderId + \"]\").removeAttr(s_DataParentFolderId);\n}\n\n/**\n * 设置为缩进行\n * @param tr 对应的行对象\n * @param td 对应的行的首个单元格\n * @param level 缩进层级\n */\nfunction RowGroup_ident(tr, td, level) {\n    // 统一缩进节点符号转换，尾行在完成的有处理后再进行修正\n    td.rHTML(RowGroup_syntax_tag2Replace, \"\");\n\n    // 设置被折叠行的属性\n    tr.a(s_DataParentFolderId, RowGroup_lastParent());\n    // 设置缩进样式\n    td.a(s_DataIdentLevel, level);\n    // 调整样式\n    JQ_removeClass(td, s_CssTableRowGroupNotFolder);\n    JQ_addClass(td, s_CssTableRowGroupSub);\n    // 设置被折叠行的背景色\n    tr.c(s_BackgroundColor, RowGroup_lastColor());\n\n    // 生成缩进占位元素\n    for (let i = 0; i < level; i++) {\n        let identer = td.f(\".\" + s_CssTableRowGroupIdenter + \":last\"),\n            identObj = \"<label class='\" + s_CssTableRowGroupIdenter + \"'></label>\";\n        if (identer.length > 0)\n            identer.af(identObj);\n        else\n            td.pp(identObj);\n    }\n\n    // 隐藏被折叠的行\n    tr.c(s_Display, s_Table + \"-column\");\n}\n\n/**\n * 展开表格行分组\n * @param folderRow 行分组对象\n * @param mode 指定打开模式。auto：系统自动打开\n */\nfunction RowGroup_open(folderRow, mode) {\n    // 处理展开行分组\n    let id = folderRow.a(s_DataFolderId),\n        table = folderRow.p().p(),\n        subRows = table.f(\"tr[\" + s_DataParentFolderId + \"='\" + id + \"']\"),\n        folderButton = folderRow.ch(\"td:first\").ch(s_CssTableRowGroupBtn + \":last\");\n\n    folderRow.a(s_DataRowFolded, s_False);\n    if (mode !== gUndefined)\n        folderRow.a(s_DataRowOpenMode, mode);\n    folderButton.prop(\"innerHTML\", RowGroup_icoOpened);\n    subRows.c(s_Display, \"\");\n\n    // 如表格指定了重复表头则进行对应处理\n    let thRow = table.f(\"thead>tr:last-child\");\n    if (table.a(s_DataThRpt) === \"group\") {\n        // 从第 2 列开始进行处理\n        folderRow.f(\"td:not(:first-child)\").e(function () {\n            let td = $(this),\n                tdHTML = td.hm().x();\n            if (tdHTML.length === 0 || tdHTML === \"&nbsp;\") {\n                let colID = td.a(s_DataTblCol),\n                    th = thRow.f(\"th[\" + s_DataTblCol + \"='\" + colID + \"']\").hm();\n                // 如果对应的列头可能因向下合并单元格为空时，尝试找上一行对应的列头\n                if (th === gUndefined) {\n                    let prevThRow = thRow.pr();\n                    if (prevThRow !== gUndefined)\n                        th = prevThRow.f(\"th[\" + s_DataTblCol + \"='\" + colID + \"']\").hm();\n                }\n                // 临时将行分组中的单元格替换为对应的列头\n                td.hm(th);\n                JQ_addClass(td, s_CssThRepeater);\n            }\n        });\n    }\n}\n\n/**\n * 折叠表格行分组\n * @param folderRow 行分组对象\n */\nfunction RowGroup_close(folderRow) {\n    // 处理折叠行分组\n    let id = folderRow.a(s_DataFolderId),\n        subRows = $(\"tr[\" + s_DataParentFolderId + \"='\" + id + \"']\"),\n        folderButton = folderRow.ch(\"td:first\").ch(s_CssTableRowGroupBtn + \":last\");\n\n    folderRow.a(s_DataRowFolded, s_True);\n    folderRow.removeAttr(s_DataRowOpenMode);\n    folderButton.prop(\"innerHTML\", RowGroup_icoClosed);\n\n    // 折叠所有子行（包括行分组）\n    subRows.e(function () {\n        let tr = $(this),\n            folder = tr.a(s_DataFolder);\n        if (folder !== gUndefined && folder.sW(\"t\"))\n            RowGroup_close(tr);\n        tr.c(s_Display, s_Table + \"-column\");\n    });\n\n    // 如表格指定了重复表头则进行对应处理\n    let table = folderRow.p().p();\n    if (table.a(s_DataThRpt) === \"group\") {\n        // 从第 2 列开始进行处理\n        folderRow.f(\"td:not(:first-child)\").e(function () {\n            let td = $(this);\n            // 将行分组中临时替换的列头删除\n            if (td.a(s_Class).i(s_CssThRepeater) > -1) {\n                td.hm(\"\");\n                JQ_removeClass(td, s_CssThRepeater);\n            }\n        });\n    }\n}\n\n/**\n * 根据设备类型自适应hover样式\n */\nfunction RowGroup_adjustHoverStyle() {\n    if (env.device.mobile) // 移动设备时解绑样式事件\n        $(s_CssTableRowGroupBtn).uH();\n    else // 为表格行分组的折叠控件绑定 hover 事件\n        V_ui_bindHover($(s_CssTableRowGroupBtn));\n}\n\n// ==================== 表格列头重复生成器 ==================== //\n\nlet ThRepeater_syntax_tag = /^(##\\s).+/; // 用于匹配表格列头重复的语法\n\n/**\n * 初始化重复表头处理\n */\nfunction ThRepeater_init(table) {\n    let hasRowGroup = table.a(s_DataRowGroup) === s_True;\n\n    // 带行分组时，表头重复模式为 group，其他则为 page\n    table.a(s_DataThRpt, hasRowGroup ? \"group\" : \"page\");\n    if (hasRowGroup)\n        return;\n\n    // 处理 page 模式的表头重复\n    let rowIndex = 1,\n        pageSize = 15 + rowIndex,\n        thRow = table.f(\"thead>tr\"),\n        skipRowCount = 0,\n        lastSkipRowCount = 0,\n        tbody = table.f(\"tbody>tr\"),\n        rowCount = tbody.length;\n\n    tbody.e(function () {\n        let tr = $(this),\n            td = tr.ch(\"td[rowspan]\");\n\n        // 跳过有跨行合并的行\n        if (td.length > 0) {\n            td.e(function () {\n                let rowSpan = JS_parseInt($(this).a(s_Rowspan));\n                if (rowSpan > skipRowCount) {\n                    skipRowCount = rowSpan - 1;\n                }\n                lastSkipRowCount = skipRowCount - 1;\n            });\n        }\n\n        // 每 15 行为 1 页\n        if (skipRowCount === 0 && rowIndex % (pageSize + lastSkipRowCount - 1) === 0\n            && rowIndex < rowCount) {\n                let colIndex = 0;\n                thRow.e(function () {\n                    tr.af($(this).prop(\"outerHTML\").rA(\"<th \", \"<td \"));\n                    JQ_addClass(tr.n().ch(\"td\"), s_CssThRepeater);\n                    if (colIndex === 0)\n                        JQ_addClass(tr.n().ch(\".\" + s_CssThRepeater), \"first\");\n                    else\n                        JQ_addClass(tr.n().ch(\".\" + s_CssThRepeater), \"not-first\");\n                    tr = tr.n();\n                    // 取消表格行号\n                    JQ_addClass(tr, \"v-tr-repeater\");\n\n                    colIndex++;\n                });\n        }\n        rowIndex++;\n\n        // 未完成须跳过的行\n        if (skipRowCount > 0)\n            skipRowCount--;\n        // 已完成须跳过的行\n        else\n            lastSkipRowCount = 0;\n    });\n}\n\n// ==================== 音频增强类 ==================== //\n\nlet ExtAudio_icon_loading = V_ui_genSvgIcon(\"icoLoading\", 16, 16, s_Light),\n    ExtAudio_icon_play = V_ui_genSvgIcon(\"icoPlay\", 16, 16, s_Light),\n    ExtAudio_icon_pause = V_ui_genSvgIcon(\"icoPause\", 16, 16, s_Light),\n    ExtAudio_icon_stop = V_ui_genSvgIcon(\"icoStop\", 16, 16, s_Light),\n    ExtAudio_icon_forbidden = V_ui_genSvgIcon(\"icoForbidden\", 16, 16, s_Light);\n\n/**\n * 初始化音频数据\n */\nfunction ExtAudio_init() {\n    // 支持指定类型的音频，以及支持带参数的 URL\n    $(\"#write img[src$='.mp3'], #write [src$='.m4a'], #write [src$='.ogg'], #write [src$='.wav'],\"\n    + \"[src*='.mp3?'], #write [src*='.m4a?'], #write [src*='.ogg?'], #write [src*='.wav?']\").e(function () {\n        let audioLike = $(this),\n            audio = gUndefined,\n            src = audioLike.a(s_Src),\n            container = audioLike.p(),\n            params = V_util_getUrlQueryParams(src);\n\n        // 指定为 mini 模式（扩展的自定义控件）\n        if (params[s_Controls] === s_Mini) {\n            V_doc_counter_audiomini++;\n\n            // 将 URL 为音频资源的 img 标签转换为 audio\n            audio = __transToAudio(audioLike, src);\n            // 设置 audio id 用于自定义 mini 控件\n            audio.a(s_Id, \"vk-id-mini-audio\" + V_doc_counter_audiomini);\n\n            // 添加音频播放 mini 控件\n            audio.af(\"<div id='vk-id-mini-audio\" + V_doc_counter_audiomini + \"-control\"\n                + \"' \" + s_DataTitle + \"='mini audio \" + V_doc_counter_audiomini\n                + \"' class='v-audio-mini-control'>\" + s_DivClose);\n\n            // 开始加载音频\n            audio.bind(\"loadstart\", function () {\n                let controls = $(\"#\" + $(this).a(s_Id) + \"-control\");\n                JQ_addClass(controls, s_CssAudioMiniControl);\n                JQ_addClass(controls, s_Loading);\n                controls.hm(ExtAudio_icon_loading);\n            });\n\n            // 音频就绪可以开始播放\n            audio.bind(\"canplay\", function () {\n                let controls = $(\"#\" + $(this).a(s_Id) + \"-control\");\n                JQ_removeClass(controls, s_Loading);\n\n                // 绑定点击事件\n                controls.uC().ck(function () {\n                    __play(this, audio[0]);\n                });\n                controls.hm(ExtAudio_icon_play);\n                controls.a(s_DataPause, params[\"pause\"]);\n\n                // 须显示持续时长\n                let dur = params[\"duration\"];\n                if (dur !== gUndefined && dur.sW(\"t\")) {\n                    let dur2 = audio.a(s_DataDuration);\n                    if (dur2 === gUndefined || !dur2.sW(\"t\")) {\n                        // 计算音频时长\n                        let duration = audio[0].duration,\n                            min = Math.floor(duration / 60),\n                            sec = Math.floor(duration -  min * 60);\n                        let minStr = min > 0 ? min + \"′\" : \"\";\n                        audio.n().af(\" <sup class='v-duration-info'>\" + minStr + sec + \"″</sup>\");\n                        audio.a(s_DataDuration, s_True);\n                    }\n                }\n            });\n\n            // 正在播放\n            audio.bind(s_Playing, function () {\n                let controls = $(\"#\" + $(this).a(s_Id) + \"-control\"),\n                    pause = controls.a(s_DataPause);\n\n                JQ_addClass(controls, s_CssAudioMiniControl)\n                JQ_addClass(controls, s_Playing);\n\n                // 支持暂停播放\n                if (pause !== gUndefined && pause.sW(\"t\")) {\n                    controls.hm(ExtAudio_icon_pause);\n                }\n                // 不支持暂停播放，暂时即结束\n                else {\n                    controls.hm(ExtAudio_icon_stop);\n                    audio.currentTime = 0; // 播放都是从头开始\n                }\n            });\n\n            // 播放结束后恢复按钮状态\n            audio.bind(\"ended\", function () {\n                let controls = $(\"#\" + $(this).a(s_Id) + \"-control\");\n                controls.hm(ExtAudio_icon_play);\n                JQ_removeClass(controls, s_Playing);\n            });\n\n            // 故障或不可用\n            audio.bind(s_Emptied, function () {\n                let id = $(this).a(s_Id) + \"-control\",\n                    controls = $(\"#\" + id);\n                JQ_removeClass(controls, s_Loading);\n                controls.hm(ExtAudio_icon_forbidden);\n                JQ_addClass(controls, s_CssAudioMiniControl);\n                JQ_addClass(controls, s_Disabled);\n                // 将无法加载的音频信息添加到链接检查器\n                __addToLinkChecker(id, controls.a(s_DataTitle));\n            });\n\n            // 加载错误\n            audio.bind(s_Error, function () {\n                audio.tr(s_Emptied);\n            });\n\n            // 鼠标 hover 事件\n            audio.hover(function () {\n                let _t =  $(this);\n                if (_t.a(s_Class).i(s_Disabled) === -1)\n                    JQ_addClass(_t, s_Hover);\n            }, function () {\n                JQ_removeClass($(this), s_Hover);\n            });\n        }\n        // 标准控件模式\n        else {\n            V_doc_counter_audio++;\n\n            // 确保 video 有独立的父容器，一般情况下 Typora 导出的为 <p>\n            if (V_util_getTagName(container) !== \"p\") {\n                audioLike.wrap(\"<p></p>\");\n                container = audioLike.p();\n            }\n            // 设置容器样式数据，用于折叠内容时使用\n            container.a(s_DataContainer, \"audio\");\n            JQ_addClass(container, s_CssCaptionContainer);\n\n            // 先根据题注语法生成题注\n            CaptionGenerator_actionForMediaContent(audioLike, s_Audio);\n\n            // 将 URL 为音频资源的 img 标签转换为 audio\n            audio = __transToAudio(audioLike, src);\n            // 设置 audio 为标准控件\n            audio.a(s_Controls, s_Controls);\n\n            // 若有第 2 题注，则微调样式\n            if (audio.n(s_Caption2).length > 0)\n                audio.c(s_MarginBottom, \"-10px\");\n\n            // 故障或不可用\n            audio.bind(s_Emptied, function () {\n                // 将无法加载的音频信息添加到链接检查器\n                __addToLinkChecker(audio.p().a(s_Id), audio.p().a(s_DataTitle));\n            });\n\n            // 加载错误\n            audio.bind(s_Error, function () {\n                audio.tr(s_Emptied);\n            });\n        }\n\n        /**\n         * 将无效音频源的信息添加到链接检查器\n         *\n         * @param id 坏链对象的标识\n         * @param content 显示的内容\n         */\n        function __addToLinkChecker(id, content) {\n            // 将无法加载的音频信息添加到链接检查器\n            LinkTool_addToCheck(id, \"🔈 <strong>\" + [\n                \"无效的音频源\",\n                \"Invalid audio source\"\n            ][V_lang_id] + \":</strong> \" + content);\n        }\n    });\n\n    /**\n     * 转换为 audio 标签\n     * @param audioLike 类 audio 标签（即 src 为音频的 img 标签)\n     * @param src 音频 URL\n     */\n    function __transToAudio(audioLike, src) {\n        let tips = [\n            \"您的浏览器不支持音频标签。\",\n            \"Your browser does not support the audio tag.\"\n        ][V_lang_id];\n\n        // 对 audio 标签的属性进行支持\n        let autoplay = V_util_getUrlQueryParams(src)[s_Autoplay],\n            loop = V_util_getUrlQueryParams(src)[s_Loop],\n            preload = V_util_getUrlQueryParams(src)[s_Preload];\n\n        // 将 URL 为音频资源的 img 标签转换为 audio\n        audioLike.wrap(\"<audio src='\" + src + \"'>\" + tips + \"</audio>\");\n        let audio = audioLike.p();\n        // 移除图片 img 标签\n        JQ_remove(audioLike);\n\n        // 设置 audio 属性\n        if (autoplay !== gUndefined) audio.a(s_Autoplay, s_Autoplay);\n        if (loop !== gUndefined) audio.a(s_Loop, s_Loop);\n        if (preload !== gUndefined) audio.a(s_Preload, s_Auto);\n\n        return audio;\n    }\n\n    /**\n     * 播放音频\n     * @param self 自定义的播放控件对象\n     * @param audio 音频的 JavaScript 对象\n     */\n    function __play(self, audio) {\n        let controls = $(self);\n\n        // 已暂停、未播放\n        if (audio.paused) {\n            audio.play();\n        }\n        // 播放中\n        else {\n            controls.hm(ExtAudio_icon_play);\n            JQ_removeClass(controls, s_Playing);\n            audio.pause();\n\n            // 不支持暂时播放时，暂时即结束\n            if (controls.a(s_DataPause) === gUndefined)\n                audio.currentTime = 0; // 播放都是从头开始\n        }\n    }\n}\n\n// ==================== 音频增强类 ==================== //\n\n/**\n * 初始化音频数据\n */\nfunction ExtVideo_init() {\n    // 支持指定类型的音频，以及支持带参数的 URL\n    $(\"#write img[src$='.ogv'], #write img[src$='.mp4'], #write img[src$='.webm'],\"\n    + \"#write img[src*='.ogv?'], #write img[src*='.mp4?'], #write img[src*='.webm?']\").e(function () {\n        let videoLike = $(this),\n            video = gUndefined,\n            src = videoLike.a(s_Src),\n            container = videoLike.p();\n        V_doc_counter_video++;\n\n        // 确保 video 有独立的父容器，一般情况下 Typora 导出的为 <p>\n        if (V_util_getTagName(container) !== \"p\") {\n            videoLike.wrap(\"<p></p>\");\n            container = videoLike.p();\n        }\n        // 设置容器样式数据，用于折叠内容时使用\n        container.a(s_DataContainer, \"video\");\n        JQ_addClass(container, s_CssCaptionContainer);\n\n        // 先根据题注语法生成题注\n        CaptionGenerator_actionForMediaContent(videoLike, s_Video);\n\n        // 将 URL 为音频资源的 img 标签转换为 video\n        video = __transToVideo(videoLike, src);\n\n        // 故障或不可用\n        video.bind(s_Emptied, function () {\n            // 将无法加载的音频信息添加到链接检查器\n            __addToLinkChecker(video.p().a(s_Id), video.p().a(s_DataTitle));\n        });\n\n        // 加载错误\n        video.bind(s_Error, function () {\n            video.tr(s_Emptied);\n        });\n    });\n\n    /**\n     * 将无效视频源的信息添加到链接检查器\n     * @param id 坏链对象的标识\n     * @param content 用于显示的内容\n     */\n    function __addToLinkChecker(id, content) {\n        // 将无法加载的音频信息添加到链接检查器\n        LinkTool_addToCheck(id, \"📺 <strong>\" + [\n            \"无效的视频源\",\n            \"Invalid video source\"\n        ][V_lang_id] + \":</strong> \" + content);\n    }\n\n    /**\n     * 转换为 video 标签\n     * @param videoLike 类 video 标签（即 src 为视频的 img 标签)\n     * @param src 视频 URL\n     */\n    function __transToVideo(videoLike, src) {\n        let tips = [\n            \"您的浏览器不支持视频标签。\",\n            \"Your browser does not support the video tag.\"\n        ][V_lang_id];\n\n        // 对 video 标签的属性进行支持\n        let autoplay = V_util_getUrlQueryParams(src)[s_Autoplay],\n            loop = V_util_getUrlQueryParams(src)[s_Loop],\n            preload = V_util_getUrlQueryParams(src)[s_Preload],\n            width = V_util_getUrlQueryParams(src)[s_Width],\n            height = V_util_getUrlQueryParams(src)[s_Height];\n\n        // 将 URL 为音频资源的 img 标签转换为 video\n        videoLike.wrap(\"<video src='\" + src + \"'>\" + tips + \"</video>\");\n        let video = videoLike.p();\n        // 移除图片 img 标签\n        JQ_remove(videoLike);\n\n        // 设置 video 为标准控件\n        video.a(s_Controls, s_Controls);\n\n        // 设置 video 属性\n        if (autoplay !== gUndefined) video.a(s_Autoplay, s_Autoplay);\n        if (loop !== gUndefined) video.a(s_Loop, s_Loop);\n        if (preload !== gUndefined) video.a(s_Preload, s_Auto);\n        if (width !== gUndefined) video.a(s_Width, width);\n        if (height !== gUndefined) video.a(s_Height, height);\n\n        return video;\n    }\n}\n\n// ==================== 文本输入框类 ==================== //\n\n/**\n * 构造函数\n * @param target 须在其后添加文本输入组件的目标对象\n * @param id 对象标识\n * @param append 添加模式。true：作为子元素添加，false：作为兄弟元素添加\n */\nfunction TextField(target, id, append) {\n    let T = this;\n    // 文本输入框属性\n    T.ui = gUndefined;\n    T.icon = gUndefined;\n    T.input = gUndefined;\n    T.reset = gUndefined;\n    T.action = gUndefined;\n\n    T.lastValue = \"\";\n    T.timerValueChanged = null;\n\n    T.inputing = gFalse;\n\n    // 文本输入框事件\n    T.onInput = gUndefined;\n    T.onFocus = gUndefined;\n    T.onBlur = gUndefined;\n    T.onKeyDown = gUndefined;\n    T.onAction = gUndefined;\n    T.pressEnter = gUndefined;\n    T.pressESC = gUndefined;\n\n    /**\n     * 将文本输入框实例添加到指定对象之后\n     * @param target 指定对象\n     * @param id 添加到目标对象的 id 值\n     * @param append true: 添加，false: 插入\n     */\n    T.__appendTo = function (target, id, append) {\n        // 文本输入框 UI\n        let ui = '<div class=\"v-textfield ' + id + '\">'\n            + '<div class=\"v-textfield-icon\" style=\"display: none\">' + s_DivClose\n            + '<input type=\"text\">'\n            + '<div class=\"v-textfield-action\" style=\"display: none\">' + s_DivClose\n            + '<div class=\"v-textfield-reset\">'\n            + V_ui_genSvgIcon(\"icoResetInput\", 16, 16, \"alpha\")\n            + s_DivClose + s_DivClose;\n        if (append) {\n            target.ap(ui);\n            T.ui = target.ch(\".v-textfield.\" + id);\n        }\n        else {\n            target.af(ui);\n            T.ui = target.p().ch(\".v-textfield.\" + id);\n        }\n\n        // 获得实例的各关键对象\n        T.input = T.ui.ch(\"input\");\n        T.reset = T.ui.ch(\".v-textfield-reset\");\n\n        /**\n         * 绑定文本输入事件\n         */\n        T.input.on(\"input\", function () {\n            // 跳过中文输入法过程\n            if ($(this).prop(\"compositionStatus\") !== \"start\")\n                __processInput();\n        });\n        /**\n         * 绑定开始中文输入事件\n         */\n        T.input.on(\"compositionstart\", function () {\n            $(this).prop(\"compositionStatus\", \"start\");\n        });\n        /**\n         * 绑定结束中文输入事件\n         */\n        T.input.on(\"compositionend\", function () {\n            $(this).prop(\"compositionStatus\", \"end\");\n        });\n        /**\n         * 绑定文本按键事件\n         */\n        T.input.on(\"keypress\", function (event) {\n            __processInput();\n        });\n        /**\n         * 绑定文本获得焦点事件\n         */\n        T.input.focus(function () {\n            T.inputing = gTrue; // 标记为输入中的状态\n\n            JQ_addClass(T.ui, s_CssTextFieldFocus);\n            __checkComValueChanged();\n\n            // 针对输入中文的情况，若输入了新的内容则进行查询\n            function __checkComValueChanged() {\n                if (T.input.prop(\"compositionStatus\") !== \"start\" && T.lastValue !== T.input.val()) {\n                    clearTimeout(T.timerValueChanged);\n                    T.timerValueChanged = null;\n                    T.lastValue = T.input.val();\n                    __processInput();\n                }\n                T.timerValueChanged = setTimeout(__checkComValueChanged, 800);\n            }\n            // 触发外部重定义事件\n            typeof(T.onFocus) === s_Function && T.onFocus(T.input);\n        });\n        /**\n         * 绑定文本失去焦点事件\n         */\n        T.input.blur(function () {\n            T.inputing = gFalse; // 标记为非输入中的状态\n\n            JQ_removeClass(T.ui, s_CssTextFieldFocus);\n            clearTimeout(T.timerValueChanged);\n            T.timerValueChanged = null;\n            // 触发外部重定义事件\n            typeof(T.onBlur) === s_Function && T.onBlur(T.input);\n        });\n\n        /**\n         * 处理文本框输入的内容\n         */\n        function __processInput() {\n            let value = T.input.val().x();\n            if (value === \"\") {\n                T.reset.hide();\n\n                // 无内容时移除样式\n                if (T.action !== gUndefined && T.action.a(s_Class).i(s_Enabled) !== -1) {\n                    JQ_removeClass(T.action, s_Enabled);\n                    V_ui_unbindHover(T.action);\n                }\n            }\n            else {\n                T.reset.show();\n\n                // 有内容时移除样式\n                if (T.action !== gUndefined && T.action.a(s_Class).i(s_Enabled) === -1) {\n                    JQ_addClass(T.action, s_Enabled);\n                    T.action.hover(function () {\n                        T.actionHover(gTrue);\n                    }, function () {\n                        T.actionHover(gFalse);\n                    });\n                }\n            }\n            // 触发外部重定义事件\n            typeof(T.onInput) === s_Function && T.onInput(T.input, value);\n        }\n\n        /**\n         * 绑定键盘按下事件\n         */\n        T.input.bind(\"keydown\", function (event) {\n            let code = event.keyCode || event.which || event.charCode,\n                value = T.input.val();\n\n            let handled = false;\n            switch (code) {\n                case 13: // ENTER\n                    if (T.action !== gUndefined)\n                        T.action.tr(s_Click);\n                    handled = true;\n                    typeof(T.pressEnter) === s_Function && T.pressEnter(T.input, value);\n                    break;\n                case 27: // ESC\n                    // 无内容时则取消取点，退出编辑，键盘事件则由导航中心的键盘事件进行响应\n                    if (value.length === 0)\n                        T.input.blur();\n                    // 有内容则清空内容等待重新输入\n                    else\n                        T.reset.tr(s_Click);\n                    handled = true;\n                    typeof(T.pressESC) === s_Function && T.pressESC(T.input);\n                    break;\n            }\n            // 如果事件已处理，则禁止双重操作\n            if (handled)\n                event.preventDefault();\n\n            // 触发外部重定义事件\n            typeof(T.onKeyDown) === s_Function && T.onKeyDown(T.input, value, code);\n        });\n\n        /**\n         * 绑定重置输入内容按钮\n         */\n        T.reset.uC().ck(function () {\n            T.input.val(\"\");\n            T.input.select();\n            T.reset.hide();\n\n            if (T.action !== gUndefined && T.action.a(s_Class).i(s_Enabled) !== -1) {\n                JQ_removeClass(T.action, s_Enabled);\n                V_ui_unbindHover(T.action);\n            }\n            // 触发外部重定义事件\n            typeof(T.onInput) === s_Function && T.onInput(T.input, \"\");\n        });\n    }\n\n    /**\n     * 清空输入框内容\n     */\n    T.clear = function () {\n        T.reset.tr(s_Click);\n    }\n\n    /**\n     * 开启输入框前图标\n     * @param icon 图标\n     */\n    T.setIcon = function (icon) {\n        T.icon = T.ui.ch(\".v-textfield-icon\");\n        T.icon.hm(icon);\n        T.icon.show();\n    }\n\n    /**\n     * 开启动作按钮\n     * @param icon 按钮图标\n     */\n    T.setAction = function (icon) {\n        T.action = T.ui.ch(\".v-textfield-action\");\n        T.action.hm(icon);\n        T.action.show();\n\n        T.action.hover(function () {\n            T.actionHover(gTrue);\n        }, function () {\n            T.actionHover(gFalse);\n        });\n        T.action.uC().ck(function () {\n            let value = T.input.val();\n            // 输入内容不为空\n            if (value.length > 0)\n                T.input.select();\n\n            // 触发外部重定义事件\n            typeof(T.onAction) === s_Function && T.onAction(T.input, value);\n        });\n    }\n\n    /**\n     * 动作按钮鼠标 hover 处理\n     * @param enter true: 鼠标光标进入，false: 鼠标光标离开\n     */\n    T.actionHover = function (enter) {\n        if (enter) {\n            JQ_addClass(T.action, s_Hover);\n            if (T.action.a(s_Class).i(s_Enabled) !== -1)\n                JQ_addClass(T.ui, s_HoverAction);\n        }\n        else {\n            JQ_removeClass(T.action, s_Hover);\n            JQ_removeClass(T.ui, s_HoverAction);\n        }\n    }\n\n    /**\n     * 设置提示文本\n     * @param text 提示文本\n     */\n    T.placeholder = function (text) {\n        T.input.a(s_Placeholder, text);\n    }\n\n    /**\n     * 显示文本输入框\n     */\n    T.show = function () {\n        T.ui.show();\n    }\n\n    /**\n     * 隐藏文本输入框\n     */\n    T.hide = function () {\n        T.ui.hide();\n    }\n\n    /**\n     * 设置文本框宽度\n     * @param width 宽度\n     */\n    T.setWidth = function (width) {\n        T.ui.c(s_Width, width);\n        T.input.c(s_Width, width\n            - (T.reset.w() + JS_parseInt(T.reset.c(s_PaddingLeft)) * 2)\n            - (T.icon === gUndefined ? 0 : T.icon.w() + JS_parseInt(T.icon.c(s_PaddingLeft)) * 2)\n            - (T.action === gUndefined ? 0 : T.action.w() + JS_parseInt(T.action.c(s_PaddingLeft)) * 2));\n        if (T.icon !== gUndefined)\n            JQ_addClass(T.input, \"set-icon\");\n    }\n\n    // 生成控件\n    T.__appendTo(target, id, append);\n}\n\n// ==================== 过滤结果导航器类 ==================== //\n\nfunction FilterResultNavigator(result) {\n    let T = this;\n    T.index = 0;\n    T.result = result;\n\n    T.nextItem = function () {\n        if (T.result.isHidden())\n            return;\n\n        let set = T.result.ch(\":visible\"),\n            item = set.eq(T.index);\n        T.index++;\n        if (T.index >= set.length)\n            T.index = 0;\n        return item;\n    }\n\n    T.reset = function () {\n        T.index = 0;\n    }\n}\n\n// ==================== 导航中心【目录】组件类 ==================== //\n\n/**\n * 构造函数\n * @param holder 关联的上级容器\n * @param hidden 是否默认为隐藏\n */\nfunction TocCatalog(holder, hidden) {\n    let T = this;\n    T.ui = {\n        entry : $(\".\" + s_CssSegmentBtn + \".catalog\"), // 入口\n        body : $(\".v-toc-catalog-body\"), // 目录索引内容\n        result : $(\".\" + s_CssTocFilterResult + \".catalog\") // 过滤结果面板\n    }\n\n    T.holder = holder;\n\n    T.h = []; // 目录集\n    // 针对无封面的情况\n    if (VOM_cover() === gUndefined)\n        T.h.push(\"vk-id-doc-title\");\n\n    T.currentHeaderIndex = -1; // 当前章节在目录集中的索引\n    T.currentItem = gUndefined; // 当前章节对象\n\n    T.foldItems = []; // 非叶子章节集\n    T.lastHeaderFolder = gUndefined; // 上一个非叶子章节\n    T.lastHeaderLevel = 0; // 上一个章节的层级\n\n    T.lastDocScrollTop = 0; // 记录最后一次文档滚动位置\n\n    T.resultNav = new FilterResultNavigator(T.ui.result); // 过滤结果导航器\n\n    // 当前章节变化事件\n    T.onChapterChanged = gUndefined;\n\n    // 目录相关图标集\n    T.icon = {\n        // 章节：已收起\n        folded : '<svg width=\"16px\" height=\"16px\" class=\"v-svg-small-ico\"><use xlink:href=\"#icoTocFolded\" class=\"v-toc-folder-ico\"/></svg>',\n        // 章节：已展开\n        unfold : '<svg width=\"16px\" height=\"16px\" class=\"v-svg-small-ico\"><use xlink:href=\"#icoTocUnfold\" class=\"v-toc-folder-ico\"/></svg>',\n    };\n\n    // 更新无目录情况下的提示信息\n    T.ui.body.a(s_DataCatalogEmpty, [\n            \"( 无目录 )\",\n            \"( Catalog is Empty )\"\n        ][V_lang_id]);\n\n    /**\n     * 返回 Toc 组件类型名称\n     * @returns string Toc 组件类型名称\n     */\n    T.typeName = function () {\n        return \"catalog\";\n    }\n\n    /**\n     * 是否有目录索引项目\n     */\n    T.hasIndexItem = function () {\n        return (T.ui.body.ch().length > 0);\n    }\n\n    /**\n     * 根据设备类型自适应hover样式\n     */\n    T.adjustHoverStyle = function () {\n        if (env.device.mobile) // 移动设备时解绑样式事件\n            $(s_CssTocFolder).uH();\n        else // 非移动设备时绑定样式事件\n            V_ui_bindHover($(s_CssTocFolder));\n    }\n\n    /**\n     * 添加目录节点\n     * @param item 由 Typora 生成的 [TOC] 目录节点\n     */\n    T.add = function (item) {\n        T.holder.segs.sts(this, gTrue);\n\n        // 将章节记录到目录集中\n        let a = item.ch(\"a\"),\n            href = a.a(s_Href);\n        T.h.push(href.s(1, href.length));\n\n        // 自定义目录节点元数据\n        item.a(s_Id, \"vk-header-\" + item.a(s_DataRef)); // 添加id属性\n        item.a(s_DataNode, \"0\"); // 添加节点类型：0:叶子节点, 1:目录节点\n        item.a(s_DataFolded, s_False); // 添加节点状态：true:收起, false:展开\n        item.a(s_Title, a.t().x());\n\n        // 使用完 <a> 的内容后，将章节中的链接文字提到链接外，用于实现长章节内容截断的 CSS 新式\n        a.af(a.t());\n        a.t(\"\");\n\n        // 点击目录节点事件\n        item.uC().ck(function () {\n            // 跳转至对应的页内锚点\n            let hash = $(\"#\" + item.a(s_Id)).ch(\"a\").a(s_Href);\n            V_util_gotoHash(hash);\n\n            // 触发锚点点击事件\n            typeof(T.holder.onInteractive) === s_Function && T.holder.onInteractive();\n        });\n\n        // -----------------------------------\n        // 目录非叶子章节的折叠功能实现\n        // 所有目录节点都添加 folding 空白控件备用\n        $(\"<div id='fd-vk-header-\" + item.a(s_DataRef)\n            + \"' class='v-toc-folder'>&nbsp;\" + s_DivClose).insertBefore(item.f(\"a\"));\n\n        // 记录所有非叶子节点的folder控件\n        let lv = ChpAutoNum_parseTocHeaderLevel(item.a(s_Class));\n        if (T.lastHeaderFolder !== gUndefined) {\n            // 当前节点比上一个节点层级低，则上一节点为可折叠的节点\n            if (lv > T.lastHeaderLevel) {\n                // 将最近一个子目录节点折叠控件入栈\n                T.foldItems.push(T.lastHeaderFolder);\n\n                // 为非叶子的章节添加折叠图标\n                let folder = T.lastHeaderFolder.hm(T.icon.unfold),\n                    folderParent = folder.p();\n                folderParent.a(s_DataNode, \"1\"); // 0:叶子, 1:目录\n                folderParent.a(s_DataFolded, s_False); // true:收起， false:展开\n\n                // 折叠控件事件\n                folder.uC().ck(function (event) {\n                    event.stopPropagation(); // 停止事件冒泡\n\n                    let id = $(this).p().a(s_Id);\n                    T.disposeFold(id, ($(\"#\" + id).a(s_DataFolded).sW(\"t\")) ? \"e\" : \"c\", gTrue);\n                });\n            }\n            // 右当前节点比上一个节点层级高，则视为从下级回到上级\n            // 并将最近一个子目录节点折叠控件出栈\n            else if (lv < T.lastHeaderLevel)\n                T.foldItems.pop();\n\n            // 设置当前节点的父级信息\n            if (T.foldItems.length > 0)\n                item.a(s_DataPid, T.foldItems[T.foldItems.length - 1].p().a(s_Id));\n        }\n\n        // 更新最后处理的folder控件\n        T.lastHeaderFolder = $(\"#fd-vk-header-\" + item.a(s_DataRef));\n        T.lastHeaderLevel = lv;\n    }\n\n    /**\n     * 页面滚动时根据页面当前的位置，高亮对应目录中的章节\n     */\n    T.focusHeader = function (scrollTop) {\n        // ----------------------------------------\n        // 控制执行频率，避免处理过快影响性能\n        if (scrollTop === gUndefined)\n            scrollTop = $(document).scrollTop();\n        if (Math.abs(scrollTop - T.lastDocScrollTop) < 20)\n            return;\n\n        T.lastDocScrollTop = scrollTop;\n\n        // ----------------------------------------\n        // 寻找文档当前显示的章节\n        // 默认为最后一章\n        let curIdx = T.h.length - 1;\n        for (let i = 0, len = T.h.length; i < len; i++) {\n            let anchor = (!env.browser.Firefox)\n                    ? T.h[i] // 非 Firefox 浏览器\n                    : JS_decodeURI(T.h[i]), // Firefox 浏览器\n                target = $(\"#\" + JS_decodeURI(anchor));\n            let headerHeight = target.h();\n            // 将最近一个章节从文档可视空间上方滚出的章节定义为「当前章节」\n            if ((target.oT() - $(document).scrollTop()) > (headerHeight * 3)) {\n                curIdx = i - 1;\n                break;\n            }\n        }\n\n        // 章节没有变化则直接退出\n        if (T.currentHeaderIndex === curIdx)\n            return;\n\n        // 章节有变化，并记录\n        T.currentHeaderIndex = curIdx;\n\n        // 当前文档位置在实际内容章节中时\n        if (T.inHeader()) {\n            // ----------------------------------------\n            // 更新目录内当前节点的样式\n            // 先清除目录中上一次的「当前章节」的样式\n            if (T.currentItem !== gUndefined)\n                JQ_removeClass(T.currentItem, s_CssTocItemCurrent);\n            // 更新「当前章节」的样式\n            T.currentItem = $(\"#vlook-toc a[href='#\" + T.h[curIdx] + \"']\").p();\n            JQ_addClass(T.currentItem, s_CssTocItemCurrent);\n\n            // 若当前目录节点被折叠隐藏，则向上展开父级目录节点\n            if (T.currentItem.isHidden())\n                __expandUpFolder(T.currentItem.a(s_DataPid));\n\n            // 导航中心内容自动滚动当前章节所在位置\n            T.scrollToCurrent();\n        }\n\n        // 触发当前章节变化事件\n        typeof(T.onChapterChanged) === s_Function && T.onChapterChanged();\n\n        /**\n         * 向上展开父级目录\n         *\n         * @param id 父级目录 id 值\n         */\n        function __expandUpFolder(id) {\n            // 展开\n            T.disposeFold(id, \"e\", gTrue);\n            // 若未到 h1（即第一级目录），则继续向上展开\n            let item = $(\"#\" + id),\n                tagName = item.prop(s_TagName); // 注意！无法使用 V_util_getTagName ，会导致调用溢出\n            if (tagName !== gUndefined && tagName.l() !== \"h1\")\n                __expandUpFolder(item.a(s_DataPid));\n        }\n    }\n\n    /**\n     * 导航中心内容自动滚动到当前章节所在位置\n     */\n    T.scrollToCurrent = function () {\n        if (T.currentItem === gUndefined || T.currentItem.pos() === gUndefined)\n            return;\n\n        // 根据当前节点情况，目录内的可视空间自动滚动该节点所在位置\n        const preDis = T.currentItem.h() * 3, // 用于目录节点触动滚动的大小\n            sTop = T.ui.body.scrollTop(), // 目录内当前滚动位置\n            sBottom = sTop + T.ui.body.h(); // 当前可视空间中位于目录底部的位置\n\n        // 若当前节点在可视区域的上方，则滚动到该节点的位置\n        if (T.currentItem.pos().top < sTop)\n            T.ui.body.scrollTop(T.currentItem.pos().top);\n        // 若当前节点在可视区域的下方，则滚动到该节点的位置\n        else if (T.currentItem.pos().top > (sBottom - preDis))\n            T.ui.body.scrollTop(T.currentItem.pos().top - T.ui.body.h() + preDis);\n    }\n\n    /**\n     * 文档当前位置是否在章节内\n     */\n    T.inHeader = function () {\n        return T.currentHeaderIndex > -1;\n    }\n\n    /**\n     * 当前章节为第 1 章时特殊处理（有封面模式时）\n     */\n    T.inFirstHeader = function () {\n        return (VOM_cover() !== gUndefined && T.currentHeaderIndex === 0);\n    }\n\n    /**\n     * 当前文档位置位于文档标题（无封面模式时）\n     */\n    T.inDocTitle = function () {\n        return (VOM_cover() === gUndefined && T.currentHeaderIndex === 0);\n    }\n\n    /**\n     * 按关键字过滤\n     * @param value 过滤的关键字内容\n     * @returns boolean true - 有匹配的结果，false - 无匹配的结果\n     */\n    T.filter = function (value) {\n        if (value.x() === \"\")\n            return gFalse;\n\n        if (T.holder.segs.checkedItem() === T.typeName())\n            T.showFilterResult();\n\n        let matched = gFalse;\n        T.ui.result.empty();\n        // 遍历目录节点进行关键字匹配\n        $(s_TocItem).e(function () {\n            let item = $(this),\n                data = item.a(s_DataHeaderNum) + item.a(s_Title);\n            if (data.l().i(value) > -1) {\n                // 匹配结果后，从目录节点中复制节点并移除不必要的样式和内容\n                let cloneItem = item.clone();\n                JQ_addClass(cloneItem, s_CssTocItem);\n                JQ_removeClass(cloneItem, \"md-toc-item md-toc-h1 md-toc-h2 md-toc-h3 md-toc-h4 md-toc-h5\");\n                JQ_remove(cloneItem.ch(s_CssTocFolder));\n                cloneItem.pp(s_Span + cloneItem.a(s_DataHeaderNum) + \" </span>\");\n                cloneItem.show();\n                cloneItem.a(s_DataKeywordMatch, s_True);\n\n                // 绑定同源的点击事件\n                cloneItem.uC().ck(function () {\n                    JQ_removeClass(T.ui.result.ch(\".\" + s_CssTocItemCurrent), s_CssTocItemCurrent);\n                    item.tr(s_Click);\n                    JQ_addClass($(this), s_CssTocItemCurrent);\n                });\n\n                // 将匹配的节点添加到过滤结果中\n                T.ui.result.ap(cloneItem);\n                matched = gTrue;\n            }\n        });\n        // 过滤文库节点\n        gToc.f(\".v-doc-lib-item\").e(function () {\n            let item = $(this),\n                data = item.a(s_Title) + item.a(s_DataForSearch);\n            if (data.l().i(value) > -1) {\n                // 匹配结果后，从目录节点中复制节点并移除不必要的样式和内容\n                let cloneItem = item.clone();\n                cloneItem.show();\n                cloneItem.a(s_DataKeywordMatch, s_True);\n\n                // 绑定同源的点击事件\n                cloneItem.uC().ck(function () {\n                    item.tr(s_Click);\n                });\n\n                // 将匹配的节点添加到过滤结果中\n                T.ui.result.ap(cloneItem);\n                matched = gTrue;\n            }\n        });\n\n        // 过滤结果为空\n        if (!matched) {\n            T.ui.result.empty();\n            T.ui.result.ap(\"<div class='v-toc-filter-result-none'>\" + [\n                \"无匹配结果!\",\n                \"No Results!\"\n            ][V_lang_id] + s_DivClose);\n            TocIndex_updateStatus(this);\n        }\n\n        return gTrue;\n    }\n\n    /**\n     * 更新所属分段状态\n     */\n    T.updateStatus = function () {\n        if ($(s_TocItem).length > 0)\n            T.holder.segs.sts(this, gTrue);\n        else\n            T.holder.segs.sts(this, gFalse);\n    }\n\n    /**\n     * 显示目录索引组件\n     */\n    T.show = function () {\n        if (T.holder.keyword.input.val().length > 0) {\n            T.ui.body.hide();\n            T.showFilterResult();\n        }\n        else {\n            T.ui.body.show();\n            T.hideFilterResult();\n        }\n    }\n\n    /**\n     * 隐藏目录索引组件\n     */\n    T.hide = function () {\n        T.ui.body.hide();\n        T.hideFilterResult();\n    }\n    if (hidden) T.hide();\n\n    /**\n     * 显示过滤结果\n     */\n    T.showFilterResult = function () {\n        T.ui.body.hide();\n\n        T.ui.result.show();\n        JQ_removeClass(T.ui.result.ch(\".\" + s_CssTocItemCurrent), s_CssTocItemCurrent);\n    }\n\n    /**\n     * 隐藏过滤结果\n     */\n    T.hideFilterResult = function () {\n        T.ui.result.hide();\n    }\n\n    /**\n     * 跳转至指定章节\n     */\n    T.gotoHeader = function (target) {\n        V_util_gotoHash(\"#\" + target.a(s_DataAnchor));\n    }\n\n    /**\n     * 处理展开或收起指定章节下的子章节\n     * @param id 对象的id值\n     * @param action 执行动作（c: collect, e: expand）\n     * @param traversal 是否遍历子元素\n     */\n    T.disposeFold = function (id, action, traversal) {\n        let lastItem = null,\n            item = $(\"#\" + id),\n            itemSet = item.nextAll(),\n            btnFolder = $(\"#fd-\" + id);\n\n        // 更新折叠控件图标\n        item.a(s_DataFolded, (action === \"e\") ? s_False : s_True);\n        btnFolder.hm((action === \"e\") ? T.icon.unfold : T.icon.folded);\n\n        // 将指定节点后的所有节点进行处理\n        for (let i = 0, len = itemSet.length; i < len; i++) {\n            let item = $(itemSet[i]);\n            // 对前后节点层级不一致的处理\n            if (lastItem != null) {\n                const hd1 = ChpAutoNum_parseTocHeaderLevel(item.a(s_Class));\n                const hd2 = ChpAutoNum_parseTocHeaderLevel(lastItem.a(s_Class));\n                if (hd1 > hd2) // 当前节点层级大于上一个节点的层级，继续\n                    continue;\n                else if (hd1 < hd2) // 当前节点层级小于上一个节点的层级，终止\n                    break;\n            }\n\n            // 如果是目录节点，同时是已展开，且执行动作为「收起」，才进行递归调用展开子节点\n            if (traversal\n                && item.a(s_DataNode) === \"1\"\n                && item.a(s_DataFolded).sW(\"f\")\n                && action === \"c\") {\n                    item.a(s_DataFolded, s_True);\n                    // 递归处理\n                    T.disposeFold(item.a(s_Id), action, traversal);\n            }\n\n            // 收起 / 展开\n            item.c(s_Display, (action === \"c\") ? s_None : s_Block);\n            lastItem = item;\n        }\n    }\n}\n\n// ==================== 导航中心分类索引通用类 ==================== //\n\nlet TocIndex_segments = gUndefined;\n\n/**\n * 初始化 UI\n * @param indexObj 目标对象\n */\nfunction TocIndex_initUI(indexObj) {\n    let ui = indexObj.ui;\n\n    V_ui_addAnimate(ui.entry);\n\n    // 生成提示信息 UI\n    ui.result.ap(\"<div class='v-toc-filter-result-none'>\" + s_DivClose);\n    ui.tips = ui.result.ch(\".v-toc-filter-result-none\");\n\n    TocIndex_showTips(ui);\n}\n\n/**\n * 无输入关键字的处理\n * @param indexObj 目标对象\n */\nfunction TocIndex_noneKeyword(indexObj) {\n    let ui = indexObj.ui,\n        items = ui.result.ch(\".\" + s_CssTocItem);\n    items.show();\n    if (items.length === 0)\n        TocIndex_showTips(ui);\n    else {\n        ui.tips.hide();\n        items.a(s_DataKeywordMatch, s_True);\n        TocIndex_updateStatus(indexObj);\n    }\n}\n\n/**\n * 更新所属分段状态\n * @param indexObj 目标对象\n */\nfunction TocIndex_updateStatus(indexObj) {\n    TocIndex_segments.sts(indexObj,\n        indexObj.ui.result.ch(\".\" + s_CssTocItem + \"[\" + s_DataKeywordMatch + \"]\").length > 0);\n}\n\n/**\n * 显示提示信息\n */\nfunction TocIndex_showTips(ui) {\n    ui.tips.t(\"( \" + [\n        \"无此类内容\",\n        \"No such content\"\n    ][V_lang_id] + \" )\");\n    ui.tips.show();\n}\n\n/**\n * 添加索引项目\n * @param indexObj 目标对象\n * @param text 显示的文本\n * @param anchor 锚点\n * @param forSearch 用于搜索时检索的内容\n */\nfunction TocIndex_add(indexObj, text, anchor, forSearch) {\n    TocIndex_segments.sts(indexObj, gTrue);\n\n    if (indexObj.ui.tips.isShowed())\n        indexObj.ui.tips.hide();\n    let item = $('<span class=\"' + s_CssTocItem + '\" ' + s_DataForSearch + '=\"'\n            + V_util_clearHtmlQuot((forSearch === gUndefined || forSearch.x().length === 0) ? \"\" : forSearch)\n            + '\">' + text + s_SpanClose);\n    indexObj.ui.result.ap(item);\n    // V_ui_addAnimate(item);\n    item.uC().ck(function () {\n        JQ_removeClass(indexObj.ui.result.ch(\".\" + s_CssTocItemCurrent), s_CssTocItemCurrent);\n        JQ_addClass(item, s_CssTocItemCurrent);\n\n        V_util_gotoHash(\"#\" + anchor);\n\n        // 触发锚点点击事件\n        typeof(indexObj.holder.onInteractive) === s_Function && indexObj.holder.onInteractive();\n    });\n}\n\n/**\n * 按关键字过滤\n * @param indexObj 目标对象\n * @param value 过滤的关键字内容\n * @returns boolean true - 有匹配的结果，false - 无匹配的结果\n */\nfunction TocIndex_filter(indexObj, value) {\n    if (value.x().length === 0) {\n        TocIndex_segments.sts(indexObj, gFalse);\n        return gFalse;\n    }\n\n    // 清空索引列表项\n    indexObj.ui.tips.hide();\n    indexObj.ui.result.ch().hide();\n    JQ_removeClass(indexObj.ui.result.ch(\".\" + s_CssTocItemCurrent), s_CssTocItemCurrent);\n    indexObj.ui.result.ch().removeAttr(s_DataKeywordMatch);\n\n    // 遍历目录节点进行关键字匹配\n    let matched = gFalse;\n    indexObj.ui.result.ch(\".\" + s_CssTocItem).e(function () {\n        let item = $(this),\n            dataForSearch = item.a(s_DataForSearch);\n        if (item.t().l().i(value) > -1\n            || (dataForSearch !== gUndefined && dataForSearch.l().i(value) > -1)) {\n                item.show();\n                item.a(s_DataKeywordMatch, s_True);\n                TocIndex_segments.sts(indexObj, gTrue);\n                matched = gTrue;\n        }\n    });\n\n    // 过滤结果为空\n    if (!matched) {\n        indexObj.ui.tips.t([\n            \"无匹配结果!\",\n            \"No Results!\"\n        ][V_lang_id]);\n        indexObj.ui.tips.show();\n        TocIndex_segments.sts(indexObj, gFalse);\n    }\n\n    return gTrue;\n}\n\n/**\n * 是否有对应的索引项目\n * @param indexObj 目标对象\n */\nfunction TocIndex_hasIndexItem(indexObj) {\n    return (indexObj.ui.result.ch(\"span\").length > 0);\n}\n\n/**\n * 显示索引组件\n * @param indexObj 目标对象\n */\nfunction TocIndex_show(indexObj) {\n    indexObj.ui.result.show();\n    JQ_removeClass(indexObj.ui.result.ch(\".\" + s_CssTocItemCurrent), s_CssTocItemCurrent);\n}\n\n/**\n * 隐藏索引组件\n * @param indexObj 目标对象\n */\nfunction TocIndex_hide(indexObj) {\n    indexObj.ui.result.hide();\n}\n\n// ==================== 导航中心【插图】组件类 ==================== //\n\n/**\n * 构造函数\n * @param holder 关联的上级容器\n * @param hidden 是否默认为隐藏\n */\nfunction TocFigure(holder, hidden) {\n    let T = this;\n    T.ui = {\n        entry : $(\".\" + s_CssSegmentBtn + \".figure\"), // 入口\n        result : $(\".\" + s_CssTocFilterResult + \".figure\"), // 过滤结果面板\n        tips : gUndefined\n    };\n\n    T.holder = holder;\n\n    T.resultNav = new FilterResultNavigator(T.ui.result); // 过滤结果导航器\n\n    // 关键字输入组件属性设置\n    TocIndex_initUI(this);\n\n    /**\n     * 返回 Toc 组件类型名称\n     * @returns string Toc 组件类型名称\n     */\n    T.typeName = function () {\n        return \"figure\";\n    }\n\n    /**\n     * 是否有图片索引项目\n     */\n    T.hasIndexItem = function () {\n        return TocIndex_hasIndexItem(this);\n    }\n\n    /**\n     * 初始化插图索引\n     * @param text 显示的文本\n     * @param anchor 锚点\n     * @param forSearch 用于搜索时检索的内容\n     */\n    T.add = function (text, anchor, forSearch) {\n        TocIndex_add(this, text, anchor, forSearch);\n    }\n\n    /**\n     * 更新所属分段状态\n     */\n    T.updateStatus = function () {\n        TocIndex_updateStatus(this);\n    }\n\n    /**\n     * 显示插图组件\n     */\n    T.show = function () {\n        TocIndex_show(this);\n    }\n\n    /**\n     * 隐藏插图组件\n     */\n    T.hide = function () {\n        TocIndex_hide(this);\n    }\n    if (hidden) T.hide();\n}\n\n// ==================== 导航中心【表格】组件类 ==================== //\n\n/**\n * 构造函数\n * @param holder 关联的上级容器\n * @param hidden 是否默认为隐藏\n */\nfunction TocTable(holder, hidden) {\n    let T = this;\n    T.ui = {\n        entry : $(\".\" + s_CssSegmentBtn + \".table\"), // 入口\n        result : $(\".\" + s_CssTocFilterResult + \".table\"), // 过滤结果面板\n        tips : gUndefined\n    };\n\n    T.holder = holder;\n\n    T.resultNav = new FilterResultNavigator(T.ui.result); // 过滤结果导航器\n\n    // 关键字输入组件属性设置\n    TocIndex_initUI(this);\n\n    /**\n     * 返回 Toc 组件类型名称\n     * @returns string Toc 组件类型名称\n     */\n    T.typeName = function () {\n        return s_Table;\n    }\n\n    /**\n     * 是否有表格索引项目\n     */\n    T.hasIndexItem = function () {\n        return TocIndex_hasIndexItem(this);\n    }\n\n    /**\n     * 初始化表格索引\n     * @param text 显示的文本\n     * @param anchor 锚点\n     * @param forSearch 用于搜索时检索的内容\n     */\n    T.add = function (text, anchor, forSearch) {\n        TocIndex_add(this, text, anchor, forSearch);\n    }\n\n    /**\n     * 更新所属分段状态\n     */\n     T.updateStatus = function () {\n        TocIndex_updateStatus(this);\n    }\n\n    /**\n     * 显示表格组件\n     */\n    T.show = function () {\n        TocIndex_show(this);\n    }\n\n    /**\n     * 隐藏表格组件\n     */\n    T.hide = function () {\n        TocIndex_hide(this);\n    }\n    if (hidden) T.hide();\n}\n\n// ==================== 导航中心【多媒体】组件类 ==================== //\n\n/**\n * 构造函数\n * @param holder 关联的上级容器\n * @param hidden 是否默认为隐藏\n */\nfunction TocMedia(holder, hidden) {\n    let T = this;\n    T.ui = {\n        entry : $(\".\" + s_CssSegmentBtn + \".media\"), // 入口\n        result : $(\".\" + s_CssTocFilterResult + \".media\"), // 过滤结果面板\n        tips : gUndefined\n    };\n\n    T.holder = holder;\n\n    T.resultNav = new FilterResultNavigator(T.ui.result); // 过滤结果导航器\n\n    // 关键字输入组件属性设置\n    TocIndex_initUI(this);\n\n    /**\n     * 返回 Toc 组件类型名称\n     * @returns string Toc 组件类型名称\n     */\n    T.typeName = function () {\n        return \"mulitmedia\";\n    }\n\n    /**\n     * 是否有多媒体索引项目\n     */\n    T.hasIndexItem = function () {\n        return TocIndex_hasIndexItem(this);\n    }\n\n    /**\n     * 初始化多媒体索引\n     * @param text 显示的文本\n     * @param anchor 锚点\n     * @param forSearch 用于搜索时检索的内容\n     */\n    T.add = function (text, anchor, forSearch) {\n        TocIndex_add(this, text, anchor, forSearch);\n    }\n\n    /**\n     * 更新所属分段状态\n     */\n    T.updateStatus = function () {\n        TocIndex_updateStatus(this);\n    }\n\n    /**\n     * 显示多媒体组件\n     */\n    T.show = function () {\n        TocIndex_show(this);\n    }\n\n    /**\n     * 隐藏多媒体组件\n     */\n    T.hide = function () {\n        TocIndex_hide(this);\n    }\n    if (hidden) T.hide();\n}\n\n// ==================== 导航中心【代码块】组件类 ==================== //\n\n/**\n * 构造函数\n * @param holder 关联的上级容器\n * @param hidden 是否默认为隐藏\n */\nfunction TocCodeblock(holder, hidden) {\n    let T = this;\n    T.ui = {\n        entry : $(\".\" + s_CssSegmentBtn + \".codeblock\"), // 入口\n        result : $(\".\" + s_CssTocFilterResult + \".codeblock\"), // 过滤结果面板\n        tips : gUndefined\n    };\n\n    T.holder = holder;\n\n    T.resultNav = new FilterResultNavigator(T.ui.result); // 过滤结果导航器\n\n    // 关键字输入组件属性设置\n    TocIndex_initUI(this);\n\n    /**\n     * 返回 Toc 组件类型名称\n     * @returns string Toc 组件类型名称\n     */\n    T.typeName = function () {\n        return s_Codeblock;\n    }\n\n    /**\n     * 是否有代码块索引项目\n     */\n    T.hasIndexItem = function () {\n        return TocIndex_hasIndexItem(this);\n    }\n\n    /**\n     * 初始化代码块索引\n     * @param text 显示的文本\n     * @param anchor 锚点\n     * @param forSearch 用于搜索时检索的内容\n     */\n    T.add = function (text, anchor, forSearch) {\n        TocIndex_add(this, text, anchor, forSearch);\n    }\n\n    /**\n     * 更新所属分段状态\n     */\n    T.updateStatus = function () {\n        TocIndex_updateStatus(this);\n    }\n\n    /**\n     * 显示代码块组件\n     */\n    T.show = function () {\n        TocIndex_show(this);\n    }\n\n    /**\n     * 隐藏代码块组件\n     */\n    T.hide = function () {\n        TocIndex_hide(this);\n    }\n    if (hidden) T.hide();\n}\n\n// ==================== 导航中心【访问历史】组件类 ==================== //\n\n/**\n * 构造函数\n * @param holder 关联的上级容器\n * @param hidden 是否默认为隐藏\n */\nfunction TocHistory(holder, hidden) {\n    let T = this;\n    T.ui = {\n        entry : $(\".\" + s_CssSegmentBtn + \".history\"), // 入口\n        title : $(\".\" + s_CssTocHistory + \"-title\"), // 历史记录标题\n        result : $(\".\" + s_CssTocHistory + \"-result\") // 历史记录面板\n    };\n\n    T.holder = holder;\n\n    /**\n     * 返回 Toc 组件类型名称\n     * @returns string Toc 组件类型名称\n     */\n    T.typeName = function () {\n        return \"history\";\n    }\n\n    /**\n     * 是否有访问历史索引项目\n     */\n    T.hasIndexItem = function () {\n        return TocIndex_hasIndexItem(this);\n    }\n\n    /**\n     * 添加访问历史记录\n     * @param hash 页内锚点链接\n     */\n    T.add = function (hash) {\n        if (hash === gUndefined || hash === \"#\" || hash.x().length === 0)\n            return;\n\n        // 清空当前条目的样式\n        JQ_removeClass(T.ui.result.ch(\".\" + s_CssTocItemCurrent), s_CssTocItemCurrent);\n\n        // 对由 VLOOK 生成的页内锚点，对其显示的条目文本进行处理\n        let title = gUndefined,\n            anchor = hash.s(1, hash.length);\n        if (anchor.sW(\"vk-id\")) // 插图/表格/多媒体/代码块索引\n            title = $(hash).a(s_DataTitle);\n        else if (anchor.sW(\"vk-err\")) // 错误的内链\n            title = $(hash).t();\n        // 未匹配到以上 VLOOK 专属的索引锚点，则按目录索引进行处理\n        if (title === gUndefined) {\n            let hashObj = $(s_TocItem + \">.md-toc-inner[href='\" + JS_decodeURI(hash) + \"']\").p();\n            title = s_Span + hashObj.a(s_DataHeaderNum) + \" </span>\"\n                + JS_decodeURI(anchor);\n        }\n        let result = T.ui.result.ch(\"span[\" + s_DataHistory + \"='\" + hash + \"']\");\n\n        // 不存在相同的历史访问记录\n        if (result.length === 0) {\n            T.ui.result.pp('<span ' + s_DataHistory + '=\"'\n                + hash + '\" class=\"' + s_CssTocItem + '\">'\n                + title + '</span>');\n        }\n        // 已存在相同的历史访问记录\n        else {\n            // 将相同的记录移动到最前面\n            let existsItem = result.clone();\n            T.ui.result.pp(existsItem);\n            JQ_addClass(existsItem, s_CssTocItemCurrent);\n            JQ_remove(result);\n        }\n\n        // 为新增加 / 移动后的记录添加鼠标事件\n        let item = T.ui.result.ch(\"span[\" + s_DataHistory + \"='\" + hash + \"']\");\n        JQ_addClass(item, s_CssTocItemCurrent);\n        item.a(s_DataKeywordMatch, s_True);\n        item.uC().ck(function () {\n            V_util_gotoHash(hash);\n            // 触发锚点点击事件\n            typeof(T.holder.onInteractive) === s_Function && T.holder.onInteractive();\n        });\n\n        T.updateStatus();\n    }\n\n    /**\n     * 更新所属分段状态\n     */\n    T.updateStatus = function () {\n        TocIndex_updateStatus(this);\n    }\n\n    /**\n     * 显示历史组件\n     */\n    T.show = function () {\n        T.ui.title.show();\n        T.ui.result.show();\n\n        let tocItem = \"span.\" + s_CssTocItem,\n            noneHistory = \"div.v-toc-history-none\";\n        // 没有历史访问记录，也没有提示信息内容\n        if (T.ui.result.ch(tocItem + \", \" + noneHistory).length === 0) {\n            // 添加提示信息\n            T.ui.result.ap(\"<div class='v-toc-history-none'>\" + [\n                \"暂无记录!\",\n                \"No records!\"\n            ][V_lang_id] + s_DivClose);\n        }\n        // 有历史访问记录\n        else if (T.ui.result.ch(tocItem).length > 0) {\n            // 移除提示信息\n            JQ_remove(T.ui.result.ch(noneHistory));\n        }\n    }\n\n    /**\n     * 隐藏历史组件\n     */\n    T.hide = function () {\n        T.ui.title.hide();\n        T.ui.result.hide();\n    }\n    if (hidden) T.hide();\n}\n\n// ==================== 导航中心 DocLib 文库类 ==================== //\n\n/**\n * 构造函数\n * @param mask 遮罩对象\n * @param holder 关联的上级容器\n */\nfunction DocLib(mask, holder) {\n    let T = this;\n    T.ui = $(\".v-doc-lib\");\n    T.iframe = gUndefined;\n    T.enabled = gFalse;\n    T.page = gUndefined;\n    T.hash = \"\";\n    T.counter = 0;\n    T.identifier = s_Target + \"=\" + s_vdl;\n    T.paths = [];\n    T.holder = holder;\n\n    // 遮罩\n    T.mask = mask;\n    T.mask.bindPartner(this, T.ui);\n\n    V_ui_addAnimate(T.ui);\n\n    T.init = function () {\n        let docLibValue = V_util_getMetaByName(s_vlookDocLib),\n            result = null,\n            docLibToc = gUndefined;\n\n        T.iframe = $(\"iframe[name='\" + s_vlookDocLib + \"']\");\n\n        gToc.ap('<div id=\"doc-lib-toc\">' + s_DivClose);\n        docLibToc = $(\"#doc-lib-toc\");\n\n        // ------------------------------\n        // 处理 YAML 中的文库配置，支持以逗号分隔的多段内容\n        if (docLibValue !== gUndefined && (result = docLibValue.m(/^([^,]+(,\\s*)?)+$/)) != null) {\n            let docLibList = docLibValue.sp(/,\\s*/);\n            for (let i = 0; i < docLibList.length; i++) {\n                result = docLibList[i].m(/^(\\[([^\\]]+)\\]\\(([^)\\s]+)(\\s+\"([^\"]+)\")?\\))$/);\n                // 按 [text](url \"title\") 格式配置的文库\n                if (result != null) {\n                    let page = V_util_getUrlWithoutHash(result[3]),\n                        hash = V_util_getUrlHash(result[3]),\n                        text = result[2],\n                        title = (result.length > 5) ? result[5] : \"\";\n                    __addDocLibItem(text, page, hash, title);\n                }\n                // 按默认只有 url 方式配置的文库\n                else {\n                    let page = V_util_getUrlWithoutHash(docLibList[i]),\n                        hash = V_util_getUrlHash(docLibList[i]);\n                    __addDocLibItem([\"浏览文库\", \"Document Library\"][V_lang_id],\n                        page, hash, \"\");\n                }\n            }\n        }\n\n        // ------------------------------\n        // 处理文档内的文库专用链接\n        $(\"a[href*='\" + T.identifier + \"']\").e(function () {\n            let a = $(this),\n                href = a.a(s_Href),\n                page = V_util_getUrlWithoutHash(href).r(new RegExp(\"[?&]target=\" + s_vdl, \"i\"), \"\"),\n                hash = V_util_getUrlHash(href);\n            if (V_util_getUrlPathWithoutQueryAndHash(page).length > 0 || hash.length > 0)\n                __addDocLibItem(a.t(), page, hash, a.a(s_Title));\n\n            a.removeAttr(s_Href); // 移除 href\n            a.a(s_Target, s_vdl);\n            a.uC().ck(function () {\n                T.show(page, hash);\n            });\n        });\n\n        // 添加动画效果\n        V_ui_addAnimate($(\"#doc-lib-toc>.v-doc-lib-item, #doc-lib-toc>.v-doc-lib-item>svg\"));\n        LOG(\"    ├ DocLib: none\");\n\n        /**\n         * 添加文库项\n         * @param text 文库名称\n         * @param page 文库页面路径\n         * @param hash 文库页面锚点\n         * @param title 文库用于被检查的内容\n         */\n        function __addDocLibItem(text, page, hash, title) {\n            // 过滤重复的文库链接\n            if (T.paths.includes(page + hash))\n                return;\n            T.paths.push(page + hash);\n\n            T.enabled = gTrue;\n\n            // 初始化第一个文库项\n            T.counter++;\n            if (T.counter === 1) {\n                T.page = page;\n                T.hash = hash;\n            }\n\n            // 添加文库项\n            docLibToc.ap('<div class=\"v-doc-lib-item id-' + T.counter + '\">'\n                + V_ui_genSvgIcon(\"icoDocLib\", 20, 18, s_Light)\n                + '&nbsp;&nbsp;' + text\n                + s_DivClose);\n\n            // 初始化文库项数据\n            let item = docLibToc.f(\".v-doc-lib-item.id-\" + T.counter),\n                target = V_util_getUrlQueryParams(page)[s_Target];\n            item.a(s_DataPage, page);\n            item.a(s_DataHash, hash);\n            item.a(s_Title, text);\n            // 设置用于被关键字搜索的内容\n            item.a(s_DataForSearch, s_vdl + \"文库\" + title);\n            item.uC().ck(function () {\n                if (target === gUndefined || target.length === 0)\n                    T.show(page, hash);\n                else\n                    window.open(page + hash, target);\n            });\n\n            LOG(\"    ├ DocLib: \" + page + hash);\n        }\n    }\n\n    /**\n     * 重新加载文库内容\n     * @param scheme （可选）指定的颜色方案，light / dark\n     * @param page 指定的文库路径\n     * @param hash 指定的锚点\n     */\n    T.reload = function (scheme, page, hash) {\n        let cs = \"\";\n\n        // 指定的颜色方案不为空时\n        if (scheme !== gUndefined)\n            cs = \"&cs=\" + scheme;\n\n        // 指定的页面为空时（不包括 ?target=vdl 这种情况）\n        if (page === gUndefined)\n            page = T.page;\n        // 指定的锚点为空时\n        if (hash === gUndefined)\n            hash = \"\";\n\n        T.iframe.a(s_Src,\n            page + ((page.i(\"?\") > -1) ? \"&\" : \"?\")\n            + \"ws=none&type=mini\"\n            + cs + hash);\n    }\n\n    /**\n     * 是否已显示\n     * @returns boolean\n     */\n    T.isShowed = function () {\n        return T.ui.c(s_Display) !== s_None;\n    }\n\n    /**\n     * 显示文库\n     * @param newPage 指定的文库路径\n     * @param hash 指定的锚点\n     */\n    T.show = function (newPage, hash) {\n        typeof(T.holder.onInteractive) === s_Function && T.holder.onInteractive();\n\n        let path = V_util_getUrlPathWithoutQueryAndHash(newPage);\n        // ALERT(`${path}, ${newPage}`);\n\n        T.mask.show();\n        T.ui.show();\n\n        // 如果指定的页面为空，则使用当前页面\n        if (path.length === 0) {\n            path = T.page;\n            newPage = T.page;\n        }\n\n        // 如果指定的锚点为空，且路径与当前页面一致，则不刷新页面\n        if (hash.length === 0\n            && path === V_util_getUrlPathWithoutQueryAndHash(V_util_getUrlWithoutHash(T.iframe.a(s_Src))))\n            return;\n\n        // 刷新文库页面显示\n        if (path === T.page)\n            T.reload(gUndefined, gUndefined, hash);\n        else\n            T.reload(gUndefined, newPage, hash);\n    }\n\n    /**\n     * 隐藏文库\n     */\n    T.hide = function () {\n        T.ui.hide();\n        T.mask.hide();\n    }\n\n    /**\n     * 处理热键操作\n     * @param code 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (code, combKeys, event) {\n        if (T.ui.isHidden())\n            return;\n\n        let handled = false;\n        switch (code) {\n            case 27: // ESC\n                if (T.isShowed()) {\n                    T.hide();\n                    handled = true;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n    }\n}\n\n// ==================== 插图增强类 ==================== //\n\n/**\n * 初始化插图数据\n */\nfunction ExtFigure_init() {\n    let ignoreImgLost = gFalse,\n        sw = new Stopwatch();\n\n    // ----------------------------------------\n    // 对 svg 类插图（Mermaid）进行初始化处理\n    sw.st();\n    // 针对 Mermaid 饼图为双 SVG 结构（标准的 Mermaid 是单 SVG 结构），进行规范化调整\n    $(\".md-diagram-panel>svg>svg>g\").e(function () {\n        $(this).unwrap();\n    });\n    sw.ed(\"    ├ prepare svg: \");\n\n    // ----------------------------------------\n    // 对 img 类插图（Mermaid）进行初始化处理\n    sw.st();\n\n    // ！！！注意！！！为适配浏览器安全策略！！！\n    // 由于不同浏览器的安全策略不同，所以针对不同浏览器的图片颜色替换处理进行微调\n    // 若 SVG 文件与当前 HTML 文件不在同一域名下，浏览顺会存跨域权限问题无法完成处理\n    // 非 Firefox / Safari 以本地打开方式下无法进行处理\n    let httpMode = WINDOW_getHref().sW(\"http\"),\n        canFillAlter = (httpMode || env.browser.Firefox || env.browser.Safari),\n        hostname = window.location.hostname,\n        imgHost = V_util_getMetaByName(\"vlook-image-host\");\n    if (imgHost !== gUndefined && !imgHost.eW(\"/\"))\n        imgHost += \"/\";\n\n    $(\"#write p>img, #write .md-diagram-panel>svg,\"\n    + \"#write :is(img[src*='#icon'], img[src*='#logo'], img[src*='#card'], img[src*='#frame'])\").e(function () {\n        let fig = $(this),\n            src = fig.a(s_Src),\n            src2FillAlter = src,\n            container = fig.p(),\n            tagName = (src !== gUndefined ? \"img\" : \"svg\"),\n            params = \"\",\n            hash = \"\",\n            isPostcard = gFalse;\n        // ----------------------------------------\n        // img 类插图的处理\n        if (src !== gUndefined) {\n            // 对于 img 类插图的预处理\n            params = V_util_getUrlQueryParams(encodeURI(src));\n            hash = V_util_getUrlHash(src);\n\n            fig.a(s_Id, \"vk-id-img\" + V_doc_counter_img);\n\n            // 当前 HTML 的打开方式可进行图片「颜色替换」的适配处理\n            if (canFillAlter === gTrue) {\n                // 获得图片路径的域名\n                let matchRes = src2FillAlter.m(/^https?:\\/\\/([^\\/?#]+)(?:[\\/?#]|$)/i);\n                let srcHost = matchRes && matchRes[1];\n\n                // 对于相对路径，或与当前 HTML 域名一致\n                if (srcHost == null || hostname === srcHost) {\n                    // 针对 Safari 且指定了默认图床域名\n                    // 进行颜色替换前，先调整原始 <img> 的 src\n                    let needImgHost = (env.browser.Safari && !httpMode && imgHost !== gUndefined);\n                    if (needImgHost) {\n                        src2FillAlter = imgHost + src2FillAlter;\n                        fig.a(s_Src, src2FillAlter);\n                    }\n\n                    // 正式进行图片颜色替换处理\n                    __initFillAlter(fig, params, hash, src2FillAlter);\n\n                    // 恢复原始 <img> 的 src\n                    if (needImgHost)\n                        fig.a(s_Src, src);\n                }\n            }\n\n            // 初始化图片对「颜色方案」的适配处理\n            __initColorScheme(fig, params);\n\n            // 初始化图片对「高分屏」的适配处理\n            __initHighDPI(fig, params);\n\n            // 初始化图片对「图文卡片」的适配处理\n            __initPostcard(fig, hash);\n\n            // 对图片「加载结果」进行是跟踪检查\n            __bindLoadChecker(fig);\n\n            V_doc_counter_img++;\n\n            // 跳过带指定显示版式的图片\n            if (__isNotFigure(params, hash))\n                return gTrue;\n\n            // 插图（非明信片）的处理\n            isPostcard = __isPostcard(params, hash);\n            if (!isPostcard) {\n                // 初始化图片背景的适配处理\n                __initBackground(fig, params);\n\n                // 添加插图容器\n                container = fig.p();\n                // 确保 img 有独立的父容器，一般情况下 Typora 导出的为 <p>\n                if (V_util_getTagName(container) !== \"p\") {\n                    fig.wrap(\"<p></p>\");\n                    container = fig.p();\n                }\n\n                // 初始化对齐方式\n                __initAlign(container, hash, params);\n            }\n        }\n\n        // 插图（非明信片）的处理\n        if (!isPostcard) {\n            // 绑定内容助手\n            if (src !== gUndefined)\n                ContentAssistor_bind(fig, s_Fig + s_SuffixImg);\n            else\n                ContentAssistor_bind(fig, s_Fig + s_SuffixSvg);\n\n            V_doc_counter_figure++;\n\n            // 处理题注\n            __disposeCaption(fig, tagName);\n\n            // 设置容器数据，用于折叠内容时使用\n            container.a(s_DataContainer, tagName);\n            JQ_addClass(container, s_CssCaptionContainer);\n            // 折叠长插图（一行多图的情况则跳过）\n            let prevFig = fig.p().p();\n            if (prevFig === undefined || prevFig.ch(\".v-caption, img\").length === 1)\n                ContentFolder_add(fig, s_Figure);\n        }\n    }); // 结束初始化处理\n    sw.ed(\"    ├ figure set: \");\n\n    // ----------------------------------------\n    // srcset 为 auto 模式的处理\n    sw.st();\n    // 在当前环境的 DPR > 1 时，对于没有指定 srcset 的 img 类插图，自动强制将 src 直接指定 2x 图片\n    // 可通过 URL 参数 srcset=auto 来启用\n    if (env.display.DPR > 1\n        && V_util_getParamVal(s_Srcset) === s_Auto) {\n            $(\"p[\" + s_DataContainer + \"='img'] img\").e(function () {\n                let fig = $(this);\n                if (fig.a(s_Src).i(s_SuffixSvg, 1) === -1 // 跳过 svg 文件\n                    && fig.a(s_Srcset) === gUndefined) {\n                        fig.a(s_Srcset, fig.a(s_Src) + \" 2x\");\n                }\n            });\n    }\n\n    // 进行图片对颜色方案的适配处理\n    ExtFigure_adjustColorScheme(gFalse);\n    sw.ed(\"    └ DPR & misc.: \");\n\n    /**\n     * 处理题注\n     * @param fig 插图对象\n     * @param tagName 插图所属标签 img、svg\n     */\n    function __disposeCaption(fig, tagName) {\n       // 设置插图属性数据\n       fig.a(s_DataFigNum, V_doc_counter_figure);\n       JQ_addClass(fig, s_CssFig);\n\n       // 先根据题注语法生成题注\n        CaptionGenerator_actionForMediaContent(fig, tagName);\n    }\n\n    /**\n     * 绑定加载失败处理\n     * @param fig 插图对象\n     */\n    function __bindLoadChecker(fig) {\n        let src = fig.a(s_Src);\n        // 图片无法加载时加载默认图片\n        fig.bind(s_Error, function () {\n            if (!ignoreImgLost) {\n                // 将无法加载的图片信息添加到链接检查器\n                let cp1 = fig.p().f(s_Caption1).hm(),\n                    id = fig.p().a(s_Id);\n                // 非插图（无题注），则按普通的 img 来处理\n                if (cp1 === gUndefined) {\n                    cp1 = fig.a(s_Alt);\n                    id = fig.a(s_Id);\n                }\n                // 添加无效链接项\n                LinkTool_addToCheck(id, \"🖼 <strong>\" + [\n                    \"无效的图片源\",\n                    \"Invalid image source\"\n                ][V_lang_id] + \":</strong> \" + cp1);\n            }\n\n            __loadDefaultOnError($(this));\n        });\n\n        // 强制重新加载一次以触发error事件\n        fig.a(s_Src, src);\n    }\n\n    /**\n     * 判断是否属于插图\n     * @param params 插图路径\n     * @param hash 插图路径\n     * @returns boolean true：不属于插图，false：属于插图\n     */\n    function __isNotFigure(params, hash) {\n        let iconMode = hash.i(\"#icon\") > -1,\n            logoMode = hash.i(\"#logo\") > -1,\n            frameMode = hash.i(\"#frame\") > -1;\n        return (iconMode || logoMode || frameMode);\n    }\n\n    /**\n     * 判断是否属于明信片\n     * @param params 插图路径\n     * @param hash 插图路径\n     * @returns boolean true：不属于明信片，false：属于明信片\n     */\n    function __isPostcard(params, hash) {\n        return hash.i(\"#card\") > -1;\n    }\n\n    /**\n     * 初始化图片对齐方式的处理\n     * 注意：在 Typora 编辑模式时的对齐方式，直接通过 CSS 实现\n     * @param container img 的题注容器对象\n     * @param hash img 对象 src 值的锚点内容（如：#center#logo）\n     * @param params img 对象 src 值的 URL 参数数组\n     */\n    function __initAlign(container, hash, params) {\n        let align = gUndefined;\n        // 针对通过锚点设置对齐方式\n        if (hash.i(\"#center\") > -1)\n            align = s_Center;\n        else if (align === gUndefined && hash.i(\"#right\") > -1)\n            align = s_Right;\n        else if (align === gUndefined && hash.i(\"#left\") > -1)\n            align = s_Left;\n        // 针对通过 URL 参数设置对齐方式\n        else if (align === gUndefined && params[\"align\"] !== gUndefined)\n            align = params[\"align\"];\n        else\n            return;\n        // 设置父级对象的对齐方式\n        container.c(s_TextAlign, align);\n    }\n\n    /**\n     * 初始化图片对网格背景的的适配处理\n     * @param img img 对象\n     * @param params img 对象 src 值的 URL 参数数组\n     */\n    function __initBackground(img, params) {\n        let grid = params[\"grid\"];\n        if (grid === gUndefined)\n            return;\n        img.a(s_DataFigureGrid, grid);\n    }\n\n    /**\n     * 初始化图片颜色替换的适配处理\n     * @param img img 对象\n     * @param params img 对象 src 值的 URL 参数数组\n     * @param hash img 对象 hash 值\n     * @param src img 对象的 src 值\n     */\n    function __initFillAlter(img, params, hash, src) {\n        if (params[s_Fill] === gUndefined)\n            return;\n\n        img.a(s_DataImgFill, params[s_Fill]);\n\n        // 图片为 SVG 格式时，将源文件通过 SVGInject 注入到 HTML 文档中\n        if (src.i(s_SuffixSvg, 1) > -1) {\n            SVGInject(img[0], {\n                // SVG 注入成功\n                afterInject : function (img, svg) {\n                    let svgObj = $(svg);\n                    // 属于插图的，则绑定内容助手\n                    if (!__isNotFigure(params, hash))\n                        ContentAssistor_bind(svgObj, s_Fig + s_SuffixSvg);\n                    // 对颜色进行替换的适配处理\n                    ExtFigure_adjustFillAlterForSVG(svgObj.a(s_DataImgFill), svgObj);\n                },\n                // SVG 注入失败\n                onFail : function (img, svg) {\n                    ERROR(\"SVGInject ERROR:\", $(img).a(s_Src));\n                }\n            });\n        }\n    }\n\n    /**\n     * 初始化图片对颜色方案（Light / Dark）的适配处理\n     * @param img img 对象\n     * @param params img 对象 src 值的 URL 参数数组\n     */\n    function __initColorScheme(img, params) {\n        // 未指定 darksrc 参数，或同时指定了 fill 参数，则跳过\n        if (params[s_Darksrc] === gUndefined)\n            return;\n\n        // 适配 Dark Mode 的方式：反转\n        if (params[s_Darksrc] === s_Invert  ) {\n            img.a(s_DataDarkSrc, s_Invert);\n        }\n        // 适配 Dark Mode 的方式：替换\n        else {\n            img.a(s_DataDarkSrc, \"alter\");\n\n            let src = img.a(s_Src),\n                path = V_util_getPath(src),\n                queryString = V_util_getUrlQueryString(src);\n            // 补全 URL 参数内容\n            let darksrc = params[s_Darksrc] + (queryString !== \"\" ? (\"?\" + queryString) : \"\");\n            // 如果 darksrc 只含文件名，则用 src 的路径进行补全\n            if (darksrc.i(\"/\") === -1)\n                darksrc = path + darksrc;\n\n            // 初始化不同颜色方案的 src 内容\n            img.a(s_DataSrcLight, img.a(s_Src));\n            img.a(s_DataSrcDark, darksrc);\n\n            // 初始化不同颜色方案的 srcset 内容\n            if (params[s_Srcset] !== gUndefined)\n                img.a(s_DataSrcsetLight, params[s_Srcset]);\n            if (params[s_Darksrcset] !== gUndefined)\n                img.a(s_DataSrcsetDark, params[s_Darksrcset]);\n        }\n    }\n\n    /**\n     * 初始化图片高分屏的适配处理\n     * @param img img 对象\n     * @param params img 对象 src 值的 URL 参数数组\n     */\n    function __initHighDPI(img, params) {\n        let src = img.a(s_Src),\n            srcset = params[s_Srcset],\n            darksrcset = params[s_Darksrcset];\n\n        // Light Mode 对应的图片集\n        if (srcset !== gUndefined) {\n            srcset = __transUrlSrcSet(src, srcset);\n            img.a(s_DataSrcsetLight, srcset);\n            // 设置默认值\n            img.a(s_Srcset, srcset);\n        }\n\n        // Dark Mode 对应的图片集\n        if (darksrcset !== gUndefined) {\n            darksrcset = __transUrlSrcSet(img.a(s_DataSrcDark), darksrcset);\n            img.a(s_DataSrcsetDark, darksrcset);\n        }\n    }\n\n    /**\n     * 初始化图片高分屏的适配处理\n     * @param img img 对象\n     * @param hash img 对象 src 值的锚点\n     */\n    function __initPostcard(img, hash) {\n        // 未指定 card 参数，则跳过\n        if (hash === gUndefined || hash.i(s_Card) === -1)\n            return;\n\n        // 如果是嵌套在 blockquote 中，则对其进行样式调整\n        let blockquote = img.parentsUntil(s_Blockquote).last();\n        if (blockquote.length > 0) {\n            blockquote.p().c(s_CssText, s_Background + \":\" + s_None + s_Important + s_Padding + \":0\" + s_Important);\n            blockquote.p().c(s_BoxShadow, s_None);\n            blockquote.p().c(s_Height, s_Auto);\n            blockquote.p().removeAttr(s_DataQuoteGroup);\n        }\n\n        // 插入卡片元素\n        let altText = img.a(s_Alt),\n            altTextForSearch = altText,\n            titleText = img.a(s_Title),\n            cardBody = img.p().n();\n\n        // 若添加了通过引用指定为正文内容的，则进行处理\n        if (cardBody !== gUndefined && cardBody.length > 0) {\n            if (V_util_getTagName(cardBody) === \"blockquote\") {\n                altText = cardBody.hm();\n                altTextForSearch = cardBody.t();\n                JQ_remove(cardBody);\n            }\n        }\n\n        img.removeAttr(s_Title);\n\n        img.af('<div class=\"v-post-card v-transition-all\">'\n            + (titleText === gUndefined ? \"\" : '<div class=\"v-card-title\">' + titleText + s_DivClose)\n            + (altText === gUndefined ? \"\" : '<div class=\"v-card-text\">' + altText + s_DivClose)\n            + s_DivClose);\n\n        // card 模式时绑定事件，card dual 模式时不绑定\n        if (hash.i(\"#cardd\") === -1) {\n            // 图片 hover 事件\n           img.hover(function () {\n                let _t = $(this),\n                    card = _t.n();\n                if (card.c(s_Display) !== s_None)\n                    return;\n\n                let padding = JS_parseInt(_t.c(s_PaddingLeft)),\n                    borderBottomWidth = JS_parseInt(_t.c(s_BorderBottomWidth));\n\n                // 设置卡片尺寸信息\n                card.c(s_Width, _t.w() + padding * 2);\n                let h = JS_parseInt(card.c(s_Height)),\n                    imgH = _t.h() + padding * 2;\n                card.c(s_Top, borderBottomWidth + _t.pos().top + imgH - h);\n\n                // 计算卡片应所在的 left 值\n                card.c(s_Left, _t.pos().left);\n\n                // 显示\n                card.c(s_Display, s_Block);\n            }, function (event) {\n                let _t = $(this),\n                    card = _t.n();\n                if (!v_util_mouseDropIn(_t, event))\n                    card.c(s_Display, s_None);\n            });\n\n            // 鼠标离开文字卡片后事件\n            img.n().on(s_MouseLeave, function (event) {\n                if (!v_util_mouseDropIn(img, event))\n                    $(this).c(s_Display, s_None);\n            });\n        }\n        else {\n            img.c(s_CssText, s_BorderWidth + \":0\" + s_Important);\n        }\n\n        V_doc_counter_postcard++;\n\n        // 题注处理\n        if (titleText === gUndefined)\n            titleText = \"\";\n        if (altTextForSearch === gUndefined)\n            altTextForSearch = \"\";\n        let anchor = \"vk-id-psc\" + V_doc_counter_postcard,\n            caption = s_Span + [\n                \"明信片 \",\n                \"Postcard \"\n                ][V_lang_id] + V_doc_counter_postcard + \".</span>\" + titleText,\n            dataForSearch = titleText + altTextForSearch;\n        img.a(s_Id, anchor);\n        img.a(s_DataTitle, caption);\n        iNavCenter.figure.add(caption, anchor, dataForSearch);\n    }\n\n    /**\n     * 加载默认图片\n     * @param target 目标 img 对象\n     */\n    function __loadDefaultOnError(target) {\n        // let alt = target.a(s_Alt);\n        // 将 alt 替换为 title 避免无法指定 width、height 属性\n        target.removeAttr(s_Alt);\n        target.removeAttr(s_Title);\n        JQ_addClass(target, \"v-img-lost\");\n    }\n\n    /**\n     * 转换图片 URL 中的 srcset / darksrcset 参数为符合 <img> srcset 属性的格式\n     * @param src 图片 URL\n     * @param srcset srcset 或 darksrcset 参数的内容\n     */\n    function __transUrlSrcSet(src, srcset) {\n        // 针对 html 与 图片同一目录的情况\n        let path = V_util_getPath(src);\n\n        // @2x/@3x 图片资源为自动匹配名称的语法\n        // 2x/3x 的文件名为 <文件名@2x.xxx> 或 <文件名@3x.xxx> 的情况\n        if (/^@2x(,@3x)?$/.test(srcset)) {\n            let pureSrc = src.s(0, src.i(\"?\", 5)),\n                fileName = pureSrc.s(0, pureSrc.lastIndexOf(\".\")), // 图片资源文件名（不含扩展名）\n                suffix = pureSrc.s(pureSrc.lastIndexOf(\".\"), pureSrc.length); // 图片资源扩展名\n            // 自动补全图片资源 URL\n            srcset = srcset.r(/@2x/, fileName + \"@2x\" + suffix + \" 2x\");\n            srcset = srcset.r(/@3x/, fileName + \"@3x\" + suffix + \" 3x\");\n        }\n        // @2x/@3x 图片资源为指定文件名的语法\n        else {\n            // 将倍数标识转换为 srcset 标准语法\n            // 要从图片扩展名开始替换，避免将文件中的 @2x @3x 误替换掉\n            srcset = srcset.rAfter(\".\", \"@2x\", \" 2x\");\n            srcset = srcset.rAfter(\".\", \"@3x\", \" 3x\");\n        }\n\n        // 为 2x 图添加图片路径\n        let sss = srcset.sp(\",\");\n        if (sss[0].i(\"/\") === -1) // 仅为文件名时才添加路径\n            srcset = path + srcset;\n        // 为 3x 图添加图片路径\n        if (sss.length > 1 && sss[1].i(\"/\") === -1) // 仅为文件名时才添加路径\n            srcset = srcset.r(\" 2x,\", \" 2x,\" + path);\n\n        return srcset;\n    }\n}\n\n/**\n * 复制图片地址\n * @param source 内容源对象\n * @param event 事件对象\n */\nfunction ExtFigure_copySrc(source, event) {\n    let content = ContentAssistor_lastHover.a(s_Src);\n    // 若复制为 Markdown\n    if (ContentAssistor_copyAsMarkdown) {\n        let alt = ContentAssistor_lastHover.a(s_Alt),\n            title = ContentAssistor_lastHover.a(s_Title);\n        content = \"![\" + (alt !== gUndefined ? alt : \"\")\n            + \"](\" + content + (title !== gUndefined ? ' \"' + title + '\"' : \"\") + \")\";\n    }\n    Copyer_action(source, content, gTrue);\n }\n\n/**\n * 适配指定图片在 Light / Dark Mode 的适配处理\n * @param disposeGrid 是否进行网格背景适配处理：true / false\n */\nfunction ExtFigure_adjustColorScheme(disposeGrid) {\n    let scheme = ColorScheme.scheme,\n        darkMode = scheme === s_Dark;\n    // --------------------\n    // 对图片在 Dark Mode 时的适配处理\n    // 1. 对适配方式为「反转」的处理\n    $(\"img[\" + s_DataDarkSrc + \"='invert'], svg[\" + s_DataDarkSrc + \"='invert']\").e(function () {\n        let img = $(this),\n            src = img.a(s_Src);\n        if (darkMode) {\n            // 如果图片没有指定替换颜色时才进行处理\n            if (img.a(s_DataImgFill) === gUndefined) {\n                // 设置默认的 srcset\n                if (src !== gUndefined)\n                    img.a(s_Srcset, img.a(s_DataSrcsetLight));\n                // 添加反转样式\n                JQ_addClass(img, s_CssImgInvertDark);\n            }\n        }\n        else {\n            JQ_removeClass(img, s_CssImgInvertDark);\n            if (src !== gUndefined)\n                img.a(s_Srcset, img.a(s_DataSrcsetLight));\n        }\n    });\n    // 2. 对适配方式为「替换」的处理\n    $(\"img[\" + s_DataDarkSrc + \"='alter']\").e(function () {\n        let img = $(this);\n        JQ_removeClass(img, s_CssImgInvertDark);\n        img.a(s_Src, img.a(s_DataSrc_ + scheme));\n        img.a(s_Srcset, img.a(s_DataSrcset_ + scheme));\n    });\n\n    // --------------------\n    // 对图片指定为颜色替换的处理\n    $(\"img[\" + s_DataImgFill + \"='text'], img[\" + s_DataImgFill + \"='theme1'], img[\" + s_DataImgFill + \"='theme2'], svg[\" + s_DataImgFill + \"='text'], svg[\" + s_DataImgFill + \"='theme1'], svg[\" + s_DataImgFill + \"='theme2']\").e(function () {\n        let fig = $(this),\n            fill = fig.a(s_DataImgFill);\n        // SVG 对象，或 src 为 .svg 的 img 对象\n        if (V_util_getTagName(fig).sW(\"s\") || fig.a(s_Src).i(s_SuffixSvg, 1) > -1) {\n            ExtFigure_adjustFillAlterForSVG(fill, fig);\n        }\n        // 其他情况\n        else {\n            if (fill === s_Text)\n                fig.c(s_Filter, \"drop-shadow(12345px 0px \" + fig.p().c(s_Color) + \")\");\n            else\n                fig.c(s_Filter, \"drop-shadow(12345px 0px var(--ac-\" + fill + \"-lg))\");\n\n            if (fig.a(s_DataFigNum) !== gUndefined)\n                fig.c(s_Background, s_None);\n        }\n    });\n\n    // --------------------\n    // 非初始化时执行，避免与 CSS 默认配置冲突\n    // 如：@media (prefers-color-scheme: dark) 部分\n    if (disposeGrid) {\n        // 适配图片网格背景的处理\n        $(\"img[\" + s_DataFigureGrid + \"='line'],img[\" + s_DataFigureGrid + \"='block']\").e(function () {\n            let img = $(this);\n            // 先清空所有涉及的样式\n            if (darkMode) {\n                JQ_removeClass(img, \"v-fig-solid-bg-light\");\n                JQ_removeClass(img, \"v-fig-grid-line-light\");\n                JQ_removeClass(img, \"v-fig-grid-block-light\");\n            }\n            else {\n                JQ_removeClass(img, \"v-fig-solid-bg-dark\");\n                JQ_removeClass(img, \"v-fig-grid-line-dark\");\n                JQ_removeClass(img, \"v-fig-grid-line-dark-invert\");\n                JQ_removeClass(img, \"v-fig-grid-block-dark\");\n                JQ_removeClass(img, \"v-fig-grid-block-dark-invert\");\n            }\n\n            let gridType = img.a(s_DataFigureGrid),\n                darkInvert = img.a(s_DataDarkSrc) === s_Invert;\n            // 网络背景\n            if (gridType === s_Line || gridType === s_Block) {\n                if (darkMode && darkInvert)\n                    // 先添加反色后的背景，以适配反色样式后能正常显示\n                    JQ_addClass(img, \"v-fig-grid-\" + gridType + \"-\" + scheme + \"-invert\");\n                else\n                    JQ_addClass(img, \"v-fig-grid-\" + gridType + \"-\" + scheme);\n            }\n            // 非网格背景\n            else\n                JQ_addClass(img, \"v-fig-solid-bg-\" + scheme);\n        });\n    }\n}\n\n/**\n * 适配 *.svg 格式的 img 图片注入为 SVG 实例后，对颜色进行替换的适配处理\n * @param fill 图片颜色替换方式：text / theme1 / theme2\n * @param svg SVG 实例对象\n */\nfunction ExtFigure_adjustFillAlterForSVG(fill, svg) {\n    // 先取消可能会因数 darksrc=invert 的 CSS 配置影响\n    svg.c(s_Filter, s_None);\n    // 再针对进行微调\n    if (fill === s_Text)\n        svg.f(\"path, rect, ellipse, polygon\").c(s_Fill, svg.p().c(s_Color));\n    else\n        svg.f(\"path, rect, ellipse, polygon\").c(s_Fill, \"var(--ac-\" + fill.l() + \")\");\n}\n\n// ==================== 插图导航模块 ==================== //\n\nfunction FigureNav() {\n    let T = this;\n    T.ui = $(\".v-fig-nav\"); // 插图导航主界面\n    T.btns = {\n        ui : $(s_CssFigNavBtns), // 所有导航按钮\n        prev : $(s_CssFigNavBtns + \".prev\"), // 上一张插图按钮\n        next : $(s_CssFigNavBtns + \".next\"), // 下一张插图按钮\n        close : $(\".v-btn-close-figure-nav\"), // 关闭按钮\n    };\n    T.content = $(\".v-fig-content\"); // 显示插图内容的控件\n    T.figNum = 1; // 当前插图索引序号，对应 vk-id-fig 中的值\n\n    V_ui_addAnimate(T.content.ch(\"img, svg\"));\n\n    // 绑定各按钮事件\n    T.btns.prev.uC().ck(function () {\n        T.prevFig();\n    });\n    T.btns.next.uC().ck(function () {\n        T.nextFig();\n    });\n    T.btns.close.uC().ck(function () {\n        T.hide();\n    });\n    T.content.uC().ck(function () {\n        T.hide();\n    });\n\n    /**\n     * 插图导航导航按钮在不同终端的适配处理\n     */\n    T.adjustHoverStyle = function () {\n        // 移动设备时解绑样式事件\n        if (env.device.mobile) {\n            T.btns.prev.uH();\n            T.btns.next.uH();\n        }\n        // 非移动设备时绑定样式事件\n        else {\n            T.btns.ui.hover(function () {\n                $(this).c(s_Transform, \"translateY(-2px)\");\n            }, function () {\n                $(this).c(s_Transform, s_None);\n            });\n            // 鼠标键按下事件，模拟 :active\n            T.btns.ui.on(s_MouseDown, function () {\n                $(this).c(s_Transform, s_None);\n            });\n            // 鼠标键释放事件，模拟恢复正常\n            T.btns.ui.on(s_MouseUp, function () {\n                $(this).c(s_Transform, \"translateY(-2px)\");\n            });\n        }\n    }\n\n    /**\n     * 是否已显示\n     * @returns boolean\n     */\n    T.isShowed = function () {\n        return T.ui.c(s_Display) !== s_None;\n    }\n\n    /**\n     * 显示插图导航\n     */\n    T.show = function (fig) {\n        if (V_doc_counter_figure === 0)\n            return;\n\n        V_doc_scroll_freeze();\n        V_doc_block = gTrue;\n\n        if (fig == null)\n            fig = $(\"[\" + s_DataFigNum + \"='\" + T.figNum + \"']\");\n\n        // 在插图导航中显示对应插图\n        T.figNum = JS_parseInt(fig.a(s_DataFigNum));\n\n        V_ui_show(T.ui);\n\n        T.display();\n        T.updateUI();\n    }\n\n    /**\n     * 关闭插图导航\n     */\n    T.hide = function () {\n        T.content.empty();\n        V_ui_hide(T.ui);\n\n        V_doc_scroll_unfreeze();\n        V_doc_block = gFalse;\n    }\n\n    /**\n     * 显示插图内容\n     */\n    T.display = function () {\n        let fig = $(\"[\" + s_DataFigNum + \"='\" + T.figNum + \"']\");\n        T.content.empty();\n        T.content.show();\n        T.content.c(s_Width, $(window).w())\n            .c(s_Height, $(window).h());\n\n        let newFig = fig.clone();\n        newFig.c(s_MaxWidth, $(window).w() - 80)\n            .c(s_MaxHeight, $(window).h() - 50)\n            .c(s_BorderRadius, s_varRB);\n        JQ_addClass(newFig, \"v-interactive\");\n        V_ui_hide(newFig);\n\n        // 添加鼠标移入/移出事件\n        V_ui_bindHover(newFig);\n\n        // 添加鼠标点击事件\n        newFig.uC().ck(function () {\n            // 跳转到对应位置\n            V_util_gotoHash(\"#vk-id-fig\" + T.figNum);\n            T.hide();\n        });\n\n        T.content.ap(newFig);\n        V_ui_show(newFig);\n    }\n\n    /**\n     * 查看上一个插图\n     */\n    T.prevFig = function () {\n        if (T.figNum > 1) {\n            T.figNum--;\n            T.display();\n            T.updateUI();\n        }\n    }\n\n    /**\n     * 查看下一个插图\n     */\n    T.nextFig = function () {\n        if (T.figNum < V_doc_counter_figure) {\n            T.figNum++;\n            T.display();\n            T.updateUI();\n        }\n    }\n\n    /**\n     * 更新插图导航界面\n     */\n    T.updateUI = function () {\n        let pageNum = $(\".v-fig-nav-title\");\n\n        pageNum.hm(s_SpanSpace + \"class='v-fig-page-num'>\"\n            + T.figNum + \"/\" + V_doc_counter_figure + s_SpanClose + \" \"\n            + $(\"#vk-id-fig\" + T.figNum + \">.v-cap-1\").t());\n\n        // 更新导航按钮位置\n        T.btns.prev.c(s_Top, (T.ui.h() - T.btns.prev.h()) / 2);\n        T.btns.next.c(s_Top, T.btns.prev.c(s_Top));\n            // .c(s_Right, \"10px\");\n\n        // 根据当前插图索引更新浏览按钮有效状态\n        T.btns.prev.c(s_Opacity, \"0\");\n        T.btns.next.c(s_Opacity, \"0\");\n        if (T.figNum > 1) {\n            T.btns.prev.c(s_Opacity, \"1\");\n        }\n        if (T.figNum < V_doc_counter_figure) {\n            T.btns.next.c(s_Opacity, \"1\");\n        }\n    }\n\n    /**\n     * 处理热键操作\n     * @param code 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (code, combKeys, event) {\n        if (iFigNav.ui.isHidden())\n            return;\n\n        let handled = false;\n        switch (code) {\n            case 188: // .\n            case 37: // ←\n                T.prevFig();\n                handled = true;\n                break;\n            case 190: // ,\n            case 39: // →\n                T.nextFig();\n                handled = true;\n                break;\n            case 27: // ESC\n                if (T.isShowed()) {\n                    T.hide();\n                    handled = true;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n    }\n}\n\n// ==================== Mermaid - 脑图交互类 ==================== //\n\nfunction mmMindmap_init() {\n    // to-do: 新特性，未完成\n    $('svg[aria-roledescription=\"mindmap\"]>.mindmap-nodes>.mindmap-node').e(function () {\n        let _t = $(this),\n            result;\n        if ((result = _t.a(s_Class).m(/section-\\d+/i)) != null)\n            WARN(result[0]);\n    });\n\n    $('svg[aria-roledescription=\"mindmap\"]>.mindmap-edges').e(function () {\n\n    });\n}\n\n// ==================== 样式重制类 ==================== //\n\n/**\n * 调整任务列表复选框的样式\n */\nfunction Restyler_forTaskList() {\n    // 遍历所有正文下的无序列表\n    $(\"#write>ul\").e(function () {\n        // 遍历所有含 checkbox 组件的无序列表项\n        $(this).f(\".md-task-list-item input[type='checkbox']\").e(function () {\n            let li = $(this).p();\n            // 遍历其下级无序列表\n            li.ch(\"ul\").e(function () {\n                let chkIndex = 0,\n                    notDone = gFalse;\n                // 遍历下级无序列表的所有一级子元素内 checkbox 的 checked 状态\n                $(this).ch(\"li\").e(function () {\n                    // 只对有两个或以上的 checkbox 子元素，因为只有 1 个 checkbox 是无法判断是否为不确定选择\n                    if (chkIndex > 0 && $(this).f(\"input\").a(s_Checked) === gUndefined) {\n                        notDone = gTrue;\n                        return gFalse;\n                    }\n                    chkIndex++;\n                });\n                // 若下级无序列表的一级子元素中，有任意一个 checkbox 为未完成的，则视为不确定选择\n                if (notDone)\n                    li.ch(\"input\")[0].indeterminate = gTrue;\n                else if (!notDone && chkIndex === 1 && $(this).f(\"input\").a(s_Checked) === s_Checked)\n                    li.ch(\"input\").a(s_Checked, gTrue);\n            });\n        });\n    });\n\n    // return;\n    // 对任务列表的 checkbox 组件转换为 SVG 图标\n    $(\"#write input[type='checkbox']\").e(function () {\n        let chkStatus = \"no\", // 默认为未完成\n            chkStyle = s_Dark; // 默认样式\n\n        // 已完成\n        let _t =  $(this),\n            checked = _t.a(s_Checked);\n        if (checked !== gUndefined && checked.sW(\"c\")) { // checked\n            chkStatus = s_Yes;\n            chkStyle = s_Theme;\n        }\n        // 部分完成（不确定选择）\n        else if (_t[0].indeterminate) {\n            chkStatus = s_Un;\n            // chkStyle = \"btn\";\n        }\n\n        // 替换为 SVG 图标\n        _t.bf(\"<svg width='14px' height='14px' class='v-svg-input-checkbox'><use xlink:href='#icoChkbox_\"\n            + chkStatus + \"' class='v-svg-ico-\" + chkStyle + \"'/></svg>\");\n        JQ_remove(_t);\n    });\n}\n\n/**\n * 调整默认的 Mermaid 样式\n */\nfunction Restyler_forMermaid() {\n    // ========== ZenUML 图 ==========\n    let zenSelector = \".md-diagram-panel>div>svg[aria-roledescription='zenuml']\";\n    // 调整 ZenUML 尺寸因主题原因导致强制被限制大小的情况\n    $(zenSelector).e(function () {\n        let target = $(this);\n        target.f(\".zenuml.bg-skin-canvas\").e(function () {\n            let zenuml = $(this);\n            target.c(s_Width, zenuml.w())\n                .c(s_Height, zenuml.h());\n            // 同时修正题注框的宽度、高度\n            target.ps(\".v-caption\").c(s_Width, s_Auto)\n                    .c(s_Height, s_Auto);\n        });\n    });\n    // to-do: 临时修复方式（多个图标同名渐变色定义冲突）\n    // 待 ZenUML 官方修复后可取消\n    let idPrefix = \"linearGradient-\",\n        svgIconCount = 0;\n    $(zenSelector + \" div[alt^='icon']>svg\").e(function () {\n        svgIconCount++;\n        let svgIcon = $(this),\n            idValue = \"linearGradient-vk-fixed-\" + svgIconCount;\n        // 图标渐变色定义 id 更名\n        svgIcon.f(\"defs>linearGradient[id^='\" + idPrefix + \"']\").attr(\"id\", idValue);\n        // 更新图标渐变色定义 id 值\n        svgIcon.f(\"g[fill^='url(#\" + idPrefix + \"']\").attr(\"fill\", \"url(#\" + idValue + \")\");\n    });\n\n    // ========== 时序图 ==========\n    let seqSelector = \".md-diagram-panel>div>svg[aria-roledescription='sequence']\";\n    // 修正顺序图整体的样式\n    // $(\".md-diagram-panel svg[id^='mermaidChart'][viewBox^='-']\").e(function () {\n    $(seqSelector).e(function () {\n        let target = $(this),\n            viewBox = target.a(s_ViewBox).sp(/\\s+/),\n            paddingBottom = (target.c(s_PaddingBottom));\n        // 修正顺序图的下边距，前提先在 CSS 中设置了合适的 padding-bottom 值\n        target.a(s_ViewBox,\n            viewBox[0] + \" \" + viewBox[1] + \" \" + viewBox[2] + \" \"\n            + (JS_parseInt(viewBox[3]) + JS_parseInt(paddingBottom)));\n        // 重置 CSS 中的 padding-bottom 值，因为已由上面的下边距值替换\n        JQ_addClass(target, s_CssMermaidRestyler);\n    });\n\n    // 更新顺序图中的角色样式\n    // $(\".md-diagram-panel svg[id^='mermaidChart'] g>rect[class='actor']\").e(function () {\n    $(seqSelector + \" g>rect[class='actor']\").e(function () {\n        let actor = $(this),\n            text = actor.n(s_Text).ch(), // actor text object\n            tmpText = text.t(),\n            prefix = \"\";\n        const front = /@.+/g, // 前端触点角色\n            keySys = /^\\*\\*.+/g, // 重要系统角色\n            extSys = /^--.+/g; // 外部系统角色\n\n        // 更新 <前端触点角色> 样式\n        if (front.test(tmpText)) {\n            let h = actor.h(),\n                line = (actor.p().pr(s_Line) || actor.pr(s_Line));\n            actor.a(s_Rx, (h - 20) / 2);\n            actor.a(s_Ry, (h - 20) / 2);\n            actor.a(\"y\", JS_parseInt(actor.a(\"y\")) + 10);\n            actor.a(s_Height, h - 20);\n            line.a(\"y1\", JS_parseInt(line.a(\"y1\")) + 10);\n            line.a(\"y2\", JS_parseInt(line.a(\"y2\")) - 20);\n            JQ_addClass(actor.pr(s_Line), \"v-actor-front\");\n            text.t(prefix + tmpText.s(1, tmpText.length));\n        }\n        // 更新 <重要系统角色> 样式\n        else if (keySys.test(tmpText)) {\n            JQ_addClass(actor, s_CssActorKeySys);\n            JQ_addClass(actor.pr(s_Line), s_CssActorKeySys);\n            JQ_addClass(actor.nextAll(s_Text).ch(), s_CssActorKeySys);\n            text.t(prefix + tmpText.s(2, tmpText.length));\n        }\n        // 更新 <外部系统角色> 样式\n        else if (extSys.test(tmpText)) {\n            JQ_addClass(actor, s_CssActorExtSys);\n            JQ_addClass(actor.nextAll(s_Text).ch(), s_CssActorExtSys);\n            text.t(prefix + tmpText.s(2, tmpText.length));\n        }\n        else {\n            text.t(prefix + tmpText);\n        }\n    });\n\n    // 更新顺序图中消息序号的样式\n    // $(\".md-diagram-panel svg[id^='mermaidChart']>text.sequenceNumber\").e(function () {\n    $(seqSelector + \">text.sequenceNumber\").e(function () {\n        // 移除文本宽度，避免不同字体大小时显示效果问题\n        $(this).removeAttr(s_TextLength);\n    });\n\n    // 更新顺序图中的片断（如：loop、opt、par、alt）样式和位置\n    // $(\".md-diagram-panel svg[id^='mermaidChart'] polygon+.labelText\").e(function () {\n    $(seqSelector + \" polygon+.labelText\").e(function () {\n        let fragment = $(this),\n            g = fragment.p(),\n            segType = fragment.t();\n\n        // 默认的样式（par 片断）\n        let bgColor = s_varMmOrange,\n            borderColor = s_varMmOrange,\n            titleColor = s_varAcOrangeLg;\n        // 为 alt 片断设置样式\n        if (segType === s_Alt) {\n            bgColor = s_varMmRed;\n            borderColor = s_varMmRed;\n            titleColor = s_varAcRedLg;\n        }\n        // 为 loop 片断设置样式\n        else if (segType === s_Loop) {\n            bgColor = s_varMmCyan;\n            borderColor = s_varMmCyan;\n            titleColor = s_varAcCyanLg;\n        }\n        // 为 alt、loop、par 片断应用样式设置\n        if (segType !== \"opt\") {\n            // 背景色\n            g.f(\"polygon.labelBox\").c(s_CssText, s_Fill + \":\" + bgColor + s_Important);\n            // 边框色\n            g.f(\"line.loopLine\").c(s_CssText, s_Stroke + \":\" + borderColor + s_Important);\n            // 片断标题颜色\n            g.f(\"text.loopText, text.loopText>tspan\").c(s_CssText, s_Fill + \":\" + titleColor + s_Important);\n        }\n\n        // 将 alt(alternative)、opt(optional)、loop(loops) 片断文本翻译为其他语言\n        if (segType === s_Alt)\n            fragment.t([\n                \"分支\",\n                \"Alt.\"\n            ][V_lang_id]);\n        else if (segType === \"opt\")\n            fragment.t([\n                \"可选\",\n                \"Opt.\"\n            ][V_lang_id]);\n        else if (segType === s_Loop)\n            fragment.t([\n                \"循环\",\n                \"Loop.\"\n            ][V_lang_id]);\n        else if (segType === \"par\")\n            fragment.t([\n                \"平行\",\n                \"Par.\"\n            ][V_lang_id]);\n    });\n\n    // 调整片断的标题文本\n    // $(\"svg text.loopText>tspan\").e(function () {\n    $(seqSelector + \" text.loopText>tspan\").e(function () {\n        // 去掉文本内容前后的中括号\n        let fragmentTitle = $(this);\n        fragmentTitle.p().a(s_Style, \"text-anchor: start\");\n\n        // 调整文本的位置\n        let label = fragmentTitle.p().p().f(\".labelBox\"),\n            rect = label[0].getBBox();\n        fragmentTitle.a(\"x\", rect.x + rect.width + 10);\n\n        let nextText = fragmentTitle.p().n();\n        if (nextText !== gUndefined && nextText.a(s_Class) !== gUndefined && nextText.a(s_Class).i(\"loopText\") > -1) {\n            nextText.a(\"x\", rect.x + rect.width + 40);\n        }\n    });\n\n    // 针对 VLOOK 衍生的 Mermaid 的状态机图节点\n    let radius = V_util_getVarVal(\"--v-r-b\");\n    // 针对 VLOOK 顺序图开始、结束节点、子图\n    // $(\"svg .cluster rect\").e(function () {\n    $(seqSelector + \" .cluster rect\").e(function () {\n        $(this).a(s_Rx, radius);\n        $(this).a(s_Ry, radius);\n    });\n}\n\n// ==================== 第三方库修复工具类 ==================== //\n\n// Mermaid 相关的 DPR\nlet RepairTool_mermaidDPR_builder = 1, // 生成 Mermaid 时系统的 DPR\n    RepairTool_mermaidDPR_render = 1; // Mermaid 流程图显示的 DPR\n\n/**\n * 按倍数调整函数元组数据，目前只支持单个函数，且只能有两个参数\n * @param funcString 函数字符串，如：translate(-12,-18)\n * @param rate1 对第1个参数的调整倍数\n * @param rate2 对第2个参数的调整倍数\n */\nfunction RepairTool_scaleTupleByTimes(funcString, rate1, rate2) {\n    let lbIndex = funcString.i(\"(\"),\n        dotIndex = funcString.i(\",\"),\n        rbIndex = funcString.i(\")\");\n\n    // 提取两个参数值\n    let r1 = funcString.s(lbIndex + 1, dotIndex),\n        r2 = funcString.s(dotIndex + 1, rbIndex);\n\n    if (rate1 !== 1) r1 = r1 * rate1;\n    if (rate2 !== 1) r2 = r2 * rate2;\n\n    return funcString.s(0, lbIndex + 1) +\n        r1 + \",\" + r2 + \")\";\n}\n\n// ==================== Sup Magic / Sub Magic 模块 ==================== //\n\n/**\n * 初始化\n */\nfunction XscriptMagic_init() {\n    // 遍历所有 sup\n    $(\"sup\").e(function () {\n        let _t = $(this),\n            text = _t.t(),\n            result;\n        if ((result = text.m(TextPhonetic_syntax)) != null)\n            TextPhonetic_build(_t, result);\n    });\n\n    // 遍历引用、详情内的 sub 下标\n    $(\"#write :is(blockquote, details)>p>sub\").e(function () {\n        let _t = $(this),\n            text = _t.t(),\n            colorSet;\n        // 颜色标签独占一行的情况下才被视为是对引用、详情的颜色标识\n        // 否则将作为段落或指定格式的颜色标识，另行处理\n        if (ExtQuote_isValidColorMark(_t)\n            && (colorSet = text.m(RainbowColor_syntax)) != null)\n                RainbowQuote_build(_t, colorSet);\n    });\n\n    // 遍历段落内的 sub 下标（针对段落或指定格式）\n    $(\"#write sub\").e(function () {\n        let _t = $(this),\n            text = _t.t(),\n            colorSet;\n        if ((colorSet = text.m(RainbowColor_syntax)) != null) {\n            // 只处理非独占一行的情况（独占一行的由彩虹引用进行处理）\n            if (text !== _t.p().t())\n                RainbowTextAndCell_build(_t, colorSet);\n        }\n    });\n}\n\n/**\n * 生成预置颜色标识的 Markdown 格式\n * @param color 颜色标识\n * @param em 强调色标识\n * @param defaultColor 对应场景的默认颜色标识\n */\nfunction RainbowColor_genAsMarkdown(color, em, defaultColor) {\n    return (color === defaultColor\n        ? \"\"\n        : \"~(\" + V_util_campColor(color) + em + \")~\");\n}\n\n// ==================== Sup Magic / Sub Magic：文本注音模块 ==================== //\n\n// 新语法：^[symbol]^\nlet TextPhonetic_syntax = /^\\[(\\S+)]$/; // 新语法\n\n/**\n * 构建「注音」\n * @param target 源对象\n * @param result 正则表达式匹配后的结果数组\n */\nfunction TextPhonetic_build(target, result) {\n    let symbol = result[1].rA(\"_\", \" \"),\n        symbolCount = symbol.sp(\" \").length,\n        targetPrev = target.pr(),\n        prevText = (targetPrev === gUndefined ? \"\" : targetPrev.t()),\n        wordText;\n\n    // 拉丁内容结尾\n    if (/(.*)[a-z]$/i.test(prevText))\n        wordText = prevText.r(/(.*)(\\b\\w+\\b)/, \"$2\");\n    // 非拉丁内容结尾\n    else\n        wordText = prevText.s(prevText.length - symbolCount, prevText.length);\n\n    // 生成注音内容\n    let rubyHTML = \"$1<ruby>\" + wordText\n        + \"<rp>(</rp><rt>\" + symbol\n        + \"</rt><rp>)&nbsp;</rp></ruby>\";\n    targetPrev.hm(targetPrev.hm().r(new RegExp(String.raw`(.*)${wordText}`), rubyHTML));\n\n    // 绑定注音的点击事件\n    targetPrev.f(\"ruby>rt\").uC().ck(function (event) {\n        TextPhonetic_translation(wordText, symbol, event);\n    });\n    // 删除预置颜色标识\n    JQ_remove(target);\n}\n\n// ==================== Sup Magic / Sub Magic：彩虹引用模块 ==================== //\n\nlet RainbowQuote_defalutColor = \"T1!\",\n    RainbowQuote_defalutColor_withoutEm = \"T1\";\n\n/**\n * 构建彩虹引用样式\n * @param colorCode 目标 code 对象\n * @param colorSet 正则表达式匹配后的结果数组\n */\nfunction RainbowQuote_build(colorCode, colorSet) {\n    let quote = colorCode.p().p(),\n        colorP = colorCode.p(),\n        color = RainbowQuote_getColor(colorSet[1]), // 颜色标识\n        em = CodeMagic_isRainbowColorEm(colorSet) ? \" em\" : \"\", // 判断是否指定了强调样式\n        tag = V_util_getTagName(quote);\n\n    // <blockquote> 或 <details>\n    if (tag.sW(\"bl\") || tag.sW(\"de\")) {\n        // 删除预置颜色标识\n        JQ_remove(colorCode);\n        // 删除原始彩虹颜色标识后，若其所在行为空，则同时也删除所在行\n        if (colorP.t().x().length === 0)\n            JQ_remove(colorP);\n        JQ_addClass(quote, \"v-q \" + color + em);\n        JQ_addClass(quote.f(\">p:first-child>strong\"), \"title-\" + color + em);\n        JQ_addClass(quote.f(\"summary\"), \"title-\" + color + em);\n    }\n}\n\n/**\n * 获得获取对应的颜色标识\n * @param color 文档中指定的预置颜色标识\n * @returns string 返回有效的的颜色值\n */\nfunction RainbowQuote_getColor(color) {\n    // 没有指定颜色，则为默认颜色\n    if (color === gUndefined)\n        return RainbowQuote_defalutColor;\n    return color.l();\n}\n\n// ==================== Sup Magic / Sub Magic：彩虹文本模块 ==================== //\n\n/**\n * 构建彩虹文本与单元格样式\n * @param colorCode 颜色标识对象\n * @param colorSet 正则表达式匹配后的结果数组\n */\nfunction RainbowTextAndCell_build(colorCode, colorSet) {\n    let color = RainbowQuote_getColor(colorSet[1]), // 颜色标识\n        tableCellBgMode = CodeMagic_isRainbowColorEm(colorSet),\n        solid = color.length < 4, // true - 单色，false - 渐变色\n        gradientColors = [], // 渐变色标识数组\n        renderTarget = colorCode.pr(),\n        wholeRendering = gFalse;\n\n    // 颜色标识为第 1 个子元素时，代表是要对整个段落（或单元格）进行着色\n    if (!tableCellBgMode\n        && renderTarget !== gUndefined && renderTarget.length === 0) {\n            renderTarget = colorCode.p();\n            wholeRendering = gTrue;\n    }\n\n    // 获取目标对象的 HTML 标签名称\n    let tagName = V_util_getTagName(renderTarget);\n\n    // 当颜色标识为渐变色配置时，进行拆分渐变色的预处理\n    if (!solid)\n        gradientColors = V_util_splitColors(color);\n\n    // 针对整个段落（或单元格）着色模式时\n    // 针对里面的 u 和 mark 标签进行独立处理\n    if (wholeRendering) {\n        __disposeUnderline(renderTarget.f(\"u\"));\n        __disposeMark(renderTarget.f(\"mark\"));\n    }\n\n    // 彩虹文本\n    if (!tableCellBgMode) {\n        // mark 标签的处理\n        if (tagName === \"mark\") {\n            __disposeMark(renderTarget);\n        }\n        // mark 以外的标签的处理，如：p u strong span 等\n        else {\n            __disposeText(renderTarget);\n            if (tagName === \"u\")\n                __disposeUnderline(renderTarget);\n        }\n    }\n    // 彩虹单元格\n    else {\n        renderTarget = colorCode.p();\n        tagName = V_util_getTagName(renderTarget);\n\n        if (tagName === \"th\" || tagName === \"td\") {\n            __disposeCell(renderTarget);\n        }\n    }\n\n    // 删除预置颜色标识\n    JQ_remove(colorCode);\n\n    /**\n     * 处理文本着色\n     * @param obj 文本对象\n     */\n    function __disposeText(obj) {\n        if (obj === gUndefined)\n            return;\n\n        // 单色\n        if (solid) {\n            // 针对亮度较高的预置色，选择更深一些的 title 色值\n            let title = RainbowColorTooLight.test(color) ? \"-title\" : \"\";\n            obj.c(s_Color, \"var(--ac-\" + color\n                + title + (color !== \"bk\" ? \"-lg)\" : \")\"));\n        }\n        // 渐变色\n        else {\n            let span = obj.f(\"span\");\n            if (span.length === 0) // 无子元素 span 时恢复为 obj\n                span = obj;\n            if (span !== gUndefined) {\n                span.c(s_BackgroundImage, \"linear-gradient(90deg, \"\n                    + V_util_genGradColorCSS(gradientColors, \"\", \"-lg\") + \")\");\n                span.c(\"background-clip\", \"text\");\n                span.c(\"-webkit-background-clip\", \"text\");\n                span.c(\"color\", \"transparent\");\n            }\n        }\n\n        if (wholeRendering)\n            obj.a(s_DataRainbowWholeText, V_util_campColor(color));\n        else\n            obj.a(s_DataRainbowText, V_util_campColor(color));\n    }\n\n    /**\n     * 处理下划线着色\n     * @param obj 文本对象\n     */\n    function __disposeUnderline(obj) {\n        if (obj === gUndefined)\n            return;\n\n        // 单色\n        if (solid) {\n            obj.c(s_BorderColor, \"var(--ac-\" + color\n                + (color === \"bk\" ? \"\" : \"-lg\") + \")\");\n        }\n        // 渐变色\n        else {\n            obj.c(s_BorderImage, \"linear-gradient(90deg, \"\n                + V_util_genGradColorCSS(gradientColors, \"\", \"-lg\") + \") 0 0 1 0\");\n        }\n    }\n\n    /**\n     * 处理标识着色\n     * @param obj 文本对象\n     */\n    function __disposeMark(obj) {\n        if (obj === gUndefined)\n            return;\n\n        // 单色\n        if (solid) {\n            obj.c(s_BoxShadow, \"0 -.9em 0 0 var(--ac-\" + color + \"-fade\"\n                + (color === \"bk\" ? \"\" : \"-lg\") + \") inset\");\n        }\n        // 渐变色\n        else {\n            obj.c(s_BoxShadow, s_None);\n            obj.c(s_TextShadow, s_None);\n            obj.c(s_BackgroundImage, \"linear-gradient(90deg, \"\n                + V_util_genGradColorCSS(gradientColors, \"-fade\", \"-lg\") + \")\");\n        }\n    }\n\n    /**\n     * 处理表格单元格着色\n     * @param obj 文本对象\n     */\n    function __disposeCell(obj) {\n        if (obj === gUndefined)\n            return;\n\n        // 单色\n        if (solid) {\n            obj.c(s_BackgroundColor, \"var(--ac-\" + color + \"-fade\"\n                + (color === \"bk\" ? \"\" : \"-lg)\"));\n        }\n        // 渐变色\n        else {\n            obj.c(s_BackgroundImage, \"linear-gradient(135deg, \"\n                + V_util_genGradColorCSS(gradientColors, \"-fade\", \"-lg\") + \")\");\n        }\n        obj.a(s_DataRainbowCellBg, V_util_campColor(color));\n    }\n}\n\n// ==================== Code Magic 模块 ==================== //\n\nlet RainbowColor_syntax = /^\\(((r[do]|og|ye|l[am]|g[nyd]|aq|cy|b[unk]|se|vn|p[uk]|[mw]n|ol|t[12])+)(!)?\\)$/i,\n    RainbowColorTooLight = /ye|lm|aq|la|pk|gd|cy/i; // 属于亮度较高，用于文字显示时须要降低亮度的颜色标识\n\n/**\n * 初始化\n */\nfunction CodeMagic_init() {\n    // 初始化彩虹标签、彩虹徽章、刮刮卡的默认颜色标识\n    // 注：彩虹引用的初始化在 ExtQuote 中进行\n    let dcTag = V_util_getParamVal(\"tag\"),\n        dcBadge = V_util_getParamVal(\"badge\"),\n        dcCoat = V_util_getParamVal(\"coat\");\n    if (dcTag !== gUndefined)\n        RainbowTag_defalutColor = dcTag;\n    if (dcBadge !== gUndefined)\n        RainbowBadge_defalutColor = dcBadge;\n    if (dcCoat !== gUndefined)\n        RainbowCoat_defalutColor = dcCoat;\n\n    // 遍历所有 code\n    let stdCount = 0;\n    $(\"code\").e(function () {\n        let _t = $(this),\n            codeText = _t.t(),\n            result;\n\n        // 徽章格式\n        if ((result = codeText.m(RainbowBadge_syntax)) != null)\n            RainbowBadge_build(_t, result);\n        // 彩虹标签格式\n        else if ((result = codeText.m(RainbowTag_syntax)) != null)\n            RainbowTag_build(_t, result);\n        // 刮刮卡格式\n        else if ((result = codeText.m(RainbowCoat_syntax)) != null)\n            RainbowCoat_build(_t, result);\n        // 文字注音格式（旧语法）\n        else if ((result = codeText.m(TextPhoneticOld_syntax)) != null)\n            TextPhoneticOld_build(_t, result);\n        // 普通代码增加样式标识，以用于深色模式时的识别\n        else {\n            stdCount++;\n            JQ_addClass(_t, \"v-std-code\" + \" id-\" + stdCount);\n            _t.uC().ck(function (event) {\n                // event.stopPropagation(); // 停止事件冒泡\n\n                if (!_t.is(ContentAssistor_lastTarget))\n                    ContentAssistor_toggleCopyMode(gFalse);\n\n                let content = _t.t();\n                if (ContentAssistor_copyAsMarkdown)\n                    content = \"`\" + content + \"`\";\n                ContentAssistor_lastTarget = _t;\n                Copyer_action(_t, content, gTrue);\n            });\n        }\n    });\n}\n\n/**\n * 处理彩虹标签、徽章、引用、刮刮卡指定的颜色\n * @param target 颜色标识对象\n * @return Array[] 正则表达式匹配的颜色标识数组\n */\nfunction CodeMagic_parseRainbowColor(target) {\n    let tagName = V_util_getTagName(target),\n        newColors = null;\n    // <sub> 标签\n    if (tagName === \"sub\"\n        && (newColors = target.t().m(RainbowColor_syntax)) != null) {\n            JQ_remove(target);\n    }\n    return newColors;\n}\n\n/**\n * 判断是否为彩虹颜色标识的强调风格\n * @param colorSet 颜色标识的正则匹配结果集\n * @return boolean 是否强调\n */\nfunction CodeMagic_isRainbowColorEm(colorSet) {\n    let em = colorSet[colorSet.length - 1];\n    return (em !== gUndefined && em === \"!\");\n}\n\n// ==================== Code Magic：彩虹标签模块 ==================== //\n\n// 语法：#tag#(color)\nlet RainbowTag_count = 0,\n    RainbowTag_syntax = /^#(.+)#$/i,\n    RainbowTag_defalutColor = \"t2\"; // theme1\n\n/**\n * 构建单标签样式\n * @param target 目标 code 对象\n * @param result 正则表达式匹配后的结果数组\n */\nfunction RainbowTag_build(target, result) {\n    let tag = result[1],\n        color = RainbowTag_getColor(),\n        em = \"\"; // 强调样式的标识\n\n    RainbowTag_count++;\n\n    // 颜色标识新语法处理\n    // 新语法：~(color)~\n    let colorSet = CodeMagic_parseRainbowColor(target.n());\n    if (colorSet != null) {\n        color = RainbowTag_getColor(colorSet[1]);\n        em = CodeMagic_isRainbowColorEm(colorSet) ? \" em\" : \"\";\n    }\n\n    // 过滤语法内容\n    target.t(tag);\n    let solid = color.length < 4,\n        gradientColors = [], // 渐变色标识数组\n        id = \" id-\" + RainbowTag_count;\n    if (!solid) { // 渐变\n        gradientColors = V_util_splitColors(color);\n        target.a(s_Class, \"v-tag \" + gradientColors[0] + em + id);\n        target.c(s_CssText, s_BackgroundImage + \":linear-gradient(90deg, \"\n            + V_util_genGradColorCSS(gradientColors, \"\", \"-lg\") + \")\" + s_Important);\n    }\n    else {\n        target.a(s_Class, \"v-tag \" + color + em + id);\n    }\n\n    // 复制标签内容\n    target.uC().ck(function (event) {\n        let _t = $(this),\n            content = _t.t();\n\n        if (!_t.is(ContentAssistor_lastTarget))\n            ContentAssistor_toggleCopyMode(gFalse);\n\n        if (ContentAssistor_copyAsMarkdown)\n            content = __asMarkdown(content);\n        ContentAssistor_lastTarget = _t;\n        Copyer_action(_t, content, gTrue);\n    });\n\n    /**\n     * 生成标签的 Markdown 格式\n     * @param value 标签内容\n     */\n    function __asMarkdown(value) {\n        let content = \"`#\" + value + \"#`\";\n        if (color !== RainbowBadge_defalutColor) {\n            content += RainbowColor_genAsMarkdown(color,\n                (em.length > 0 ? \"!\" : \"\"),\n                RainbowTag_defalutColor);\n        }\n        return content;\n    }\n}\n\n/**\n * 获得获取对应的颜色标识\n * @param color 文档中指定的预置颜色标识\n * @returns string 返回有效的的颜色值\n */\nfunction RainbowTag_getColor(color = gUndefined) {\n    // 没有指定颜色，则为默认颜色\n    if (color === gUndefined)\n        return RainbowTag_defalutColor;\n    return color.l();\n}\n\n// ==================== Code Magic：徽章模块 ==================== //\n\n// 语法：#badge_name|badge_value#(color{{variable}})\nlet RainbowBadge_count = 0,\n    RainbowBadge_syntax = /^#([^|]+)\\|([^|]+)(\\|([^|]+))?#$/i, // 徽章\n    RainbowBadge_syntax_variable = /^(.*)({{.+}}|%.+%|\\${.+}|#{.+}|\\$.+\\$|var\\(.+\\))(.*)$/i, // 变量语法\n    RainbowBadge_defalutColor = \"gy\";\n\n/**\n * 构建徽章样式\n * @param target 目标 code 对象\n * @param result 正则表达式匹配后的结果数组\n */\nfunction RainbowBadge_build(target, result) {\n    let color = RainbowBadge_getColor(gUndefined, target), // 颜色标识\n        em = \"\", // 强调样式的标识\n        badgeName = result[1],\n        badgeValue = result[2],\n        badgeValue2 = (result.length > 4) ? result[4] : gUndefined,\n        varStr;\n\n    RainbowBadge_count++;\n\n    // 颜色标识新语法处理\n    // 新语法：~(color)~\n    let colorSet = CodeMagic_parseRainbowColor(target.n());\n    if (colorSet != null) {\n        color = RainbowBadge_getColor(colorSet[1], target);\n        em = CodeMagic_isRainbowColorEm(colorSet) ? \" em\" : \"\";\n    }\n\n    // ----- 徽章标题、内容、内容2\n    target.wrap(\"<code class='v-badge-name \" + color + \" id-\" + RainbowBadge_count + \"'>\" + badgeName + \"</code>\");\n    // 复制徽章标题内容\n    $(\".v-badge-name.id-\" + RainbowBadge_count).uC().ck(function (event) {\n        let _t = $(this),\n            content = \"\",\n            childNodes = _t.contents();\n        // 生成复制的徽章内容\n        let nodeCnt = 0;\n        childNodes.e(function () {\n            nodeCnt++;\n            content += ((nodeCnt > 1) ? \" \" : \"\") + $(this).t();\n        });\n\n        // 激活复制为 Markdown 的判断\n        if (!_t.is(ContentAssistor_lastTarget))\n            ContentAssistor_toggleCopyMode(gFalse);\n\n        if (ContentAssistor_copyAsMarkdown)\n            content = __asMarkdown();\n        ContentAssistor_lastTarget = _t;\n        Copyer_action(_t, content, gTrue);\n    });\n\n    // ----- 徽章内容\n    JQ_addClass(target, s_CssBadgeValue + \" id-\" + RainbowBadge_count);\n    // 处理含变量的情况\n    if ((varStr = badgeValue.m(RainbowBadge_syntax_variable)) != null)\n        badgeValue = badgeValue.r(varStr[2], s_SpanSpace + \"class='var \" + color + \"'>\" + varStr[2] + s_SpanClose);\n    target.hm(badgeValue);\n    // 指定的颜色标识带强调样式\n    if (em.length > 0)\n        JQ_addClass(target, color);\n\n    // ----- 徽章内容2\n    if (badgeValue2 !== gUndefined) {\n        target.af(s_SpanSpace + \"class='v-badge-value2_\" + RainbowBadge_count + \"'>\" + badgeValue2 + s_SpanClose);\n        JQ_addClass(target.p(), s_Two);\n        JQ_addClass(target, s_Two);\n\n        target.n().uC().ck(function (event) {\n            let _t = $(this),\n                content = _t.t();\n            Copyer_action(_t, content, gFalse);\n        });\n    }\n\n    // 复制徽章内容\n    target.uC().ck(function (event) {\n        let _t = $(this),\n            content = _t.t();\n        Copyer_action(_t, content, gFalse);\n    });\n\n    /**\n     * 生成徽章的 Markdown 格式\n     */\n    function __asMarkdown() {\n        let content = \"`#\" + badgeName\n            + \"|\" + badgeValue\n            + ((badgeValue2 !== gUndefined) ? \"|\" + badgeValue2 : \"\")\n            + \"#`\";\n        if (color !== RainbowBadge_defalutColor) {\n            content += RainbowColor_genAsMarkdown(color,\n                (em.length > 0 ? \"!\" : \"\"),\n                RainbowBadge_defalutColor);\n        }\n        return content;\n    }\n}\n\n/**\n * 获得获取对应的颜色标识\n * @param color 文档中指定的预置颜色标识\n * @param target 目标 code 对象\n * @returns string 返回有效的的颜色值\n */\nfunction RainbowBadge_getColor(color, target = gUndefined) {\n    // 没有指定颜色，则为默认颜色\n    if (color === gUndefined) {\n        // 针对封面内的彩虹徽章（未指定颜色标识）的处理\n        if (target !== gUndefined) {\n            let p = target.p(),\n                tagName = (p !== gUndefined ? V_util_getTagName(p) : gUndefined);\n            if (tagName !== gUndefined\n                && tagName.l() === s_H6 && p.p().a(s_Id) === \"write\" )\n                    return \"t2\";\n        }\n        return RainbowBadge_defalutColor;\n    }\n    return color.l();\n}\n\n// ==================== Code Magic：刮刮卡模块 ==================== //\n\nlet coatCount = 0,\n    RainbowCoat_syntax = /^\\/(.*?)\\|(.+)\\/$/i, // 语法：/tips|text/\n    RainbowCoat_defalutColor = \"gy\";\n\n/**\n * 构建「刮刮卡」\n * @param target 源对象\n * @param result 正则表达式匹配后的结果数组\n */\nfunction RainbowCoat_build(target, result) {\n    let tips = \" **** \",\n        text = result[2],\n        color = RainbowCoat_getColor(gUndefined);\n\n    // 颜色标识新语法处理\n    // 语法：~(color)~\n    let colorSet = CodeMagic_parseRainbowColor(target.n());\n    if (colorSet != null) {\n        color = RainbowCoat_getColor(colorSet[1]);\n    }\n    color = \"var(--ac-\" + color + \"-lg)\";\n\n    // 自定义提示信息\n    if (result[1] !== gUndefined && result[1] !== \"\")\n        tips = result[1];\n\n    // 初始化「刮刮卡」数据\n    coatCount++;\n    JQ_addClass(target, s_CssRbCoat + \" id-\" + coatCount);\n    target.a(s_DataRbCoatData, text);\n    target.a(s_DataRbCoatShowed, s_False);\n    target.a(s_Title, [\n        \"点击查看有效的原始内容\",\n        \"Click to view valid original content\"\n        ][V_lang_id]);\n    target.t(tips);\n    target.c(s_Background, RainbowCoat_generateBg(tips.length, color))\n        .c(s_BorderColor, color);\n\n    // 「刮刮卡」的点击事件\n    target.uC().ck(function (event) {\n        RainbowCoat_toggle($(this), event);\n    });\n}\n\n/**\n * 根据提示信息字数生成条纹背景\n * @param charCount 提示信息字数\n * @param color 条纹背景色\n * @returns string 生成 CSS 规范的背景\n */\nfunction RainbowCoat_generateBg(charCount, color) {\n    let count = 16,\n        result = \"linear-gradient(135deg, \";\n    // 根据字数调整条纹数量\n    if (charCount <= 8)\n        count = 4;\n    else if (charCount <= 12)\n        count = 8;\n    else if (charCount <= 20)\n        count = 10;\n    // 计算每个条纹的步长\n    let step = 100 / count;\n    // 自动生成条纹背景\n    for (let i = 0; i < count; i++) {\n        let start = i * step,\n            end = start + step,\n            c = (i % 2 === 0) ? color : s_varDFC;\n        result += c + \" \" + start + \"%, \" + c + \" \" + end + \"%\"; // 分段渐变\n        result += (i < count - 1) ? \",\" : \")\";\n    }\n    return result;\n}\n\n/**\n * 获得获取对应的颜色标识\n * @param color 文档中指定的预置颜色标识\n * @returns string 返回有效的的颜色值\n */\nfunction RainbowCoat_getColor(color) {\n    // 没有指定颜色，则为默认颜色\n    if (color === gUndefined)\n        return RainbowCoat_defalutColor;\n    return color.l();\n}\n\n/**\n * 显示 / 隐藏「刮刮卡」的内容\n * @param target 刮刮卡对象\n * @param event 事件对象\n */\nfunction RainbowCoat_toggle(target, event) {\n    event.stopPropagation(); // 停止事件冒泡\n\n    if (target.a(s_DataRbCoatShowed).sW(\"f\"))\n        RainbowCoat_show(target);\n    else\n        RainbowCoat_hide(target);\n}\n\n/**\n * 显示「刮刮卡」的内容\n * @param target 刮刮卡对象\n */\nfunction RainbowCoat_show(target) {\n    let tmp = target.t();\n    JQ_addClass(target, s_Opened);\n    target.c(s_Color, target.c(s_BorderColor));\n    // 显示原始信息\n    target.t(target.a(s_DataRbCoatData));\n    // 「刮刮卡」自定义数据\n    target.a(s_DataRbCoatData, tmp);\n    target.a(s_DataRbCoatShowed, s_True)\n}\n\n/**\n * 隐藏「刮刮卡」的内容\n * @param target 刮刮卡对象\n */\nfunction RainbowCoat_hide(target) {\n    let tmp = target.t();\n    JQ_removeClass(target, s_Opened);\n    target.c(s_Color, s_varDBc);\n    // 显示提示信息\n    target.t(target.a(s_DataRbCoatData));\n    // 「刮刮卡」自定义数据\n    target.a(s_DataRbCoatData, tmp);\n    target.a(s_DataRbCoatShowed, s_False);\n}\n\n// ==================== Code Magic：文本注音模块 ==================== //\n\n// 旧语法：{text}(symbol)\nlet TextPhoneticOld_syntax = /^{(.+)}\\((.+)\\)$/;\n\n/**\n * 构建「注音」（旧语法）\n * @param target 源对象\n * @param result 正则表达式匹配后的结果数组\n */\nfunction TextPhoneticOld_build(target, result) {\n    let text = result[1],\n        symbol = result[2];\n    // 生成注音内容\n    target.af(\"<ruby>\" + text\n        + \"<rp>(</rp><rt>\" + symbol\n        + \"</rt><rp>)&nbsp;</rp></ruby>\");\n    // 绑定注音的点击事件\n    target.n().ch(\"rt\").uC().ck(function (event) {\n        TextPhonetic_translation(text, symbol, event);\n    });\n    // 删除预置颜色标识\n    JQ_remove(target);\n}\n\n/**\n * 释义或翻译\n * @param text 被注音的内容\n * @param symbol 注音\n * @param event 事件对象\n */\nfunction TextPhonetic_translation(text, symbol, event) {\n    event.stopPropagation(); // 停止事件冒泡\n\n    // 默认翻译为中文的服务\n    let translator = \"https://www.bing.com/translator/?from=&to=zh-chs&text=\",\n        // translator = \"https://translate.google.cn/?langpair=auto&sl=auto&op=translate&text=\",\n        url = translator + encodeURI(text);\n    // 若 symbol 为日文假名，则跳转至翻译平台翻译 symbol\n    if (/^[\\u3040-\\u30FF]/.test(symbol))\n        url = translator + encodeURI(symbol);\n    // 若 text 为中文，则跳转至汉典，翻译 text\n    else if (/^[\\u4e00-\\u9fa5]/.test(text))\n        url = \"https://www.zdic.net/hans/\" + encodeURI(text);\n\n    window.open(url, text);\n}\n\n// ==================== VLOOK UI 模块 ==================== //\n\n/**\n * 加载欢迎页资源\n */\nfunction VLOOKui_loadWelcomePage() {\n    let ui = \"\",\n        title = V_util_getDocTitle(),\n        date = V_util_getMetaByName(\"date\"),\n        author = V_util_getMetaByName(\"author\"),\n        defalutContent = (title !== gUndefined ? \"<div>\" + title + s_DivClose : \"\")\n            + (date !== gUndefined ? \"<div class='v-date'>( \" + date + \" )\" + s_DivClose : \"\")\n            + (author !== gUndefined ? \"<div class='v-author'>\" + author + \"\" + s_DivClose : \"\"),\n        metaContent = V_util_getMetaByName(\"vlook-welcome\");\n\n    // 无指定欢迎页内容，则使用默认内容\n    if (metaContent === gUndefined)\n        metaContent = defalutContent;\n    metaContent += s_Br + s_Br;\n    // --------------------------------------------------\n    // 欢迎页\n    ui += '<div class=\"v-welcome-page\">'\n            // 文档专属图标\n            + '<div class=\"v-doc-logo-light\">' + s_DivClose + '<div class=\"v-doc-logo-dark\">' + s_DivClose\n            // 欢迎信息\n            + '<div class=\"v-tips\">'\n                + metaContent.x()\n            + s_DivClose\n            // 文档加载进度及进入按钮\n            + '<div class=\"v-loading\">Loading...' + s_DivClose\n        + s_DivClose;\n    return ui;\n}\n\n/**\n * 加载图标集资源\n */\nfunction VLOOKui_loadIconSet() {\n    let ui = '<svg style=\"display: none;\">';\n        // SVG 图标集：图标|VLOOK LOGO\n    ui += '<symbol id=\"icoVLOOK\">'\n        + '<path d=\"M17.15 0c2.382 0 3.245.248 4.116.714a4.856 4.856 0 0 1 2.02 2.02c.466.87.714 1.734.714 4.116v10.3c0 2.382-.248 3.245-.714 4.116a4.856 4.856 0 0 1-2.02 2.02c-.87.466-1.734.714-4.116.714H6.85c-2.382 0-3.245-.248-4.116-.714a4.856 4.856 0 0 1-2.02-2.02C.248 20.396 0 19.532 0 17.15V6.85c0-2.382.248-3.245.714-4.116a4.856 4.856 0 0 1 2.02-2.02C3.604.248 4.468 0 6.85 0h10.3zm-4.935 16.976a.26.26 0 0 0-.334 0l-.956.795a.26.26 0 0 0-.05.345l.956 1.432a.26.26 0 0 0 .434 0l.956-1.432a.26.26 0 0 0-.05-.345zM7.27 9.292a4.34 4.34 0 0 0-4.343 4.336 4.34 4.34 0 0 0 4.343 4.336 4.34 4.34 0 0 0 4.343-4.336A4.34 4.34 0 0 0 7.27 9.292zm9.554 0a4.34 4.34 0 0 0-4.343 4.336 4.34 4.34 0 0 0 4.343 4.336 4.34 4.34 0 0 0 4.343-4.336 4.34 4.34 0 0 0-4.343-4.336zm-9.554 1.3a3.038 3.038 0 0 1 3.04 3.036 3.038 3.038 0 0 1-3.04 3.035 3.038 3.038 0 0 1-3.04-3.035 3.038 3.038 0 0 1 3.04-3.035zm9.554 0a3.038 3.038 0 0 1 3.04 3.036 3.038 3.038 0 0 1-3.04 3.035 3.038 3.038 0 0 1-3.04-3.035 3.038 3.038 0 0 1 3.04-3.035zm2.883-5.174a.652.652 0 0 0-.853-.32l-.013.005-6.795 2.83-6.793-2.83-.014-.006a.65.65 0 1 0-.537 1.185l7.035 2.931.014.006c.097.043.2.06.299.055a.649.649 0 0 0 .293-.055l.014-.006 7.035-2.93.084-.048a.65.65 0 0 0 .23-.817z\" fill=\"#FFF\" fill-rule=\"evenodd\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|导航中心\n        + '<symbol id=\"icoNavCenter\">'\n        + '<path d=\"M7.087.453a.82.82 0 0 1 1.1-.366L13 2.493V17.2a.8.8 0 0 1-1.158.716L7 15.493V.82a.82.82 0 0 1 .087-.367zm12.755.797a1.5 1.5 0 0 1 .158.67v11.72a3 3 0 0 1-1.658 2.683l-3.184 1.592A.8.8 0 0 1 14 17.199V2.493L17.83.58a1.5 1.5 0 0 1 2.012.67zM5.913.453A.82.82 0 0 1 6 .82v14.673l-3.83 1.915A1.5 1.5 0 0 1 0 16.066V4.348a3 3 0 0 1 1.658-2.684L4.813.087a.82.82 0 0 1 1.1.366zM18.99 1.7a.5.5 0 0 0-.668-.23L15.61 2.79a.5.5 0 0 0-.046.874l2.71 1.693a.5.5 0 0 0 .765-.424V1.918a.5.5 0 0 0-.05-.219z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|导航中心分段控制|目录索引\n        + '<symbol id=\"icoTocTabCatalog\">'\n        + '<path fill=\"none\" d=\"M0 0h16v16H0z\"/><path d=\"M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zm0 1H3a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zm0 8a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2h6zm-9 0a1 1 0 0 1 0 2H3a1 1 0 0 1 0-2h1zm9-3a1 1 0 0 1 0 2H7a1 1 0 1 1 0-2h6zM4 7a1 1 0 1 1 0 2H3a1 1 0 1 1 0-2h1zm9-3a1 1 0 0 1 0 2H7a1 1 0 1 1 0-2h6zM4 4a1 1 0 1 1 0 2H3a1 1 0 1 1 0-2h1z\"/>'\n        + '</symbol>'\n        + '<symbol id=\"icoTocTabCatalog-checked\">'\n        + '<path fill=\"none\" d=\"M0 0h16v16H0z\"/><path d=\"M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zm0 10H7a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2zm-9 0H3a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2zm9-4H7a1 1 0 1 0 0 2h6a1 1 0 0 0 0-2zM4 7H3a1 1 0 1 0 0 2h1a1 1 0 1 0 0-2zm9-4H7a1 1 0 1 0 0 2h6a1 1 0 0 0 0-2zM4 3H3a1 1 0 1 0 0 2h1a1 1 0 1 0 0-2z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|导航中心分段控制|插图索引\n        + '<symbol id=\"icoTocTabFigure\">'\n        + '<path fill=\"none\" d=\"M0 0h16v16H0z\"/><path d=\"M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zm0 1H3a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zM5.823 7.22a1 1 0 0 1 .288.252l1.821 2.343a1 1 0 0 0 1.34.221l1.567-1.034a1 1 0 0 1 1.331.21l1.188 1.483a.8.8 0 0 1-.624 1.3H3.288a.8.8 0 0 1-.692-1.201l1.86-3.21a1 1 0 0 1 1.367-.364zM10 4a2 2 0 1 1 0 4 2 2 0 0 1 0-4z\"/>'\n        + '</symbol>'\n        + '<symbol id=\"icoTocTabFigure-checked\">'\n        + '<path fill=\"none\" d=\"M0 0h16v16H0z\"/><path d=\"M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zM5.823 7.22a1 1 0 0 0-1.367.364l-1.86 3.21a.8.8 0 0 0 .692 1.201h9.446a.8.8 0 0 0 .624-1.3L12.17 9.212a1 1 0 0 0-1.331-.21l-1.567 1.034a1 1 0 0 1-1.34-.221L6.111 7.472a1 1 0 0 0-.288-.252zM10 4a2 2 0 1 0 0 4 2 2 0 0 0 0-4z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|导航中心分段控制|表格索引\n        + '<symbol id=\"icoTocTabTable\">'\n        + '<path fill=\"none\" d=\"M0 0h16v16H0z\"/><path d=\"M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zM5 11H1v1a2 2 0 0 0 2 2h2v-3zm5 0H6v3h4v-3zm5 0h-4v3h2a2 2 0 0 0 2-2v-1zM5 6H1v4h4V6zm5 0H6v4h4V6zm5 0h-4v4h4V6zM5 2H3a2 2 0 0 0-2 2v1h4V2zm5 0H6v3h4V2zm3 0h-2v3h4V4a2 2 0 0 0-2-2z\" fill-rule=\"nonzero\"/>'\n        + '</symbol>'\n        + '<symbol id=\"icoTocTabTable-checked\">'\n        + '<path fill=\"none\" d=\"M0 0h16v16H0z\"/><path d=\"M16 11v1a3 3 0 0 1-3 3h-1v-4h4zM4 11v4H3a3 3 0 0 1-3-3v-1h4zm7 0v4H5v-4h6zm0-5v4H5V6h6zm5 0v4h-4V6h4zm-5-5v4H5V1h6zm2 0a3 3 0 0 1 3 3v1h-4V1h1zM4 1v4H0V4a3 3 0 0 1 3-3h1zM0 6h4v4H0V6z\" fill-rule=\"nonzero\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|导航中心分段控制|多媒体索引\n        + '<symbol id=\"icoTocTabMedia\">'\n        + '<path fill=\"none\" d=\"M0 0h16v16H0z\"/><path d=\"M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zm-1 1.001H4v12h8v-12zM3 11H1v1a2 2 0 0 0 2 2v-3zm12 0h-2v3l.15-.005A2 2 0 0 0 15 12v-1zM3.002 6h-2v4h2V6zm11.997 0h-2v4h2V6zM3 2a2 2 0 0 0-2 2v1h2zm10 0v3h2V4a2 2 0 0 0-2-2zm-2.936 6.655L7.259 10.62A.8.8 0 0 1 6 9.963V6.037a.8.8 0 0 1 1.259-.656l2.805 1.964a.8.8 0 0 1 0 1.31z\" fill-rule=\"nonzero\"/>'\n        + '</symbol>'\n        + '<symbol id=\"icoTocTabMedia-checked\">'\n        + '<path fill=\"none\" d=\"M0 0h16v16H0z\"/><path d=\"M16 11v1a3 3 0 0 1-3 3v-4h3zM3 11v4a3 3 0 0 1-3-3v-1h3zm9-10v14H4V1h8zM6.8 5.237a.8.8 0 0 0-.8.8v3.926a.8.8 0 0 0 1.259.656l2.805-1.964a.8.8 0 0 0 0-1.31L7.259 5.38a.8.8 0 0 0-.459-.144zM16 6v4h-3V6h3zM3 6v4H0V6h3zm10-5a3 3 0 0 1 3 3v1h-3V1zM3 1v4H0V4a3 3 0 0 1 3-3z\" fill-rule=\"nonzero\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|导航中心分段控制|代码块索引\n        + '<symbol id=\"icoTocTabCodeblock\">'\n        + '<path fill=\"none\" d=\"M0 0h16v16H0z\"/><path d=\"M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zm0 1H3a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zM6.555 4.168a1 1 0 0 1 .277 1.387L5.201 7.999l1.631 2.446a1 1 0 0 1-.184 1.317l-.093.07a1 1 0 0 1-1.387-.277L3.353 8.832a1.5 1.5 0 0 1 0-1.664l1.815-2.723a1 1 0 0 1 1.387-.277zm2.89 0a1 1 0 0 1 1.387.277l1.815 2.723a1.5 1.5 0 0 1 0 1.664l-1.815 2.723a1 1 0 0 1-1.387.277l-.093-.07a1 1 0 0 1-.184-1.317L10.799 8 9.168 5.555a1 1 0 0 1 .277-1.387z\" fill-rule=\"nonzero\"/>'\n        + '</symbol>'\n        + '<symbol id=\"icoTocTabCodeblock-checked\">'\n        + '<path fill=\"none\" d=\"M0 0h16v16H0z\"/><path d=\"M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zM5.454 4.168a1 1 0 0 0-1.387.277L2.252 7.168a1.5 1.5 0 0 0 0 1.664l1.815 2.723a1 1 0 0 0 1.387.277l.093-.07a1 1 0 0 0 .184-1.317L4.101 8l1.63-2.444a1 1 0 0 0-.277-1.387zm4.89 0a1 1 0 0 0-.277 1.387l1.631 2.444-1.631 2.446a1 1 0 0 0 .184 1.317l.093.07a1 1 0 0 0 1.387-.277l1.815-2.723a1.5 1.5 0 0 0 0-1.664l-1.815-2.723a1 1 0 0 0-1.387-.277z\" fill-rule=\"nonzero\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|导航中心分段控制|访问史\n        + '<symbol id=\"icoTocTabHistory\">'\n        + '<path d=\"M8 0c4.411 0 8 3.589 8 8s-3.589 8-8 8-8-3.589-8-8 3.589-8 8-8zm0 1C4.142 1 1 4.142 1 8s3.142 7 7 7 7-3.142 7-7-3.142-7-7-7zm0 1.5a1 1 0 0 1 1 1v4.45l2.164 1.25a1 1 0 0 1-1 1.732l-2.598-1.5a1 1 0 0 1-.237-.19A1 1 0 0 1 7 8.5v-5a1 1 0 0 1 1-1z\"/>'\n        + '</symbol>'\n        + '<symbol id=\"icoTocTabHistory-checked\">'\n        + '<path d=\"M8 0c4.411 0 8 3.589 8 8s-3.589 8-8 8-8-3.589-8-8 3.589-8 8-8zm0 3.5a1 1 0 0 0-1 1v5c0 .294.127.56.33.742a.979.979 0 0 0 .236.19l2.598 1.5a1 1 0 0 0 1-1.732L9 8.95V4.5a1 1 0 0 0-.883-.993z\" fill-rule=\"nonzero\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|检索\n        + '<symbol id=\"icoRetrieval\">'\n        + '<path d=\"M14.999 14.596a1.375 1.375 0 0 1-1.953 0L11.46 12.94a6.372 6.372 0 0 1-3.466 1.032c-3.559 0-6.444-2.904-6.444-6.486S4.435 1 7.994 1c3.56 0 6.445 2.904 6.445 6.486a6.47 6.47 0 0 1-1.026 3.488l1.586 1.656c.54.543.54 1.423 0 1.966zM7.993 2.32c-2.834 0-5.132 2.313-5.132 5.166s2.298 5.165 5.132 5.165c2.835 0 5.133-2.312 5.133-5.165s-2.298-5.166-5.133-5.166z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|向左关闭\n        + '<symbol id=\"icoCloseTo-left\">'\n        + '<path d=\"M13.98.176l.035.013c1.506.534 2.311 2.123 1.86 3.607L6.21 30l9.61 26.04c.546 1.475-.186 3.097-1.64 3.707l-.2.077c-1.502.532-3.154-.18-3.781-1.597l-.065-.16L.315 31.916a5.987 5.987 0 0 1 0-3.832l9.818-26.151C10.702.41 12.422-.375 13.979.176z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|向右关闭\n        + '<symbol id=\"icoCloseTo-right\">'\n        + '<path d=\"M2.02.176L1.986.19C.479.723-.326 2.312.125 3.796L9.79 30 .181 56.04c-.546 1.475.186 3.097 1.64 3.707l.2.077c1.502.532 3.154-.18 3.781-1.597l.065-.16 9.818-26.151a5.987 5.987 0 0 0 0-3.832L5.867 1.933C5.298.41 3.578-.375 2.021.176z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|向下关闭\n        + '<symbol id=\"icoCloseTo-bottom\">'\n        + '<path d=\"M.176 2.02l.013-.035C.723.479 2.312-.326 3.796.125L30 9.79 56.04.181c1.475-.546 3.097.186 3.707 1.64l.077.2c.532 1.502-.18 3.154-1.597 3.781l-.16.065-26.151 9.818a5.987 5.987 0 0 1-3.832 0L1.933 5.867C.41 5.298-.375 3.578.176 2.021z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|插图导航的上一张\n        + '<symbol id=\"icoPrevFig\">'\n        + '<path d=\"M11.03.091c.765.284 1.159 1.147.88 1.927L3.002 27l8.91 24.982a1.516 1.516 0 0 1-.75 1.87l-.13.057a1.462 1.462 0 0 1-1.834-.765l-.055-.134L.12 27.705C.112 27.685 0 27.435 0 27c0-.435.111-.684.12-.706L9.141.99A1.465 1.465 0 0 1 11.03.09z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|插图导航的下一张\n        + '<symbol id=\"icoNextFig\">'\n        + '<path d=\"M.97.091C.205.375-.19 1.238.09 2.018L8.998 27 .089 51.982a1.516 1.516 0 0 0 .75 1.87l.13.057c.72.267 1.511-.073 1.834-.765l.055-.134 9.023-25.305c.007-.02.119-.27.119-.705 0-.435-.111-.684-.12-.706L2.859.99A1.465 1.465 0 0 0 .97.09z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|逐章导航的上一章'\n        + '<symbol id=\"icoPrevChapter\">'\n        + '<path d=\"M7.364.293a1 1 0 0 1 0 1.414l-4.97 4.969 4.974 4.974a1 1 0 0 1-1.415 1.414L.296 7.407a.996.996 0 0 1-.291-.658.995.995 0 0 1 .288-.8L5.95.294a1 1 0 0 1 1.414 0z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|逐章导航的下一章\n        + '<symbol id=\"icoNextChapter\">'\n        + '<path d=\"M.296.293a1 1 0 0 0 0 1.414l4.97 4.969L.293 11.65a1 1 0 0 0 1.414 1.414l5.657-5.657a.996.996 0 0 0 .292-.658.995.995 0 0 0-.288-.8L1.71.294a1 1 0 0 0-1.415 0z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|已收起的 目录节点\n        + '<symbol id=\"icoTocFolded\">'\n        + '<path d=\"M11.614 8.72L7.37 12.961a1 1 0 0 1-1.414-1.414l3.542-3.543-3.542-3.543A1 1 0 1 1 7.37 3.048l4.243 4.243a.997.997 0 0 1 .293.707v.014a.997.997 0 0 1-.293.707z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|已展开的 目录节点\n        + '<symbol id=\"icoTocUnfold\">'\n        + '<path d=\"M7.29 11.614L3.049 7.37a1 1 0 1 1 1.414-1.414l3.543 3.542 3.543-3.542a1 1 0 0 1 1.414 1.414l-4.243 4.243a.997.997 0 0 1-.707.293h-.014a.997.997 0 0 1-.707-.293z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|已收起的 引用折叠 / 表格折叠行节点\n        + '<symbol id=\"icoFolded\">'\n        + '<path d=\"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zm-.336 3.757A1 1 0 1 0 6.25 5.172l2.835 2.835-2.835 2.836a1 1 0 1 0 1.414 1.414l3.535-3.536a.997.997 0 0 0 .293-.707V8a.997.997 0 0 0-.293-.707z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|已展开的 引用折叠 / 表格折叠行节点\n        + '<symbol id=\"icoUnfold\">'\n        + '<path d=\"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zm0 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1z\"/><path d=\"M7.243 11.25L3.707 7.714A1 1 0 1 1 5.121 6.3l2.836 2.836L10.792 6.3a1 1 0 1 1 1.415 1.414L8.67 11.25a.997.997 0 0 1-.707.293H7.95a.997.997 0 0 1-.707-.293z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|展开长内容\n        + '<symbol id=\"icoExtend\">'\n        + '<path d=\"M5.05 6.364A1 1 0 0 1 6.464 4.95L10 8.485l3.536-3.535a1 1 0 1 1 1.414 1.414l-4.243 4.243a1 1 0 0 1-1.414 0L5.05 6.364z\"/><path d=\"M5.05 12.364a1 1 0 0 1 1.414-1.414L10 14.485l3.536-3.535a1 1 0 1 1 1.414 1.414l-4.243 4.243a1 1 0 0 1-1.414 0L5.05 12.364z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|关闭\n        + '<symbol id=\"icoClose\">'\n        + '<path d=\"M7,7 L7,-1 C7,-1.55228475 7.44771525,-2 8,-2 C8.55228475,-2 9,-1.55228475 9,-1 L9,7 L17,7 C17.5522847,7 18,7.44771525 18,8 C18,8.55228475 17.5522847,9 17,9 L9,9 L9,17 C9,17.5522847 8.55228475,18 8,18 C7.44771525,18 7,17.5522847 7,17 L7,9 L-1,9 C-1.55228475,9 -2,8.55228475 -2,8 C-2,7.44771525 -1.55228475,7 -1,7 L7,7 Z\" transform=\"translate(8.000000, 8.000000) rotate(45.000000) translate(-8.000000, -8.000000) \"></path>'\n        + '</symbol>'\n        // SVG 图标集：图标|清空输入\n        + '<symbol id=\"icoResetInput\">'\n        + '<path d=\"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zM5.737 4.606a.8.8 0 0 0-1.131 1.131L6.869 8l-2.263 2.263a.8.8 0 1 0 1.131 1.131L8 9.131l2.263 2.263a.8.8 0 1 0 1.131-1.131L9.131 8l2.263-2.263a.8.8 0 1 0-1.131-1.131L8 6.869z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|颜色模式（Light/Dark）\n        + '<symbol id=\"icoLightMode\">'\n        + '<path d=\"M10 17a1 1 0 0 1 1 1v1a1 1 0 0 1-2 0v-1a1 1 0 0 1 1-1zm6.364-2.05l.707.707a1 1 0 0 1-1.414 1.414l-.707-.707a1 1 0 1 1 1.414-1.414zm-11.314 0a1 1 0 0 1 0 1.414l-.707.707a1 1 0 1 1-1.414-1.414l.707-.707a1 1 0 0 1 1.414 0zM10 5a5 5 0 1 1 0 10 5 5 0 0 1 0-10zm9 4a1 1 0 0 1 0 2h-1a1 1 0 0 1 0-2h1zM2 9a1 1 0 0 1 0 2H1a1 1 0 0 1 0-2h1zm15.071-6.071a1 1 0 0 1 0 1.414l-.707.707a1 1 0 1 1-1.414-1.414l.707-.707a1 1 0 0 1 1.414 0zm-12.728 0l.707.707A1 1 0 1 1 3.636 5.05l-.707-.707A1 1 0 0 1 4.343 2.93zM10 0a1 1 0 0 1 1 1v1a1 1 0 0 1-2 0V1a1 1 0 0 1 1-1z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|深色模式\n        + '<symbol id=\"icoDarkMode\">'\n        + '<path d=\"M5.646 2.646A9.003 9.003 0 0 0 9 20a9.003 9.003 0 0 0 8.354-5.646A9 9 0 0 1 5.613 2.729zM15.5 3l-1.065 2.7a1.303 1.303 0 0 1-.734.735L11 7.5l2.7 1.065c.337.133.602.398.735.734L15.5 12l1.065-2.7c.133-.337.398-.602.734-.735L20 7.5l-2.7-1.065a1.303 1.303 0 0 1-.735-.734L15.5 3zm-4.829-3l-.547 1.389a1 1 0 0 1-.564.563L8.171 2.5l1.39.548a1 1 0 0 1 .563.563L10.67 5l.548-1.389a1 1 0 0 1 .563-.563l1.39-.548-1.39-.548a1 1 0 0 1-.563-.563L10.671 0z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|聚光灯\n        + '<symbol id=\"icoSpotlight\">'\n        + '<path d=\"M7 0a7 7 0 0 1 6.992 6.67A7.002 7.002 0 0 1 11 20a7 7 0 0 1-6.992-6.67A7.002 7.002 0 0 1 7 0zm4 6a7 7 0 0 0-6.992 7.33 7 7 0 0 0 9.985-6.662A6.984 6.984 0 0 0 11 6.001z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|激光笔\n        + '<symbol id=\"icoLaserPointer\">'\n        + '<path d=\"M5.574 5.078a3.5 3.5 0 0 1 4.913.603l6.772 8.668a3.5 3.5 0 1 1-5.516 4.31L4.971 9.991a3.5 3.5 0 0 1 .603-4.913zm.576.769a2.5 2.5 0 1 0 3.078 3.94 2.5 2.5 0 0 0-3.078-3.94zm6.562-3.138a1 1 0 1 1 1.231 1.576l-.788.616a1 1 0 1 1-1.231-1.576l.788-.616zm-10.5 8a1 1 0 1 1 1.231 1.576l-.788.616a1 1 0 0 1-1.231-1.576l.788-.616zm-1.177-4.68l1 .034a1 1 0 0 1-.07 1.999l-1-.035a1 1 0 0 1 .07-1.999zM8.838.021a1 1 0 0 1 .77 1.186l-.208.978a1 1 0 0 1-1.956-.416l.208-.978a1 1 0 0 1 1.186-.77zM2.724 1.409a1 1 0 0 1 1.403.172l.616.788a1 1 0 0 1-1.576 1.232l-.616-.788a1 1 0 0 1 .173-1.404z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|段落导航\n        + '<symbol id=\"icoParagraphNav\">'\n        + '<path d=\"M3.698 17.714v-5.036A.68.68 0 0 0 3.02 12a.68.68 0 0 0-.678.678v5.047L1.155 16.54a.689.689 0 0 0-.96 0c-.26.26-.26.69 0 .96l2.294 2.294a.67.67 0 0 0 .474.204h.068a.65.65 0 0 0 .475-.204L5.799 17.5c.26-.26.26-.689 0-.96-.237-.271-.666-.271-.926 0l-1.175 1.175zm0-15.432V7.32a.68.68 0 0 1-.678.678.68.68 0 0 1-.678-.678l.03-5.082-1.217 1.22c-.26.26-.689.26-.96 0a.689.689 0 0 1 0-.96L2.489.203A.67.67 0 0 1 2.963 0h.068c.17 0 .35.068.475.203l2.293 2.294c.26.26.26.69 0 .96-.237.272-.666.272-.926 0L3.698 2.283zM8 14h11a1 1 0 0 1 0 2H8a1 1 0 0 1 0-2zm0 3h8a1 1 0 0 1 0 2H8a1 1 0 0 1 0-2zM8 7h4a1 1 0 0 1 0 2H8a1 1 0 0 1 0-2zm0-6h11a1 1 0 0 1 0 2H8a1 1 0 0 1 0-2zm0 3h11a1 1 0 0 1 0 2H8a1 1 0 0 1 0-2z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|字体风格\n        + '<symbol id=\"icoFontTheme\">'\n        + '<path d=\"M13.576 0l6.048 2.73a.5.5 0 0 1 .28.57l-.978 4.134a1 1 0 0 1-1.224.737l-1.093-.283.391 9.065a1 1 0 0 1-.999 1.043H4.022a1 1 0 0 1-1-1.04l.369-9.068-1.093.283a1 1 0 0 1-1.224-.737L.095 3.3a.5.5 0 0 1 .28-.571L6.425 0c.417 1.178 1.926 1.92 3.603 1.92 1.677 0 3.131-.742 3.55-1.92zm.76 15h-9a.5.5 0 0 0 0 1h9a.5.5 0 1 0 0-1zm0-2h-9a.5.5 0 0 0 0 1h9a.5.5 0 1 0 0-1zM10.17 4h-.675a1 1 0 0 0-.905.573L5.513 11.08a.644.644 0 0 0 .582.919h.38a1 1 0 0 0 .906-.578l.604-1.299h3.703l.566 1.28a1 1 0 0 0 .914.597h.391a.659.659 0 0 0 .595-.941L11.073 4.57A1 1 0 0 0 10.169 4zm-.333 1.813l1.308 2.967h-2.59l1.282-2.967z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|文库\n        + '<symbol id=\"icoDocLib\">'\n        + '<path d=\"M17 0a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3h14zm.001 7h-14a2 2 0 0 0-2 2h6a3 3 0 0 0 6 0h6l-.005-.15A2 2 0 0 0 17 7zm0-3h-14a2 2 0 0 0-2 2h18l-.005-.15A2 2 0 0 0 17 4zm0-3h-14a2 2 0 0 0-2 2h18l-.005-.15A2 2 0 0 0 17 1z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|打开详情\n        + '<symbol id=\"icoDetailsOpen\">'\n        + '<path d=\"M9 0a9 9 0 1 1 0 18A9 9 0 0 1 9 0zm1 3H8v5H3v2h5v5h2v-5h5V8h-5V3z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|关闭详情\n        + '<symbol id=\"icoDetailsClose\">'\n        + '<path d=\"M9 0a9 9 0 1 1 0 18A9 9 0 0 1 9 0zm3.536 4.05L9 7.586 5.464 4.05 4.05 5.464 7.586 9 4.05 12.536l1.414 1.414L9 10.414l3.536 3.536 1.414-1.414L10.414 9l3.536-3.536-1.414-1.414z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|打印\n        + '<symbol id=\"icoPrint\">'\n        + '<path d=\"M15 0a2 2 0 0 1 2 2v4h1a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-1v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1H2a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h1V2a2 2 0 0 1 2-2h10zm1 13H4v4a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-4zm-2 2v1H6v-1h8zm3.5-7h-1a.5.5 0 1 0 0 1h1a.5.5 0 1 0 0-1zm-3.372 0a.5.5 0 1 0 0 1 .5.5 0 0 0 0-1zM15 1H5a1 1 0 0 0-1 1v4h12V2a1 1 0 0 0-.883-.993L15 1z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|内容助力-插图浏览器中打开\n        + '<symbol id=\"icoOpenInFigureNav\">'\n        + '<path d=\"M13 0a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3h10zm0 6.507l-.117.007a1 1 0 0 0-.883.993V10L9 10a1 1 0 0 0 0 2h3.5a1.5 1.5 0 0 0 1.5-1.5V7.507a1 1 0 0 0-1-1zM6.98 2.004H3.5a1.5 1.5 0 0 0-1.5 1.5v3.062a1 1 0 0 0 1 1l.117-.006A1 1 0 0 0 4 6.566V4.004h2.98a1 1 0 1 0 0-2z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|内容助力-表格阅读模式（十字光标）\n        + '<symbol id=\"icoTableCross\">'\n        + '<path d=\"M13.6 0A2.4 2.4 0 0 1 16 2.4v9.2a2.4 2.4 0 0 1-2.4 2.4H2.4A2.4 2.4 0 0 1 0 11.6V2.4A2.4 2.4 0 0 1 2.4 0h11.2zM11 1H5v4.5A1.5 1.5 0 0 1 3.5 7H1v3h2.5A1.5 1.5 0 0 1 5 11.5V13h6v-1.5a1.5 1.5 0 0 1 1.5-1.5H15V7h-2.5A1.5 1.5 0 0 1 11 5.5V1zM9.5 6A1.5 1.5 0 0 1 11 7.5v2A1.5 1.5 0 0 1 9.5 11h-3A1.5 1.5 0 0 1 5 9.5v-2A1.5 1.5 0 0 1 6.5 6h3zm-.167 1H6.667a.667.667 0 0 0-.66.568L6 7.667v1.666c0 .335.247.612.568.66l.099.007h2.666a.667.667 0 0 0 .66-.568L10 9.333V7.667A.667.667 0 0 0 9.333 7z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|内容助力-表格自动换行\n        + '<symbol id=\"icoTableWrap\">'\n        + '<path d=\"M11 0a2 2 0 0 1 2 2v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h9zm0 1H2a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z\" fill-rule=\"nonzero\"/><path d=\"M2.5 2H13v1H2.5a.5.5 0 0 1 0-1z\" fill-rule=\"nonzero\"/><path d=\"M13 2h2.5a.5.5 0 1 1 0 1H13V2z\"/><path d=\"M16 6.1v3.4a2.9 2.9 0 0 1-2.9 2.9h-2v-1.8h2a1.1 1.1 0 0 0 1.1-1.1V6.1H16z\" fill-rule=\"nonzero\"/><path d=\"M9.5 11.5c.52-.961.953-1.628 1.3-2 .347-.372.847-.705 1.5-1v6c-.673-.383-1.173-.75-1.5-1.1-.327-.35-.76-.984-1.3-1.9z\"/><path d=\"M7 7a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h5zm-2.5 6h-2a.5.5 0 1 0 0 1h2a.5.5 0 1 0 0-1zm2-2h-4a.5.5 0 1 0 0 1h4a.5.5 0 1 0 0-1zm0-2h-4a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1z\" fill-rule=\"nonzero\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|内容助力-画中画\n        + '<symbol id=\"icoPicInPic\">'\n        + '<path d=\"M1 5v6a2 2 0 0 0 2 2h2v1H3a3 3 0 0 1-3-3V5h1zm11-5a3 3 0 0 1 3 3v4h-1V3a2 2 0 0 0-1.85-1.995L12 1H5V0h7zm2 9a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h5zM2.121.707l3.086 3.086L7 2v5H2l1.793-1.793L.707 2.121A1 1 0 1 1 2.121.707z\" fill-rule=\"evenodd\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|画中画的放大模式\n        + '<symbol id=\"icoZoomIn\">'\n        + '<path d=\"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zm4 7.503l-.117.007a1 1 0 0 0-.883.993v2.492H8.4a1 1 0 0 0 0 2h3.1a1.5 1.5 0 0 0 1.5-1.5V8.504a1 1 0 0 0-1-1zM7.58 3H4.5A1.5 1.5 0 0 0 3 4.5v3.062a1 1 0 0 0 1 1l.117-.007A1 1 0 0 0 5 7.562V5h2.58a1 1 0 1 0 0-2z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|内容助力-画中画的缩小模式\n        + '<symbol id=\"icoZoomOut\">'\n        + '<path d=\"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zm4.58 8H9.5A1.5 1.5 0 0 0 8 9.5v3.062a1 1 0 0 0 1 1l.117-.007a1 1 0 0 0 .883-.993V10h2.58a1 1 0 1 0 0-2zM7 2.503l-.117.007A1 1 0 0 0 6 3.503v2.492H3.4a1 1 0 1 0 0 2h3.1a1.5 1.5 0 0 0 1.5-1.5V3.504a1 1 0 0 0-1-1z\" fill-rule=\"evenodd\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|复制\n        + '<symbol id=\"icoCopy\">'\n        + '<path d=\"M14 0a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-2a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2-2h8zm-4 3H2a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm-4.5 9a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1h2zm3-3a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h5zm0-3a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h5z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|复制 as Markdown\n        + '<symbol id=\"icoCopyAsMd\">'\n        + '<path d=\"M14 0a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-2a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2-2h8zm-4 3H2a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm4.3 3h-1.6v2.5H11l2.5 2.5L16 8.5h-1.7V6zM4.548 6l1.549 1.838L7.645 6h1.549v5H7.645V8.132L6.097 9.971 4.548 8.132V11H3V6h1.548z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|加载中\n        + '<symbol id=\"icoLoading\">'\n        + '<rect x=\"7\" width=\"2\" height=\"4\" rx=\"1\"/><rect transform=\"rotate(45 12.243 3.757)\" x=\"11.243\" y=\"1.757\" width=\"2\" height=\"4\" rx=\"1\"/><rect transform=\"rotate(90 14 8)\" x=\"13\" y=\"6\" width=\"2\" height=\"4\" rx=\"1\"/><rect transform=\"rotate(135 12.243 12.243)\" x=\"11.243\" y=\"10.243\" width=\"2\" height=\"4\" rx=\"1\"/><rect transform=\"rotate(180 8 14)\" x=\"7\" y=\"12\" width=\"2\" height=\"4\" rx=\"1\"/><rect transform=\"rotate(-135 3.757 12.243)\" x=\"2.757\" y=\"10.243\" width=\"2\" height=\"4\" rx=\"1\"/><rect transform=\"rotate(-90 2 8)\" x=\"1\" y=\"6\" width=\"2\" height=\"4\" rx=\"1\"/><rect transform=\"rotate(-45 3.757 3.757)\" x=\"2.757\" y=\"1.757\" width=\"2\" height=\"4\" rx=\"1\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|播放\n        + '<symbol id=\"icoPlay\">'\n        + '<path d=\"M14.133 9.605l-7.86 6.028c-.93.633-2.223.427-2.887-.459A1.909 1.909 0 0 1 3 14.028V1.972C3 .882 3.927 0 5.07 0c.432 0 .852.128 1.203.367l7.86 6.028c.93.633 1.146 1.865.481 2.751a2.024 2.024 0 0 1-.481.459z\"/><path fill=\"none\" d=\"M0 0h16v16H0z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|暂停\n        + '<symbol id=\"icoPause\">'\n        + '<path d=\"M3 2h1a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm9 0h1a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z\"/><path fill=\"none\" d=\"M0 0h16v16H0z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|停止\n        + '<symbol id=\"icoStop\">'\n        + '<rect x=\"2\" y=\"2\" width=\"12\" height=\"12\" rx=\"2\"/><path fill=\"none\" d=\"M0 0h16v16H0z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|无法播放\n        + '<symbol id=\"icoForbidden\">'\n        + '<path d=\"M3.11 4.523a6.001 6.001 0 0 0 8.368 8.367L3.11 4.523zM4.522 3.11l8.368 8.367A6 6 0 0 0 4.522 3.11zM8 16A8.001 8.001 0 1 1 8.002.002 8.001 8.001 0 0 1 8 16z\" /><path fill=\"none\" d=\"M0 0h16v16H0z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|复选框（未选择）\n        + '<symbol id=\"icoChkbox_no\">'\n        + '<path d=\"M10 0a4 4 0 0 1 4 4v6a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4h6zm0 1H4l-.205.007a2.99 2.99 0 0 0-1.916.872A2.99 2.99 0 0 0 1 4v6l.007.205a2.99 2.99 0 0 0 .872 1.916A2.99 2.99 0 0 0 4 13h6l.205-.007a2.99 2.99 0 0 0 1.916-.872A2.99 2.99 0 0 0 13 10V4l-.007-.205a2.99 2.99 0 0 0-.872-1.916A2.99 2.99 0 0 0 10 1z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|复选框（已选择）\n        + '<symbol id=\"icoChkbox_yes\">'\n        + '<path d=\"M10 0a4 4 0 0 1 4 4v6a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4h6zm.435 3.36a1 1 0 0 0-1.393.245L5.703 8.372 4.421 7.09a1 1 0 1 0-1.414 1.414l2.121 2.121a1 1 0 0 0 1.225.15l.01-.007.01-.005a.997.997 0 0 0 .292-.277l4.015-5.734a1 1 0 0 0-.245-1.393z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|复选框（不确定选择）\n        + '<symbol id=\"icoChkbox_un\">'\n        + '<path d=\"M10 0a4 4 0 0 1 4 4v6a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4h6zm0 6H4a1 1 0 1 0 0 2h6a1 1 0 0 0 0-2z\" opacity=\".5\"/><path d=\"M10 0a4 4 0 0 1 4 4v6a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4h6zm0 1H4l-.205.007a2.99 2.99 0 0 0-1.916.872A2.99 2.99 0 0 0 1 4v6l.007.205a2.99 2.99 0 0 0 .872 1.916A2.99 2.99 0 0 0 4 13h6l.205-.007a2.99 2.99 0 0 0 1.916-.872A2.99 2.99 0 0 0 13 10V4l-.007-.205a2.99 2.99 0 0 0-.872-1.916A2.99 2.99 0 0 0 10 1z\"/>'\n        + '</symbol>'\n        // SVG 图标集：图标|链接检查结果异常\n        + '<symbol id=\"icoLinkError\">'\n        + '<path d=\"M8 0c.462 0 .887.24 1.11.626l6.73 11.572c.219.375.213.834-.016 1.204-.228.371-.645.598-1.095.598H1.271c-.45 0-.867-.227-1.095-.598a1.166 1.166 0 0 1-.016-1.204L6.89.626A1.28 1.28 0 0 1 8 0zm0 10.361c-.841 0-1.524.652-1.524 1.456 0 .52.29 1 .762 1.26.472.26 1.052.26 1.524 0 .471-.26.762-.74.762-1.26 0-.804-.683-1.456-1.524-1.456zm0-7.278l-.154.005c-.744.047-1.116.45-1.116 1.208v3.64c0 .808.424 1.212 1.27 1.212l.154-.005c.744-.047 1.116-.45 1.116-1.208V4.296c0-.808-.424-1.213-1.27-1.213z\"/>'\n        + '</symbol>'\n        + '</svg>';\n    return ui;\n}\n\n/**\n * 加载顶栏 UI 资源\n */\nfunction VLOOKui_loadTopbar() {\n    let ui = '';\n    // ==================================================\n    // 页面工具栏\n    ui += V_ui_genDiv(\"\", \"v-toolbar v-focus-serch\") // '<div class=\"v-toolbar v-focus-serch\">'\n            // 导航中心\n            + V_ui_genDiv(\"\", \"v-btn nav-center\") // '<div class=\"v-btn nav-center\">'\n                + V_ui_genSvgIcon(\"icoNavCenter\", 20, 18, s_Light)\n            + s_DivClose\n            // 文库\n            + V_ui_genDiv(\"\", \"v-btn doc-lib\") // '<div class=\"v-btn doc-lib\">'\n                + V_ui_genSvgIcon(\"icoDocLib\", 20, 18, s_Light)\n            + s_DivClose\n            // 打印\n            + V_ui_genDiv(\"\", \"v-btn print\") // '<div class=\"v-btn print\">'\n                + V_ui_genSvgIcon(\"icoPrint\", 20, 19, s_Light)\n            + s_DivClose\n            + V_ui_genDiv(\"\", \"v-btn-group prs\") // '<div class=\"v-btn-group prs\">'\n                // 段落导航\n                + '<div ' + s_DataBtnGroup + '=\"prs\" class=\"v-btn paragraph-nav\">'\n                    + V_ui_genSvgIcon(\"icoParagraphNav\", 20, 20, s_Light)\n                + s_DivClose\n                // 聚光灯\n                + '<div ' + s_DataBtnGroup + '=\"prs\" class=\"v-btn spotlight\">'\n                    + V_ui_genSvgIcon(\"icoSpotlight\", 18, 20, s_Light)\n                + s_DivClose\n                // 激光笔\n                + '<div ' + s_DataBtnGroup + '=\"prs\" class=\"v-btn laser-pointer\">'\n                    + V_ui_genSvgIcon(\"icoLaserPointer\", 18, 20, s_Light)\n                + s_DivClose\n            + s_DivClose\n            // 分隔符\n            + V_ui_genDiv(\"\", \"v-toolbar-spliter\") // '<div class=\"v-toolbar-spliter\">'\n            + s_DivClose\n        + s_DivClose;\n\n    // ==================================================\n    // 逐章导航栏\n    ui += V_ui_genDiv(\"\", \"v-chapter-nav v-focus-serch\") // '<div class=\"v-chapter-nav v-focus-serch\">'\n            // 上一章\n            + V_ui_genDiv(\"\", \"v-chapter-nav-prev\") // '<div class=\"v-chapter-nav-prev\">'\n                + V_ui_genSvgIcon(\"icoPrevChapter\", 10, 15, s_Light, \"position: absolute; top: 18px; left: 15px;\")\n                + V_ui_genDiv(\"\", \"v-chapter-nav-prev-text\") // '<div class=\"v-chapter-nav-prev-text\">'\n                + s_DivClose\n            + s_DivClose\n            // 文档标题\n            + V_ui_genDiv(\"\", \"v-chapter-nav-doc-title\") // '<div class=\"v-chapter-nav-doc-title\">Document title'\n            + s_DivClose\n            // 当前章节\n            + V_ui_genDiv(\"\", \"v-chapter-nav-current\") // '<div class=\"v-chapter-nav-current\">'\n            + s_DivClose\n            // 下一章\n            + V_ui_genDiv(\"\", \"v-chapter-nav-next\") // '<div class=\"v-chapter-nav-next\">'\n                + '<div class=\"v-chapter-nav-next-text\">next' + s_DivClose\n                    + V_ui_genSvgIcon(\"icoNextChapter\", 10, 15, s_Light, \"position: absolute; top: 18px; right: 15px;\")\n            + s_DivClose\n        + s_DivClose;\n\n    // ui += s_DivClose;\n\n    return ui;\n}\n\n/**\n * 加载导航中心 UI 资源\n */\nfunction VLOOKui_loadNavCenter() {\n    let ui = '';\n    // --------------------------------------------------\n    // 导航中心\n    ui += V_ui_genDiv(\"\", \"v-nav-center v-float-card\") // '<div class=\"v-nav-center v-float-card\">'\n            // --- 导航中心头部 ---\n            + V_ui_genDiv(\"\", \"v-nav-center-header\") // '<div class=\"v-nav-center-header\">'\n                // 关键字搜索\n                + V_ui_genDiv(\"\", \"v-serch-by-keyword\") // '<div class=\"v-serch-by-keyword\">'\n                + s_DivClose\n                // 分段控制器组件\n                + V_ui_genDiv(\"\", \"v-segment toc\") // '<div class=\"v-segment toc\">'\n                + s_DivClose\n                // 访问历史标题\n                + V_ui_genDiv(\"\", \"v-toc-history-title\") // '<div class=\"v-toc-history-title\">访问历史'\n                + s_DivClose\n            + s_DivClose\n            // --- 导航中心内容区 ---\n            + V_ui_genDiv(\"\", \"v-nav-center-body\") // '<div class=\"v-nav-center-body\">'\n                + '<div class=\"v-toc-catalog-body\" ' + s_DataCatalogEmpty + '=\"( Catalog is Empty )\">' + s_DivClose\n                + V_ui_genDiv(\"\", \"v-toc-filter-result catalog\") // '<div class=\"v-toc-filter-result catalog\">'\n                + s_DivClose\n                + V_ui_genDiv(\"\", \"v-toc-filter-result figure\") // '<div class=\"v-toc-filter-result figure\">'\n                + s_DivClose\n                + V_ui_genDiv(\"\", \"v-toc-filter-result table\") // '<div class=\"v-toc-filter-result table\">'\n                + s_DivClose\n                + V_ui_genDiv(\"\", \"v-toc-filter-result media\") // '<div class=\"v-toc-filter-result media\">'\n                + s_DivClose\n                + V_ui_genDiv(\"\", \"v-toc-filter-result codeblock\") // '<div class=\"v-toc-filter-result codeblock\">'\n                + s_DivClose\n                + V_ui_genDiv(\"\", \"v-toc-history-result\") // '<div class=\"v-toc-history-result\">'\n                + s_DivClose\n            + s_DivClose\n            + V_ui_genDiv(\"\", \"v-nav-center-footer\") // '<div class=\"v-nav-center-footer\">'\n            + s_DivClose\n        + s_DivClose;\n\n    // --------------------------------------------------\n    // 导航中心收起/展开引导把手\n    ui += V_ui_genDiv(\"\", \"v-toc-handle\") // '<div class=\"v-toc-handle\">'\n        + s_DivClose;\n\n    return ui;\n }\n\n/**\n * 加载共用的 UI 资源\n */\nfunction VLOOKui_loadCommon() {\n    let ui = '';\n\n    // --------------------------------------------------\n    // 聚光灯\n    ui += V_ui_genDiv(\"\", \"v-spotlight\") // '<div class=\"v-spotlight\">'\n            + V_ui_genDiv(\"\", \"\") // '<div>'\n            + s_DivClose\n        + s_DivClose;\n\n    // --------------------------------------------------\n    // 字体风格选择器\n    ui += V_ui_genDiv(\"\", \"v-font-theme\") // '<div class=\"v-font-theme\">'\n            + '<div class=\"v-font-theme-opt\" style=\"margin-left: 0;\">'\n                + '<img alt=\"系统默认 OS default\" class=\"v-font-theme-opt-local\" src=\"https://madmaxchow.gitee.io/vlookres/pic/fs-local.png\" srcset=\"https://madmaxchow.gitee.io/vlookres/pic/fs-local@2x.png 2x\">'\n                + '<div class=\"v-fontinfo-local\"><div class=\"v-font-package\">Font' + s_DivClose + '<div id=\"fontset-status\">Ready' + s_DivClose + s_DivClose\n            + s_DivClose\n            + '<div class=\"v-font-theme-opt\">'\n                + '<img alt=\"Book\" class=\"v-font-theme-opt-book\" src=\"https://madmaxchow.gitee.io/vlookres/pic/fs-book.png\" srcset=\"https://madmaxchow.gitee.io/vlookres/pic/fs-book@2x.png 2x\">'\n                + '<div class=\"v-fontinfo-book\"><div class=\"v-font-package\">Font' + s_DivClose + '<div id=\"fontset-status\">Ready' + s_DivClose + s_DivClose\n            + s_DivClose\n            + '<div class=\"v-font-theme-opt\">'\n                + '<img alt=\"小清新\" class=\"v-font-theme-opt-sans\" src=\"https://madmaxchow.gitee.io/vlookres/pic/fs-sans.png\" srcset=\"https://madmaxchow.gitee.io/vlookres/pic/fs-sans@2x.png 2x\">'\n                + '<div class=\"v-fontinfo-sans\"><div class=\"v-font-package\">Font' + s_DivClose + '<div id=\"fontset-status\">NOT LOADED' + s_DivClose + s_DivClose\n            + s_DivClose\n            + '<div class=\"v-font-theme-opt\">'\n                + '<img alt=\"文艺范\" class=\"v-font-theme-opt-serif\" src=\"https://madmaxchow.gitee.io/vlookres/pic/fs-serif.png\" srcset=\"https://madmaxchow.gitee.io/vlookres/pic/fs-serif@2x.png 2x\">'\n                + '<div class=\"v-fontinfo-serif\"><div class=\"v-font-package\">Font' + s_DivClose + '<div id=\"fontset-status\">NOT LOADED' + s_DivClose + s_DivClose\n            + s_DivClose\n            + '<div class=\"v-font-theme-info\">Download Font Package' + s_DivClose\n        + s_DivClose;\n\n    // --------------------------------------------------\n    // 插图导航面板\n    ui += V_ui_genDiv(\"\", \"v-fig-nav v-backdrop-blurs\") // '<div class=\"v-fig-nav v-backdrop-blurs\">'\n            + V_ui_genDiv(\"\", \"v-fig-content\") // '<div class=\"v-fig-content\">'\n            + s_DivClose\n            + V_ui_genDiv(\"\", \"v-fig-nav-title\") // '<div class=\"v-fig-nav-title\">'\n            + s_DivClose\n            + V_ui_genDiv(\"\", \"v-fig-nav-btns prev\") // '<div class=\"v-fig-nav-btns prev\">'\n                + V_ui_genSvgIcon(\"icoPrevFig\", 12, 54, s_Light)\n            + s_DivClose\n            + '<div class=\"v-fig-nav-btns next\">'\n                + V_ui_genSvgIcon(\"icoNextFig\", 12, 54, s_Light)\n            + s_DivClose\n            + '<div class=\"v-btn-close-figure-nav\">'\n                + V_ui_genSvgIcon(\"icoClose\", 16, 16, s_Light)\n            + s_DivClose\n        + s_DivClose;\n\n    // --------------------------------------------------\n    // 脚注弹层\n    ui += '<div class=\"v-footnote-pn\">'\n            + '<div class=\"v-footnote-pn-content\">' + s_DivClose\n            + '<div class=\"v-footnote-pn-header\">' + s_DivClose\n            + '<div class=\"v-footnote-pn-all\"><a>查看所有脚注</a>' + s_DivClose\n            + '<a id=\"vk-footer-area\"></a>'\n        + s_DivClose;\n\n    // --------------------------------------------------\n    // 复制内容的按钮\n    ui += '<div class=\"v-content-assistor v-float-card\">'\n            + '<div class=\"v-btn assistor copy\">'\n                + V_ui_genSvgIcon(\"icoCopy\", 16, 16, s_Light)\n            + s_DivClose\n            + '<div class=\"v-btn assistor open-in-figure-nav\">'\n                + V_ui_genSvgIcon(\"icoOpenInFigureNav\", 16, 14, s_Light)\n            + s_DivClose\n            + '<div class=\"v-btn assistor table-cross\">'\n                + V_ui_genSvgIcon(\"icoTableCross\", 16, 14, s_Light)\n            + s_DivClose\n            + '<div class=\"v-btn assistor table-wrap\">'\n                + V_ui_genSvgIcon(\"icoTableWrap\", 16, 16, s_Light)\n            + s_DivClose\n            + '<div class=\"v-btn assistor pic-in-pic\">'\n                + V_ui_genSvgIcon(\"icoPicInPic\", 16, 16, s_Light)\n            + s_DivClose\n        + s_DivClose;\n\n    // --------------------------------------------------\n    // 画中画容器\n    ui += '<div class=\"v-pic-in-pic\">'\n            + '<div class=\"v-pip-btn v-zoom zoom-out v-float-card\">'\n                + V_ui_genSvgIcon(\"icoZoomIn\", 16, 16, s_Theme)\n            + s_DivClose\n            + '<div class=\"v-pip-btn v-close zoom-out v-float-card\">'\n                + V_ui_genSvgIcon(\"icoResetInput\", 16, 16, s_Theme)\n            + s_DivClose\n            + '<div class=\"v-content\">'\n            + s_DivClose\n        + s_DivClose;\n\n    // --------------------------------------------------\n    // 提示信息\n    ui += '<div class=\"v-tool-tips\">' + s_DivClose\n        + '<div class=\"v-info-tips v-float-card\">' + s_DivClose;\n\n    // --------------------------------------------------\n    // 文档更多内容遮罩栏\n    ui += '<div class=\"v-more-doc-content-before cover\">' + s_DivClose\n        + '<div class=\"v-more-doc-content-after\">' + s_DivClose;\n\n    // --------------------------------------------------\n    // 表格阅读模式（十字光标）\n    ui += '<div class=\"v-table-cross left-up\">&nbsp;' + s_DivClose\n        + '<div class=\"v-table-cross right-up\">&nbsp;' + s_DivClose\n        + '<div class=\"v-table-cross left-down\">&nbsp;' + s_DivClose\n        + '<div class=\"v-table-cross right-down\">&nbsp;' + s_DivClose;\n\n    // --------------------------------------------------\n    // 内容展开操作区\n    ui += '<div class=\"v-content-expander\">'\n            + '<div class=\"v-btn\">'\n            + '<span></span>'\n                + V_ui_genSvgIcon(\"icoExtend\", 20, 20, s_Light)\n            + s_DivClose\n        + s_DivClose;\n\n    // --------------------------------------------------\n    // 页面坏链检查结果及错误列表\n    ui += '<div class=\"v-link-error-list v-float-card\">'\n            + '<div class=\"v-link-error-list-header\">' + s_DivClose\n            + '<div class=\"v-link-error-list-body\"><div class=\"v-link-error-list-items\">' + s_DivClose + s_DivClose\n            + '<div class=\"v-link-error-list-footer\">' + s_DivClose\n        + s_DivClose\n        + '<div class=\"v-status-bar v-float-card2 v-backdrop-blurs v-focus-serch\">'\n            + '<div class=\"v-doc-info\">- - / - -' + s_DivClose\n            + '<div class=\"v-sts-font-theme\">'\n                + V_ui_genSvgIcon(\"icoFontTheme\", 20, 18, s_Theme)\n            + s_DivClose\n            + '<div class=\"v-color-scheme\">'\n                + V_ui_genSvgIcon(\"icoLightMode\", 20, 20, s_Theme)\n            + s_DivClose\n            + '<div class=\"v-link-chk-result\">'\n                + V_ui_genSvgIcon(\"icoLoading\", 16, 16, s_Theme)\n            + s_DivClose\n        + s_DivClose;\n\n    // --------------------------------------------------\n    //统计数据上报中转页面\n    ui += '<iframe name=\"vlook-stat-gitee\" style=\"display: block; margin: 0; border: none; overflow: hidden; width: 100%; height: 0;\"></iframe>';\n    ui += '<div class=\"v-doc-lib v-float-card\"><iframe name=\"' + s_vlookDocLib + '\"></iframe>' + s_DivClose;\n    return ui;\n}\n\n// ==================== 加载与初始化 VLOOK ==================== //\n\n/**\n * 文档加载完成后执行主流程\n */\n$(function() { // 等价于 $(document).ready()\n    // ----------------------------------------\n    // 初始化启动参数\n    V_params_init();\n\n    // 判断文档类型\n    if (V_util_getParamVal(\"type\") === s_Mini) {\n        V_type = s_Mini;\n    }\n\n    // ----------------------------------------\n    INFO(\"- Ready\");\n    gTimes = iStopwatch.ed(s_4space);\n    // 打印环境信息\n    env.print();\n\n    iStopwatch.st();\n    INFO(\"=== Load VLOOK ===\");\n\n    // ----------------------------------------\n    // 初始化语言\n    V_lang_init();\n\n    // ----------------------------------------\n    // 加载生成 VLOOK 界面\n    loadVLOOKui();\n\n    // ----------------------------------------\n    // 动效初始化\n    iStopwatch.st(\"* Effect\");\n    let effect = V_util_getParamVal(s_Effect);\n    V_ui_effect = (effect === gUndefined) ? 2 : JS_parseInt(effect);\n    V_ui_effect = env.device.mobile ? 0 : V_ui_effect;\n    LOG(\"    └ Level [ \" + V_ui_effect + \" ]\");\n    V_ui_initEffectLevel();\n    iStopwatch.ed(s_Cost);\n\n    // 先隐藏文档原始内容，减少页面重绘\n    VOM_doc().hide();\n\n    // ----------------------------------------\n    // 初始化欢迎页\n    iStopwatch.st(\"* Welcome Page Init\");\n    let wsMode = V_util_getParamVal(\"ws\");\n    wsMode = (wsMode === gUndefined) ? s_Auto : wsMode;\n    LOG(\"    └ mode: \" + wsMode);\n    WelcomePage_init(wsMode);\n\n    // 文档不符合 VLOOK 规范则不加载 VLOOK 插件\n    if (!V_checkSpec()) {\n        $(\".v-welcome-page\").hide();\n        $(\".v-toolbar\").hide();\n        $(\".v-btn\").hide();\n        return;\n    }\n    iStopwatch.ed(s_Cost);\n\n    // ----------------------------------------\n    // 初始化关键组件实例\n    iStopwatch.st(\"* Intance\");\n    V_init();\n    iStopwatch.ed(s_Cost);\n\n    // ----------------------------------------\n    // 延后加载 VLOOK 插件，避免欢迎页的 UI 刷新阻塞\n    // 独立线程进行处理\n    setTimeout(loadVLOOKplugin, 100);\n});\n\n/**\n * 字体加载完成后执行的主流程\n */\ndocument.fonts.ready.then(function () {\n    // 字体加载完成后的逻辑\n    LOG(\"!!! ALL FONT READY !!!\");\n});\n\n/**\n * 加载 VLOOK UI 资源\n */\nfunction loadVLOOKui() {\n    $(\".v-vlook-inside\").af(VLOOKui_loadWelcomePage()\n        + VLOOKui_loadIconSet()\n        + VLOOKui_loadTopbar()\n        + VLOOKui_loadNavCenter()\n        + VLOOKui_loadCommon());\n}\n\n/**\n * 加载 VLOOK 插件\n */\nfunction loadVLOOKplugin() {\n    // ----------------------------------------\n    // 推荐的浏览器类型检测\n    iStopwatch.st(\"* Browser Check\");\n    if (!env.browser.Chrome && !env.browser.Edge && !env.browser.Firefox && !env.browser.Safari && !env.core.webkit) {\n        ALERT([\n            \"为获得最佳兼容性，建议使用 Chrome / Firefox / Edge 浏览器\",\n            \"For best compatibility, it is recommended to use Chrome / Firefox / Edge browser\"\n        ][V_lang_id]);\n    }\n\n    iStopwatch.ed(s_4space);\n\n    // ========================================\n    // 初始化 VLOOK 核心模块\n    V_initKernel();\n\n    // ----------------------------------------\n    // 修改主题默认的圆角风格\n    let newRadius = V_util_getParamVal(\"radius\");\n    if (newRadius === \"small\" || newRadius === \"big\") {\n        // 批量修改圆角相关的 CSS 变量为指定的新值\n        V_util_changeCssVarSet([\n            s_varRB__,\n            s_varRS__,\n            s_varRT__,\n            s_varRTag__,\n            s_varRC__\n        ], newRadius);\n    }\n    else if (newRadius === s_None) {\n        // 批量修改圆角相关的 CSS 变量为 0\n        V_util_changeCssVarSet([\n            s_varRB__,\n            s_varRS__,\n            s_varRT__,\n            s_varRTag__,\n            s_varRC__\n        ]);\n    }\n\n    // ----------------------------------------\n    // 统一同组的分栏引用的高度\n    __fork(\"Quote Unite Columns Height\", function () {\n        ExtQuote_uniteColumnsHeight();\n    }, 1000);\n\n    // ----------------------------------------\n    // 段落导航初始化\n    __fork(\"Paragraph Nav\", function () {\n        ParagraphNav.init();\n    }, 100);\n\n    // ----------------------------------------\n    // 完成初始化后恢复显示\n    iStopwatch.st(\"* Write Ready\");\n    JQ_addClass(VOM_doc(), \"v-load-done v-focus-serch\");\n    iStopwatch.ed(s_4space);\n\n    // ----------------------------------------\n    // 初始化外部链接\n    __fork(\"External Link\", function () {\n        V_doc_link_adjustExternal();\n    }, 100);\n\n    // ----------------------------------------\n    // 初始化全局热键\n    __fork(\"Hotkey\", function () {\n        V_ui_initHotkey();\n    }, 150);\n\n    // ----------------------------------------\n    // 初始化须在页面 body 显示后才能执行的部分\n    __fork(\"Restyle\", function () {\n        V_initRestyle();\n    }, 200);\n\n    // ----------------------------------------\n    // 初始化，并安装自动适配器，实时跟随系统 Color Scheme 的变化\n    __fork(\"Color Scheme\", function () {\n        ColorScheme.scheme = V_util_getVarVal(\"--v-color-scheme\").x();\n        INFO(\"    System [ \" + ColorScheme.scheme + \" ]\");\n        ColorScheme.init();\n        // 判断当前文档是否强制指定了颜色方案\n        let colorScheme = V_util_getParamVal(\"cs\");\n        if (colorScheme === s_Light || colorScheme === s_Dark) {\n            INFO(\"    Force use [ \" + colorScheme + \" ]\");\n            ColorScheme.tg(colorScheme);\n        }\n        // 若系统当前颜色方案是 dark，则强制同步\n        else if (ColorScheme.scheme === s_Dark)\n            ColorScheme.tg(ColorScheme.scheme);\n    }, 300);\n\n    // ----------------------------------------\n    // 提交统计数据\n    __fork(\"Push Stat\", function () {\n        V_report_submit(gTotalTimes - gTimes);\n    }, 350);\n\n    // ----------------------------------------\n    // 初始化内容助手\n    // 须隐藏文档原始内容前执行，避免部分样式失效\n    __fork(\"Content Assistor\", function () {\n        ContentAssistor_init();\n        PicInPic_init();\n\n        // 设置表格阅读模式的开关状态（不指定则默认关闭）\n        if (V_util_getParamVal(\"tr\") === s_On)\n            TableCross_toggle();\n    }, 300);\n\n    // ----------------------------------------\n    // URL 带锚点的处理\n    __fork(\"Redirect to Hash\", function () {\n        let redirect = V_util_redirectTo();\n        if (VOM_cover() === gUndefined && !redirect) {\n            iNavCenter.catalog.currentHeaderIndex = 0;\n            V_ui_adjustAll();\n            ExtQuote_uniteColumnsHeight();\n        }\n    }, 450);\n\n    // ----------------------------------------\n    // 字数统计\n    __fork(\"Words count\", function () {\n        DocInfo_countWord();\n    }, 500);\n    // }\n\n    // ----------------------------------------\n    // 更新欢迎页\n    iStopwatch.st();\n    INFO(\"* Welcome Page Done (\" + WelcomePage_mode + \")\");\n    WelcomePage_done();\n    iStopwatch.ed(s_Cost);\n\n    // ----------------------------------------\n    // VLOOK 加载完成\n    gTotalTimes = iStopwatch.stop() - 200;\n    INFO(\"=== !!! MAIN PROCESS DONE !!! ===\");\n    INFO(\"TOTAL COST   ⏱ \" + gTotalTimes + \" ms\");\n    INFO(\"    ├ HTML   ⏱ \" + gTimes + \" ms\");\n    INFO(\"    └ VLOOK  ⏱ \" + (gTotalTimes - gTimes) + \" ms\");\n\n    /**\n     * 创建独立线程执行\n     * @param msg 线程信息\n     * @param callback 线程执行的回调函数\n     * @param delay 0 - 立即时间，>0 - 延时执行（毫秒）\n     */\n    function __fork(msg, callback, delay) {\n        setTimeout(function () {\n            let sw = new Stopwatch();\n            sw.st(\"* thread * [\" + msg + \"]\");\n            typeof(callback) === s_Function && callback();\n            sw.ed(s_4space);\n        }, delay);\n    }\n}\n"]}