{"version":3,"names":["LOG","console","log","apply","arguments","INFO","info","WARN","warn","ERROR","error","DEBUG","V_debugMode","ALERT","m","alert","WINDOW_getHref","window","location","href","WINDOW_setHref","value","WINDOW_getHash","hash","JQ_addClass","target","className","gUndefined","addClass","JQ_removeClass","removeClass","JQ_removeAttr","attrName","removeAttr","JQ_exchangeClass","oldClassName","newClassName","JQ_remove","remove","JS_parseInt","parseInt","JS_parseFloat","parseFloat","JS_mathRound","Math","round","JS_mathCeil","ceil","JS_decodeURI","decodeURI","DOM_html","DOM_h","$","length","_failed_","DOM_body","DOM_b","VOM_doc","VOM_d","_write_","VOM_cover","VOM_c","_firstChild_","_h6_","VOM_docTitle","VOM_backcover","VOM_bc","fns","_footnotesArea_","backcover","pr","tagName","V_util_getTagName","VOM_dt","_vkIdDocTitle_","V_params_init","V_params_url","V_util_getUrlQueryParams","vp","V_util_getMetaByName","V_params_yaml","_","V_util_getDocTitle","document","a","_title_","metaName","content","_mata_","V_attrX","_name_","_content_","V_util_getParamVal","pName","v","u","h","i","si","s","qs","p","is","sp","item","l","decodeURIComponent","V_util_getUrlHash","V_util_getUrlQueryString","V_util_getUrlWithoutHash","V_util_getUrlPathWithoutQueryAndHash","queryIdx","hashIdx","V_util_getPath","qi","ti","lastIndexOf","pi","V_util_htmlTagEncode","text","r","V_util_clearHtmlQuot","V_util_ellipsisText","limit","__getChs","str","cjk","cnt","__getChsRev","count","len","___","x","t","cjkHeader","cjkTailer","V_util_redirectTo","setTimeout","V_ui_tuningScrollTop","gTrue","gFalse","V_util_gotoHash","last","V_util_getVarVal","varName","getComputedStyle","documentElement","getPropertyValue","V_util_setVarVal","style","setProperty","V_util_getTemplateTheme","rA","V_util_changeCssVarSet","varSet","flag","tmp","push","prop","_tagName_","V_util_wrapBackquote","__hasBackquote","bq1","bq2","V_formatting_thousands","V_formatting_decimal","V_ui_span","_vTblColFmtNumDecimal_","V_formatting_percent","_vTblColFmtPercent_","V_formatting_currency","gRE_CurrencyNoEscape","gRE_CurrencyNoEscape2","_vTblColFmtCurrency_","V_checkSpec","c","V_lang_id","_class_","gToc","_vMdToc_","V_init","sw","Stopwatch","st","iFontTheme","FontTheme","BgMask","_fontTheme_","_center_","init","ed","iSpotlight","Spotlight","BottomTips","_spotlight_","iLaserPointer","LaserPointer","cf","ContentFolder_enabled","_off_","_on_","ContentFolder_enabled_table","_table_","ContentFolder_enabled_figure","_figure_","ContentFolder_enabled_codeblock","_codeblock_","ContentFolder_init","ToolTips_init","iInfoTips","InfoTips","runMode","iNavCenter","NavCenter","_navCenter_","_left_","iChapterNav","ChapterNav","chpNav","iToolbar","Toolbar","add","tg","_docLib_","docLib","counter","showed","keyword","input","focus","val","_vdl_","select","show","addSpliter","_toolbarSpliter_","_paragraphNav_","inform","V_ui_strong","hide","iParagraphNav","_laserPointer_","_print_","V_print_ready","toolbar","bindButton","btns","iFigNav","FigureNav","MoreDocContent_init","iFootNote","FootNote","_bottom_","StsDocInfo_init","StsFontTheme_init","StsColorScheme_init","StsLinkTool_init","_linkChecker_","_right_","StatusBar_init","StatusBar_add","StsDocInfo_ui","StsFontTheme_ui","StsColorScheme_ui","StsLinkTool_ui","V_initKernel","iStopwatch","icoLg","_vDocLog_","_light_","_backgroundImage_","icoDk","_dark_","ap","_docIcon_","V_attr","_href_","_4space_","pageMode","V_pageMode","_mini_","MoreDocContent_ui_before","pp","V_ui_div","_vDoc_","V_ui_initI18n","CaptionGenerator_autoContent","ExtAudio_init","ExtVideo_init","ExtQuote_init","ExtQuote_adjustHoverStyle","ExtFigure_init","_cost_","ExtTable_init","TableCross_init","RowGroup_adjustHoverStyle","ExtCodeBlock_init","ColorCode_init","CodeMagic_init","SupSubMagic_preprocess","Progressbar_init","LinkTool_mdToHtml","LinkTool_checkLink","BreadcrumbStyle_init","V_ui_adjustHoverStyle","ContentFolder_adjust","env","device","mobile","showHandle","adjust","StatusBar_adjust","catalog","adjustHoverStyle","ChpAutoNum_initToc","hasIndexItem","figure","table","media","codeblock","addEventListener","event","repaint","snap","uC","ck","TableCross_hide","on","currentTime","Date","getTime","scrollTop","timeInterval","docHeight","V_doc_scroll_lastUpdate","MoreDocContent_refresh","abs","V_doc_scroll_lastTop","V_doc_scroll_update","V_ui_adjustAll","focusHeader","ExtQuote_uniteColumnsHeight","onbeforeprint","V_print_mode","_VLOOK_","onafterprint","V_print_done","anchor","history","aObj","o","oT","hiddenObj","closest","_blockquote_","isHidden","fd","f","_vBlockquoteFolder_","tr","_mouseUp_","gLastHash","browser","Firefox","V_ui_adjustAllDelay","V_initRestyle","Restyler_forTaskList","Restyler_forMermaid","V_ui_show","_visibility_","_visible_","_opacity_","V_ui_hide","_hidden_","V_ui_wrap_kbd","src","V_ui_getCtrlKeyUI","unwrap","short","key","os","macOS","V_ui_getShiftKeyUI","V_ui_getAltKeyUI","V_ui_getMetaKeyUI","V_ui_copyrightInfo","_vCopyright_","V_ui_svgIcon","_icoVLOOK_","_vCopyrightSvgIco_","_2nbsp_","V_ui_a","V_ver","encodeURI","print","V_ui_isSmallScreen","oW","gSmallScreenWidth","sW","ui","_top_","_height_","y","tag","attrValue","op","icon","w","color","classValue","extAttr","V_ui_svgIcon2","V_ui_symbol","idValue","V_ui_htmlTag","V_ui_img","alt","srcset","_img_","V_ui_iframe","name","_iframe_","V_ui_input","id","type","_input_","V_ui_figcaption","V_ui_div2","V_ui_var","_strong_","_span_","V_ui_sub","_sub_","V_ui_label","_label_","V_ui_audio","_audio_","V_ui_video","_video_","V_ui_holdKey_Alt","v_ui_mouseDropIn","mx","pageX","clientX","body","scrollLeft","my","pageY","clientY","padding","_paddingTop_","borderBottomWidth","_borderBottomWidth_","oL","V_ui_campColor","gradientColors","V_ui_splitColors","colorStr","gColor","charAt","toUpperCase","slice","split","filter","V_ui_hexToRGB","hex","rgb","V_ui_formatRGBA","opacity","V_ui_genGradColorCSS","fade","suffix","css","_dataTips_","prev","next","dt","current","close","_vFontPackage_","_font_","hm","buttonSeeAll","ch","V_ui_moveToCenter","_auto_","V_ui_moveToTarget","_paddingLeft_","_paddingRight_","_borderWidth_","V_ui_processingAdjust","_vBtn__BtnGroup_","uH","_vSegmentBtn_","_vAccentBtn_","_docLibToc_","_vDocLibItem_","_vStdCode_","_vTag_","_vBadgeName_","_vBadgeValue_","V_ui_bindHover","cancleParent","hover","_t","this","_hover_","_mouseEnter_","V_ui_unbindHover","unbind","_mouseLeave_","V_ui_initEffectLevel","V_ui_effect","_none_","_vBackdropBlurs_","_enabled_","V_ui_addAnimate","V_ui_initEffectLevel2","_vTransitionAll_","attrSet","V_ui_removeAnimate","V_ui_initHotkey","__showHideNavCenter","isShowed","_click_","code","keyCode","which","charCode","combKeys","ctrlKey","shiftKey","altKey","metaKey","String","fromCharCode","ContentAssistor_toggleCopyMode","disposeHotkey","WelcomePage_disposeHotkey","LinkTool_disposeHotkey","V_doc_block","activeElement","handled","preventDefault","navigator","clipboard","readText","then","catch","enabled","TableCross_ui","TableCross_disable","ContentAssistor_copyAsMarkdown","V_lang_init","language","base","V_doc_scroll_freeze","_unfreeze_","_freeze_","V_doc_scroll_unfreeze","V_doc_link_adjustExternal","e","_target_","ColorScheme","scheme","schemeBeforePrint","refresh","_vCaption_Mermaid_","_beforePrintWidth_","_width_","_100pc_","_svg_","_style_","_maxWidth_","_beforePrintMaxWidth_","_details_","_open_","_summary_","_dataContentFolded_","_true_","_vTblRowGBtn_","RowGroup_open","PicInPic_hide","coatings","_vCoating_","confirm","_dataCoatingShowed_","Coating_show","V_report_submit","loadTimeCost","sd","display","DPR","Windows","iOS","Linux","Edge","browserVer","Chrome","Safari","_varColorScheme_","_vFig_","_dataContainer_","_dataImgFill_","_dataDarkSrc_","_invert_","_alter_","_div_","_id_","_vkIdFig_","_dataIdFigType_","_vCap1_","_vCap2_","mermaid","_vkIdAudio_","_vkIdVideo_","pie","flow","flowSTART","flowINIT","state","seq","classD","gantt","_vkIdTbl_","fmBold","fmEm","fmUnderline","fmMark","fmDel","fmChk","fmNum","_dataColumnFmting_","_vTblColFmt_Bold_","_vTblColFmt_Em_","_vTblColFmtMark_","_del_","_vTblColFmt_Chkbox_","_vTblColFmtNum_","_dataCellMerge_","_dataRowGroup_","_vFences_","_pre_","_vkIdCodeblock_","_code_","vlookStat","_vlookStatGitee_","_src_","RandomColor_generate","floor","random","RandomColor_dissimilarRgb","RandomColor_palette","d","idx","sqrt","T","sT","lT","reset","pre","slient","msg","stop","WelcomePage_init","mode","WelcomePage_ui","WelcomePage_uiName","WelcomePage_button","WelcomePage_tips","WelcomePage_finished","WelcomePage_mode","WelcomePage_close","WelcomePage_done","_cursor_","WelcomePage_stopAni","_animation_","WelcomePage_updateCloseButton","delay","WelcomePage_autoClose","_wait_","__timeToClose","delaySecs","clearTimeout","closeTimer","sec","ContentAssistor_init","__actionCopy","ContentAssistor_lastHover","ContentAssistor_lastContentType","ExtCodeBlock_copyContent","_fig_","_suffixImg_","ExtFigure_copySrc","ExtTable_copyContent","ContentAssistor_ui","ContentAssistor_btns_copyContent","_vBtn_Assistor_","ContentAssistor_btns_openInFigureNav","ContentAssistor_btns_tableCross","ContentAssistor_btns_tableWrap","ContentAssistor_btns_picInPic","ContentAssistor_hide","TableCross_toggle","TableWrap_toggle","PicInPic_show","ToolTips_bind","_icoCopyAsMd_","_icoCopy_","ContentAssistor_bind","contentType","asMarkdown","ContentAssistor_show","_first__enable__last_","eW","_enabled__first_","_enabled__last_","_dataTblX_","_selected_","_whiteSpace_","_preWrap_","caption","container","offset","_vCaptionContainer_","capWidth","conWidth","_borderLeftWidth_","_borderTopWidth_","PicInPic_init","PicInPic_ui_body","PicInPic_ui_content","PicInPic_ui_zoom","_vPipBtn_","PicInPic_ui_close","pipBtn","PicInPic_ratio","_icoZoomIn_","_theme_","_icoZoomOut_","PicInPic_zoom","_min_","source","__cloneForPicInPic","openAll","RowGroup_openAll","ContentFolder_expand","n","newClone","clone","_margin_","_border_","img","svg","_dataFigNum_","_vMermaidRestyler_","RowGroup_reset","RowGroup_closeAll","PicInPic_calcSize","empty","pic","PicInPic_fitContentSize","baseW","baseH","PicInPic_size_width","PicInPic_size_height","__getImgSize","width","height","sourcePadding","uiPadding","Image","complete","onload","wWithPadding","_transformOrigin_","hWithPadding","_transform_","radius","tips","zoom","normal","bigger","lastPos","toggleZoom","_vSpotlightInDark_","pointerScope","_vCursorLaser_","key1","key2","isEnabled","_background_","enable","SegmentControl","control","group","segs","segCnt","indicator","checked","status","__updateIcon","entry","_dataIcon_","__checked_","typeName","_dataResult_","change","update","checkedItem","_checked_","sts","space","spacePercent","_first_","pos","left","_marginLeft_","mask","handle","__keywordBody","TextField","lastDisplayType","_float_","snapTimer","TocIndex_segments","TocCatalog","_icoTocTabCatalog_","TocFigure","_icoTocTabFigure_","TocTable","_icoTocTabTable_","TocMedia","_icoTocTabMedia_","TocCodeblock","_icoTocTabCodeblock_","TocHistory","_icoTocTabHistory_","bindPartner","onChapterChanged","setIcon","_icoRetrieval_","_alpha_","cmdKey","placeholder","onInput","resultNav","result","hideFilterResult","scrollToCurrent","updateStatus","TocIndex_noneKeyword","TocIndex_filter","onFocus","search","_actived_","_vFocusSearch_","onBlur","pressEnter","onInteractive","adjustClickHash","gotoCover","currentItem","_vTocItemCurrent_","currentHeaderIndex","ToolTips_hide","callback","inHeader","_block_","_function_","afterToggle","_vNavCenterFloat_","_vFloatCard_","_vNavCenterBlock_","_writeMarginLeft_","_varNavCenterHiddenLeft_","setWidth","_varNavCenterWidth_","inputing","__prev","_vChapterNav_","__current","__next","__dt","adjustEffectLevel","_effect_","_dataAnchor_","_cover_","gotoHeader","_disabled_","curIdx","_display_","_inStart_","inFirstHeader","inDocTitle","headerNum","_dataHeaderNum_","ParagraphNav","cur","_dataId_","MoreDocContent_hideAfter","key3","goto","_dataPgIdx_","ThreeClicker_tick","prevPg","step","blurFocus","nextPg","_vPgCurrentItem_","ExtQuote_autoUnfold","ThreeClicker_active","ThreeClicker_activeTime","getSelection","removeAllRanges","_vToolbar_","clickEvent","btnGroup","_dataBtnGroup_","ToolTips_show","offsetY","btnCount","btnWidth","FontThemeOption","fonts","fontCount","theme","localTheme","_vFontThemeOpt_","bookTheme","sansTheme","_normal_normal_","_normal_bold_","_normal_italic_","_normal_500_","_normal_900_","serifTheme","_italic_bold_","initWebFont","_vFontInfo_","_fontsetStatus_","_ready_","__loadNumberFont","fontName","srcName","loadFont","_normal_","_bold_","_Bold","_italic_","_Italic","__LoadDigitalSansFont","_Regular","unicodeRange","fontWeight500","_Medium","fontWeight900","_Black","__LoadDigitalSerifFont","luxiMonoSubName","__loadSansMonoFont","__loadSerifMonoFont","__loadSansCjkFont","__loadSerifCjkFont","timeOutMsg","button","fontFamily","fontStyle","fontWeight","srcFontName","srcFontSubName","isExist","woffURL","webfontHostAlt","_woff2_","fontFace","FontFace","weight","load","loadedFontFace","fontID","readyMsg","loadingMsg","splice","sansLoadedCount","sansStatus","serifLoadedCount","serifStatus","values","isHave","done","family","varList","fontVarList","_vFontnotePn_","StatusBar_ui","_vStatusBar_","StatusBar_items","StatusBar_options","_vDocInfo_","DocInfo_countWord","latin","latinCount","cjkCount","wordCount","readCountPerMin","mins","times","toFixed","_dataDefault_","toString","_dataExtend_","_nbsp_","_vStsFontTheme_","_vColorScheme_","StsColorScheme_updateIcons","_icoDarkMode_","_icoLightMode_","_vLinkChkResult_","LinkTool_panel_list","_vLinkErrorList_","LinkTool_panel_header","LinkTool_panel_body","LinkTool_enabled","LinkTool_icon_error","_icoLinkError_","LinkTool_mask","LinkTool_hide","scroll","xmd","newExt","LinkTool_addToCheck","_vTocItem_","_tabindex_","__addErrorLink","_error_","LinkTool_show","LinkTool_isShowed","af","closer","_icoMaskCloser_","partner","partnerUI","_zIndex_","_padding_","ContentFolder_limit","ContentFolder_add","ps","ContentFolder_contents","ContentFolder_buildTimers","shift","ContentFolder_rebuild","rules","gStyle","cssRules","j","ruleText","selectorText","_expander_","deleteRule","get","currentSrc","ContentFolder_checkAndProcess","rebuild","isImg","expanded","_dataContentExpanded_","folded","_dataBeforePrintFolded_","_false_","_paddingBottom_","ContentFolder_buildContentExpander","_overflowX_","_overflowY_","ContentFolder_rowNumFilter","_vTblRowNumHidden_","tW","newClass","insertRule","_dataContentType_","_overflow_","ToolTips_ui","_vToolTips_","align","follow","ToolTips_aniTimer","ToolTips_continueTimer","ToolTips_lastStyle","tipsW","iW","tipsH","iH","ww","wh","top","waitTime","ToolTips_continueShow","ToolTips_delay","_vInfoTips_","aniTimer","message","bubble","_bubble_","_borderRadius_","_varVRB_","sourceName","_vMoreDocContent_","MoreDocContent_ui_after","CaptionGenerator_actionForTextContent","captionPrefix","V_doc_counter_table","indexObj","dataForSearch","V_doc_counter_codeblock","fcSet","CaptionGenerator_getCaptions","fc","fc2","CaptionGenerator_spliter","_vCodeMirrorLine_","wrap","bf","xD","has2Captions","_dataCaptionCount_","_dataTitle_","CaptionGenerator_actionForMediaContent","_alt_","V_doc_counter_figure","V_doc_counter_audio","V_doc_counter_video","_dataFigType_","_viewBox_","__getCaptionSet","_mark_","captionTagName","hideCaptionSrc","capResult","CaptionGenerator_parseSyntax","_position_","_absolute_","reg2","reg1","html","test","BreadcrumbStyle_count","mark","_vBreadcrumbStyle_","bread","slashOrg","slashTmp","_dataClipboardText_","BreadcrumbStyle_syntax","Copyer_action","stopPropagation","lmc","lines","lineNum","lineCount","badChars","goodChars","encodeText","lang","_lang_","supportMarkdown","successCallback","errorCallback","ts","Copyer_processing","Copyer_lastActionTime","targetName","ClipboardJS","note","clearSelection","destroy","Copyer_copyModeTimer","__genNumContent","lv","diff","ChpAutoNum_lastLevel","absDiff","ChpAutoNum_push","ChpAutoNum_pop","ChpAutoNum_counter","ChpAutoNum_toString","metaTpl","gTocContent","isEmpty","ChpAutoNum_resetTpl","ChpAutoNum_resetCounter","_mdTocItem_","ChpAutoNum_parseTocHeaderLevel","_lastChild_","prefix","ChpAutoNum_tpl_prefix","__parseTplItem","ChpAutoNum_tplSet","ChpAutoNum_tpl_syntax","ChpAutoNum_tpl_leftPad","ChpAutoNum_tpl_format","ChpAutoNum_tpl_formatOpt","CHPAUTONUM_TPL_FORMAT_OPT_MIN","CHPAUTONUM_TPL_FORMAT_OPT_SUP","CHPAUTONUM_TPL_FORMAT_OPT_NONE","ChpAutoNum_tpl_suffix","ChpAutoNum_tpl","tplSet","isNaN","__formatNum","opt","ns","upperCase","format","ChpAutoNum_leftPadForDecimal","ChpAutoNum_decimalToZh","ChpAutoNum_decimalToAlpha","ChpAutoNum_decimalToRoman","superLv","numStr","pad","gap","padStr","num","__numToZh","strArr","reverse","newNum","ChpAutoNum_zhNum","ChpAutoNum_zhUnit","__toZhUpperCase","overWan","noWan","numeral","ChpAutoNum_romanNum","ChpAutoNum_romanNumArea","__disposeDetailsFolder","quote","V_doc_counter_details","details","summary","_icoDetailsOpen_","_vSvgDetails_","_dataQuoteGroup_","open","_vRotate45_","dcQuote","ExtQuote_quoteToColoring","Quote_defalutColor","matchedQuoteFold","_dataFolding_","parentTag","coloringQuoteEnabled","Color_syntax","ExtQuote_isValidColorMark","Color_syntaxOld","ExtQuote_initColumns","ExtList_initColumns","pText","__hideHr","__groupingColumns","ExtQuote_columnsGroupCount","colCount","hr","prevUntil","nextUntil","ExtQuote_processingUCH","ExtQuote_uniteColumnsHeightForGroup","groupId","maxHeight","__openDetails","parent","__initCell","colIndex","needCheckCellMerge","needCheckColumnFormatting","needCheckThRpt","th","CellMerge_syntax_row","CellMerge_syntax_col","ColumnFormatting_init","ThRepeater_syntax_tag","_dataThRpt_","rHTML","_dataTblCol_","TableCross_bind","needCheckRowGroup","td","RowGroup_syntax_tag","CellMerge_dispose","cell","ColumnFormatting_format","RowGroup_init","_dataFolder_","_dataIdentLevel_","ThRepeater_init","__createTheadSpliter","alignSet","lastAlign","spliter","__maybeAsMarkdown","mdStr","plainStr","__transCellContent","cellHTML","cellBg","cellWholeText","__transCellContent_badge","gRE_badge","__transCellContent_code","__transCellContent_tag","gRE_badge2","gRE_tag","gRE_code","__transCellContent_rainbowText","gRE_boldRainbowText","gRE_italicRainbowText","gRE_highlightRainbowText","gRE_underlineRainbowText","brTmp","regExp","_dataAsMarkdown_","_value_","exp","__printXspanArr","debugMode","rowCount","sss","xspanMatrix","trSet","theadCount","columnFmting","theadRepeater","rowGroup","rowIndex","__disposeRowspan","htmlText","rowspan","cellSet","re_LabelTag","RegExp","colspan","colFmtChkbox","colFmtMark","_dataRbCellBg_","_dataRbWholeText_","yes","_dataChk_","_yes_","un","_un_","_textAlign_","_vTblRowGSub_","identerCount","_vTblRowGIdenter_","_rowspan_","_colspan_","colSpanCount","colSpanCell","lastCell","tblData","tblSpan","tblTd2ThData","needRowSpan","CellMerge_emptyBlankCell","rowSpanCount","rowSpanCell","thSpanFlag","_verticalAlign_","foundTd","tblCol","_dataColspan_","_dataTd2th_","rW","_outerHTML_","_vTblX_","TableCross_enable","_vContentExpander_","TableCross_lastTable","TableCross_lastCell","contentFolded","_vTblXCell_","tblWidth","tblHeight","cellWidth","cellHeight","cornerLeftX","cornerUpY","cornerLeftWidth","cornerUpHeight","cornerRightX","cornerDownY","cornerRightWidth","cornerDownHeight","leftUp","rightUp","leftDown","rightDown","TableWrap_disable","TableWrap_enable","ColumnFormatting_syntax_checkbox_header","ColumnFormatting_getCells","cells","ColumnFormatting_getTbodyCells","tbodyCells","cellsCSS","thHTML","ColumnFormatting_removeCheckboxSyntax","ce","ceText","typeFlag","ColumnFormatting_syntax_checkbox","chkStatus","_no_","chkStyle","_icoChkbox__","isNumber","ColumnFormatting_coloringNumber","isPercent","coloring","percent","percentValue","percentBg","bg1","bg2","bgSplit","baseBg","_color_","_linearGradient_","_minWidth_","isCurrency","_vTblColFmtNumNegative_","_vTblColFmtNumPositive_","syntaxText","_vTblRowGNotFolder_","lastLevel","currentLevel","RowGroup_parentStack","RowGroup_colorStack","RowGroup_spliter","beforeChanged","RowGroup_newFolder","_varTblRowAlpha_","RowGroup_ident","pop","RowGroup_lastParent","RowGroup_lastColor","level","__echoOuterHTML","objectSet","outerHTML","folderRow","RowGroup_folderCount","_dataFolderId_","_dataRowFolded_","tdHadIdent","_last_","RowGroup_icoCloser","_vTblRowGFolder_","_vTblRowGIdenterFolder_","preClass","preObjs","cloneTd","RowGroup_toggle","RowGroup_close","_dataRowOpenMode_","_dataParentFolderId_","RowGroup_syntax_tag2Replace","_backgroundColor_","identer","identObj","subRows","folderButton","_vRotate90_","thRow","tdHTML","colID","prevThRow","_vThRepeater_","folder","hasRowGroup","pageSize","skipRowCount","lastSkipRowCount","tbody","rowSpan","__transToAudio","audioLike","autoplay","_autoplay_","loop","_loop_","preload","_preload_","audio","__play","self","controls","paused","play","ExtAudio_icon_play","_playing_","pause","_dataPause_","writeImg","__addToLinkChecker","params","_controls_","V_doc_counter_audiomini","_vkIdMiniAudio_","_vAudioMiniControl_","bind","_loading_","ExtAudio_icon_loading","dur","dur2","_dataDuration_","duration","min","minStr","ExtAudio_icon_pause","ExtAudio_icon_stop","_emptied_","ExtAudio_icon_forbidden","_marginBottom_","__transToVideo","videoLike","video","append","action","lastValue","timerValueChanged","onKeyDown","onAction","pressESC","__appendTo","__processInput","actionHover","_text_","_icoResetInput_","__checkComValueChanged","_vTextFieldFocus_","blur","clear","setAction","enter","_hoverAction_","_placeholder_","FilterResultNavigator","index","nextItem","set","eq","holder","hidden","_vTocFilterResult_","foldItems","lastHeaderFolder","lastHeaderLevel","lastDocScrollTop","_dataCatalogEmpty_","_catalog_","_vTocFolder_","_vkHeader_","_dataRef_","_dataNode_","_dataFolded_","insertBefore","_icoTocFolded_","folderParent","disposeFold","_dataPid_","__expandUpFolder","headerHeight","_vlookToc_","preDis","sTop","sBottom","showFilterResult","matched","_tocItem_","data","cloneItem","_dataKeywordMatch_","_dataForSearch_","TocIndex_updateStatus","traversal","lastItem","itemSet","nextAll","btnFolder","hd1","hd2","TocIndex_initUI","TocIndex_showTips","items","TocIndex_add","forSearch","TocIndex_hasIndexItem","TocIndex_show","TocIndex_hide","title","_vTocHistory_","hashObj","_dataHistory_","existsItem","tocItem","noneHistory","DocLib","_vDocLib_","iframe","page","identifier","paths","__addDocLibItem","includes","hasTarget","docLibToc","_icoDocLibExt_","_icoDocLib_","_dataPage_","_dataHash_","docLibValue","_vlookDocLib_","docLibList","re_TargetVDL","reload","cs","newPage","path","__disposeCaption","fig","__bindLoadChecker","cp1","__loadDefaultOnError","__isNotFigure","iconMode","logoMode","frameMode","__isPostcard","__initAlign","__initBackground","grid","_dataFigGrid_","__initFillAlter","_fill_","_suffixSvg_","SVGInject","afterInject","svgObj","ExtFigure_adjustFillAlterForSVG","onFail","__initColorScheme","_darksrc_","queryString","darksrc","_dataSrcLight_","_dataSrcDark_","_srcset_","_dataSrcsetLight_","_darksrcset_","_dataSrcsetDark_","__initHighDPI","darksrcset","__transUrlSrcSet","__initPostcard","_card_","blockquote","parentsUntil","_cssText_","_important_","_boxShadow_","altText","altTextForSearch","titleText","cardBody","card","imgH","V_doc_counter_postcard","pureSrc","fileName","rAfter","httpMode","canFillAlter","hostname","imgHost","src2FillAlter","isPostcard","V_doc_counter_img","matchRes","srcHost","needImgHost","prevFig","undefined","ExtFigure_adjustColorScheme","disposeGrid","darkMode","_vImgInvertDark_","_dataSrc_","_dataSrcset_","fill","_filter_","gridType","darkInvert","_line_","_vFigNav_","_vFigNavBtns_","_vFigContent_","figNum","nextFig","_mouseDown_","updateUI","newFig","_maxHeight_","pageNum","_checkbox_","indeterminate","zenSelector","zenuml","idPrefix","svgIconCount","svgIcon","attr","seqSelector","viewBox","paddingBottom","actor","tmpText","front","keySys","extSys","line","_rx_","_ry_","_vActorKeySys_","_vActorExtSys_","_textLength_","fragment","g","segType","bgColor","_varMmOrange_","borderColor","titleColor","_varAcOrangeLg_","_varMmRed_","_varAcRedLg_","_varMmCyan_","_varAcCyanLg_","_stroke_","fragmentTitle","label","rect","getBBox","nextText","_V_R_B_","TextPhonetic_syntaxOld","TextPhonetic_buildForSup","colorSet","QuoteColoring_build","RainbowTextAndCell_build","_icoAlertNote_","_icoAlertTip_","_icoAlertImportant_","_icoAlertWarning_","_icoAlertCaution_","symbol","symbolCount","targetPrev","prevText","wordText","rubyHTML","raw","TextPhonetic_translation","translator","url","colorCode","Quote_getColor","em","ColorCode_isEm","__disposeText","obj","solid","ColorTooLight","span","wholeRendering","_dataRbText_","__disposeUnderline","_borderColor_","_borderImage_","__disposeMark","_textShadow_","__disposeCell","Badge_getColor","tableCellBgMode","renderTarget","dcTag","dcBadge","dcCoating","Tag_defalutColor","Badge_defalutColor","Coating_defalutColor","ColorCode_parseOld","newColors","ColorCode_parse","ColorCode_genAsMarkdown","defaultColor","stdCount","codeText","Badge_syntax","Badge_build","Tag_syntaxOld","Tag_build","Coating_syntax","Coating_build","TextPhonetic_syntaxForCode","TextPhonetic_buildForCode","ContentAssistor_lastTarget","tip","value2","bName","bValue","bValue2","Tag_syntax","__asMarkdown","Tag_getColor","Tag_count","badgeName","badgeValue","badgeValue2","varStr","Badge_count","badge","Badge_syntax_variable","_hastwo_","nodeCnt","plainContent","contents","Progressbar_build","taskList","doneCount","calcValue","Progressbar_count","outlineWidth","_outlineWidth_","rbTextSet","rbText","autoColor","colorAlt","outlineStyle","Progressbar_getColor","overValue","overWidth","_marginRight_","_outlineStyle_","Progressbar_defalutColor","__genCoatingBg","charCount","start","end","_varDFC_","hiddenText","Coating_getColor","coatingCount","_dataCoatingTip_","_dataCoatingHidden_","Coating_toggle","__getSelectedText","selection","createRange","Coating_hide","_opened_","VLOOKui_loadWelcomePage","date","author","defalutContent","metaContent","_br_","VLOOKui_loadIconSet","_icoNavCenter_","_icoPrevFig_","_icoPrevChapter_","_icoFolded_","_icoClose_","_icoSpotlight_","_icoLaserPointer_","_icoParagraphNav_","_icoFontTheme_","_icoPrint_","_icoOpenInFigureNav_","_icoTableX_","_icoTableWrap_","_icoPicInPic_","_icoLoading_","_icoPlay_","_icoPause_","_icoStop_","_icoForbidden_","VLOOKui_loadTopbar","_vBtn_","classSvgChpNav","VLOOKui_loadNavCenter","classTocFilterResult","_media_","VLOOKui_loadCommon","classFontThemeOpt","previewPath","_notLoaded_","classBtnAssistor","classPinBtn","classTableCross","loadVLOOKui","loadVLOOKplugin","__fork","core","webkit","newRadius","_V_R_S_","_V_R_T_","_V_R_Tag_","_V_R_C_","colorScheme","redirect","gTotalTimes","gTimes","gVer","_beforePrint_","_ico_","_alert_","_icoTocTab_","_mouse_","_V_R_","_vBadge_","_vNavCenter_","_vRotate_","_vTblRow_","_vTblColFmt__","prototype","click","children","each","find","innerWidth","margin","outerWidth","innerHeight","position","parents","prepend","after","before","replaceWith","toggle","trigger","match","searchValue","replaceValue","replace","regExpString","re","replaceAll","trim","startsWith","endsWith","indexOf","toLowerCase","substring","devMode","wrapText","suff","oldValue","newValue","userAgent","trident","presto","gecko","android","iPhone","iPad","full","subset","devicePixelRatio","silent","printMermaidDPR","RepairTool_mermaidDPR_builder","RepairTool_mermaidDPR_render","hideOnError","vlookToc","tocSet","tocSetLength","hasCover","tocAutoCloseLevel","__setLightIcon","__darkIcon","head","__lightIcon","__setDarkIcon","__syncScheme","matcher","matches","__initScheme","querySelector","mediaQuery","matchMedia","ac","_alt","_fade","_fade_bd","_title","_cur","acRed","acOrange","acYellow","acLime","acGreen","acMineral","acOlives","acWine","acAqua","acCyan","acBlue","acSea","acLavender","acVine","acPurple","acRose","acPink","acGold","acBrown","acGray","acBlack","acTheme1","acTheme2","mm","mmRed","mmOrange","mmYellow","mmGreen","mmCyan","mmBlue","mmPurple","mmPink","mmBrown","mmGray","cm","footnotesArea","ColorCode","effect","wsMode","styleSheets","ready"],"sources":["../../src/vlook.js"],"sourcesContent":["/**************************************\n *\n * VLOOK JS - Typora Plugin\n *\n * V23.0\n * 2024-03-14\n * powered by MAX°孟兆\n *\n * QQ Group: 805502564\n * Telegram Channel: t.me/vlook_markdown\n * email: maxchow@qq.com\n *\n * https://github.com/MadMaxChow/VLOOK\n * https://gitee.com/madmaxchow/VLOOK\n *\n *************************************/\n\nlet gVer = \"V23.0\",\n    iStopwatch = new Stopwatch(), // 初始化计时器\n    gUndefined = undefined,\n    gTrue = true,\n    gFalse = false,\n    gTimes = 0,\n    gTotalTimes = 0,\n    gLastHash = null,\n    // **********\n    // 修改时须同步修改 media.less 的同名参数\n    gSmallScreenWidth = 1270,\n    // **********\n    gToc = gUndefined, // 文档大纲对象\n    gTocContent = gUndefined, // 文档大纲内容\n    gStyle = gUndefined, // 文档的 style 对象\n    // 以下 _xxx_ 格式变量为字符串\n    _100pc_ = \"100%\",\n    _ = \"\",\n    ___ = \" \",\n    _4space_ = ___+___+___+___,\n    _absolute_ = \"absolute\",\n    _actived_ = \"actived\",\n    _alt_ = \"alt\",\n    _alter_ = \"alter\",\n    _alpha_ = \"alpha\",\n    _audio_ = \"audio\",\n    _animation_ = \"animation\",\n    _auto_ = \"auto\",\n    _autoplay_ = \"autoplay\",\n    _background_ = \"background\",\n    _backgroundColor_ = _background_ + \"-color\",\n    _backgroundImage_ = _background_ + \"-image\",\n    _beforePrint_ = \"before-print-\",\n    _width_ = \"width\",\n    _maxWidth_ = \"max-width\",\n    _beforePrintWidth_ = _beforePrint_ + _width_,\n    _beforePrintMaxWidth_ = _beforePrint_ + _maxWidth_,\n    _block_ = \"block\",\n    _blockquote_ = \"blockquote\",\n    _bold_ = \"bold\",\n    _border_ = \"border\",\n    _borderBottomWidth_ = _border_ + \"-bottom-width\",\n    _borderBottomRightRadius_ = _border_ + \"-bottom-right-radius\",\n    _borderColor_ = _border_ + \"-color\",\n    _borderImage_ = _border_ + \"-image\",\n    _borderRadius_ = _border_ + \"-radius\",\n    _borderWidth_ = _border_ + \"-width\",\n    _borderLeftWidth_ = _border_ + \"-left-width\",\n    _borderTopWidth_ = _border_ + \"-top-width\",\n    _bottom_ = \"bottom\",\n    _boxShadow_ = \"box-shadow\",\n    _br_ = \"<br>\",\n    _bubble_ = \"bubble\",\n    _card_ = \"card\",\n    _catalog_ = \"catalog\",\n    _center_ = \"center\",\n    _cssText_ = \"cssText\",\n    _checkbox_ = \"checkbox\",\n    _checked_ = \"checked\",\n    __checked_ = \"-\" + _checked_,\n    _class_ = \"class\",\n    _click_ = \"click\",\n    _code_ = \"code\",\n    _codeblock_ = \"codeblock\",\n    _color_ = \"color\",\n    _colspan_ = \"colspan\",\n    _content_ = \"content\",\n    _controls_ = \"controls\",\n    _cursor_ = \"cursor\",\n    _cost_ = \"    COST \",\n    _cover_ = \"cover\",\n    _dark_ = \"dark\",\n    _darksrc_ = \"darksrc\",\n    _darksrcset_ = \"darksrcset\",\n    _dataAnchor_ = \"d-anchor\",\n    _dataAsMarkdown_ = \"d-as-markdown\",\n    _dataBeforePrintFolded_ = \"d-before-print-folded\",\n    _dataBtnGroup_ = \"d-btn-group\",\n    _dataCaptionCount_ =\"d-cap-count\",\n    _dataCatalogEmpty_ = \"d-catalog-empty\",\n    _dataCellMerge_ = \"d-cell-merge\",\n    _dataChk_ = \"data-chk\",\n    _dataClipboardText_ = \"data-clipboard-text\",\n    _dataColspan_ = \"d-colspan\",\n    _dataColumnFmting_ = \"d-column-fmting\",\n    _dataContainer_ = \"d-cntr\",\n    _dataContentExpanded_ = \"d-content-expanded\",\n    _dataContentFolded_ = \"d-content-folded\",\n    _dataContentType_ = \"d-content-type\",\n    _dataDefault_ = \"d-default\",\n    _dataExtend_ = \"d-extend\",\n    _dataFigNum_ = \"d-fig-num\",\n    _dataFigType_ = \"d-fig-type\",\n    _dataFolded_ = \"d-folded\",\n    _dataFolder_ = \"d-folder\",\n    _dataFolderId_ = \"d-folder-id\",\n    _dataFolding_ = \"d-folding\",\n    _dataForSearch_ = \"data-for-search\",\n    _dataDarkSrc_ = \"d-darksrc\",\n    _dataDuration_ = \"d-duration\",\n    _dataFigGrid_ = \"d-fig-grid\",\n    _dataHeaderNum_ = \"d-header-num\",\n    _dataHash_ = \"d-hash\",\n    _dataHistory_ = \"d-history\",\n    _dataIcon_ = \"d-icon\",\n    _dataIdFigType_ = \"d-id-fig-type\",\n    _dataKeywordMatch_ = \"d-keyword-match\",\n    // _dataLmc_ = \"d-lmc\",\n    _dataNode_ = \"d-node\",\n    _dataPage_ = \"d-page\",\n    _dataParentFolderId_ = \"d-parent-folder-id\",\n    _dataPid_ = \"d-pid\",\n    _dataQuoteGroup_ = \"d-quote-group\",\n    _dataRef_ = \"data-ref\",\n    _dataRbCellBg_ = \"d-rb-cell-bg\",\n    _dataRbText_ = \"d-rb-text\",\n    _dataRbWholeText_ = \"d-rb-whole-text\",\n    _dataRowFolded_ = \"d-row-folded\",\n    _dataRowOpenMode_ = \"d-row-open-mode\",\n    _dataSrc_ = \"d-src-\",\n    _dataSrcDark_ = \"d-src-dark\",\n    _dataSrcLight_ = \"d-src-light\",\n    _dataSrcset_ = \"d-srcset-\",\n    _dataSrcsetDark_ = \"d-srcset-dark\",\n    _dataSrcsetLight_ = \"d-srcset-light\",\n    _dataTd2th_ = \"d-td2th\",\n    _dataTitle_ = \"d-title\",\n    _dataId_ = \"d-id\",\n    _dataIdentLevel_ = \"d-ident-level\",\n    _dataImgFill_ = \"d-img-fill\",\n    _dataPause_ = \"d-pause\",\n    _dataPgIdx_ = \"d-pg-idx\",\n    _dataResult_ = \"d-result\",\n    _dataCoatingHidden_ = \"d-coating-hidden\",\n    _dataCoatingTip_ = \"d-coating-tip\",\n    _dataCoatingShowed_ = \"d-coating-showed\",\n    _dataRowGroup_ = \"d-row-group\",\n    _dataTblCol_ = \"d-tbl-col\",\n    _dataTblX_ = \"d-tbl-x\",\n    _dataThRpt_ = \"d-th-rpt\",\n    _dataTips_ = \"d-tips\",\n    _del_ = \"del\",\n    _details_ = \"details\",\n    _disabled_ = \"disabled\",\n    _display_ = \"display\",\n    _div_ = \"div\",\n    _docLib_ = \"doc-lib\",\n    _docLibToc_ = _docLib_ + \"-toc\",\n    _docIcon_ = \"doc-icon-\",\n    _effect_ = \"effect\",\n    _enabled_ = \"enabled\",\n    _enabled__first_ = \"enabled first\",\n    _enabled__last_ = \"enabled last\",\n    _emptied_ = \"emptied\",\n    _error_ = \"error\",\n    _failed_ = \"Failed [ \",\n    _false_ = \"false\",\n    _fig_ = \"fig\",\n    // _figcaption_ = \"figcaption\",\n    // _figcaptionHTML_ = \"<\" + _figcaption_ + \"></\" + _figcaption_ + \">\",\n    _figure_ = \"figure\",\n    _fill_ = \"fill\",\n    _filter_ = \"filter\",\n    _first_ = \":first\",\n    _first__enable__last_ = \"first enabled last\",\n    _firstChild_ = _first_ + \"-child\",\n    _float_ = \"float\",\n    _font_ = \"Font\",\n    _fontTheme_ = \"font-theme\",\n    _footnotesArea_ = \"footnotes-area\",\n    _freeze_ = \"freeze\",\n    _function_ = \"function\",\n    _h6_ = \"h6\",\n    _height_ = \"height\",\n    _hidden_ = \"hidden\",\n    _hover_ = \"hover\",\n    _hoverAction_ = \"hover-action\",\n    _href_ = \"href\",\n    _ico_ = \"ico\",\n    _alert_ = \"Alert\",\n    _icoAlertNote_ = _ico_ + _alert_ + \"Note\",\n    _icoAlertTip_ = _ico_ + _alert_ + \"Tip\",\n    _icoAlertImportant_ = _ico_ + _alert_ + \"Important\",\n    _icoAlertWarning_ = _ico_ + _alert_ + \"Warning\",\n    _icoAlertCaution_ = _ico_ + _alert_ + \"Caution\",\n    _icoChkbox__ = _ico_ + \"Chkbox_\",\n    _icoClose_ = _ico_ + \"Close\",\n    _icoCopy_ = _ico_ + \"Copy\",\n    _icoCopyAsMd_ = _ico_ + \"CopyAsMd\",\n    _icoDarkMode_ = _ico_ + \"DarkMode\",\n    _icoDetailsOpen_ = _ico_ + \"DetailsOpen\",\n    _icoDocLib_ = _ico_ + \"DocLib\",\n    _icoDocLibExt_ = _ico_ + \"DocLibExt\",\n    _icoFolded_ = _ico_ + \"Folded\",\n    _icoFontTheme_ = _ico_ + \"FontTheme\",\n    _icoForbidden_ = _ico_ + \"Forbidden\",\n    _icoLaserPointer_ = _ico_ + \"LaserPointer\",\n    _icoLightMode_ = _ico_ + \"LightMode\",\n    _icoLinkError_ = _ico_ + \"LinkError\",\n    _icoLoading_ = _ico_ + \"Loading\",\n    _icoMaskCloser_ = _ico_ + \"MaskCloser\",\n    _icoNavCenter_ = _ico_ + \"NavCenter\",\n    _icoOpenInFigureNav_ = _ico_ + \"OpenInFigureNav\",\n    _icoParagraphNav_ = _ico_ + \"ParagraphNav\",\n    _icoPause_ = _ico_ + \"Pause\",\n    _icoPicInPic_ = _ico_ + \"PicInPic\",\n    _icoPlay_ = _ico_ + \"Play\",\n    _icoPrevFig_ = _ico_ + \"PrevFig\",\n    _icoPrevChapter_ = _ico_ + \"PrevChapter\",\n    _icoPrint_ = _ico_ + \"Print\",\n    _icoResetInput_ = _ico_ + \"ResetInput\",\n    _icoRetrieval_ = _ico_ + \"Retrieval\",\n    _icoSpotlight_ = _ico_ + \"Spotlight\",\n    _icoStop_ = _ico_ + \"Stop\",\n    _icoTableX_ = _ico_ + \"TableX\",\n    _icoTocFolded_ = _ico_ + \"TocFolded\",\n    _icoTocTab_ = _ico_ + \"TocTab\",\n    _icoTocTabCatalog_ = _icoTocTab_ + \"Catalog\",\n    _icoTocTabCodeblock_ = _icoTocTab_ + \"Codeblock\",\n    _icoTocTabFigure_ = _icoTocTab_ + \"Figure\",\n    _icoTocTabHistory_ = _icoTocTab_ + \"History\",\n    _icoTocTabMedia_ = _icoTocTab_ + \"Media\",\n    _icoTocTabTable_ = _icoTocTab_ + \"Table\",\n    _icoTableWrap_ = _ico_ + \"TableWrap\",\n    _VLOOK_ = \"VLOOK\",\n    _icoVLOOK_ = _ico_ + _VLOOK_,\n    _icoZoomIn_ = _ico_ + \"ZoomIn\",\n    _icoZoomOut_ = _ico_ + \"ZoomOut\",\n    _id_ = \"id\",\n    _fontsetStatus_ = \"fontset-status\",\n    _iframe_ = \"iframe\",\n    _img_ = \"img\",\n    _important_ = \" !important;\",\n    _input_ = \"input\",\n    _inStart_ = \"in-start\",\n    _invert_ = \"invert\",\n    _italic_ = \"italic\",\n    _italic_bold_ = \"/\" + _italic_ + \"/bold\",\n    _label_ = \"label\",\n    _lang_ = \"lang\",\n    _laserPointer_ = \"laser-pointer\",\n    _last_ = \":last\",\n    _lastChild_ = \":last-child\",\n    _left_ = \"left\",\n    _light_ = \"light\",\n    _linkChecker_ = \"link-checker\",\n    _line_ = \"line\",\n    _linearGradient_ = \"linear-gradient\",\n    _loading_ = \"loading\",\n    _loop_ = \"loop\",\n    _margin_ = \"margin\",\n    _right_ = \"right\",\n    _marginBottom_ =_margin_ +  \"-bottom\",\n    _marginLeft_ = _margin_ + \"-\" + _left_,\n    _marginRight_ = _margin_ + \"-\" + _right_,\n    _mark_ = \"mark\",\n    _mata_ = \"meta\",\n    _maxHeight_ = \"max-height\",\n    _media_ = \"media\",\n    _mdTocItem_ = \"md-toc-item\",\n    _min_ = \"min\",\n    _mini_ = \"mini\",\n    _minWidth_ = \"min-width\",\n    _mouse_ = \"mouse\",\n    _mouseDown_ = _mouse_ + \"down\",\n    _mouseUp_ = _mouse_ + \"up\",\n    _mouseEnter_ = _mouse_ + \"enter\",\n    _mouseLeave_ = _mouse_ + \"leave\",\n    _name_ = \"name\",\n    _navCenter_ = \"nav-center\",\n    _no_ = \"no\",\n    _none_ = \"none\",\n    _normal_ = \"normal\",\n    _normal_normal_ = \"/\" + _normal_ + \"/\" + _normal_,\n    _normal_bold_ = \"/\" + _normal_ + \"/\" + _bold_,\n    _normal_500_ = \"/\" + _normal_ + \"/500\",\n    _normal_900_ = \"/\" + _normal_ + \"/900\",\n    _normal_italic_ = \"/\" + _italic_ + \"/\" + _normal_,\n    _notLoaded_ = \"NOT LOADED\",\n    _off_ = \"off\",\n    _on_ = \"on\",\n    _opacity_ = \"opacity\",\n    _open_ = \"open\",\n    _opened_ = \"opened\",\n    _outerHTML_ = \"outerHTML\",\n    _outlineStyle_ = \"outline-style\",\n    // _outline_ = \"outline\",\n    _outlineWidth_ = \"outline-width\",\n    _overflow_ = \"overflow\",\n    _overflowX_ = _overflow_ + \"-x\",\n    _overflowY_ = _overflow_ + \"-y\",\n    _padding_ = \"padding\",\n    _paddingBottom_ = _padding_ + \"-bottom\",\n    _paddingLeft_ = _padding_ + \"-left\",\n    _paddingRight_ = _padding_ + \"-right\",\n    _paddingTop_ = _padding_ + \"-top\",\n    _paragraphNav_ = \"paragraph-nav\",\n    _placeholder_ = \"placeholder\",\n    _playing_ = \"playing\",\n    _position_ = \"position\",\n    _pre_ = \"pre\",\n    _preload_ = \"preload\",\n    _preWrap_ = \"pre-wrap\",\n    _print_ = \"print\",\n    _ready_ = \"Ready\",\n    _rowspan_ = \"rowspan\",\n    _rx_ = \"rx\",\n    _ry_ = \"ry\",\n    _selected_ = \"selected\",\n    _span_ = \"span\",\n    _sub_ = \"sub\",\n    _spotlight_ = \"spotlight\",\n    _src_ = \"src\",\n    _srcset_ = \"srcset\",\n    _stroke_ = \"stroke\",\n    _strong_ = \"strong\",\n    _style_ = \"style\",\n    _svg_ = \"svg\",\n    _suffixImg_ = \".\" + _img_,\n    _suffixSvg_ = \".\" + _svg_,\n    _summary_ = \"summary\",\n    _tabindex_ = \"tabindex\",\n    _table_ = \"table\",\n    _tagName_ = \"tagName\",\n    _target_ = \"target\",\n    _text_ = \"text\",\n    _textAlign_ = _text_ + \"-align\",\n    _textLength_ = _text_ + \"Length\",\n    _textShadow_ = _text_ + \"-shadow\",\n    _theme_ = \"theme\",\n    _title_ = \"title\",\n    _vlookToc_ = \"vlook-toc\",\n    _tocItem_ = \"#\" + _vlookToc_ + \">.\" + _mdTocItem_,\n    _toolbarSpliter_ = \"toolbar-spliter\",\n    _top_ = \"top\",\n    _transform_ = \"transform\",\n    _transformOrigin_ = _transform_ + \"-origin\",\n    _true_ = \"true\",\n    _ttf_ = \"ttf\",\n    _hastwo_ = \"hastwo\",\n    _un_ = \"un\",\n    _unfreeze_ = \"unfreeze\",\n    _vdl_ = \"vdl\",\n    _vkHeader_ = \"vk-header-\",\n    _vkIdDocTitle_ = \"vk-id-doc-title\",\n    _vkIdFig_ = \"vk-id-fig\",\n    _vkIdAudio_ = \"vk-id-audio\",\n    _vkIdVideo_ = \"vk-id-video\",\n    _vkIdTbl_ = \"vk-id-tbl\",\n    _vkIdCodeblock_ = \"vk-id-codeblock\",\n    _vkIdMiniAudio_ = \"vk-id-mini-audio\",\n    _vlookDocLib_ = \"vlook-doc-lib\",\n    _vlookStatGitee_ = \"vlook-stat-gitee\",\n    _varAcRedLg_ = V_ui_var(\"--ac-rd-lg\"),\n    _varAcOrangeLg_ = V_ui_var(\"--ac-og-lg\"),\n    _varAcCyanLg_ = V_ui_var(\"--ac-cy-lg\"),\n    _varColorScheme_ = \"--v-color-scheme\",\n    _varDBc_ = V_ui_var(\"--d-bc\"),\n    _varDFC_ = V_ui_var(\"--d-fc\"),\n    _varMarkBg_ = V_ui_var(\"--mark-bg\"),\n    _varMmCyan_ = V_ui_var(\"--mm-c-cy\"),\n    _varMmOrange_ = V_ui_var(\"--mm-c-og\"),\n    _varMmRed_ = V_ui_var(\"--mm-c-rd\"),\n    _varNavCenterHiddenLeft_ = \"--v-nav-center-hidden-l\",\n    _varNavCenterWidth_ = V_ui_var(\"--v-nav-center-w\"),\n    _V_R_ = \"--v-r-\",\n    _V_R_B_ = _V_R_ + \"b\",\n    _varVRB_ = V_ui_var(_V_R_B_),\n    _V_R_C_ = _V_R_ + \"c\",\n    _V_R_S_ = _V_R_ + \"s\",\n    _V_R_T_ = _V_R_ + \"t\",\n    _V_R_Tag_ = _V_R_ + \"tag\",\n    _varTblRowAlpha_ = V_ui_var(\"--tbl-row-g-alpha\"),\n    _vAccentBtn_ = \"v-accent-btn\",\n    _vActorKeySys_ = \"v-actor-key-sys\",\n    _vActorExtSys_ = \"v-actor-ext-sys\",\n    _vAudioMiniControl_ = \"v-audio-mini-control\",\n    _vBackdropBlurs_ = \"v-backdrop-blurs\",\n    _vBadge_ = \"v-badge-\",\n    _vBadgeName_ = _vBadge_ + \"name\",\n    _value_ = \"value\",\n    _vBadgeValue_ = _vBadge_ + _value_,\n    _vBlockquoteFolder_ = \"v-blockquote-folder\",\n    _vBtn_ = \"v-btn\",\n    _vBtn__BtnGroup_ = \".\" + _vBtn_ + \", .\" + _vBtn_ + \"-group\",\n    _vBtn_Assistor_ = \".\" + _vBtn_ + \".assistor\",\n    _vColorScheme_ = \"v-color-scheme\",\n    _vCap1_ = \".v-cap-1\",\n    _vCap2_ = \".v-cap-2\",\n    _vCaptionContainer_ = \"v-cap-cntr\",\n    _vCaption_Mermaid_ = \"v-caption.mermaid\",\n    _vChapterNav_ = \"v-chapter-nav\",\n    _vCodeMirrorLine_ = \"CodeMirror-line\",\n    _vCopyright_ = \"v-copyright\",\n    _vCopyrightSvgIco_ = _vCopyright_ + \"-svg-ico\",\n    _vCursorLaser_ = \"v-cursor-laser\",\n    _vDoc_ = \"v-doc-\",\n    _vDocInfo_ = _vDoc_ + \"info\",\n    _vDocLib_ = _vDoc_ + \"lib\",\n    _vDocLibItem_ = _vDocLib_ + \"-item\",\n    _vDocLog_ = _vDoc_ + \"logo-\",\n    _expander_ = \"expander\",\n    _vFences_ = \"md-fences\",\n    _vFloatCard_ = \"v-float-card\",\n    _vFig_ = \"v-fig\",\n    _vFigContent_ = \"v-fig-content\",\n    _vFigNav_ = _vFig_ + \"-nav\",\n    _vFigNavBtns_ = \".\" + _vFigNav_ + \"-btns\",\n    _vFocusSearch_ = \"v-focus-serch\",\n    _vFontInfo_ = \"v-fontinfo-\",\n    _vFontnotePn_ = \"v-footnote-pn\",\n    _vFontPackage_ = \"v-font-package\",\n    _vFontThemeOpt_ = \"v-font-theme-opt\",\n    _vInfoTips_ = \"v-info-tips\",\n    _vStdCode_ = \"v-std-code\",\n    _vBreadcrumbStyle_ = \"v-stepwise\",\n    _vTag_ = \"v-tag\",\n    _vTocHistory_ = \"v-toc-history\",\n    _vToolTips_ = \"v-tool-tips\",\n    _vToolbar_ = \"v-toolbar\",\n    _vImgInvertDark_ = \"v-img-invert-dark\",\n    _vLinkChkResult_ = \"v-link-chk-result\",\n    _vLinkErrorList_ = \"v-link-error-list\",\n    _vMdToc_ = \"md-toc\",\n    _vMermaidRestyler_ = \"v-mermaid-restyler\",\n    _vMoreDocContent_ = \"v-more-doc-content-\",\n    _vNavCenter_ = \"v-nav-center-\",\n    _vNavCenterBlock_ = _vNavCenter_ + \"block\",\n    _vNavCenterFloat_ = _vNavCenter_ + \"float\",\n    _vPgCurrentItem_ = \"v-pg-current-item\",\n    _vPipBtn_ = \".v-pip-btn\",\n    _vCoating_ = \"v-coating\",\n    _vRotate_ = \"v-rotate\",\n    _vRotate45_ = _vRotate_ + \"45\",\n    _vRotate90_ = _vRotate_ + \"90\",\n    _vSegmentBtn_ = \"v-segment-btn\",\n    _vStsFontTheme_ = \"v-sts-font-theme\",\n    _vSpotlightInDark_ = \"v-spotlight-in-dark\",\n    _vStatusBar_ = \"v-status-bar\",\n    _vSvgDetails_ = \"v-svg-details\",\n    _vTblX_ = \".v-tbl-x\",\n    _vTblXCell_ = \"v-tbl-x-cell\",\n    _vTblRow_ = \"v-tbl-row-\",\n    _vTblRowGFolder_ = _vTblRow_ + \"g-folder\",\n    _vTblRowGIdenterFolder_ = _vTblRow_ + \"g-identer-folder\",\n    _vTblRowGNotFolder_ = _vTblRow_ + \"g-not-folder\",\n    _vTblRowGBtn_ = \".\" + _vTblRow_ + \"g-btn\",\n    _vTblRowNumHidden_ = _vTblRow_ + \"num-hidden\",\n    _vTblColFmt__ = \"v-tbl-col-fmt-\",\n    _vTblColFmt_Chkbox_ = _vTblColFmt__ + \"chkbox\",\n    _vTblColFmt_Bold_ = _vTblColFmt__ + \"bold\",\n    _vTblColFmt_Em_ = _vTblColFmt__ + \"em\",\n    // _vTblColFmt_U_ = _vTblColFmt__ + \"u\",\n    _vTblColFmtMark_ = _vTblColFmt__ + _mark_,\n    // _vTblColFmtDel_ = _vTblColFmt__ + _del_,\n    _vTblColFmtNum_ = _vTblColFmt__ + \"num\",\n    _vTblColFmtNumDecimal_ = _vTblColFmt__ + \"num-decimal\",\n    _vTblColFmtNumNegative_ = _vTblColFmt__ + \"num-negative\",\n    _vTblColFmtNumPositive_ = _vTblColFmt__ + \"num-positive\",\n    _vTblColFmtPercent_ = _vTblColFmt__ + \"percent\",\n    _vTblColFmtCurrency_ = _vTblColFmt__ + \"currency\",\n    _vTblRowGSub_ = _vTblRow_ + \"g-sub\",\n    _vTblRowGIdenter_ = _vTblRow_ + \"g-identer\",\n    _vTextFieldFocus_ = \"v-textfield-focus\",\n    _vThRepeater_ = \"v-th-repeater\",\n    _vTocFolder_ = \".v-toc-folder\",\n    _vTocFilterResult_ = \"v-toc-filter-result\",\n    _vTocItem_ = \"v-toc-item\",\n    _vTocItemCurrent_ = _vTocItem_ + \"-current\",\n    _vTransitionAll_ = \"v-transition-all\",\n    _verticalAlign_ = \"vertical-align\",\n    _video_ = \"video\",\n    _viewBox_ = \"viewBox\",\n    _visible_ = \"visible\",\n    _visibility_ = \"visibility\",\n    _wait_ = \"wait\",\n    _whiteSpace_ = \"white-space\",\n    _write_ = \"#write\",\n    _woff2_ = \"woff2\",\n    _writeMarginLeft_ = \"calc(\" + _varNavCenterWidth_ + \" + 30px)\",\n    _yes_ = \"yes\",\n    _zIndex_ = \"z-index\",\n    _nbsp_ = \"&nbsp;\",\n    _2nbsp_ = _nbsp_ + _nbsp_;\niStopwatch.st();\n\n// ==================== 内置函数调用简化 ==================== //\n\n// 控制台打印日志\nfunction LOG() {\n    console.log.apply(console, arguments);\n}\n// 控制台打印通知\nfunction INFO() {\n    console.info.apply(console, arguments);\n}\n// 控制台打印警告\nfunction WARN() {\n    console.warn.apply(console, arguments);\n}\n// 控制台打印错误\nfunction ERROR() {\n    console.error.apply(console, arguments);\n}\n// 在 debug 模式下输出调试信息\nfunction DEBUG(...info) {\n    if (V_debugMode) {\n        ERROR(\"| DEBUG INFO |\");\n        WARN(...info);\n    }\n}\n// 弹窗显示信息\nfunction ALERT(m) {\n    alert(m);\n}\n\n// 获得文档 URL\nfunction WINDOW_getHref() {\n    return window.location.href;\n}\n\n// 设置文档 URL\nfunction WINDOW_setHref(value) {\n    window.location.href = value;\n}\n\n// 获得文档 URL 的 hash\nfunction WINDOW_getHash() {\n    return window.location.hash;\n}\n\n// ==================== JQuery 方法调用简化 ==================== //\n\nfunction JQ_addClass(target, className) {\n    if (target !== gUndefined)\n        target.addClass(className);\n}\n\nfunction JQ_removeClass(target, className) {\n    if (target !== gUndefined)\n        target.removeClass(className);\n}\n\nfunction JQ_removeAttr(target, attrName) {\n    if (target !== gUndefined)\n        target.removeAttr(attrName);\n}\n\nfunction JQ_exchangeClass(target, oldClassName, newClassName) {\n    if (target !== gUndefined) {\n        target.removeClass(oldClassName);\n        target.addClass(newClassName);\n    }\n}\n\nfunction JQ_remove(target) {\n    if (target !== gUndefined)\n        target.remove();\n}\n\n// attr 简化版\n$.prototype.a = function (key, value) {\n    if (value === gUndefined)\n        return this.attr(key);\n    else\n        return this.attr(key, value);\n}\n\n// css 简化版\n$.prototype.c = function (key, value) {\n    if (value === gUndefined)\n        return this.css(key);\n    else\n        return this.css(key, value);\n}\n\n// click 简化版\n$.prototype.ck = function (callback) {\n    this.click(callback);\n}\n\n// prev 简化版\n$.prototype.pr = function (value) {\n    return this.prev(value);\n}\n\n// next 简化版\n$.prototype.n = function (value) {\n    return this.next(value);\n}\n\n// children 简化版\n$.prototype.ch = function (value) {\n    return this.children(value);\n}\n\n// each 简化版\n$.prototype.e = function (callback) {\n    this.each(callback);\n}\n\n// find 简化版\n$.prototype.f = function (value) {\n    return this.find(value);\n}\n\n// html 简化版\n$.prototype.hm = function (value) {\n    if (value === gUndefined)\n        return this.html();\n    else\n        return this.html(value);\n}\n\n// width 简化版\n$.prototype.w = function () {\n    return this.width();\n}\n// innerWidth 简化版\n$.prototype.iW = function () {\n    return this.innerWidth();\n}\n// outerWidth 简化版\n$.prototype.oW = function (margin) {\n    if (margin !== gTrue)\n        return this.outerWidth();\n    else\n        return this.outerWidth(gTrue);\n}\n\n// height 简化版\n$.prototype.h = function () {\n    return this.height();\n}\n// innerHeight 简化版\n$.prototype.iH = function () {\n    return this.innerHeight();\n}\n\n// offset 简化版\n$.prototype.o = function () {\n    return this.offset();\n}\n\n// offset().left 简化版\n$.prototype.oL = function () {\n    return this.offset().left;\n}\n\n// offset().top 简化版\n$.prototype.oT = function () {\n    return this.offset().top;\n}\n\n// position 简化版\n$.prototype.pos = function () {\n    return this.position();\n}\n\n// parent 简化版\n$.prototype.p = function () {\n    return this.parent();\n}\n\n// parents 简化版\n$.prototype.ps = function (value) {\n    return this.parents(value);\n}\n\n// append 简化版\n$.prototype.ap = function (value) {\n    return this.append(value);\n}\n\n// prepend 简化版\n$.prototype.pp = function (value) {\n    return this.prepend(value);\n}\n\n// after 简化版\n$.prototype.af = function (value) {\n    return this.after(value);\n}\n\n// before 简化版\n$.prototype.bf = function (value) {\n    return this.before(value);\n}\n\n// replaceWith 简化版（outerHTML）\n$.prototype.rW = function (value) {\n    return this.replaceWith(value);\n}\n\n// text 简化版\n$.prototype.t = function (value) {\n    if (value === gUndefined)\n        return this.text();\n    else\n        return this.text(value);\n}\n\n// toggle 简化版\n$.prototype.tg = function (value) {\n    this.toggle(value);\n}\n\n// trigger 简化版\n$.prototype.tr = function (value) {\n    this.trigger(value);\n}\n\n// unbind(\"click\") 简化版\n$.prototype.uC = function () {\n    return this.unbind(_click_);\n}\n\n// unbind(\"hover\") 简化版\n$.prototype.uH = function () {\n    return this.unbind(_hover_);\n}\n\n// ==================== JavaScript 方法调用简化 ==================== //\n\n// match 简化版\nString.prototype.m = function (value) {\n    return this.match(value);\n}\n\n// replace 简化版\nString.prototype.r = function (searchValue, replaceValue) {\n    return this.replace(searchValue, replaceValue);\n}\n\n// replaceAll 简化版\nString.prototype.rA = function (regExpString, value) {\n    const re = new RegExp(regExpString, \"g\");\n    return this.replaceAll(re, value);\n}\n\n// 去掉字符串中的英文句号 .\nString.prototype.xD = function () {\n    return this.replaceAll(/\\./g, _);\n}\n\n// trim 简化版\nString.prototype.x = function () {\n    return this.trim();\n}\n\n// startsWith 简化版\nString.prototype.sW = function (value) {\n    return this.startsWith(value);\n}\n\n// endsWith 简化版\nString.prototype.eW = function (value) {\n    return this.endsWith(value);\n}\n\n// indexOf 简化版\nString.prototype.i = function (value) {\n    return this.indexOf(value);\n}\n\n// toLowerCase 简化版\nString.prototype.l = function () {\n    return this.toLowerCase();\n}\n\n// substring 简化版\nString.prototype.s = function (start, end) {\n    return this.substring(start, end);\n}\n\n// split 简化版\nString.prototype.sp = function (exp) {\n    return this.split(exp);\n}\n\n// parseInt 简化版\nfunction JS_parseInt(value) {\n    return parseInt(value);\n}\n\n// parseFloat 简化版\nfunction JS_parseFloat(value) {\n    return parseFloat(value);\n}\n\n// Math.round 简化版\nfunction JS_mathRound(value) {\n    return Math.round(value);\n}\n\n// Math.ceil 简化版\nfunction JS_mathCeil(value) {\n    return Math.ceil(value);\n}\n\n// decodeURI 简化版\nfunction JS_decodeURI(value) {\n    return decodeURI(value);\n}\n\n// ======================================== //\n\nLOG(\":::::::::::::::::::\");\n// LOG(devMode,lVer);\nLOG(\"!!! \" + (devMode ? \"- DEV -\" : \"RELEASED\" ) + \" !!!\");\nLOG(\"::: \" + gVer + \" :::\");\nLOG(\":::::::::::::::::::\");\n\nINFO(\"=== Load Document ===\");\n\n// UI 元素\nlet iToolbar = gUndefined,\n    iNavCenter = gUndefined,\n    iChapterNav = gUndefined,\n    iParagraphNav = gUndefined,\n    iSpotlight = gUndefined,\n    iLaserPointer = gUndefined,\n    iFontTheme = gUndefined,\n    iFigNav = gUndefined,\n    iInfoTips = gUndefined,\n    iFootNote = gUndefined;\n\n// ==================== 文档对象模型 ==================== //\n\n// 文档的 html 对象\nlet DOM_h = gUndefined;\nfunction DOM_html() {\n    if (DOM_h === gUndefined) {\n        DOM_h = $(\"html\");\n        if (DOM_h.length === 0) {\n            DOM_h = gUndefined;\n            ERROR(_failed_ + \"DOM.html ]\");\n        }\n    }\n    return DOM_h;\n}\n\n// 文档的 body 对象\nlet DOM_b = gUndefined;\nfunction DOM_body() {\n    if (DOM_b === gUndefined) {\n        DOM_b = $(\"body\");\n        if (DOM_b.length === 0) {\n            DOM_b = gUndefined;\n            ERROR(_failed_ + \"DOM.body ]\");\n        }\n    }\n    return DOM_b;\n}\n\n// ==================== VLOOK 对象模型 ==================== //\n\n// Markdown 导出为 HTML 的内容对象\nlet VOM_d = gUndefined;\nfunction VOM_doc() {\n    if (VOM_d === gUndefined) {\n        VOM_d = $(_write_);\n        if (VOM_d.length === 0) {\n            VOM_d = gUndefined;\n            ERROR(_failed_ + \"VOM.doc ]\");\n        }\n    }\n    return VOM_d;\n}\n\n// 封面对象\nlet VOM_c = gUndefined;\nfunction VOM_cover() {\n    if (VOM_c === gUndefined) {\n        VOM_c = $(_write_ + \">pre.md-meta-block\" + _firstChild_ + \"+\" + _h6_ + \", \" + _write_ + \">\" + _h6_ + _firstChild_);\n        if (VOM_c.length === 0) {\n            VOM_c = gUndefined;\n            if (VOM_docTitle() === gUndefined)\n                WARN(_failed_ + \"VOM.c ], maybe no cover: \" + WINDOW_getHref());\n        }\n    }\n    return VOM_c;\n}\n\n// 封底对象\nlet VOM_bc = gUndefined;\nfunction VOM_backcover() {\n    // 注意该方法调用，必须在 #vk-footer-area 的位置调整前完成\n    if (VOM_bc === gUndefined) {\n        let fns = $(\".\" + _footnotesArea_);\n        if (fns !== gUndefined) {\n            let backcover = fns.pr(),\n                tagName = V_util_getTagName(backcover);\n            if (tagName === \"h1\")\n                VOM_bc = backcover;\n        }\n        else {\n            VOM_bc = gUndefined;\n            WARN(_failed_ + \"VOM.bc ], maybe no backcover\");\n        }\n    }\n    return VOM_bc;\n}\n\n// 文档标题对象（无封面模式）\nlet VOM_dt = gUndefined;\nfunction VOM_docTitle() {\n    if (VOM_dt === gUndefined) {\n        VOM_dt = $(\"#\" + _vkIdDocTitle_);\n        if (VOM_dt.length === 0) {\n            VOM_dt = gUndefined;\n            WARN(_failed_ + \"VOM.dt ] \" + WINDOW_getHref());\n        }\n    }\n    return VOM_dt;\n}\n\n// ==================== 通用方法 ==================== //\n\n/**\n * 检查是否为空对象\n */\n$.prototype.isEmpty = function () {\n    return (typeof (this) == \"undefined\");\n}\n\n/**\n * 判断对象是否已隐藏\n */\n$.prototype.isHidden = function () {\n    let T = this;\n    return T !== gUndefined\n        && (T.c(_display_) === _none_ || T.c(_visibility_) === _hidden_ || T.c(_opacity_) === \"0\");\n}\n\n/**\n * 判断对象是否已显示\n */\n$.prototype.isShowed = function () {\n    return !this.isHidden();\n}\n\n/**\n * 在元素前后以指定的前缀和后缀文本进行包裹\n * @param pre 前缀文本\n * @param suff 后缀文本\n*/\n$.prototype.wrapText = function (pre, suff) {\n    this.hm(pre + this.hm() + suff);\n}\n\n/**\n * 替换 innerHTML 的内容\n * @param exp 用于匹配内容的正则表达式\n * @param value 将匹配的内容替换成该内容\n*/\n$.prototype.rHTML = function (exp, value) {\n    this.hm(this.hm().replace(exp, value));\n}\n\n/**\n * 从指定内容开始，替换之后的匹配的内容\n * @param str 从指定内容出现的位置开始进行替换\n * @param oldValue 被替换的内容\n * @param newValue 用于替换的新内容\n */\nString.prototype.rAfter = function (str, oldValue, newValue) {\n    let T = this,\n        i = T.i(str);\n    if (i > -1) {\n        let pre = T.s(0, i),\n            suff = T.s(i, T.length);\n        return pre + suff.r(oldValue, newValue);\n    }\n    return this;\n};\n\n/**\n * 判断是否为数值型\n */\nString.prototype.isNumber = function () {\n    return /^([-+])*\\d+(\\.\\d+)?$/.test(this);\n}\n\n/**\n * 判断是否为百分数\n */\nString.prototype.isPercent = function () {\n    return /^([-+])*\\d+(\\.\\d+)?%$/.test(this);\n}\n\n/**\n * 判断是否为货币型\n */\nString.prototype.isCurrency = function () {\n    return /^(\\D{1,3} )([-+])*\\d+(\\.\\d+)?$/.test(this);\n}\n\n/**\n * 环境信息类\n */\nconst env = {\n    /*\n    Windows 平台样例：\n        - (Chrome) Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36\n        - (Edge) Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.102 Safari/537.36 Edge/18.18362\n        - (Firefox) Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:69.0) Gecko/20100101 Firefox/69.0\n\n    macOS 平台样例：\n        - (Safari) Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.2 Safari/605.1.15\n        - (Chrome) Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36\n        - (Edge) Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.0.0 Safari/537.36 Edg/113.0.1774.35\n        - (Firefox) Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:69.0) Gecko/20100101 Firefox/69.0\n\n    iPhone 平台样例：\n        - (Safari) Mozilla/5.0 (iPhone; CPU iPhone OS 15_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.2 Mobile/15E148 Safari/604.1\n        - (Chrome) Mozilla/5.0 (iPhone; CPU iPhone OS 15_02 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/97.0.04692.72 Mobile/15E148 Safari/604.1\n        - (Edge) Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1 Edg/113.0.0.0\n        - (Firefox) Mozilla/5.0 (iPhone; CPU iPhone OS 15_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/40.2 Mobile/15E148 Safari/605.1.15\n        // 以下情况建议暂按以内核为判断标准 //\n        - (QQ) Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148 QQ/8.9.75.613 V1_IPH_SQ_8.9.75_1_APP_A Pixel/1125 MiniAppEnable SimpleUISwitch/0 StudyMode/0 CurrentMode/0 CurrentFontScale/1.000000 QQTheme/1000 AppId/537172547 Core/WKWebView Device/Apple(iPhone XS) NetType/WIFI QBWebViewType/1 WKType/1\n        - (微信) Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148 MicroMessenger/8.0.40(0x18002830) NetType/WIFI Language/zh_CN\n        - (钉钉) Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/20G75 AliApp(DingTalk/7.0.50) com.laiwang.DingTalk/31322509 Channel/201200 language/zh-Hans-CN UT4Aplus/0.0.6 WK\n    */\n\n    // 浏览器内核信息\n    core : function () {\n        const u = navigator.userAgent;\n        return {\n            trident: u.i(\"Trident\") > -1, // IE内核\n            presto: u.i(\"Presto\") > -1, // Opera内核\n            webkit: u.i(\"AppleWebKit\") > -1, // 苹果、谷歌内核\n            gecko: u.i(\"Gecko\") > -1 && u.i(\"KHTML\") === -1 // 火狐内核\n        };\n    }(),\n\n    // 设备信息\n    device : function () {\n        const u = navigator.userAgent;\n        return {\n            mobile: u.i(\"Mobile\") > -1, // 是否为移动终端\n            iOS: u.i(\"iPhone\") > -1, // iOS 类终端\n            android: u.i(\"Android\") > -1 || u.i(\"Linux\") > -1, // android 终端或者 UC 浏览器\n            iPhone: u.i(\"iPhone\") > -1, // 是否为 iPhone 或者 QQHD 浏览器\n            iPad: u.i(\"iPad\") > -1 // 是否 iPad\n        };\n    }(),\n\n    // 浏览器类型\n    browser : function () {\n        const u = navigator.userAgent;\n        return {\n            Chrome: (u.i(\"Chrome\") > -1 && u.i(\"Edg\") < 0) || u.i(\"CriOS\") > -1, // Chrome 浏览器\n            Firefox: u.i(\"Firefox\") > -1 || u.i(\"FxiOS\") > -1, // Firefox 浏览器\n            Safari: u.i(\"Safari\") > -1 && (u.i(\"Chrome\") < 0 || u.i(\"CriOSc\") < 0 || u.i(\"Edg\") < 0 || u.i(\"FxiOS\") < 0), // Safari 浏览器\n            Edge: u.i(\"Edg\") > -1 // Edge 浏览器\n        };\n    }(),\n\n    // 浏览器版本信息\n    browserVer : function () {\n        const u = navigator.userAgent;\n        return {\n            Chrome: u.m(/Chrome\\/[\\d.]+/gi) ? u.m(/Chrome\\/[\\d.]+/gi)[0].m(/\\d+/)[0] : \"0\", // Chrome 浏览器版本\n            Firefox: u.m(/Firefox\\/[\\d.]+/gi) ? u.m(/Firefox\\/[\\d.]+/gi)[0].m(/\\d+/)[0] : \"0\", // Firefox 浏览器版本\n            Safari: u.m(/Version\\/[\\d.]+.+Safari\\/[\\d.]+/gi) ? u.m(/Version\\/[\\d.]+.+Safari\\/[\\d.]+/gi)[0].m(/\\d+/)[0] : \"0\", // Safari 浏览器版本\n            Edge: u.m(/Edg\\/[\\d.]+/gi) ? u.m(/Edg\\/[\\d.]+/gi)[0].m(/\\d+/)[0] : \"0\" // Edge 浏览器版本\n        };\n    }(),\n\n    // 操作系统信息\n    os : function () {\n        const u = navigator.userAgent;\n        return {\n            Windows: /windows|win32|win64/i.test(u), // 是否为 Windows 平台\n            macOS: /macintosh/i.test(u), // 是否为 macOS 平台\n            iOS: /iphone os/i.test(u), // 是否为 iOS 平台\n            Linux: /linux/i.test(u) // 是否为 Linux 平台\n        };\n    }(),\n\n    // 语言信息\n    language : function () {\n        const lang = navigator.language;\n        return {\n            full: lang.l(),\n            base: lang.s(0, 2),\n            subset: lang.s(3, lang.length)\n        };\n    }(),\n\n    // 显示信息\n    display : function () {\n        return {\n            DPR : window.devicePixelRatio\n        };\n    }(),\n\n    /**\n     * 打印环境信息\n     * @param silent 是否为静默模式，静默模式只反馈环境信息值，不打印到控制台\n     * @returns string 环境信息\n     */\n    print : function (silent = gFalse) {\n        let info = \"::: Environmental :::\\n\",\n            r = info;\n        if (!silent) LOG(info);\n\n        info = \"    ├ Language   [ \"\n            + env.language.base\n            + (env.language.subset.length > 0 ? \"_\" + env.language.subset : _)\n            + \" ]\\n\";\n        r += info;\n        if (!silent) LOG(info);\n\n        info = \"    ├ Device     [ \"\n            + (env.device.mobile ? \"Mobile\" : _)\n            + (env.device.iOS ? \"/iOS\" : _)\n            + (env.device.android ? \"/Android\" : _)\n            + (env.device.iPhone ? \"/iPhone\" : _)\n            + (env.device.iPad ? \"/iPad\" : _)\n            + \"]\\n\";\n        r += info;\n        if (!silent) LOG(info);\n\n        info = \"    ├ OS         \" +\n            (env.os.macOS ? \"[ macOS ]\"\n                : (env.os.Windows ? \"[ Windows ]\"\n                    : (env.os.iOS ? \"[ iOS ]\"\n                        : (env.os.Linux ? \"[Linux]\" : \"[Others]\"))))\n            + \"\\n\";\n        r += info;\n        if (!silent) LOG(info);\n\n        info = \"    ├ Browser    [ \"\n            + (env.browser.Chrome ? \"Chrome / \" + env.browserVer.Chrome : _)\n            + (env.browser.Firefox ? \"Firefox / \" + env.browserVer.Firefox : _)\n            + (env.browser.Safari ? \"Safari / \" + env.browserVer.Safari : _)\n            + (env.browser.Edge ? \"Edge / \" + env.browserVer.Edge : _)\n            + \" ]\\n\";\n        r += info;\n        if (!silent) LOG(info);\n\n        info = \"    ├ Core       [ \"\n            + (env.core.gecko ? \"Gecko\" : _)\n            + (env.core.presto ? \"Presto\" : _)\n            + (env.core.trident ? \"Trident\" : _)\n            + (env.core.webkit ? \"WebKit\" : _)\n            + \" ]\\n\";\n        r += info;\n        if (!silent) LOG(info);\n\n        info = \"    ├ DPR        [ \"\n            + env.display.DPR\n            + \" ]\\n\"; // Device Pixel Ratio\n        r += info;\n        if (!silent) LOG(info);\n\n        info = \"    ├ Theme      [ \"\n            + V_util_getTemplateTheme()\n            + \" ]\\n\"; // 文档风格主题\n        r += info;\n        if (!silent) LOG(info);\n\n        info = \"    └ VLOOK Type [ \"\n            + V_pageMode\n            + \" ]\\n\"; // VLOOK 插件运行类型\n        r += info;\n        if (!silent) LOG(info);\n\n        info = navigator.userAgent + \"\\n\";\n        r += info;\n        if (!silent) LOG(info);\n\n        return r;\n    },\n\n    // 打印 Mermaid 缩放信息\n    printMermaidDPR : function () {\n        let info = \"::: Mermaid DPR :::\\n\"\n            + \"    ├ DPR of builder  [ \" + RepairTool_mermaidDPR_builder + \" ]\\n\"\n            + \"    └ DPR of render   [ \" + RepairTool_mermaidDPR_render + \" ]\\n\";\n        LOG(info);\n        return info;\n    },\n\n    /**\n     * 屏幕上显示环境信息、Mermaid 信息等\n     **/\n    show : function (source) {\n        let info = env.print()\n            + env.printMermaidDPR()\n            + \"\\n----------\\nPowered by MAX°孟兆\\n\";\n        console.log(info);\n        Copyer_action(source, info, gFalse);\n        ALERT(info);\n    }\n};\n\n// ==================== VLOOK 关键信息类 ==================== //\n\nlet V_ver = gVer, // VLOOK 版本信息\n    V_debugMode = debugMode, // 是否为开发模式\n    V_pageMode = \"max\", // 页面模式：max, pro, mini\n    V_params_url = [], // VLOOK 的调校参数\n    V_params_yaml = []; // VLOOK 文档的 YAML\n\n// 初始化调校参数\nfunction V_params_init() {\n    V_params_url = V_util_getUrlQueryParams(WINDOW_getHref());\n    let vp = V_util_getMetaByName(\"vlook-query\");\n    V_params_yaml = V_util_getUrlQueryParams(\"file.html\" + (vp !== gUndefined ? \"?\" + vp : _));\n}\n// ========================================\n\n// ========================================\n// VLOOK 本地数据读/写\n// 获得数据\n// function V_data_get(key) {\n//     return localStorage[_VLOOK_ + \"-\" + key];\n// }\n// 写入数据\n// function V_data_set(key, value) {\n//     localStorage[_VLOOK_ + \"-\" + key] = value;\n// }\n// ========================================\n\n// ========================================\n// VLOOK 工具包\n/**\n * 获取 HTML 文档标题\n */\nfunction V_util_getDocTitle() {\n    return $(document).a(_title_);\n}\n\n/**\n * 获取 HTML <meta> 标签的内容\n * @param metaName 指定 meta 的名称\n * @returns 指定 meta 的内容\n */\nfunction V_util_getMetaByName(metaName) {\n    let content = $(_mata_ + V_attrX(_name_, metaName)).a(_content_);\n    return ((content === gUndefined || content.length === 0 || content === \"${\" + metaName + \"}\") ? gUndefined : content);\n}\n// function V_util_getMetaByProperty(metaProperty) {\n//     let content = $(_mata_ + V_attrX(\"property\", metaProperty)).a(_content_);\n//     return ((content === gUndefined || content.length === 0) ? gUndefined : content);\n// }\n\n/**\n * 获取启动参数的值\n * @param pName 启动参数名称\n * @returns string 启动参数的值\n */\nfunction V_util_getParamVal(pName) {\n    let v = V_params_url[pName];\n    // URL 中无指定，则深度通过 YAML 中获取\n    if (v === gUndefined)\n        v = V_params_yaml[pName];\n    return v;\n}\n\n/**\n * 获取 URL 中的参数数组\n * @param u 完整的 URL 内容\n */\nfunction V_util_getUrlQueryParams(u) {\n    let h = u.i(\"#\");\n    u = h > -1 ? u.s(0, h) : u; // 只截取 URL 中 # 前的内容\n\n    let si = u.i(\"?\"),\n        qs = u.s(si > -1 ? si + 1 : u.length, u.length), // 获取url中\"?\"符后的字串\n        p = {}, // 保存参数数据的对象\n        is = (qs.length > 0) ? qs.sp(\"&\") : [], // 取得每一个参数项,\n        item = null,\n        l = is.length;\n\n    // 将所有参数拆解至数组中\n    for (let i = 0; i < l; i++) {\n        item = is[i].sp(\"=\");\n        p[decodeURIComponent(item[0])] = decodeURIComponent(item[1]);\n    }\n    return p;\n}\n\n/**\n * 获取 URL 中的锚点\n * @param u 完整的 URL 内容\n */\nfunction V_util_getUrlHash(u) {\n    let i = u.i(\"#\");\n    return i > -1 ? u.s(i, u.length) : _;\n}\n\n/**\n * 获取 URL 中的参数字符串\n * @param u 完整的 URL 内容\n */\nfunction V_util_getUrlQueryString(u) {\n    let i = u.i(\"?\");\n    return i > -1 ? u.s(i + 1, u.length) : _;\n}\n\n/**\n * 获取 URL 中的不含锚点的部分\n * @param u 完整的 URL 内容\n */\nfunction V_util_getUrlWithoutHash(u) {\n    let i = u.i(\"#\");\n    return i > -1 ? u.s(0, i) : u;\n}\n\n/**\n * 获取 URL 中的不含锚点、参数的部分\n * @param u 完整的 URL 内容\n */\nfunction V_util_getUrlPathWithoutQueryAndHash(u) {\n    let queryIdx = u.i('?');\n    if (queryIdx > -1)\n        u = u.s(0, queryIdx);\n    else {\n        let hashIdx = u.i('#');\n        if (hashIdx > -1)\n            u = u.s(0, hashIdx);\n    }\n    return u;\n}\n\n/**\n * 获得 URL 中的路径部分\n * @param u URL 地址\n */\nfunction V_util_getPath(u) {\n    let qi = u.i(\"?\"),\n        ti = u.s(0, qi).lastIndexOf(\"/\"),\n        pi = ti === -1 ? 0 : ti;\n    return u.s(0, pi + 1);\n}\n\n/**\n * 进行 HTML 特殊符号进行转义\n * @param text 原始文本\n * @return String 转义后文本\n */\n// function V_util_htmlEncode(text) {\n//     if (text.length === 0)\n//         return _;\n//     return text.r(/&/g, \"&amp;\")\n//         .r(/</g, \"&lt;\")\n//         .r(/>/g, \"&gt;\")\n//         .r(/ /g, \"&nbsp;\")\n//         .r(/'/g, \"&apos;\")\n//         .r(/\"/g, \"&quot;\")\n//         .r(/<br>/g, _);\n// }\n\n/**\n * 进行 HTML 标签符转义\n * @param text 原始文本\n * @return String 转义后文本\n */\nfunction V_util_htmlTagEncode(text) {\n    if (text.length === 0)\n        return _;\n    return text.r(/</g, \"&lt;\")\n        .r(/>/g, \"&gt;\");\n}\n\n/**\n * 进行 HTML 单、双引号转义\n * @param text 原始文本\n * @return String 转义后文本\n */\n// function V_util_htmlQuotEncode(text) {\n//     if (text.length === 0)\n//         return _;\n//     return text.r(/'/g, \"&apos;\")\n//         .r(/\"/g, \"&quot;\");\n// }\n\n/**\n * 清理 HTML 中的单、双引号\n * @param text 原始文本\n * @return String 清理后的文本\n */\nfunction V_util_clearHtmlQuot(text) {\n    if (text.length === 0)\n        return _;\n    return text.r(/'/g, _)\n        .r(/\"/g, _);\n}\n\n/**\n * 处理并返回省略后的文本\n * @param text 原始文本\n * @param limit 头、尾长度限制\n * @return String 省略后的文本\n */\nfunction V_util_ellipsisText(text, limit) {\n    // 多个空格替换为 1 个\n    text = text.r(/\\s+/g, ___);\n\n    // 不需要进行省略处理\n    if (text.length <= limit * 2)\n        return V_util_htmlTagEncode(text);\n\n    // 默认先按 1 个字占 1 个字节长度取头、尾部分\n    let h = text.s(0, limit).x(),\n        t = text.s(text.length - limit, text.length).x();\n    // 判断头、尾部分是否含中文\n    let cjkHeader = h.m(/\\p{Unified_Ideograph}/ug),\n        cjkTailer = t.m(/\\p{Unified_Ideograph}/ug);\n    if (cjkHeader != null && cjkHeader.length > 0)\n        h = __getChs(h, limit, cjkHeader);\n    if (cjkTailer != null && cjkTailer.length > 0)\n        t = __getChsRev(t, limit, cjkTailer);\n\n    /**\n     * 正序获取字符串（ 1 个 CJK 算两个字符）\n     *\n     * @param {*} str 原始字符\n     * @param {*} limit 限制长度\n     * @param {*} cjk CJK 字符数组\n     * @returns string 新的字符串\n     */\n    function __getChs(str, limit, cjk) {\n        let cnt = 0;\n        while (limit > 0) {\n            if (cjk.i(str[cnt]) > -1)\n                limit -= 2;\n            else\n                limit--;\n            cnt++;\n        }\n        return str.s(0, cnt);\n    }\n    /**\n     * 反序获取字符串（ 1 个 CJK 算两个字符）\n     *\n     * @param str 原始字符\n     * @param limit 限制长度\n     * @param cjk CJK 字符数组\n     * @returns string 新的字符串\n     */\n    function __getChsRev(str, limit, cjk) {\n        let count = 0,\n            len = str.length - 1;\n        while (limit > 0) {\n            if (cjk.i(str[len - count]) > -1)\n                limit -= 2;\n            else\n                limit--;\n            count++;\n        }\n        return str.s(len + 1 - count);\n    }\n\n    return V_util_htmlTagEncode(h + \" . . . \" + t);\n}\n\n/**\n * 重定位至锚点\n * @return boolean true：已进行重定向，false：无须进行重定向\n */\nfunction V_util_redirectTo() {\n    let hash = WINDOW_getHash();\n    // 如果 URL 带锚点\n    if (hash.length > 0 && hash !== \"#\" + _vkIdDocTitle_) {\n        LOG(\"    ↩ Redirect to h: \" + JS_decodeURI(hash));\n        WINDOW_setHref(\"#\"); // 强制先清空当前 hash\n        WINDOW_setHref(hash);\n        // 若最后访问的锚点与本次相同，则强制进行一次微调\n        setTimeout(function () {\n            V_ui_tuningScrollTop(hash);\n        }, 300);\n        return gTrue;\n    }\n    return gFalse;\n}\n\n/**\n * 跳转至页内锚点，并自动进行位置微调适配\n */\nfunction V_util_gotoHash(hash) {\n    let last = JS_decodeURI(WINDOW_getHash());\n    WINDOW_setHref(hash);\n    // 若前后锚点一样，则会导致不会触发 hashchange 事件，须强制进行一次微调\n    if (last === JS_decodeURI(hash))\n        V_ui_tuningScrollTop(hash);\n}\n\n/**\n * 获取 CSS 变量值\n * @param varName CSS 变量名\n */\nfunction V_util_getVarVal(varName) {\n    return getComputedStyle(document.documentElement).getPropertyValue(varName);\n}\n\n/**\n * 设置 CSS 变量值\n * @param varName CSS 变量名\n * @param value CSS 变量值\n */\nfunction V_util_setVarVal(varName, value) {\n    document.documentElement.style.setProperty(varName, value);\n}\n/**\n * 获取 HTML 文档使用的模板主题\n */\nfunction V_util_getTemplateTheme() {\n    return V_util_getVarVal(\"--v-theme-name\").rA('\"', _).x();\n}\n\n/**\n * 批量修改指定的 CSS 变量集\n * @param varSet 变量数组\n * @param flag 修改为指定变量集的标识\n */\nfunction V_util_changeCssVarSet(varSet, flag) {\n    // 生成目标颜色方案值列表\n    let tmp = [];\n    if (flag !== gUndefined) {\n        for (let i = 0, len = varSet.length; i < len; i++) {\n            tmp.push(V_util_getVarVal(varSet[i] + \"-\" + flag));\n        }\n    }\n    // 遍历所有变量实现 ColorScheme 切换\n    for (let i = 0, len = varSet.length; i < len; i++) {\n        if (flag !== gUndefined)\n            V_util_setVarVal(varSet[i], tmp[i]);\n        else\n            V_util_setVarVal(varSet[i], 0);\n    }\n}\n\n/**\n * 获取 HTML 标签名称\n * @param target 标签对象\n */\nfunction V_util_getTagName(target) {\n    let tagName = (target === gUndefined ? _ : target.prop(_tagName_));\n    return (tagName === gUndefined ? _ : tagName.l());\n}\n\n/**\n * 生成用反引号包裹的文本\n * @param text 文本\n */\nfunction V_util_wrapBackquote(text) {\n    let bq1 = __hasBackquote(text) ? \"`` \" : \"`\",\n        bq2 = __hasBackquote(text) ? \" ``\" : \"`\";\n    return bq1 + text + bq2;\n\n    // 是否含有反引号 `\n    function __hasBackquote(text) {\n        return (text.i(\"`\") > -1);\n    }\n}\n\n// VLOOK 工具 包\n// ========================================\n\n// ========================================\n// 通用的格式化操作\n/**\n * 添加千位符\n * @param str 需要进行格式化的目标字符串\n * @returns string 格式化后的字符串\n */\nfunction V_formatting_thousands(str) {\n    return str.r(/(\\d)(?=(\\d{3})+(\\.\\d+)*(\\D)*$)/g, \"$1,\");\n}\n\n/**\n * 对小数部分进行格式化\n * @param str 需要进行格式化的目标字符串\n * @returns string 格式化后的字符串\n */\nfunction V_formatting_decimal(str) {\n    return str.r(/\\.(\\d+)/, \".\" + V_ui_span(_vTblColFmtNumDecimal_, _, \"$1\"));\n    // return str.r(/\\.(\\d+)/, \".<span class='v-tbl-col-fmt-num-decimal'>$1</span>\");\n}\n\n/**\n * 对百分号进行格式化\n * @param str 需要进行格式化的目标字符串\n * @returns string 格式化后的字符串\n */\nfunction V_formatting_percent(str) {\n    return str.r(/%</, V_ui_span(_vTblColFmtPercent_, _, \" %\") + \"<\");\n}\n\nlet gRE_CurrencyNoEscape = new RegExp(\"<\\\\/\" + _span_ + \"><\" + _span_ + \">([$])<\\\\/\" + _span_ + \"><\" + _span_ + \">\", _),\n    gRE_CurrencyNoEscape2 = new RegExp(\">([$])<\\\\/\" + _span_ + \"><\" + _span_ + \">\", _);\n/**\n * 对货币符号进行格式化\n * @param str 需要进行格式化的目标字符串\n * @returns string 格式化后的字符串\n */\nfunction V_formatting_currency(str) {\n    // 对于存在转义符号 $ 时（与 Markdown 的数学公式格式冲突，所以一般会写成 \\$）\n    // 先将其处理成不存在转义的标准形式，如：HK$\n    str = str.r(gRE_CurrencyNoEscape, \"$1\");\n    // str = str.r(/<\\/span><span>([$])<\\/span><span>/, \"$1\");\n    str = str.r(gRE_CurrencyNoEscape2, \">$1\");\n    // str = str.r(/>([$])<\\/span><span>/, \">$1\");\n    // 因 html() 中含有 > 字符，所以替换的内容中须进行 > 的前后拼接调整\n    return str.r(/>([a-z$¥￥]{0,3})\\s/i, \">\" + V_ui_span(_vTblColFmtCurrency_, _, \"$1\"));\n}\n// ========================================\n\n// ========================================\n// 检查文档结构是否符合 VLOOK 规范程度\nfunction V_checkSpec () {\n    let v = gTrue,\n        c = [\n            \"因以下原因无法激活 VLOOK 插件：\\n\\n\",\n            \"The VLOOK plugin cannot be activated for the following reasons:\\n\\n\"\n            ][V_lang_id];\n\n    // 只支持由 Typora 导出的 HTML 文件\n    if (DOM_body().a(_class_).i(\"typora-export\") === -1) {\n        c += [\n            \"• 只支持由 Typora 导出的 HTML 文件\\n\",\n            \"• Only HTML files exported by Typora are supported\\n\"\n            ][V_lang_id];\n        v = gFalse;\n    }\n\n    // 缺少目录\n    gToc = $(\".\" + _vMdToc_);\n    if (gToc.length === 0) {\n        c += [\n            \"• 缺少 [TOC], 这是 GFM 标准的「目录」语法\\n\",\n            \"• Missing [TOC], the GFM standard \\\"Table of Content\\\"\\n\"\n            ][V_lang_id];\n    }\n\n    // 存在不符合规范的情况\n    if (!v) {\n        c += [\n            \"\\n建议参考文档模板：\",\n            \"\\nSuggestion Reference document template: \"\n        ][V_lang_id] + \"\\nreleased/demo/VLOOK-Document-Template.md\";\n\n        ALERT(c);\n        return gFalse;\n    }\n\n    // 符合规范\n    return gTrue;\n}\n// ========================================\n\n\n/**\n * 初始化关键组件实例\n */\nfunction V_init() {\n    let sw = new Stopwatch();\n    sw.st();\n    iFontTheme = new FontTheme(new BgMask(_fontTheme_, _center_), V_util_getVarVal(\"--v-f-theme\"));\n    if (iFontTheme === gFalse)\n        ALERT(_failed_ + \"iFntThm ]\");\n    else\n        iFontTheme.init(V_util_getParamVal(\"wf\")); // 初始化\n    sw.ed(\"    ├ Font Themer: \");\n\n    // ==================== UI --------------------\n\n    // 聚光灯\n    sw.st();\n    iSpotlight = new Spotlight(180, new BottomTips(_spotlight_));\n    if (iSpotlight === gFalse)\n        ALERT(_failed_ + \"iSpotlight ]\");\n    sw.ed(\"    ├ Spotlight: \");\n\n    // 激光笔\n    iLaserPointer = new LaserPointer(new BottomTips(\"laserPointe\"));\n    if (iLaserPointer === gFalse)\n        ALERT(_failed_ + \"iPter ]\");\n    sw.ed(\"    ├ LaserPointer: \");\n\n    // 长内容折叠\n    sw.st();\n    let cf = V_util_getParamVal(\"cf\");\n    ContentFolder_enabled = (cf !== _off_);\n    // 指定对象（table,figure,codeblock）启用的处理\n    if (cf !== gUndefined && cf !== _on_ && cf !== _off_) {\n        ContentFolder_enabled_table = (cf.i(_table_) > -1);\n        ContentFolder_enabled_figure = (cf.i(_figure_) > -1);\n        ContentFolder_enabled_codeblock = (cf.i(_codeblock_) > -1);\n    }\n    ContentFolder_init();\n    sw.ed(\"    ├ Content Folding: \");\n\n    // 工具提示\n    ToolTips_init();\n\n    // 弹窗信息提示\n    iInfoTips = new InfoTips(new BgMask(\"info-tips\", _center_));\n    if (iInfoTips.length === 0)\n        ALERT(_failed_ + \"iInfoTips ]\");\n\n    // 导航中心\n    sw.st();\n    let runMode = V_util_getParamVal(\"nc\");\n    iNavCenter = new NavCenter(new BgMask(_navCenter_, _left_, gTrue), runMode);\n    if (iNavCenter === gFalse)\n        ALERT(_failed_ + \"iNavCenter ]\");\n    sw.ed(\"    ├ Nav Center: \");\n\n    // 逐章导航\n    sw.st();\n    iChapterNav = new ChapterNav(iNavCenter);\n    if (iChapterNav === gFalse)\n        ALERT(_failed_ + \"iChapNav ]\");\n    else {\n        // 添加关联组件\n        iNavCenter.chpNav = iChapterNav;\n    }\n    sw.ed(\"    ├ Chapter Nav: \");\n\n    // 工具栏\n    sw.st();\n    iToolbar = new Toolbar(iNavCenter, iChapterNav);\n    if (iToolbar === gFalse)\n        ALERT(_failed_ + \"iTb ]\");\n    else {\n        // 导航中心按钮\n        iToolbar.add(_navCenter_, function () {\n            iNavCenter.tg();\n        });\n\n        // 文库\n        iToolbar.add(_docLib_, function () {\n            if (iNavCenter.docLib.counter > 1) {\n                if (!iNavCenter.showed)\n                    iNavCenter.tg();\n                iNavCenter.keyword.input.focus();\n                iNavCenter.keyword.input.val(_vdl_);\n                iNavCenter.keyword.input.select();\n            }\n            else\n                iNavCenter.docLib.show(_, _);\n        });\n\n        // 分隔条\n        iToolbar.addSpliter(_toolbarSpliter_);\n\n        // 段落导航\n        iToolbar.add(_paragraphNav_, function () {\n            iInfoTips.inform([\n                \"开启方式：<br />\" + V_ui_strong(\"三击文档中的「任意段落」\"),\n                \"Open method:<br />\" + V_ui_strong(\"three click \\\"any paragraph\\\" in the document\")\n            ][V_lang_id], 10000, gTrue);\n        });\n\n        // 聚光灯\n        iToolbar.add(_spotlight_, function () {\n            iLaserPointer.hide();\n            if (iSpotlight.tg())\n                iParagraphNav.hide();\n        });\n\n        // 激光笔\n        iToolbar.add(_laserPointer_, function () {\n            iSpotlight.hide();\n            if (iLaserPointer.tg())\n                iParagraphNav.hide();\n        });\n\n        // 打印按钮\n        iToolbar.add(_print_, function () {\n            V_print_ready();\n        });\n\n        // 添加关联组件\n        iNavCenter.toolbar = iToolbar;\n        iSpotlight.toolbar = iToolbar;\n        iLaserPointer.toolbar = iToolbar;\n\n        // 绑定选择字体风格的工具栏按钮\n        iFontTheme.bindButton(iToolbar.btns[_fontTheme_]);\n    }\n    sw.ed(\"    ├ Toolbar: \");\n\n    // 插图浏览器\n    sw.st();\n    iFigNav = new FigureNav();\n    if (iFigNav === gFalse)\n        ALERT(_failed_ + \"iFigNav ]\");\n    sw.ed(\"    ├ Figure Nav: \");\n\n    // ----------------------------------------\n    sw.st();\n\n    // 文档更多内容栏遮罩栏\n    MoreDocContent_init();\n\n    // 脚注\n    iFootNote = new FootNote(new BgMask(\"foot-note\", _bottom_, gTrue));\n    if (iFootNote === gFalse)\n        ALERT(_failed_ + \"iFootNote ]\");\n\n    // 状态栏相关\n    StsDocInfo_init();\n    // StsDocLib_init();\n    StsFontTheme_init();\n    StsColorScheme_init();\n    // StsZoomView_init();\n    StsLinkTool_init(new BgMask(_linkChecker_, _right_, gTrue));\n\n    // 状态栏\n    StatusBar_init();\n    StatusBar_add(\"doc-info\", StsDocInfo_ui);\n    StatusBar_add(_fontTheme_, StsFontTheme_ui);\n    StatusBar_add(\"color-scheme\", StsColorScheme_ui);\n    StatusBar_add(_linkChecker_, StsLinkTool_ui);\n\n    sw.ed(\"    └ Misc: \");\n}\n\n/**\n * 初始化 VLOOK 核心模块\n */\nfunction V_initKernel() {\n    // ----------------------------------------\n    // 加载本文档主题配套的 Logo 图标\n    iStopwatch.st(\"* Document Logo\");\n    let icoLg = $(\".\" + _vDocLog_ + _light_).c(_backgroundImage_),\n        icoDk = $(\".\" + _vDocLog_ + _dark_).c(_backgroundImage_);\n    $(\"head\").ap(\"<link rel='icon' id='\" + _docIcon_ + _light_ + \"' \" + V_attr(_href_ , icoLg.s(5, icoLg.length - 2)) + \" type='image/x-icon'/>\"\n        + \"<link rel='icon' id='\" + _docIcon_ + _dark_ + \"' \" + V_attr(_href_, icoDk.s(5, icoDk.length - 2)) + \" type='image/x-icon'/>\");\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 无封面时的处理\n    if (VOM_cover() === gUndefined) {\n        let pageMode = _;\n        // 页面模式为 mini 时的处理\n        if (V_pageMode === _mini_) {\n            pageMode = \" mini\";\n            JQ_addClass(MoreDocContent_ui_before, _mini_);\n        }\n        // 添加文档大标题\n        VOM_doc().pp(V_ui_div(_vkIdDocTitle_, _vDoc_ + \"title\" + pageMode, V_util_getDocTitle()));\n    }\n\n    // ----------------------------------------\n    // 初始化国际化 UI\n    iStopwatch.st(\"* UI i18n\");\n    V_ui_initI18n();\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 初始化题注生成器配置\n    if (V_util_getParamVal(\"capauto\") === _on_)\n        CaptionGenerator_autoContent = gTrue;\n\n    // ----------------------------------------\n    // 初始化音频数据\n    iStopwatch.st(\"* Audio: \");\n    ExtAudio_init();\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 初始化视频数据\n    iStopwatch.st(\"* Video: \");\n    ExtVideo_init();\n    iStopwatch.ed(_4space_);\n\n    // ========================================\n    // 初始化引用块\n    // 须在 ExtFigure 处理前，避免引用块折叠处理中，对其内含有 svg 颜色替换处理导致 DOM 冲突而失效\n    iStopwatch.st(\"* Quote: \");\n    ExtQuote_init();\n    ExtQuote_adjustHoverStyle();\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 初始化插图数据\n    iStopwatch.st(\"* Figure: \");\n    ExtFigure_init();\n    iStopwatch.ed(_cost_);\n\n    // ----------------------------------------\n    // 初始化表格\n    iStopwatch.st(\"* Table: \");\n    ExtTable_init();\n    iStopwatch.ed(_cost_);\n\n    TableCross_init();\n    // 设置表格阅读模式的开关状态（不指定则默认开启）\n    RowGroup_adjustHoverStyle();\n\n    // ----------------------------------------\n    // 初始化代码块\n    iStopwatch.st(\"* Code Block: \");\n    ExtCodeBlock_init();\n    iStopwatch.ed(_4space_);\n\n    // ========================================\n    // Code Magic 处理\n    // （注意：须在 ExtQuote 初始化之后执行）\n    // 包括了：标签、徽章、引用块着色、刮刮卡、文字注音等\n    iStopwatch.st(\"* Code & Xscript °Magic: \");\n    ColorCode_init();\n    CodeMagic_init();\n    SupSubMagic_preprocess();\n    Progressbar_init();\n    iStopwatch.ed(_4space_);\n    // ========================================\n\n    // ========================================\n    // 在插图、表格、代码等内容的题注处理后，进行引用块的二次初始化\n    // ExtQuote_initAfterCap();\n    // ========================================\n\n    // ----------------------------------------\n    // 检查页内链接坏链\n    // 因涉及对 xmd 的处理，需要在文库处理之前（DocLib）进行\n    // __fork(\"Check Hash Link\", function () {\n    iStopwatch.st(\"* Check Hash Link: \");\n    LinkTool_mdToHtml();\n    LinkTool_checkLink();\n    iStopwatch.ed(_4space_);\n    // }, 250);\n\n    // ----------------------------------------\n    // 增强脚注\n    iStopwatch.st(\"* Foot Note: \");\n    FootNote.init();\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 分步分级处理\n    iStopwatch.st(\"* Stepwise: \");\n    BreadcrumbStyle_init();\n    iStopwatch.ed(_4space_);\n\n    // VLOOK UI 统一样式适配处理\n    V_ui_adjustHoverStyle();\n\n    // 主要针对小屏情况，完成表格初始化后进行适配\n    // 如果不是小屏，则由 adjustAll 触发\n    ContentFolder_adjust();\n\n    // ----------------------------------------\n    // 初始化 导航中心、章节导航 数据\n    iStopwatch.st(\"* Adjust NavCenter/ChapterNav/FigureNav/Toolbar/StatusBar\");\n    if (NavCenter.init()) {\n        if (!env.device.mobile)\n            iNavCenter.showHandle();\n\n        iNavCenter.adjust();\n        iChapterNav.adjust();\n        iToolbar.adjust();\n        StatusBar_adjust();\n\n        // 根据设备类型自适应 hover 样式\n        iNavCenter.catalog.adjustHoverStyle();\n        iChapterNav.adjustHoverStyle();\n        iFigNav.adjustHoverStyle();\n    }\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 自动生成可通过 DOM 引用块的目录自动编号\n    ChpAutoNum_initToc();\n\n    // ----------------------------------------\n    // 文档没有任何可索引的对象时，默认不显示导航中心\n    if (!iNavCenter.catalog.hasIndexItem()\n        && !iNavCenter.figure.hasIndexItem()\n        && !iNavCenter.table.hasIndexItem()\n        && !iNavCenter.media.hasIndexItem()\n        && !iNavCenter.codeblock.hasIndexItem()) {\n            iNavCenter.runMode = \"closed\";\n    }\n\n    // ----------------------------------------\n    iStopwatch.st(\"* Binding Event\");\n    // 绑定文档鼠标移动事件，聚光灯跟随鼠标移动\n    document.addEventListener(\"mousemove\", function (event) {\n        iSpotlight.repaint(event);\n        iNavCenter.snap(event);\n    });\n\n    // to-do\n    // mmMindmap_init();\n\n    // 绑定文档的单击事件\n    $(document).uC().ck(function (event) {\n        TableCross_hide();\n    });\n\n    // 绑定文档的鼠标滚轮事件\n    document.addEventListener(\"mousewheel\", function (event) {\n        // 忽略处理，提升性能\n        return false;\n    }, false);\n\n    // 绑定文档的滚动事件\n    $(document).on(\"scroll\", function () {\n        let currentTime = new Date().getTime(),\n            scrollTop = $(document).scrollTop(),\n            timeInterval = gFalse,\n            docHeight = $(document).h();\n\n        // 显示或隐藏文档更多内容遮罩栏\n        if (scrollTop < 20\n            || scrollTop > (docHeight - 20)\n            || currentTime - V_doc_scroll_lastUpdate > 500)\n                MoreDocContent_refresh(scrollTop);\n\n        // ----------------------------------------\n        // 控制执行频率，避免处理过快影响性能\n        if (scrollTop < 20\n            || scrollTop > (docHeight - 20)\n            || (timeInterval = (currentTime - V_doc_scroll_lastUpdate) > 500)\n            || (timeInterval && Math.abs(scrollTop - V_doc_scroll_lastTop) > 100)) {\n                // 更新控制执行频率相关判断数据\n                V_doc_scroll_update(currentTime, $(document).scrollTop());\n                // 根据是屏幕大小进行不同的适配控制\n                V_ui_adjustAll();\n        }\n\n        // 由于涉及到章节导航栏数据更新等不同逻辑处理，执行频率由 focusHeader 内进行控制\n        iNavCenter.catalog.focusHeader(scrollTop);\n    });\n\n    // 绑定窗口大小缩放事件\n    $(window).on(\"resize\", function () {\n        TableCross_hide();\n        iNavCenter.catalog.focusHeader();\n        V_ui_adjustAll();\n        ExtQuote_uniteColumnsHeight();\n    });\n\n    // 绑定打印前的触发事件\n    window.onbeforeprint = function () {\n        if (V_pageMode === _mini_)\n            return;\n        // 不是通过 VLOOK 打印按钮进行打印时进行提醒\n        if (V_print_mode !== _VLOOK_)\n            ALERT([\n                \"注意！为确保打印正常，建议使用文档内工具栏左侧的【打印】按钮进行打印！\",\n                \"Notice! To ensure normal printing, it is recommended to use the [Print] button on the left side of the toolbar in the document to print!\"\n            ][V_lang_id]);\n    };\n    // 绑定打印后的触发事件\n    window.onafterprint = function () {\n        if (V_pageMode === _mini_)\n            return;\n        V_print_done();\n    };\n\n    // 监听页内锚点链接跳转\n    // 注意：同一个锚点连续点击不会触发该事件\n    $(window).on(\"hashchange\", function(event) {\n        let h = WINDOW_getHash(),\n            anchor = h.s(1, h.length);\n        if (anchor.x().length === 0)\n            return;\n\n        iNavCenter.history.add(h);\n\n        // 锚点未显示的处理（如所在父元素被隐藏）\n        let aObj = $(\"#\" + JS_decodeURI(anchor) + \", a\" + V_attrX(_name_, anchor));\n        if (aObj !== gUndefined && aObj.o() !== gUndefined && aObj.oT() === 0) {\n            let hiddenObj = aObj.closest(_blockquote_);\n            // 若属于被折叠的引用块，则模拟点击展开，并重新定位到该引用块\n            if (hiddenObj.length > 0 && hiddenObj.isHidden()) {\n                let fd = hiddenObj.pr().f(\".\" + _vBlockquoteFolder_);\n                if (fd.length > 0) {\n                    fd.tr(_mouseUp_);\n                    WINDOW_setHref(h);\n                }\n            }\n        }\n\n        // 页内位置改变后，微调滚动条位置\n        if (gLastHash == null || gLastHash !== h) {\n            // 其中对于 Firefox 若不延时微调会存在微调无效的情况\n            setTimeout(function () {\n                V_ui_tuningScrollTop(JS_decodeURI(anchor));\n            }, env.browser.Firefox ? 300 : 0);\n        }\n        gLastHash = h;\n\n        // 若导航中心没有显示，则强制进行延时适配处理（如从封面直接到指定章节）\n        if (!iNavCenter.showed)\n            V_ui_adjustAllDelay();\n    });\n\n    iStopwatch.ed(_4space_);\n}\n\n/**\n * 初始化须在页面 body 显示后才能执行的部分\n */\nfunction V_initRestyle() {\n    let sw = new Stopwatch();\n\n    // ----------------------------------------\n    // 重置任务清单样式\n    sw.st();\n    Restyler_forTaskList();\n    sw.ed(\"    ├ TaskList: \");\n\n    // ----------------------------------------\n    // 重置脚本化图表样式，须在以上页面内容恢复显示后再处理\n    sw.st();\n    Restyler_forMermaid();\n    sw.ed(\"    └ Mermaid: \");\n}\n\n// ========================================\n// VLOOK UI 包\nlet V_ui_effect = 0, // 0: 无动效\n    V_ui_processingAdjust= gFalse;\n\n/**\n * 淡入显示\n * @param t 目标对象\n */\nfunction V_ui_show(t) {\n    if (t === gUndefined)\n        return;\n\n    t.c(_visibility_, _visible_)\n        .c(_opacity_, 1);\n}\n\n/**\n * 淡出隐藏\n * @param t 目标对象\n */\nfunction V_ui_hide(t) {\n    if (t === gUndefined)\n        return;\n\n    t.c(_visibility_, _hidden_)\n        .c(_opacity_, 0);\n}\n\nfunction V_ui_wrap_kbd(src) {\n    return \"<kbd>\" + src + \"</kbd>\"\n}\n/**\n * 获得当前 OS 环境下的 Ctrl 键 UI 元素\n */\nfunction V_ui_getCtrlKeyUI(unwrap, short) {\n    let key = short ? \"⌃\"\n        : (env.os.macOS ? \"⌃ control\" : \"⌃ Ctrl\");\n    return unwrap ? key : V_ui_wrap_kbd(key);\n}\n\n/**\n * 获得当前 OS 环境下的 Shift 键 UI 元素\n */\nfunction V_ui_getShiftKeyUI(unwrap, short) {\n    let key = short ? \"⇧\" : \"⇧ shift\";\n    return unwrap ? key : V_ui_wrap_kbd(key);\n}\n\n/**\n * 获得当前 OS 环境下的 Alt / Option 键 UI 元素\n */\nfunction V_ui_getAltKeyUI(unwrap, short) {\n    let str = env.os.macOS\n        ? (short ? \"⌥\" : \"⌥ option\") : \"Alt\";\n    return unwrap ? str : V_ui_wrap_kbd(str);\n}\n\n/**\n * 获得当前 OS 环境下的 Windows / Command 键 UI 元素\n */\nfunction V_ui_getMetaKeyUI(unwrap, short) {\n    let str = env.os.macOS\n        ? (short ? \"⌘\" : \"⌘ command\") : \"Win\";\n    return unwrap ? str : V_ui_wrap_kbd(str);\n}\n\n/**\n * 获得滚动条宽度\n */\n// function V_ui_scrollWidth() {\n//     let sc,\n//         d = document.createElement(\"DIV\");\n//     d.style.cssText = \"position: absolute; top: -9999px; width: 100px; height: 100px; overflow: hidden;\";\n//     sc = document.body.appendChild(d).clientWidth;\n//     d.style.overflowY = \"scroll\";\n//     document.body.removeChild(d);\n//     return sc - d.clientWidth;\n// }\n\n/**\n * 获得 VLOOK 与技术支持信息内容\n * @returns string VLOOK 与技术支持信息内容\n */\nfunction V_ui_copyrightInfo() {\n    return V_ui_div(_, _vCopyright_,\n                V_ui_svgIcon(_icoVLOOK_, 24, 24, _dark_, _vCopyrightSvgIco_)\n                + _2nbsp_\n                + 'Published with ' + V_ui_a(_, \"https://github.com/MadMaxChow/VLOOK\", V_ui_strong(_VLOOK_), \"_blank\")\n                + '™ (V23.0) &amp; ' + V_ui_a(_, \"https://www.typora.io\", V_ui_strong(\"Typora\"), \"_blank\") + '.' + _2nbsp_\n                + 'Support: ' + V_ui_a(_, \"https://qm.qq.com/cgi-bin/qm/qr?k=oB8wpFG_4SEMf1CL9qVy-jMw0CMfSwff&jump_from=webapi\", V_ui_strong(\"QQ Group\"))\n                + ' / ' + V_ui_a(_, 'mailto:67870144@qq.com?subject=Feedback%20about%20VLOOK%20' + V_ver + '&body=Hi,%0D%0A%0D%0A====================%0D%0A%0D%0A' + encodeURI(env.print(gTrue)), V_ui_strong(\"Email\")) + '.'\n        );\n}\n\n/**\n * 判断是否为小屏\n */\nfunction V_ui_isSmallScreen() {\n    return $(window).oW() <= gSmallScreenWidth;\n}\n\n/**\n * 微调页内跳转后的滚动条位置\n * @param anchor 锚点名称，不含 #，如含 # 会自动过滤\n */\nfunction V_ui_tuningScrollTop(anchor) {\n    if (anchor !== gUndefined && anchor.sW(\"#\"))\n        anchor = anchor.s(1, anchor.length);\n    if (anchor === gUndefined || anchor.x().length === 0)\n        return;\n\n    let t = JS_parseInt(iChapterNav.ui.c(_top_)),\n        h = JS_parseInt(iChapterNav.ui.c(_height_)),\n        y = 10,\n        aObj = $(\"#\" + JS_decodeURI(anchor) + \", a\" + V_attrX(_name_, anchor)),\n        tag = V_util_getTagName(aObj);\n\n    // h1-6\n    if (\"h1h2h3h4h5h6\".i(tag) > -1) {\n        y += (tag === _h6_)\n            ? (t + h + 16)\n            : (aObj.h() + 10 + (JS_parseInt(tag.s(1, 2)) - 1) * 6);\n        y -= JS_parseInt(V_util_getVarVal(\"--v-top-margin\"));\n    }\n    // 从底部脚注列表回到脚注位置\n    else if (anchor.sW(\"ref-footnote\"))\n        y += 70;\n    // 其他情况\n    else\n        y += t + h;\n    // 微调滚动位置\n    $(document).scrollTop($(document).scrollTop() - y);\n}\n\n/**\n * 生成 HTML 标签属性与值内容（指定关系运算符）\n * @param attrName 属性名称\n * @param attrValue 属性值\n * @param op 关系运算符，不指定时默认为 =\n */\nfunction V_attr(attrName, attrValue, op) {\n    if (op === gUndefined)\n        op = \"=\";\n    return attrName + op + '\"' + attrValue + '\"';\n}\n\n/**\n * 生成 jQuery / CSS 选择器的属性与值内容\n * @param attrName 属性名称\n * @param attrValue 属性值\n * @param op 关系运算符，不指定时默认为 =\n */\nfunction V_attrX(attrName, attrValue, op) {\n    if (op === gUndefined)\n        op = \"=\";\n    attrValue = (attrValue !== gUndefined) ? op + '\"' + attrValue + '\"': _;\n    if (attrName.length > 0 )\n        attrValue += \"]\";\n    return \"[\" + attrName + attrValue;\n}\n\n/**\n * 生成 SVG 图标\n * @param icon 图标资源集标识\n * @param w 图标宽度\n * @param h 图标高度\n * @param color 内置图标样式 v-svg-ico-xxx 标识：light / dark / alpha / ...\n * @param classValue 扩展补充的 class 样式\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n */\nfunction V_ui_svgIcon(icon, w, h, color, classValue, extAttr) {\n    // class\n    classValue = (classValue !== gUndefined && classValue.length > 0) ? ___ + classValue : _;\n    // ext attr\n    extAttr = (extAttr !== gUndefined && extAttr.length > 0) ? ' ' + extAttr : _;\n    return '<svg width=\"' + w + 'px\" height=\"' + h + 'px\" class=\"v-svg-small-ico' + classValue + '\"' + extAttr + '>'\n        + '<use class=\"v-svg-ico-' + color + '\" xlink:href=\"#' + icon + '\">'\n        + '</use></svg>';\n}\nfunction V_ui_svgIcon2(icon, w, h) {\n    return '<svg width=\"' + w + 'px\" height=\"' + h + 'px\">'\n        + '<use xlink:href=\"#' + icon + '\">'\n        + '</use></svg>';\n}\n\n/**\n * 生成 svg 的 symbol 标签（不用于嵌套）\n * @param idValue id 属性值\n * @param content 标签的内容\n */\nfunction V_ui_symbol(idValue, content) {\n    return V_ui_htmlTag(\"symbol\", idValue, _, _, content);\n}\n\n/**\n * 生成 img 标签\n * @param classValue class 属性值\n * @param alt alt 属性值\n * @param src src 属性值\n * @param srcset srcset 属性值\n */\nfunction V_ui_img(classValue, alt, src, srcset) {\n    classValue = (classValue !== gUndefined && classValue.length > 0) ? ' class=\"' + classValue + '\"' : '';\n    alt = (alt !== gUndefined && alt.length > 0) ? ' alt=\"' + alt + '\"' : '';\n    src = (src !== gUndefined && src.length > 0) ? ' src=\"' + src + '\"' : '';\n    srcset = (srcset !== gUndefined && srcset.length > 0) ? ' srcset=\"' + srcset + '\"' : '';\n    return '<' + _img_ + classValue + alt + src + srcset + '>';\n}\n\n/**\n * 生成 iframe 标签\n * @param name name 属性值\n */\nfunction V_ui_iframe(name) {\n    name = (name !== gUndefined && name.length > 0) ? ' name=\"' + name + '\"' : '';\n    return V_ui_htmlTag(_iframe_, _, _, name, _);\n    // return '<' + _iframe_ + name + \"></\" + _iframe_ + \">\";\n}\n\n/**\n * 生成 input 标签\n * @param id id 属性值\n * @param name name 属性值\n * @param type type 属性值\n * @param value value 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n */\nfunction V_ui_input(id, name, type, value, extAttr) {\n    id = (id !== gUndefined && id.length > 0) ? ' id=\"' + id + '\"' : '';\n    name = (name !== gUndefined && name.length > 0) ? ' name=\"' + name + '\"' : '';\n    type = (type !== gUndefined && type.length > 0) ? ' type=\"' + type + '\"' : '';\n    value = (value !== gUndefined && value.length > 0) ? ' value=\"' + value + '\"' : '';\n    extAttr = (extAttr !== gUndefined && extAttr.length > 0) ? ' ' + extAttr : _;\n    return '<' + _input_ + id + name + type + value + extAttr + ' />';\n}\n\n/**\n * 生成 figcaption 标签\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n*/\nfunction V_ui_figcaption(classValue, extAttr, content) {\n    return V_ui_htmlTag(\"figcaption\", _, classValue, extAttr, content);\n}\n\n/**\n * 生成 div 标签\n * @param idValue id 属性值\n * @param classValue class 属性值\n * @param content 标签的内容\n */\nfunction V_ui_div(idValue, classValue, content) {\n    return V_ui_htmlTag(\"div\", idValue, classValue, _, content);\n}\n\n/**\n * 生成 div 标签\n * @param idValue id 属性值\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_div2(idValue, classValue, extAttr, content) {\n    return V_ui_htmlTag(\"div\", idValue, classValue, extAttr, content);\n}\n\n/**\n * 生成 CSS 变量\n * @param varName 变量名称\n */\nfunction V_ui_var(varName) {\n    return 'var(' + varName+ ')';\n}\n\n/**\n * 生成 strong 标签\n * @param content 标签的内容\n */\nfunction V_ui_strong(content) {\n    return V_ui_htmlTag(_strong_, _, _, _, content);\n}\n\n/**\n * 生成 span 标签\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_span(classValue, extAttr, content) {\n    return V_ui_htmlTag(_span_, _, classValue, extAttr, content);\n}\n\n/**\n * 生成 sub 标签\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_sub(classValue, extAttr, content) {\n    return V_ui_htmlTag(_sub_, _, classValue, extAttr, content);\n}\n\n/**\n * 生成 label 标签\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_label(classValue, extAttr, content) {\n    return V_ui_htmlTag(_label_, _, classValue, extAttr, content);\n}\n\n/**\n * 生成 a 标签\n * @param idValue id 属性值\n * @param href href 属性值\n * @param content 标签的内容\n * @param target href 属性值\n */\nfunction V_ui_a(idValue, href, content, target) {\n    href = (href !== gUndefined && href.length > 0) ? ' href=\"' + href + '\"': _;\n    target = (target !== gUndefined && target.length > 0) ? ' target=\"' + target + '\"' : _;\n    return V_ui_htmlTag(\"a\", idValue, _, href + target, content);\n}\n\n/**\n * 生成 audio 标签\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_audio(extAttr, content) {\n    return V_ui_htmlTag(_audio_, _, _, extAttr, content);\n}\n\n/**\n * 生成 video 标签\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_video(extAttr, content) {\n    return V_ui_htmlTag(_video_, _, _, extAttr, content);\n}\n\n/**\n * 生成 html 的标签\n * @param tag 标签名称，如：strong, div, span 等\n * @param idValue id 属性值\n * @param classValue class 属性值\n * @param extAttr 扩展的自定义属性及属性值，如：data-attr1=\"123\"\n * @param content 标签的内容\n */\nfunction V_ui_htmlTag(tag, idValue, classValue, extAttr, content) {\n    // id\n    idValue = (idValue !== gUndefined && idValue.length > 0) ? ' id=\"' + idValue + '\"' : '';\n    // class\n    classValue = (classValue !== gUndefined && classValue.length > 0) ? ' class=\"' + classValue + '\"' : '';\n    // ext attr\n    extAttr = (extAttr !== gUndefined && extAttr.length > 0) ? ' ' + extAttr : _;\n    // content\n    if (content === gUndefined)\n        content = _;\n    return '<' + tag + idValue + classValue + extAttr + '>' + content + '</' + tag + '>';\n}\n\n/**\n * 获取 Alt / Option 修饰键情况\n * @returns boolean true：按下，false：未按下\n */\nfunction V_ui_holdKey_Alt(event) {\n    return (event.altKey);\n}\n\n/**\n * 判断鼠标当前位置是否落在指定对象的区域范围内\n * @param target 指定对象\n * @param event 事件对象\n */\nfunction v_ui_mouseDropIn(target, event) {\n    let mx = event.pageX || event.clientX + document.body.scrollLeft,\n        my = event.pageY || event.clientY + document.body.scrollTop,\n        padding = JS_parseInt(target.c(_paddingTop_)) * 2,\n        borderBottomWidth = JS_parseInt(target.c(_borderBottomWidth_));\n    return !(mx <= target.oL() || mx >= (target.oL() + target.w() + padding)\n        || my <= target.oT() || my >= (target.oT() + target.h() + padding + borderBottomWidth));\n}\n\n/**\n * 将预置颜色标识转换为驼峰格式\n * @param color 预置的颜色标识\n */\nfunction V_ui_campColor(color) {\n    // 渐变色\n    if (color.length > 3) {\n        let gradientColors = V_ui_splitColors(color),\n            count = gradientColors.length,\n            colorStr = _, gColor;\n        for (let i = 0; i < count; i++) {\n            gColor = gradientColors[i];\n            colorStr += gColor.charAt(0).toUpperCase() + gColor.slice(1);\n        }\n        return colorStr;\n    }\n    // 单色\n    return color.charAt(0).toUpperCase() + color.slice(1);\n}\n\n/**\n * 拆分渐变的预置颜色标识\n * @param color 预置的颜色标识\n * @return Array[] 颜色标识数组\n */\nfunction V_ui_splitColors(color) {\n    let gradientColors = color.l().split(/(\\S{2})/i);\n    return gradientColors.filter(item => item !== _);\n}\n\n/**\n * 将 HEX 颜色格式转换为 RGB 数组\n * @param hex 十六进制格式颜色，如：#F1A2C3\n */\nfunction V_ui_hexToRGB(hex) {\n    let rgb = [];\n    rgb.push(parseInt(hex.s(1, 3), 16));\n    rgb.push(parseInt(hex.s(3, 5), 16));\n    rgb.push(parseInt(hex.s(5, 7), 16));\n\n    return rgb;\n}\n\n/**\n * 格式化颜色为 rgba 格式\n * @param rgb RGB 颜色分量数组\n * @param opacity 透明度，0:透明，1:不透明\n */\nfunction V_ui_formatRGBA(rgb, opacity) {\n    return \"rgba(\" + rgb[0] + \", \" + rgb[1] + \", \" + rgb[2] + \", \" + opacity + \")\";\n}\n\n/**\n * 生成文本渐变色 CSS 代码\n * @param gradientColors 渐变色色号内容，如：RdBuYe\n * @param fade 透明度子标识\n * @param suffix 颜色后缀子标识\n */\nfunction V_ui_genGradColorCSS(gradientColors, fade, suffix) {\n    let css = _,\n        count = gradientColors.length,\n        color = _;\n    for (let i = 0; i < count; i++) {\n        color = gradientColors[i];\n        css += V_ui_var(\"--ac-\" + color + fade\n            + (color === \"bk\" ? _ : suffix));\n        if (i < count - 1)\n            css += \",\";\n    }\n    return css;\n}\n\n/**\n * 初始 UI 国际化\n */\nfunction V_ui_initI18n() {\n    iToolbar.btns[_navCenter_].a(_dataTips_, [\n        V_ui_strong(\"隐藏\") + \" / \" + V_ui_strong(\"显示\") + \" 导航中心\",\n        V_ui_strong(\"Hide\") + \" / \" + V_ui_strong(\"Show\") + \" Navigation Center\"\n    ][V_lang_id] + \"\\n\" + V_ui_sub(_, _, V_ui_wrap_kbd(\"O\")));\n\n    iToolbar.btns[_docLib_].a(_dataTips_, [\n        \"浏览文库\",\n        \"Document Library\"\n    ][V_lang_id] + \"\\n\" + V_ui_sub(_, _, V_ui_wrap_kbd(\"L\")));\n\n    iToolbar.btns[_paragraphNav_].a(_dataTips_, [\n        \"段落导航 模式\",\n        \"Paragraph Navigation mode\"\n    ][V_lang_id]);\n\n    iToolbar.btns[_spotlight_].a(_dataTips_, [\n        \"聚光灯\",\n        \"Spotlight\"\n    ][V_lang_id] + \"\\n\" + V_ui_sub(_, _, V_ui_wrap_kbd(\"S\")));\n\n    iToolbar.btns[_laserPointer_].a(_dataTips_, [\n        \"激光笔\",\n        \"Laser Pointer\"\n    ][V_lang_id] + \"\\n\" + V_ui_sub(_, _, V_ui_wrap_kbd(\"P\")));\n\n    iToolbar.btns[_print_].a(_dataTips_, [\n        \"打印...\",\n        \"Print...\"\n    ][V_lang_id]);\n\n    iChapterNav.prev.ui.a(_dataTips_, [\n        \"前一章\",\n        \"Previous Chapter\"\n    ][V_lang_id] + \"\\n\" + V_ui_sub(_, _, V_ui_wrap_kbd(\"◄\")));\n\n    iChapterNav.next.ui.a(_dataTips_, [\n        \"后一章\",\n        \"Next Chapter\"\n    ][V_lang_id] + \"\\n\" + V_ui_sub(_, _, V_ui_wrap_kbd(\"►\")));\n\n    iChapterNav.dt.a(_dataTips_, [\n        \"回到封面\",\n        \"Back to cover\"\n    ][V_lang_id]);\n\n    iChapterNav.current.ui.a(_dataTips_, [\n        \"回到本章的开始\",\n        \"Go back to the beginning of this chapter\"\n    ][V_lang_id]);\n\n    iFigNav.btns.prev.a(_title_, \"[ ← ] \" + [\n        \"前一张\",\n        \"Previous\"\n    ][V_lang_id]);\n\n    iFigNav.btns.next.a(_title_, \"[ → ] \" + [\n        \"后一张\",\n        \"Next\"\n    ][V_lang_id]);\n\n    iFigNav.btns.close.a(_title_, \"[ ESC ] \" + [\n        \"关闭\",\n        \"Close\"\n    ][V_lang_id]);\n\n    iFontTheme.ui.f(\".\" + _vFontPackage_).t([\n        \"字体\",\n        _font_\n    ][V_lang_id] + ___);\n\n    iFontTheme.ui.f(\".v-font-theme-info\").hm([\n        \"若无法连接互联网加载在线版本字体，建议将字体直接下载到本地\",\n        \"If you cannot connect to the Internet to load the online version of the font, it is recommended to download the font directly to the local\"\n    ][V_lang_id] + \" (\" + V_ui_a(_, \"https://github.com/MadMaxChow/openfonts\", [\n        \"主站\",\n        \"Primary\"\n    ][V_lang_id]) + \" | \" + V_ui_a(_, \"https://gitee.com/MadMaxChow/openfonts\", [\n        \"备用\",\n        \"Standby\"\n    ][V_lang_id]) + \")\");\n\n    iFootNote.buttonSeeAll.ch(\"a\").t([\n        \"查看所有脚注\",\n        \"View all footnotes\"\n    ][V_lang_id] + \" ▶\");\n}\n\n/**\n * 移动到中间\n * @param s 源对象\n */\nfunction V_ui_moveToCenter(s) {\n    let l = ($(window).w() - s.w()) / 2,\n        r = _auto_;\n    if (env.device.mobile) { // 移动端\n        l = 10;\n        r = 10;\n    }\n\n    s.c(_left_, l)\n        .c(_right_, r)\n        .c(_top_, ($(window).h() - s.h()) / 2);\n}\n\n/**\n * 移动到中间\n * @param s 源对象\n * @param t 目标对象\n */\nfunction V_ui_moveToTarget(s, t) {\n    let l = t.oL(),\n        w = s.w() + JS_parseInt(s.c(_paddingLeft_))\n            + JS_parseInt(s.c(_paddingRight_))\n            + JS_parseInt(s.c(_borderWidth_)) * 2;\n\n    if (l + w + 10 > $(window).w())\n        l = $(window).w() - w - 10;\n\n    s.c(_left_, l)\n        .c(_top_, t.oT() - $(document).scrollTop() + t.h() + 10);\n}\n\n/**\n * 进行文档导航相关的 UI 元素的适配处理\n */\nfunction V_ui_adjustAll() {\n    if (V_ui_processingAdjust)\n        return;\n\n    V_ui_processingAdjust = gTrue;\n\n    if (iNavCenter.adjust())\n        ContentFolder_adjust();\n    iChapterNav.adjust();\n    iToolbar.adjust();\n\n    V_ui_processingAdjust = gFalse;\n}\n\n/**\n * 模拟等待页面完成跳转后，再进行导航中心布局自适应处理\n */\nfunction V_ui_adjustAllDelay() {\n    setTimeout(function () {\n        V_ui_adjustAll();\n        ExtQuote_uniteColumnsHeight();\n    }, 500);\n}\n\n/**\n * 根据设备类型自适应hover样式\n */\nfunction V_ui_adjustHoverStyle() {\n    // 移动设备时解绑样式事件\n    if (env.device.mobile) {\n        $(_vBtn__BtnGroup_).uH();\n        $(\".\" + _vSegmentBtn_).uH();\n        $(\".\" + _vAccentBtn_).uH();\n        StsFontTheme_ui.uH();\n        StsColorScheme_ui.uH();\n        $(\"#\" + _docLibToc_ + \">.\" + _vDocLibItem_).uH();\n        $(\".\" + _vStdCode_ + \", .\" + _vTag_ + \", .\" + _vBadgeName_).uH();\n        $(\".\" + _vBadgeValue_).uH();\n    }\n    // 非移动设备时绑定样式事件\n    else {\n        // 所有常规按钮 hover 事件处理\n        V_ui_bindHover($(_vBtn__BtnGroup_));\n        // 所有导航中心分段控制按钮 hover 事件处理\n        V_ui_bindHover($(\".\" + _vSegmentBtn_));\n        // 所有辅助按钮 hover 事件处理\n        V_ui_bindHover($(\".\" + _vAccentBtn_));\n        // 状态栏上的按钮\n        V_ui_bindHover(StsFontTheme_ui);\n        V_ui_bindHover(StsColorScheme_ui);\n        // 文库按钮 hover 事件处理\n        V_ui_bindHover($(\"#\" + _docLibToc_ + \">.\" + _vDocLibItem_));\n        // 代码、标签类 hover 事件处理\n        V_ui_bindHover($(\".\" + _vBadgeValue_), gTrue);\n    }\n}\n\n/**\n * 为对象绑定 hover 事件\n * @param target 目标对象\n * @param cancleParent 是否临时模拟取消父元素的 hover 处理（即 mouseenter）\n */\nfunction V_ui_bindHover(target, cancleParent) {\n    target.hover(function () {\n        let _t = $(this);\n        JQ_addClass(_t, _hover_);\n        if (cancleParent)\n            JQ_removeClass(_t.p(), _hover_);\n    }, function () {\n        let _t = $(this);\n        JQ_removeClass(_t, _hover_);\n        if (cancleParent)\n            _t.p().tr(_mouseEnter_);\n    });\n}\n\n/**\n * 为对象取消 hover 事件绑定\n * @param t 目标对象\n */\nfunction V_ui_unbindHover(t) {\n    t.unbind(_mouseEnter_).unbind(_mouseLeave_);\n}\n\n/**\n * 初始化动效处理\n */\nfunction V_ui_initEffectLevel() {\n    // 不启用动效\n    if (V_ui_effect < 1)\n        V_util_setVarVal(\"--v-trans-value\", _none_);\n    // 动效等级为 2 或更高级时才开启毛玻璃动效（如遮罩、插图浏览器背景）\n    else if (V_ui_effect >= 2)\n        JQ_addClass($(\".\" + _vBackdropBlurs_), _enabled_);\n    // 以下动效等级为 1 或更高级时才开启\n    V_ui_addAnimate($(\"a kbd, a \" + _img_));\n}\nfunction V_ui_initEffectLevel2() {\n    if (V_ui_effect >= 2)\n        JQ_addClass($(\".\" + _vBackdropBlurs_), _enabled_);\n}\n\n/**\n * 为指定对象添加过渡动画\n * @param t 目标对象\n * @param css 应用的属性，不指定时默认为 “all”\n */\nfunction V_ui_addAnimate(t, css) {\n    if (V_ui_effect >= 1) {\n        if  (css === gUndefined) {\n            JQ_addClass(t, _vTransitionAll_);\n        }\n        else {\n            let attrSet = css.sp(___);\n            for (let i = 0; i < attrSet.length; i++)\n                JQ_addClass(t, \"v-transition-\" + attrSet[i]);\n        }\n    }\n}\n\n/**\n * 为指定对象移除过渡动画\n * @param t 目标对象\n * @param css 应用的属性，不指定时默认为 “all”\n */\nfunction V_ui_removeAnimate(t, css) {\n    if  (css === gUndefined)\n        JQ_removeClass(t, _vTransitionAll_);\n    else {\n        let attrSet = css.sp(___);\n        for (let i = 0; i < attrSet.length; i++)\n            JQ_removeClass(t, \"v-transition-\" + attrSet[i]);\n    }\n}\n\n/**\n * 检查目标对象是否有指定的任意过渡动画\n * @param t 目标对象\n * @returns boolean true：有，false：无\n */\n// function V_ui_existAnimate(t) {\n//     return t.a(_class_).i(\"v-transition-\") > -1;\n// }\n\n/**\n * 初始化热键\n */\nfunction V_ui_initHotkey() {\n    // 键盘按下事件\n    $(document).on(\"keydown\", function (event) {\n        const code = event.keyCode || event.which || event.charCode;\n        let combKeys = (event.ctrlKey ? V_ui_getCtrlKeyUI(true) : _)\n            + (event.shiftKey ? V_ui_getShiftKeyUI(true) : _)\n            + (event.altKey ? V_ui_getAltKeyUI(true) : _)\n            + (event.metaKey ? V_ui_getMetaKeyUI(true) : _);\n\n        // if (V_debugMode) {\n        DEBUG(`KEY: ${combKeys} ${String.fromCharCode(code)} (${code})`);\n        DEBUG(`keyCode: ${event.keyCode}, key: ${event.key}, code: ${event.code}`);\n        // }\n\n        // 按下 alt / option 键\n        if (V_ui_holdKey_Alt(event) === gTrue) {\n            ContentAssistor_toggleCopyMode(gTrue);\n        }\n\n        // 热键操作处理\n        iSpotlight.disposeHotkey(code, combKeys, event);\n        iLaserPointer.disposeHotkey(code, combKeys, event);\n        iParagraphNav.disposeHotkey(code, combKeys, event);\n        WelcomePage_disposeHotkey(code, combKeys, event);\n        iFigNav.disposeHotkey(code, combKeys, event);\n        iNavCenter.disposeHotkey(code, combKeys, event);\n        iFontTheme.disposeHotkey(code, combKeys, event);\n        iInfoTips.disposeHotkey(code, combKeys, event);\n        iFootNote.disposeHotkey(code, combKeys, event);\n        LinkTool_disposeHotkey(code, combKeys, event);\n\n        // 文档的热键操作处理，只在文档为当前焦点且没有弹层时才有效\n        if (V_doc_block || document.activeElement.tagName.l() !== \"body\")\n            return;\n\n        // 逐章导航热键操作处理\n        iChapterNav.disposeHotkey(code, combKeys, event);\n\n        let handled = false;\n        switch (code) {\n            case 79: // O 显示/隐藏导航中心\n                __showHideNavCenter();\n                handled = true;\n                break;\n            case 191: // / 导航中心搜索\n                // 与 Firefox 的 / 快捷键会存在冲突\n                // 所以针对 Firefox，快捷键为 Ctrl + / 或 Cmd + /\n                // 阻止默认的浏览器行为\n                event.preventDefault();\n                if (!iNavCenter.showed) {\n                    __showHideNavCenter();\n                }\n                iNavCenter.keyword.input.focus();\n\n                // 自动读取并粘贴剪粘板的文本内容\n                navigator.clipboard.readText().then(function (v) {\n                        iNavCenter.keyword.input.val(v);\n                        iNavCenter.keyword.input.select();\n                    }).catch(function (v) {\n                        ERROR(\"GET CLIPBOARD FAILED：\", v);\n                    });\n                handled = true;\n                break;\n            case 76: // L\n                if (iNavCenter.docLib.enabled)\n                    iToolbar.btns[_docLib_].tr(_click_);\n                handled = true;\n                break;\n            case 68: // D\n                StsColorScheme_ui.tr(_click_);\n                handled = true;\n                break;\n            case 65: // A\n                if (iFontTheme.ui.isHidden())\n                    StsFontTheme_ui.tr(_click_);\n                else\n                    iFontTheme.hide();\n                handled = true;\n                break;\n            case 80: // P\n                iParagraphNav.hide();\n                iSpotlight.hide();\n                iLaserPointer.tg();\n                handled = true;\n                break;\n            case 83: // S\n                iParagraphNav.hide();\n                iLaserPointer.hide();\n                iSpotlight.tg();\n                handled = true;\n                break;\n            case 27: // ESC\n                // 表格为阅读模式时，则退出\n                if (!TableCross_ui.isHidden()) {\n                    TableCross_disable();\n                    handled = true;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n\n        function __showHideNavCenter() {\n            if (iFigNav.ui.isShowed())\n                return;\n            iToolbar.btns[_navCenter_].tr(_click_);\n        }\n    });\n\n    // 松开任意键\n    $(document).on(\"keyup\", function (event) {\n        // 更新复制模式\n        if (ContentAssistor_copyAsMarkdown === gTrue) {\n            ContentAssistor_toggleCopyMode(gFalse);\n        }\n    });\n}\n// VLOOK UI 包\n// ========================================\n\n// ========================================\n// VLOOK 语言类\nlet V_lang_id = 1;\n\n/**\n * 初始化语言\n */\nfunction V_lang_init() {\n    switch (env.language.base) {\n        case \"zh\":\n            V_lang_id = 0; // 中（简）\n            break;\n        default:\n            V_lang_id = 1; // 默认：英语\n    }\n}\n// V.lang\n// ========================================\n\n// ========================================\n// 文档类\nlet V_doc_block = gFalse; // 当前文档是否被模态窗口阻塞\n\n// 滚动信息\nlet V_doc_scroll_lastUpdate = 0, // 最后一次根据滚动变动更新 UI 的时间\n    V_doc_scroll_lastTop = 0; // 最后一次记录的滚动位置\n/**\n * 更新页面滚动信息\n *\n * @param u 最后更新滚动信息的时间时间\n * @param t 最后更新的滚动位置\n */\nfunction V_doc_scroll_update(u, t) {\n    V_doc_scroll_lastUpdate = u;\n    V_doc_scroll_lastTop = t;\n}\n\n/**\n * 冻结文档滚动\n */\nfunction V_doc_scroll_freeze() {\n    JQ_exchangeClass(DOM_body(), _unfreeze_, _freeze_);\n}\n\n/**\n * 解冻文档滚动\n */\nfunction V_doc_scroll_unfreeze() {\n    JQ_exchangeClass(DOM_body(), _freeze_, _unfreeze_);\n}\n\n// 内容计数器\nlet V_doc_counter_img = 0, // 图片总数\n    V_doc_counter_figure = 0, // 插图总数\n    V_doc_counter_postcard = 0, // 明信片数量\n    V_doc_counter_table = 0, // 表格总数\n    V_doc_counter_codeblock = 0, // 代码块总数\n    V_doc_counter_audio = 0, // 非 mini 模式音频总数\n    V_doc_counter_audiomini = 0, // mini 模式音频总数\n    V_doc_counter_video = 0, // 视频总数\n    V_doc_counter_details = 0; // 详情总数\n\n/**\n * 初始化外部链接（如：http://、https://、ftp://、站内链接等），为其添加 target 参数\n */\nfunction V_doc_link_adjustExternal() {\n    $(\"a:not([href^='#'])\").e(function () {\n        let a = $(this);\n        a.a(_target_, a.a(_href_));\n    });\n}\n// ========================================\n\n// ========================================\n// 打印类\n// 打印模式。none：指由直接使用浏览器自带的打印，vlook：指先通过 vlook 进行预处理\nlet V_print_mode = _none_;\n\n/**\n * 打印文档前处理\n */\nfunction V_print_ready() {\n    V_print_mode = _VLOOK_;\n\n    // 若当前为 Dark Mode 则强制临时切换为 Light 模式\n    if (ColorScheme.scheme === _dark_) {\n        ColorScheme.schemeBeforePrint = ColorScheme.scheme;\n        ColorScheme.scheme = _light_;\n        ColorScheme.refresh();\n    }\n\n    // 将 Mermaid 图表题注 width 等属性临时禁用，并调整为 100%，以适应打印纸张宽度\n    $(\".\" + _vCaption_Mermaid_).e(function () {\n        let _t = $(this);\n        _t.a(_beforePrintWidth_, _t.c(_width_));\n        _t.c(_width_, _100pc_);\n    });\n\n    // 将 Mermaid 图表的 width, max-width 等属性临时禁用，并调整为 100%，以适应打印纸张宽度\n    $(\".\" + _vCaption_Mermaid_ + ___ + _svg_).e(function () {\n        let _t = $(this);\n        if (_t.a(_width_) === _100pc_) {\n            // 针对流程图\n            if (_t.a(_style_).i(_maxWidth_ + \":\") > -1) {\n                _t.a(_beforePrintMaxWidth_, _t.c(_maxWidth_));\n                _t.c(_maxWidth_, _);\n            }\n            // 针对状态机图\n            else if (_t.a(_style_).i(_width_ + \":\") > -1) {\n                _t.a(_beforePrintWidth_, _t.c(_width_));\n                _t.c(_width_, _100pc_);\n            }\n        }\n        else { // 针对顺序图\n            _t.a(_beforePrintWidth_, _t.a(_width_));\n            _t.c(_width_, _100pc_);\n        }\n    });\n\n    // 展开折叠的引用块\n    $(_details_ + \":not(\" + V_attrX(_open_) + \")\").e(function () {\n        $(this).ch(_summary_).tr(_click_);\n    });\n\n    // 展开所有折叠的长内容\n    $(V_attrX(_dataContentFolded_, _true_)).e(function () {\n        $(this).tr(_mouseUp_);\n    });\n\n    // 展开所有折叠的表格行\n    $(_vTblRowGBtn_).e(function () {\n        RowGroup_open($(this).p().p());\n    });\n\n    // 隐藏画中画\n    PicInPic_hide();\n\n    // 若存在「刮刮卡」内容，则先让用户确认是否显示\n    let coatings = $(\".\" + _vCoating_);\n    if (coatings.length > 0) {\n        if (confirm(\"文档含有「刮刮卡」内容，打印前是否显示实际内容？\")) {\n            coatings.e(function () {\n                let _t = $(this);\n                if (_t.a(_dataCoatingShowed_).sW(\"f\"))\n                    Coating_show(_t);\n            });\n        }\n    }\n\n    // 调用浏览器的打印功能\n    // 延后是为以上相关的异步和界面完成刷新\n    setTimeout(function () {\n        window.print();\n    }, 2000);\n}\n\n/**\n * 打印文档后处理\n */\nfunction V_print_done () {\n    // 若打印前为 Dark Mode 则先恢复为 Dark Mode\n    if (ColorScheme.schemeBeforePrint === _dark_) {\n        ColorScheme.tg();\n    }\n\n    // 恢复打印前的配置，详见 V_print_ready()\n    $(\".\" + _vCaption_Mermaid_).e(function () {\n        let _t = $(this);\n        _t.c(_width_, _t.a(_beforePrintWidth_));\n        JQ_removeAttr(_t, _beforePrintWidth_);\n    });\n\n    // 恢复打印前的配置，详见 V_print_ready()\n    $(\".\" + _vCaption_Mermaid_ + ___ + _svg_).e(function () {\n        let _t = $(this);\n        if (_t.a(_width_) === _100pc_) {\n            // 针对流程图\n            if (_t.a(_style_).i(_maxWidth_ + \":\") > -1) {\n                _t.c(_maxWidth_, _t.a(_beforePrintMaxWidth_));\n                JQ_removeAttr(_t, _beforePrintMaxWidth_);\n            }\n            // 针对状态机图\n            else if (_t.a(_style_).i(_width_ + \":\") > -1) {\n                _t.c(_width_, _t.a(_beforePrintWidth_));\n                JQ_removeAttr(_t, _beforePrintWidth_);\n            }\n        } else { // 针对顺序图\n            _t.c(_width_, _t.a(_beforePrintWidth_));\n            JQ_removeAttr(_t, _beforePrintWidth_);\n        }\n    });\n\n    // 隐藏所有刮刮卡\n    // $(\".\" + s_CssRbCoat).e(function () {\n    //     let _t = $(this);\n    //     if (_t.a(s_DataRbCoatShowed).sW(\"t\"))\n    //         RainbowCoat_hide(_t);\n    // });\n\n    V_print_mode = _none_;\n}\n\n// ========================================\n// VLOOK 埋点数据统计\n// 上报事件的累计次数，用于标识不同的上报事件 iframe 的 id\nlet V_report_count =  0;\n\n/**\n * 提交统计数据\n */\nfunction V_report_submit(loadTimeCost) {\n    // VLOOK 基本信息\n    let sd = \"?p=vlook\"\n        + \"&ver=\" + V_ver\n        + \"&thm=\" + V_util_getTemplateTheme();\n\n    sd += \"&d=\" + (env.device.mobile ? \"mob\" : _) // 设备类型\n        + \"&dpr=\" + env.display.DPR; // DPR\n\n    // OS 信息\n    sd += \"&os=\";\n    if (env.os.macOS)\n        sd += \"macOS\";\n    else if (env.os.Windows)\n        sd += \"Windows\";\n    else if (env.os.iOS)\n        sd += \"iPhone\";\n    else if (env.os.Linux)\n        sd += \"iPhone\";\n    else\n        sd += \"others\";\n\n    // 浏览器及版本\n    sd += \"&b=\";\n    if (env.browser.Edge)\n        sd += \"edge&bv=\" + env.browserVer.Edge;\n    else if (env.browser.Chrome)\n        sd += \"chrome&bv=\" + env.browserVer.Chrome;\n    else if (env.browser.Firefox)\n        sd += \"firefox&bv=\" + env.browserVer.Firefox;\n    else if (env.browser.Safari)\n        sd += \"safari&bv=\" + env.browserVer.Safari;\n    else\n        sd += \"others&bv=\";\n\n    // 浏览器的颜色方案\n    sd += \"&cs=\" + V_util_getVarVal(_varColorScheme_).rA('\"', _).x();\n\n    sd += \"&lang=\" + V_lang_id // 浏览器语言\n        + \"&size=\" + VOM_doc().t().length // 文档大小\n        + \"&time=\" + loadTimeCost; // 加载文档时间\n\n    // 图片插图数据\n    sd += \"&\" + _img_ + \"=\" + $(\".\" + _vFig_).length\n        + \"&\" + _img_ + \"-fold=\" + $(\"p\" + V_attrX(_dataContainer_, _img_) + V_attrX(_dataContentFolded_, _true_)).length\n        + \"&\" + _img_ + \"-fill=\" + $(_img_ + \":not(\" + V_attrX(_dataImgFill_) + \")\").length\n        + \"&\" + _img_ + \"-invert=\" + $(_img_ + V_attrX(_dataDarkSrc_, _invert_)).length\n        + \"&\" + _img_ + \"-alter=\" + $(_img_ + V_attrX(_dataDarkSrc_, _alter_)).length\n        + \"&\" + _img_ + \"-cap1=\" + $(_div_ + V_attrX(_id_, _vkIdFig_, \"^=\") + V_attrX(_dataIdFigType_, _img_) + ___ + _vCap1_).length\n        + \"&\" + _img_ + \"-cap2=\" + $(_div_ + V_attrX(_id_, _vkIdFig_, \"^=\") + V_attrX(_dataIdFigType_, _img_) + ___ + _vCap2_).length;\n\n    // Mermaid 插图数据\n    let mermaid = $(\".md-diagram-panel\");\n    sd += \"&mm=\" + mermaid.length\n        + \"&mm-fold=\" + $(_div_ + V_attrX(_dataContainer_, _svg_) + V_attrX(_dataContentFolded_, _true_)).length\n        + \"&mm-cap1=\" + $(_div_ + V_attrX(_id_, _vkIdFig_, \"^=\") + V_attrX(_dataIdFigType_, _svg_) + ___ + _vCap1_).length\n        + \"&mm-cap2=\" + $(_div_ + V_attrX(_id_, _vkIdFig_, \"^=\") + V_attrX(_dataIdFigType_, _svg_) + ___ + _vCap2_).length;\n\n    // Mermaid 音频数据\n    sd += \"&audio=\" + $(_audio_).length\n        + \"&mm-cap1=\" + $(_div_ + V_attrX(_id_, _vkIdAudio_, \"^=\") + ___ + _vCap1_).length\n        + \"&mm-cap2=\" + $(_div_ + V_attrX(_id_, _vkIdAudio_, \"^=\") + ___ + _vCap2_).length;\n\n    // Mermaid 视频数据\n    sd += \"&video=\" + $(_video_).length\n        + \"&mm-cap1=\" + $(_div_ + V_attrX(_id_, _vkIdVideo_, \"^=\") + ___ + _vCap1_).length\n        + \"&mm-cap2=\" + $(_div_ + V_attrX(_id_, _vkIdVideo_, \"^=\") + ___ + _vCap2_).length;\n\n    // Mermaid 图的细类\n    let pie = 0,\n        flow = 0,\n        flowSTART = 0,\n        flowINIT = 0,\n        state = 0,\n        seq = 0,\n        classD = 0,\n        gantt = 0;\n    mermaid.e(function () {\n        let _t = $(this);\n        if (_t.f(\"g.legend\").length > 0)\n            pie++; // 饼图\n        else if (_t.f(\"g.output g.nodes\").length > 0) {\n            flow++; // 流程图\n            if (_t.f(\"g.output g.nodes g#START.node\").length > 0)\n                flowSTART++; // VLOOK 标准的流程图\n            else if (_t.f(\"g.output g.nodes g#INIT.node\").length > 0)\n                flowINIT++; // VLOOK 标准的状态机图\n        }\n        else if (_t.f(\"g.stateGroup\").length > 0)\n            state++; // 状态机图（原生）\n        else if (_t.f(\"g rect.actor\").length > 0)\n            seq++; // 顺序图\n        else if (_t.f(\"g.classGroup\").length > 0)\n            classD++; // 类图\n        else if (_t.f(\"g rect.section\").length > 0)\n            gantt++; // 甘特图\n    });\n    sd += \"&mm-pie=\" + pie\n        + \"&mm-flow=\" + flow\n        + \"&mm-flow-S=\" + flowSTART\n        + \"&mm-flow-I=\" + flowINIT\n        + \"&mm-state=\" + state\n        + \"&mm-seq=\" + seq\n        + \"&mm-class=\" + classD\n        + \"&mm-gantt=\" + gantt;\n\n    // 表格数据\n    sd += \"&tbl=\" + $(_table_).length\n        + \"&tbl-fold=\" + $(_figure_ + V_attrX(_dataContainer_, _table_) + V_attrX(_dataContentFolded_, _true_)).length\n        + \"&tbl-cap1=\" + $(_div_ + V_attrX(_id_, _vkIdTbl_) + ___ + _vCap1_).length\n        + \"&tbl-cap2=\" + $(_div_ + V_attrX(_id_, _vkIdTbl_) + ___ + _vCap2_).length;\n\n    // 表格列格式数据\n    let fmBold = 0,\n        fmEm = 0,\n        fmUnderline = 0,\n        fmMark = 0,\n        fmDel = 0,\n        fmChk = 0,\n        fmNum = 0;\n    $(_table_ + V_attrX(_dataColumnFmting_, _true_)).e(function () {\n        let _t = $(this);\n        if (_t.f(\"thead .\" + _vTblColFmt_Bold_).length > 0)\n            fmBold++;\n        if (_t.f(\"thead .\" + _vTblColFmt_Em_).length > 0)\n            fmEm++;\n        if (_t.f(\"thead u\").length > 0)\n            fmUnderline++;\n        if (_t.f(\"thead .\" + _vTblColFmtMark_).length > 0)\n            fmMark++;\n        if (_t.f(\"thead \" + _del_).length > 0)\n            fmDel++;\n        if (_t.f(\"thead .\" + _vTblColFmt_Chkbox_).length > 0)\n            fmChk++;\n        if (_t.f(\"thead .\" + _vTblColFmtNum_).length > 0)\n            fmNum++;\n    });\n    sd += \"&tbl-fm-b=\" + fmBold\n        + \"&tbl-fm-em=\" + fmEm\n        + \"&tbl-fm-u=\" + fmUnderline\n        + \"&tbl-fm-m=\" + fmMark\n        + \"&tbl-fm-d=\" + fmDel\n        + \"&tbl-fm-chk=\" + fmChk\n        + \"&tbl-fm-num=\" + fmNum;\n\n    // 带单元格合并的表格数\n    sd += \"&tbl-cell-merge=\" + $(_table_ + V_attrX(_dataCellMerge_, _true_)).length;\n\n    // 带行折叠的表格数\n    sd += \"&tbl-row-group=\" + $(_table_ + V_attrX(_dataRowGroup_, _true_)).length;\n\n    // 代码块数据\n    sd += \"&cb=\" + $(\".\" + _vFences_).length\n        + \"&cb-fold=\" + $(\"p\" + V_attrX(_dataContainer_, _pre_) + V_attrX(_dataContentFolded_, _true_)).length\n        + \"&cb-cap1=\" + $(_div_ + V_attrX(_id_, _vkIdCodeblock_) + ___ + _vCap1_).length\n        + \"&cb-cap2=\" + $(_div_ + V_attrX(_id_, _vkIdCodeblock_) + ___ + _vCap2_).length;\n\n    // 标签数据\n    sd += \"&tag=\" + $(_code_ + V_attrX(_class_, _vTag_)).length\n        + \"&badge=\" + $(_code_ + V_attrX(_class_, _vBadgeName_)).length;\n\n    // 折叠引用块数据\n    sd += \"&dt=\" + $(_details_).length;\n\n    // 脚注数据\n    sd += \"&fn=\" + $(\".md-footnote\").length;\n\n    // 当前文档的 URL\n    sd += \"&url=\" + WINDOW_getHref();\n\n    // 提交统计数据\n    let vlookStat = $(_iframe_ + V_attrX(_name_, _vlookStatGitee_));\n    vlookStat.a(_src_,\n        \"https://madmaxchow.gitee.io/vlook/act/\" + (V_debugMode ? \"dev-\" : _) + \"stat-gitee.html\"\n        + encodeURI(sd));\n    // if (V_debugMode)\n    DEBUG(\"STAT DATA:\", vlookStat.a(_src_));\n}\n\n/**\n * 上报事件统计数据（基于百度统计）\n * 为兼容在本地打开的 HTML 文件，所以通过 iframe 的方式进行数据上报\n * @param d 数据数组，与百度统计的 _hmt.push([\"_trackEvent\", data[0], data[1], data[2], data[3]) 的参数保持一致\n */\n// function V_report_push(d) {\n//     return false; // 暂停事件数据上报，因百度统计免费版已下线了事件服务\n//     // ---\n//     $(\"body\").ap('<iframe name=\"vk-event-' + V_report_count + '\" style=\"display: block; margin: 0; border: none; overflow: hidden; width: 100%; height: 0;\"'\n//         + ' src=\"https://madmaxchow.gitee.io/vlook/act/'\n//         + (V_debugMode ? \"dev-\" : __)\n//         + 'event-gitee.html'\n//         + \"?category=\" + (V_debugMode ? \"dev-\" : __) + d[0]\n//         + \"&action=\" + d[1]\n//         + \"&label=\" + d[2]\n//         + \"&value=\" + d[3]\n//         + \"&debug=\" + V_debugMode\n//         + '\"></iframe>');\n//\n//     // 默认在指定时间后回收 iframe 资源\n//     setTimeout(V_report_recycleResources, 10000);\n//     V_report_count++;\n// }\n\n/**\n * 转换标签名为 VLOOK 中的特定内容类型名称\n */\n// function V_report_transTagName(t) {\n//     if (t.sW(\"i\"))\n//         return _fig_ + _suffixImg_;\n//     else if (t.sW(\"s\"))\n//         return _fig_ + _suffixSvg_;\n//     else if (t.sW(\"t\"))\n//         return _table_;\n//     else if (t.sW(\"pr\"))\n//         return _codeblock_;\n//     return \"Unknown\";\n// }\n\n/**\n * 移除上报事件的资源\n */\n// function V_report_recycleResources() {\n//     $(_iframe_ + V_attrX(_name_, \"vk-event-\", \"^=\")).e(function () {\n//         JQ_remove($(this));\n//         return gFalse; // 执行一次即跳出，即每次只删除当前最早创建的\n//     });\n// }\n// V.report\n// ========================================\n\n// ==================== 随机颜色类 ==================== //\n\nlet RandomColor_palette = []; // 不相似颜色的色板\n\n/**\n * 生成随机颜色\n * @returns number[] R/G/B 颜色分量是数组\n */\nfunction RandomColor_generate() {\n    let c = [0, 0, 0];\n    c[0] = Math.floor(Math.random() * 255);\n    c[1] = Math.floor(Math.random() * 255);\n    c[2] = Math.floor(Math.random() * 255);\n    return c;\n}\n\n/**\n * 生成不相似的随机颜色\n * @returns number[] R/G/B 颜色分量是数组\n */\nfunction RandomColor_dissimilarRgb() {\n    // 色板为空时，生成随机颜色后直接返回\n    let c = [0, 0, 0];\n    if (RandomColor_palette.length === 0) {\n        c = RandomColor_generate();\n        RandomColor_palette.push(c);\n        return c;\n    }\n\n    // 色板不为空时，避免相似的颜色\n    let flag = gFalse,\n        t = 0,\n        d = [0, 0, 0];\n\n    // 随机生成不相似的颜色（最多尝试次数上限为 20）\n    while (!flag && t < 20) {\n        c = RandomColor_generate();\n        // 判断新生成的随机颜色，色板中是否已有相似的\n        let idx = 0;\n        for (let i = 0; i < RandomColor_palette.length; i++) {\n            idx = i;\n            d[0] = (RandomColor_palette[i][0] - c[0]) / 256;\n            d[1] = (RandomColor_palette[i][1] - c[1]) / 256;\n            d[2] = (RandomColor_palette[i][2] - c[2]) / 256;\n            // 比例两个颜色的 RGB 色差来作为相似性的依据（0.3 为经验值，值越大差异最大）\n            if (Math.sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]) < 0.3)\n                break;\n        }\n\n        // 色板中没有找到相似的颜色\n        if (idx === RandomColor_palette.length) {\n            RandomColor_palette.push(c);\n            flag = gTrue;\n        }\n        t++;\n    }\n    return c;\n}\n\n// ==================== 处理耗时计时器类 ==================== //\n\n/**\n * 构造函数\n */\nfunction Stopwatch() {\n    let T = this;\n    T.sT = null; // 重置后的初始时间\n    T.lT = null; // 每次中间计时的初始时间\n\n    /**\n     * 重置计时器\n     */\n    T.reset = function () {\n        T.sT = new Date().getTime();\n    }\n\n    /**\n     * 一次中间计时开始\n     */\n    T.st = function (t) {\n        if (t !== gUndefined)\n            LOG(t);\n        T.lT = new Date().getTime();\n    }\n\n    /**\n     * 一次中间计时结束\n     * @param pre 输出内容前缀\n     * @param slient 是否为静默模式，true：是\n     */\n    T.ed = function (pre, slient) {\n        let c = new Date().getTime() - T.lT;\n        // 非静默模式时，输出计时结果\n        if (!slient) {\n            let msg = pre + \"⏱ \" + c + \" ms\";\n            if (c < 300)\n                INFO(msg);\n            else if (c < 500)\n                WARN(msg);\n            else\n                ERROR(msg);\n        }\n        return c;\n    }\n\n    /**\n     * 计时器结束\n     */\n    T.stop = function () {\n        return new Date().getTime() - T.sT;\n    }\n\n    // 初始化计时器\n    T.reset();\n}\n\n// ==================== 欢迎页 ==================== //\n\nlet WelcomePage_uiName = \".v-welcome-page\",\n    WelcomePage_ui = gUndefined, // 欢迎页主界面\n    WelcomePage_button = gUndefined, // 关闭欢迎页按钮\n    WelcomePage_tips = gUndefined, // 欢迎信息\n    WelcomePage_finished = gFalse, // 是否已加载\n    WelcomePage_mode = \"auto\"; // 模式\n\n/**\n * 构造函数\n * @param mode 欢迎页显示模式\n */\nfunction WelcomePage_init(mode) {\n    WelcomePage_ui = $(WelcomePage_uiName); // 欢迎页主界面\n    WelcomePage_button = $(WelcomePage_uiName + \">.v-loading\"); // 关闭欢迎页按钮\n    WelcomePage_tips = $(WelcomePage_uiName + \">.v-tips\"); // 欢迎信息\n    WelcomePage_finished = gFalse; // 是否已加载\n    WelcomePage_mode = mode; // 模式\n\n    // 初始执行\n    if (WelcomePage_mode === _none_)\n        WelcomePage_close();\n    else\n        V_ui_show(WelcomePage_ui);\n}\n\n/**\n * 完成所有内容加载后调用\n */\nfunction WelcomePage_done() {\n    // 关闭欢迎页事件\n    WelcomePage_button.uC().ck(function () {\n        WelcomePage_close();\n    });\n\n    WelcomePage_ui.c(_cursor_, \"default\");\n    WelcomePage_stopAni();\n\n    WelcomePage_tips.c(_animation_, _none_);\n\n    WelcomePage_updateCloseButton(null);\n    JQ_addClass(WelcomePage_button, \"v-btn-done\");\n\n    WelcomePage_finished = gTrue;\n\n    // auto 模式时延时自动关闭\n    let delay = JS_parseInt(WelcomePage_mode);\n    if (delay > 60) // 控制秒数上限\n        delay = 60;\n    if (WelcomePage_mode === _auto_ || delay >= 0)\n        WelcomePage_autoClose(delay);\n    // wait 模式\n    else if (WelcomePage_mode === _wait_)\n        JQ_addClass(WelcomePage_button, _wait_);\n}\n\n/**\n * 自动延时关闭\n * @param delay VLOOK Query 调校参数指定的延时自动关闭秒数\n */\nfunction WelcomePage_autoClose(delay) {\n    let delaySecs = (delay >= 0 ? delay : JS_parseInt(V_util_getVarVal(\"--v-ws-delay\"))),\n        closeTimer = null;\n\n    __timeToClose();\n\n    // 关闭倒计时\n    function __timeToClose() {\n        WelcomePage_updateCloseButton(delaySecs);\n        delaySecs--;\n        if (delaySecs < 0) { // 倒计时结束\n            clearTimeout(closeTimer);\n            closeTimer = null;\n            WelcomePage_close();\n        }\n        else\n            closeTimer = setTimeout(__timeToClose, 1000);\n    }\n}\n\n/**\n * 更新关闭按钮\n * @param sec 显示倒计时的秒数\n */\nfunction WelcomePage_updateCloseButton(sec) {\n    WelcomePage_button.hm([\n        \"开始阅览\",\n        \"Start Reading\"\n    ][V_lang_id]\n        + (sec == null ? _ : ___ + V_ui_span(_, _, \"(\" + sec + \"s)\")));\n}\n\n/**\n * 停止加载时的呼吸动画\n */\nfunction WelcomePage_stopAni() {\n    WelcomePage_tips.c(_animation_, _none_);\n}\n\n/**\n * 关闭欢迎页\n */\nfunction WelcomePage_close() {\n    WelcomePage_ui.hide();\n    V_doc_scroll_unfreeze();\n}\n\n/**\n * 处理热键操作\n * @param code 非功能键键\n * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n * @param event 事件对象\n */\nfunction WelcomePage_disposeHotkey(code, combKeys, event) {\n    if (!WelcomePage_finished || WelcomePage_ui.isHidden())\n        return;\n\n    let handled = false;\n    switch (code) {\n        case 13: // ENTER\n            // 关闭欢迎页\n            WelcomePage_close();\n            handled = true;\n            break;\n    }\n\n    // 如果事件已处理，则禁止双重操作\n    if (handled)\n        event.preventDefault();\n}\n\n// ==================== 内容助手类 ==================== //\n\nlet ContentAssistor_ui = gUndefined,\n    ContentAssistor_btns_openInFigureNav = gUndefined, // 插图浏览器中打开\n    ContentAssistor_btns_copyContent = gUndefined, // 复制内容\n    ContentAssistor_btns_tableCross = gUndefined, // 表格阅读模式（十字光标）\n    ContentAssistor_btns_tableWrap = gUndefined, // 表格自动换行\n    ContentAssistor_btns_picInPic = gUndefined, // 「画中画」\n    ContentAssistor_copyAsMarkdown = gFalse, // 复制模式\n    // 最后显示新标签打开按钮的内容（插图/表格等\n    ContentAssistor_lastTarget = gUndefined, // 用于代码、标签、徽章\n    ContentAssistor_lastHover = gUndefined,\n    ContentAssistor_lastContentType = gUndefined;\n\nfunction ContentAssistor_init() {\n    ContentAssistor_ui = $(\".v-content-assistor\");\n    ContentAssistor_btns_copyContent = $(_vBtn_Assistor_ + \".copy\"); // 复制内容\n    ContentAssistor_btns_openInFigureNav = $(_vBtn_Assistor_ + \".open-in-figure-nav\"); // 插图浏览器中打开\n    ContentAssistor_btns_tableCross = $(_vBtn_Assistor_ + \".table-cross\"); // 表格阅读模式（十字光标）\n    ContentAssistor_btns_tableWrap = $(_vBtn_Assistor_ + \".table-wrap\"); // 表格自动换行\n    ContentAssistor_btns_picInPic = $(_vBtn_Assistor_ + \".pic-in-pic\"); // 「画中画」\n\n    ContentAssistor_btns_openInFigureNav.a(_dataTips_, [\n        \"全屏显示\",\n        \"Full screen\"\n    ][V_lang_id]);\n\n    ContentAssistor_btns_tableCross.a(_dataTips_, [\n        \"阅读模式\",\n        \"Reading mode\"\n    ][V_lang_id]);\n\n    ContentAssistor_btns_tableWrap.a(_dataTips_,  [\n        \"自动换行 / 不换行\",\n        \"Wrap / Unwrap\"\n    ][V_lang_id]);\n\n    ContentAssistor_btns_picInPic.a(_dataTips_, [\n        \"画中画\",\n        \"Picture in picture\"\n    ][V_lang_id]);\n\n    ContentAssistor_ui.on(_mouseLeave_, function (event) {\n        if (!v_ui_mouseDropIn(ContentAssistor_lastHover, event))\n            ContentAssistor_hide();\n    });\n\n    /**\n     * 初始化内容助手\n     */\n    // 在插图浏览器中打开\n    ContentAssistor_btns_openInFigureNav.uC().ck(function () {\n        ContentAssistor_hide();\n        iFigNav.show(ContentAssistor_lastHover);\n    });\n\n    //  开/关表格阅读模式（十字光标）\n    ContentAssistor_btns_tableCross.uC().ck(function () {\n        TableCross_toggle(ContentAssistor_lastHover);\n    });\n\n    //  开/关表格自动换行\n    ContentAssistor_btns_tableWrap.uC().ck(function () {\n        TableWrap_toggle(ContentAssistor_lastHover);\n    });\n\n    ContentAssistor_btns_copyContent.uC().ck(function (event) {\n        __actionCopy($(this), event);\n    });\n\n    // 画中画\n    ContentAssistor_btns_picInPic.uC().ck(function () {\n        PicInPic_show(ContentAssistor_lastHover);\n    });\n\n    ToolTips_bind(ContentAssistor_btns_copyContent);\n    ToolTips_bind(ContentAssistor_btns_openInFigureNav);\n    ToolTips_bind(ContentAssistor_btns_tableCross);\n    ToolTips_bind(ContentAssistor_btns_tableWrap);\n    ToolTips_bind(ContentAssistor_btns_picInPic);\n\n    function __actionCopy(target, event) {\n        if (ContentAssistor_lastHover === gUndefined)\n            return;\n\n        if (ContentAssistor_lastContentType === _codeblock_)\n            ExtCodeBlock_copyContent(target, event);\n        else if (ContentAssistor_lastContentType === _fig_ + _suffixImg_)\n            ExtFigure_copySrc(target, event);\n        else if (ContentAssistor_lastContentType === _table_)\n            ExtTable_copyContent(target, event);\n    }\n}\n\n/**\n * 切换「复制」模式\n * @param mode false: 普通，true: 复制为 Markdown\n */\nfunction ContentAssistor_toggleCopyMode(mode) {\n    ContentAssistor_copyAsMarkdown = mode;\n    if (ContentAssistor_copyAsMarkdown) {\n        // 切换复制光标、内容助手的复制图标\n        V_util_setVarVal(\"--cur-copy\", V_util_getVarVal(\"--cur-copy-as-md\"));\n        ContentAssistor_btns_copyContent.hm(V_ui_svgIcon(_icoCopyAsMd_, 16, 16, _light_));\n    }\n    else {\n        // 恢复复制光标、内容助手的复制图标\n        V_util_setVarVal(\"--cur-copy\", V_util_getVarVal(\"--cur-copy-normal\"));\n        ContentAssistor_btns_copyContent.hm(V_ui_svgIcon(_icoCopy_, 16, 16, _light_));\n    }\n}\n\n/**\n * 绑定对象的 hover 行为\n * @param target 目标对象\n * @param contentType 内容类型：Figure/Table/CodeBlock\n */\nfunction ContentAssistor_bind(target, contentType) {\n    // 鼠标悬停时事件处理\n    target.hover(function () {\n        V_ui_removeAnimate(ContentAssistor_ui);\n\n        // 更新复制模式\n        if (ContentAssistor_lastHover !== target)\n            ContentAssistor_toggleCopyMode(gFalse);\n\n        ContentAssistor_lastHover = target;\n        ContentAssistor_lastContentType = contentType;\n\n        let asMarkdown =  \"\\n\" + V_ui_sub(_, _, [\n            \"按住\",\n            \"Hold\"\n            ][V_lang_id]\n            + _2nbsp_+ V_ui_getAltKeyUI() + [\n                _2nbsp_ +\"- 复制为 Markdown\",\n                _2nbsp_ +\"- Copy as Markdown\"\n                ][V_lang_id]);\n        if (contentType === _codeblock_) {\n            ContentAssistor_btns_copyContent.a(_dataTips_, [\n                \"复制全部代码\",\n                \"Copy code\"\n            ][V_lang_id] + asMarkdown);\n        }\n        else if (contentType === _fig_ + _suffixImg_) {\n            ContentAssistor_btns_copyContent.a(_dataTips_, [\n                \"复制图片地址\",\n                \"Copy Image Link\"\n            ][V_lang_id] + asMarkdown);\n        }\n        else if (contentType === _table_) {\n            ContentAssistor_btns_copyContent.a(_dataTips_, [\n                \"复制表格内容\",\n                \"Copy Table Content\"\n            ][V_lang_id] + asMarkdown);\n        }\n\n        ContentAssistor_show();\n    }, function (event) {\n        if (!v_ui_mouseDropIn(ContentAssistor_lastHover, event))\n            ContentAssistor_hide();\n    });\n}\n\n/**\n * 显示指定内容的内容助手\n */\nfunction ContentAssistor_show() {\n    if (ContentAssistor_lastHover === gUndefined)\n        return;\n\n    // 圆角重置样式\n    JQ_removeClass(ContentAssistor_btns_copyContent, _first__enable__last_);\n    JQ_removeClass(ContentAssistor_btns_openInFigureNav, _first__enable__last_);\n    JQ_removeClass(ContentAssistor_btns_tableCross, _first__enable__last_);\n    JQ_removeClass(ContentAssistor_btns_tableWrap, _first__enable__last_);\n    JQ_removeClass(ContentAssistor_btns_picInPic, _first__enable__last_);\n\n    // 插图\n    if (ContentAssistor_lastContentType.sW(_fig_)) {\n        // 图片插图\n        if (ContentAssistor_lastContentType.eW(_svg_)) {\n            JQ_addClass(ContentAssistor_btns_copyContent, _enabled__first_);\n            JQ_addClass(ContentAssistor_btns_openInFigureNav, _enabled_);\n        }\n        // 非图片插图\n        else\n            JQ_addClass(ContentAssistor_btns_openInFigureNav, _enabled__first_);\n        // 画中画\n        JQ_addClass(ContentAssistor_btns_picInPic, _enabled__last_);\n    }\n    // 表格\n    else if (ContentAssistor_lastContentType === _table_) {\n        // 复制\n        JQ_addClass(ContentAssistor_btns_copyContent, _enabled__first_);\n        // 阅读模式\n        JQ_addClass(ContentAssistor_btns_tableCross, _enabled_);\n        if (ContentAssistor_lastHover.a(_dataTblX_) === _true_)\n            JQ_addClass(ContentAssistor_btns_tableCross, _selected_);\n        else\n            JQ_removeClass(ContentAssistor_btns_tableCross, _selected_);\n        // 自动换行\n        JQ_addClass(ContentAssistor_btns_tableWrap, _enabled_);\n        if (ContentAssistor_lastHover.c(_whiteSpace_) === _preWrap_)\n            JQ_addClass(ContentAssistor_btns_tableWrap, _selected_);\n        else\n            JQ_removeClass(ContentAssistor_btns_tableWrap, _selected_);\n        // 画中画\n        JQ_addClass(ContentAssistor_btns_picInPic, _enabled__last_);\n    }\n    // 代码块\n    else if (ContentAssistor_lastContentType === _codeblock_) {\n        // 复制\n        JQ_addClass(ContentAssistor_btns_copyContent, _enabled__first_);\n        // 画中画\n        JQ_addClass(ContentAssistor_btns_picInPic, _enabled__last_);\n    }\n\n    // ----------------------------------------\n    // 计算助手显示的位置\n    let caption = ContentAssistor_lastHover.p(),\n        className = caption.a(_class_),\n        container = caption.p(),\n        offset = 0;\n    // 对于存在横向滚动的情况时，须计算其偏移量用来位置调整\n    if (className !== gUndefined && className.i(\"v-caption\") > -1\n        && container !== gUndefined) {\n            className = container.a(_class_);\n            if (className !== gUndefined && className.i(_vCaptionContainer_) > -1) {\n                let capWidth = JS_parseInt(caption.w()),\n                    conWidth = JS_parseInt(container.w());\n                if (capWidth > conWidth)\n                    offset = capWidth - conWidth + 1;\n            }\n    }\n    // 显示\n    ContentAssistor_ui.c(_left_, ContentAssistor_lastHover.oL()\n            + ContentAssistor_lastHover.w()\n            + JS_parseInt(ContentAssistor_lastHover.c(_borderLeftWidth_))\n            - ContentAssistor_ui.w()\n            + JS_parseInt(ContentAssistor_lastHover.c(_paddingLeft_))\n            + JS_parseInt(ContentAssistor_lastHover.c(_paddingRight_))\n            - offset)\n        .c(_top_, ContentAssistor_lastHover.oT()\n            + JS_parseInt(ContentAssistor_lastHover.c(_borderTopWidth_)));\n\n    // 须延时后再执行显示，让以上代码先完成\n    setTimeout(function () {\n        V_ui_addAnimate(ContentAssistor_ui);\n        V_ui_show(ContentAssistor_ui);\n    }, 50);\n}\n\n/**\n * 隐藏内容辅助动作按钮\n */\nfunction ContentAssistor_hide() {\n    V_ui_hide(ContentAssistor_ui);\n}\n\n// ==================== 画中画类 ==================== //\n\nlet PicInPic_ui_body = gUndefined,\n    PicInPic_ui_content = gUndefined,\n    PicInPic_ui_zoom = gUndefined,\n    PicInPic_ui_close = gUndefined;\n\nlet PicInPic_ratio = 0.75;\n\nlet PicInPic_size_width = 0,\n    PicInPic_size_height = 0;\n\n/**\n * 初始化画中画\n */\nfunction PicInPic_init() {\n    PicInPic_ui_body = $(\".v-pic-in-pic\");\n    PicInPic_ui_content = PicInPic_ui_body.ch(\".v-content\");\n    PicInPic_ui_zoom = $(_vPipBtn_ + \".zoom\");\n    PicInPic_ui_close = $(_vPipBtn_ + \".close\");\n\n    // 缩放事件处理\n    PicInPic_ui_zoom.uC().ck(function () {\n        let _t = $(this),\n            pipBtn = $(_vPipBtn_);\n        if (PicInPic_ratio === 1) {\n            PicInPic_ratio = 0.75;\n            JQ_exchangeClass(pipBtn, \"zoom-in\", \"zoom-out\");\n            _t.hm(V_ui_svgIcon(_icoZoomIn_, 16, 16, _theme_));\n        }\n        else {\n            PicInPic_ratio = 1;\n            JQ_exchangeClass(pipBtn, \"zoom-out\", \"zoom-in\");\n            _t.hm(V_ui_svgIcon(_icoZoomOut_, 16, 16, _theme_));\n        }\n        PicInPic_zoom();\n    });\n\n    PicInPic_ui_close.uC().ck(function () {\n        PicInPic_hide();\n    });\n\n    PicInPic_ui_body.hover(function () {\n        // 高度过小时调整操作按钮位置\n        if (PicInPic_ui_body.h() < 30) {\n            JQ_addClass(PicInPic_ui_zoom, _min_);\n            JQ_addClass(PicInPic_ui_close, _min_);\n        }\n        else {\n            JQ_removeClass(PicInPic_ui_zoom, _min_);\n            JQ_removeClass(PicInPic_ui_close, _min_);\n        }\n        V_ui_show(PicInPic_ui_zoom);\n        V_ui_show(PicInPic_ui_close);\n    }, function () {\n        V_ui_hide(PicInPic_ui_zoom);\n        V_ui_hide(PicInPic_ui_close);\n    });\n}\n\n/**\n * 显示画中画\n * @param source 显示内容的来源对象\n */\nfunction PicInPic_show(source) {\n    PicInPic_calcSize();\n\n    // 清空原有内容（除关闭按钮）\n    PicInPic_ui_content.empty();\n\n    // 为画中画进行克隆处理\n    let pic = __cloneForPicInPic(source);\n\n    // 缩放并显示\n    PicInPic_zoom();\n    PicInPic_ui_body.show();\n\n    // 根据内容调整画中画的展示\n    PicInPic_fitContentSize(pic);\n    PicInPic_ui_content.scrollTop(0);\n\n    /**\n     * 为画中画进行克隆处理\n     * @param source 源对象\n     */\n    function __cloneForPicInPic (source) {\n        let openAll = gFalse,\n            tagName = V_util_getTagName(source);\n        // 针对表格的处理\n        if (tagName === _table_) {\n            // 1. 先展开所有行分组\n            openAll = RowGroup_openAll(source, _auto_);\n            // 2. 先展开长内容\n            let container = source.p().p();\n            if (container.a(_dataContentFolded_) === _true_)\n                ContentFolder_expand(container.n());\n        }\n\n        // 将来源对象的内容进行克隆\n        let newClone = source.clone();\n        newClone.c(_margin_, 0)\n            .c(_border_, 0);\n        PicInPic_ui_content.ap(newClone);\n\n        // 针对插图的处理\n        let img = (tagName === _svg_),\n            svg = tagName === _svg_;\n        if (img || svg) {\n            JQ_removeAttr(newClone, _dataFigNum_);\n            if (svg)\n                JQ_addClass(newClone, _vMermaidRestyler_);\n        }\n\n        // 对展开了所有行分组的表格进行克隆后的干净处理\n        if (openAll) {\n            RowGroup_reset(newClone); // 重置、切断\n            RowGroup_closeAll(source, _auto_); // 全部收起\n        }\n\n        return newClone;\n    }\n}\n\n/**\n * 隐藏画中画\n */\nfunction PicInPic_hide() {\n    PicInPic_ui_body.hide();\n}\n\n/**\n * 计算画中画建议的基准尺寸\n */\nfunction PicInPic_calcSize() {\n    // 计算基准大小\n    let baseW = 550,\n        baseH = 350,\n        w = $(window).w() / 2.5,\n        h = $(window).h() / 3;\n    PicInPic_size_width = w < baseW ? baseW : w;\n    PicInPic_size_height = h < baseH ? baseH : h;\n    PicInPic_ui_body.c(_width_, PicInPic_size_width)\n        .c(_height_, PicInPic_size_height);\n}\n\n/**\n * 调整画中画的基准大小，以适应内容的实际大小\n */\nfunction PicInPic_fitContentSize(source) {\n    // 宽度\n    let tagName = V_util_getTagName(source),\n        w = source.w(),\n        h = source.h(),\n        sourcePadding = JS_parseInt(source.c(_paddingTop_)) * 2,\n        uiPadding = JS_parseInt(PicInPic_ui_body.c(_paddingTop_)) * 2;\n\n    // 针对图片尺寸的兼容性处理（部分浏览器不使用该处理尺寸不正常，如：Firefox）\n    if (tagName === _svg_) {\n        let img = new Image();\n        img.src = source.a(_src_);\n        if (img.complete)\n            __getImgSize(img);\n        else\n            img.onload = function () {\n                __getImgSize(img);\n            }\n    }\n\n    // 宽度\n    let wWithPadding = w + sourcePadding;\n    if (w > 0 && wWithPadding < PicInPic_size_width) {\n        PicInPic_size_width = w;\n        PicInPic_ui_body.c(_width_, wWithPadding)\n            .c(_transformOrigin_, PicInPic_size_width + \"px \" + PicInPic_size_height + \"px\");\n    }\n\n    // 高度\n    h = source.h(); // 重新获得画中画最新高度\n    let hWithPadding = h + uiPadding + sourcePadding;\n    if (h > 0 && hWithPadding < PicInPic_size_height) {\n        // 针对会进行等比缩放的对象进行高度微调\n        if ((tagName === _svg_ || tagName === _svg_)\n            && h > source.h()) {\n                h = source.h();\n                hWithPadding = h + uiPadding + sourcePadding;\n        }\n        PicInPic_size_height = h;\n        PicInPic_ui_body.c(_height_, hWithPadding)\n            .c(_transformOrigin_, PicInPic_size_width + \"px \" + PicInPic_size_height + \"px\");\n    }\n\n    /**\n     * 获得 img 对象的实际长宽\n     * @param img img 对象\n     */\n    function __getImgSize(img) {\n        w = img.width;\n        h = img.height;\n    }\n}\n\n/**\n * 放大、缩放显示\n */\nfunction PicInPic_zoom() {\n    V_ui_removeAnimate(PicInPic_ui_zoom);\n    V_ui_removeAnimate(PicInPic_ui_close);\n\n    PicInPic_ui_body.c(_transform_, \"scale(\" + PicInPic_ratio + \")\")\n        .c(_transformOrigin_, PicInPic_size_width + \"px \" + PicInPic_size_height + \"px\");\n\n    setTimeout(function () {\n        V_ui_addAnimate(PicInPic_ui_zoom);\n        V_ui_addAnimate(PicInPic_ui_close);\n    }, 50);\n}\n\n// ==================== 聚光灯类 ==================== //\n\n/**\n * 构造函数\n * @param radius 半径大小\n * @param tips 操作提示栏对象\n */\nfunction Spotlight(radius, tips) {\n    let T = this;\n    T.ui = $(\".v-spotlight\");\n    T.radius = radius; // 聚光灯半径\n    T.tips = tips;\n    T.zoom = {\n        normal: radius, // 标准大半径\n        bigger: radius * 1.4, // 放大的半径\n    };\n    T.lastPos = {\n        x : -1,\n        y : -1\n    };\n\n    T.toolbar = gUndefined; // 联动的工具栏\n\n    /**\n     * 切换聚光灯的不同大小\n     */\n    T.toggleZoom = function () {\n        if (T.ui.isHidden())\n            return;\n\n        T.radius = T.radius < T.zoom.bigger\n            ? T.zoom.bigger\n            : T.zoom.normal;\n\n        T.repaint();\n    }\n\n    /**\n     * 使用聚光灯模式\n     */\n    T.show = function () {\n        JQ_removeClass(T.toolbar.btns[_laserPointer_], _selected_);\n        JQ_addClass(T.toolbar.btns[_spotlight_], _selected_);\n\n        // Dark Mode 时先添加微调的样式\n        if (ColorScheme.scheme === _dark_)\n            JQ_addClass(VOM_doc(), _vSpotlightInDark_);\n\n        T.mode = \"S\";\n        T.ui.show();\n        JQ_removeClass($(T.pointerScope), _vCursorLaser_);\n        T.repaint();\n\n        let key1 = V_ui_wrap_kbd(\"⇧ Shift\") + _2nbsp_,\n            key2 = _2nbsp_ + _2nbsp_ +\"-\" + _2nbsp_ + _2nbsp_ + V_ui_wrap_kbd(\"ESC\") + _2nbsp_;\n        T.tips.show([\n            key1 + \"调整聚光灯大小\" + key2 + \"退出\",\n            key1 + \"Adjust the size of the spotlight\" + key2 + \"Exit\"\n        ][V_lang_id]);\n    }\n\n    /**\n     * 刷新聚光灯的显示\n     * @param event window.event 鼠标事件对象\n     */\n    T.repaint = function (event) {\n        // 记录鼠标最新位置，避免通过快捷键显示时无法在鼠标位置正常渲染\n        if (event !== gUndefined) {\n            if (event.clientX !== gUndefined)\n                T.lastPos.x = event.clientX;\n            if (event.clientY !== gUndefined)\n                T.lastPos.y = event.clientY;\n        }\n\n        // 未启用则跳过\n        if (!T.isEnabled())\n            return;\n\n        // 聚光灯模式\n        T.ui.c(_background_, \"radial-gradient(circle at \"\n            + T.lastPos.x + \"px \" + T.lastPos.y + \"px, \"\n            + \"transparent \" + T.radius + \"px, \"\n            + \"rgba(0, 0, 0, 0.4)\" + (T.radius + 5) + \"px, rgba(0, 0, 0, 0.9) 900px)\");\n    }\n\n    /**\n     * 是否已显示\n     */\n    T.isEnabled = function () {\n        return T.ui.isShowed();\n    }\n\n    /**\n     * 切换聚光灯的开关\n     */\n    T.tg = function () {\n        // 已打开，则关闭\n        if (T.isEnabled()) {\n            T.hide();\n        }\n        // 未打开，则打开\n        else {\n            T.show();\n            return gTrue;\n        }\n        return gFalse;\n    }\n\n    /**\n     * 隐藏聚光灯\n     */\n    T.hide = function () {\n        MoreDocContent_refresh();\n        T.tips.hide();\n        JQ_removeClass(T.toolbar.btns[_spotlight_], _selected_);\n        JQ_removeClass(VOM_doc(), _vSpotlightInDark_);\n        T.ui.hide();\n    }\n\n    /**\n     * 处理热键操作\n     * @param code 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (code, combKeys, event) {\n        if (V_doc_block)\n            return;\n\n        let handled = false;\n        switch (code) {\n            case 16: // Shift\n                T.toggleZoom();\n                handled = true;\n                break;\n            case 27: // ESC\n                if (T.isEnabled()) {\n                    T.hide();\n                    handled = true;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n    }\n}\n\n// ==================== 激光笔类 ==================== //\n\n/**\n * 构造函数\n * @param tips 操作提示栏对象\n */\n function LaserPointer(tips) {\n    let T = this;\n    T.tips = tips;\n    T.toolbar = gUndefined; // 联动的工具栏\n\n    T.enable = gFalse;\n\n    // 激光笔模式时鼠标形状影响的范围\n    T.pointerScope = \"body *\";\n\n    /**\n     * 使用激光笔\n     */\n    T.show = function () {\n        JQ_removeClass(T.toolbar.btns[_spotlight_], _selected_);\n        JQ_addClass(T.toolbar.btns[_laserPointer_], _selected_);\n\n        T.enable = gTrue;\n        JQ_addClass($(T.pointerScope), _vCursorLaser_);\n\n        T.tips.show(V_ui_wrap_kbd(\"ESC\") + _2nbsp_ + [\n            \"退出\",\n            \"Exit\"\n        ][V_lang_id]);\n    }\n\n    /**\n     * 是否已显示\n     */\n    T.isEnabled = function () {\n        return T.enable;\n    }\n\n    /**\n     * 切换激活笔开关\n     */\n    T.tg = function () {\n        // 已打开，则关闭\n        if (T.isEnabled()) {\n            T.hide();\n        }\n        // 未打开，则打开\n        else {\n            T.show();\n            return gTrue;\n        }\n        return gFalse;\n    }\n\n    /**\n     * 隐藏激活笔\n     */\n    T.hide = function () {\n        MoreDocContent_refresh();\n        T.tips.hide();\n        T.enable = gFalse;\n        JQ_removeClass(T.toolbar.btns[_laserPointer_], _selected_);\n        JQ_removeClass($(T.pointerScope), _vCursorLaser_);\n    }\n\n    /**\n     * 处理热键操作\n     * @param code 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (code, combKeys, event) {\n        if (V_doc_block)\n            return;\n\n        let handled = false;\n        switch (code) {\n            case 27: // ESC\n                if (T.isEnabled()) {\n                    T.hide();\n                    handled = true;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n    }\n}\n\n// ==================== 分段控制器类 ==================== //\n\n/**\n * @param control 控件 UI 对象\n * @param group 分段控制器分组标识\n */\nfunction SegmentControl(control, group) {\n    let T = this;\n    T.ui = control;\n    T.group = group;\n\n    T.last = gUndefined;\n    T.segs = [];\n    T.segCnt = 0;\n\n    T.ui.ap(V_ui_span(\"v-segment-indicator\"));\n    // T.ui.ap('<span class=\"v-segment-indicator\"></span>');\n    T.indicator = T.ui.ch(\".v-segment-indicator\"); // 当前选中分段的滑块\n\n    /**\n     * 添加分段\n     * @param target 分段对应的组件\n     * @param icon 分段使用的图标标识\n     * @param checked 是否为默认选中\n     * @param status 默认状态\n     */\n    T.add = function (target, icon, checked, status) {\n        let name = target.typeName();\n        T.segCnt++;\n        T.segs[name] = target;\n\n        // 新增段的 UI\n        let id = T.group + \"-\" + name,\n            ui = V_ui_input(id, T.group, \"radio\", name, 'onfocus=\"this.blur()\"' + (status ? ' ' : ' ' + _dataResult_ + '=\"' + _none_ + '\"' + (checked ? ' checked' : '')))\n                + V_ui_label(_vSegmentBtn_ + ___ + name, V_attr(\"for\", id) + ___ + V_attr(_dataIcon_, icon),\n                    V_ui_svgIcon(icon, 16, 16, _dark_)\n                );\n\n        T.ui.ap(ui);\n        target.ui.entry = T.ui.ch(\".\" + _vSegmentBtn_ + \".\" + name);\n\n        // 指定为默认选项\n        if (checked) {\n            T.last = target;\n            __updateIcon(gTrue);\n        }\n\n        // 为新添加的段绑定事件\n        T.ui.f(_input_ + \"#\" + id).change(function () {\n            // 隐藏切换前选择的组件\n            T.last.hide();\n            __updateIcon(gFalse);\n            // 显示最新选择的组件\n            T.last = T.segs[$(this).val()];\n            __updateIcon(gTrue);\n\n            T.last.show();\n            T.update();\n        });\n\n        return T.segs[name];\n\n        /**\n         * 更新分段的图标\n         *\n         * @param checked 是否为选择状态\n         */\n        function __updateIcon(checked) {\n            T.last.ui.entry.hm(V_ui_svgIcon(T.last.ui.entry.a(_dataIcon_)\n                + (checked ? __checked_ : _) , 16, 16, _dark_));\n        }\n    }\n\n    /**\n     * 获得当前选中的分段\n     * @returns string 当前选中的分段\n     */\n    T.checkedItem = function () {\n        return T.ui.f(_input_ + V_attrX(_name_, T.group) + \":\" + _checked_).val();\n    }\n\n    /**\n     * 获得、设置指定分段的状态\n     * @returns 无 value 时，返回指定分段的状态\n     */\n    T.sts = function (target, value) {\n        let id = T.group + \"-\" + target.typeName();\n        if (value === gUndefined) {\n            return T.ui.f(_input_ + V_attrX(_id_, id)).a(_dataResult_);\n        }\n\n        if (value) {\n            JQ_removeAttr(T.ui.f(_input_ + V_attrX(_id_, id)), _dataResult_);\n        }\n        else {\n            T.ui.f(_input_ + V_attrX(_id_, id)).a(_dataResult_, _none_);\n        }\n    }\n\n    /**\n     * 更新分段控制器界面\n     */\n    T.update = function () {\n        // 更新各分段 UI 大小、间隔等\n        let space = 2,\n            spacePercent = (space * (T.segCnt - 1)) / T.ui.w() * 100,\n            width = (100 - spacePercent) / T.segCnt;\n        T.ui.ch(\".\" + _vSegmentBtn_).c(_margin_, \"0 0 0 \" + space + \"px\")\n            .c(_width_, width + \"%\");\n        // 修正第一个\n        T.ui.ch(\".\" + _vSegmentBtn_ + _first_).c(_margin_, 0);\n\n        // 更新当前选择分段相关 UI\n        if (T.last === gUndefined)\n            return;\n        let target = T.last.ui.entry;\n        T.indicator.c(_left_, target.pos().left + JS_parseInt(target.c(_marginLeft_)))\n            .c(_width_, target.w());\n    }\n}\n\n// ==================== 导航中心类 ==================== //\n\n/**\n * 构造函数\n * @param mask 遮罩对象\n * @param runMode 关闭模式\n */\nfunction NavCenter(mask, runMode = _auto_) {\n    let T = this;\n    T.ui = $(\".v-nav-center\"); // 导航中心主界面\n    T.handle = $(\".v-toc-handle\"); // 导航中心引导把手\n\n    // 关键字搜索\n    T.__keywordBody = $(\".v-serch-by-keyword\");\n    T.keyword = new TextField(T.__keywordBody, \"toc-filter-nav-center\", gTrue);\n\n    T.runMode = (runMode === gUndefined) ? _auto_ : runMode; // 导航中心运行方式\n    T.lastDisplayType = _float_; // 最后一次的显示方式（float/block）\n    T.showed = gFalse; // 是否已显示\n\n    T.width = T.ui.w(); // 导航中心宽度\n\n    T.chpNav = gUndefined; // 联动的章节导航栏\n    T.toolbar = gUndefined; // 联动的工具栏\n\n    T.snapTimer = null; // 鼠标在边缘悬停计时器\n\n    // 索引内容分类选择\n    T.segs = new SegmentControl($(\".v-segment.toc\"), \"toc-segment\");\n    TocIndex_segments = T.segs;\n\n    // 目录索引组件\n    T.catalog = T.segs.add(new TocCatalog(this, gFalse), _icoTocTabCatalog_, gTrue, gFalse);\n    // 插图索引组件\n    T.figure = T.segs.add(new TocFigure(this, gTrue), _icoTocTabFigure_, gFalse, gFalse);\n    // 表格索引组件\n    T.table = T.segs.add(new TocTable(this, gTrue), _icoTocTabTable_, gFalse, gFalse);\n    // 多媒体索引组件\n    T.media = T.segs.add(new TocMedia(this, gTrue), _icoTocTabMedia_, gFalse, gFalse);\n    // 代码块索引组件\n    T.codeblock = T.segs.add(new TocCodeblock(this, gTrue), _icoTocTabCodeblock_, gFalse, gFalse);\n    // 访问历史组件\n    T.history = T.segs.add(new TocHistory(this, gTrue), _icoTocTabHistory_, gFalse, gFalse);\n\n    // 遮罩\n    T.mask = mask;\n    T.mask.bindPartner(this, T.ui);\n\n    T.segs.update();\n\n    V_ui_addAnimate(T.handle);\n\n    /**\n     * 当前章节变化事件\n     */\n    T.catalog.onChapterChanged = function () {\n        // 更新逐章导航内容\n        if (T.chpNav !== gUndefined)\n            T.chpNav.update();\n    }\n\n    // 关键字输入组件属性设置\n    T.keyword.setIcon(V_ui_svgIcon(_icoRetrieval_, 16, 16, _alpha_));\n\n    let cmdKey = _;\n    T.keyword.placeholder([\n        \"按下 [\" + cmdKey + \"／] 进行搜索\",\n        \"Type [\" + cmdKey + \"／] to search\"\n    ][V_lang_id]);\n\n    // 绑定输入框事件处理\n    T.keyword.onInput = function (source, value) {\n        T.catalog.resultNav.reset();\n        T.figure.resultNav.reset();\n        T.table.resultNav.reset();\n        T.table.resultNav.reset();\n        T.media.resultNav.reset();\n        T.codeblock.resultNav.reset();\n\n        if (value.x().length === 0) {\n            // 目录\n            T.catalog.ui.result.empty();\n            if (T.segs.checkedItem() === T.catalog.typeName())\n               T.catalog.ui.body.show();\n            T.catalog.hideFilterResult();\n            T.catalog.scrollToCurrent();\n            T.catalog.updateStatus();\n            // 插图、表格、多媒体、代码块\n            TocIndex_noneKeyword(T.figure);\n            TocIndex_noneKeyword(T.table);\n            TocIndex_noneKeyword(T.media);\n            TocIndex_noneKeyword(T.codeblock);\n        }\n        else {\n            // 目录\n            T.catalog.filter(value.l());\n            // 插图、表格、多媒体、代码块\n            TocIndex_filter(T.figure, value.l());\n            TocIndex_filter(T.table, value.l());\n            TocIndex_filter(T.media, value.l());\n            TocIndex_filter(T.codeblock, value.l());\n        }\n    }\n\n    T.keyword.onFocus = function (source) {\n        if (T.lastDisplayType !== _float_) {\n            JQ_addClass(VOM_doc(), _actived_);\n            let search = $(\".\" + _vFocusSearch_);\n            JQ_addClass(search, _actived_);\n        }\n    }\n\n    T.keyword.onBlur = function (source) {\n        JQ_removeClass(VOM_doc(), _actived_);\n        JQ_removeClass($(\".\" + _vFocusSearch_), _actived_);\n    }\n\n    // 绑定输入框事件处理\n    T.keyword.pressEnter = function (source, value) {\n        T.keyword.input.focus();\n    }\n\n    /**\n     * 触发互动事件\n     */\n    T.onInteractive = function () {\n        T.adjustClickHash();\n    }\n\n    /**\n     * 跳转回文档封面\n     */\n    T.gotoCover = function () {\n        WINDOW_setHref(\"#\");\n        // 【有封面】模式时处理\n        if (VOM_cover() !== gUndefined) {\n            if (T.catalog.currentItem !== gUndefined) {\n                JQ_removeClass(T.catalog.currentItem, _vTocItemCurrent_);\n                T.catalog.currentHeaderIndex = -1;\n            }\n            T.adjust();\n            T.chpNav.adjust();\n            T.toolbar.adjust();\n        }\n        // 【无封面】模式时处理\n        else {\n            ToolTips_hide();\n        }\n    }\n\n    /**\n     * 适配锚点击事件\n     */\n    T.adjustClickHash = function () {\n        if (T.lastDisplayType === _float_)\n            T.hide(_auto_);\n    }\n\n    /**\n     * 显示/隐藏导航中心\n     * @param callback 显示/隐藏导航中心后执行回调函数\n     */\n    T.tg = function (callback) {\n        // 导航中心已显示\n        if (T.showed) {\n            T.hide(\"closed\");\n        }\n        // 导航中心未显示\n        else {\n            T.runMode = _auto_;\n            // 在封面，或小屏\n            if (!T.catalog.inHeader() || V_ui_isSmallScreen()) {\n                T.show(_float_);\n            }\n            // 在章节内，非小屏\n            else {\n                // 导航中心运行模式为 auto 时，自动显示导航中心\n                if (T.runMode === _auto_)\n                    T.show(_block_);\n            }\n        }\n\n        typeof(callback) === _function_ && callback();\n        T.afterToggle();\n    }\n\n    /**\n     * 显示导航中心\n     * @param lastDisplayType float: 以浮动形式显示，block: 以占位形式显示\n     * @returns boolean true: 需要处理显示，false: 已显示，无须重复处理\n     */\n    T.show = function (lastDisplayType) {\n        // 已显示，或在以动画显示过程中\n        if (V_pageMode !== \"max\" || T.showed || T.ui.oL() > -T.width) {\n            return gFalse;\n        }\n\n        T.ui.c(_left_, 20);\n        T.handle.hide();\n\n        T.lastDisplayType = lastDisplayType;\n        // 以「占位方式」显示导航中心\n        if (T.lastDisplayType === _block_) {\n            // 占位方式的样式设置\n            JQ_removeClass(T.ui, _vNavCenterFloat_);\n            JQ_removeClass(T.ui, _vFloatCard_);\n            JQ_addClass(T.ui, _vNavCenterBlock_);\n\n            // 更新工具栏导航中心按钮图标\n            if (!env.device.mobile)\n                JQ_addClass(T.toolbar.btns[_navCenter_], _selected_);\n\n            VOM_doc().c(_marginLeft_, _writeMarginLeft_);\n\n            // 因为从切换为占位显示后，会影响文档内容布局，所以须调整随大小变化的内容\n            if (!T.showed) {\n                setTimeout(function () {\n                    // 重定位至当前锚点\n                    V_util_redirectTo();\n                    // 统一同组的分栏引用块的高度\n                    ExtQuote_uniteColumnsHeight();\n                }, 300);\n            }\n        }\n        // 以「浮动方式」显示导航中心\n        else if (T.lastDisplayType === _float_) {\n            // 浮动方式的样式设置\n            JQ_removeClass(T.ui, _vNavCenterBlock_);\n            JQ_addClass(T.ui, _vNavCenterFloat_);\n            JQ_addClass(T.ui, _vFloatCard_);\n\n            // 显示联动的遮罩\n            T.mask.show();\n\n            // 若文档可视空间比导航中心宽度要小，则进行微调\n            if ($(window).w() < T.width + 20)\n                T.ui.c(_width_, $(window).w() - 20);\n            // 若文档空间比导航中心宽度大，则直接显示原始大小\n            else\n                T.ui.c(_width_, T.width);\n        }\n\n        T.showed = gTrue;\n        return gTrue;\n    }\n\n    /**\n     * 隐藏导航中心\n     * @param runMode 导航中心的运行模式（auto/closed）\n     * @returns boolean true: 需要处理隐藏，false: 已显示，无须重复处理\n     */\n    T.hide = function (runMode = _auto_) {\n        // 已隐藏，或在以动画隐藏过程中\n        if (!T.showed || T.ui.oL() < 10)\n            return gFalse;\n\n        // 若最后一次显示以是「占位方式」显示\n        if (T.lastDisplayType === _block_) {\n            // 更新运行模式\n            T.runMode = runMode;\n\n            // 统一同组的分栏引用块的高度\n            ExtQuote_uniteColumnsHeight();\n\n            // 更新工具栏导航中心按钮图标\n            if (!env.device.mobile)\n                JQ_removeClass(T.toolbar.btns[_navCenter_], _selected_);\n        }\n\n        T.ui.c(_left_, V_util_getVarVal(_varNavCenterHiddenLeft_));\n\n        // 恢复不挤压文档正文区\n        VOM_doc().c(_marginLeft_, 0);\n\n        T.mask.hide();\n\n        // 非移动设备时显示把手\n        if (!env.device.mobile)\n            T.showHandle();\n\n        T.showed = gFalse;\n\n        return gTrue;\n    }\n\n    /**\n     * 导航中心根据规则进行布局的自适应处理\n     * @returns boolean true: 需要处理显示/隐藏，false: 已显示/隐藏，无须重复处理\n     */\n    T.adjust = function () {\n        let result = gFalse;\n\n        // 根据导航中心宽度更新相关界面组件的样式\n        if (T.showed && T.lastDisplayType === _block_)\n            VOM_doc().c(_marginLeft_, _writeMarginLeft_);\n\n        T.width = T.ui.w();\n\n        T.keyword.setWidth(T.width - 2 - JS_parseInt(T.__keywordBody.c(_marginLeft_)) * 2);\n\n        // 根据最新窗口大小调整宽度\n        T.segs.update();\n\n        // 在封面，或为小屏\n        if (!T.catalog.inHeader() || V_ui_isSmallScreen()) {\n            // 自动隐藏导航中心\n            result = T.hide(_auto_);\n\n            // 根据最新窗口大小调整收起位置\n            T.ui.c(_left_, V_ui_var(_varNavCenterHiddenLeft_));\n\n            // 更新工具栏导航中心按钮图标\n            if (!env.device.mobile)\n                JQ_removeClass(T.toolbar.btns[_navCenter_], _selected_);\n        }\n        // 不在封面\n        else {\n            // 导航中心运行模式为 auto 时，自动显示导航中心\n            if (T.runMode === _auto_) {\n                // 以占位方式显示导航中心\n                result = T.show(_block_);\n\n                // 根据最新窗口大小调整导航中心宽度\n                T.ui.c(_width_, _varNavCenterWidth_);\n\n                // 更新工具栏导航中心按钮图标\n                if (!env.device.mobile)\n                    JQ_addClass(T.toolbar.btns[_navCenter_], _selected_);\n            }\n        }\n        return result;\n    }\n\n    /**\n     * 显示导航中心引导把手\n     */\n    T.showHandle = function () {\n        if (V_pageMode !== \"max\")\n            return;\n\n        T.handle.c(_top_, ($(window).h() - T.handle.h()) / 2);\n        T.handle.show();\n    }\n\n    /**\n     * 鼠标位置变化对导航中心处理\n     */\n    T.snap = function (event) {\n        // 已显示则跳过\n        if (T.showed || env.device.mobile)\n            return;\n\n        // 鼠标离左边缘小于指定值时\n        if (event.clientY > 200 && event.clientY < ($(window).h() - 300) && event.clientX <= 20) {\n            if (T.snapTimer != null)\n                return;\n\n            JQ_addClass(T.handle, _hover_);\n\n            // 延时（模拟悬停一定时间）以浮动方式显示导航中心\n            T.snapTimer = setTimeout(function () {\n                JQ_removeClass(T.handle, _hover_);\n                T.show(_float_);\n            }, 1000);\n        }\n        else {\n            // 未显示导航中心前离开边缘则取消显示\n            if (T.snapTimer != null) {\n                clearTimeout(T.snapTimer);\n                T.snapTimer = null;\n                JQ_removeClass(T.handle, _hover_);\n            }\n        }\n    }\n\n    /**\n     * 显示/隐藏导航中心，并进行关联处理\n     */\n     T.afterToggle = function () {\n        if (iNavCenter.lastDisplayType === _block_)\n            ContentFolder_adjust();\n    }\n\n    /**\n     * 处理热键操作\n     * @param code 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (code, combKeys, event) {\n        // 文档库热键操作\n        T.docLib.disposeHotkey(code, combKeys, event);\n\n        if (T.ui.isHidden())\n            return;\n\n        let handled = false;\n        switch (code) {\n            case 27: // ESC\n                if (!T.keyword.inputing && T.showed && T.lastDisplayType === _float_) {\n                    T.hide();\n                    handled = true;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n    }\n}\n\n/**\n * 导航中心初始化\n */\nNavCenter.init = function () {\n    // 提取文档中由[toc]标签生成的文档目录作为浮动 outline 中的内容\n    // let toc = $(\".\" + s_MdToc);\n    // 没有生成目录\n    if (gToc.isEmpty()) {\n        NavCenter.hideOnError();\n        return gFalse;\n    }\n\n    // 有生成目录，则复制 toc 内容\n    let vlookToc = gToc.clone();\n    // 隐藏原目录\n    gToc.hide();\n    // 将复制的目录进行唯一性标识\n    vlookToc.f(\".md-toc-content\").a(_id_, _vlookToc_);\n    iNavCenter.catalog.ui.body.ap(vlookToc);\n\n    gTocContent = $(\"#\" + _vlookToc_);\n    gToc = gTocContent.p(); // 更新引用块\n    // 检查目录内容情况\n    if (gTocContent.isEmpty()) {\n        NavCenter.hideOnError();\n        return gFalse;\n    }\n\n    // 文库\n    iNavCenter.docLib = new DocLib(new BgMask(\"doc-lib\", _center_), this);\n    // 当前文档不是 mini 类型（文库类文档一般为 mini 类型）\n    if (V_pageMode !== _mini_) {\n        // 文库\n        if (iNavCenter.docLib.length === 0)\n            ALERT(_failed_ + \"iDocLib ]\");\n        else if (V_util_getParamVal(_vdl_) !== _off_) {\n            iNavCenter.docLib.init();\n        }\n    }\n    // 根据文库配置显示入口\n    if (iNavCenter.docLib.enabled)\n        iToolbar.btns[_docLib_].c(_display_, \"flex\");\n\n    // 有 Typora 生成的原始目录节点，针对 VLOOK 的封面规则进行调整\n    let tocSet = gTocContent.ch(\".md-toc-h1, .md-toc-h2, .md-toc-h3, .md-toc-h4, .md-toc-h5, .md-toc-h6\"),\n        tocSetLength = tocSet.length,\n        hasCover = (VOM_cover() !== gUndefined);\n    tocSet.e(function (i) {\n        let _t = $(this);\n        // 只处理 h1～h5 的目录节点\n        if (_t.a(_class_).i(\"md-toc-h6\") === -1) {\n            if (hasCover) { // 文档有封面时\n                if (i < tocSetLength - 1) // 未到最后一个元素\n                    iNavCenter.catalog.add(_t);\n                else // 最后一个 h1 为封底，移除\n                    JQ_remove(_t);\n            }\n            else\n                iNavCenter.catalog.add(_t);\n        }\n        // 移除无效的目录节点（如：封面、封底、普通的 h6 节点）\n        else\n            JQ_remove(_t);\n    });\n\n    // 不指定打开，则默认收起所有含子章节的 h1 章节\n    let tocAutoCloseLevel = V_util_getParamVal(\"toc\");\n    tocAutoCloseLevel = (tocAutoCloseLevel !== gUndefined) ? JS_parseInt(tocAutoCloseLevel) : 1;\n    if (tocAutoCloseLevel >= 1 && tocAutoCloseLevel <=5) {\n        gTocContent.ch(\".md-toc-h\" + tocAutoCloseLevel + V_attrX(_dataNode_, \"1\") + V_attrX(_dataFolded_, _false_)).e(function () {\n            iNavCenter.catalog.disposeFold($(this).a(_id_), \"c\", gTrue);\n        });\n    }\n\n    return gTrue;\n}\n\n/**\n * 隐藏导航中心（异常情况使用）\n */\nNavCenter.hideOnError = function () {\n    iNavCenter.hide();\n\n    ERROR([\n        \"文档中没有找到目录信息，请用Typora最新版本导出，并应用最新VLOOK插件\",\n        \"No [TOC] information was found in the document, export it with the latest version of Typora and apply the latest VLOOK plug-in.\"\n    ][V_lang_id]);\n}\n\n// ==================== 逐章导航类 ==================== //\n\n/**\n * 构造函数\n */\nfunction ChapterNav() {\n    let T = this,\n        __prev = \".\" + _vChapterNav_ + \"-prev\",\n        __current = \".\" + _vChapterNav_ + \"-current\",\n        __next = \".\" + _vChapterNav_ + \"-next\",\n        __dt = \".\" + _vChapterNav_ + \"-doc-title\";\n    // 逐章导航面板主界面\n    T.ui = $(\".\" + _vChapterNav_ + \"\");\n\n    T.prev = {\n        ui : $(__prev), // 前一章界面\n        text: $(\".\" + _vChapterNav_ + \"-prev-text\"), // 前一章文本界面\n    };\n\n    T.current = {\n        ui : $(__current), // 当前章节界面\n    };\n\n    T.next = {\n        ui : $(__next), // 后一章界面\n        text : $(\".\" + _vChapterNav_ + \"-next-text\"), // 后一章文本界面\n    };\n\n    // 文档标题\n    T.dt = $(__dt);\n    T.dt.t(V_util_getDocTitle());\n\n    if (V_pageMode !== \"max\")\n        T.ui.hide();\n\n    /**\n     * 初始化动效\n     */\n    T.adjustEffectLevel = function (target) {\n        // 因 CSS 的 transition 不变动渐变背景过渡效果，须通过增/减不同的预置样式实现过渡效果\n        if (V_ui_effect >= 1) {\n            JQ_addClass($(target), _effect_);\n            V_ui_addAnimate($(target + \".effect\"));\n        }\n        else {\n            JQ_exchangeClass($(target), _effect_, \"noeffect\");\n        }\n    }\n    // 初始化动效\n    T.adjustEffectLevel(__prev);\n    T.adjustEffectLevel(__current);\n    T.adjustEffectLevel(__next);\n    T.adjustEffectLevel(__dt);\n\n    /**\n     * 跳转至前一章节\n     */\n    T.prev.ui.uC().ck(function () {\n        ToolTips_hide();\n        if (T.prev.text.a(_dataAnchor_) === _cover_)\n            iNavCenter.gotoCover();\n        else\n            iNavCenter.catalog.gotoHeader(T.prev.text);\n    });\n\n    /**\n     * 回到封面\n     */\n    T.dt.uC().ck(function () {\n        ToolTips_hide();\n        if ($(this).a(_disabled_) === gUndefined)\n            iNavCenter.gotoCover();\n    });\n\n    /**\n     * 跳转至当前章节\n     */\n    T.current.ui.uC().ck(function () {\n        ToolTips_hide();\n        iNavCenter.catalog.gotoHeader(T.current.ui);\n    });\n\n    /**\n     * 跳转至后一章节\n     */\n    T.next.ui.uC().ck(function () {\n        ToolTips_hide();\n        iNavCenter.catalog.gotoHeader(T.next.text);\n    });\n\n    /**\n     * 更新逐章导航栏 UI 及数据\n     */\n    T.update = function () {\n        let curIdx = iNavCenter.catalog.currentHeaderIndex;\n\n        // ----------------------------------------\n        // 更新「上一章」导航内容\n        if (curIdx > 0) {\n            T.prev.ui.show();\n            T.prev.ui.c(_display_, _block_);\n            T.prev.text.t($(\"#\" + iNavCenter.catalog.h[curIdx - 1]).t());\n            T.prev.text.a(_dataAnchor_, iNavCenter.catalog.h[curIdx - 1]);\n\n            // 【无封面】模式时处理\n            if (VOM_cover() === gUndefined) {\n                JQ_removeClass(T.dt, _inStart_);\n                JQ_removeAttr(T.dt, _disabled_);\n                T.adjustEffectLevel(__dt);\n                ToolTips_bind(T.dt, _center_);\n                // __bindEvent(T.dt, s_Center);\n            }\n        }\n        // 当前章节为第 1 章时特殊处理，设置为「封面」\n        else if (iNavCenter.catalog.inFirstHeader()) {\n            T.prev.text.t([\n                \"封面\",\n                \"Cover\"\n            ][V_lang_id]);\n            T.prev.text.a(_dataAnchor_, _cover_);\n        }\n        // 「无封面」模式时对「文档标题」章节的特殊处理\n        else if (iNavCenter.catalog.inDocTitle()) {\n            T.prev.ui.hide();\n            T.current.ui.hide();\n            // 调整为在文档开始位置时的样式\n            JQ_removeClass(T.dt, \"noeffect effect hover\");\n            JQ_addClass(T.dt, _inStart_);\n            T.dt.a(_disabled_, _true_);\n            V_ui_unbindHover(T.dt);\n        }\n\n        // ----------------------------------------\n        // 更新「当前章节」导航内容\n        if (iNavCenter.catalog.currentItem !== gUndefined) {\n            // 【无封面】模式\n            if (iNavCenter.catalog.inDocTitle())\n                T.current.ui.hide();\n            else\n                T.current.ui.show();\n\n            let headerNum = iNavCenter.catalog.currentItem.a(_dataHeaderNum_);\n            if (headerNum === gUndefined)\n                headerNum = _;\n            T.current.ui.hm(V_ui_span(_, _, headerNum)\n                + iNavCenter.catalog.currentItem.a(_title_));\n            T.current.ui.a(_dataAnchor_, iNavCenter.catalog.h[curIdx]);\n        }\n\n        // ----------------------------------------\n        // 更新「下一章」导航内容\n        if (curIdx < iNavCenter.catalog.h.length - 1) {\n            T.next.ui.show();\n            T.next.text.t($(\"#\" + iNavCenter.catalog.h[curIdx + 1]).t());\n            T.next.text.a(_dataAnchor_, iNavCenter.catalog.h[curIdx + 1]);\n        }\n        else\n            T.next.ui.hide();\n    }\n\n    /**\n     * 显示逐章导航栏\n     */\n    T.show = function () {\n        // 若已显示则直接退出\n        if (V_pageMode !== \"max\" || JS_parseInt(T.ui.c(_top_)) >= 0)\n            return;\n\n        JQ_addClass(T.ui, _vFloatCard_);\n        T.ui.c(_top_, 0);\n        T.ui.show();\n    }\n\n    /**\n     * 隐藏逐章导航栏\n     */\n    T.hide = function () {\n        // 若已隐藏则直接退出\n        if (JS_parseInt(T.ui.c(_top_)) < 0)\n            return;\n\n        JQ_removeClass(T.ui, _vFloatCard_);\n        T.ui.c(_top_, -50);\n        T.ui.hide();\n    }\n\n    /**\n     * 逐章导航栏自适应显示\n     */\n    T.adjust = function () {\n        // 在封面时，隐藏逐章导航栏\n        if (!iNavCenter.catalog.inHeader()) {\n            T.hide();\n            JQ_addClass(MoreDocContent_ui_before, _cover_);\n\n            // 初始化前 / 后章节数据\n            T.prev.text.a(_dataAnchor_, _cover_);\n            T.next.text.a(_dataAnchor_, iNavCenter.catalog.h[0]);\n        }\n        // 不在封面时，显示逐章导航栏\n        else {\n            JQ_removeClass(MoreDocContent_ui_before, _cover_);\n            T.show();\n            T.update();\n        }\n    }\n\n    /**\n     * 逐章导航导航按钮在不同终端的适配处理\n     */\n    T.adjustHoverStyle = function () {\n        // 移动设备时解绑样式事件\n        if (env.device.mobile) {\n            T.prev.ui.uH();\n            T.current.ui.uH();\n            T.next.ui.uH();\n        }\n        // 非移动设备时绑定样式事件\n        else {\n            // 上一章\n            ToolTips_bind(T.prev.ui, _auto_);\n            // 文档标题\n            ToolTips_bind(T.dt, _center_);\n            // 当前章节\n            ToolTips_bind(T.current.ui, _center_);\n            // 下一章\n            ToolTips_bind(T.next.ui, _right_);\n        }\n    }\n\n    /**\n     * 处理热键操作\n     * @param code 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (code, combKeys, event) {\n        if (V_doc_block)\n            return;\n\n        let handled = false;\n        switch (code) {\n            case 188: // ,\n            case 37: // ←\n                T.prev.ui.tr(_click_);\n                // 自适应页面内容显示\n                iNavCenter.catalog.focusHeader();\n                handled = true;\n                break;\n            case 190: // .\n            case 39: // →\n                T.next.ui.tr(_click_);\n                // 强制设置滚动间隔已超时，以强制触发 focusHeader 中的处理\n                V_doc_scroll_update(0, 0);\n                // 自适应页面内容显示\n                iNavCenter.catalog.focusHeader();\n                handled = true;\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n    }\n}\n\n// ==================== 段落导航类 ==================== //\n\n/**\n * 构造函数\n * @param tips 操作提示栏对象\n */\nfunction ParagraphNav(tips) {\n    let T = this;\n    T.tips = tips;\n    T.count = 0; // 段的总数量\n    T.curIdx = -1; // 当前段索引号\n    T.enabled = gFalse; // 是否段落导航激活\n\n    T.toolbar = gUndefined; // 联动的工具栏\n\n    /**\n     * 返回当前段落\n     */\n    T.cur = function () {\n        if (T.curIdx === -1)\n            return gUndefined;\n        return $(V_attrX(_dataId_, \"vk-pg-\" + T.curIdx));\n    }\n\n    /**\n     * 切换段落导航开关\n     * @returns boolean true：开启，false：关闭\n     */\n    T.tg = function (target) {\n        T.enabled = !T.enabled;\n        if (T.enabled) {\n            JQ_addClass(T.toolbar.btns[_paragraphNav_], _selected_);\n            MoreDocContent_hideAfter();\n\n            // 显示工具底栏提示信息\n            let key1 = V_ui_wrap_kbd(\"J\") + _2nbsp_ + \"↑\" + _2nbsp_,\n                key2 = _2nbsp_ +\"-\" + _2nbsp_ + V_ui_wrap_kbd(\"K\") + _2nbsp_ + \"↓\" + _2nbsp_,\n                key3 = _2nbsp_ + _2nbsp_ +\"/\" + _2nbsp_ + _2nbsp_ + V_ui_wrap_kbd(\"ESC\") + _2nbsp_;\n            T.tips.show([\n                key1 + \"上一个段落\"\n                    + key2 + \"下一个段落\"\n                    + key3 + \"退出\",\n                key1 + \"Previous paragraph\"\n                    + key2 + \"Next paragraphs\"\n                    + key3 + \"Exit\"\n            ][V_lang_id]);\n\n            T.goto(target);\n            return gTrue;\n        }\n        else {\n            T.hide();\n        }\n        return gFalse;\n    }\n\n    /**\n     * 添加段落\n     */\n    T.add = function (item) {\n        item.a(_dataId_, \"vk-pg-\" + T.count);\n        item.a(_dataPgIdx_, T.count);\n        T.count++;\n\n        // 单击内容块处理\n        item.uC().ck(function () {\n            // 未激活段落导航模式模式\n            if (!iParagraphNav.enabled) {\n                if (ThreeClicker_tick()\n                    && iParagraphNav.tg(item)) {\n                        iSpotlight.hide();\n                        iLaserPointer.hide();\n                    }\n            }\n            else {\n                T.goto(item);\n                if (ThreeClicker_tick()) {\n                    iParagraphNav.tg(item);\n                }\n            }\n        });\n    }\n\n    /**\n     * 上一个段\n     * @param step 跳转的步长\n     * @returns boolean 跳转结果，true：成功，false：失败\n     */\n    T.prevPg = function (step) {\n        if (!T.enabled)\n            return gFalse;\n\n        T.blurFocus();\n\n        // 未到首段\n        if (T.curIdx > 0) {\n            T.curIdx = T.curIdx - step;\n\n            if (T.curIdx < 0)\n                T.curIdx = 0;\n\n            // 如果目标内容块 item 跳转失败，则再尝试上一个\n            if (!T.goto(0))\n                T.prevPg(1);\n\n            return gTrue;\n        }\n        return gFalse\n    }\n\n    /**\n     * 下一个段\n     * @param step 跳转的步长\n     * @returns boolean 跳转结果，true：成功，false：失败\n     */\n    T.nextPg = function (step) {\n        if (!T.enabled)\n            return gFalse;\n\n        T.blurFocus();\n\n        // 未到末段\n        if (T.curIdx < T.count - 1) {\n            T.curIdx = T.curIdx + step;\n\n            // 跳转 step 后修正超出最大值的情况\n            if (T.curIdx > T.count - 1)\n                T.curIdx = T.count - 1;\n\n            // 如果目标内容块 item 跳转失败，则再尝试下一个\n            if (!T.goto(0))\n                T.nextPg(1);\n\n            return gTrue;\n        }\n        return gFalse;\n    }\n\n    /**\n     * 跳到指定的内容块，或最新的_blockFocusItemIndex指定的内容块\n     * @param target 跳转的目标。0: 指定跳到上/下一个位置，非0: 指定的目标位置\n     */\n    T.goto = function (target) {\n        T.blurFocus();\n\n        // 初始化目标段\n        let item = (target === 0)\n            ? T.cur()\n            : target;\n\n        // 若目标聚焦块为空（可能是对象已在其他处理过程中被删除）、不可视等情况\n        // 则返回跳转失败\n        if (item === gUndefined || item.isHidden() || item.o() === gUndefined)\n            return gFalse;\n\n        // 添加高亮样式\n        JQ_addClass(item, _vPgCurrentItem_);\n        T.curIdx = JS_parseInt(item.a(_dataPgIdx_));\n\n        // 或目标段不在当前窗口显示区域内，则跳转到对应位置\n        let height = item.h() * 3;\n        if (item.oT() !== 0\n            && ((item.oT() - height) < $(document).scrollTop()\n            || (item.oT() + height) > ($(document).scrollTop() + $(window).h()))) {\n                DOM_html().scrollTop(item.oT() - $(window).h() / 2);\n        }\n\n        return gTrue; // 返回跳转成功\n    }\n\n    /**\n     * 让当前聚焦段其失去聚焦效果\n     */\n    T.blurFocus = function () {\n        if (T.cur() !== gUndefined)\n            JQ_removeClass(T.cur(), _vPgCurrentItem_);\n    }\n\n    /**\n     * 隐藏当前段落的高亮样式\n     */\n    T.hide = function () {\n        MoreDocContent_refresh();\n        T.tips.hide();\n        JQ_removeClass(T.toolbar.btns[_paragraphNav_], _selected_);\n        T.enabled = gFalse;\n        T.blurFocus();\n    }\n\n    /**\n     * 处理热键操作\n     * @param code 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (code, combKeys, event) {\n        if (!T.enabled)\n            return;\n\n        let handled = false;\n        switch (code) {\n            case 74: // J\n                TableCross_hide();\n                if (T.nextPg(1)) // 步长1\n                    ExtQuote_autoUnfold(); // 自动展开引用块\n                handled = true;\n                break;\n            case 75: // K\n                TableCross_hide();\n                if (T.prevPg(1)) // 步长1\n                    ExtQuote_autoUnfold(); // 自动展开引用块\n                handled = true;\n                break;\n            case 27: // ESC\n                if (T.enabled) {\n                    T.hide();\n                    handled = true;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n    }\n}\n\n/**\n * 初始化段落导航模式\n */\nParagraphNav.init = function () {\n    iParagraphNav = new ParagraphNav(new BottomTips(_paragraphNav_));\n    // 添加关联组件\n    iParagraphNav.toolbar = iToolbar;\n\n    // 先清理多余的段落标签\n    $(\"li>p:only-child\").contents().unwrap();\n\n    // 初始化\n    $(\"h1, h2, h3, h4, h5, h6, ul>li, summary, ol>li, p[class!=md-toc-content], figure, .md-diagram-panel, .MathJax_SVG_Display\").e(function () {\n        let item = $(this);\n        // 跳过不可见元素、子元素有嵌套 p 的情况，如li > p\n        if (item.is(\":\" + _visible_)\n            && (item.ch(\"p\").length === 0 || V_util_getTagName(item) === \"details\")) {\n            iParagraphNav.add(item);\n\n            // 双击内容块\n            item.on(\"dblclick\", function () {\n                // 激活三击检查\n                // 配合段落的单击事件对 ThreeClicker_tick() 的判断实现\n                ThreeClicker_active();\n            });\n        }\n    });\n}\n\n// ==================== 三击处理器 ==================== //\n\nlet ThreeClicker_activeTime = 0;\n\n/**\n * 进入激活状态（在双击事件中触发）\n */\nfunction ThreeClicker_active() {\n    ThreeClicker_activeTime = new Date().getTime();\n}\n\n/**\n * 三击触发尝试\n * @returns boolean true：成功触发三击，false：未满足触发三击\n */\nfunction ThreeClicker_tick() {\n    // 未进入激活状态\n    if (ThreeClicker_activeTime === 0)\n        return gFalse;\n\n        // 与进入激活状态时间隔小于指定时间，则满足触发三击条件\n    if (new Date().getTime() - ThreeClicker_activeTime < 300) {\n        // 取消文本选择\n        window.getSelection().removeAllRanges();\n        return gTrue;\n    }\n\n    // 超过指定时间隔音则恢复为未激活\n    ThreeClicker_activeTime = 0;\n    return gFalse;\n}\n\n// ==================== 工具栏类 ==================== //\n\n/**\n * 构造函数\n * @param chpNav 章节导航对象\n */\nfunction Toolbar(chpNav) {\n    let T = this;\n    T.ui = $(\".\" + _vToolbar_); // 工具栏主界面\n    T.btns = []; // 工具栏按钮集\n    T.chpNav = chpNav;\n\n    if (V_pageMode !== \"max\")\n        T.ui.hide();\n\n    /**\n     * 添加按钮\n     * @param name 按钮标识\n     * @param clickEvent 按钮点击事件回调函数\n     */\n    T.add = function (name, clickEvent) {\n        T.btns[name] = $(\".v-btn.\" + name);\n\n        T.btns[name].uC().ck(function () {\n            ToolTips_hide();\n            typeof(clickEvent) === _function_ && clickEvent();\n        });\n\n        // hover 事件处理\n        T.btns[name].hover(function () {\n            let _t = $(this),\n                btnGroup = _t.a(_dataBtnGroup_);\n            if (btnGroup !== gUndefined)\n                JQ_addClass($(\".v-btn-group.\" + btnGroup), _hover_);\n            ToolTips_show(_t, _auto_);\n        }, function () {\n            let btnGroup = $(this).a(_dataBtnGroup_);\n            if (btnGroup !== gUndefined)\n                JQ_removeClass($(\".v-btn-group.\" + btnGroup), _hover_);\n            ToolTips_hide();\n        });\n    }\n\n    /**\n     * 添加分隔条\n     * @param name 分隔条标识\n     */\n    T.addSpliter = function (name) {\n        T.btns[name] = $(\".v-\" + name);\n    }\n\n    /**\n     * 自适应显示工具栏\n     */\n    T.adjust = function () {\n        if (V_pageMode !== \"max\")\n            return;\n\n        // 移动端下隐藏不必要的功能入口\n        if (env.device.mobile) {\n            T.btns[_paragraphNav_].hide();\n            T.btns[_spotlight_].hide();\n            T.btns[_laserPointer_].hide();\n            T.btns[_print_].hide();\n            T.btns[_toolbarSpliter_].hide();\n        }\n\n        // 如果是小屏，或在封面\n        if (V_ui_isSmallScreen() || !iNavCenter.catalog.inHeader()) {\n            let offsetY = 0;\n            // 小屏\n            if (V_ui_isSmallScreen()) {\n                T.ui.c(_paddingLeft_, 0)\n                    .c(_paddingRight_, 0)\n                    .c(_top_, 50 + offsetY);\n            }\n\n            // 微调工具栏分隔宽度\n            T.btns[_toolbarSpliter_].c(_width_, 20);\n\n            // 调整工具栏样式\n            JQ_removeClass(T.ui, _vFloatCard_);\n            JQ_addClass(T.ui, _cover_);\n\n            // 为去掉工具栏背景的按钮添加浮动样式\n            JQ_addClass(T.ui.ch(_vBtn__BtnGroup_), _vFloatCard_);\n            JQ_addClass(T.ui.ch(_vBtn__BtnGroup_), _float_);\n\n            // 大屏，回到封面及最开始位置进行二次调整\n            if (!V_ui_isSmallScreen()\n                && !iNavCenter.catalog.inHeader()) {\n                if ($(document).scrollTop() <= 5) {\n                    T.ui.c(_paddingLeft_, 10)\n                        .c(_paddingRight_, 10)\n                        .c(_top_, 10);\n                }\n                else {\n                    T.ui.c(_paddingLeft_, 10)\n                        .c(_paddingRight_, 10)\n                        .c(_top_, 0);\n                }\n            }\n            else {\n                // 小屏，在非封面位置进行二次调整\n                if (V_ui_isSmallScreen() && iNavCenter.catalog.inHeader())\n                    T.ui.c(_paddingLeft_, 0)\n                        .c(_paddingRight_, 0)\n                        .c(_top_, 50 + offsetY);\n                else {\n                    // 小屏，在封面及最开始位置进行二次调整\n                    if ($(document).scrollTop() <= 5)\n                        T.ui.c(_paddingLeft_, 10)\n                            .c(_paddingRight_, 10)\n                            .c(_top_, 10);\n                    // 小屏，在封面位置进行二次调整\n                    else\n                        T.ui.c(_paddingLeft_, 10)\n                            .c(_paddingRight_, 10)\n                            .c(_top_, 0);\n                }\n            }\n        }\n        // 宽屏，且不在封面\n        else {\n            if (T.ui.oT() === 0)\n                return;\n\n            // 调整工具栏样式\n            JQ_removeClass(T.ui, _cover_);\n            JQ_addClass(T.ui, _vFloatCard_);\n\n            // 微调工具栏分隔宽度\n            let btnCount = T.ui.f(\".v-btn\").length,\n                btnWidth = JS_parseInt(V_util_getVarVal(\"--v-tb-btn-w\")),\n                space = JS_parseInt(V_util_getVarVal(\"--v-tb-btn-s\"));\n            T.btns[_toolbarSpliter_].c(_width_, \"calc((\" + _varNavCenterWidth_ + \" - \"\n                    + (btnCount * btnWidth + JS_parseInt(T.ui.c(_paddingLeft_)) * 2 + (btnCount - 4) * space) + \"px) / 2)\");\n\n            T.ui.c(_paddingLeft_, 10)\n                .c(_paddingRight_, 10)\n                .c(_top_, 0);\n            // 为增加了工具栏按钮的背景去掉浮动样式\n            JQ_removeClass(T.ui.ch(_vBtn__BtnGroup_), _vFloatCard_);\n            JQ_removeClass(T.ui.ch(_vBtn__BtnGroup_), _float_);\n        } // else\n        T.ui.show();\n    }\n}\n\n// ==================== 颜色方案类 ==================== //\n\n/**\n * 构造函数\n */\nfunction ColorScheme() {}\n\nColorScheme.scheme = _light_; // 当前颜色以方案，light/dark\nColorScheme.schemeBeforePrint = _light_; // 打印前的颜色方案\n\n/**\n * 初始化\n */\nColorScheme.init = function () {\n    const __lightIcon = document.querySelector(\"link#\" + _docIcon_ + _light_);\n    const __darkIcon = document.querySelector(\"link#\" + _docIcon_ + _dark_);\n\n    // Light Mode 时的文档图标\n    function __setLightIcon() {\n        // 浏览器中显示的文档图标\n        JQ_remove(__darkIcon);\n        document.head.append(__lightIcon);\n    }\n\n    // Dark Mode 时的文档图标\n    function __setDarkIcon() {\n        // 浏览器中显示的文档图标\n        JQ_remove(__lightIcon);\n        document.head.append(__darkIcon);\n    }\n\n    // 根据系统 Color Scheme 变化进行适配更新颜色方案\n    function __syncScheme(matcher) {\n        if (matcher.matches) {\n            __initScheme(gTrue);\n            ColorScheme.tg(_dark_);\n        }\n        else {\n            __initScheme(gFalse);\n            ColorScheme.tg(_light_);\n        }\n    }\n\n    // 根据系统 Color Scheme 变化进行适配更新图标\n    function __initScheme(flag) {\n        if (flag) {\n            __setDarkIcon();\n            ColorScheme.scheme = _dark_;\n        }\n        else {\n            __setLightIcon();\n            ColorScheme.scheme = _light_;\n        }\n        StsColorScheme_updateIcons();\n    }\n\n    // 监听系统的 Color Scheme 变化\n    const mediaQuery = window.matchMedia('(prefers-color-scheme:dark)');\n    mediaQuery.addEventListener(\"change\", __syncScheme);\n\n    // 初始执行\n    __initScheme(mediaQuery.matches);\n}\n\n/**\n * 切换颜色方案\n * @param scheme 指定方案，为空时则轮换\n */\nColorScheme.tg = function (scheme) {\n    if (scheme === gUndefined)\n        scheme = (ColorScheme.scheme === _light_) ? _dark_ : _light_;\n\n    ColorScheme.scheme = scheme;\n    INFO(\"    Switch to ... [ \" + ColorScheme.scheme + \" ]\");\n    // 应用最新颜色方案\n    ColorScheme.refresh();\n\n    if (iNavCenter.docLib.enabled)\n        iNavCenter.docLib.reload(ColorScheme.scheme);\n\n    INFO(\"    DONE!\");\n}\n\n/**\n * 根据指定的颜色方案进行文档刷新\n */\nColorScheme.refresh = function () {\n    StsColorScheme_updateIcons();\n    // iToolbar.updateIcons();\n\n    // 批量修改颜色方案相关的 CSS 变量为指定的新值\n    let ac = \"--ac-\",\n        _alt = \"-a\",\n        _fade = \"-fade\",\n        _fade_bd = \"-fade-bd\",\n        _title = \"-title\",\n        _cur = \"--cur-\",\n        // ---\n        acRed = ac + \"rd\",\n        acOrange = ac + \"og\",\n        acYellow = ac + \"ye\",\n        acLime = ac + \"lm\",\n        acGreen = ac + \"gn\",\n        acMineral = ac + \"mn\",\n        acOlives = ac + \"ol\",\n        acWine = ac + \"wn\",\n        acAqua = ac + \"aq\",\n        acCyan = ac + \"cy\",\n        acBlue = ac + \"bu\",\n        acSea = ac + \"se\",\n        acLavender = ac + \"la\",\n        acVine = ac + \"vn\",\n        acPurple = ac + \"pu\",\n        acRose = ac + \"ro\",\n        acPink = ac + \"pk\",\n        acGold = ac + \"gd\",\n        acBrown = ac + \"bn\",\n        acGray = ac + \"gy\",\n        acBlack = ac + \"bk\",\n        acTheme1 = ac + \"t1\",\n        acTheme2 = ac + \"t2\",\n        // ---\n        mm = \"--mm-c-\",\n        // ---\n        mmRed = mm + \"rd\",\n        mmOrange = mm + \"og\",\n        mmYellow = mm + \"ye\",\n        mmGreen = mm + \"gn\",\n        mmCyan = mm + \"cy\",\n        mmBlue = mm + \"bu\",\n        mmPurple = mm + \"pu\",\n        mmPink = mm + \"pk\",\n        mmBrown = mm + \"bn\",\n        mmGray = mm + \"gy\",\n        // ---\n        cm = \"--cm-\";\n\n    V_util_changeCssVarSet([\n        \"--v-invert-dark\",\n        \"--v-brightness-dark\",\n        \"--d-bc\",\n        \"--d-bi\",\n        // \"--d-bc-tsp\",\n        \"--fade-r\",\n        \"--fade-g\",\n        \"--fade-b\",\n        \"--d-fc\",\n        \"--fig-solid-bg\",\n        \"--v-fig-grid-l\",\n        \"--v-fig-grid-b\",\n        \"--v-fig-grid-l-invert\",\n        \"--v-fig-grid-b-invert\",\n        \"--pn-c\",\n        \"--pn-c-a\",\n        // \"--pn-c-tsp\",\n        \"--pn-fade-r\",\n        \"--pn-fade-g\",\n        \"--pn-fade-b\",\n        \"--blockquote-bg\",\n        \"--a-color\",\n        \"--mark-bg\",\n        \"--tbl-bd\",\n        \"--tbl-tr-hv\",\n        \"--tbl-th-bg\",\n        \"--tbl-td-bg\",\n        \"--tbl-cell-bd\",\n        \"--tbl-row-g-alpha\",\n        \"--toc-h-num-color\",\n        \"--h-f\",\n        \"--h-box-shadow\",\n        \"--h-bg-start\",\n        \"--h-bg-end\",\n        \"--code-bg\",\n        \"--std-code-shadow\",\n        \"--rb-code-shadow\",\n        \"--c-blk-bg\",\n        \"--key-bg\",\n        \"--key-reflect\",\n        \"--key-shadow\",\n        \"--doc-shadow\",\n        _cur + \"pointer\",\n        _cur + \"copy-normal\",\n        _cur + \"copy-as-md\",\n        _cur + \"text\",\n        _cur + \"laser\",\n        _cur + \"md\",\n        _cur + \"doclib\",\n        _cur + \"http\",\n        _cur + \"https\",\n        _cur + \"email\",\n        _cur + \"docment\",\n        _cur + \"archive\",\n        _cur + \"risk\",\n        _cur + \"inner\",\n        acRed,\n        acRed + _alt,\n        acRed + _fade,\n        acRed + _fade_bd,\n        acRed + _title,\n        acOrange,\n        acOrange + _alt,\n        acOrange + _fade,\n        acOrange + _fade_bd,\n        acOrange + _title,\n        acYellow,\n        acYellow + _alt,\n        acYellow + _fade,\n        acYellow + _fade_bd,\n        acYellow + _title,\n        acLime,\n        acLime + _alt,\n        acLime + _fade,\n        acLime + _fade_bd,\n        acLime + _title,\n        acGreen,\n        acGreen + _alt,\n        acGreen + _fade,\n        acGreen + _fade_bd,\n        acGreen + _title,\n        acMineral,\n        acMineral + _alt,\n        acMineral + _fade,\n        acMineral + _fade_bd,\n        acMineral + _title,\n        acOlives,\n        acOlives + _alt,\n        acOlives + _fade,\n        acOlives + _fade_bd,\n        acOlives + _title,\n        acWine,\n        acWine + _alt,\n        acWine + _fade,\n        acWine + _fade_bd,\n        acWine + _title,\n        acAqua,\n        acAqua + _alt,\n        acAqua + _fade,\n        acAqua + _fade_bd,\n        acAqua + _title,\n        acCyan,\n        acCyan + _alt,\n        acCyan + _fade,\n        acCyan + _fade_bd,\n        acCyan + _title,\n        acBlue,\n        acBlue + _alt,\n        acBlue + _fade,\n        acBlue + _fade_bd,\n        acBlue + _title,\n        acSea,\n        acSea + _alt,\n        acSea + _fade,\n        acSea + _fade_bd,\n        acSea + _title,\n        acLavender,\n        acLavender + _alt,\n        acLavender + _fade,\n        acLavender + _fade_bd,\n        acLavender + _title,\n        acVine,\n        acVine + _alt,\n        acVine + _fade,\n        acVine + _fade_bd,\n        acVine + _title,\n        acPurple,\n        acPurple + _alt,\n        acPurple + _fade,\n        acPurple + _fade_bd,\n        acPurple + _title,\n        acRose,\n        acRose + _alt,\n        acRose + _fade,\n        acRose + _fade_bd,\n        acRose + _title,\n        acPink,\n        acPink + _alt,\n        acPink + _fade,\n        acPink + _fade_bd,\n        acPink + _title,\n        acGold,\n        acGold + _alt,\n        acGold + _fade,\n        acGold + _fade_bd,\n        acGold + _title,\n        acBrown,\n        acBrown + _alt,\n        acBrown + _fade,\n        acBrown + _fade_bd,\n        acBrown + _title,\n        acGray,\n        acGray + _alt,\n        acGray + _fade,\n        acGray + _fade_bd,\n        acGray + _title,\n        acBlack,\n        acBlack + _alt,\n        acBlack + _fade,\n        acBlack + _fade_bd,\n        acBlack + _title,\n        acTheme1,\n        acTheme1 + _alt,\n        acTheme1 + _fade,\n        acTheme1 + _fade_bd,\n        acTheme1 + _title,\n        acTheme2,\n        acTheme2 + _alt,\n        acTheme2 + _fade,\n        acTheme2 + _fade_bd,\n        acTheme2 + _title,\n        mmRed,\n        mmRed + _alt,\n        mmOrange,\n        mmOrange + _alt,\n        mmYellow,\n        mmYellow + _alt,\n        mmGreen,\n        mmGreen + _alt,\n        mmCyan,\n        mmCyan + _alt,\n        mmBlue,\n        mmBlue + _alt,\n        mmPurple,\n        mmPurple + _alt,\n        mmPink,\n        mmPink + _alt,\n        mmBrown,\n        mmBrown + _alt,\n        mmGray,\n        mmGray + _alt,\n        cm + \"keyword\",\n        cm + \"variable\",\n        cm + \"variable-2\",\n        cm + \"variable-3\",\n        cm + \"tag\",\n        cm + \"attribute\",\n        cm + \"CodeMirror-cursor\",\n        cm + \"string\",\n        cm + \"string-2\",\n        cm + \"comment\",\n        cm + \"header\",\n        cm + \"quote\",\n        cm + \"hr\",\n        cm + \"link\",\n        cm + \"negative\",\n        cm + \"positive\",\n        cm + _mata_,\n        cm + \"bulidin\",\n        cm + \"bracket\",\n        cm + \"atom\",\n        cm + \"number\"\n    ], (ColorScheme.scheme === _dark_) ? \"dk\" : \"lg\");\n\n    // 针对 Dark Mode 进行适配处理\n    ExtFigure_adjustColorScheme(gTrue);\n}\n\n// ==================== 字体风格选项、选择器类 ==================== //\n\n// let webfontHostAlt = \"https://madmaxchow.gitee.io/openfonts/\";\nlet webfontHostAlt = \"https://madmaxchow.github.io/openfonts/\";\n// let webfontHostAlt = \"https://cdn.jsdelivr.net/gh/MadMaxChow/openfonts@master/\";\n\n/**\n * 构造函数\n * @param ui 选项的 UI\n * @param fonts 字体集数组\n */\nfunction FontThemeOption(ui, fonts) {\n    let T = this;\n    T.ui = ui;\n    T.fonts = fonts;\n    T.fontCount = T.fonts.length;\n}\n\n/**\n * 构造函数\n * @param mask 遮罩对象\n * @param theme 默认的字体主题\n */\nfunction FontTheme(mask, theme) {\n    let T = this;\n    T.theme = theme; // 当前字体风格，sans：非衬线（小清新），serif：衬线（文艺范）\n    T.ui = $(\".v-font-theme\"); // 字体风格切换选择界面\n    // 系统默认字体风格选项\n    T.localTheme = new FontThemeOption($(\".\" + _vFontThemeOpt_ + \"-local\"), []);\n    // Book 风格选项\n    T.bookTheme = new FontThemeOption($(\".\" + _vFontThemeOpt_ + \"-book\"), []);\n    // 小清新字体风格选项\n    T.sansTheme = new FontThemeOption($(\".\" + _vFontThemeOpt_ + \"-sans\"),\n        [\n            \"VLOOK Number\" + _normal_normal_, \"VLOOK Number\" + _normal_bold_, \"VLOOK Number\" + _normal_italic_,\n            \"VLOOK Digital Sans\" + _normal_normal_, \"VLOOK Digital Sans\" + _normal_500_, \"VLOOK Digital Sans\" + _normal_bold_, \"VLOOK Digital Sans\" + _normal_900_,\n            \"VLOOK Sans Mono\" + _normal_normal_, \"VLOOK Sans Mono\" + _normal_500_, \"VLOOK Sans Mono\" + _normal_bold_, \"VLOOK Sans Mono\" + _normal_900_,\n            \"VLOOK Sans\" + _normal_normal_, \"VLOOK Sans\" + _normal_bold_, \"VLOOK Sans\" + _normal_900_\n            ]);\n    // 艺术范字体风格选项\n    T.serifTheme = new FontThemeOption($(\".\" + _vFontThemeOpt_ + \"-serif\"),\n        [\n            \"VLOOK Number\" + _normal_normal_, \"VLOOK Number\" + _normal_bold_, \"VLOOK Number\" + _normal_italic_,\n            \"VLOOK Digital Serif\" + _normal_normal_, \"VLOOK Digital Serif\" + _normal_bold_, \"VLOOK Digital Serif\" + _normal_italic_, \"VLOOK Digital Serif\" + _italic_bold_,\n            \"VLOOK Serif Mono\" + _normal_normal_, \"VLOOK Serif Mono\" + _normal_bold_, \"VLOOK Serif Mono\" + _normal_italic_, \"VLOOK Serif Mono\" + _italic_bold_,\n            \"VLOOK Serif\" + _normal_500_, \"VLOOK Serif\" + _normal_900_,\n            \"VLOOK Sans Mono\" + _normal_normal_, \"VLOOK Sans Mono\" + _normal_500_, \"VLOOK Sans Mono\" + _normal_bold_, \"VLOOK Sans Mono\" + _normal_900_,\n            \"VLOOK Sans\" + _normal_normal_, \"VLOOK Sans\" + _normal_bold_, \"VLOOK Sans\" + _normal_900_\n        ]);\n    // 遮罩\n    T.mask = mask;\n    T.mask.bindPartner(this, T.ui);\n\n    V_ui_addAnimate(T.ui);\n\n    // 绑定各字体风格选项事件\n    T.localTheme.ui.uC().ck(function () {\n        T.apply(\"local\");\n        T.hide();\n    });\n    T.bookTheme.ui.uC().ck(function () {\n        T.apply(\"book\");\n        T.hide();\n    });\n    T.sansTheme.ui.uC().ck(function () {\n        T.apply(\"sans\");\n        T.initWebFont();\n        T.hide();\n    });\n    T.serifTheme.ui.uC().ck(function () {\n        T.apply(\"serif\");\n        T.initWebFont();\n        T.hide();\n    });\n\n    /**\n     * 初始化\n     * @param theme 可选。强制指定的字体主题\n     */\n    T.init = function (theme) {\n        // 有指定强制字体主题，同时指定的字体主题合法且与文档配套的不一致，则进行处理\n        if (theme !== gUndefined\n            && theme.m(/^(local|sans|serif)$/i) != null\n            && theme !== T.theme) {\n                T.theme = theme;\n                T.apply(T.theme);\n        }\n\n        LOG(\"_____ FONT THEME (\" + T.theme + \") _____ \");\n\n        T.initWebFont();\n\n        // 对于本地字体主题的状态，直接为就绪\n        $(\":is(.\" + _vFontInfo_ + \"-local, .\" + _vFontInfo_ + \"book) > #\" + _fontsetStatus_).t(\"✅ \" + [\n            \"已就绪\",\n            _ready_\n        ][V_lang_id]);\n    }\n\n    /**\n     * 初始化 WebFont\n     */\n    T.initWebFont = function () {\n        let fontWeight500 = \"500\",\n            fontWeight900 = \"900\",\n            _Regular = \"-Regular\",\n            _Medium = \"-Medium\",\n            _Bold = \"-Bold\",\n            _Black = \"-Black\",\n            _Italic = \"-Italic\";\n        let unicodeRange = \"U+0021-002F,\" // !\"#$%&'()*+,-./（不含空格）\n            + \"U+0030-0039,\" // 0123456789\n            + \"U+003A-0040,\" // :;<=>?@\n            + \"U+005B-0060,\" // [\\]^_`\n            + \"U+007B-007E\"; // {|}~\n        let timeOutMsg = \"❌ \" + [\"超时\", \"Timeout\"][V_lang_id];\n\n        if (T.theme === \"local\") {\n            // 动态加载字体 VLOOK Number\n            __loadNumberFont();\n        }\n        else if (T.theme === \"sans\") {\n            // 动态加载字体 VLOOK Number\n            __loadNumberFont();\n            // 动态加载字体 VLOOK Digital Sans\n            __LoadDigitalSansFont();\n            // 动态加载字体 VLOOK Sans Mono\n            __loadSansMonoFont();\n            // 动态加载字体 VLOOK Noto Sans CJK SC\n            __loadSansCjkFont();\n\n            // Sans 字体主题的加载超时检测\n            setTimeout(function () {\n                if (T.sansTheme.fonts.length > 0)\n                    $(\".\" + _vFontInfo_ + \"sans > #\" + _fontsetStatus_).t(timeOutMsg);\n            }, 600000); // 10 分钟后进行超时检测\n        }\n        else if (T.theme === \"serif\") {\n            // 动态加载字体 VLOOK Number\n            __loadNumberFont();\n            // 动态加载字体 VLOOK Digital Serif\n            __LoadDigitalSerifFont();\n            // 动态加载字体 VLOOK Serif Mono\n            __loadSerifMonoFont();\n            // 动态加载字体 VLOOK Noto Serif CJK SC\n            __loadSerifCjkFont();\n\n            // 动态加载字体 VLOOK Sans Mono\n            __loadSansMonoFont();\n            // 动态加载字体 VLOOK Noto Sans CJK SC\n            __loadSansCjkFont();\n\n            // Serif 字体主题的加载超时检测\n            setTimeout(function () {\n                if (T.serifTheme.fonts.length > 0)\n                    $(\".\" + _vFontInfo_ + \"serif > #\" + _fontsetStatus_).t(timeOutMsg);\n            }, 600000); // 10 分钟后进行超时检测\n        }\n\n        // 动态加载字体 VLOOK Number\n        function __loadNumberFont() {\n            let fontName = \"VLOOK Number\",\n                srcName = \"Altinn-DIN\";\n            T.loadFont(fontName, _normal_, _normal_, srcName, srcName);\n            T.loadFont(fontName, _normal_, _bold_, srcName, srcName + _Bold);\n            T.loadFont(fontName, _italic_, _normal_, srcName, srcName + _Italic);\n        }\n\n        // 动态加载字体 VLOOK Digital Sans\n        function __LoadDigitalSansFont() {\n            let fontName = \"VLOOK Digital Sans\",\n                srcName = \"NotoSansMono\";\n            T.loadFont(fontName, _normal_, _normal_, srcName, srcName + _Regular, unicodeRange);\n            T.loadFont(fontName, _normal_, fontWeight500, srcName, srcName + _Medium, unicodeRange);\n            T.loadFont(fontName, _normal_, _bold_, srcName, srcName + _Bold, unicodeRange);\n            T.loadFont(fontName, _normal_, fontWeight900, srcName, srcName + _Black, unicodeRange);\n        }\n\n        // 动态加载字体 VLOOK Digital Serif\n        function __LoadDigitalSerifFont() {\n            let fontName = \"VLOOK Digital Serif\",\n                srcName = \"LuxiMono\";\n            let luxiMonoSubName = srcName + _Italic;\n            T.loadFont(fontName, _normal_, _normal_, srcName, srcName + _Regular, unicodeRange);\n            T.loadFont(fontName, _normal_, _bold_, srcName, srcName + _Bold, unicodeRange);\n            T.loadFont(fontName, _italic_, _normal_, srcName, luxiMonoSubName + _Regular, unicodeRange);\n            T.loadFont(fontName, _italic_, _bold_, srcName, luxiMonoSubName + _Bold, unicodeRange);\n        }\n\n        // 动态加载字体 VLOOK Sans Mono\n        function __loadSansMonoFont() {\n            let fontName = \"VLOOK Sans Mono\",\n                srcName = \"NotoSansMono\";\n            T.loadFont(fontName, _normal_, _normal_, srcName, srcName + _Regular);\n            T.loadFont(fontName, _normal_, fontWeight500, srcName, srcName +_Medium);\n            T.loadFont(fontName, _normal_, _bold_, srcName, srcName + _Bold);\n            T.loadFont(fontName, _normal_, fontWeight900, srcName, srcName + _Black);\n        }\n\n        // 动态加载字体 VLOOK Serif Mono\n        function __loadSerifMonoFont() {\n            let fontName = \"VLOOK Serif Mono\",\n                srcName = \"LuxiMono\";\n            let luxiMonoSubName = srcName + _Italic;\n            T.loadFont(fontName, _normal_, _normal_, srcName, srcName + _Regular);\n            T.loadFont(fontName, _normal_, _bold_, srcName, srcName + _Bold);\n            T.loadFont(fontName, _italic_, _normal_, srcName, luxiMonoSubName + _Regular);\n            T.loadFont(fontName, _italic_, _bold_, srcName, luxiMonoSubName + _Bold);\n        }\n\n        // 动态加载字体 VLOOK Noto Sans CJK SC\n        function __loadSansCjkFont() {\n            let fontName = \"VLOOK Sans\",\n                srcName = \"NotoSansCJKsc\";\n            T.loadFont(fontName, _normal_, _normal_, srcName, srcName + _Regular);\n            T.loadFont(fontName, _normal_, _bold_, srcName, srcName + _Bold);\n            T.loadFont(fontName, _normal_, fontWeight900, srcName, srcName + _Black);\n        }\n\n        // 动态加载字体 VLOOK Noto Serif CJK SC\n        function __loadSerifCjkFont() {\n            let fontName = \"VLOOK Serif\",\n                srcName = \"NotoSerifCJKsc\";\n            T.loadFont(fontName, _normal_, fontWeight500, srcName, srcName + _Medium);\n            T.loadFont(fontName, _normal_, fontWeight900, srcName, srcName + _Black);\n        }\n    }\n\n    /**\n     * 绑定选择字体风格操作按钮\n     * @param button 绑定的工具栏按钮\n     */\n    T.bindButton = function (button) {\n        T.button = button; // 绑定的工具栏按钮\n    }\n\n    /**\n     * 加载自定义字体\n     * @param fontFamily 自定义字体名称\n     * @param fontStyle 字体样式\n     * @param fontWeight 字重\n     * @param srcFontName 字体源名称\n     * @param srcFontSubName 字体源子名称\n     * @param unicodeRange 指定应用的字符范围\n     */\n    T.loadFont = function (fontFamily, fontStyle, fontWeight, srcFontName, srcFontSubName, unicodeRange) {\n        if (document.fonts && !T.isExist(fontFamily, fontStyle, fontWeight)) {\n            let woffURL = \"url('\" + webfontHostAlt + srcFontName + \"-\" + _woff2_ + \"/\" + srcFontSubName + \".\" + _woff2_ + \"') format('\" + _woff2_ + \"')\",\n                fontFace;\n            if (unicodeRange === gUndefined) {\n                fontFace = new FontFace(fontFamily,\n                    ((_woff2_ !== gUndefined) ? woffURL : _), {\n                        style: fontStyle,\n                        weight: fontWeight,\n                        display: \"swap\"\n                    });\n            }\n            else {\n                fontFace = new FontFace(fontFamily,\n                    ((_woff2_ !== gUndefined) ? woffURL : _), {\n                        style: fontStyle,\n                        weight: fontWeight,\n                        display: \"swap\",\n                        unicodeRange: \"U+0030-0039\"\n                    });\n            }\n\n            // 指定字体加载完成后回调函数\n            fontFace.load().then(function(loadedFontFace) {\n                document.fonts.add(loadedFontFace);\n\n                let fontID = fontFamily + \"/\" + fontStyle + \"/\" + fontWeight,\n                    readyMsg = \"✅ \" + [\"已就绪\", _ready_][V_lang_id],\n                    loadingMsg = [\"加载中\", \"Loading\"][V_lang_id];\n                LOG(\"↓↓↓ FONT LOADED ↓↓↓\");\n                LOG(fontID);\n\n                // --------------------\n                // 更新小清新风格字体包下载进度\n                // 剔除已下载的字体字形\n                for (let i = 0; i < T.sansTheme.fonts.length; i++) {\n                    if (T.sansTheme.fonts[i] === fontID) {\n                        T.sansTheme.fonts.splice(i, 1);\n                        break;\n                    }\n                }\n                // 计算进度\n                let sansLoadedCount = T.sansTheme.fontCount - T.sansTheme.fonts.length,\n                    sansStatus = $(\".\" + _vFontInfo_ + \"sans > #\" + _fontsetStatus_);\n                if (sansLoadedCount < T.sansTheme.fontCount)\n                    sansStatus.t(loadingMsg + \"... (\" + JS_mathRound(sansLoadedCount / T.sansTheme.fontCount * 100) + \"%)\");\n                else\n                    sansStatus.t(readyMsg);\n\n                // --------------------\n                // 更新艺术范风格字体包下载进度\n                // 剔除已下载的字体字形\n                for (let i = 0; i < T.serifTheme.fonts.length; i++) {\n                    if (T.serifTheme.fonts[i] === fontID) {\n                        T.serifTheme.fonts.splice(i, 1);\n                        break;\n                    }\n                }\n                // 计算进度\n                let serifLoadedCount = T.serifTheme.fontCount - T.serifTheme.fonts.length,\n                    serifStatus = $(\".\" + _vFontInfo_ + \"serif > #\" + _fontsetStatus_);\n                if (serifLoadedCount < T.serifTheme.fontCount)\n                    serifStatus.t(loadingMsg + \"... (\" + JS_mathRound(serifLoadedCount / T.serifTheme.fontCount * 100) + \"%)\");\n                else\n                    serifStatus.t(readyMsg);\n            });\n        }\n    }\n\n    /**\n     * 检测指定自定义字体是否已加载\n     * @param fontFamily 自定义字体名称\n     * @param fontStyle 字体样式\n     * @param fontWeight 字重\n     */\n    T.isExist = function (fontFamily, fontStyle, fontWeight) {\n        let values = document.fonts.values(),\n            isHave = gFalse,\n            item = values.next();\n\n        while (!item.done && !isHave) {\n            let fontFace = item.value;\n            if (fontFace.family === fontFamily\n                && fontFace.style === fontStyle\n                && fontFace.weight === fontWeight) {\n                    isHave = gTrue;\n                    LOG(\"///// FONT IS EXIST /////\");\n                    LOG(fontFamily + \"/\" + fontStyle + \"/\" + fontWeight);\n            }\n            item = values.next();\n        }\n        return isHave;\n    }\n\n    /**\n     * 显示字体风格选择器\n     */\n    T.show = function () {\n        T.mask.show();\n        V_ui_moveToCenter(T.ui);\n        T.ui.show();\n\n        LOG(\"'\" + T.theme + \"'\");\n        if (T.theme === \"local\") {\n            JQ_addClass(T.localTheme.ui, _selected_);\n            JQ_removeClass(T.bookTheme.ui, _selected_);\n            JQ_removeClass(T.sansTheme.ui, _selected_);\n            JQ_removeClass(T.serifTheme.ui, _selected_);\n        }\n        else if (T.theme === \"book\") {\n            JQ_removeClass(T.localTheme.ui, _selected_);\n            JQ_addClass(T.bookTheme.ui, _selected_);\n            JQ_removeClass(T.sansTheme.ui, _selected_);\n            JQ_removeClass(T.serifTheme.ui, _selected_);\n        }\n        else if (T.theme === \"sans\") {\n            JQ_removeClass(T.localTheme.ui, _selected_);\n            JQ_removeClass(T.bookTheme.ui, _selected_);\n            JQ_addClass(T.sansTheme.ui, _selected_);\n            JQ_removeClass(T.serifTheme.ui, _selected_);\n        }\n        else {\n            JQ_removeClass(T.localTheme.ui, _selected_);\n            JQ_removeClass(T.bookTheme.ui, _selected_);\n            JQ_addClass(T.serifTheme.ui, _selected_);\n            JQ_removeClass(T.sansTheme.ui, _selected_);\n        }\n    }\n\n    /**\n     * 是否已显示\n     * @returns boolean\n     */\n    T.isShowed = function () {\n        return T.ui.c(_display_) !== _none_;\n    }\n    /**\n     * 显示/隐藏字体风格选择器\n     */\n    T.tg = function () {\n        if (T.isShowed()) {\n            T.hide();\n        }\n        else {\n            T.show();\n        }\n    }\n\n    /**\n     * 隐藏字体风格选择器\n     */\n    T.hide = function () {\n        T.ui.hide();\n        T.mask.hide();\n    }\n\n    /**\n     * 应用指定字体风格\n     * @param theme 指定应用的字体风格（sans/serif），不指定则以为当前字体风格\n     */\n    T.apply = function (theme) {\n        // 修正无指定样式的情况\n        if (theme === gUndefined)\n            theme = T.theme;\n        T.theme = theme;\n\n        // CSS 变量名称列表\n        const varList = [\n            \"--v-f-fm-title\",\n            \"--v-f-fm-subtitle\",\n            \"--v-f-fm-h\",\n            \"--v-f-fm-text\",\n            \"--v-f-fm-bd\",\n            \"--v-f-fm-key\",\n            \"--v-f-fm-num\",\n            \"--v-f-fm-tag\",\n            \"--v-f-fm-code\",\n            \"--v-f-w-bd\",\n            \"--v-f-w-title\",\n            \"--v-f-w-text\"\n        ];\n        // 生成目标字体主题变量值列表\n        let fontVarList = [];\n        for (let i = 0, len = varList.length; i < len; i++) {\n            fontVarList.push(V_util_getVarVal(varList[i] + \"-\" + T.theme));\n        }\n        // 遍历所有变量实现字体主题的切换\n        for (let i = 0, len = varList.length; i < len; i++) {\n            V_util_setVarVal(varList[i], fontVarList[i]);\n        }\n    }\n\n    /**\n     * 处理热键操作\n     * @param code 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (code, combKeys, event) {\n        if (T.ui.isHidden())\n            return;\n\n        let handled = false;\n        switch (code) {\n            case 27: // ESC\n                if (T.isShowed()) {\n                    T.hide();\n                    handled = true;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n    }\n}\n\n// ==================== 脚注类 ==================== //\n\n/**\n * 构造函数\n * @param mask 遮罩对象\n */\nfunction FootNote(mask) {\n    let T = this;\n    T.ui = $(\".\" + _vFontnotePn_); // 脚注主界面\n    T.content = $(\".\" + _vFontnotePn_ + \"-content\"); // 脚注内容区\n\n    T.buttonSeeAll = $(\".\" + _vFontnotePn_ + \"-footer\"); // 查看所有脚注按钮\n    T.buttonSeeAll.uC().ck(function () {\n        T.hide();\n        // 跳转至所有脚注区域\n        WINDOW_setHref(\"#vk-footer-area\");\n    });\n\n    // 遮罩\n    T.mask = mask;\n    T.mask.bindPartner(this, T.ui);\n\n    /**\n     * 是否已显示\n     * @returns boolean\n     */\n    T.isShowed = function () {\n        return T.ui.c(_display_) !== _none_;\n    }\n\n    /**\n     * 显示脚注弹层\n     */\n    T.show = function () {\n        // 显示关联的遮罩\n        T.mask.show();\n\n        if (V_ui_isSmallScreen())\n            T.ui.c(_left_, 20)\n                .c(_right_, 20);\n        else\n            T.ui.c(_left_, \"15%\")\n                .c(_right_, \"15%\");\n\n        T.ui.show();\n    }\n\n    /**\n     * 隐藏脚注弹层\n     */\n    T.hide = function () {\n        T.ui.hide();\n        T.mask.hide();\n    }\n\n    /**\n     * 处理热键操作\n     * @param code 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (code, combKeys, event) {\n        if (T.ui.isHidden())\n            return;\n\n        let handled = false;\n        switch (code) {\n            case 27: // ESC\n                if (T.isShowed()) {\n                    T.hide();\n                    handled = true;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n    }\n}\n\n/**\n * 初始化脚注\n */\nFootNote.init = function () {\n    // 将 Typora 的脚注调整到封底前，VLOOK 规范的文档中最后一个 <h6> 是封底\n    let footnotesArea = $(\".\" + _footnotesArea_);\n    // 「有封面」模式\n    if (VOM_backcover() !== gUndefined)\n        footnotesArea.insertBefore(VOM_backcover());\n    // 「无封面」模式\n    else\n        VOM_doc().ap(footnotesArea);\n\n    // 将 VLOOK 生成的脚注区锚点调整到生成 HTML 后的实际位置\n    $(\"#vk-footer-area\").insertBefore(footnotesArea);\n\n    // 移除默认的跳转属性\n    let a = $(\"a[name^='ref-footnote-'], a[id^='ref-footnote-']\");\n    JQ_removeAttr(a, _href_);\n    // 将脚注角标的事件替换为指定的处理事件\n    a.uC().ck(function () {\n        // 获取脚注【返回】链接对应的脚注原文信息\n        let _t = $(this),\n            target = $(\"a[name='df\" + _t.a(_name_) + \"'], a[id='df\" + _t.a(_name_) + \"']\").p().clone();\n\n        // 更新脚注弹层内容区\n        LOG(target, target.t());\n        iFootNote.content.hm(target);\n        // 移除默认的返回链接\n        JQ_remove(target.f(\"a[name^='dfref-footnote'], a[id^='dfref-footnote']\"));\n\n        // 显示脚注弹层\n        iFootNote.show();\n    });\n}\n\n// ==================== 状态栏类 ==================== //\n\nlet StatusBar_ui = gUndefined,\n    StatusBar_items = [], // 状态栏条目集\n    StatusBar_options = V_util_getParamVal(\"stsbar\");\n/**\n * 构造函数\n */\nfunction StatusBar_init() {\n    StatusBar_ui = $(\".\" + _vStatusBar_);\n    if (V_pageMode !== \"max\")\n        StatusBar_ui.hide();\n}\n\n/**\n * 添加状态栏条目\n * @param name 条目标识\n * @param item 条目对象\n */\nfunction StatusBar_add(name, item) {\n    StatusBar_items[name] = item;\n    if (StatusBar_options !== gUndefined && StatusBar_options.i(name) > -1) {\n        item.enabled = gFalse;\n        JQ_remove(item.ui);\n    }\n}\n\n/**\n * 自适应显示状态栏\n */\nfunction StatusBar_adjust() {\n    // 移动端下隐藏不必要的功能入口\n    if (env.device.mobile) {\n        JQ_remove(StatusBar_items[\"zoom-view\"]);\n    }\n}\n\n// ==================== 文档信息类 ==================== //\n\nlet StsDocInfo_ui = gUndefined,\n    DocInfo_enabled = gTrue;\n/**\n * 构造函数\n */\nfunction StsDocInfo_init() {\n    StsDocInfo_ui = $(\".\" + _vDocInfo_);\n}\n\n/**\n * 统计字数\n */\nfunction DocInfo_countWord() {\n    if (!DocInfo_enabled)\n        return;\n\n    let latin = VOM_doc().t().m(/[\\w\\-]+/g),\n        cjk = VOM_doc().t().m(/\\p{Unified_Ideograph}/ug);\n        // docInfo = $(\".v-doc-info\");\n    let latinCount = (latin == null) ? 0 : latin.length,\n        cjkCount = (cjk == null) ? 0 : cjk.length,\n        wordCount = latinCount + cjkCount,\n        readCountPerMin = 180;\n\n    // 计算阅读时长\n    let mins = wordCount < readCountPerMin ? 1 : JS_parseInt(wordCount / readCountPerMin),\n        times = mins + ___ + [\n            \"分钟\",\n            \"minutes\"\n        ][V_lang_id];\n    if (mins > 60)\n        times = (mins / 60).toFixed(1) + ___ + [\n            \"小时\",\n            \"hours\"\n        ][V_lang_id];\n    // 默认信息\n    StsDocInfo_ui.a(_dataDefault_,\n        times + \" / \" + V_formatting_thousands(wordCount.toString()) + ___\n        + [\n            \"字\",\n            \"words\"\n        ][V_lang_id]);\n    // 扩展信息\n    StsDocInfo_ui.a(_dataExtend_,\n        \"( \" + V_formatting_thousands(cjkCount.toString()) + ___ + [\n            \"中日韩，\",\n            \"CJK, \"\n        ][V_lang_id]\n        + V_formatting_thousands(latinCount.toString()) + ___ + [\n            \"非中日韩\",\n            \"Non-CJK\"\n        ][V_lang_id] + \" )\");\n    // hover 时显示扩展信息\n    StsDocInfo_ui.hover(function () {\n        StsDocInfo_ui.hm(StsDocInfo_ui.a(_dataDefault_) + _nbsp_\n            + V_ui_span(\"v-doc-ext-info\", _, StsDocInfo_ui.a(_dataExtend_)));\n    }, function () {\n        StsDocInfo_ui.hm(StsDocInfo_ui.a(_dataDefault_));\n    });\n    StsDocInfo_ui.hm(StsDocInfo_ui.a(_dataDefault_));\n}\n\n// ==================== 状态栏的字体主题类 ==================== //\n\nlet StsFontTheme_ui = gUndefined;\n/**\n * 构造函数\n */\nfunction StsFontTheme_init() {\n    StsFontTheme_ui = $(\".\" + _vStsFontTheme_);\n    StsFontTheme_ui.a(_dataTips_, [\n        \"切换 字体风格\",\n        \"Switch Font Theme\"\n    ][V_lang_id] + \"\\n\" + V_ui_sub(_, _, V_ui_wrap_kbd(\"A\")));\n\n    ToolTips_bind(StsFontTheme_ui);\n    StsFontTheme_ui.uC().ck(function () {\n        iFontTheme.tg();\n    });\n}\n\n// ==================== 状态栏的颜色模式类 ==================== //\n\nlet StsColorScheme_ui = gUndefined;\n/**\n * 构造函数\n */\nfunction StsColorScheme_init() {\n    StsColorScheme_ui = $(\".\" + _vColorScheme_);\n    StsColorScheme_ui.a(_dataTips_, [\n        \"切换 [ \" + V_ui_strong(\"黑暗\") + \" / \" + V_ui_strong(\"明亮\") + \" ] 模式\",\n        \"Switch \" + V_ui_strong(\"Dark\") + \" / \" + V_ui_strong(\"Light\") + \" Mode\"\n    ][V_lang_id] + \"\\n\" + V_ui_sub(_, _, V_ui_wrap_kbd(\"D\")));\n\n    ToolTips_bind(StsColorScheme_ui);\n    StsColorScheme_ui.uC().ck(function () {\n        ColorScheme.tg();\n    });\n}\n\n/**\n * 更新按钮图标\n */\nfunction StsColorScheme_updateIcons() {\n    // 调整模式切换按钮图标\n    StsColorScheme_ui.hm(V_ui_svgIcon(\n        (ColorScheme.scheme === _light_ ? _icoDarkMode_ : _icoLightMode_),\n        20, 20, _theme_));\n}\n\n// ==================== 链接检查器类 ==================== //\n\nlet StsLinkTool_ui = gUndefined,\n    LinkTool_panel_list = gUndefined,\n    LinkTool_panel_header = gUndefined,\n    LinkTool_panel_body = gUndefined,\n    LinkTool_enabled = gTrue,\n    LinkTool_icon_error = _,\n    // LinkTool_icon_close = __,\n    LinkTool_mask = gUndefined;\n\n/**\n * 构造函数\n */\nfunction StsLinkTool_init(mask) {\n    // let T = this;\n    StsLinkTool_ui = $(\".\" + _vLinkChkResult_); // 检查结果\n    LinkTool_panel_list = $(\".\" + _vLinkErrorList_); // 坏链主界面\n    LinkTool_panel_header = $(\".\" + _vLinkErrorList_ + \"-header\");\n    LinkTool_panel_body = $(\".\" + _vLinkErrorList_ + \"-items\"); // 坏链内容列表\n    LinkTool_enabled = gTrue;\n\n    LinkTool_icon_error = V_ui_svgIcon(_icoLinkError_, 16, 14, _light_);\n    // LinkTool_icon_close = V_ui_generateSvgIcon(_icoClose_, 16, 16, s_Light);\n\n    // 遮罩\n    LinkTool_mask = mask;\n    LinkTool_mask.bindPartner(function () {\n        LinkTool_hide()\n    }, LinkTool_panel_list);\n\n    // 滚动事件处理\n    LinkTool_panel_body.scroll(function () {\n        // 滚出了顶部则显示顶部渐变条\n        if (LinkTool_panel_header.isHidden() && LinkTool_panel_body.scrollTop() > 10)\n            LinkTool_panel_header.show()\n        // 否则隐藏\n        else if (LinkTool_panel_body.scrollTop() <= 10)\n            LinkTool_panel_header.hide()\n    });\n}\n\n/**\n * 将 .md 的链接转换为 .html 链接（或指定后缀）\n */\nfunction LinkTool_mdToHtml() {\n    let xmd = V_util_getParamVal(\"xmd\"),\n        newExt = \".html\";\n    // 全局配置，禁用转换，则停止\n    if (xmd === _off_)\n        return;\n\n    // 全局配置，指定转换的后缀\n    if (xmd !== gUndefined)\n        newExt = \".\" + xmd;\n\n    $(\"a[href*='.md']\").e(function () {\n        let _t = $(this),\n            href = _t.a(_href_),\n            xmd = V_util_getUrlQueryParams(href)[\"xmd\"];\n        // 单个链接指定禁用转换，则停止\n        if (xmd === _off_)\n            return gFalse;\n\n        // 单个链接指定转换的后缀\n        if (xmd !== gUndefined)\n            _t.a(_href_, href.r(\".md\", \".\" + xmd));\n        else // 默认的全局后缀\n            _t.a(_href_, href.r(\".md\", newExt));\n    });\n}\n\n/**\n * 添加坏链项目\n * @param id 坏链对象的标识\n * @param content 坏链项目显示的内容\n */\nfunction LinkTool_addToCheck(id, content) {\n    let item = $(V_ui_span(_vTocItem_, V_attr(_dataAnchor_, \"#\" + id), content));\n    // 添加链接异常样式及属性\n    JQ_addClass($(item.a(_dataAnchor_)).a(_tabindex_, 0), \"v-link-error-source\");\n    // 添加节点\n    LinkTool_panel_body.ap(item);\n    item.uC().ck(function () {\n        JQ_removeClass(LinkTool_panel_body.ch(\".\" + _vTocItemCurrent_), _vTocItemCurrent_);\n        JQ_addClass(item, _vTocItemCurrent_);\n\n        V_util_gotoHash(item.a(_dataAnchor_));\n        LinkTool_hide();\n    });\n}\n\n/**\n * 检查链接\n */\nfunction LinkTool_checkLink() {\n    if (!LinkTool_enabled)\n        return;\n\n    let count = 0;\n    // 检查所有页内链接对应的锚点是否都存在\n    $(_write_ + \" a\").e(function () {\n        let _t = $(this),\n            href = _t.a(_href_);\n        // 忽略无效数据\n        // 对于 href=\"#\" 的情况，在 Typora 1.6.x 开始的版本需要考虑，因为 Typora 生成的 HTML 会自动过滤无效的页内链接，直接用 # 代替\n        if (href === gUndefined) // || href.length <= 1)\n            return gTrue;\n\n        // --------------------\n        // 页内链接\n        // 以 #mjx- 开始的链接为行间公式的页内引用块，会导致 jQuery 的正则表达式解析错误，须跳过\n        if (href === \"#\")\n            __addErrorLink(_t);\n        else if (href.sW(\"#\") && !href.sW(\"#mjx-\")) {\n            // 检索是否存在与该内链对应的锚点\n            let anchor = href.s(1, href.length);\n            // 没有检索到对应的锚点\n            if ($(_write_ + \" #\" + anchor + \",\" + _write_ + \" a\" + V_attrX(_name_, anchor)).length === 0) {\n                __addErrorLink(_t);\n            }\n        }\n    });\n\n    // 无错误链接\n    if (count === 0) {\n        JQ_remove(StsLinkTool_ui);\n    }\n    else {\n        // 显示错误链接错误图标\n        JQ_addClass(StsLinkTool_ui, _error_);\n        StsLinkTool_ui.hm(LinkTool_icon_error);\n\n        // 点击图标行为\n        StsLinkTool_ui.uC().ck(function () {\n            if (LinkTool_panel_list.isHidden())\n                LinkTool_show();\n            else\n                LinkTool_hide();\n        });\n    }\n\n    // 添加一条无效的页内链接记录\n    function __addErrorLink(aObj) {\n        count++;\n\n        // 设置坏链 id 值，用于跳转定位\n        let id = \"vk-error-anchor\" + count;\n        aObj.a(_id_, id);\n\n        LinkTool_addToCheck(id, \"🔗 \"\n            + V_ui_strong([\n                \"无效页内链接\",\n                \"Invalid Inner Link\"\n            ][V_lang_id] + \": \") + aObj.t());\n    }\n}\n\n/**\n * 是否已显示\n * @returns boolean\n */\nfunction LinkTool_isShowed() {\n    return StsLinkTool_ui.c(_display_) !== _none_;\n}\n\n/**\n * 显示坏链列表\n */\nfunction LinkTool_show() {\n    LinkTool_panel_list.show()\n    LinkTool_mask.show();\n}\n\n/**\n * 隐藏坏链列表\n */\nfunction LinkTool_hide() {\n    LinkTool_panel_list.hide()\n    LinkTool_mask.hide();\n\n    StsLinkTool_ui.hm(LinkTool_icon_error);\n    V_doc_scroll_unfreeze();\n}\n\n/**\n * 处理热键操作\n * @param code 非功能键键\n * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n * @param event 事件对象\n */\nfunction LinkTool_disposeHotkey(code, combKeys, event) {\n    if (LinkTool_panel_list.isHidden())\n        return;\n\n    let handled = false;\n    switch (code) {\n        case 27: // ESC\n            ERROR(LinkTool_isShowed());\n            if (LinkTool_isShowed()) {\n                LinkTool_hide();\n                handled = true;\n            }\n            break;\n    }\n\n    // 如果事件已处理，则禁止双重操作\n    if (handled)\n        event.preventDefault();\n}\n\n// ==================== 背景遮罩类 ==================== //\n\n/**\n * 构造函数\n * @param id 标识\n * @param style 扩展样式：left / right / bottom / center\n * @param close 是否显示关闭提示器\n */\nfunction BgMask(id, style, close) {\n    let T = this;\n    T.style = style;\n\n    // DOM_body().after\n    VOM_doc().af(V_ui_div(_, \"v-mask \" + (style !== gUndefined ? style + ___ : _) + id + ___ + _vBackdropBlurs_,\n        V_ui_copyrightInfo()));\n\n    // 根据动效等级初始化遮罩样式\n    V_ui_initEffectLevel2();\n\n    T.ui = $(\".v-mask.\" + id);\n    T.closer = gUndefined;\n\n    // 生成关闭提示器\n    if (close !== gUndefined && close) {\n        T.ui.ap(V_ui_div(_, \"v-mask-close \" + T.style,\n            V_ui_svgIcon(_icoMaskCloser_, 16, 60, _light_)));\n        T.closer = T.ui.ch(\".v-mask-close\");\n    }\n\n    T.partner = gUndefined;\n    T.partnerUI = gUndefined;\n\n    /**\n     * 绑定联动对象\n     * @param partner 联动对象\n     * @param ui 联动对象的 UI\n     */\n    T.bindPartner = function (partner, ui) {\n        T.partner = partner;\n        T.partnerUI = ui;\n    }\n\n    /**\n     * 显示遮罩\n     */\n    T.show = function () {\n        // 冻结滚动\n        V_doc_scroll_freeze();\n        V_doc_block = gTrue;\n\n        // 总是在 target 下显示\n        T.ui.c(_zIndex_, T.partnerUI.c(_zIndex_) - 1);\n\n        // 对「关闭」提示器的处理\n        if (T.closer !== gUndefined) {\n            // 默认是 style = left 的位置\n            let offset = 30,\n                x = JS_parseInt(T.partnerUI.c(_left_)) + T.partnerUI.w() + offset,\n                y = JS_parseInt(T.partnerUI.c(_top_)) + (T.partnerUI.h() - T.closer.h()) / 2;\n            // left / right 的处理\n            if (T.style === _left_ || T.style === _right_) {\n                T.closer.c(_left_, T.style === _right_\n                        ? JS_parseInt(T.partnerUI.c(_left_)) - T.closer.w() - offset\n                        : x)\n                    .c(_top_, y);\n            }\n            // bottom 的处理\n            else if (T.style === _bottom_) {\n                y = JS_parseInt(T.partnerUI.c(_bottom_)) + T.partnerUI.h() + offset;\n                T.closer\n                    // .c(s_Left, s_Auto)\n                    // .c(s_Top, s_Auto)\n                    .c(_bottom_, y + 20)\n                    // .c(s_MarginLeft, \"-\" + (T.close.w() / 2) + 'px')\n                    .c(_padding_, \"0px 50%\");\n            }\n        }\n\n        // 绑定 VLOOK logo 的点击事件\n        T.ui.f(\".\" + _vCopyright_ + \" .\" + _vCopyrightSvgIco_).uC().ck(function () {\n            env.show($(this));\n        });\n\n        // 点击遮罩隐藏联动对象\n        T.ui.uC().ck(function () {\n            // 取消冻结滚动\n            V_doc_scroll_unfreeze();\n            // 隐藏联动对应\n            if (typeof(T.partner) === _function_)\n                 T.partner();\n            else\n                T.partner.hide();\n\n            T.hide();\n        });\n\n        T.ui.show();\n    }\n\n    /**\n     * 隐藏遮罩\n     */\n    T.hide = function () {\n        // 取消冻结滚动\n        V_doc_scroll_unfreeze();\n        V_doc_block = gFalse;\n\n        T.ui.hide();\n    }\n}\n\n// ==================== 长内容折叠类 ==================== //\n\nlet ContentFolder_enabled = gTrue,\n    ContentFolder_enabled_table = gTrue,\n    ContentFolder_enabled_figure = gTrue,\n    ContentFolder_enabled_codeblock = gTrue,\n    ContentFolder_limit = V_debugMode ? 300 : 640, // 内容须折叠的高度限值\n    ContentFolder_contents = [], // 须进行折叠判断和处理的内容集\n    ContentFolder_buildTimers = [],\n    ContentFolder_rowNumFilter = _table_ + \" tbody tr\";\n\nfunction ContentFolder_init() {\n    if (!ContentFolder_enabled)\n        return;\n    // 更新 CSS 对应高度限制变量\n    V_util_setVarVal(\"--v-ex-limit\", ContentFolder_limit + \"px\");\n}\n\n/**\n * 添加内容\n */\nfunction ContentFolder_add(content, type) {\n    // 跳过不启用折叠，或任意父级元素是折叠引用块的情况\n    if (!ContentFolder_enabled\n        || content.ps(_details_ + \",\" + _blockquote_).length > 0) {\n        // || (V_util_getTagName(content.p()) === _details_\n        //     || content.ps(_details_).length > 0)) {\n        return;\n    }\n\n    if (type === _table_ && ContentFolder_enabled_table === gFalse)\n        return;\n    if (type === _figure_ && ContentFolder_enabled_figure === gFalse)\n        return;\n    if (type === _codeblock_ && ContentFolder_enabled_codeblock === gFalse)\n        return;\n\n    ContentFolder_contents.push(content);\n}\n\n/**\n * 适配内容展开操作区\n */\nfunction ContentFolder_adjust() {\n    if (!ContentFolder_enabled)\n        return;\n\n    // 提前中断未完成的处理\n    if (ContentFolder_buildTimers.length > 0) {\n        for (let i = 0, len = ContentFolder_buildTimers.length; i < len; i++)\n            clearTimeout(ContentFolder_buildTimers.shift());\n    }\n    // 重新开始构建内容展开操作区\n    ContentFolder_rebuild();\n}\n\n/**\n * 重建部分内容展开操作区，主要是 img, table, .md-fences 等会因导航中心的显示/关闭\n * 导致文档宽度变化而引起的内容高度也跟随变化的情况\n * 如在不显示导航中心时因宽度较变，高度等比变高，或高度反而变短\n * 会导致应该显示展开操作区即不显示，或不应显示却显示的情况\n */\nfunction ContentFolder_rebuild() {\n    if (!ContentFolder_enabled)\n        return;\n\n    // 遍历每个规则\n    let rules = gStyle.cssRules || gStyle.rules;\n    for (let j = rules.length - 1; j >= 0; j--) {\n    // $.each(gStyle.cssRules, function(i, rule) {\n        // 检查是否是要删除的规则\n        let ruleText = rules[j].selectorText;\n        if (ruleText !== gUndefined && ruleText.i(\n                \".\" + _vCaptionContainer_ + \".\" + _expander_ + \".id-\") > -1)\n                gStyle.deleteRule(j);\n        // if (rule.selectorText !== gUndefined && rule.selectorText.indexOf(\n        //     \".\" + _vCaptionContainer_ + \".\" + _expander_ + \".id-\") > -1)\n            // gStyle.deleteRule(i);\n    // });\n    }\n\n    // 重建需要重建的部分\n    for (let i = 0, len = ContentFolder_contents.length; i < len; i++) {\n        // img 类长内容\n        if (V_util_getTagName(ContentFolder_contents[i]).sW(\"i\")) {\n            // 创建一个Image对象，实现图片的预下载\n            let img = new Image();\n            // 获得图片实际加载的 src（针对 img 指定 srcset, darksrc, darksrcset 的情况）\n            img.src = ContentFolder_contents[i].get(0).currentSrc;\n            // 如果图片已经存在于浏览器缓存，直接处理\n            if (img.complete)\n                ContentFolder_buildTimers.push(\n                    setTimeout(function () {\n                        ContentFolder_checkAndProcess(ContentFolder_contents[i], gTrue, i);\n                    }, 50)\n                );\n            // 等待图片下载完成后再处理\n            else\n                img.onload = function () {\n                    ContentFolder_checkAndProcess(ContentFolder_contents[i], gTrue, i);\n                }\n        }\n        // 非 img 类长内容\n        else {\n            // 设置按不同时间间隔执行，减少在处理数量过多时，会阻塞 UI\n            ContentFolder_buildTimers.push(\n                setTimeout(function () {\n                    ContentFolder_checkAndProcess(ContentFolder_contents[i], gTrue, i);\n                }, 50)\n            );\n        }\n    }\n}\n\n/**\n * 检测内容是否过长，过长则进行处理。适用于「插图、表格、代码块」等\n * @param target 折叠的目标对象\n * @param rebuild 本次折叠是否属于重建的（如在页面加载后，由于页面正文区宽度变化后调用时属于重建）\n * @param i 折叠内容序号\n */\nfunction ContentFolder_checkAndProcess(target, rebuild, i) {\n    if (!ContentFolder_enabled)\n        return;\n\n    let container = target.p(),\n        tagName = V_util_getTagName(target),\n        isImg = tagName.sW(\"i\");\n\n    // 重建时已生成题注，所以实际容器对象与初始化时第一次构建会不同\n    if (rebuild)\n        container = container.p();\n\n    // 已被点击展开过了，在重建时则跳过\n    let expanded = container.a(_dataContentExpanded_);\n    if (expanded !== gUndefined && expanded.sW(\"t\")) {\n        let folded = container.a(_dataBeforePrintFolded_);\n        if (folded !== gUndefined && !expanded.sW(\"t\")) {\n            ContentFolder_buildTimers.shift();\n            return;\n        }\n    }\n\n    // 针对 img 内容，进行父容器的正确性处理\n    if (isImg) {\n        // 图像若加载晚于 img 的题注生成，其父容器则题注而不是 VLOOK 标识的 img 父容器\n        if (container.a(_dataContainer_) === gUndefined)\n            container = container.p();\n    }\n\n    // 初始化折叠配置\n    container.a(_dataContentFolded_, _false_); // 未折叠\n    container.a(_dataContentExpanded_, _false_); // 已被点击扩展了\n    container.c(_height_, _auto_);\n    // 针对 Mermaid 图表，不添加会导致出现滚动条\n    if (tagName.sW(\"s\"))\n        container.c(_paddingBottom_, \"10px\");\n\n    let h = JS_parseInt(target.c(_height_));\n    // 高度超出折叠要求高度时进行折叠\n    if (h > ContentFolder_limit) {\n        // 构建内容展开操作区\n        // ContentFolder_buildContentExpander(target, container, tagName, h, oldExpander);\n        ContentFolder_buildContentExpander(target, container, tagName, i);\n    }\n\n    ContentFolder_buildTimers.shift();\n}\n\n/**\n * 构建内容展开操作区\n * @param target 为目标对象创建展开操作区（如 table）\n * @param container 指定对象所属的容器（如 table 的容器为父元素 figure）\n * @param tagName target 的 HTML 标签名\n * @param i 折叠内容序号\n */\nfunction ContentFolder_buildContentExpander(target, container, tagName, i) {\n    if (!ContentFolder_enabled)\n        return;\n\n    // 设置为已折叠\n    container.a(_dataContentFolded_, _true_);\n\n    // 表格 <table>、Mermaid <svg> 图表的特性处理\n    if (tagName.sW(\"t\") || tagName.sW(\"s\")) {\n        container.c(_height_, ContentFolder_limit)\n            .c(_overflowX_, _auto_) // 可横向滚动\n            .c(_overflowY_, _hidden_);\n    }\n    // 非表格，非 Mermaid 图表的处理\n    else {\n        container.c(_height_, ContentFolder_limit)\n            .c(_overflowY_, _hidden_);\n    }\n\n    let w = JS_mathCeil(JS_parseFloat(container.c(_width_)));\n\n    // 如果处理对象为表格，先隐藏表格行号，find 过滤器的内容与对应的 css 要同步更新\n    if (container.f(_table_).length > 0)\n        JQ_addClass(container.f(ContentFolder_rowNumFilter), _vTblRowNumHidden_);\n\n    // 重新适配展开操作区尺寸\n    let tW = JS_mathCeil(JS_parseFloat(target.c(_width_)));\n    if (w > tW)\n        w = tW;\n\n    container.a(\"data-ex-label\", [\n        \"显示全部 ▼\",\n        \"Show all ▼\"\n    ][V_lang_id]);\n    let newClass = \".\" + _vCaptionContainer_ + \".\" + _expander_\n        + \".id-\" + i + \"::before{\" + _width_ + \":\" + w + \"px;}\";\n    gStyle.insertRule(newClass, 0);\n    JQ_addClass(container, _expander_ + \" id-\" + i);\n\n    container.a(_dataContentType_, tagName);\n\n    // 展开按钮 click 事件处理\n    container.on(_mouseUp_, function () {\n        ContentFolder_expand($(this));\n    });\n}\n\n/**\n * 展开被折叠的内容\n * @param container 点击的按钮所在父元素\n */\nfunction ContentFolder_expand(container) {\n    if (!ContentFolder_enabled)\n        return;\n\n    let tagName = container.a(_dataContentType_);\n\n    // 移除内容展开操作区\n    JQ_removeClass(container, _expander_);\n\n    // 展开对应的内容\n    container.a(_dataContentFolded_, _false_);\n    container.a(_dataContentExpanded_, _true_);\n    container.c(_height_, _auto_);\n    // 针对表格 <table>、Mermaid <svg> 图表增加滚动属性\n    if (tagName.sW(\"t\") || tagName.sW(\"s\"))\n        container.c(_overflow_, _auto_);\n    // 非表格、非 Mermaid 图表的处理\n    else\n        container.c(_overflowY_, \"initial\");\n\n    // 如果处理对象为表格，恢复显示表格行号，find 过滤器的的内容与对应的 css 要同步更新\n    if (container.f(_table_).length > 0)\n        JQ_removeClass(container.f(ContentFolder_rowNumFilter), _vTblRowNumHidden_);\n}\n\n// ==================== 工具提示信息类 ==================== //\n\nlet ToolTips_ui = gUndefined,\n    ToolTips_continueShow = gFalse, // 是否激活持续显示\n    ToolTips_lastStyle = gUndefined,\n    ToolTips_aniTimer = null,\n    ToolTips_continueTimer = null,\n    ToolTips_delay = 2000;\n\n/**\n * 构造函数\n */\nfunction ToolTips_init() {\n    ToolTips_ui = $(\".\" + _vToolTips_);\n\n    V_ui_addAnimate(ToolTips_ui, _opacity_);\n}\n\n/**\n * 绑定操作相关事件\n * @param source 对象\n * @param align 对齐方式，auto/center/right\n */\nfunction ToolTips_bind(source, align = _auto_) {\n    V_ui_bindHover(source);\n    source.hover(function () {\n        ToolTips_show(source, align);\n    }, function () {\n        ToolTips_hide();\n    });\n}\n\n/**\n * 显示工具提示信息\n *\n * @param follow 提示的目标元素\n * @param align 强制指定工具提示的水平对齐方式（auto/left/center/right）\n * @param classValue 指定微调的样式\n */\nfunction ToolTips_show(follow, align, classValue) {\n    if (env.device.mobile)\n        return;\n\n    ToolTips_ui.hm(follow.a(_dataTips_));\n\n    // 强制取消最后一次延时显示的处理\n    clearTimeout(ToolTips_aniTimer);\n    ToolTips_aniTimer = null;\n    // 强制取消隐藏后指定时间内取消持续显示的处理\n    clearTimeout(ToolTips_continueTimer);\n    ToolTips_continueTimer = null;\n\n    ToolTips_lastStyle = classValue;\n\n    const space = 10,\n        tipsW = ToolTips_ui.iW(),\n        tipsH = ToolTips_ui.iH(),\n        ww = $(window).w() - space,\n        wh = $(window).h() - space;\n    let left = follow.oL(),\n        top = follow.oT() - $(document).scrollTop(),\n        width = follow.iW(),\n        height = follow.iH();\n\n    JQ_removeClass(ToolTips_ui, _top_ + ___ + _bottom_ + ___ + _center_ + ___ + _right_);\n\n    // 指定对齐方式或提示超出屏幕\n    if (align !== _auto_ || (left + tipsW) > ww) {\n        // align: right\n        JQ_addClass(ToolTips_ui, _right_);\n        left = follow.oL() - tipsW + width;\n        // 右侧顶边，则微调\n        if (left + tipsW >= ww)\n            left = left - space;\n\n        // align: center\n        if (align === _center_) {\n            JQ_removeClass(ToolTips_ui, _right_);\n            JQ_addClass(ToolTips_ui, _center_);\n            left = follow.oL() + (width - tipsW) / 2;\n        }\n    }\n    // 左侧顶边，则微调\n    if (left <= 0)\n        left = space;\n\n    if (ToolTips_lastStyle !== gUndefined)\n        JQ_addClass(ToolTips_ui, ToolTips_lastStyle);\n\n    if (top + height + tipsH + space < wh) {\n        JQ_addClass(ToolTips_ui, _top_);\n        top = top + height + space;\n    }\n    else {\n        JQ_addClass(ToolTips_ui, _bottom_);\n        top = top - tipsH - space;\n    }\n    ToolTips_ui.c(_left_, left).c(_top_, top);\n\n    // 延时，或立即显示提示\n    let waitTime = (ToolTips_continueShow) ? 0 : ToolTips_delay;\n    ToolTips_aniTimer = setTimeout(function () {\n        ToolTips_continueShow = gTrue; // 一旦显示后，激活持续显示\n        V_ui_show(ToolTips_ui);\n\n    }, waitTime);\n}\n\n/**\n * 隐藏工具提示\n */\nfunction ToolTips_hide() {\n    // 隐藏后在指定时间内取消持续显示\n    clearTimeout(ToolTips_continueTimer);\n    ToolTips_continueTimer = setTimeout(function () {\n        ToolTips_continueShow = gFalse;\n    }, ToolTips_delay);\n\n    // V_doc_scroll_unfreeze();\n    // 强制取消最后一次延时显示的处理\n    clearTimeout(ToolTips_aniTimer);\n    ToolTips_aniTimer = null;\n    V_ui_hide(ToolTips_ui);\n\n    if (ToolTips_lastStyle !== gUndefined)\n        JQ_removeClass(ToolTips_ui, ToolTips_lastStyle);\n}\n\n// ==================== 弹层提示信息类 ==================== //\n\n/**\n * 构造函数\n * @param mask 遮罩对象\n */\nfunction InfoTips(mask) {\n    let T = this;\n    T.ui = $(\".\" + _vInfoTips_);\n    T.aniTimer = null;\n\n    // 绑定点击事件\n    T.ui.uC().ck = function () {\n        T.hide();\n    }\n\n    // 遮罩\n    T.mask = mask;\n    T.mask.bindPartner(this, T.ui);\n\n    /**\n     * 显示通知信息\n     * @param message 提示内容\n     * @param delay 延时指定 ms 时间后自动关闭提示\n     * @param mask 是否显示遮罩\n     * @param target 事件源，不为空时则跟随显示\n     */\n    T.inform = function (message, delay, mask, target) {\n        T.show(message, delay, mask, \"inform\", target);\n    }\n\n    /**\n     * 显示泡泡信息\n     * @param message 提示内容\n     * @param delay 延时指定 ms 时间后自动关闭提示\n     * @param mask 是否显示遮罩\n     * @param target 事件源，不为空时则跟随显示\n     */\n    T.bubble = function (message, delay, mask, target) {\n        T.show(message, delay, mask, _bubble_, target);\n    }\n\n    /**\n     * 显示错误信息\n     * @param message 提示内容\n     * @param delay 延时指定 ms 时间后自动关闭提示\n     * @param mask 是否显示遮罩\n     * @param target 事件源，不为空时则跟随显示\n     */\n    T.error = function (message, delay, mask, target) {\n        T.show(message, delay, mask, _error_, target);\n    }\n\n    /**\n     * 是否已显示\n     * @returns boolean\n     */\n    T.isShowed = function () {\n        return T.ui.c(_display_) !== _none_;\n    }\n\n    /**\n     * 显示通知提示信息\n     * @param message 提示内容\n     * @param delay 延时指定 ms 时间后自动关闭提示\n     * @param mask 是否显示遮罩\n     * @param type 类型。info/error\n     * @param target 事件源，不为空时则跟随显示\n     */\n    T.show = function (message, delay, mask, type, target) {\n        clearTimeout(T.aniTimer);\n        T.aniTimer = null;\n\n        T.ui.hm(message);\n\n        // 先重置为默认值\n        JQ_removeClass(T.ui, _error_);\n        JQ_removeClass(T.ui, _bubble_);\n        T.ui.c(_width_, _)\n            .c(_height_, _)\n            .c(_right_, _auto_)\n            .c(_bottom_, _auto_)\n            .c(_borderRadius_, _varVRB_);\n        if (type === _error_)\n            JQ_addClass(T.ui, _error_);\n        else if (type === _bubble_)\n            JQ_addClass(T.ui, _bubble_);\n\n        // 跟随事件源显示\n        if (target !== gUndefined) {\n            V_ui_moveToTarget(T.ui, target);\n        }\n        // 居中显示\n        else\n            V_ui_moveToCenter(T.ui);\n\n        T.ui.show();\n\n        // 延时后自动关闭\n        if (delay != null) {\n            T.aniTimer = setTimeout(function () {\n                    T.hide();\n                }, delay);\n        }\n\n        // 显示遮罩\n        if (mask)\n            T.mask.show();\n    }\n\n    /**\n     * 隐藏弹窗信息\n     */\n    T.hide = function () {\n        T.ui.hide();\n        T.mask.hide();\n    }\n\n    /**\n     * 处理热键操作\n     * @param code 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (code, combKeys, event) {\n        if (T.ui.isHidden())\n            return;\n\n        let handled = false;\n        switch (code) {\n            case 27: // ESC\n                if (T.isShowed()) {\n                    T.hide();\n                    handled = true;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n    }\n}\n\n// ==================== 底部提示信息类 ==================== //\n\n/**\n * 构造函数\n * @param sourceName 配套的源对象标识\n */\nfunction BottomTips(sourceName) {\n    let T = this;\n    VOM_doc().af(\n        V_ui_div(_, \"v-bottom-tips \" + sourceName,\n            V_ui_div(_, _)));\n\n    T.ui = $(\".v-bottom-tips.\" + sourceName);\n\n    /**\n     * 显示底部提示栏\n     * @param message 提示内容\n     */\n    T.show = function (message) {\n        T.ui.ch(\"div\").hm(message);\n        T.ui.show();\n    }\n\n    /**\n     * 隐藏底部提示栏\n     */\n    T.hide = function () {\n        T.ui.hide();\n    }\n}\n\n// ==================== 文档更多内容遮罩栏 ==================== //\n\nlet MoreDocContent_ui_before = gUndefined,\n    MoreDocContent_ui_after = gUndefined;\n/**\n * 构造函数\n */\nfunction MoreDocContent_init() {\n    MoreDocContent_ui_before = $(\".\" + _vMoreDocContent_ + \"before\");\n    MoreDocContent_ui_after = $(\".\" + _vMoreDocContent_ + \"after\")\n}\n\n/**\n * 刷新显示更多内容遮罩栏\n * @param scrollTop 文档当前滚动位置，如果为空则自动获取\n */\nfunction MoreDocContent_refresh(scrollTop) {\n    if (scrollTop === gUndefined)\n        scrollTop = $(document).scrollTop();\n\n    // before UI\n    if (scrollTop > 20) {\n        if (MoreDocContent_ui_before.c(_display_) === _none_)\n            MoreDocContent_ui_before.show();\n    }\n    else\n        MoreDocContent_ui_before.hide();\n\n    // after UI\n    if (scrollTop + $(window).h() > ($(document).h() - 20))\n        MoreDocContent_ui_after.hide();\n    else {\n        if (MoreDocContent_ui_after.c(_display_) === _none_)\n            MoreDocContent_ui_after.show();\n    }\n}\n\n/**\n * 隐藏更多内容遮罩栏\n */\nfunction MoreDocContent_hideAfter() {\n    MoreDocContent_ui_after.hide();\n}\n\n// ==================== 题注生成器类 ==================== //\n\nlet CaptionGenerator_spliter = \". \",\n    CaptionGenerator_autoContent = gFalse; // 自动根据内索引对象内容生成题注\n\n/**\n * 生成题注\n * @param target 需要添加题注的对象\n * @param tagName HTML 标签名称\n */\nfunction CaptionGenerator_actionForTextContent(target, tagName) {\n    let captionPrefix = [\n            \"表 \",\n            \"Table \"\n        ][V_lang_id] + V_doc_counter_table,\n        caption = _,\n        indexObj = gUndefined,\n        anchor = _,\n        dataForSearch = _;\n\n    // 代码块 <pre>\n    if (tagName.sW(\"pr\")) {\n        indexObj = iNavCenter.codeblock;\n        captionPrefix = [\n            \"代码块 \",\n            \"Code Block \"\n        ][V_lang_id] + V_doc_counter_codeblock;\n    }\n    // 表格 <table>\n    else if (tagName.sW(\"t\")) {\n        indexObj = iNavCenter.table;\n    }\n\n    // 尝试获得带题注语法的内容\n    let fcSet = CaptionGenerator_getCaptions(target.p().pr(), tagName);\n    let fc = fcSet[0], // 第 1 题注\n        fc2 = fcSet[1]; // 第 2 题注\n    captionPrefix = V_ui_span(_, _, captionPrefix + CaptionGenerator_spliter);\n\n    // 无指定的题注文本，同时开启了自动生成题注，则取其部分内容作为自动题注内容\n    if (fc == null || fc.x().length === 0) {\n        fc = _;\n        if (CaptionGenerator_autoContent) {\n            if (tagName.sW(\"pr\")) // 代码块\n                fc = target.f(\".\" + _vCodeMirrorLine_).t().x();\n            else if (tagName.sW(\"t\")) // 表格，并过滤掉列格式相关语法标识内容\n                fc = target.f(\"td\").t().x().r(/(==|\\[\\s]|\\.\\.|<<|\\^\\^|##\\s)/ig, _);\n            // 省略中间内容处理\n            fc = V_util_ellipsisText(fc.x(), 20);\n        }\n    }\n    caption = captionPrefix + fc;\n\n    // 代码块 <pre>\n    if (tagName.sW(\"pr\")) {\n        anchor = _vkIdCodeblock_ + V_doc_counter_codeblock;\n        target.wrap(V_ui_div(anchor, \"v-caption pr\"));\n        dataForSearch += target.f(\".\" + _vCodeMirrorLine_).t();\n    }\n    // 表格 <table>\n    else if (tagName.sW(\"t\")) {\n        anchor = _vkIdTbl_ + V_doc_counter_table;\n        target.wrap(V_ui_div(anchor, \"v-caption\"));\n        dataForSearch += target.t();\n    }\n\n    // 添加第 1 题注\n    target.bf(V_ui_figcaption(_vCap1_.xD(), _, caption));\n    // 添加第 2 题注\n    let has2Captions = (fc2 != null && fc2.length > 0);\n    if (has2Captions) {\n        target.af(V_ui_figcaption(_vCap2_.xD(), _, captionPrefix + fc2));\n        target.p().a(_dataCaptionCount_, \"2\");\n    }\n    // ----------------------------------------\n    // 添加到对应的内容索引\n    if (indexObj !== gUndefined) {\n        dataForSearch += has2Captions ? fc2 : _;\n        $(\"#\" + anchor).a(_dataTitle_, caption);\n        indexObj.add(caption, anchor, dataForSearch);\n    }\n}\n\n/**\n * 针对插图（img、mermaid）生成题注\n * @param target 需要添加题注的对象\n * @param tagName 添加题注的目标对象的 HTML 标签名称\n */\nfunction CaptionGenerator_actionForMediaContent(target, tagName) {\n    let fc = target.a(_alt_), // 默认尝试获取图片的 alt 内容作为题注内容\n        fc2 = target.a(_title_), // 默认尝试获得图片的 title 作为第二题注内容\n        indexObj = iNavCenter.figure,\n        anchor = _,\n        dataForSearch = _;\n\n    let fcSet = null;\n    // 若图片 alt 无内容，则尝试获取前面段落（如<p>、<h6>）作为第 1、2 题注的内容\n    if (fc === gUndefined || fc.x().length === 0) {\n        fcSet = CaptionGenerator_getCaptions(target.p().pr(), tagName);\n        if (fcSet[0] != null)\n            fc = fcSet[0];\n        if (fcSet[1] != null)\n            fc2 = fcSet[1];\n    }\n\n    // 插图（img、mermaid）题注前缀\n    let caption = _,\n        captionPrefix = [\n        \"图 \",\n        \"Figure \"\n    ][V_lang_id] + V_doc_counter_figure;\n    // 音频题注 audio\n    if (tagName.sW(\"a\")) {\n        indexObj = iNavCenter.media;\n        captionPrefix = [\n            \"音频 \",\n            \"Audio \"\n        ][V_lang_id] + V_doc_counter_audio;\n    }\n    // 视频频题注 video\n    else if (tagName.sW(\"v\")) {\n        indexObj = iNavCenter.media;\n        captionPrefix = [\n            \"视频 \",\n            \"Video \"\n        ][V_lang_id] + V_doc_counter_video;\n    }\n\n    // 无指定的题注文本，同时开启了自动生成题注，则取其部分内容作为自动题注内容\n    if (fc == null || fc.x().length === 0) {\n        fc = _;\n        if (CaptionGenerator_autoContent) {\n            if (tagName.sW(\"s\")) // Mermaid SVG\n                fc = target.f(\"g\").t().x();\n            // 省略中间内容处理\n            fc = V_util_ellipsisText(fc.x(), 20);\n        }\n    }\n    captionPrefix = V_ui_span(_, _, captionPrefix + CaptionGenerator_spliter);\n    caption = captionPrefix + fc;\n\n    // 为插图（mermaid）增加题注 <svg>\n    if (tagName.sW(\"s\")) {\n        anchor = _vkIdFig_ + V_doc_counter_figure;\n        // 针对 Mermaid 插图，添加额外的类，用于打印前后处理时直接定位 Mermaid 插图的题注\n        target.wrap(V_ui_div2(anchor, \"v-caption mermaid\", V_attr(_dataFigType_, tagName)));\n        dataForSearch += target.f(_div_ + \",\" + _span_ + \",tspan,text\").t();\n    }\n    // 为插图（img）增加题注 <img>\n    else if (tagName.sW(\"i\")) {\n        anchor = _vkIdFig_ + V_doc_counter_figure;\n        target.wrap(V_ui_div2(anchor, \"v-caption\", V_attr(_dataFigType_ , tagName)));\n        dataForSearch += target.a(_src_);\n    }\n    // 为音频增加题注 audio\n    else if (tagName.sW(\"a\")) {\n        anchor = _vkIdAudio_ + V_doc_counter_audio;\n        target.wrap(V_ui_div2(anchor, \"v-caption\", V_attr(_dataFigType_, tagName)));\n        dataForSearch += target.a(_src_);\n    }\n    // 为视频增加题注 video\n    else if (tagName.sW(\"v\")) {\n        anchor = \"vk-id-video\" + V_doc_counter_video;\n        target.wrap(V_ui_div2(anchor, \"v-caption\", V_attr(_dataFigType_, tagName)));\n    }\n\n    // 生成第 1 题注\n    target.bf(V_ui_figcaption(_vCap1_.xD(), _, caption));\n    // 生成第 2 题注\n    let has2Captions = (fc !== gUndefined && fc2 != null && fc2.length > 0);\n    if (has2Captions) {\n        target.af(V_ui_figcaption(_vCap2_.xD(), _, captionPrefix + fc2));\n        target.p().a(_dataCaptionCount_, \"2\");\n    }\n    // ----------------------------------------\n    // 添加到对应的内容索引\n    if (indexObj !== gUndefined) {\n        dataForSearch += has2Captions ? fc2 : _;\n        $(\"#\" + anchor).a(_dataTitle_, caption);\n        indexObj.add(caption, anchor, dataForSearch);\n    }\n\n    // ----------------------------------------\n    // 修正在 SVG 插图套上题注后的自适应尺寸 <svg>\n    if (tagName.sW(\"s\")) {\n        if (target.a(_height_) !== _none_ || target.c(_height_) !== _none_) { // 有指定高度的\n            JQ_removeAttr(target, _height_);\n            target.c(_height_, _);\n        }\n\n        // 调整SVG插图，尽量按其真实插图的大小显示，超出浏览器宽度的，则左右滚动浏览\n        let style = gUndefined;\n        if (target.c(_maxWidth_) !== _none_) // CSS 中指定了最大宽度\n            target.p().c(_width_, target.c(_maxWidth_));\n        else if ((style = target.a(_style_)) !== gUndefined && style.i(_width_) > -1) // 通过 style 指定了宽度\n            target.p().c(_width_, target.c(_width_));\n        else if (target.a(_width_) !== _100pc_) // 指定了 width 属性，且不为 100%\n            target.p().c(_width_, JS_parseInt(target.a(_width_)) + 4); // 4 为两边 border 的宽度\n        else if (target.a(_viewBox_) !== _none_) // 指定 width 为 100% 的情况\n            target.p().c(_width_, target.a(_viewBox_).sp(___)[2] + \"px\");\n        else\n            target.p().c(_width_, _100pc_);\n    }\n}\n\n/**\n * 返回插图、表格、代码块上方的题注\n * @param caption 潜在的题注内容对象\n * @param tagName 添加题注的目标对象的 HTML 标签名称\n */\nfunction CaptionGenerator_getCaptions(caption, tagName) {\n    let fcSet = [], // 题注集\n        captionTagName = V_util_getTagName(caption),\n        hideCaptionSrc = gFalse; // 是否隐藏题注源\n\n    let capResult = CaptionGenerator_parseSyntax(caption);\n    // 双题注\n    if (capResult[1] === 2) {\n        fcSet = __getCaptionSet(caption, 2, capResult[0]);\n        hideCaptionSrc = gTrue;\n    }\n    // 单题注\n    else if (capResult[1] === 1) {\n        fcSet = __getCaptionSet(caption, 1, capResult[0]);\n        fcSet[1] = null;\n        hideCaptionSrc = gTrue;\n    }\n    // 无题注语法，但由有 h1-h6 引导\n    else if (captionTagName.sW(\"h\")) {\n        fcSet[0] = caption.t().x();\n        fcSet[1] = null;\n        // 不能直接隐藏，会影响页内链接跳转至该位置\n        // 设置为不可见，并调整位置布局实现隐藏效果，同时不影响跳转\n        if (captionTagName === _h6_) { // 只针对 h6，h1-h5不隐藏\n           caption.c(_visibility_, _hidden_)\n                .c(_position_, _absolute_);\n        }\n    }\n\n    // 若成功匹配出题注，且内容不是 <img> 则隐藏原始内容\n    if (hideCaptionSrc && (!tagName.sW(\"i\") || capResult[0] === 200)) {\n        JQ_remove(caption);\n    }\n    return fcSet;\n\n\n\n    /**\n     * 返回题注数据数组\n     * @param target 题注数据的目标对象\n     * @param count 题注数量\n     * @param type 题注语法类型，100：标准，200：简化语法\n     * @returns [] [0] 为第 1 个题注，[1] 为第 2 个题注\n     */\n    function __getCaptionSet(target, count, type) {\n        let fcSet = [];\n        // 标准语法\n        if (type === 100) {\n            let text = target.t().x();\n            fcSet[0] = text.s(2, text.i(\"]\", 2));\n            if (count === 2) // \"▲ \" +\n                fcSet[1] = text.s(text.i(']\"', 2) + 2, text.length - 1);\n        }\n        // 简化语法\n        else if (type === 200) {\n            if (count === 2) // \"▲ \" +\n                fcSet[1] = target.f(_mark_ + \">em\").t().x();\n            JQ_remove(target.f(_mark_ + \">em\"));\n            fcSet[0] = target.t().x();\n        }\n        return fcSet;\n    }\n}\n\n/**\n * 解析并返回匹配的题注数量\n * @param target 题注语法内容对象\n * @returns [] [0] 语法类型, [1] 题注数量\n */\nfunction CaptionGenerator_parseSyntax(target) {\n    let reg2 = /^!\\[.+]\".+\"$/, // 有 2 个题注\n        reg1 = /^!\\[.+]$/, // 只有 1 个题注\n        html = _;\n    // 标准语法，双题注\n    if (reg2.test(target.t().x()))\n        return [100, 2]; // 100: 标准语法\n    // 标准语法，单题注\n    else if (reg1.test(target.t().x()))\n        return [100, 1]; // 100: 标准语法\n    // 简化的新语法\n    else if ((html = target.hm()) !== gUndefined) {\n        if (html.sW(\"<em><mar\") && html.eW(\"/em>\")) {\n            if (html.i(\"/em></mark>\") === -1)\n                return [200, 1]; // 200: 简化语法\n            else\n                return [200, 2]; // 200: 简化语法\n        }\n    }\n    return [0, 0]; // 无题注\n}\n\n// ==================== 分步分级类 ==================== //\n\n// 样式优化的目标内容\nlet BreadcrumbStyle_count = 0,\n    BreadcrumbStyle_syntax = /(\\s*(\\/|\\\\|▸|▶︎|(&gt;))\\s*)/g;\n\n/**\n * 初始如化分步分级处理\n */\nfunction BreadcrumbStyle_init() {\n    // 对所有分步分级元素进行样式优化\n    $(_write_ + \" em>mark:only-child>span:first-child\").e(function () {\n        BreadcrumbStyle_count++;\n        let _t = $(this),\n            mark = _t.p();\n        mark.unwrap(); // 解包 em\n        // 添加新包\n        mark.wrap(V_ui_span(_vBreadcrumbStyle_ + \" id-\" + BreadcrumbStyle_count, _, _));\n        _t.unwrap(); // 解包 mark\n\n        // ------ 正式开始处理 ------\n        let bread = _t.p(), // 获得添加新包后的新父级元素\n            slashOrg = \"</\",\n            slashTmp = \"<___slash___\",\n            html = bread.hm().rA(slashOrg, slashTmp);\n\n        // 生成原始内容\n        bread.a(_dataClipboardText_, bread.t());\n        // 将目标内容替换为指定标签进行样式优化\n        html = html.rA(BreadcrumbStyle_syntax, V_ui_label(_, _, ___));\n        bread.hm(html.rA(slashTmp, slashOrg));\n\n        // 点击事件处理\n        bread.uC().ck(function (event) {\n            let _t = $(this);\n            Copyer_action(_t, _t.a(_dataClipboardText_), gFalse);\n        });\n    });\n\n    // 避免与 BreadcrumbStyle 处理中的多层触发\n    $(_write_ + \" .\" + _vBreadcrumbStyle_ + \" a\").ck(function (event) {\n        event.stopPropagation(); // 停止事件冒泡\n    });\n}\n\n// ==================== 代码块增强类 ==================== //\n\n/**\n * 初始化代码块\n */\nfunction ExtCodeBlock_init() {\n    // 获取自动生成题注并编号的行数下限，大于该行数的代码才会自动生成题注和编号\n    let lmc = V_util_getParamVal(\"lmc\");\n    lmc = (lmc === gUndefined ? 1 : JS_parseInt(lmc));\n    // 遍历所有代码块\n    $(\".\" + _vFences_).e(function () {\n        let _t = $(this);\n\n        // 绑定内容助手\n        ContentAssistor_bind(_t, _codeblock_);\n\n        // 折叠长代码块\n        ContentFolder_add(_t, _codeblock_);\n\n        // 生成代码块插图题注（行数 > 1 的才进行处理）\n        if (_t.f(\".\" + _vCodeMirrorLine_).length > lmc) {\n            V_doc_counter_codeblock++;\n            // 外套一个 <figcaption> 标签，用于内容折叠时与插图、表格的 DOM 结构一致\n            _t.wrap(V_ui_figcaption(_vCaptionContainer_, V_attr(_dataContainer_, _pre_)));\n\n            // 先根据题注语法生成题注\n            CaptionGenerator_actionForTextContent(_t, _pre_);\n        }\n        else {\n            // 若有指定题注内容，则删除\n            if (CaptionGenerator_parseSyntax(_t.pr())[0] > 0)\n                JQ_remove(_t.pr());\n        }\n    });\n}\n\n/**\n * 复制代码块内容\n * @param source 内容源对象\n * @param event 事件对象\n */\nfunction ExtCodeBlock_copyContent(source, event) {\n    let content = _,\n        lines = ContentAssistor_lastHover.ch().f(\".CodeMirror-code .\" + _vCodeMirrorLine_),\n        lineNum = 0,\n        lineCount = lines.length,\n        // 用于清除或转换特殊字符\n        badChars = [\n            \"%E2%80%8B\", // ZERO WIDTH SPACE \\u200b\n            \"%C2%A0\", // NO-BREAK SPACE \\u00A0\n            \"%0A\" // NO-BREAK SPACE \\u0A\n        ],\n        goodChars = [\n            _, // 替换 ZERO WIDTH SPACE\n            \"%20\", // for NO-BREAK SPACE\n            _ // for NO-BREAK SPACE\n        ];\n    // 逐行读取代码\n    lines.e(function () {\n        lineNum++;\n        let encodeText = encodeURI($(this).t());\n        // 清除或转换特殊字符\n        for (let i = 0; i < badChars.length; i++) {\n            if (encodeText.i(badChars[i]) > -1)\n                encodeText = encodeText.rA(badChars[i], goodChars[i]);\n        }\n        content += JS_decodeURI(encodeText) + (lineNum < lineCount ? \"\\n\" : _);\n    });\n\n    // 复制目标内容\n    if (ContentAssistor_copyAsMarkdown) {\n        let lang = _;\n        if (ContentAssistor_lastHover !== gUndefined)\n            lang = ContentAssistor_lastHover.a(_lang_);\n        content = \"```\" + (lang !== gUndefined ? lang : _) + \"\\n\" + content + \"\\n```\";\n    }\n    Copyer_action(source, content, gTrue);\n}\n\n// ==================== 复制类 ==================== //\n\nlet Copyer_lastActionTime = 0,\n    Copyer_processing = gFalse,\n    Copyer_copyModeTimer = null;\n\n/**\n * 执行复制\n * @param source 触发复制的对象\n * @param content 要复制的内容\n * @param supportMarkdown 是否支持复制为 Markdown\n * @param successCallback 复制成功后的回调函数\n * @param errorCallback 复制失败后的回调函数\n */\nfunction Copyer_action(source, content, supportMarkdown, successCallback, errorCallback) {\n    // 控制两次复制操作的时间间隔（同时也是解决嵌套情况下的复制失效问题）\n    let ts = new Date().getTime();\n    if (Copyer_processing || ts - Copyer_lastActionTime < 200)\n        return;\n    Copyer_lastActionTime = ts;\n    Copyer_processing = gTrue;\n\n    // 将要复制的内容赋予给 clipboard.js 指定的对象属性 data-clipboard-text\n    let targetName = \".\" + source.a(_class_).rA(___, \".\");\n    DEBUG(targetName);\n    $(targetName).a(_dataClipboardText_, content);\n    DEBUG($(targetName).a(_dataClipboardText_));\n\n    // 创建 clipboard.js 对象用于实现复制\n    let clipboard = new ClipboardJS(targetName);\n\n    // 复制成功事件\n    clipboard.on(\"success\", function(event) {\n        // 显示复制成功提示\n        let note = ContentAssistor_copyAsMarkdown ? \" (\" + V_ui_strong(\"as Markdown\") + \")\" : _,\n            tips = supportMarkdown ? [\n                \"<br>\" + V_ui_sub(_, _, \"( 再次点击可复制为 Markdown )\"),\n                \"<br>\" + V_ui_sub(_, _, \"( Click again to Copy as Markdown )\")\n                ][V_lang_id] : _;\n        iInfoTips.bubble([\n                \"已复制\",\n                \"Copied\"\n            ][V_lang_id] + (ContentAssistor_copyAsMarkdown ? _ : tips)\n            + note, 2000, gFalse, source);\n\n        event.clearSelection();\n\n        typeof(successCallback) === _function_ && successCallback();\n\n        // 销毁处理已有对象，避免多次监听\n        clipboard.destroy();\n\n        // 同一复制源，限时内第 2 次点击的处理（复制为 Markdown）\n        if (supportMarkdown) {\n            // 切换复制模式、光标、内容助手的复制图标\n            if (Copyer_copyModeTimer != null) {\n                clearTimeout(Copyer_copyModeTimer);\n                Copyer_copyModeTimer = null;\n            }\n            ContentAssistor_toggleCopyMode(gTrue);\n            // 限时恢复为普通复制模式\n            Copyer_copyModeTimer = setTimeout(function () {\n                // 切换复制模式、光标、内容助手的复制图标\n                ContentAssistor_toggleCopyMode(gFalse);\n                Copyer_copyModeTimer = null;\n            }, 2000);\n        }\n\n        Copyer_processing = gFalse;\n    });\n    // 复制失败事件\n    clipboard.on(_error_, function () {\n        // 显示复制失败提示\n        iInfoTips.error(V_ui_strong([\n            \"非常抱歉～暂不支持在该浏览器中复制\",\n            \"I'm very sorry~ I don't support copying in this browser\"\n        ][V_lang_id]), 3000, gFalse, source);\n\n        typeof(errorCallback) === _function_ && errorCallback();\n\n        // 销毁处理已有对象，避免多次监听\n        clipboard.destroy();\n        Copyer_processing = gFalse;\n    });\n}\n\n// ==================== 章节目录自动编号增强类 ==================== //\n\nlet ChpAutoNum_counter = [],\n    ChpAutoNum_lastLevel = 1,\n    // 自定义的自动编号格式模板（可只指定任意 h1~h6）\n    ChpAutoNum_tpl = \"h1{{###. }},h2{{### }},h3{{### }},h4{{### }},h5{{### }},h6{{#none# }}\",\n    // ChpAutoNum_tpl = \"h1{{###. }},h2{{### }},h3{{### }},h4{{### }},h5{{### }},h6{{❖ ### }}\",\n    // 默认的自动编号格式模板\n    ChpAutoNum_tplSet = ChpAutoNum_tpl.sp(\",\"),\n    ChpAutoNum_tpl_syntax = /h([1-6]){{(.*)(#(0*)(#|zh|ZH|alpha|ALPHA|roman|ROMAN|none)(-min|-sup)?#)(.*)}}/,\n    ChpAutoNum_tpl_leftPad = [_, _, _, _, _, _],\n    ChpAutoNum_tpl_format = [\"#\", \"#\", \"#\", \"#\", \"#\", \"#\"], // 编号格式\n    ChpAutoNum_tpl_formatOpt = [0, 0, 0, 0, 0, 0], // 特殊格式选项\n    ChpAutoNum_tpl_prefix = [_, _, _, _, _, _], // 前缀\n    ChpAutoNum_tpl_suffix = [_, _, _, _, _, _]; // 后缀\n\n// 特殊格式选项\nconst CHPAUTONUM_TPL_FORMAT_OPT_NONE = 0, // 无\n    CHPAUTONUM_TPL_FORMAT_OPT_MIN = 1, // -min\n    CHPAUTONUM_TPL_FORMAT_OPT_SUP = 2; // -sup\n\n/**\n * 初始化章节目录自动编号\n */\nfunction ChpAutoNum_initToc() {\n    let metaTpl = V_util_getMetaByName(\"vlook-chp-autonum\");\n    // 没有目录大纲，或指定关闭自动编号（同时没有指定自动编号格式模板）则跳过\n    if (gTocContent.isEmpty()\n        || (V_util_getVarVal(\"--v-chp-auto-num\").x() === _off_ && metaTpl === gUndefined))\n        return;\n\n    // 重置自动编号格式模板\n    ChpAutoNum_resetTpl(metaTpl);\n\n    // 对目录大纲内的章节条目进行处理\n    ChpAutoNum_resetCounter();\n    gTocContent.ch(\".\" + _mdTocItem_).e(function () {\n        let item = $(this);\n        __genNumContent(item,\n            ChpAutoNum_parseTocHeaderLevel(item.a(_class_)));\n    });\n\n    // 对文档中的章节条目进行处理（不包括封底）\n    ChpAutoNum_resetCounter();\n    VOM_doc().ch(\"h1:not(\" + _lastChild_ + \"), h2, h3, h4, h5\").e(function () {\n        let item = $(this);\n        __genNumContent(item,\n            ChpAutoNum_parseTocHeaderLevel(V_util_getTagName(item)));\n    });\n\n    // 对文档中的 h6 章节条目进行处理（不包括封面）\n    ChpAutoNum_resetCounter();\n    VOM_doc().ch(_h6_ + \":not(\" + _firstChild_ + \")\").e(function () {\n        let prefix = (ChpAutoNum_tpl_prefix[5]),\n            result;\n        if ((result = prefix.m(/var\\((--.+)\\)/)) != null)\n            prefix = V_util_getVarVal(result[1]).rA('\"', \"\");\n        $(this).a(_dataHeaderNum_, prefix);\n    });\n\n    // 生成章节编号\n    function __genNumContent(item, lv) {\n        let diff = lv - ChpAutoNum_lastLevel,\n            absDiff = Math.abs(diff);\n        // 当前层级比上一层级低\n        if (diff > 0) {\n            for (let i = 0; i < absDiff; i++)\n                ChpAutoNum_push();\n        }\n        // 当前层级比上一层级高\n        else if (diff < 0) {\n            for (let i = 0; i < absDiff; i++)\n                ChpAutoNum_pop();\n        }\n        // 当前层级与上一层级一样\n        else {\n            ChpAutoNum_counter[ChpAutoNum_lastLevel - 1]++;\n        }\n\n        item.a(_dataHeaderNum_, ChpAutoNum_toString());\n    }\n}\n\n/**\n * 进入下一级的处理\n */\nfunction ChpAutoNum_push() {\n    ChpAutoNum_lastLevel++;\n    ChpAutoNum_counter[ChpAutoNum_lastLevel - 1] = 1;\n}\n\n/**\n * 返回上一级的处理\n */\nfunction ChpAutoNum_pop() {\n    ChpAutoNum_counter[ChpAutoNum_lastLevel - 1] = 0;\n    ChpAutoNum_lastLevel--;\n    ChpAutoNum_counter[ChpAutoNum_lastLevel - 1]++;\n}\n\n/**\n * 重置自动编号计数器\n */\nfunction ChpAutoNum_resetCounter() {\n    ChpAutoNum_counter = [0, 0, 0, 0, 0, 0];\n    ChpAutoNum_lastLevel = 1;\n}\n\n/**\n * 根据自动编号格式模板重新重置 h1~h6 自动编号格式\n * @param metaTpl 格式模板内容\n */\nfunction ChpAutoNum_resetTpl(metaTpl) {\n    // 判断是否有指定自定义自动编号模板\n    if (metaTpl !== gUndefined)\n        ChpAutoNum_tpl = metaTpl;\n    // 用于测试效果\n    // ChpAutoNum_tpl = \"h1{{###. }},h2{{### }},h3{{### }},h4{{### }},h5{{### }}\";\n    // ChpAutoNum_tpl = \"h1{{第#zh#章 }}\";\n    // ChpAutoNum_tpl = \"h1{{第#zh#章 }},h2{{Chapter #alpha# }},h5{{### }},h4{{### - }},h3{{§ ###}}\";\n    // ChpAutoNum_tpl = \"h1{{第#zh#章 }},h2{{步骤 #000## }}\";\n    // ChpAutoNum_tpl = \"h6{{X ### }}\";\n    // ChpAutoNum_tpl = \"h1{{###. }},h2{{### }}\";\n    // ChpAutoNum_tpl = \"h1{{#none#}},h2{{#none#}},h3{{### }},h4{{### }},h5{{#ALPHA-min# }}\";\n\n    if (ChpAutoNum_tpl.length === 0)\n        return;\n\n    // 对自动编号格式模板内容进行处理\n    let tplSet = ChpAutoNum_tpl.sp(\",\"),\n        lv;\n    for (let i = 0; i < tplSet.length; i++) {\n        lv = tplSet[i].s(1, 2);\n        if (!isNaN(lv))\n            ChpAutoNum_tplSet[lv - 1] = tplSet[i].x();\n    }\n\n    // 解析自定义编码格式模板内容\n    __parseTplItem(0); // h1\n    __parseTplItem(1); // h2\n    __parseTplItem(2); // h3\n    __parseTplItem(3); // h4\n    __parseTplItem(4); // h5\n    __parseTplItem(5); // h6\n\n    // 解析模板条目\n    function __parseTplItem(lv) {\n        let result;\n        if ((result = ChpAutoNum_tplSet[lv].m(ChpAutoNum_tpl_syntax)) != null\n            && result.length === 8) {\n                ChpAutoNum_tpl_prefix[lv] = result[2];\n                ChpAutoNum_tpl_leftPad[lv] = result[4];\n                ChpAutoNum_tpl_format[lv] = result[5];\n                ChpAutoNum_tpl_formatOpt[lv] =\n                    (result[6] === \"-min\") ? CHPAUTONUM_TPL_FORMAT_OPT_MIN\n                    : (result[6] === \"-sup\") ? CHPAUTONUM_TPL_FORMAT_OPT_SUP\n                    : CHPAUTONUM_TPL_FORMAT_OPT_NONE;\n                ChpAutoNum_tpl_suffix[lv] = result[7];\n        }\n    }\n}\n\n/**\n * 将当前层级信息转换为字符串\n */\nfunction ChpAutoNum_toString() {\n    let lv = ChpAutoNum_lastLevel - 1,\n        superLv = (lv > 0) ? lv - 1 : -1,\n        opt = ChpAutoNum_tpl_formatOpt[lv],\n        numStr = _;\n\n    // 若指定了特殊的格式选项\n    if (opt > CHPAUTONUM_TPL_FORMAT_OPT_NONE) {\n        if (opt === CHPAUTONUM_TPL_FORMAT_OPT_SUP && superLv >= 0)\n            numStr =  __formatNum(superLv, opt) + \".\";\n        numStr += __formatNum(lv, opt);\n        // 结束并返回\n        return ChpAutoNum_tpl_prefix[lv]\n            + numStr\n            + ChpAutoNum_tpl_suffix[lv];\n    }\n\n    // 没有指定特殊的格式选项\n    let str = 0;\n    for (let i = 0; i < ChpAutoNum_lastLevel; i++) {\n        str = __formatNum(i, false);\n        numStr += str;\n        if (i < lv && str.length > 0)\n            numStr += \".\";\n    }\n\n    return ChpAutoNum_tpl_prefix[lv]\n        + numStr\n        + ChpAutoNum_tpl_suffix[lv];\n\n    /**\n     * 指定层级的编号进行格式化\n     * @param i 层级\n     * @param opt 特殊格式选项\n     */\n    function __formatNum(i, opt) {\n        let ns = _,\n            counter = ChpAutoNum_counter[i],\n            upperCase = (ChpAutoNum_tpl_format[i].s(0, 1).m(/[A-Z]/) != null),\n            format = ChpAutoNum_tpl_format[i].l();\n\n        // 十进制数字\n        if (format === \"#\")\n            ns += ChpAutoNum_leftPadForDecimal(counter, i);\n        // 中文数字\n        else if (format === \"zh\") {\n            ns += (ChpAutoNum_lastLevel === 1)\n                // h1\n                ? ChpAutoNum_decimalToZh(counter, upperCase)\n                // h2~h5\n                : ChpAutoNum_leftPadForDecimal(counter, i);\n        }\n        // 英文字母\n        else if (format === _alpha_) {\n            ns += (ChpAutoNum_lastLevel === 1 || opt > CHPAUTONUM_TPL_FORMAT_OPT_NONE)\n                // h1\n                ? ChpAutoNum_decimalToAlpha(counter, upperCase)\n                // h2~h5\n                : ChpAutoNum_leftPadForDecimal(counter, i);\n        }\n        // 罗马数字\n        else if (format === \"roman\") {\n            ns += (ChpAutoNum_lastLevel === 1 || opt > CHPAUTONUM_TPL_FORMAT_OPT_NONE)\n                // h1\n                ? ChpAutoNum_decimalToRoman(counter, upperCase)\n                // h2~h5\n                : ChpAutoNum_leftPadForDecimal(counter, i);\n        }\n        else if (format === _off_)\n            ns += _;\n        return ns;\n    }\n}\n\n/**\n * 解析 Typora 生成的目录大纲节点样式名称对应的目录层级（h1~h6）\n * @param value 包含 h1~h6 的标识内容，如：md-toc-h1、h1 等\n * @returns number 目录层级：1~6\n */\nfunction ChpAutoNum_parseTocHeaderLevel(value) {\n    let lv = value.m(/(h([1-5]))/)[2];\n    return isNaN(lv) ? 0 : JS_parseInt(lv);\n}\n\n/**\n * 左侧补 0\n * @param value 当前值\n * @param lv 级别\n * @returns\n */\nfunction ChpAutoNum_leftPadForDecimal(value, lv) {\n    let pad = ChpAutoNum_tpl_leftPad[lv].length,\n        gap = pad - value.toString().length,\n        padStr = _;\n    if (gap > 0) {\n        for (let i = 0; i < gap; i++)\n            padStr += \"0\";\n    }\n    return padStr + value;\n}\n\n// 算法参考：https://blog.csdn.net/lavendersue/article/details/81066091\nlet ChpAutoNum_zhNum = [\"零\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\", \"七\", \"八\", \"九\"], // 数字\n    ChpAutoNum_zhUnit = [_, \"十\", \"百\", \"千\", \"万\"]; // 单位，最大支持 99,999,999\n/**\n * 数字格式转换：十进制 to 中文\n * @param num 十进制数字\n * @param upperCase 是否使用大写\n */\nfunction ChpAutoNum_decimalToZh(num, upperCase) {\n    let overWan = Math.floor(num / 10000),\n        noWan = num % 10000;\n    if (noWan.toString().length < 4)\n        noWan = \"0\" + noWan;\n\n    let numeral = overWan ? __numToZh(overWan) + \"万\" + __numToZh(noWan) : __numToZh(num);\n    // 对于 10－19 的特殊处理\n    if (num >= 10 && num <= 19)\n        numeral = numeral.r(\"一十\", \"十\");\n    return upperCase ? __toZhUpperCase(numeral) : numeral;\n\n    // 阿拉伯数字转换为中文数字\n    function __numToZh(value) {\n        let strArr = value.toString().sp(_).reverse();\n        let newNum = _;\n        for (let i = 0; i < strArr.length; i++) {\n          newNum = (\n            (i === 0 && strArr[i] === 0) ? _\n            : (i > 0 && strArr[i] === 0 && strArr[i - 1] === 0 ? _\n            : ChpAutoNum_zhNum[strArr[i]] + (strArr[i] === 0 ? ChpAutoNum_zhUnit[0] : ChpAutoNum_zhUnit[i])\n            ))\n            + newNum;\n        }\n        return newNum;\n    }\n\n    // 将中文数字转换为大写\n    function __toZhUpperCase(value) {\n        return value.rA(/一/g, \"壹\")\n            .rA(/二/g, \"贰\")\n            .rA(/三/g, \"叁\")\n            .rA(/四/g, \"肆\")\n            .rA(/五/g, \"伍\")\n            .rA(/六/g, \"陆\")\n            .rA(/七/g, \"柒\")\n            .rA(/八/g, \"捌\")\n            .rA(/九/g, \"玖\")\n            .rA(/十/g, \"拾\")\n            .rA(/百/g, \"佰\")\n            .rA(/千/g, \"仟\");\n    }\n}\n\n/**\n * 数字格式转换：十进制 to 英文字母\n * @param value 十进制数字\n * @param upperCase 是否使用大写\n */\nfunction ChpAutoNum_decimalToAlpha(value, upperCase) {\n    let numeral = _;\n    while (value > 0) {\n        let m = value % 26\n        if (m === 0)\n            m = 26;\n        numeral = String.fromCharCode(64 + JS_parseInt(m)) + numeral;\n        value = (value - m) / 26;\n    }\n    return upperCase ? numeral : numeral.l();\n}\n\n// 罗马数字参考：https://baike.baidu.com/item/%E7%BD%97%E9%A9%AC%E6%95%B0%E5%AD%97/772296\n// 算法参考：https://www.mianshigee.com/note/detail/180314zvm/\nlet ChpAutoNum_romanNum = [\"M\", \"CM\", \"D\", \"CD\", \"C\", \"XC\", \"L\", \"XL\", \"X\", \"IX\", \"V\", \"IV\", \"I\"], // 罗马数字\n    ChpAutoNum_romanNumArea = [1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1]; // 进位区间\n/**\n * 数字格式转换：十进制 to 罗马\n * @param value 十进制数字\n * @param upperCase 是否使用大写\n */\nfunction ChpAutoNum_decimalToRoman(value, upperCase) {\n    if (value <= 0 || value >= 4000)\n       return value;\n    let numeral = _;\n    for (let i = 0; i < ChpAutoNum_romanNum.length; i++) {\n       while (value >= ChpAutoNum_romanNumArea[i]) {\n          value -= ChpAutoNum_romanNumArea[i];\n          numeral += ChpAutoNum_romanNum[i];\n       }\n    }\n    return upperCase ? numeral : numeral.l();\n}\n\n// ==================== 引用块增强类 ==================== //\n\nlet ExtQuote_columnsGroupCount = 0,\n    ExtQuote_processingUCH = gFalse,\n    ExtQuote_quoteToColoring = gTrue;\n\n/**\n * 初始化引用块以实现折叠支持\n */\nfunction ExtQuote_init() {\n    // 初始化引用块着色的默认颜色标识\n    let dcQuote = V_util_getParamVal(\"quote\");\n    if (dcQuote !== gUndefined) {\n        if (dcQuote === _off_)\n            ExtQuote_quoteToColoring = gFalse;\n        else {\n            Quote_defalutColor = dcQuote;\n            Quote_defalutColor_withoutEm = dcQuote.s(0, 2);\n        }\n    }\n\n    // 遍历所有引用块、详情\n    $(_blockquote_).e(function () {\n    // $(_write_ + \">\" + _blockquote_\n    // + \",\" + _write_ + \">\" + _blockquote_ + \" \" + _blockquote_\n    // + \", \" + _write_ + \" .md-alert \" +_blockquote_).e(function () {\n        let _t = $(this),\n            matchedQuoteFold = gFalse;\n        // ====================\n        // 处理引用块折叠（details）\n        _t.ch(_h6_ + _firstChild_).e(function () {\n            let details = __disposeDetailsFolder($(this));\n            if (details)\n                _t = details;\n            matchedQuoteFold = true;\n        });\n\n        // 存在折叠，则标识，不参与分栏引用块的统一高度处理\n        if (matchedQuoteFold) {\n            _t.a(_dataFolding_, _true_);\n            if (V_util_getTagName(_t.p()) === _blockquote_)\n                _t.p().a(_dataFolding_, _true_);\n        }\n        // ====================\n\n        // --------------------\n        // 默认引用块，转换为引用块着色\n        let parentTag = V_util_getTagName(_t.p());\n\n        // 跳过列表内、引用块内的嵌套引用块\n        if (parentTag === \"li\" || parentTag === _blockquote_ || parentTag === _details_)\n            return gTrue;\n        let coloringQuoteEnabled = gFalse;\n        // 判断引用块内是否包含了引用块着色语法\n        // 针对新语法\n        _t.f(\">p>em:only-child>sub:only-child\").e(function () {\n            let _t = $(this);\n            // 颜色标签独占一行的情况下才被视为是对引用块、详情的颜色标识\n            if (_t.t().m(Color_syntax) != null) {\n                coloringQuoteEnabled = gTrue;\n                return gFalse;\n            }\n        });\n        // 针对旧语法\n        // 即将废弃 need to remove\n        if (coloringQuoteEnabled === gFalse) {\n            _t.f(\">p>sub\").e(function () {\n                let _t = $(this);\n                // 颜色标签独占一行的情况下才被视为是对引用块、详情的颜色标识\n                if (ExtQuote_isValidColorMark(_t)\n                    && _t.t().m(Color_syntaxOld) != null) {\n                        coloringQuoteEnabled = gTrue;\n                        return gFalse;\n                }\n            });\n        }\n\n        // 引用块内不包含引用块着色语法的，则模拟指定默认的着色语法\n        if (ExtQuote_quoteToColoring && !coloringQuoteEnabled)\n            _t.ap(\"<p><em>\" + V_ui_sub(_, _, Quote_defalutColor) + \"</em></p>\");\n    });\n\n    // 针对分栏引用块进行初始化\n    ExtQuote_initColumns();\n\n    // 针对分栏列表进行初始化\n    ExtList_initColumns();\n\n    /**\n     * 对 details 详情折叠进行处理\n     * @param target 带约定 details 详情折叠的对象\n     * @returns object 成功匹配并处理\n     */\n    function __disposeDetailsFolder(target) {\n        let quote = target.p();\n        // 生成 details\n        quote.wrap('<' + _details_ + ' id=\"' + V_doc_counter_details + '\"></' + _details_ + '>');\n        // 取消 h6，并生成 summary\n        target.unwrap().wrap(\"<\" + _summary_ + \"></\" + _summary_ + \">\");\n        // 删除无用对象\n        target.ch().unwrap();\n\n        // 获取生成的 detail 实例\n        let details = $(_details_ + \"#\" + V_doc_counter_details),\n            summary = details.ch(_summary_);\n        summary.pp(V_ui_svgIcon(_icoDetailsOpen_, 18, 18, _dark_, _vSvgDetails_));\n\n        let icon = summary.ch(\".\" + _vSvgDetails_);\n        V_ui_addAnimate(icon);\n        // 跟踪切换事件\n        details.on(\"toggle\", function () {\n            // 自动调整高度\n            let _t = summary;\n            _t.ps(_blockquote_ + V_attrX(_dataQuoteGroup_)).p().c(_height_, _auto_);\n            _t.p().c(_height_, _auto_);\n\n            if (this.open)\n                JQ_addClass(icon, _vRotate45_);\n            else\n                JQ_removeClass(icon, _vRotate45_);\n        });\n\n        V_doc_counter_details++;\n        return details;\n    }\n}\n\n/**\n * 判断是否为有效的引用块着色颜色标识\n * @param target 颜色标识的对象\n */\nfunction ExtQuote_isValidColorMark(target) {\n    let pText = target.p().t().x();\n    return  pText === target.t().x();\n}\n\n/**\n * 在自动生成题注处理后，进行引用块的二次初始化处理\n */\n// function ExtQuote_initAfterCap() {\n//     // 遍历所有 RainbowQuote_defalutColor_withoutEm 的引用块着色\n//     $(\".v-q.\" + RainbowQuote_defalutColor_withoutEm.l()).e(function () {\n//         let _t = $(this);\n//         let preObj = _t.pr(),\n//             preObjClass = preObj.a(_class_);\n//         // 对紧跟表格、插图、代码块、媒体后的引用块样式进行微调\n//         if (preObjClass !== gUndefined &&\n//             (preObjClass.i(\"v-cap-\") > -1 || preObjClass.i(_vContentExpander_) > -1))\n//                 JQ_removeClass(_t, RainbowQuote_defalutColor_withoutEm.l() + \" em\");\n//     });\n// }\n\n/**\n * 对分栏引用块进行初始化\n */\nfunction ExtQuote_initColumns() {\n    // 针对分栏引用块进行修正\n    $(\"hr + blockquote, hr + details\").e(function () {\n        ExtQuote_columnsGroupCount++;\n        let _t = $(this),\n            hr = _t.pr(),\n            colCount = 0;\n\n        // ----------------------------------------\n        // 隐藏标识分栏的 <hr>\n        __hideHr(hr);\n        colCount = hr.prevUntil(\":not(hr)\").length + 2; // 计算分栏数量\n        // 有更多的 <hr> 则进行处理\n        if (colCount > 2) {\n            __hideHr(hr.prevUntil(\":not(hr)\"));\n        }\n        // 隐藏标识分栏的 <hr>\n        function __hideHr(target) {\n            target.c(_visibility_, _hidden_)\n                .c(_margin_, 0)\n                .c(_border_, 0);\n        }\n\n        // ----------------------------------------\n        // 对分栏按组进行初始处理\n        __groupingColumns(_t);\n        _t.nextUntil(\":not(blockquote, details)\").e(function () {\n            if (colCount > 0) {\n                __groupingColumns($(this));\n            }\n        });\n\n        // 进行分组标识\n        function __groupingColumns(quote) {\n            // 若为带折叠的引用块，则跳过\n            if (quote.a(_dataFolding_))\n                return;\n\n            quote.a(_dataQuoteGroup_, ExtQuote_columnsGroupCount);\n            colCount--;\n        }\n    });\n}\n\n/**\n * 对文档内所有分栏，按组为单位进行统一高度处理\n */\nfunction ExtQuote_uniteColumnsHeight() {\n    if (ExtQuote_processingUCH)\n        return;\n\n    ExtQuote_processingUCH = gTrue;\n    for (let i = 1; i <= ExtQuote_columnsGroupCount; i++) {\n        ExtQuote_uniteColumnsHeightForGroup(i);\n    }\n    ExtQuote_processingUCH = gFalse;\n}\n\n/**\n * 对指定组的分栏进行统一高度处理\n * @param groupId 分栏组 id\n */\nfunction ExtQuote_uniteColumnsHeightForGroup(groupId) {\n    // 找出同一组中最大的高度\n    let maxHeight = 0,\n        quote = $(_blockquote_ + V_attrX(_dataQuoteGroup_, groupId) + \",\"\n            + _details_ + V_attrX(_dataQuoteGroup_, groupId));\n    quote.e(function () {\n        let _t = $(this);\n        _t.c(_height_, _auto_);\n        // 没有被小屏强制适配为不分栏时才处理\n        if (_t.c(_display_) !== _block_) {\n            let height = JS_parseInt(_t.c(_height_));\n            if (height > maxHeight)\n                maxHeight = height;\n        }\n    });\n\n    // 没有被小屏强制适配为不分栏时才处理\n    if (quote.c(_display_) !== _block_) {\n        // 将同一组中最大的高度\n        quote.c(_height_, maxHeight);\n    }\n}\n\n/**\n * 根据设备类型自适应 hover 样式\n */\nfunction ExtQuote_adjustHoverStyle() {\n    if (env.device.mobile) // 移动设备时解绑样式事件\n        $(\".\" + _vBlockquoteFolder_).uH();\n    else // 为折叠的引用块的折叠控件绑定 hover 事件\n        V_ui_bindHover($(\".\" + _vBlockquoteFolder_));\n}\n\n/**\n * 自动展开引用块（由 blockquote 转换的 details）\n */\nfunction ExtQuote_autoUnfold() {\n    if (iParagraphNav.cur() === gUndefined)\n        return;\n\n    // 针对 details 的处理\n    __openDetails(iParagraphNav.cur());\n\n    /**\n     * 打开折叠的引用块（未打开的 details 标签）\n     * @param target 目标标签\n     */\n    function __openDetails(target) {\n        let parent = target.p();\n        // 只针对 details 标签\n        if (V_util_getTagName(parent) === _details_) {\n            // 如果是嵌套的折叠引用块，则进行递归处理\n            if (V_util_getTagName(parent.p()) === _details_)\n                __openDetails(parent.p());\n            // 未打开时才进行打开\n            if (parent.a(_open_) === gUndefined)\n                parent.ch(_summary_).tr(_click_);\n        }\n    }\n}\n\n// ==================== 列表增强类 ==================== //\n\n/**\n * 对分栏列表进行初始化\n */\nfunction ExtList_initColumns() {\n    // 针对分栏列表进行修正\n    $(\"hr + ul, hr + ol\").e(function () {\n        let _t = $(this),\n            hr = _t.pr();\n\n        // ----------------------------------------\n        // 隐藏标识分栏的 <hr>\n        hr.c(_display_, _none_);\n        let colCount = hr.prevUntil(\":not(hr)\").length + 2; // 计算分栏数量\n        if (colCount > 2) // 有更多的 <hr>\n            hr.prevUntil(\":not(hr)\").c(_display_, _none_);\n    });\n}\n\n// ==================== 表格增强类 ==================== //\n\n/**\n * 初始化表格数据\n */\nfunction ExtTable_init() {\n    let sw = new Stopwatch();\n\n    // ----------------------------------------\n    // 表格预处理\n    sw.st();\n    $(_table_).e(function () {\n        let _t = $(this),\n            container = _t.p();\n\n        V_doc_counter_table++;\n\n        // 绑定内容助手\n        ContentAssistor_bind(_t, _table_);\n\n        // 表格自定义属性数据\n        container.a(_dataContainer_, _table_);\n        JQ_addClass(container, _vCaptionContainer_);\n\n        // 表格滚动事件\n        container.scroll(function () {\n            TableCross_hide();\n        });\n\n        // 表格单元格初始化处理\n        __initCell(_t);\n\n        // 折叠长表格\n        ContentFolder_add(_t, _table_);\n        // 先根据题注语法生成题注\n        CaptionGenerator_actionForTextContent(_t, _table_);\n    }); // table\n    sw.ed(\"    ├ Prepare: \");\n\n    // ----------------------------------------\n    // 表格单元格合并\n    sw.st();\n    $(_table_ + V_attrX(_dataCellMerge_, _true_)).e(function () {\n        let _t = $(this);\n        CellMerge_dispose(_t);\n\n        // 合并后，针对列头纵向合并的情况二次执行列格式处理\n        _t.f(\"thead>tr>th\").e(function () {\n            let cell = $(this);\n            ColumnFormatting_init(_t, cell, cell.t());\n        });\n    });\n    sw.ed(\"    ├ Merge: \");\n\n    // ----------------------------------------\n    // 对表格单元格初始化处理中标识为带列格式的表格，进行列格式化处理\n    sw.st();\n    $(_table_ + V_attrX(_dataColumnFmting_, _true_)).e(function () {\n        ColumnFormatting_format($(this));\n    });\n    sw.ed(\"    ├ Column Format: \");\n\n    // ----------------------------------------\n    // 表格行折叠\n    sw.st();\n    $(_table_ + V_attrX(_dataRowGroup_, _true_)).e(function () {\n        let _t = $(this);\n        RowGroup_init(_t);\n\n        // 修正行分组的首个单元格的缩进\n        _t.f(\"tr\" + V_attrX(_dataFolder_, _true_)).e(function () {\n            let td = $(this).ch(\"td\" + _first_);\n            if (td.a(_dataIdentLevel_) !== gUndefined)\n                td.c(_paddingLeft_, \"0.5em\");\n        });\n    });\n    sw.ed(\"    ├ Row Group: \");\n\n    // ----------------------------------------\n    // 表格单元格重复表头引用块处理，group 模式重复将在行分组展开/收起时再进行处理\n    sw.st();\n    $(_table_ + V_attrX(_dataThRpt_, _true_)).e(function () {\n        ThRepeater_init( $(this));\n    });\n    sw.ed(\"    └ Th Repeater: \");\n\n    /**\n     * 表格单元格初始化\n     * @param table 表格对象\n     */\n    function __initCell(table) {\n        // 遍历表格「列头」行\n        let colIndex = 0;\n        table.f(\"thead>tr\").e(function () {\n            colIndex = 0;\n            let needCheckCellMerge = gTrue,\n                needCheckColumnFormatting = gTrue,\n                needCheckThRpt = gTrue;\n            // ----------------------------------------\n            // 遍历单元格\n            $(this).f(\"th\").e(function () {\n                let th = $(this),\n                    text = th.t();\n\n                // ---------- 表格排版增强预处理 ----------\n                // 检测是否带合并单元格语法\n                if (needCheckCellMerge\n                    && table.a(_dataCellMerge_) !== _true_\n                    && (CellMerge_syntax_row.test(text)\n                    || CellMerge_syntax_col.test(text))) {\n                        // 将表格标识为带合并单元格语法\n                        table.a(_dataCellMerge_, _true_);\n                        needCheckCellMerge = gFalse;\n                }\n                // 检测是否带列格式语法\n                if (needCheckColumnFormatting) {\n                    if (ColumnFormatting_init(table, th, text))\n                        needCheckColumnFormatting = gFalse;\n                }\n                // 检测是否带重复表头语法\n                if (needCheckThRpt\n                    && colIndex === 0 // 只检测第 1 列\n                    && ThRepeater_syntax_tag.test(text)) {\n                        // 将表格标识为带行折叠语法\n                        table.a(_dataThRpt_, _true_);\n                        th.rHTML(\"## \", _);\n                        needCheckThRpt = gFalse;\n                }\n\n                // ----------------------------------------\n                // 添加列号标识，用于列格式化时使用\n                th.a(_dataTblCol_, \"tbl-\" + V_doc_counter_table + \"-\" + colIndex);\n                colIndex++;\n\n                // ---------- 非列头的单元格阅读模式（十字光标）处理 ----------\n                // 鼠标点击单元格时显示阅读模式（十字光标）\n                TableCross_bind(table, th);\n            });\n        });\n\n        // 标记该表格列太多，用于匹配是否自动换行的自动版式\n        if (colIndex > 7)\n            table.a(\"d-col-too-more\", colIndex);\n\n        // ----------------------------------------\n        // 遍历表格「非列头」行\n        table.f(\"tbody>tr\").e(function () {\n            let colIndex = 0,\n                needCheckCellMerge = gTrue,\n                needCheckRowGroup = gTrue;\n            // ----------------------------------------\n            // 遍历单元格\n            $(this).f(\"td\").e(function () {\n                let td = $(this),\n                    text = td.t();\n                // ---------- 表格排版增强预处理 ----------\n                // 检测是否带合并单元格语法\n                if (needCheckCellMerge\n                    && table.a(_dataCellMerge_) !== _true_\n                    && (CellMerge_syntax_row.test(text)\n                    || CellMerge_syntax_col.test(text))) {\n                        // 将表格标识为带合并单元格语法\n                        table.a(_dataCellMerge_, _true_);\n                        needCheckCellMerge = gFalse;\n                }\n                // 检测是否带行折叠语法\n                if (needCheckRowGroup\n                    && colIndex === 0 // 只检测第 1 列\n                    && table.a(_dataRowGroup_) !== _true_\n                    && RowGroup_syntax_tag.test(text)) {\n                        // 将表格标识为带行折叠语法\n                        table.a(_dataRowGroup_, _true_);\n                        needCheckRowGroup = gFalse;\n                }\n                // 对于单元格的内容，都以 <mark> 标签包裹的，则转换为单元格的样式\n                // 同时转换后，在 Table.columnFormatting 的 init 处理中对应添加对应的过滤条件\n                if (/^<ma.+rk>$/.test(td.hm())) {\n                    td.ch().ch().unwrap(); // 解包 <mark>\n                    JQ_addClass(td, _vTblColFmtMark_);\n                }\n\n                // 添加列号标识，用于列格式化时使用\n                td.a(_dataTblCol_, \"tbl-\" + V_doc_counter_table + \"-\" + colIndex);\n                colIndex++;\n\n                // ---------- 列头的单元格阅读模式（十字光标）处理 ----------\n                // 鼠标点击单元格时显示阅读模式（十字光标）\n                TableCross_bind(table, td);\n            }); // find(th, td)\n        }); // find(tr)\n    }\n}\n\nlet // 单元格内（加粗）文本着色的正则表达式\n    gRE_boldRainbowText = new RegExp(\"(<\" + _strong_ + \"( \" + _dataRbText_ + '=\"([a-z!12]+)\")?>)([\\\\s\\\\S]*?)(<\\\\/' + _strong_ + \">)\", \"i\"),\n    // 有指定单元格内（斜体）文本着色的正则表达式\n    gRE_italicRainbowText = new RegExp(\"(<em( \" + _dataRbText_ + '=\"([a-z!12]+)\")?>)([\\\\s\\\\S]*?)(<\\\\/em>)', \"i\"),\n    // 有指定单元格内（高亮）文本着色的正则表达式\n    gRE_highlightRainbowText = new RegExp(\"(<\" + _mark_ + \"( \" + _dataRbText_ + '=\"([a-z!12]+)\")?>)([\\\\s\\\\S]*?)(<\\\\/' + _mark_ + \">)\", \"i\"),\n    // 有指定单元格内（下划线）文本着色的正则表达式\n    gRE_underlineRainbowText = new RegExp(\"(<u( \" + _dataRbText_ + '=\"([a-z!12]+)\")?>)([\\\\s\\\\S]*?)(<\\\\/u>)', \"i\"),\n    // 代码\n    gRE_code = new RegExp('(<code class=\"' + _vStdCode_ + '.*?(?=id-)(id-\\\\d+).*?(<\\\\/code>).*?)', \"i\"),\n    // 标签\n    gRE_tag = new RegExp('(<code class=\"v-tag.*?(?=id-)(id-\\\\d+).*?(<\\\\/code>).*?)', \"i\"),\n    // 徽章\n    gRE_badge = new RegExp('(<code class=\"v-badge-name.*?(?=id-)(id-\\\\d+)\".*?(<\\\\/code><\\\\/code>).*?)', \"i\"),\n    gRE_badge2 = new RegExp('(<code class=\"v-badge-name.*?(?=id-)(id-\\\\d+)\\\\s.*?(<\\\\/span><\\\\/code>).*?)', \"i\");\n/**\n * 复制表格内容\n * @param source 内容源对象\n * @param event 事件对象\n */\nfunction ExtTable_copyContent(source, event) {\n    let content = _,\n        trSet = ContentAssistor_lastHover.f(\"tr\"),\n        theadCount = ContentAssistor_lastHover.f(\"thead > tr\").length,\n        columnFmting = ContentAssistor_lastHover.a(_dataColumnFmting_),\n        theadRepeater = ContentAssistor_lastHover.a(_dataThRpt_),\n        rowGroup = ContentAssistor_lastHover.a(_dataRowGroup_),\n        rowIndex = 0,\n        rowCount = trSet.length,\n        colIndex = 0, // 表格行的当前列（包括被合并列的）\n        colCount = 0,\n        alignSet = [], // 列的对齐方式\n        xspanMatrix = []; // 单元格合并标识矩阵\n\n    // 逐行读取表格内容\n    trSet.e(function () {\n        // 复制为 Markdown 时，在表头后添加分隔格式\n        if (ContentAssistor_copyAsMarkdown && rowIndex === 1)\n            content = __createTheadSpliter(content, alignSet);\n\n        let cellSet = $(this).f(\"th, td\");\n        colIndex = 0;\n\n        // 逐个单元格处理\n        let re_LabelTag = new RegExp(\"<\" + _label_ + \" .*?><\\\\/\" + _label_ + \">\", \"i\");\n        cellSet.e(function () {\n            let htmlText = _,\n                rowspan, colspan;\n\n            // ====== 根据合并单元格预处理结果进行实际处理 =====\n            // 对单元格纵向合并的填充处理\n            htmlText = __disposeRowspan(htmlText);\n\n            // ====== 对普通单元格的处理 ======\n\n            // 读取单元格数据\n            let cell = $(this),\n                cellHTML = cell.hm(),\n                colFmtChkbox = gFalse,\n                colFmtMark = gFalse,\n                // colFmtDel = gFalse,\n                cellBg = cell.a(_dataRbCellBg_),\n                cellWholeText = cell.a(_dataRbWholeText_);\n\n            // 含有表格列格式时\n            if (columnFmting !== gUndefined && columnFmting === _true_) {\n                // 转换列格式（复选框）\n                let css = cell.a(_class_);\n                if (css !== gUndefined) {\n                    if (css.i(_vTblColFmt_Chkbox_) !== -1) {\n                        let yes = cell.ch(_svg_ + '[' + V_attr(_dataChk_, _yes_) + ']');\n                        if (yes.length > 0)\n                            cellHTML = cellHTML.r(/<svg .*?>([\\s\\S]*?)<\\/svg>/i, \"Y\");\n                        else {\n                            let un = cell.ch(_svg_ + '[' + V_attr(_dataChk_, _un_) + ']');\n                            if (un.length > 0)\n                                cellHTML = cellHTML.r(/<svg .*?>([\\s\\S]*?)<\\/svg>/i, \"?\");\n                        }\n                        // 复制为 Markdown 时，对表头列格式进行处理\n                        if (ContentAssistor_copyAsMarkdown && rowIndex < theadCount)\n                            colFmtChkbox = gTrue;\n                    }\n\n                    // ----- 复制为 Markdown 时的列格式处理 01 -----\n                    // 常规（加粗/斜体/下划线/高亮/删除线）\n                    if (ContentAssistor_copyAsMarkdown && rowIndex < theadCount) {\n                        if (css.i(_vTblColFmtMark_) !== -1) // 高亮\n                            colFmtMark = gTrue;\n                        // if (css.i(_vTblColFmtDel_) !== -1) // 删除线\n                        //     colFmtDel = gTrue;\n                    }\n                }\n\n                // 记录列的对齐方式，用于在复制为 Markdown 时生成表头分隔分隔格式\n                if (ContentAssistor_copyAsMarkdown)\n                    alignSet[colIndex] = cell.c(_textAlign_);\n            }\n\n            // 转换表格分组\n            if (rowGroup !== gUndefined && rowGroup === _true_) {\n                let css = cell.a(_class_);\n                if (css !== gUndefined && css.i(_vTblRowGSub_) !== -1) {\n                    let identerCount = cell.ch('.' + _vTblRowGIdenter_).length;\n                    for (let i = 0; i < identerCount; i++) {\n                        // cellHTML = cellHTML.r(/<label .*?><\\/label>/i,\n                        cellHTML = cellHTML.r(re_LabelTag,\n                            i === identerCount - 1 ? \"> \" : \">\");\n                    }\n                }\n            }\n\n            // 转换单元格内容\n            cellHTML = __transCellContent(cellHTML, cellBg, cellWholeText);\n\n            // ----- 复制为 Markdown 时的列格式处理 02 -----\n            if (ContentAssistor_copyAsMarkdown && rowIndex < theadCount) {\n                if (colFmtChkbox) // 复选框\n                    cellHTML = \"[] \" + cellHTML;\n                // 加粗、斜体、下划线、高亮，已通过 __transCellContent() 进行了处理\n                if (colFmtMark) // 高亮\n                    cellHTML = \"==\" + cellHTML + \"==\";\n                // if (colFmtDel) // 删除线\n                //     cellHTML = \"~~\" + cellHTML + \"~~\";\n                // 重复表头\n                if (rowIndex === 0 && colIndex === 0 && theadRepeater !== gUndefined)\n                    cellHTML = \"## \" + cellHTML;\n            }\n\n            // 生成要被复制的单元格内容\n            htmlText += __maybeAsMarkdown(\"| \", _)\n                + __maybeAsMarkdown(_, '\"') + cellHTML + __maybeAsMarkdown(_, '\"');\n\n            // ====== 对合并单元格的处理 ======\n\n            // 对单元格有纵向合并 rowspan 属性的处理\n            rowspan = cell.a(_rowspan_);\n            rowspan = (rowspan === gUndefined) ? 0 : JS_parseInt(rowspan);\n            if (rowspan > 0) {\n                for (let i = 0; i < rowspan - 1; i++) {\n                    // 对应纵向合并的矩阵行为空则进行创建\n                    if (xspanMatrix[rowIndex + i + 1] === gUndefined)\n                        xspanMatrix[rowIndex + i + 1] = [];\n                    // 在对应矩阵单元中标识被纵向合并的单元格\n                    // 预处理，在下一轮处理中继续\n                    xspanMatrix[rowIndex + i + 1][colIndex] = 1;\n                }\n            }\n\n            // 对单元格有横向合并 colspan 属性的处理\n            colspan = cell.a(_colspan_);\n            colspan = (colspan === gUndefined) ? 0 : JS_parseInt(colspan);\n            if (colspan > 0) {\n                // 横向合并填充处理\n                for (let i = 0; i < colspan - 1; i++) {\n                    htmlText += __maybeAsMarkdown(\"| == \", ___) + \"\\t\";\n                    // 对应纵向合并的矩阵行为空则进行创建\n                    if (xspanMatrix[rowIndex] === gUndefined)\n                        xspanMatrix[rowIndex] = [];\n                    // 在对应矩阵单元中标识被横向合并的单元格\n                    xspanMatrix[rowIndex][colIndex + 1] = 2;\n                    colIndex++;\n                }\n            }\n\n            colIndex++;\n            content += htmlText + __maybeAsMarkdown(___, \"\\t\");\n        }); // 逐个单元格处理结束\n\n        // 记录表格实际列数\n        if (colIndex > colCount)\n            colCount = colIndex;\n\n        // 每行最后一个非合并单元格的后续合并单元格的填充处理\n        content = __disposeRowspan(content);\n\n        rowIndex++;\n        content = content.s(0, content.length - 1)\n            + __maybeAsMarkdown(\" |\", _) + (rowIndex < rowCount ? \"\\n\" : _);\n\n        // ==========\n        // 对单元格纵向合并的处理\n        function __disposeRowspan(htmlText) {\n            // 对已处理行中带纵向合并 rowspan 标识的数据进行适配处理\n            if (xspanMatrix[rowIndex] !== gUndefined) {\n                let rowspan = xspanMatrix[rowIndex][colIndex];\n                while (rowspan !== gUndefined && rowspan === 1) {\n                    htmlText += __maybeAsMarkdown(\"| : \", ___) + \"\\t\";\n                    colIndex++;\n                    rowspan = xspanMatrix[rowIndex][colIndex];\n                }\n            }\n            else\n                xspanMatrix[rowIndex] = [];\n\n            return htmlText;\n        }\n\n\n    }); // 逐行处理\n\n    // 调试：打印标识矩阵\n    __printXspanArr();\n\n    Copyer_action(source, content, gTrue);\n\n    // ==========\n\n    function __createTheadSpliter(content, alignSet) {\n        // 复制为 Markdown 时，在表头后添加分隔格式\n        let lastAlign = _left_,\n            spliter = \"| ---- \";\n        for (let i = 0; i < colCount; i++) {\n            // 读取每列的对齐方式\n            if (alignSet[i] !== gUndefined)\n                lastAlign = alignSet[i];\n\n            if (lastAlign === _left_) // 左对齐\n                spliter = \"| ---- \";\n            else if (lastAlign === _right_) // 右对齐\n                spliter = \"| ---: \";\n            else if (lastAlign === _center_) // 中间对齐\n                spliter = \"| :--: \";\n\n            content += spliter;\n        }\n        content += \"|\\n\";\n        return content;\n    }\n\n    // 适配是否要复制为 Markdown\n    function __maybeAsMarkdown(mdStr, plainStr) {\n        return (ContentAssistor_copyAsMarkdown ? mdStr : plainStr)\n    }\n\n    // 转换单元格内容\n    function __transCellContent(cellHTML, cellBg, cellWholeText) {\n        // 转换徽章\n        cellHTML = __transCellContent_badge(cellHTML, gRE_badge);\n        cellHTML = __transCellContent_badge(cellHTML, gRE_badge2);\n        // 转换标签\n        cellHTML = __transCellContent_tag(cellHTML, gRE_tag);\n        // 转换代码\n        cellHTML = __transCellContent_code(cellHTML, gRE_code);\n\n        // 转换文本着色、单元格背景色\n        if (ContentAssistor_copyAsMarkdown) {\n            // 有指定整段（整个单元格）的文本着色\n            if (cellWholeText !== gUndefined)\n                cellHTML = \"_~\" + cellWholeText + \"~_\" + cellHTML;\n\n            // 有指定单元格背景色\n            if (cellBg !== gUndefined)\n                cellHTML += \"_~\" + cellBg + \"!~_\";\n\n            // 有指定单元格内（加粗）文本着色\n            cellHTML = __transCellContent_rainbowText(cellHTML,\n                gRE_boldRainbowText);\n                // /(<strong( d-rb-text=\"([a-z!12]+)\")?>)([\\s\\S]*?)(<\\/strong>)/i);\n            // 有指定单元格内（斜体）文本着色\n            cellHTML = __transCellContent_rainbowText(cellHTML,\n                gRE_italicRainbowText);\n                // /(<em( d-rb-text=\"([a-z!12]+)\")?>)([\\s\\S]*?)(<\\/em>)/i);\n            // 有指定单元格内（高亮）文本着色\n            cellHTML = __transCellContent_rainbowText(cellHTML,\n                gRE_highlightRainbowText);\n                // /(<mark( d-rb-text=\"([a-z!12]+)\")?>)([\\s\\S]*?)(<\\/mark>)/i);\n            // 有指定单元格内（下划线）文本着色\n            cellHTML = __transCellContent_rainbowText(cellHTML,\n                gRE_underlineRainbowText);\n                // /(<u( d-rb-text=\"([a-z!12]+)\")?>)([\\s\\S]*?)(<\\/u>)/i);\n        }\n\n        // 用于清除或转换特殊字符\n        let badChars = [\n                // /<br\\s?\\/?>/i, // <br>\n                /&nbsp;/i, // 空格\n                /&lt;/, // <\n                /&gt;/, // >\n                \"'\", // 英文单引号\n                '\"', // 英文双引号\n                /(“)([^“]+)(“)/, // 连续第2个中文单引号\n                /(‘)([^‘]+)(‘)/, // 连续第2个中文双引号\n                /<.*?>/i // HTML 标签\n                // /<[^>]+>/g // HTML 标签\n            ],\n            goodChars = [\n                // \"\\n\", // for <br>\n                ___, // 空格\n                \"<\", // <\n                \">\", // >\n                \"‘\", // 中文单引号\n                \"“\", // 中文双引号\n                \"$1$2”\", // 中文反单引号\n                \"$1$2’\", // 中文反双引号\n                _ // for HTML 标签\n            ];\n\n        // 对 <br> 的处理 01\n        let brTmp = \"___br___\";\n        if (ContentAssistor_copyAsMarkdown) {\n            cellHTML = cellHTML.rA(/<br\\s?\\/?>/i, brTmp);\n            cellHTML = cellHTML.rA(/\\$/, \"\\\\$\");\n        }\n        else\n            cellHTML = cellHTML.rA(/<br\\s?\\/?>/i, \"\\n\");\n\n        // 清除或转换特殊字符，包括 HTML 标签\n        for (let i = 0; i < badChars.length; i++)\n            cellHTML = cellHTML.rA(badChars[i], goodChars[i]);\n\n        if (ContentAssistor_copyAsMarkdown) {\n            // 对 ___br___ 的处理 02\n            cellHTML = cellHTML.rA(brTmp, \"<br>\");\n            // 对 ___u___ 和 ___/u___ 的处理\n            cellHTML = cellHTML.rA(\"___u___\", \"<u>\");\n            cellHTML = cellHTML.rA(\"___/u___\", \"</u>\");\n        }\n\n        return cellHTML;\n    }\n\n    // 转换单元格内的标签\n    function __transCellContent_tag(cellHTML, regExp) {\n        let result = cellHTML.m(regExp);\n\n        // 遍历处理单元格内的所有匹配的内容\n        while (result != null) {\n            let _t = $(\".\" + _vTag_ + \".\" + result[2]);\n            cellHTML = cellHTML.r(regExp,\n                __maybeAsMarkdown(_t.a(_dataAsMarkdown_), _t.a(_value_)));\n            // 匹配下一项\n            result = cellHTML.m(regExp);\n        }\n        return cellHTML;\n    }\n\n    // 转换单元格内的徽章\n    function __transCellContent_badge(cellHTML, regExp) {\n        let result = cellHTML.m(regExp);\n\n        // 遍历处理单元格内的所有匹配的内容\n        while (result != null) {\n                let _t = $(\".\" + _vBadgeName_ + \".\" + result[2]);\n                cellHTML = cellHTML.r(regExp,\n                    __maybeAsMarkdown(_t.a(_dataAsMarkdown_), _t.a(_value_)));\n                // 匹配下一项\n                result = cellHTML.m(regExp);\n        }\n        return cellHTML;\n    }\n\n    // 转换单元格内的普通行内代码 code\n    function __transCellContent_code(cellHTML, regExp) {\n        let result = cellHTML.m(regExp);\n\n        // 遍历处理单元格内的所有匹配的内容\n        while (result != null) {\n            let _t = $(\".\" + _vStdCode_ + \".\" + result[2]);\n            cellHTML = cellHTML.r(regExp,\n                __maybeAsMarkdown(V_util_wrapBackquote(_t.t()), _t.t()));\n            // 匹配下一项\n            result = cellHTML.m(regExp);\n        }\n        return cellHTML;\n    }\n\n    // 转换单元格内的文本着色\n    function __transCellContent_rainbowText(cellHTML, exp) {\n        let result = cellHTML.m(exp);\n\n        // 遍历处理单元格内所有格式着色内容\n        while (result != null) {\n            let color = result[3],\n                format = result[1];\n            if (color !== gUndefined)\n                cellHTML = cellHTML.r(exp, \"$1$4$5~($3)~\");\n            if (format !== gUndefined) {\n                // strong\n                if (format.sW(\"<st\"))\n                    cellHTML = cellHTML.r(exp, \"**$4**\");\n                // em\n                else if (format.sW(\"<e\"))\n                    cellHTML = cellHTML.r(exp, \"*$4*\");\n                // mark\n                else if (format.sW(\"<m\"))\n                    cellHTML = cellHTML.r(exp, \"==$4==\");\n                // <u>\n                else if (format.sW(\"<u\"))\n                    cellHTML = cellHTML.r(exp, \"___u___$4___/u___\");\n            }\n            // 匹配下一项\n            result = cellHTML.m(exp);\n        }\n        return cellHTML;\n    }\n\n    // 调试：打印标识矩阵\n    function __printXspanArr() {\n        if (!debugMode)\n            return;\n\n        console.log(\"Table:\", rowCount + \" x \" + colCount);\n        let sss = \"   \";\n        for (let i = 0; i < colCount; i++)\n            sss += ___ + i;\n        console.log(sss);\n        sss = \"   \";\n        for (let i = 0; i < colCount; i++)\n            sss += \" -\";\n        console.log(sss);\n        for (let i = 0; i < rowCount; i++) {\n            sss = _;\n            if (xspanMatrix[i] !== gUndefined) {\n                for (let j = 0; j < colCount; j++)\n                    sss += (xspanMatrix[i][j] === gUndefined) ? \". \" : xspanMatrix[i][j] + ___;\n                console.log(i + \" | \" + sss);\n            }\n        }\n    }\n}\n\n// ==================== 表格单元格合并类 ==================== //\n\n// 单元格合并语法\nlet CellMerge_syntax_row = /^(:)$/, // 行，纵向合并\n    CellMerge_syntax_col = /^(==)$/ // 列，横向合并\n\n/**\n * 表格单元格合并\n * @param table 要进行单元格合并处理的表格对象\n */\nfunction CellMerge_dispose(table) {\n    let colSpanCount = 0,\n        colSpanCell = null,\n        colIndex = 0,\n        colCount = 0,\n        lastCell = null,\n        tblData = [],\n        tblSpan = [],\n        tblTd2ThData = [],\n        rowIndex = 0,\n        needRowSpan = gFalse;\n\n    // 遍历表格行\n    table.f(\"tr\").e(function () {\n        tblData[rowIndex] = [];\n        tblSpan[rowIndex] = [];\n        let tr = $(this);\n        tr.f(\"td, th\").e(function () {\n            let cell = $(this);\n\n            // --- 行合并：预处理（纵向） ---\n            // 克隆表格数据\n            tblData[rowIndex][colIndex] = cell;\n            tblSpan[rowIndex][colIndex] = 0;\n            if (CellMerge_syntax_row.test(cell.t())) {\n                tblSpan[rowIndex][colIndex] = 1;\n                needRowSpan = gTrue;\n            }\n            colIndex++;\n            colCount++;\n\n            // --- 列合并（横向） ---\n            // 是列合并标识\n            if (CellMerge_syntax_col.test(cell.t())) {\n                colSpanCount++;\n                JQ_remove(cell);\n                if (colSpanCount === 1)\n                    colSpanCell = lastCell;\n            }\n            // 不是列标识，则进行最近列标识数据进行处理\n            else {\n                if (colSpanCount > 0 && colSpanCell != null) {\n                    colSpanCell.a(_colspan_, colSpanCount + 1);\n                    CellMerge_emptyBlankCell(colSpanCell);\n                    colSpanCell.c(_textAlign_, _center_);\n                }\n                colSpanCount = 0;\n            }\n            lastCell = cell;\n        }); // find(td, th)\n\n        // 如果列合并了所有列，且内容为空，则取消表格行号等样式\n        if (colCount === colSpanCount + 1 && tr.t().x().length === 0) {\n            JQ_addClass(tr, \"v-table-colspan-all\");\n        }\n\n        // 列间合并：对于最后一列的补充处理\n        if (colSpanCount > 0 && colSpanCell != null) {\n            colSpanCell.a(_colspan_, colSpanCount + 1);\n            CellMerge_emptyBlankCell(colSpanCell);\n            colSpanCell.c(_textAlign_, _center_);\n        }\n        colSpanCount = 0;\n\n        rowIndex++;\n        colIndex = 0;\n        colCount = 0;\n    }); // tr\n\n    rowIndex = 0;\n\n    // --- 行间合并（纵向）---\n    if (needRowSpan) {\n        tblTd2ThData = [];\n        // 列式遍历（从左到右）\n        for (let c = 0, len = tblSpan[0].length; c < len; c++) {\n            let rowSpanCount = 0,\n                rowSpanCell = null;\n            let r = 0,\n                thSpanFlag = gFalse;\n\n            // 列式遍历（从上到下）\n            while (r < tblSpan.length) {\n                if (tblSpan[r][c] === 1) { // 要合并\n                    rowSpanCount++;\n                    if (rowSpanCell == null) {\n                        rowSpanCell = tblData[r - 1][c];\n                    }\n                    // 记录最大列头行合并深度\n                    if (r === 1)\n                        thSpanFlag = gTrue;\n                    if (thSpanFlag)\n                        tblTd2ThData[tblTd2ThData.length] = tblData[r][c].p();\n                    JQ_remove(tblData[r][c]); // 移除要被合并的单元格\n\n                    // 后接的单元格会变成第 1 列，但不需要预留表格行号显示的空间\n                    if (c + 1 < tblSpan[r].length)\n                        tblData[r][c + 1].c(_paddingLeft_, V_util_getVarVal(\"--tbl-cell-padding\"));\n                } else {\n                    thSpanFlag = gFalse;\n                    // 单元格行合并\n                    if (rowSpanCount > 0 && rowSpanCell != null) {\n                        rowSpanCell.a(_rowspan_, rowSpanCount + 1);\n                        CellMerge_emptyBlankCell(rowSpanCell);\n                        rowSpanCell.c(_verticalAlign_, \"middle\");\n                        rowSpanCount = 0;\n                        rowSpanCell = null;\n                    }\n                }\n                r++;\n            } // while\n\n            // 行合并：对于最后一行的补充处理\n            if (rowSpanCount > 0 && rowSpanCell != null) {\n                rowSpanCell.a(_rowspan_, rowSpanCount + 1);\n                CellMerge_emptyBlankCell(rowSpanCell);\n                rowSpanCell.c(_verticalAlign_, \"middle\");\n            }\n        } // for\n\n        // 处理列头的纵向合并\n        for (let i = 0, len = tblTd2ThData.length; i < len; i++) {\n            tblData[0][0].p().p().ap(tblTd2ThData[i]);\n            // 将 thead 内的 td 标签转换为 th\n            let foundTd = gFalse;\n            tblTd2ThData[i].f(\"td\").e(function () {\n                foundTd = gTrue;\n                // 暂存 td 的属性数据\n                let td = $(this),\n                    style = td.a(_style_),\n                    tblCol = td.a(_dataTblCol_),\n                    classValue = td.a(_class_),\n                    colspan = td.a(_dataColspan_);\n                // td 转换为 th 标签\n                td.a(_dataTd2th_, _true_);\n                // td.prop(_outerHTML_, td.prop(_outerHTML_).rA(\"<td \", \"<th \"));\n                td.rW(td.prop(_outerHTML_).rA(\"<td \", \"<th \"));\n                // 将暂存的 td 的属性数据，恢复到新标签中\n                td.p().a(_style_, style);\n                td.p().a(_dataTblCol_, tblCol);\n                td.p().a(_class_, classValue);\n                td.p().a(_dataColspan_, colspan);\n            });\n            // 对被从 td 转换为 th 单元格，重新绑定：鼠标点击单元格时显示阅读模式（十字光标）\n            if (foundTd) {\n                tblTd2ThData[i].f(\"th\" + V_attrX(_dataTd2th_)).e(function () {\n                    TableCross_bind(table, $(this));\n                });\n            }\n        }\n    } // if\n\n    needRowSpan = gFalse;\n}\n\n/**\n * 清空单元格内容（无内容情况下清空空格 &nbsp;）\n * @param cell 表格单元格对象\n */\nfunction CellMerge_emptyBlankCell(cell) {\n    if (cell.t().x().length === 0) {\n        cell.hm(_);\n        JQ_addClass(cell, \"v-empty-cell\");\n    }\n}\n\n// ==================== 表格阅读模式（十字光标）类 ==================== //\n\nlet //TableCross_enabled = gFalse,\n    TableCross_ui = gUndefined,\n    TableCross_lastTable = gUndefined, // 最后/当前显示阅读模式（十字光标）的表格\n    TableCross_lastCell = gUndefined; // 最后/当前显示阅读模式（十字光标）的表格单元格\n\nfunction TableCross_init() {\n    TableCross_ui = $(_vTblX_);\n    // TableCross_ui = $(\".v-table-cross\");\n    V_ui_addAnimate(TableCross_ui);\n}\n\n/**\n * 切换表格阅读模式（十字光标）开关\n */\nfunction TableCross_toggle(table) {\n    // 已打开，则关闭\n    if (table.a(_dataTblX_) === _true_)\n        TableCross_disable(table);\n    // 未打开，则打开\n    else\n        TableCross_enable(table);\n}\n\n// 打开表格阅读模式（十字光标）\nfunction TableCross_enable(table) {\n    // TableCross_enabled = gTrue;\n    table.a(_dataTblX_, _true_);\n    JQ_addClass(ContentAssistor_btns_tableCross, _selected_);\n\n    if (table !== gUndefined && table != null)\n        table.p().p().n(\".\" + _vContentExpander_).ch(\".v-btn\").tr(_click_);\n}\n\n// 关闭表格阅读模式（十字光标）\nfunction TableCross_disable(table) {\n    // TableCross_enabled = gFalse;\n    table.a(_dataTblX_, _false_);\n    JQ_removeClass(ContentAssistor_btns_tableCross, _selected_);\n    TableCross_hide();\n}\n\n/**\n * 绑定单元格，鼠标点击单元格时显示阅读模式（十字光标）\n * @param table 单元格所属表格对象\n * @param cell 单元格对象\n */\nfunction TableCross_bind(table, cell) {\n    cell.uC().ck(function (event) {\n        if (table.a(_dataTblX_) !== _true_ || Copyer_processing)\n            return;\n\n        // vvv 不同表格之间点击，先强制移除动画 vvv\n        if (TableCross_lastTable !== table)\n            V_ui_removeAnimate(TableCross_ui);\n\n        // 同一单元格不重复处理\n        if (TableCross_lastCell === cell)\n            return;\n\n        let container = table.p().p(),\n            contentFolded = container.a(_dataContentFolded_);\n        // 跳过被折叠表格\n        if (contentFolded !== gUndefined && contentFolded.sW(\"t\"))\n            return;\n\n        // 若点击同时也触发了「代码 / 标签 / 徽章」的复制\n        if (!Copyer_processing)\n            event.stopPropagation(); // 停止事件冒泡，避免与其他事件的处理冲突（如：document.click）\n\n        TableCross_hide();\n        JQ_addClass(cell, _vTblXCell_);\n\n        TableCross_lastCell = cell;\n        TableCross_lastTable = table;\n\n        let tblWidth = JS_parseInt(table.c(_width_)),\n            tblHeight = JS_parseInt(table.c(_height_));\n\n        let cellWidth = JS_parseInt(cell.c(_width_)),\n            cellHeight = JS_parseInt(cell.c(_height_)),\n            cornerLeftX = table.oL(),\n            cornerUpY = table.oT(),\n            cornerLeftWidth = cell.oL() - table.oL(),\n            cornerUpHeight = cell.oT() - table.oT(),\n            cornerRightX = cell.oL()  + cellWidth,\n            cornerDownY = cell.oT() + cellHeight,\n            cornerRightWidth = tblWidth - cornerLeftWidth - cellWidth,\n            cornerDownHeight = tblHeight - cornerUpHeight - cellHeight;\n\n        // 1. 左上角\n        let leftUp = $(_vTblX_ + \".left-up\");\n        leftUp.c(_left_, cornerLeftX)\n            .c(_top_, cornerUpY)\n            .c(_width_, cornerLeftWidth)\n            .c(_height_, cornerUpHeight)\n            .c(_zIndex_, 9);\n\n        // 2. 右上角\n        let rightUp = $(_vTblX_ + \".right-up\");\n        rightUp.c(_left_, cornerRightX)\n            .c(_top_, cornerUpY)\n            .c(_width_, cornerRightWidth)\n            .c(_height_,  cornerUpHeight)\n            .c(_zIndex_, 9);\n\n        // 3. 左下角\n        let leftDown = $(_vTblX_ + \".left-down\");\n        leftDown.c(_left_, cornerLeftX)\n            .c(_top_, cornerDownY)\n            .c(_width_, cornerLeftWidth)\n            .c(_height_, cornerDownHeight)\n            .c(_zIndex_, 9);\n\n        // 4. 右下角\n        let rightDown = $(_vTblX_ + \".right-down\");\n        rightDown.c(_left_, cornerRightX)\n            .c(_top_, cornerDownY)\n            .c(_width_, cornerRightWidth)\n            .c(_height_, cornerDownHeight)\n            .c(_zIndex_, 9);\n\n        // 须延时后再执行显示，让以上代码先完成\n        setTimeout(function () {\n            // 针对不同表格之间点击强制移除动画后的恢复\n            V_ui_addAnimate(TableCross_ui);\n            V_ui_show(leftUp);\n            V_ui_show(rightUp);\n            V_ui_show(leftDown);\n            V_ui_show(rightDown);\n        }, 50);\n    });\n}\n\n/**\n * 隐藏表格阅读模式（十字光标）\n */\nfunction TableCross_hide() {\n    if (TableCross_lastCell === gUndefined)\n        return;\n\n    V_ui_hide(TableCross_ui);\n\n    JQ_removeClass(TableCross_lastCell, _vTblXCell_);\n    TableCross_lastTable = gUndefined;\n}\n\n/**\n * 判断当前内容块是否与已显示了阅读模式（十字光标）的表格重叠\n * @param target 内容块对象\n*/\n// function TableCross_checkFallWith(target) {\n//     return (TableCross_lastTable !== gUndefined\n//         && target.ch().a(_id_) === TableCross_lastTable.a(_id_));\n// }\n\n// ==================== 表格自动换行类 ==================== //\n\n/**\n * 切换表格自动换行开关\n */\nfunction TableWrap_toggle(table) {\n    // 已打开，则关闭\n    if (table.c(_whiteSpace_) === _preWrap_)\n        TableWrap_disable(table);\n    // 未打开，则打开\n    else\n        TableWrap_enable(table);\n}\n\n// 打开表格自动换行\nfunction TableWrap_enable(table) {\n    JQ_addClass(ContentAssistor_btns_tableWrap, _selected_);\n    JQ_removeClass(table, \"v-table-unwrap\");\n    JQ_addClass(table, \"v-table-wrap\");\n    // table.c(s_CssText, s_WhiteSpace + \":\" + s_PreWrap + s_Important);\n}\n\n// 关闭表格自动换行\nfunction TableWrap_disable(table) {\n    JQ_removeClass(ContentAssistor_btns_tableWrap, _selected_);\n    JQ_removeClass(table, \"v-table-wrap\");\n    JQ_addClass(table, \"v-table-unwrap\");\n    // table.c(s_CssText, s_WhiteSpace + \":pre\" + s_Important);\n}\n\n// ==================== 表格列格式化类 ==================== //\n\nlet ColumnFormatting_syntax_checkbox_header = /\\[ ?] /; // 复选框列头格式语法\nlet ColumnFormatting_syntax_checkbox = /(^((\\[[x-]])|[Yy?？])(\\s.+)*)/; // 复选框列内单元格格式语法\n\n/**\n * 初始化\n * @param table 表格对象\n * @param cell 单元格对象\n * @param text 单元格文本内容\n */\nfunction ColumnFormatting_init(table, cell, text) {\n    if (table.a(_dataColumnFmting_) !== _true_\n        && (cell.f(_strong_ + \",em,u,\" + _mark_ + \",\" + _del_).length > 0 // 普通列格式\n        || cell.c(_textAlign_) === _right_ // 右对齐表示使用数值格式\n        || ColumnFormatting_syntax_checkbox_header.test(text))) { // 复选框列格式\n            // 将表格标识为带列格式语法\n            table.a(_dataColumnFmting_, _true_);\n            return gTrue; // 匹配到列格式\n    }\n    return gFalse; // 未匹配到列格式\n}\n\n/**\n * 返回表格内所有非合并的同列单元格对象集合\n * @param table 表格格对象\n * @param th 列头单元格对象\n * @param cells 集合变量\n */\nfunction ColumnFormatting_getCells(table, th, cells) {\n    if (cells === gUndefined)\n        cells = table.f(V_attrX(_dataColspan_, _true_, \"!=\") + V_attrX(_dataTblCol_, th.a(_dataTblCol_)));\n    return cells;\n}\n\n/**\n * 返回表格 tbody 内的同列单元格对象集合\n * @param table 表格格对象\n * @param th 列头单元格对象\n * @param tbodyCells 集合变量，为 gUndefined 则重新生成\n */\nfunction ColumnFormatting_getTbodyCells(table, th, tbodyCells) {\n    if (tbodyCells === gUndefined)\n        tbodyCells = table.f(\"td\" + V_attrX(_dataTblCol_, th.a(_dataTblCol_)));\n    return tbodyCells;\n}\n\n/**\n * 列格式化\n * @param table 表格对象\n */\nfunction ColumnFormatting_format(table) {\n    table.f(\"thead th\").e(function () {\n        let th = $(this),\n            cells = gUndefined,\n            tbodyCells = gUndefined,\n            cellsCSS = _;\n\n        // 粗体\n        if (th.f(_strong_ + _firstChild_).length > 0) {\n            cells = ColumnFormatting_getCells(table, th, cells);\n            cellsCSS += _vTblColFmt_Bold_ + ___;\n        }\n\n        // 斜体\n        if (th.f(\"em\" + _firstChild_).length > 0) {\n            cells = ColumnFormatting_getCells(table, th, cells);\n            cellsCSS += _vTblColFmt_Em_ + ___;\n        }\n\n        // 高亮\n        let thHTML = th.hm();\n        if (thHTML.sW(\"<mar\") && thHTML.eW(\"rk>\") // <mark>...</mark>\n            || th.a(_class_) !== gUndefined\n            && th.a(_class_).i(_vTblColFmtMark_) > -1) {\n                $(V_attrX(_dataTblCol_, th.a(_dataTblCol_))).f(_mark_).ch().unwrap();\n                cells = ColumnFormatting_getCells(table, th, cells);\n                cellsCSS += _vTblColFmtMark_ + ___;\n        }\n\n        // 批量添加以上列的常规样式\n        if (cells !== gUndefined && cellsCSS.length > 0)\n            JQ_addClass(cells, cellsCSS);\n\n        // 下划线\n        // if (th.f(\"u\" + _firstChild_).length > 0) {\n        //     JQ_addClass(th, _vTblColFmt_U_);\n        //     tbodyCells = ColumnFormatting_getTbodyCells(table, th, tbodyCells);\n        //     tbodyCells.contents().wrap(\"<u></u>\");\n        // }\n\n        // 删除线\n        // if (th.f(_del_ + _firstChild_).length > 0) {\n        //     JQ_addClass(th, _vTblColFmtDel_);\n        //     tbodyCells = ColumnFormatting_getTbodyCells(table, th, tbodyCells);\n        //     tbodyCells.contents().wrap(\"<\" + _del_ + \"></\" + _del_ + \">\");\n        // }\n\n        // 复选框\n        if (ColumnFormatting_syntax_checkbox_header.test(th.t())) {\n            cells = ColumnFormatting_getCells(table, th, cells);\n            JQ_addClass(cells, _vTblColFmt_Chkbox_);\n\n            // 删除列头的复选框语法\n            ColumnFormatting_removeCheckboxSyntax(th, ColumnFormatting_syntax_checkbox_header);\n\n            tbodyCells = ColumnFormatting_getTbodyCells(table, th, tbodyCells);\n\n            tbodyCells.e(function () {\n                let ce = $(this),\n                    ceText = ce.t().x(),\n                    typeFlag = ceText.m(ColumnFormatting_syntax_checkbox),\n                    chkStatus = _no_,\n                    chkStyle = _dark_;\n\n                typeFlag = (typeFlag != null) ? typeFlag[2] : _;\n\n                // 跳过横向合并的单元格\n                if (ce.a(_colspan_) !== gUndefined)\n                    return gTrue;\n\n                // 移除单元格的复选框语法内容\n                ColumnFormatting_removeCheckboxSyntax(ce, typeFlag);\n\n                // 指定为 yes - 已选择\n                if (typeFlag === \"[x]\" || typeFlag.l() === \"y\") {\n                    chkStatus = _yes_;\n                    chkStyle = _theme_;\n                }\n                // 指定为 un - 不确定选择\n                else if (typeFlag === \"[-]\" || typeFlag === \"?\" || typeFlag === \"？\")\n                    chkStatus = _un_;\n                // 无指定\n                else\n                    ce.rHTML(_nbsp_, _);\n\n                // 添加复选框样式（有指定的内容，或单元内容为空时才添加）\n                if (typeFlag.length > 0 || ceText.length === 0)\n                    ce.pp(V_ui_svgIcon(_icoChkbox__ + chkStatus, 14, 14, chkStyle, _, V_attr(_dataChk_, chkStatus)));\n                else\n                    // 添加差异化的文本着色\n                    ce.pp(\"<em>\" + V_ui_sub(_, _, \"Gy\") + \"</em>\");\n            });\n        }\n\n        // 数值格式\n        if (th.c(_textAlign_).sW(\"r\")) {\n            tbodyCells = ColumnFormatting_getTbodyCells(table, th, tbodyCells);\n            // 设置为等宽字体\n            JQ_addClass(tbodyCells, _vTblColFmtNum_);\n            // 数值格式化处理\n            tbodyCells.e(function () {\n                let ce = $(this),\n                    text = ce.t();\n                // 内容为数值\n                if (text.isNumber()) {\n                    // 添加千位符\n                    ce.hm(V_formatting_decimal( // 添加千位符\n                        V_formatting_thousands(ce.hm()))); // 对小数进行格式化处理\n                    // 根据正负号进行着色处理\n                    ColumnFormatting_coloringNumber(ce, text, gTrue);\n                }\n                // 内容为百分数\n                else if (text.isPercent()) {\n                    // 对小数进行处理\n                    ce.hm(V_formatting_percent( // 对小数进行处理\n                        V_formatting_decimal(ce.hm()))); // 对百分数进行格式化处理\n                    // 根据正负号进行着色处理\n                    let coloring = ColumnFormatting_coloringNumber(ce, text, gTrue),\n                        percent = text.r(/(-|\\+|\\s)/g, _),\n                        percentValue = JS_mathRound(percent.r(\"%\", _)),\n                        percentBg = V_ui_hexToRGB(V_util_getVarVal(\"--h-f\")),\n                        bg1 = V_ui_formatRGBA(percentBg, 0.1),//\"rgba(128, 128, 128, 0.1)\",\n                        bg2 = V_ui_formatRGBA(percentBg, 0.4),//\"rgba(128, 128, 128, 0.4)\",\n                        bgSplit = V_ui_formatRGBA(percentBg, 0.8);//\"rgba(128, 128, 128, 0.8)\";\n\n                    // 对有首色的进行渐变颜色调整\n                    if (coloring) {\n                        let baseBg = ce.c(_color_).r(\"rgb\", \"rgba\");\n                        bg1 = baseBg.r(\")\", \", 0.05)\");\n                        bg2 = baseBg.r(\")\", \", 0.2)\");\n                        bgSplit = baseBg.r(\")\", \", 0.7)\");\n                    }\n                    // 根据百分比生成渐变背景色、最小宽度\n                    ce.c(_background_, _linearGradient_ + \"(90deg, \" + bg1 + \" 0%, \" + bg2 + ___ + (percentValue > 1 ? percentValue - 1 : 0)\n                        + \"%, \" + bgSplit + ___ + percent\n                        + \", transparent \" + percent + \")\")\n                            .c(_minWidth_, \"100px\");\n                    // 对 +/- 符号进行处理\n                    ce.hm(ce.hm().r(\">+\", \">▴ \").r(\">-\", \">▾ \"));\n                }\n                // 内容为货币\n                else if (text.isCurrency()) {\n                    // 对货币符号进行格式货\n                    ce.hm(V_formatting_decimal( // 对货币符号进行格式货\n                        V_formatting_thousands( // 添加千位符\n                            V_formatting_currency(ce.hm())))); // 对小数进行格式化处理\n                    // 根据正负号进行着色处理\n                    ColumnFormatting_coloringNumber(ce, text, gFalse);\n                }\n            });\n        } // 数值格式\n\n        // 标识单元格是否为横向合并，横向合并的单元不应用列格式\n        if (th.a(_colspan_) !== gUndefined)\n            th.a(_dataColspan_, _true_);\n        else\n            th.a(_dataColspan_, _false_);\n    });\n}\n\n/**\n * 根据数值的正、负号进行着色处理\n * @param target 着色的对象\n * @param text 依据的数值文本\n * @param mode 正负号位置模式，true：在开头，false: 在任意位置\n * @returns boolean 着色结果，true：有着色，false：没有着色\n */\nfunction ColumnFormatting_coloringNumber(target, text, mode) {\n    // 正、负号在文本的开头\n    if (mode) {\n        if (text.sW(\"-\")) {\n            JQ_addClass(target, _vTblColFmtNumNegative_);\n            return gTrue;\n        }\n        else if (text.sW(\"+\")) {\n            JQ_addClass(target, _vTblColFmtNumPositive_);\n            return gTrue;\n        }\n    }\n    // 正、负号在文本的任意位置\n    else {\n        if (text.i(\"-\") > -1) {\n            JQ_addClass(target, _vTblColFmtNumNegative_);\n            return gTrue;\n        }\n        else if (text.i(\"+\") > -1) {\n            JQ_addClass(target, _vTblColFmtNumPositive_);\n            return gTrue;\n        }\n    }\n    return gFalse;\n}\n\n/**\n * 移除复选框的语法内容\n * @param target 目标单元格对象\n * @param syntaxText 要移除的语法内容\n */\nfunction ColumnFormatting_removeCheckboxSyntax(target, syntaxText) {\n    target.rHTML(syntaxText, _);\n}\n\n// ==================== 表格行分组/折叠类 ==================== //\n\nlet RowGroup_folderCount = 0, // 折叠行内行分组类型的数量\n    RowGroup_syntax_tag = /^>+(\\s)./, // 用于匹配行折叠语法\n    RowGroup_syntax_tag2Replace = /(&gt;)+(\\s)/, // 用于匹配将行折叠语法替换为指定字符\n    RowGroup_spliter = \"> \", // 行折叠语法与内容的分隔标识\n    RowGroup_parentStack = [], // 上级行的堆栈\n    RowGroup_colorStack = [], // 不同分组的背景颜色堆栈\n    // 表格折叠行图标：已收起\n    RowGroup_icoCloser = V_ui_svgIcon(_icoFolded_, 16, 16, _theme_);\n    // 表格折叠行图标：已展开\n    // RowGroup_icoOpened = V_ui_genSvgIcon(\"icoUnfold\", 16, 16, s_Theme)\n\n/**\n * 初始化\n * @param table 表格对象\n */\nfunction RowGroup_init(table) {\n    // 若不是在新标签打开的，将第 1 列的设置缩进样式\n    JQ_addClass(table.f(V_attrX(_dataTblCol_, \"-0\", \"$=\")), _vTblRowGNotFolder_);\n\n    let lastLevel = 0, // 上一个缩进等级\n        currentLevel = 0; // 当前缩进等级\n        // bgColor = new RandomColor();\n\n    // 遍历所有行的第 1 个单元格\n    table.f(\"td\" + _firstChild_).e(function () {\n        let td = $(this),\n            tr = td.p(),\n            text = td.t();\n\n        // 判断每行的首列，是否有行折叠标识\n        // 没有则进入下一个循环\n        if (!RowGroup_syntax_tag.test(text)) {\n            lastLevel = 0;\n            RowGroup_parentStack.length = 0;\n            RowGroup_colorStack.length = 0;\n            return gTrue;\n        }\n\n        // 从语法中获得当前缩进等级\n        currentLevel = text.i(RowGroup_spliter) + 1;\n        // 当前等级比上一次等级要深\n        if (currentLevel > lastLevel) {\n            let beforeChanged = lastLevel;\n            lastLevel = currentLevel;\n            // 设置为新的行分组\n            RowGroup_newFolder(tr, currentLevel, beforeChanged === 0,\n                V_ui_formatRGBA(RandomColor_dissimilarRgb(), _varTblRowAlpha_));\n            // 设置为行缩进行\n            RowGroup_ident(tr, td, currentLevel);\n        }\n        // 当前等级比上一次等级要浅\n        else {\n            // 获得等级差进行\n            let count = lastLevel - currentLevel;\n            // 获得当前行对应的上级行\n            if (count > 0) {\n                for (let i = 0; i < count; i++) {\n                    RowGroup_parentStack.pop();\n                    RowGroup_colorStack.pop();\n                }\n                // JQ_addClass(tr, \"v-rowgroup-spliter\");\n                // tr.ch(\"td\").c(_backgroundColor_, \"yellow\");\n            }\n\n            lastLevel = currentLevel;\n            // 设置为行缩进行\n            RowGroup_ident(tr, td, currentLevel);\n        }\n    });\n}\n\n/**\n * 获得最近一个分组行分组对象\n */\nfunction RowGroup_lastParent() {\n    return RowGroup_parentStack[RowGroup_parentStack.length - 1];\n}\n\n/**\n * 获得最近一个分组颜色对象\n */\nfunction RowGroup_lastColor() {\n    return RowGroup_colorStack[RowGroup_colorStack.length - 1];\n}\n\n/**\n * 设置为新的行分组\n * @param tr 对应的行对象\n * @param level 缩进层级\n * @param reset 是否重置回第一级\n * @param color 该分组背景色\n */\nfunction RowGroup_newFolder(tr, level, reset, color) {\n    let folderRow = tr.pr();\n    RowGroup_folderCount++;\n\n    // 将当前行分组的 id 入栈\n    RowGroup_parentStack.push(RowGroup_folderCount);\n    // 将当前行分组的随机背景颜色入栈\n    RowGroup_colorStack.push(color);\n\n    // 设置折叠行分组的属性\n    folderRow.a(_dataFolderId_, RowGroup_folderCount);\n    folderRow.a(_dataFolder_, _true_);\n    folderRow.a(_dataRowFolded_, _true_);\n\n    // 获得折叠行分组首个单元格\n    let td = folderRow.ch(\"td\" + _first_),\n        tdHadIdent = td.f(\".\" + _vTblRowGIdenter_ + _last_);\n        // btnRowGroup = V_ui_span(\"v-tbl-row-g-btn\", __, RowGroup_icoCloser);\n\n    // 设置折叠控件样式\n    if (tdHadIdent.length > 0)\n        tdHadIdent.af(V_ui_span(_vTblRowGBtn_.xD(), _, RowGroup_icoCloser));\n    else\n        td.pp(V_ui_label(_vTblRowGBtn_.xD(), _, RowGroup_icoCloser));\n\n    V_ui_addAnimate(td.f(_vTblRowGBtn_ + \">\" + _svg_));\n    // 调整折叠行的缩进样式\n    JQ_removeClass(td, _vTblRowGNotFolder_);\n    JQ_addClass(td, _vTblRowGFolder_);\n    JQ_addClass(tdHadIdent, _vTblRowGIdenterFolder_);\n\n    // 添加代表目录的括号及样式\n    // 重新组合生成新的单元格内容，以支持原始带格式的单元格内容\n    let preClass = \".\" + _vTblRowGIdenter_ + \", \" + _vTblRowGBtn_,\n        preObjs = td.f(preClass),\n        cloneTd = td.clone();\n    JQ_remove(cloneTd.ch(preClass));\n    // td.hm(__echoOuterHTML(preObjs) + \" <span class='folder-marker'>[</span> \" + V_ui_strong(__ + cloneTd.hm() + _s_) + \"<span class='folder-marker'>]</span>\");\n    td.hm(__echoOuterHTML(preObjs) + ___ + V_ui_strong(cloneTd.hm() + ___));\n\n    // 设置展开、收起事件\n    td.ch(_vTblRowGBtn_).ck(function (event) {\n        RowGroup_toggle(folderRow, event);\n    });\n\n    /**\n     * 遍历获得指定对象集合的所有 outerHTML 内容\n     * @param objectSet 对象集合\n     * @returns String\n     */\n    function __echoOuterHTML(objectSet) {\n        let outerHTML = _;\n        objectSet.e(function () {\n            outerHTML += $(this).prop(_outerHTML_);\n        });\n        return outerHTML;\n    }\n}\n\n/**\n * 展开、收起表格行分组下的表格行\n * @param folderRow 折叠按钮所在的表格行对象\n * @param event 事件对象\n */\nfunction RowGroup_toggle(folderRow, event) {\n    // 取消事件冒泡，用于避免显示表格的阅读模式（十字光标）\n    event.stopPropagation();\n\n    // 处理行分组的打开、关闭\n    if (folderRow.a(_dataRowFolded_).sW(\"t\"))\n        RowGroup_open(folderRow);\n    else\n        RowGroup_close(folderRow);\n\n    // 隐藏表格的阅读模式（十字光标）\n    TableCross_hide();\n}\n\n/**\n * 展开所有表格行分组\n * @param table 指定的表格对象\n * @param mode 指定打开模式。auto：系统自动打开\n * @returns boolean 处理结果。true: 已展开，false: 不符合展开条件\n */\nfunction RowGroup_openAll(table, mode) {\n    if (table.a(_dataRowGroup_) !== _true_)\n        return gFalse;\n\n    table.f(_vTblRowGBtn_).e(function () {\n        let folderRow = $(this).p().p();\n        if (folderRow.a(_dataRowFolded_) === _true_)\n            RowGroup_open(folderRow, mode);\n    });\n    return gTrue;\n}\n\n/**\n * 收起全部表格行分级\n * @param table 指定的表格对象\n * @param mode 指定处理范围。auto：关闭被自动打开的，不指定时默认全部关闭\n * @returns boolean 处理结果。true: 已展开，false: 不符合展开条件\n */\nfunction RowGroup_closeAll(table, mode) {\n    if (table.a(_dataRowGroup_) !== _true_)\n        return gFalse;\n\n    // 只对第一级的行分组进行处理，非第一级的行分级为 span.v-tbl-row-g-btn\n    table.f(_label_ + _vTblRowGBtn_).e(function () {\n        let folderRow = $(this).p().p();\n        LOG(mode, folderRow.a(_dataRowOpenMode_), folderRow.a(_dataRowFolded_));\n        if (mode === _auto_) {\n            if (folderRow.a(_dataRowOpenMode_) === _auto_ && folderRow.a(_dataRowFolded_) === _false_)\n                RowGroup_close(folderRow);\n        }\n        else {\n            if (folderRow.a(_dataRowFolded_) !== _true_)\n                RowGroup_close(folderRow);\n        }\n    });\n    return gTrue;\n}\n\n/**\n * 重置清空表格中的行分组相关信息\n * @param target 目标表格\n */\nfunction RowGroup_reset(target) {\n    JQ_removeAttr(target, _dataRowGroup_);\n    JQ_removeAttr(target.f(\"tr\" + V_attrX(_dataParentFolderId_)), _dataParentFolderId_);\n}\n\n/**\n * 设置为缩进行\n * @param tr 对应的行对象\n * @param td 对应的行的首个单元格\n * @param level 缩进层级\n */\nfunction RowGroup_ident(tr, td, level) {\n    // 统一缩进节点符号转换，尾行在完成的有处理后再进行修正\n    td.rHTML(RowGroup_syntax_tag2Replace, _);\n\n    // 设置被折叠行的属性\n    tr.a(_dataParentFolderId_, RowGroup_lastParent());\n    // 设置缩进样式\n    td.a(_dataIdentLevel_, level);\n    // 调整样式\n    JQ_removeClass(td, _vTblRowGNotFolder_);\n    JQ_addClass(td, _vTblRowGSub_);\n    // 设置被折叠行的背景色\n    tr.c(_backgroundColor_, RowGroup_lastColor());\n\n    // 生成缩进占位元素\n    for (let i = 0; i < level; i++) {\n        let identer = td.f(\".\" + _vTblRowGIdenter_ + _last_),\n            identObj = V_ui_label(_vTblRowGIdenter_, _);\n        if (identer.length > 0)\n            identer.af(identObj);\n        else\n            td.pp(identObj);\n    }\n\n    // 隐藏被折叠的行\n    tr.c(_display_, _table_ + \"-column\");\n}\n\n/**\n * 展开表格行分组\n * @param folderRow 行分组对象\n * @param mode 指定打开模式。auto：系统自动打开\n */\nfunction RowGroup_open(folderRow, mode) {\n    // 处理展开行分组\n    let id = folderRow.a(_dataFolderId_),\n        table = folderRow.p().p(),\n        subRows = table.f(\"tr\" + V_attrX(_dataParentFolderId_, id)),\n        folderButton = folderRow.ch(\"td\" + _first_).ch(_vTblRowGBtn_ + _last_);\n\n    folderRow.a(_dataRowFolded_, _false_);\n    if (mode !== gUndefined)\n        folderRow.a(_dataRowOpenMode_, mode);\n    // folderButton.prop(\"innerHTML\", RowGroup_icoOpened);\n    // folderButton.hm(RowGroup_icoOpened);\n    JQ_addClass(folderButton.ch(_svg_), _vRotate90_);\n    subRows.c(_display_, _);\n\n    // 如表格指定了重复表头则进行对应处理\n    let thRow = table.f(\"thead>tr\" + _lastChild_);\n    if (table.a(_dataThRpt_) === \"group\") {\n        // 从第 2 列开始进行处理\n        folderRow.f(\"td:not(\" + _firstChild_ + \")\").e(function () {\n            let td = $(this),\n                tdHTML = td.hm().x();\n            if (tdHTML.length === 0 || tdHTML === _nbsp_) {\n                let colID = td.a(_dataTblCol_),\n                    th = thRow.f(\"th\" + V_attrX(_dataTblCol_, colID)).hm();\n                // 如果对应的列头可能因向下合并单元格为空时，尝试找上一行对应的列头\n                if (th === gUndefined) {\n                    let prevThRow = thRow.pr();\n                    if (prevThRow !== gUndefined)\n                        th = prevThRow.f(\"th\" + V_attrX(_dataTblCol_, colID)).hm();\n                }\n                // 临时将行分组中的单元格替换为对应的列头\n                td.hm(th);\n                JQ_addClass(td, _vThRepeater_);\n            }\n        });\n    }\n}\n\n/**\n * 折叠表格行分组\n * @param folderRow 行分组对象\n */\nfunction RowGroup_close(folderRow) {\n    // 处理折叠行分组\n    let id = folderRow.a(_dataFolderId_),\n        subRows = $(\"tr\" + V_attrX(_dataParentFolderId_, id)),\n        folderButton = folderRow.ch(\"td\" + _first_).ch(_vTblRowGBtn_ + _last_);\n\n    folderRow.a(_dataRowFolded_, _true_);\n    JQ_removeAttr(folderRow, _dataRowOpenMode_);\n    // folderButton.prop(\"innerHTML\", RowGroup_icoClosed);\n    // folderButton.hm(RowGroup_icoClosed);\n    JQ_removeClass(folderButton.ch(_svg_), _vRotate90_);\n\n    // 折叠所有子行（包括行分组）\n    subRows.e(function () {\n        let tr = $(this),\n            folder = tr.a(_dataFolder_);\n        if (folder !== gUndefined && folder.sW(\"t\"))\n            RowGroup_close(tr);\n        tr.c(_display_, _table_ + \"-column\");\n    });\n\n    // 如表格指定了重复表头则进行对应处理\n    let table = folderRow.p().p();\n    if (table.a(_dataThRpt_) === \"group\") {\n        // 从第 2 列开始进行处理\n        folderRow.f(\"td:not(\" + _firstChild_ + \")\").e(function () {\n            let td = $(this);\n            // 将行分组中临时替换的列头删除\n            if (td.a(_class_).i(_vThRepeater_) > -1) {\n                td.hm(_);\n                JQ_removeClass(td, _vThRepeater_);\n            }\n        });\n    }\n}\n\n/**\n * 根据设备类型自适应hover样式\n */\nfunction RowGroup_adjustHoverStyle() {\n    if (env.device.mobile) // 移动设备时解绑样式事件\n        $(_vTblRowGBtn_).uH();\n    else // 为表格行分组的折叠控件绑定 hover 事件\n        V_ui_bindHover($(_vTblRowGBtn_));\n}\n\n// ==================== 表格列头重复生成器 ==================== //\n\nlet ThRepeater_syntax_tag = /^(##\\s).+/; // 用于匹配表格列头重复的语法\n\n/**\n * 初始化重复表头处理\n */\nfunction ThRepeater_init(table) {\n    let hasRowGroup = table.a(_dataRowGroup_) === _true_;\n\n    // 带行分组时，表头重复模式为 group，其他则为 page\n    table.a(_dataThRpt_, hasRowGroup ? \"group\" : \"page\");\n    if (hasRowGroup)\n        return;\n\n    // 处理 page 模式的表头重复\n    let rowIndex = 1,\n        pageSize = 15 + rowIndex,\n        thRow = table.f(\"thead>tr\"),\n        skipRowCount = 0,\n        lastSkipRowCount = 0,\n        tbody = table.f(\"tbody>tr\"),\n        rowCount = tbody.length;\n\n    tbody.e(function () {\n        let tr = $(this),\n            td = tr.ch(\"td[rowspan]\");\n\n        // 跳过有跨行合并的行\n        if (td.length > 0) {\n            td.e(function () {\n                let rowSpan = JS_parseInt($(this).a(_rowspan_));\n                if (rowSpan > skipRowCount) {\n                    skipRowCount = rowSpan - 1;\n                }\n                lastSkipRowCount = skipRowCount - 1;\n            });\n        }\n\n        // 每 15 行为 1 页\n        if (skipRowCount === 0 && rowIndex % (pageSize + lastSkipRowCount - 1) === 0\n            && rowIndex < rowCount) {\n                let colIndex = 0;\n                thRow.e(function () {\n                    tr.af($(this).prop(_outerHTML_).rA(\"<th \", \"<td \"));\n                    JQ_addClass(tr.n().ch(\"td\"), _vThRepeater_);\n                    if (colIndex === 0)\n                        JQ_addClass(tr.n().ch(\".\" + _vThRepeater_), \"first\");\n                    else\n                        JQ_addClass(tr.n().ch(\".\" + _vThRepeater_), \"not-first\");\n                    tr = tr.n();\n                    // 取消表格行号\n                    JQ_addClass(tr, \"v-tr-repeater\");\n\n                    colIndex++;\n                });\n        }\n        rowIndex++;\n\n        // 未完成须跳过的行\n        if (skipRowCount > 0)\n            skipRowCount--;\n        // 已完成须跳过的行\n        else\n            lastSkipRowCount = 0;\n    });\n}\n\n// ==================== 音频增强类 ==================== //\n\nlet ExtAudio_icon_loading = V_ui_svgIcon(_icoLoading_, 16, 16, _light_),\n    ExtAudio_icon_play = V_ui_svgIcon(_icoPlay_, 16, 16, _light_),\n    ExtAudio_icon_pause = V_ui_svgIcon(_icoPause_, 16, 16, _light_),\n    ExtAudio_icon_stop = V_ui_svgIcon(_icoStop_, 16, 16, _light_),\n    ExtAudio_icon_forbidden = V_ui_svgIcon(_icoForbidden_, 16, 16, _light_);\n\n/**\n * 初始化音频数据\n */\nfunction ExtAudio_init() {\n    // 支持指定类型的音频，以及支持带参数的 URL\n    let writeImg = _write_ + ___ + _img_;\n    $(writeImg + \"[src$='.mp3'],\" + writeImg + \"[src$='.m4a'],\" + writeImg + \"[src$='.ogg'],\" + writeImg + \"[src$='.wav'],\"\n    + writeImg + \"[src*='.mp3?'],\" + writeImg + \"[src*='.m4a?'],\" + writeImg + \"[src*='.ogg?'],\" + writeImg + \"[src*='.wav?']\").e(function () {\n        let audioLike = $(this),\n            audio = gUndefined,\n            src = audioLike.a(_src_),\n            container = audioLike.p(),\n            params = V_util_getUrlQueryParams(src);\n\n        // 指定为 mini 模式（扩展的自定义控件）\n        if (params[_controls_] === _mini_) {\n            V_doc_counter_audiomini++;\n\n            // 将 URL 为音频资源的 img 标签转换为 audio\n            audio = __transToAudio(audioLike, src);\n            // 设置 audio id 用于自定义 mini 控件\n            audio.a(_id_, _vkIdMiniAudio_ + V_doc_counter_audiomini);\n\n            // 添加音频播放 mini 控件\n            audio.af(V_ui_div(_vkIdMiniAudio_ + V_doc_counter_audiomini + \"-control\", _vAudioMiniControl_,\n                        V_attr(_dataTitle_, \"mini audio \" + V_doc_counter_audiomini)));\n\n            // 开始加载音频\n            audio.bind(\"loadstart\", function () {\n                let controls = $(\"#\" + $(this).a(_id_) + \"-control\");\n                JQ_addClass(controls, _vAudioMiniControl_);\n                JQ_addClass(controls, _loading_);\n                controls.hm(ExtAudio_icon_loading);\n            });\n\n            // 音频就绪可以开始播放\n            audio.bind(\"canplay\", function () {\n                let controls = $(\"#\" + $(this).a(_id_) + \"-control\");\n                JQ_removeClass(controls, _loading_);\n\n                // 绑定点击事件\n                controls.uC().ck(function () {\n                    __play(this, audio[0]);\n                });\n                controls.hm(ExtAudio_icon_play);\n                controls.a(_dataPause_, params[\"pause\"]);\n\n                // 须显示持续时长\n                let dur = params[\"duration\"];\n                if (dur !== gUndefined && dur.sW(\"t\")) {\n                    let dur2 = audio.a(_dataDuration_);\n                    if (dur2 === gUndefined || !dur2.sW(\"t\")) {\n                        // 计算音频时长\n                        let duration = audio[0].duration,\n                            min = Math.floor(duration / 60),\n                            sec = Math.floor(duration -  min * 60);\n                        let minStr = min > 0 ? min + \"′\" : _;\n                        audio.n().af(\" <sup class='v-duration-info'>\" + minStr + sec + \"″</sup>\");\n                        audio.a(_dataDuration_, _true_);\n                    }\n                }\n            });\n\n            // 正在播放\n            audio.bind(_playing_, function () {\n                let controls = $(\"#\" + $(this).a(_id_) + \"-control\"),\n                    pause = controls.a(_dataPause_);\n\n                JQ_addClass(controls, _vAudioMiniControl_)\n                JQ_addClass(controls, _playing_);\n\n                // 支持暂停播放\n                if (pause !== gUndefined && pause.sW(\"t\")) {\n                    controls.hm(ExtAudio_icon_pause);\n                }\n                // 不支持暂停播放，暂时即结束\n                else {\n                    controls.hm(ExtAudio_icon_stop);\n                    audio.currentTime = 0; // 播放都是从头开始\n                }\n            });\n\n            // 播放结束后恢复按钮状态\n            audio.bind(\"ended\", function () {\n                let controls = $(\"#\" + $(this).a(_id_) + \"-control\");\n                controls.hm(ExtAudio_icon_play);\n                JQ_removeClass(controls, _playing_);\n            });\n\n            // 故障或不可用\n            audio.bind(_emptied_, function () {\n                let id = $(this).a(_id_) + \"-control\",\n                    controls = $(\"#\" + id);\n                JQ_removeClass(controls, _loading_);\n                controls.hm(ExtAudio_icon_forbidden);\n                JQ_addClass(controls, _vAudioMiniControl_);\n                JQ_addClass(controls, _disabled_);\n                // 将无法加载的音频信息添加到链接检查器\n                __addToLinkChecker(id, controls.a(_dataTitle_));\n            });\n\n            // 加载错误\n            audio.bind(_error_, function () {\n                audio.tr(_emptied_);\n            });\n\n            // 鼠标 hover 事件\n            audio.hover(function () {\n                let _t =  $(this);\n                if (_t.a(_class_).i(_disabled_) === -1)\n                    JQ_addClass(_t, _hover_);\n            }, function () {\n                JQ_removeClass($(this), _hover_);\n            });\n        }\n        // 标准控件模式\n        else {\n            V_doc_counter_audio++;\n\n            // 确保 video 有独立的父容器，一般情况下 Typora 导出的为 <p>\n            if (V_util_getTagName(container) !== \"p\") {\n                audioLike.wrap(\"<p></p>\");\n            // if (V_util_getTagName(container) !== _figcaption_) {\n            //     audioLike.wrap(V_ui_figcaption(_, _, _));\n                container = audioLike.p();\n            }\n            // 设置容器样式数据，用于折叠内容时使用\n            container.a(_dataContainer_, _audio_);\n            JQ_addClass(container, _vCaptionContainer_);\n\n            // 先根据题注语法生成题注\n            CaptionGenerator_actionForMediaContent(audioLike, _audio_);\n\n            // 将 URL 为音频资源的 img 标签转换为 audio\n            audio = __transToAudio(audioLike, src);\n            // 设置 audio 为标准控件\n            audio.a(_controls_, _controls_);\n\n            // 若有第 2 题注，则微调样式\n            if (audio.n(_vCap2_).length > 0)\n                audio.c(_marginBottom_, \"-10px\");\n\n            // 故障或不可用\n            audio.bind(_emptied_, function () {\n                // 将无法加载的音频信息添加到链接检查器\n                __addToLinkChecker(audio.p().a(_id_), audio.p().a(_dataTitle_));\n            });\n\n            // 加载错误\n            audio.bind(_error_, function () {\n                audio.tr(_emptied_);\n            });\n        }\n\n        /**\n         * 将无效音频源的信息添加到链接检查器\n         *\n         * @param id 坏链对象的标识\n         * @param content 显示的内容\n         */\n        function __addToLinkChecker(id, content) {\n            // 将无法加载的音频信息添加到链接检查器\n            LinkTool_addToCheck(id, \"🔈 \"\n                + V_ui_strong([\n                    \"无效的音频源\",\n                    \"Invalid audio source\"\n                ][V_lang_id]) + \": \" + content);\n        }\n    });\n\n    /**\n     * 转换为 audio 标签\n     * @param audioLike 类 audio 标签（即 src 为音频的 img 标签)\n     * @param src 音频 URL\n     */\n    function __transToAudio(audioLike, src) {\n        let tips = [\n            \"您的浏览器不支持音频标签。\",\n            \"Your browser does not support the audio tag.\"\n        ][V_lang_id];\n\n        // 对 audio 标签的属性进行支持\n        let autoplay = V_util_getUrlQueryParams(src)[_autoplay_],\n            loop = V_util_getUrlQueryParams(src)[_loop_],\n            preload = V_util_getUrlQueryParams(src)[_preload_];\n\n        // 将 URL 为音频资源的 img 标签转换为 audio\n        audioLike.wrap(V_ui_audio(V_attr(_src_, src), tips));\n        let audio = audioLike.p();\n        // 移除图片 img 标签\n        JQ_remove(audioLike);\n\n        // 设置 audio 属性\n        if (autoplay !== gUndefined) audio.a(_autoplay_, _autoplay_);\n        if (loop !== gUndefined) audio.a(_loop_, _loop_);\n        if (preload !== gUndefined) audio.a(_preload_, _auto_);\n\n        return audio;\n    }\n\n    /**\n     * 播放音频\n     * @param self 自定义的播放控件对象\n     * @param audio 音频的 JavaScript 对象\n     */\n    function __play(self, audio) {\n        let controls = $(self);\n\n        // 已暂停、未播放\n        if (audio.paused) {\n            audio.play();\n        }\n        // 播放中\n        else {\n            controls.hm(ExtAudio_icon_play);\n            JQ_removeClass(controls, _playing_);\n            audio.pause();\n\n            // 不支持暂时播放时，暂时即结束\n            if (controls.a(_dataPause_) === gUndefined)\n                audio.currentTime = 0; // 播放都是从头开始\n        }\n    }\n}\n\n// ==================== 音频增强类 ==================== //\n\n/**\n * 初始化音频数据\n */\nfunction ExtVideo_init() {\n    // 支持指定类型的音频，以及支持带参数的 URL\n    let writeImg = _write_ + ___ + _img_;\n    $(writeImg + \"[src$='.ogv'],\" + writeImg + \"[src$='.mp4'],\" + writeImg + \"[src$='.webm'],\"\n    + writeImg + \"[src*='.ogv?'],\" + writeImg + \"[src*='.mp4?'],\" + writeImg + \"[src*='.webm?']\").e(function () {\n        let videoLike = $(this),\n            video = gUndefined,\n            src = videoLike.a(_src_),\n            container = videoLike.p();\n        V_doc_counter_video++;\n\n        // 确保 video 有独立的父容器，一般情况下 Typora 导出的为 <p>\n        if (V_util_getTagName(container) !== \"p\") {\n            videoLike.wrap(\"<p></p>\");\n        // if (V_util_getTagName(container) !== _figcaption_) {\n        //     videoLike.wrap(V_ui_figcaption(_, _, _));\n            container = videoLike.p();\n        }\n        // 设置容器样式数据，用于折叠内容时使用\n        container.a(_dataContainer_, \"video\");\n        JQ_addClass(container, _vCaptionContainer_);\n\n        // 先根据题注语法生成题注\n        CaptionGenerator_actionForMediaContent(videoLike, _video_);\n\n        // 将 URL 为音频资源的 img 标签转换为 video\n        video = __transToVideo(videoLike, src);\n\n        // 故障或不可用\n        video.bind(_emptied_, function () {\n            // 将无法加载的音频信息添加到链接检查器\n            __addToLinkChecker(video.p().a(_id_), video.p().a(_dataTitle_));\n        });\n\n        // 加载错误\n        video.bind(_error_, function () {\n            video.tr(_emptied_);\n        });\n    });\n\n    /**\n     * 将无效视频源的信息添加到链接检查器\n     * @param id 坏链对象的标识\n     * @param content 用于显示的内容\n     */\n    function __addToLinkChecker(id, content) {\n        // 将无法加载的音频信息添加到链接检查器\n        LinkTool_addToCheck(id, \"📺 \"\n            + V_ui_strong([\n                \"无效的视频源\",\n                \"Invalid video source\"\n            ][V_lang_id] + \": \") + content);\n    }\n\n    /**\n     * 转换为 video 标签\n     * @param videoLike 类 video 标签（即 src 为视频的 img 标签)\n     * @param src 视频 URL\n     */\n    function __transToVideo(videoLike, src) {\n        let tips = [\n            \"您的浏览器不支持视频标签。\",\n            \"Your browser does not support the video tag.\"\n        ][V_lang_id];\n\n        // 对 video 标签的属性进行支持\n        let autoplay = V_util_getUrlQueryParams(src)[_autoplay_],\n            loop = V_util_getUrlQueryParams(src)[_loop_],\n            preload = V_util_getUrlQueryParams(src)[_preload_],\n            width = V_util_getUrlQueryParams(src)[_width_],\n            height = V_util_getUrlQueryParams(src)[_height_];\n\n        // 将 URL 为音频资源的 img 标签转换为 video\n        videoLike.wrap(V_ui_video(V_attr(_src_, src), tips));\n        let video = videoLike.p();\n        // 移除图片 img 标签\n        JQ_remove(videoLike);\n\n        // 设置 video 为标准控件\n        video.a(_controls_, _controls_);\n\n        // 设置 video 属性\n        if (autoplay !== gUndefined) video.a(_autoplay_, _autoplay_);\n        if (loop !== gUndefined) video.a(_loop_, _loop_);\n        if (preload !== gUndefined) video.a(_preload_, _auto_);\n        if (width !== gUndefined) video.a(_width_, width);\n        if (height !== gUndefined) video.a(_height_, height);\n\n        return video;\n    }\n}\n\n// ==================== 文本输入框类 ==================== //\n\n/**\n * 构造函数\n * @param target 须在其后添加文本输入组件的目标对象\n * @param id 对象标识\n * @param append 添加模式。true：作为子元素添加，false：作为兄弟元素添加\n */\nfunction TextField(target, id, append) {\n    let T = this;\n    // 文本输入框属性\n    T.ui = gUndefined;\n    T.icon = gUndefined;\n    T.input = gUndefined;\n    T.reset = gUndefined;\n    T.action = gUndefined;\n\n    T.lastValue = _;\n    T.timerValueChanged = null;\n\n    T.inputing = gFalse;\n\n    // 文本输入框事件\n    T.onInput = gUndefined;\n    T.onFocus = gUndefined;\n    T.onBlur = gUndefined;\n    T.onKeyDown = gUndefined;\n    T.onAction = gUndefined;\n    T.pressEnter = gUndefined;\n    T.pressESC = gUndefined;\n\n    /**\n     * 将文本输入框实例添加到指定对象之后\n     * @param target 指定对象\n     * @param id 添加到目标对象的 id 值\n     * @param append true: 添加，false: 插入\n     */\n    T.__appendTo = function (target, id, append) {\n        // 文本输入框 UI\n        let ui = V_ui_div(_, \"v-textfield \" + id,\n                    V_ui_div(_, \"v-textfield-icon\")\n                    + V_ui_input(_, _, _text_)\n                    // + '<input type=\"text\">'\n                    + V_ui_div(_, \"v-textfield-action\")\n                    + V_ui_div(_, \"v-textfield-reset\", V_ui_svgIcon(_icoResetInput_, 16, 16, _alpha_))\n                );\n        if (append) {\n            target.ap(ui);\n            T.ui = target.ch(\".v-textfield.\" + id);\n        }\n        else {\n            target.af(ui);\n            T.ui = target.p().ch(\".v-textfield.\" + id);\n        }\n\n        // 获得实例的各关键对象\n        T.input = T.ui.ch(_input_);\n        T.reset = T.ui.ch(\".v-textfield-reset\");\n\n        /**\n         * 绑定文本输入事件\n         */\n        T.input.on(_input_, function () {\n            // 跳过中文输入法过程\n            // if ($(this).prop(\"compositionStatus\") !== \"start\")\n            //     __processInput();\n        });\n        /**\n         * 绑定开始中文输入事件\n         */\n        T.input.on(\"compositionstart\", function () {\n            $(this).prop(\"compositionStatus\", \"start\");\n        });\n        /**\n         * 绑定结束中文输入事件\n         */\n        T.input.on(\"compositionend\", function () {\n            $(this).prop(\"compositionStatus\", \"end\");\n        });\n        /**\n         * 绑定文本按键事件\n         */\n        T.input.on(\"keypress\", function (event) {\n            // __processInput();\n        });\n        /**\n         * 绑定文本获得焦点事件\n         */\n        T.input.focus(function () {\n            T.inputing = gTrue; // 标记为输入中的状态\n\n            JQ_addClass(T.ui, _vTextFieldFocus_);\n            __checkComValueChanged();\n\n            // 针对输入中文的情况，若输入了新的内容则进行查询\n            function __checkComValueChanged() {\n                if (T.input.prop(\"compositionStatus\") !== \"start\" && T.lastValue !== T.input.val()) {\n                    clearTimeout(T.timerValueChanged);\n                    T.timerValueChanged = null;\n                    T.lastValue = T.input.val();\n                    __processInput();\n                }\n                T.timerValueChanged = setTimeout(__checkComValueChanged, 500);\n            }\n            // 触发外部重定义事件\n            typeof(T.onFocus) === _function_ && T.onFocus(T.input);\n        });\n        /**\n         * 绑定文本失去焦点事件\n         */\n        T.input.blur(function () {\n            T.inputing = gFalse; // 标记为非输入中的状态\n\n            JQ_removeClass(T.ui, _vTextFieldFocus_);\n\n            clearTimeout(T.timerValueChanged);\n            T.timerValueChanged = null;\n\n            // 触发外部重定义事件\n            typeof(T.onBlur) === _function_ && T.onBlur(T.input);\n        });\n\n        /**\n         * 处理文本框输入的内容\n         */\n        function __processInput() {\n            let value = T.input.val().x();\n\n            if (value === _) {\n                T.reset.hide();\n\n                // 无内容时移除样式\n                if (T.action !== gUndefined && T.action.a(_class_).i(_enabled_) !== -1) {\n                    JQ_removeClass(T.action, _enabled_);\n                    V_ui_unbindHover(T.action);\n                }\n            }\n            else {\n                T.reset.show();\n\n                // 有内容时移除样式\n                if (T.action !== gUndefined && T.action.a(_class_).i(_enabled_) === -1) {\n                    JQ_addClass(T.action, _enabled_);\n                    T.action.hover(function () {\n                        T.actionHover(gTrue);\n                    }, function () {\n                        T.actionHover(gFalse);\n                    });\n                }\n            }\n            // 触发外部重定义事件\n            typeof(T.onInput) === _function_ && T.onInput(T.input, value);\n        }\n\n        /**\n         * 绑定键盘按下事件\n         */\n        T.input.bind(\"keydown\", function (event) {\n            let code = event.keyCode || event.which || event.charCode,\n                value = T.input.val();\n\n            let handled = false;\n            switch (code) {\n                case 13: // ENTER\n                    if (T.action !== gUndefined)\n                        T.action.tr(_click_);\n                    handled = true;\n                    typeof(T.pressEnter) === _function_ && T.pressEnter(T.input, value);\n                    break;\n                case 27: // ESC\n                    // 无内容时则取消取点，退出编辑，键盘事件则由导航中心的键盘事件进行响应\n                    if (value.length === 0)\n                        T.input.blur();\n                    // 有内容则清空内容等待重新输入\n                    else\n                        T.reset.tr(_click_);\n                    handled = true;\n                    typeof(T.pressESC) === _function_ && T.pressESC(T.input);\n                    break;\n            }\n            // 如果事件已处理，则禁止双重操作\n            if (handled)\n                event.preventDefault();\n\n            // 触发外部重定义事件\n            typeof(T.onKeyDown) === _function_ && T.onKeyDown(T.input, value, code);\n        });\n\n        /**\n         * 绑定重置输入内容按钮\n         */\n        T.reset.uC().ck(function () {\n            T.input.val(_);\n            T.input.select();\n            T.reset.hide();\n\n            if (T.action !== gUndefined && T.action.a(_class_).i(_enabled_) !== -1) {\n                JQ_removeClass(T.action, _enabled_);\n                V_ui_unbindHover(T.action);\n            }\n            // 触发外部重定义事件\n            typeof(T.onInput) === _function_ && T.onInput(T.input, _);\n        });\n    }\n\n    /**\n     * 清空输入框内容\n     */\n    T.clear = function () {\n        T.reset.tr(_click_);\n    }\n\n    /**\n     * 开启输入框前图标\n     * @param icon 图标\n     */\n    T.setIcon = function (icon) {\n        T.icon = T.ui.ch(\".v-textfield-icon\");\n        T.icon.hm(icon);\n        T.icon.show();\n    }\n\n    /**\n     * 开启动作按钮\n     * @param icon 按钮图标\n     */\n    T.setAction = function (icon) {\n        T.action = T.ui.ch(\".v-textfield-action\");\n        T.action.hm(icon);\n        T.action.show();\n\n        T.action.hover(function () {\n            T.actionHover(gTrue);\n        }, function () {\n            T.actionHover(gFalse);\n        });\n        T.action.uC().ck(function () {\n            let value = T.input.val();\n            // 输入内容不为空\n            if (value.length > 0)\n                T.input.select();\n\n            // 触发外部重定义事件\n            typeof(T.onAction) === _function_ && T.onAction(T.input, value);\n        });\n    }\n\n    /**\n     * 动作按钮鼠标 hover 处理\n     * @param enter true: 鼠标光标进入，false: 鼠标光标离开\n     */\n    T.actionHover = function (enter) {\n        if (enter) {\n            JQ_addClass(T.action, _hover_);\n            if (T.action.a(_class_).i(_enabled_) !== -1)\n                JQ_addClass(T.ui, _hoverAction_);\n        }\n        else {\n            JQ_removeClass(T.action, _hover_);\n            JQ_removeClass(T.ui, _hoverAction_);\n        }\n    }\n\n    /**\n     * 设置提示文本\n     * @param text 提示文本\n     */\n    T.placeholder = function (text) {\n        T.input.a(_placeholder_, text);\n    }\n\n    /**\n     * 显示文本输入框\n     */\n    T.show = function () {\n        T.ui.show();\n    }\n\n    /**\n     * 隐藏文本输入框\n     */\n    T.hide = function () {\n        T.ui.hide();\n    }\n\n    /**\n     * 设置文本框宽度\n     * @param width 宽度\n     */\n    T.setWidth = function (width) {\n        T.ui.c(_width_, width);\n        T.input.c(_width_, width\n            - (T.reset.w() + JS_parseInt(T.reset.c(_paddingLeft_)) * 2)\n            - (T.icon === gUndefined ? 0 : T.icon.w() + JS_parseInt(T.icon.c(_paddingLeft_)) * 2)\n            - (T.action === gUndefined ? 0 : T.action.w() + JS_parseInt(T.action.c(_paddingLeft_)) * 2));\n        if (T.icon !== gUndefined)\n            JQ_addClass(T.input, \"set-icon\");\n    }\n\n    // 生成控件\n    T.__appendTo(target, id, append);\n}\n\n// ==================== 过滤结果导航器类 ==================== //\n\nfunction FilterResultNavigator(result) {\n    let T = this;\n    T.index = 0;\n    T.result = result;\n\n    T.nextItem = function () {\n        if (T.result.isHidden())\n            return;\n\n        let set = T.result.ch(\":\" + _visible_),\n            item = set.eq(T.index);\n        T.index++;\n        if (T.index >= set.length)\n            T.index = 0;\n        return item;\n    }\n\n    T.reset = function () {\n        T.index = 0;\n    }\n}\n\n// ==================== 导航中心【目录】组件类 ==================== //\n\n/**\n * 构造函数\n * @param holder 关联的上级容器\n * @param hidden 是否默认为隐藏\n */\nfunction TocCatalog(holder, hidden) {\n    let T = this;\n    T.ui = {\n        entry : $(\".\" + _vSegmentBtn_ + \".catalog\"), // 入口\n        body : $(\".v-toc-catalog-body\"), // 目录索引内容\n        result : $(\".\" + _vTocFilterResult_ + \".catalog\") // 过滤结果面板\n    }\n\n    T.holder = holder;\n\n    T.h = []; // 目录集\n    // 针对无封面的情况\n    if (VOM_cover() === gUndefined)\n        T.h.push(_vkIdDocTitle_);\n\n    T.currentHeaderIndex = -1; // 当前章节在目录集中的索引\n    T.currentItem = gUndefined; // 当前章节对象\n\n    T.foldItems = []; // 非叶子章节集\n    T.lastHeaderFolder = gUndefined; // 上一个非叶子章节\n    T.lastHeaderLevel = 0; // 上一个章节的层级\n\n    T.lastDocScrollTop = 0; // 记录最后一次文档滚动位置\n\n    T.resultNav = new FilterResultNavigator(T.ui.result); // 过滤结果导航器\n\n    // 当前章节变化事件\n    T.onChapterChanged = gUndefined;\n\n    // 目录相关图标集\n    // T.icon = {\n    //     // 章节：已收起\n    //     folded : V_ui_genSvgIcon(_icoTocFolded_, 16, 16, s_Theme),\n    //     // 章节：已展开\n    //     // unfold : V_ui_genSvgIcon(\"icoTocUnfold\", 16, 16, s_Theme)\n    // };\n\n    // 更新无目录情况下的提示信息\n    T.ui.body.a(_dataCatalogEmpty_, [\n            \"( 无目录 )\",\n            \"( Catalog is Empty )\"\n        ][V_lang_id]);\n\n    /**\n     * 返回 Toc 组件类型名称\n     * @returns string Toc 组件类型名称\n     */\n    T.typeName = function () {\n        return _catalog_;\n    }\n\n    /**\n     * 是否有目录索引项目\n     */\n    T.hasIndexItem = function () {\n        return (T.ui.body.ch().length > 0);\n    }\n\n    /**\n     * 根据设备类型自适应hover样式\n     */\n    T.adjustHoverStyle = function () {\n        if (env.device.mobile) // 移动设备时解绑样式事件\n            $(_vTocFolder_).uH();\n        else // 非移动设备时绑定样式事件\n            V_ui_bindHover($(_vTocFolder_));\n    }\n\n    /**\n     * 添加目录节点\n     * @param item 由 Typora 生成的 [TOC] 目录节点\n     */\n    T.add = function (item) {\n        T.holder.segs.sts(this, gTrue);\n\n        // 将章节记录到目录集中\n        let a = item.ch(\"a\"),\n            href = a.a(_href_);\n        T.h.push(href.s(1, href.length));\n\n        // 自定义目录节点元数据\n        item.a(_id_, _vkHeader_ + item.a(_dataRef_)); // 添加id属性\n        item.a(_dataNode_, \"0\"); // 添加节点类型：0:叶子节点, 1:目录节点\n        item.a(_dataFolded_, _false_); // 添加节点状态：true:收起, false:展开\n        item.a(_title_, a.t().x());\n\n        // 使用完 <a> 的内容后，将章节中的链接文字提到链接外，用于实现长章节内容截断的 CSS 新式\n        a.af(a.t());\n        a.t(_);\n\n        // 点击目录节点事件\n        item.uC().ck(function () {\n            // 跳转至对应的页内锚点\n            let hash = $(\"#\" + item.a(_id_)).ch(\"a\").a(_href_);\n            V_util_gotoHash(hash);\n\n            // 触发锚点点击事件\n            typeof(T.holder.onInteractive) === _function_ && T.holder.onInteractive();\n        });\n\n        // -----------------------------------\n        // 目录非叶子章节的折叠功能实现\n        // 所有目录节点都添加 folding 空白控件备用\n        $(V_ui_div(\"fd-\" + _vkHeader_ + item.a(_dataRef_), _vTocFolder_.xD(), _nbsp_)).insertBefore(item.f(\"a\"));\n\n        // 记录所有非叶子节点的folder控件\n        let lv = ChpAutoNum_parseTocHeaderLevel(item.a(_class_));\n        if (T.lastHeaderFolder !== gUndefined) {\n            // 当前节点比上一个节点层级低，则上一节点为可折叠的节点\n            if (lv > T.lastHeaderLevel) {\n                // 将最近一个子目录节点折叠控件入栈\n                T.foldItems.push(T.lastHeaderFolder);\n\n                // 为非叶子的章节添加折叠图标\n                // let folder = T.lastHeaderFolder.hm(T.icon.unfold),\n                // let folder = T.lastHeaderFolder.hm(T.icon.folded),\n                let folder = T.lastHeaderFolder.hm(V_ui_svgIcon(_icoTocFolded_, 16, 16, _theme_, _vRotate90_)),\n                    folderParent = folder.p();\n                folderParent.a(_dataNode_, \"1\"); // 0:叶子, 1:目录\n                folderParent.a(_dataFolded_, _false_); // true:收起， false:展开\n\n                // 折叠控件事件\n                V_ui_addAnimate(folder.ch(_svg_));\n                folder.uC().ck(function (event) {\n                    event.stopPropagation(); // 停止事件冒泡\n\n                    let id = $(this).p().a(_id_);\n                    T.disposeFold(id, ($(\"#\" + id).a(_dataFolded_).sW(\"t\")) ? \"e\" : \"c\", gTrue);\n                });\n            }\n            // 右当前节点比上一个节点层级高，则视为从下级回到上级\n            // 并将最近一个子目录节点折叠控件出栈\n            else if (lv < T.lastHeaderLevel)\n                T.foldItems.pop();\n\n            // 设置当前节点的父级信息\n            if (T.foldItems.length > 0)\n                item.a(_dataPid_, T.foldItems[T.foldItems.length - 1].p().a(_id_));\n        }\n\n        // 更新最后处理的folder控件\n        T.lastHeaderFolder = $(\"#fd-\" + _vkHeader_ + item.a(_dataRef_));\n        T.lastHeaderLevel = lv;\n    }\n\n    /**\n     * 页面滚动时根据页面当前的位置，高亮对应目录中的章节\n     */\n    T.focusHeader = function (scrollTop) {\n        // ----------------------------------------\n        // 控制执行频率，避免处理过快影响性能\n        if (scrollTop === gUndefined)\n            scrollTop = $(document).scrollTop();\n        if (Math.abs(scrollTop - T.lastDocScrollTop) < 20)\n            return;\n\n        T.lastDocScrollTop = scrollTop;\n\n        // ----------------------------------------\n        // 寻找文档当前显示的章节\n        // 默认为最后一章\n        let curIdx = T.h.length - 1;\n        for (let i = 0, len = T.h.length; i < len; i++) {\n            let anchor = (!env.browser.Firefox)\n                    ? T.h[i] // 非 Firefox 浏览器\n                    : JS_decodeURI(T.h[i]), // Firefox 浏览器\n                target = $(\"#\" + JS_decodeURI(anchor));\n            let headerHeight = target.h();\n            // 将最近一个章节从文档可视空间上方滚出的章节定义为「当前章节」\n            if ((target.oT() - $(document).scrollTop()) > (headerHeight * 3)) {\n                curIdx = i - 1;\n                break;\n            }\n        }\n\n        // 章节没有变化则直接退出\n        if (T.currentHeaderIndex === curIdx)\n            return;\n\n        // 章节有变化，并记录\n        T.currentHeaderIndex = curIdx;\n\n        // 当前文档位置在实际内容章节中时\n        if (T.inHeader()) {\n            // ----------------------------------------\n            // 更新目录内当前节点的样式\n            // 先清除目录中上一次的「当前章节」的样式\n            if (T.currentItem !== gUndefined)\n                JQ_removeClass(T.currentItem, _vTocItemCurrent_);\n            // 更新「当前章节」的样式\n            T.currentItem = $(\"#\" + _vlookToc_ + \" a\" + V_attrX(_href_, \"#\" + T.h[curIdx])).p();\n            JQ_addClass(T.currentItem, _vTocItemCurrent_);\n\n            // 若当前目录节点被折叠隐藏，则向上展开父级目录节点\n            if (T.currentItem.isHidden())\n                __expandUpFolder(T.currentItem.a(_dataPid_));\n\n            // 导航中心内容自动滚动当前章节所在位置\n            T.scrollToCurrent();\n        }\n\n        // 触发当前章节变化事件\n        typeof(T.onChapterChanged) === _function_ && T.onChapterChanged();\n\n        /**\n         * 向上展开父级目录\n         * @param id 父级目录 id 值\n         */\n        function __expandUpFolder(id) {\n            // 展开\n            T.disposeFold(id, \"e\", gTrue);\n            // 若未到 h1（即第一级目录），则继续向上展开\n            let item = $(\"#\" + id),\n                tagName = item.prop(_tagName_); // 注意！无法使用 V_util_getTagName ，会导致调用溢出\n            if (tagName !== gUndefined && tagName.l() !== \"h1\")\n                __expandUpFolder(item.a(_dataPid_));\n        }\n    }\n\n    /**\n     * 导航中心内容自动滚动到当前章节所在位置\n     */\n    T.scrollToCurrent = function () {\n        if (T.currentItem === gUndefined || T.currentItem.pos() === gUndefined)\n            return;\n\n        // 根据当前节点情况，目录内的可视空间自动滚动该节点所在位置\n        const preDis = T.currentItem.h() * 3, // 用于目录节点触动滚动的大小\n            sTop = T.ui.body.scrollTop(), // 目录内当前滚动位置\n            sBottom = sTop + T.ui.body.h(); // 当前可视空间中位于目录底部的位置\n\n        // 若当前节点在可视区域的上方，则滚动到该节点的位置\n        if (T.currentItem.pos().top < sTop)\n            T.ui.body.scrollTop(T.currentItem.pos().top);\n        // 若当前节点在可视区域的下方，则滚动到该节点的位置\n        else if (T.currentItem.pos().top > (sBottom - preDis))\n            T.ui.body.scrollTop(T.currentItem.pos().top - T.ui.body.h() + preDis);\n    }\n\n    /**\n     * 文档当前位置是否在章节内\n     */\n    T.inHeader = function () {\n        return T.currentHeaderIndex > -1;\n    }\n\n    /**\n     * 当前章节为第 1 章时特殊处理（有封面模式时）\n     */\n    T.inFirstHeader = function () {\n        return (VOM_cover() !== gUndefined && T.currentHeaderIndex === 0);\n    }\n\n    /**\n     * 当前文档位置位于文档标题（无封面模式时）\n     */\n    T.inDocTitle = function () {\n        return (VOM_cover() === gUndefined && T.currentHeaderIndex === 0);\n    }\n\n    /**\n     * 按关键字过滤\n     * @param value 过滤的关键字内容\n     * @returns boolean true - 有匹配的结果，false - 无匹配的结果\n     */\n    T.filter = function (value) {\n        if (value.x() === _)\n            return gFalse;\n\n        if (T.holder.segs.checkedItem() === T.typeName())\n            T.showFilterResult();\n\n        let matched = gFalse;\n        T.ui.result.empty();\n        // 遍历目录节点进行关键字匹配\n        $(_tocItem_).e(function () {\n            let item = $(this),\n                data = item.a(_dataHeaderNum_) + item.a(_title_);\n            if (data.l().i(value) > -1) {\n                // 匹配结果后，从目录节点中复制节点并移除不必要的样式和内容\n                let cloneItem = item.clone();\n\n                JQ_addClass(cloneItem, _vTocItem_);\n                JQ_removeClass(cloneItem, _mdTocItem_ + \" md-toc-h1 md-toc-h2 md-toc-h3 md-toc-h4 md-toc-h5\");\n                JQ_remove(cloneItem.ch(_vTocFolder_));\n                cloneItem.pp(V_ui_span(_, _, cloneItem.a(_dataHeaderNum_)));\n                cloneItem.show();\n                cloneItem.a(_dataKeywordMatch_, _true_);\n\n                // 绑定同源的点击事件\n                cloneItem.uC().ck(function () {\n                    JQ_removeClass(T.ui.result.ch(\".\" + _vTocItemCurrent_), _vTocItemCurrent_);\n                    item.tr(_click_);\n                    JQ_addClass($(this), _vTocItemCurrent_);\n                });\n\n                // 将匹配的节点添加到过滤结果中\n                T.ui.result.ap(cloneItem);\n                matched = gTrue;\n            }\n        });\n        // 过滤文库节点\n        gToc.f(\".\" + _vDocLibItem_).e(function () {\n            let item = $(this),\n                data = item.a(_title_) + item.a(_dataForSearch_);\n            if (data.l().i(value) > -1) {\n                // 匹配结果后，从目录节点中复制节点并移除不必要的样式和内容\n                let cloneItem = item.clone();\n                cloneItem.show();\n                cloneItem.a(_dataKeywordMatch_, _true_);\n\n                // 绑定同源的点击事件\n                cloneItem.uC().ck(function () {\n                    item.tr(_click_);\n                });\n\n                // 将匹配的节点添加到过滤结果中\n                T.ui.result.ap(cloneItem);\n                matched = gTrue;\n            }\n        });\n\n        // 过滤结果为空\n        if (!matched) {\n            T.ui.result.empty();\n            T.ui.result.ap(V_ui_div(_, \"v-toc-filter-result-none\",\n                [\"无匹配结果!\",\n                \"No Results!\"][V_lang_id]));\n            TocIndex_updateStatus(this);\n        }\n\n        return gTrue;\n    }\n\n    /**\n     * 更新所属分段状态\n     */\n    T.updateStatus = function () {\n        if ($(_tocItem_).length > 0)\n            T.holder.segs.sts(this, gTrue);\n        else\n            T.holder.segs.sts(this, gFalse);\n    }\n\n    /**\n     * 显示目录索引组件\n     */\n    T.show = function () {\n        if (T.holder.keyword.input.val().length > 0) {\n            T.ui.body.hide();\n            T.showFilterResult();\n        }\n        else {\n            T.ui.body.show();\n            T.hideFilterResult();\n        }\n    }\n\n    /**\n     * 隐藏目录索引组件\n     */\n    T.hide = function () {\n        T.ui.body.hide();\n        T.hideFilterResult();\n    }\n    if (hidden) T.hide();\n\n    /**\n     * 显示过滤结果\n     */\n    T.showFilterResult = function () {\n        T.ui.body.hide();\n\n        T.ui.result.show();\n        JQ_removeClass(T.ui.result.ch(\".\" + _vTocItemCurrent_), _vTocItemCurrent_);\n    }\n\n    /**\n     * 隐藏过滤结果\n     */\n    T.hideFilterResult = function () {\n        T.ui.result.hide();\n    }\n\n    /**\n     * 跳转至指定章节\n     */\n    T.gotoHeader = function (target) {\n        V_util_gotoHash(\"#\" + target.a(_dataAnchor_));\n    }\n\n    /**\n     * 处理展开或收起指定章节下的子章节\n     * @param id 对象的id值\n     * @param action 执行动作（c: collect, e: expand）\n     * @param traversal 是否遍历子元素\n     */\n    T.disposeFold = function (id, action, traversal) {\n        let lastItem = null,\n            item = $(\"#\" + id),\n            itemSet = item.nextAll(),\n            btnFolder = $(\"#fd-\" + id);\n\n        // 更新折叠控件图标\n        // item.a(s_DataFolded, (action === \"e\") ? s_False : s_True);\n        // btnFolder.hm((action === \"e\") ? T.icon.unfold : T.icon.folded);\n        // btnFolder.hm((action === \"e\") ? JQ_addClass(btnFolder.ch(s_Svg), s_Rotate90) : JQ_removeClass(btnFolder.ch(s_Svg), s_Rotate90));\n        if (action === \"e\") {\n            item.a(_dataFolded_, _false_);\n            JQ_addClass(btnFolder.ch(_svg_), _vRotate90_);\n        }\n        else {\n            item.a(_dataFolded_, _true_);\n            JQ_removeClass(btnFolder.ch(_svg_), _vRotate90_);\n        }\n\n        // 将指定节点后的所有节点进行处理\n        for (let i = 0, len = itemSet.length; i < len; i++) {\n            let item = $(itemSet[i]);\n            // 对前后节点层级不一致的处理\n            if (lastItem != null) {\n                const hd1 = ChpAutoNum_parseTocHeaderLevel(item.a(_class_));\n                const hd2 = ChpAutoNum_parseTocHeaderLevel(lastItem.a(_class_));\n                if (hd1 > hd2) // 当前节点层级大于上一个节点的层级，继续\n                    continue;\n                else if (hd1 < hd2) // 当前节点层级小于上一个节点的层级，终止\n                    break;\n            }\n\n            // 如果是目录节点，同时是已展开，且执行动作为「收起」，才进行递归调用展开子节点\n            if (traversal\n                && item.a(_dataNode_) === \"1\"\n                && item.a(_dataFolded_).sW(\"f\")\n                && action === \"c\") {\n                    item.a(_dataFolded_, _true_);\n                    // 递归处理\n                    T.disposeFold(item.a(_id_), action, traversal);\n            }\n\n            // 收起 / 展开\n            item.c(_display_, (action === \"c\") ? _none_ : _block_);\n            lastItem = item;\n        }\n    }\n}\n\n// ==================== 导航中心分类索引通用类 ==================== //\n\nlet TocIndex_segments = gUndefined;\n\n/**\n * 初始化 UI\n * @param indexObj 目标对象\n */\nfunction TocIndex_initUI(indexObj) {\n    let ui = indexObj.ui;\n\n    V_ui_addAnimate(ui.entry);\n\n    // 生成提示信息 UI\n    ui.result.ap(V_ui_div(_, \"v-toc-filter-result-none\"));\n    ui.tips = ui.result.ch(\".v-toc-filter-result-none\");\n\n    TocIndex_showTips(ui);\n}\n\n/**\n * 无输入关键字的处理\n * @param indexObj 目标对象\n */\nfunction TocIndex_noneKeyword(indexObj) {\n    let ui = indexObj.ui,\n        items = ui.result.ch(\".\" + _vTocItem_);\n    items.show();\n    if (items.length === 0)\n        TocIndex_showTips(ui);\n    else {\n        ui.tips.hide();\n        items.a(_dataKeywordMatch_, _true_);\n        TocIndex_updateStatus(indexObj);\n    }\n}\n\n/**\n * 更新所属分段状态\n * @param indexObj 目标对象\n */\nfunction TocIndex_updateStatus(indexObj) {\n    TocIndex_segments.sts(indexObj,\n        indexObj.ui.result.ch(\".\" + _vTocItem_ + V_attrX(_dataKeywordMatch_)).length > 0);\n}\n\n/**\n * 显示提示信息\n */\nfunction TocIndex_showTips(ui) {\n    ui.tips.t(\"( \" + [\n        \"无此类内容\",\n        \"No such content\"\n    ][V_lang_id] + \" )\");\n    ui.tips.show();\n}\n\n/**\n * 添加索引项目\n * @param indexObj 目标对象\n * @param text 显示的文本\n * @param anchor 锚点\n * @param forSearch 用于搜索时检索的内容\n */\nfunction TocIndex_add(indexObj, text, anchor, forSearch) {\n    TocIndex_segments.sts(indexObj, gTrue);\n\n    if (indexObj.ui.tips.isShowed())\n        indexObj.ui.tips.hide();\n    let item = $(V_ui_span(_vTocItem_,\n                    V_attr(_dataForSearch_, V_util_clearHtmlQuot((forSearch === gUndefined || forSearch.x().length === 0) ? _ : forSearch)),\n                    text));\n    indexObj.ui.result.ap(item);\n    // V_ui_addAnimate(item);\n    item.uC().ck(function () {\n        JQ_removeClass(indexObj.ui.result.ch(\".\" + _vTocItemCurrent_), _vTocItemCurrent_);\n        JQ_addClass(item, _vTocItemCurrent_);\n\n        V_util_gotoHash(\"#\" + anchor);\n\n        // 触发锚点点击事件\n        typeof(indexObj.holder.onInteractive) === _function_ && indexObj.holder.onInteractive();\n    });\n}\n\n/**\n * 按关键字过滤\n * @param indexObj 目标对象\n * @param value 过滤的关键字内容\n * @returns boolean true - 有匹配的结果，false - 无匹配的结果\n */\nfunction TocIndex_filter(indexObj, value) {\n    if (value.x().length === 0) {\n        TocIndex_segments.sts(indexObj, gFalse);\n        return gFalse;\n    }\n\n    // 清空索引列表项\n    indexObj.ui.tips.hide();\n    indexObj.ui.result.ch().hide();\n    JQ_removeClass(indexObj.ui.result.ch(\".\" + _vTocItemCurrent_), _vTocItemCurrent_);\n    JQ_removeAttr(indexObj.ui.result.ch(), _dataKeywordMatch_);\n\n    // 遍历目录节点进行关键字匹配\n    let matched = gFalse;\n    indexObj.ui.result.ch(\".\" + _vTocItem_).e(function () {\n        let item = $(this),\n            dataForSearch = item.a(_dataForSearch_);\n        if (item.t().l().i(value) > -1\n            || (dataForSearch !== gUndefined && dataForSearch.l().i(value) > -1)) {\n                item.show();\n                item.a(_dataKeywordMatch_, _true_);\n                TocIndex_segments.sts(indexObj, gTrue);\n                matched = gTrue;\n        }\n    });\n\n    // 过滤结果为空\n    if (!matched) {\n        indexObj.ui.tips.t([\n            \"无匹配结果!\",\n            \"No Results!\"\n        ][V_lang_id]);\n        indexObj.ui.tips.show();\n        TocIndex_segments.sts(indexObj, gFalse);\n    }\n\n    return gTrue;\n}\n\n/**\n * 是否有对应的索引项目\n * @param indexObj 目标对象\n */\nfunction TocIndex_hasIndexItem(indexObj) {\n    return (indexObj.ui.result.ch(_span_).length > 0);\n}\n\n/**\n * 显示索引组件\n * @param indexObj 目标对象\n */\nfunction TocIndex_show(indexObj) {\n    indexObj.ui.result.show();\n    JQ_removeClass(indexObj.ui.result.ch(\".\" + _vTocItemCurrent_), _vTocItemCurrent_);\n}\n\n/**\n * 隐藏索引组件\n * @param indexObj 目标对象\n */\nfunction TocIndex_hide(indexObj) {\n    indexObj.ui.result.hide();\n}\n\n// ==================== 导航中心【插图】组件类 ==================== //\n\n/**\n * 构造函数\n * @param holder 关联的上级容器\n * @param hidden 是否默认为隐藏\n */\nfunction TocFigure(holder, hidden) {\n    let T = this;\n    T.ui = {\n        entry : $(\".\" + _vSegmentBtn_ + \".figure\"), // 入口\n        result : $(\".\" + _vTocFilterResult_ + \".figure\"), // 过滤结果面板\n        tips : gUndefined\n    };\n\n    T.holder = holder;\n\n    T.resultNav = new FilterResultNavigator(T.ui.result); // 过滤结果导航器\n\n    // 关键字输入组件属性设置\n    TocIndex_initUI(this);\n\n    /**\n     * 返回 Toc 组件类型名称\n     * @returns string Toc 组件类型名称\n     */\n    T.typeName = function () {\n        return _figure_;\n    }\n\n    /**\n     * 是否有图片索引项目\n     */\n    T.hasIndexItem = function () {\n        return TocIndex_hasIndexItem(this);\n    }\n\n    /**\n     * 初始化插图索引\n     * @param text 显示的文本\n     * @param anchor 锚点\n     * @param forSearch 用于搜索时检索的内容\n     */\n    T.add = function (text, anchor, forSearch) {\n        TocIndex_add(this, text, anchor, forSearch);\n    }\n\n    /**\n     * 更新所属分段状态\n     */\n    T.updateStatus = function () {\n        TocIndex_updateStatus(this);\n    }\n\n    /**\n     * 显示插图组件\n     */\n    T.show = function () {\n        TocIndex_show(this);\n    }\n\n    /**\n     * 隐藏插图组件\n     */\n    T.hide = function () {\n        TocIndex_hide(this);\n    }\n    if (hidden) T.hide();\n}\n\n// ==================== 导航中心【表格】组件类 ==================== //\n\n/**\n * 构造函数\n * @param holder 关联的上级容器\n * @param hidden 是否默认为隐藏\n */\nfunction TocTable(holder, hidden) {\n    let T = this;\n    T.ui = {\n        entry : $(\".\" + _vSegmentBtn_ + \".table\"), // 入口\n        result : $(\".\" + _vTocFilterResult_ + \".table\"), // 过滤结果面板\n        tips : gUndefined\n    };\n\n    T.holder = holder;\n\n    T.resultNav = new FilterResultNavigator(T.ui.result); // 过滤结果导航器\n\n    // 关键字输入组件属性设置\n    TocIndex_initUI(this);\n\n    /**\n     * 返回 Toc 组件类型名称\n     * @returns string Toc 组件类型名称\n     */\n    T.typeName = function () {\n        return _table_;\n    }\n\n    /**\n     * 是否有表格索引项目\n     */\n    T.hasIndexItem = function () {\n        return TocIndex_hasIndexItem(this);\n    }\n\n    /**\n     * 初始化表格索引\n     * @param text 显示的文本\n     * @param anchor 锚点\n     * @param forSearch 用于搜索时检索的内容\n     */\n    T.add = function (text, anchor, forSearch) {\n        TocIndex_add(this, text, anchor, forSearch);\n    }\n\n    /**\n     * 更新所属分段状态\n     */\n     T.updateStatus = function () {\n        TocIndex_updateStatus(this);\n    }\n\n    /**\n     * 显示表格组件\n     */\n    T.show = function () {\n        TocIndex_show(this);\n    }\n\n    /**\n     * 隐藏表格组件\n     */\n    T.hide = function () {\n        TocIndex_hide(this);\n    }\n    if (hidden) T.hide();\n}\n\n// ==================== 导航中心【多媒体】组件类 ==================== //\n\n/**\n * 构造函数\n * @param holder 关联的上级容器\n * @param hidden 是否默认为隐藏\n */\nfunction TocMedia(holder, hidden) {\n    let T = this;\n    T.ui = {\n        entry : $(\".\" + _vSegmentBtn_ + \".media\"), // 入口\n        result : $(\".\" + _vTocFilterResult_ + \".media\"), // 过滤结果面板\n        tips : gUndefined\n    };\n\n    T.holder = holder;\n\n    T.resultNav = new FilterResultNavigator(T.ui.result); // 过滤结果导航器\n\n    // 关键字输入组件属性设置\n    TocIndex_initUI(this);\n\n    /**\n     * 返回 Toc 组件类型名称\n     * @returns string Toc 组件类型名称\n     */\n    T.typeName = function () {\n        return \"mulitmedia\";\n    }\n\n    /**\n     * 是否有多媒体索引项目\n     */\n    T.hasIndexItem = function () {\n        return TocIndex_hasIndexItem(this);\n    }\n\n    /**\n     * 初始化多媒体索引\n     * @param text 显示的文本\n     * @param anchor 锚点\n     * @param forSearch 用于搜索时检索的内容\n     */\n    T.add = function (text, anchor, forSearch) {\n        TocIndex_add(this, text, anchor, forSearch);\n    }\n\n    /**\n     * 更新所属分段状态\n     */\n    T.updateStatus = function () {\n        TocIndex_updateStatus(this);\n    }\n\n    /**\n     * 显示多媒体组件\n     */\n    T.show = function () {\n        TocIndex_show(this);\n    }\n\n    /**\n     * 隐藏多媒体组件\n     */\n    T.hide = function () {\n        TocIndex_hide(this);\n    }\n    if (hidden) T.hide();\n}\n\n// ==================== 导航中心【代码块】组件类 ==================== //\n\n/**\n * 构造函数\n * @param holder 关联的上级容器\n * @param hidden 是否默认为隐藏\n */\nfunction TocCodeblock(holder, hidden) {\n    let T = this;\n    T.ui = {\n        entry : $(\".\" + _vSegmentBtn_ + \".codeblock\"), // 入口\n        result : $(\".\" + _vTocFilterResult_ + \".codeblock\"), // 过滤结果面板\n        tips : gUndefined\n    };\n\n    T.holder = holder;\n\n    T.resultNav = new FilterResultNavigator(T.ui.result); // 过滤结果导航器\n\n    // 关键字输入组件属性设置\n    TocIndex_initUI(this);\n\n    /**\n     * 返回 Toc 组件类型名称\n     * @returns string Toc 组件类型名称\n     */\n    T.typeName = function () {\n        return _codeblock_;\n    }\n\n    /**\n     * 是否有代码块索引项目\n     */\n    T.hasIndexItem = function () {\n        return TocIndex_hasIndexItem(this);\n    }\n\n    /**\n     * 初始化代码块索引\n     * @param text 显示的文本\n     * @param anchor 锚点\n     * @param forSearch 用于搜索时检索的内容\n     */\n    T.add = function (text, anchor, forSearch) {\n        TocIndex_add(this, text, anchor, forSearch);\n    }\n\n    /**\n     * 更新所属分段状态\n     */\n    T.updateStatus = function () {\n        TocIndex_updateStatus(this);\n    }\n\n    /**\n     * 显示代码块组件\n     */\n    T.show = function () {\n        TocIndex_show(this);\n    }\n\n    /**\n     * 隐藏代码块组件\n     */\n    T.hide = function () {\n        TocIndex_hide(this);\n    }\n    if (hidden) T.hide();\n}\n\n// ==================== 导航中心【访问历史】组件类 ==================== //\n\n/**\n * 构造函数\n * @param holder 关联的上级容器\n * @param hidden 是否默认为隐藏\n */\nfunction TocHistory(holder, hidden) {\n    let T = this;\n    T.ui = {\n        entry : $(\".\" + _vSegmentBtn_ + \".history\"), // 入口\n        title : $(\".\" + _vTocHistory_ + \"-title\"), // 历史记录标题\n        result : $(\".\" + _vTocHistory_ + \"-result\") // 历史记录面板\n    };\n\n    T.holder = holder;\n\n    /**\n     * 返回 Toc 组件类型名称\n     * @returns string Toc 组件类型名称\n     */\n    T.typeName = function () {\n        return \"history\";\n    }\n\n    /**\n     * 是否有访问历史索引项目\n     */\n    T.hasIndexItem = function () {\n        return TocIndex_hasIndexItem(this);\n    }\n\n    /**\n     * 添加访问历史记录\n     * @param hash 页内锚点链接\n     */\n    T.add = function (hash) {\n        if (hash === gUndefined || hash === \"#\" || hash.x().length === 0)\n            return;\n\n        // 清空当前条目的样式\n        JQ_removeClass(T.ui.result.ch(\".\" + _vTocItemCurrent_), _vTocItemCurrent_);\n\n        // 对由 VLOOK 生成的页内锚点，对其显示的条目文本进行处理\n        let title = gUndefined,\n            anchor = hash.s(1, hash.length);\n        if (anchor.sW(\"vk-id\")) // 插图/表格/多媒体/代码块索引\n            title = $(hash).a(_dataTitle_);\n        else if (anchor.sW(\"vk-err\")) // 错误的内链\n            title = $(hash).t();\n        // 未匹配到以上 VLOOK 专属的索引锚点，则按目录索引进行处理\n        if (title === gUndefined) {\n            let hashObj = $(_tocItem_ + \">.md-toc-inner\" + V_attrX(_href_, JS_decodeURI(hash))).p();\n            title = V_ui_span(_, _, hashObj.a(_dataHeaderNum_) + ___)\n                + JS_decodeURI(anchor);\n        }\n        let result = T.ui.result.ch(_span_ + V_attrX(_dataHistory_, hash));\n\n        // 不存在相同的历史访问记录\n        if (result.length === 0) {\n            T.ui.result.pp(V_ui_span(_vTocItem_, V_attr(_dataHistory_, hash), title));\n        }\n        // 已存在相同的历史访问记录\n        else {\n            // 将相同的记录移动到最前面\n            let existsItem = result.clone();\n            T.ui.result.pp(existsItem);\n            JQ_addClass(existsItem, _vTocItemCurrent_);\n            JQ_remove(result);\n        }\n\n        // 为新增加 / 移动后的记录添加鼠标事件\n        let item = T.ui.result.ch(_span_ + V_attrX(_dataHistory_, hash));\n        JQ_addClass(item, _vTocItemCurrent_);\n        item.a(_dataKeywordMatch_, _true_);\n        item.uC().ck(function () {\n            V_util_gotoHash(hash);\n            // 触发锚点点击事件\n            typeof(T.holder.onInteractive) === _function_ && T.holder.onInteractive();\n        });\n\n        T.updateStatus();\n    }\n\n    /**\n     * 更新所属分段状态\n     */\n    T.updateStatus = function () {\n        TocIndex_updateStatus(this);\n    }\n\n    /**\n     * 显示历史组件\n     */\n    T.show = function () {\n        T.ui.title.show();\n        T.ui.result.show();\n\n        let tocItem = _span_ + \".\" + _vTocItem_,\n            noneHistory = \"div.v-toc-history-none\";\n        // 没有历史访问记录，也没有提示信息内容\n        if (T.ui.result.ch(tocItem + \", \" + noneHistory).length === 0) {\n            // 添加提示信息\n            T.ui.result.ap(V_ui_div(_, \"v-toc-history-none\",\n                [\"暂无记录!\",\n                \"No records!\"][V_lang_id]));\n        }\n        // 有历史访问记录\n        else if (T.ui.result.ch(tocItem).length > 0) {\n            // 移除提示信息\n            JQ_remove(T.ui.result.ch(noneHistory));\n        }\n    }\n\n    /**\n     * 隐藏历史组件\n     */\n    T.hide = function () {\n        T.ui.title.hide();\n        T.ui.result.hide();\n    }\n    if (hidden) T.hide();\n}\n\n// ==================== 导航中心 DocLib 文库类 ==================== //\n\n/**\n * 构造函数\n * @param mask 遮罩对象\n * @param holder 关联的上级容器\n */\nfunction DocLib(mask, holder) {\n    let T = this;\n    T.ui = $(\".\" + _vDocLib_);\n    T.iframe = gUndefined;\n    T.enabled = gFalse;\n    T.page = gUndefined;\n    T.hash = _;\n    T.counter = 0;\n    T.identifier = _target_ + \"=\" + _vdl_;\n    T.paths = [];\n    T.holder = holder;\n\n    // 遮罩\n    T.mask = mask;\n    T.mask.bindPartner(this, T.ui);\n\n    V_ui_addAnimate(T.ui);\n\n    T.init = function () {\n        let docLibValue = V_util_getMetaByName(_vlookDocLib_),\n            result = null,\n            docLibToc = gUndefined;\n\n        T.iframe = $(_iframe_ + V_attrX(_name_, _vlookDocLib_));\n\n        gToc.ap(V_ui_div(_docLibToc_, _));\n        docLibToc = $(\"#\" + _docLibToc_);\n\n        // ------------------------------\n        // 处理 YAML 中的文库配置，支持以逗号分隔的多段内容\n        if (docLibValue !== gUndefined && (result = docLibValue.m(/^([^,]+(,\\s*)?)+$/)) != null) {\n            let docLibList = docLibValue.sp(/,\\s*/);\n            for (let i = 0; i < docLibList.length; i++) {\n                result = docLibList[i].m(/^(\\[([^\\]]+)\\]\\(([^)\\s]+)(\\s+\"([^\"]+)\")?\\))$/);\n                // 按 [text](url \"title\") 格式配置的文库\n                if (result != null) {\n                    let page = V_util_getUrlWithoutHash(result[3]),\n                        hash = V_util_getUrlHash(result[3]),\n                        text = result[2],\n                        title = (result.length > 5) ? result[5] : _;\n                    __addDocLibItem(text, page, hash, title);\n                }\n                // 按默认只有 url 方式配置的文库\n                else {\n                    let page = V_util_getUrlWithoutHash(docLibList[i]),\n                        hash = V_util_getUrlHash(docLibList[i]);\n                    __addDocLibItem([\"浏览文库\", \"Document Library\"][V_lang_id],\n                        page, hash, _);\n                }\n            }\n        }\n\n        // ------------------------------\n        // 处理文档内的文库专用链接\n        let re_TargetVDL = new RegExp(\"[?&]target=\" + _vdl_, \"i\");\n        $(\"a\" + V_attrX(_href_, T.identifier, \"*=\")).e(function () {\n            let a = $(this),\n                href = a.a(_href_),\n                page = V_util_getUrlWithoutHash(href).r(re_TargetVDL, _),\n                hash = V_util_getUrlHash(href);\n            if (V_util_getUrlPathWithoutQueryAndHash(page).length > 0 || hash.length > 0)\n                __addDocLibItem(a.t(), page, hash, a.a(_title_));\n\n            JQ_removeAttr(a, _href_); // 移除 href\n            a.a(_target_, _vdl_);\n            a.uC().ck(function () {\n                T.show(page, hash);\n            });\n        });\n\n        T.reload();\n\n        // 添加动画效果\n        V_ui_addAnimate($(\"#\" + _docLibToc_ + \">.\" + _vDocLibItem_\n            + \", #\" + _docLibToc_ + \">.\" + _vDocLibItem_ + \">svg\"));\n\n        LOG(\"    ├ DocLib: none\");\n\n        /**\n         * 添加文库项\n         * @param text 文库名称\n         * @param page 文库页面路径\n         * @param hash 文库页面锚点\n         * @param title 文库用于被检查的内容\n         */\n        function __addDocLibItem(text, page, hash, title) {\n            // 过滤重复的文库链接\n            if (T.paths.includes(page + hash))\n                return;\n            T.paths.push(page + hash);\n\n            T.enabled = gTrue;\n\n            // 初始化第一个文库项\n            T.counter++;\n            if (T.counter === 1) {\n                T.page = page;\n                T.hash = hash;\n            }\n\n            // 添加文库项\n            let target = V_util_getUrlQueryParams(page)[_target_],\n                hasTarget = (target !== gUndefined && target.length > 0);\n            docLibToc.ap(V_ui_div(_, _vDocLibItem_ + \" id-\" + T.counter,\n                (hasTarget\n                    ? V_ui_svgIcon(_icoDocLibExt_, 20, 18, _light_) // 图标：在新标签中打开\n                    : V_ui_svgIcon(_icoDocLib_, 20, 18, _light_)) // 图标：在文库窗口中打开\n                + _2nbsp_ + text\n                ));\n\n            // 初始化文库项数据\n            let item = docLibToc.f(\".\" + _vDocLibItem_ + \".id-\" + T.counter);\n            item.a(_dataPage_, page);\n            item.a(_dataHash_, hash);\n            item.a(_title_, text);\n            // 设置用于被关键字搜索的内容\n            item.a(_dataForSearch_, _vdl_ + \"文库\" + title);\n            item.uC().ck(function () {\n                if (hasTarget)\n                    window.open(page + hash, target);\n                else\n                    T.show(page, hash);\n            });\n\n            LOG(\"    ├ DocLib: \" + page + hash);\n        }\n    }\n\n    /**\n     * 重新加载文库内容\n     * @param scheme （可选）指定的颜色方案，light / dark\n     * @param page 指定的文库路径\n     * @param hash 指定的锚点\n     */\n    T.reload = function (scheme, page, hash) {\n        // 避免初始化时，与 ColorScheme.tg 重复加载\n        if (scheme === ColorScheme.scheme && page === gUndefined\n            || T.page === gUndefined)\n            return;\n\n        let cs = _;\n\n        // 指定的颜色方案不为空时\n        if (scheme !== gUndefined)\n            cs = \"&cs=\" + scheme;\n\n        // 指定的页面为空时（不包括 ?target=vdl 这种情况）\n        if (page === gUndefined)\n            page = T.page;\n        // 指定的锚点为空时\n        if (hash === gUndefined)\n            hash = _;\n\n        T.iframe.a(_src_,\n            page + ((page.i(\"?\") > -1) ? \"&\" : \"?\")\n            + \"ws=none&type=mini\"\n            + cs + hash);\n    }\n\n    /**\n     * 是否已显示\n     * @returns boolean\n     */\n    T.isShowed = function () {\n        return T.ui.c(_display_) !== _none_;\n    }\n\n    /**\n     * 显示文库\n     * @param newPage 指定的文库路径\n     * @param hash 指定的锚点\n     */\n    T.show = function (newPage, hash) {\n        typeof(T.holder.onInteractive) === _function_ && T.holder.onInteractive();\n\n        let path = V_util_getUrlPathWithoutQueryAndHash(newPage);\n        // ALERT(`${path}, ${newPage}`);\n\n        T.mask.show();\n        T.ui.show();\n\n        // 如果指定的页面为空，则使用当前页面\n        if (path.length === 0) {\n            path = T.page;\n            newPage = T.page;\n        }\n\n        // 如果指定的锚点为空，且路径与当前页面一致，则不刷新页面\n        if (hash.length === 0\n            && path === V_util_getUrlPathWithoutQueryAndHash(V_util_getUrlWithoutHash(T.iframe.a(_src_))))\n            return;\n\n        // 刷新文库页面显示\n        if (path === T.page)\n            T.reload(gUndefined, gUndefined, hash);\n        else\n            T.reload(gUndefined, newPage, hash);\n    }\n\n    /**\n     * 隐藏文库\n     */\n    T.hide = function () {\n        T.ui.hide();\n        T.mask.hide();\n    }\n\n    /**\n     * 处理热键操作\n     * @param code 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (code, combKeys, event) {\n        if (T.ui.isHidden())\n            return;\n\n        let handled = false;\n        switch (code) {\n            case 27: // ESC\n                if (T.isShowed()) {\n                    T.hide();\n                    handled = true;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n    }\n}\n\n// ==================== 插图增强类 ==================== //\n\n/**\n * 初始化插图数据\n */\nfunction ExtFigure_init() {\n    let ignoreImgLost = gFalse,\n        sw = new Stopwatch();\n\n    // ----------------------------------------\n    // 对 svg 类插图（Mermaid）进行初始化处理\n    sw.st();\n    // 针对 Mermaid 饼图为双 SVG 结构（标准的 Mermaid 是单 SVG 结构），进行规范化调整\n    $(\".md-diagram-panel>svg>svg>g\").e(function () {\n        $(this).unwrap();\n    });\n    sw.ed(\"    ├ prepare svg: \");\n\n    // ----------------------------------------\n    // 对 img 类插图（Mermaid）进行初始化处理\n    sw.st();\n\n    // ！！！注意！！！为适配浏览器安全策略！！！\n    // 由于不同浏览器的安全策略不同，所以针对不同浏览器的图片颜色替换处理进行微调\n    // 若 SVG 文件与当前 HTML 文件不在同一域名下，浏览顺会存跨域权限问题无法完成处理\n    // 非 Firefox / Safari 以本地打开方式下无法进行处理\n    let httpMode = WINDOW_getHref().sW(\"http\"),\n        canFillAlter = (httpMode || env.browser.Firefox || env.browser.Safari),\n        hostname = window.location.hostname,\n        imgHost = V_util_getMetaByName(\"vlook-image-host\");\n    if (imgHost !== gUndefined && !imgHost.eW(\"/\"))\n        imgHost += \"/\";\n\n    $(_write_ + \" p>\" + _img_ + \",\" + _write_ + \" .md-diagram-panel>\" + _svg_ + \",\"\n    + _write_ + \" :is(\" + _img_ + \"[src*='#icon'],\" + _img_ + \"g[src*='#logo'],\" + _img_ + \"[src*='#card'],\" + _img_ + \"[src*='#frame'])\").e(function () {\n        let fig = $(this),\n            src = fig.a(_src_),\n            src2FillAlter = src,\n            container = fig.p(),\n            tagName = V_util_getTagName(fig),\n            // tagName = (src !== gUndefined ? _svg_ : _svg_),\n            params = _,\n            hash = _,\n            isPostcard = gFalse;\n\n        // ----------------------------------------\n        // img 类插图的处理\n        if (src !== gUndefined) {\n            // 对于 img 类插图的预处理\n            params = V_util_getUrlQueryParams(encodeURI(src));\n            hash = V_util_getUrlHash(src);\n\n            fig.a(_id_, \"vk-id-img\" + V_doc_counter_img);\n\n            // 当前 HTML 的打开方式可进行图片「颜色替换」的适配处理\n            if (canFillAlter === gTrue) {\n                // 获得图片路径的域名\n                let matchRes = src2FillAlter.m(/^https?:\\/\\/([^\\/?#]+)(?:[\\/?#]|$)/i);\n                let srcHost = matchRes && matchRes[1];\n\n                // 对于相对路径，或与当前 HTML 域名一致\n                if (srcHost == null || hostname === srcHost) {\n                    // 针对 Safari 且指定了默认图床域名\n                    // 进行颜色替换前，先调整原始 <img> 的 src\n                    let needImgHost = (env.browser.Safari && !httpMode && imgHost !== gUndefined);\n                    if (needImgHost) {\n                        src2FillAlter = imgHost + src2FillAlter;\n                        fig.a(_src_, src2FillAlter);\n                    }\n\n                    // 正式进行图片颜色替换处理\n                    __initFillAlter(fig, params, hash, src2FillAlter);\n\n                    // 恢复原始 <img> 的 src\n                    if (needImgHost)\n                        fig.a(_src_, src);\n                }\n            }\n\n            // 初始化图片对「颜色方案」的适配处理\n            __initColorScheme(fig, params);\n\n            // 初始化图片对「高分屏」的适配处理\n            __initHighDPI(fig, params);\n\n            // 初始化图片对「图文卡片」的适配处理\n            __initPostcard(fig, hash);\n\n            // 对图片「加载结果」进行是跟踪检查\n            __bindLoadChecker(fig);\n\n            V_doc_counter_img++;\n\n            // 跳过带指定显示版式的图片\n            if (__isNotFigure(params, hash))\n                return gTrue;\n\n            // 插图（非明信片）的处理\n            isPostcard = __isPostcard(params, hash);\n            if (!isPostcard) {\n                // 初始化图片背景的适配处理\n                __initBackground(fig, params);\n\n                // 添加插图容器\n                container = fig.p();\n                // 确保 img 有独立的父容器，一般情况下 Typora 导出的为 <p>\n                if (V_util_getTagName(container) !== \"p\") {\n                    fig.wrap(\"<p></p>\");\n                // if (V_util_getTagName(container) !== _figcaption_) {\n                //     fig.wrap(V_ui_figcaption(_, _, _));\n                    container = fig.p();\n                }\n\n                // 初始化对齐方式\n                __initAlign(container, hash, params);\n            }\n        }\n\n        // 插图（非明信片）的处理\n        if (!isPostcard) {\n            // 绑定内容助手\n            if (src !== gUndefined)\n                ContentAssistor_bind(fig, _fig_ + _suffixImg_);\n            else\n                ContentAssistor_bind(fig, _fig_ + _suffixSvg_);\n\n            V_doc_counter_figure++;\n\n            // 处理题注\n            __disposeCaption(fig, tagName);\n\n            // 设置容器数据，用于折叠内容时使用\n            container.a(_dataContainer_, tagName);\n            JQ_addClass(container, _vCaptionContainer_);\n            // 折叠长插图（一行多图的情况则跳过）\n            let prevFig = fig.p().p();\n            if (prevFig === undefined || prevFig.ch(\".v-caption,\" + _img_).length === 1)\n                ContentFolder_add(fig, _figure_);\n        }\n    }); // 结束初始化处理\n    sw.ed(\"    ├ figure set: \");\n\n    // ----------------------------------------\n    // srcset 为 auto 模式的处理\n    sw.st();\n    // 在当前环境的 DPR > 1 时，对于没有指定 srcset 的 img 类插图，自动强制将 src 直接指定 2x 图片\n    // 可通过 URL 参数 srcset=auto 来启用\n    if (env.display.DPR > 1\n        && V_util_getParamVal(_srcset_) === _auto_) {\n            $(\"p\" + V_attr(_dataContainer_, _img_) + ___ + _img_).e(function () {\n                let fig = $(this);\n                if (fig.a(_src_).i(_suffixSvg_, 1) === -1 // 跳过 svg 文件\n                    && fig.a(_srcset_) === gUndefined) {\n                        fig.a(_srcset_, fig.a(_src_) + \" 2x\");\n                }\n            });\n    }\n\n    // 进行图片对颜色方案的适配处理\n    ExtFigure_adjustColorScheme(gFalse);\n    sw.ed(\"    └ DPR & misc.: \");\n\n    /**\n     * 处理题注\n     * @param fig 插图对象\n     * @param tagName 插图所属标签 img、svg\n     */\n    function __disposeCaption(fig, tagName) {\n       // 设置插图属性数据\n       fig.a(_dataFigNum_, V_doc_counter_figure);\n       JQ_addClass(fig, _vFig_);\n\n       // 先根据题注语法生成题注\n        CaptionGenerator_actionForMediaContent(fig, tagName);\n    }\n\n    /**\n     * 绑定加载失败处理\n     * @param fig 插图对象\n     */\n    function __bindLoadChecker(fig) {\n        let src = fig.a(_src_);\n        // 图片无法加载时加载默认图片\n        fig.bind(_error_, function () {\n            if (!ignoreImgLost) {\n                // 将无法加载的图片信息添加到链接检查器\n                let cp1 = fig.p().f(_vCap1_).hm(),\n                    id = fig.p().a(_id_);\n                // 非插图（无题注），则按普通的 img 来处理\n                if (cp1 === gUndefined) {\n                    cp1 = fig.a(_alt_);\n                    id = fig.a(_id_);\n                }\n                // 添加无效链接项\n                LinkTool_addToCheck(id, \"🖼 \"\n                    + V_ui_strong([\n                        \"无效的图片源\",\n                        \"Invalid image source\"\n                    ][V_lang_id] + \": \") + cp1);\n            }\n\n            __loadDefaultOnError($(this));\n        });\n\n        // 强制重新加载一次以触发error事件\n        fig.a(_src_, src);\n    }\n\n    /**\n     * 判断是否属于插图\n     * @param params 插图路径\n     * @param hash 插图路径\n     * @returns boolean true：不属于插图，false：属于插图\n     */\n    function __isNotFigure(params, hash) {\n        let iconMode = hash.i(\"#icon\") > -1,\n            logoMode = hash.i(\"#logo\") > -1,\n            frameMode = hash.i(\"#frame\") > -1;\n        return (iconMode || logoMode || frameMode);\n    }\n\n    /**\n     * 判断是否属于明信片\n     * @param params 插图路径\n     * @param hash 插图路径\n     * @returns boolean true：不属于明信片，false：属于明信片\n     */\n    function __isPostcard(params, hash) {\n        return hash.i(\"#card\") > -1;\n    }\n\n    /**\n     * 初始化图片对齐方式的处理\n     * 注意：在 Typora 编辑模式时的对齐方式，直接通过 CSS 实现\n     * @param container img 的题注容器对象\n     * @param hash img 对象 src 值的锚点内容（如：#center#logo）\n     * @param params img 对象 src 值的 URL 参数数组\n     */\n    function __initAlign(container, hash, params) {\n        let align = gUndefined;\n        // 针对通过锚点设置对齐方式\n        if (hash.i(\"#center\") > -1)\n            align = _center_;\n        else if (align === gUndefined && hash.i(\"#right\") > -1)\n            align = _right_;\n        else if (align === gUndefined && hash.i(\"#left\") > -1)\n            align = _left_;\n        // 针对通过 URL 参数设置对齐方式\n        else if (align === gUndefined && params[\"align\"] !== gUndefined)\n            align = params[\"align\"];\n        else\n            return;\n        // 设置父级对象的对齐方式\n        container.c(_textAlign_, align);\n    }\n\n    /**\n     * 初始化图片对网格背景的的适配处理\n     * @param img img 对象\n     * @param params img 对象 src 值的 URL 参数数组\n     */\n    function __initBackground(img, params) {\n        let grid = params[\"grid\"];\n        if (grid === gUndefined)\n            return;\n        img.a(_dataFigGrid_, grid);\n    }\n\n    /**\n     * 初始化图片颜色替换的适配处理\n     * @param img img 对象\n     * @param params img 对象 src 值的 URL 参数数组\n     * @param hash img 对象 hash 值\n     * @param src img 对象的 src 值\n     */\n    function __initFillAlter(img, params, hash, src) {\n        if (params[_fill_] === gUndefined)\n            return;\n\n        img.a(_dataImgFill_, params[_fill_]);\n\n        // 图片为 SVG 格式时，将源文件通过 SVGInject 注入到 HTML 文档中\n        if (src.i(_suffixSvg_, 1) > -1) {\n            SVGInject(img[0], {\n                // SVG 注入成功\n                afterInject : function (img, svg) {\n                    let svgObj = $(svg);\n                    // 属于插图的，则绑定内容助手\n                    if (!__isNotFigure(params, hash))\n                        ContentAssistor_bind(svgObj, _fig_ + _suffixSvg_);\n                    // 对颜色进行替换的适配处理\n                    ExtFigure_adjustFillAlterForSVG(svgObj.a(_dataImgFill_), svgObj);\n                },\n                // SVG 注入失败\n                onFail : function (img, svg) {\n                    ERROR(\"SVGInject ERROR:\", $(img).a(_src_));\n                }\n            });\n        }\n    }\n\n    /**\n     * 初始化图片对颜色方案（Light / Dark）的适配处理\n     * @param img img 对象\n     * @param params img 对象 src 值的 URL 参数数组\n     */\n    function __initColorScheme(img, params) {\n        // 未指定 darksrc 参数，或同时指定了 fill 参数，则跳过\n        if (params[_darksrc_] === gUndefined)\n            return;\n\n        // 适配 Dark Mode 的方式：反转\n        if (params[_darksrc_] === _invert_  ) {\n            img.a(_dataDarkSrc_, _invert_);\n        }\n        // 适配 Dark Mode 的方式：替换\n        else {\n            img.a(_dataDarkSrc_, _alter_);\n\n            let src = img.a(_src_),\n                path = V_util_getPath(src),\n                queryString = V_util_getUrlQueryString(src);\n            // 补全 URL 参数内容\n            let darksrc = params[_darksrc_] + (queryString !== _ ? (\"?\" + queryString) : _);\n            // 如果 darksrc 只含文件名，则用 src 的路径进行补全\n            if (darksrc.i(\"/\") === -1)\n                darksrc = path + darksrc;\n\n            // 初始化不同颜色方案的 src 内容\n            img.a(_dataSrcLight_, img.a(_src_));\n            img.a(_dataSrcDark_, darksrc);\n\n            // 初始化不同颜色方案的 srcset 内容\n            if (params[_srcset_] !== gUndefined)\n                img.a(_dataSrcsetLight_, params[_srcset_]);\n            if (params[_darksrcset_] !== gUndefined)\n                img.a(_dataSrcsetDark_, params[_darksrcset_]);\n        }\n    }\n\n    /**\n     * 初始化图片高分屏的适配处理\n     * @param img img 对象\n     * @param params img 对象 src 值的 URL 参数数组\n     */\n    function __initHighDPI(img, params) {\n        let src = img.a(_src_),\n            srcset = params[_srcset_],\n            darksrcset = params[_darksrcset_];\n\n        // Light Mode 对应的图片集\n        if (srcset !== gUndefined) {\n            srcset = __transUrlSrcSet(src, srcset);\n            img.a(_dataSrcsetLight_, srcset);\n            // 设置默认值\n            img.a(_srcset_, srcset);\n        }\n\n        // Dark Mode 对应的图片集\n        if (darksrcset !== gUndefined) {\n            darksrcset = __transUrlSrcSet(img.a(_dataSrcDark_), darksrcset);\n            img.a(_dataSrcsetDark_, darksrcset);\n        }\n    }\n\n    /**\n     * 初始化图片高分屏的适配处理\n     * @param img img 对象\n     * @param hash img 对象 src 值的锚点\n     */\n    function __initPostcard(img, hash) {\n        // 未指定 card 参数，则跳过\n        if (hash === gUndefined || hash.i(_card_) === -1)\n            return;\n\n        // 如果是嵌套在 blockquote 中，则对其进行样式调整\n        let blockquote = img.parentsUntil(_blockquote_).last();\n        if (blockquote.length > 0) {\n            blockquote.p().c(_cssText_, _background_ + \":\" + _none_ + _important_ + _padding_ + \":0\" + _important_);\n            blockquote.p().c(_boxShadow_, _none_);\n            blockquote.p().c(_height_, _auto_);\n            JQ_removeAttr(blockquote.p(), _dataQuoteGroup_);\n        }\n\n        // 插入卡片元素\n        let altText = img.a(_alt_),\n            altTextForSearch = altText,\n            titleText = img.a(_title_),\n            cardBody = img.p().n();\n\n        // 若添加了通过引用块指定为正文内容的，则进行处理\n        if (cardBody !== gUndefined && cardBody.length > 0) {\n            if (V_util_getTagName(cardBody) === _blockquote_) {\n                altText = cardBody.hm();\n                altTextForSearch = cardBody.t();\n                JQ_remove(cardBody);\n            }\n        }\n\n        JQ_removeAttr(img, _title_);\n\n        img.af(V_ui_div(_, \"v-post-card v-transition-all\",\n                (titleText === gUndefined ? _ : V_ui_div(_, \"v-card-title\", titleText))\n                + (altText === gUndefined ? _ : V_ui_div(_, \"v-card-text\", altText))\n            ));\n\n        // card 模式时绑定事件，card dual 模式时不绑定\n        if (hash.i(\"#cardd\") === -1) {\n            // 图片 hover 事件\n           img.hover(function () {\n                let _t = $(this),\n                    card = _t.n();\n                if (card.c(_display_) !== _none_)\n                    return;\n\n                let padding = JS_parseInt(_t.c(_paddingLeft_)),\n                    borderBottomWidth = JS_parseInt(_t.c(_borderBottomWidth_));\n\n                // 设置卡片尺寸信息\n                card.c(_width_, _t.w() + padding * 2);\n                let h = JS_parseInt(card.c(_height_)),\n                    imgH = _t.h() + padding * 2;\n                card.c(_top_, borderBottomWidth + _t.pos().top + imgH - h);\n\n                // 计算卡片应所在的 left 值\n                card.c(_left_, _t.pos().left);\n\n                // 显示\n                card.c(_display_, _block_);\n            }, function (event) {\n                let _t = $(this),\n                    card = _t.n();\n                if (!v_ui_mouseDropIn(_t, event))\n                    card.c(_display_, _none_);\n            });\n\n            // 鼠标离开文字卡片后事件\n            img.n().on(_mouseLeave_, function (event) {\n                if (!v_ui_mouseDropIn(img, event))\n                    $(this).c(_display_, _none_);\n            });\n        }\n        else {\n            // img.c(_cssText_, _borderWidth_ + \":0\" + _important_);\n        }\n\n        V_doc_counter_postcard++;\n\n        // 题注处理\n        if (titleText === gUndefined)\n            titleText = _;\n        if (altTextForSearch === gUndefined)\n            altTextForSearch = _;\n        let anchor = \"vk-id-psc\" + V_doc_counter_postcard,\n            caption = V_ui_span(_, _, [\n                \"明信片 \",\n                \"Postcard \"\n                ][V_lang_id] + V_doc_counter_postcard + \".\") + titleText,\n            dataForSearch = titleText + altTextForSearch;\n        img.a(_id_, anchor);\n        img.a(_dataTitle_, caption);\n        iNavCenter.figure.add(caption, anchor, dataForSearch);\n    }\n\n    /**\n     * 加载默认图片\n     * @param target 目标 img 对象\n     */\n    function __loadDefaultOnError(target) {\n        // let alt = target.a(s_Alt);\n        // 将 alt 替换为 title 避免无法指定 width、height 属性\n        JQ_removeAttr(target, _alt_);\n        JQ_removeAttr(target, _title_);\n        JQ_addClass(target, \"v-img-lost\");\n    }\n\n    /**\n     * 转换图片 URL 中的 srcset / darksrcset 参数为符合 <img> srcset 属性的格式\n     * @param src 图片 URL\n     * @param srcset srcset 或 darksrcset 参数的内容\n     */\n    function __transUrlSrcSet(src, srcset) {\n        // 针对 html 与 图片同一目录的情况\n        let path = V_util_getPath(src);\n\n        // @2x/@3x 图片资源为自动匹配名称的语法\n        // 2x/3x 的文件名为 <文件名@2x.xxx> 或 <文件名@3x.xxx> 的情况\n        if (/^@2x(,@3x)?$/.test(srcset)) {\n            let pureSrc = src.s(0, src.i(\"?\", 5)),\n                fileName = pureSrc.s(0, pureSrc.lastIndexOf(\".\")), // 图片资源文件名（不含扩展名）\n                suffix = pureSrc.s(pureSrc.lastIndexOf(\".\"), pureSrc.length); // 图片资源扩展名\n            // 自动补全图片资源 URL\n            srcset = srcset.r(/@2x/, fileName + \"@2x\" + suffix + \" 2x\");\n            srcset = srcset.r(/@3x/, fileName + \"@3x\" + suffix + \" 3x\");\n        }\n        // @2x/@3x 图片资源为指定文件名的语法\n        else {\n            // 将倍数标识转换为 srcset 标准语法\n            // 要从图片扩展名开始替换，避免将文件中的 @2x @3x 误替换掉\n            srcset = srcset.rAfter(\".\", \"@2x\", \" 2x\");\n            srcset = srcset.rAfter(\".\", \"@3x\", \" 3x\");\n        }\n\n        // 为 2x 图添加图片路径\n        let sss = srcset.sp(\",\");\n        if (sss[0].i(\"/\") === -1) // 仅为文件名时才添加路径\n            srcset = path + srcset;\n        // 为 3x 图添加图片路径\n        if (sss.length > 1 && sss[1].i(\"/\") === -1) // 仅为文件名时才添加路径\n            srcset = srcset.r(\" 2x,\", \" 2x,\" + path);\n\n        return srcset;\n    }\n}\n\n/**\n * 复制图片地址\n * @param source 内容源对象\n * @param event 事件对象\n */\nfunction ExtFigure_copySrc(source, event) {\n    let content = ContentAssistor_lastHover.a(_src_);\n    // 若复制为 Markdown\n    if (ContentAssistor_copyAsMarkdown) {\n        let alt = ContentAssistor_lastHover.a(_alt_),\n            title = ContentAssistor_lastHover.a(_title_);\n        content = \"![\" + (alt !== gUndefined ? alt : _)\n            + \"](\" + content + (title !== gUndefined ? ' \"' + title + '\"' : _) + \")\";\n    }\n    Copyer_action(source, content, gTrue);\n }\n\n/**\n * 适配指定图片在 Light / Dark Mode 的适配处理\n * @param disposeGrid 是否进行网格背景适配处理：true / false\n */\nfunction ExtFigure_adjustColorScheme(disposeGrid) {\n    let scheme = ColorScheme.scheme,\n        darkMode = scheme === _dark_;\n    // --------------------\n    // 对图片在 Dark Mode 时的适配处理\n    // 1. 对适配方式为「反转」的处理\n    $(_img_ + V_attrX(_dataDarkSrc_, \"invert\") + \", \" + _svg_ + V_attrX(_dataDarkSrc_, \"invert\")).e(function () {\n        let img = $(this),\n            src = img.a(_src_);\n        if (darkMode) {\n            // 如果图片没有指定替换颜色时才进行处理\n            if (img.a(_dataImgFill_) === gUndefined) {\n                // 设置默认的 srcset\n                if (src !== gUndefined)\n                    img.a(_srcset_, img.a(_dataSrcsetLight_));\n                // 添加反转样式\n                JQ_addClass(img, _vImgInvertDark_);\n            }\n        }\n        else {\n            JQ_removeClass(img, _vImgInvertDark_);\n            if (src !== gUndefined)\n                img.a(_srcset_, img.a(_dataSrcsetLight_));\n        }\n    });\n    // 2. 对适配方式为「替换」的处理\n    $(_img_ + V_attrX(_dataDarkSrc_, \"alter\")).e(function () {\n        let img = $(this);\n        JQ_removeClass(img, _vImgInvertDark_);\n        img.a(_src_, img.a(_dataSrc_ + scheme));\n        img.a(_srcset_, img.a(_dataSrcset_ + scheme));\n    });\n\n    // --------------------\n    // 对图片指定为颜色替换的处理\n    $(_img_ + V_attrX(_dataImgFill_, \"text\")\n        + \",\" + _img_ + V_attrX(_dataImgFill_, \"theme1\")\n        + \",\" + _img_ + V_attrX(_dataImgFill_, \"theme2\")\n        + \",\" + _svg_ + V_attrX(_dataImgFill_, \"text\")\n        + \",\" + _svg_ + V_attrX(_dataImgFill_, \"theme1\")\n        + \",\" + _svg_ + V_attrX(_dataImgFill_, \"theme2\")).e(function () {\n        let fig = $(this),\n            fill = fig.a(_dataImgFill_);\n        // SVG 对象，或 src 为 .svg 的 img 对象\n        if (V_util_getTagName(fig).sW(\"s\") || fig.a(_src_).i(_suffixSvg_, 1) > -1) {\n            ExtFigure_adjustFillAlterForSVG(fill, fig);\n        }\n        // 其他情况\n        else {\n            if (fill === _text_)\n                fig.c(_filter_, \"drop-shadow(12345px 0px \" + fig.p().c(_color_) + \")\");\n            else\n                fig.c(_filter_, \"drop-shadow(12345px 0px \" + V_ui_var(\"--ac-\" + fill + \"-lg\") + \")\");\n\n            if (fig.a(_dataFigNum_) !== gUndefined)\n                fig.c(_background_, _none_);\n        }\n    });\n\n    // --------------------\n    // 非初始化时执行，避免与 CSS 默认配置冲突\n    // 如：@media (prefers-color-scheme: dark) 部分\n    if (disposeGrid) {\n        // 适配图片网格背景的处理\n        $(_img_ + V_attrX(_dataFigGrid_, \"line\")\n            + \",\" + _img_ + V_attrX(_dataFigGrid_, \"block\")).e(function () {\n            let img = $(this);\n            // 先清空所有涉及的样式\n            if (darkMode) {\n                JQ_removeClass(img, \"v-fig-solid-bg-light\");\n                JQ_removeClass(img, \"v-fig-grid-line-light\");\n                JQ_removeClass(img, \"v-fig-grid-block-light\");\n            }\n            else {\n                JQ_removeClass(img, \"v-fig-solid-bg-dark\");\n                JQ_removeClass(img, \"v-fig-grid-line-dark\");\n                JQ_removeClass(img, \"v-fig-grid-line-dark-invert\");\n                JQ_removeClass(img, \"v-fig-grid-block-dark\");\n                JQ_removeClass(img, \"v-fig-grid-block-dark-invert\");\n            }\n\n            let gridType = img.a(_dataFigGrid_),\n                darkInvert = img.a(_dataDarkSrc_) === _invert_;\n            // 网络背景\n            if (gridType === _line_ || gridType === _block_) {\n                if (darkMode && darkInvert)\n                    // 先添加反色后的背景，以适配反色样式后能正常显示\n                    JQ_addClass(img, \"v-fig-grid-\" + gridType + \"-\" + scheme + \"-invert\");\n                else\n                    JQ_addClass(img, \"v-fig-grid-\" + gridType + \"-\" + scheme);\n            }\n            // 非网格背景\n            else\n                JQ_addClass(img, \"v-fig-solid-bg-\" + scheme);\n        });\n    }\n}\n\n/**\n * 适配 *.svg 格式的 img 图片注入为 SVG 实例后，对颜色进行替换的适配处理\n * @param fill 图片颜色替换方式：text / theme1 / theme2\n * @param svg SVG 实例对象\n */\nfunction ExtFigure_adjustFillAlterForSVG(fill, svg) {\n    // 先取消可能会因数 darksrc=invert 的 CSS 配置影响\n    svg.c(_filter_, _none_);\n    // 再针对进行微调\n    if (fill === _text_)\n        svg.f(\"path, rect, ellipse, polygon\").c(_fill_, svg.p().c(_color_));\n    else\n        svg.f(\"path, rect, ellipse, polygon\").c(_fill_, V_ui_var(\"--ac-\" + fill.l()));\n}\n\n// ==================== 插图导航模块 ==================== //\n\nfunction FigureNav() {\n    let T = this;\n    T.ui = $(\".\" + _vFigNav_); // 插图导航主界面\n    T.btns = {\n        ui : $(_vFigNavBtns_), // 所有导航按钮\n        prev : $(_vFigNavBtns_ + \".prev\"), // 上一张插图按钮\n        next : $(_vFigNavBtns_ + \".next\"), // 下一张插图按钮\n        close : $(\".v-btn-close-figure-nav\"), // 关闭按钮\n    };\n    T.content = $(\".\" + _vFigContent_); // 显示插图内容的控件\n    T.figNum = 1; // 当前插图索引序号，对应 vk-id-fig 中的值\n\n    V_ui_addAnimate(T.content.ch(_img_ + \", \" + _svg_));\n\n    // 绑定各按钮事件\n    T.btns.prev.uC().ck(function () {\n        T.prevFig();\n    });\n    T.btns.next.uC().ck(function () {\n        T.nextFig();\n    });\n    T.btns.close.uC().ck(function () {\n        T.hide();\n    });\n    T.content.uC().ck(function () {\n        T.hide();\n    });\n\n    /**\n     * 插图导航导航按钮在不同终端的适配处理\n     */\n    T.adjustHoverStyle = function () {\n        // 移动设备时解绑样式事件\n        if (env.device.mobile) {\n            T.btns.prev.uH();\n            T.btns.next.uH();\n        }\n        // 非移动设备时绑定样式事件\n        else {\n            T.btns.ui.hover(function () {\n                $(this).c(_transform_, \"translateY(-2px)\");\n            }, function () {\n                $(this).c(_transform_, _none_);\n            });\n            // 鼠标键按下事件，模拟 :active\n            T.btns.ui.on(_mouseDown_, function () {\n                $(this).c(_transform_, _none_);\n            });\n            // 鼠标键释放事件，模拟恢复正常\n            T.btns.ui.on(_mouseUp_, function () {\n                $(this).c(_transform_, \"translateY(-2px)\");\n            });\n        }\n    }\n\n    /**\n     * 是否已显示\n     * @returns boolean\n     */\n    T.isShowed = function () {\n        return T.ui.c(_display_) !== _none_;\n    }\n\n    /**\n     * 显示插图导航\n     */\n    T.show = function (fig) {\n        if (V_doc_counter_figure === 0)\n            return;\n\n        V_doc_scroll_freeze();\n        V_doc_block = gTrue;\n\n        if (fig == null)\n            fig = $(V_attrX(_dataFigNum_, T.figNum));\n\n        // 在插图导航中显示对应插图\n        T.figNum = JS_parseInt(fig.a(_dataFigNum_));\n\n        V_ui_show(T.ui);\n\n        T.display();\n        T.updateUI();\n    }\n\n    /**\n     * 关闭插图导航\n     */\n    T.hide = function () {\n        T.content.empty();\n        V_ui_hide(T.ui);\n\n        V_doc_scroll_unfreeze();\n        V_doc_block = gFalse;\n    }\n\n    /**\n     * 显示插图内容\n     */\n    T.display = function () {\n        let fig = $(V_attrX(_dataFigNum_, T.figNum));\n        T.content.empty();\n        T.content.show();\n        T.content.c(_width_, $(window).w())\n            .c(_height_, $(window).h());\n\n        let newFig = fig.clone();\n        newFig.c(_maxWidth_, $(window).w() - 80)\n            .c(_maxHeight_, $(window).h() - 50)\n            .c(_borderRadius_, _varVRB_);\n        JQ_addClass(newFig, \"v-interactive\");\n        V_ui_hide(newFig);\n\n        // 添加鼠标移入/移出事件\n        V_ui_bindHover(newFig);\n\n        // 添加鼠标点击事件\n        newFig.uC().ck(function () {\n            // 跳转到对应位置\n            V_util_gotoHash(\"#\" + _vkIdFig_ + T.figNum);\n            T.hide();\n        });\n\n        T.content.ap(newFig);\n        V_ui_show(newFig);\n    }\n\n    /**\n     * 查看上一个插图\n     */\n    T.prevFig = function () {\n        if (T.figNum > 1) {\n            T.figNum--;\n            T.display();\n            T.updateUI();\n        }\n    }\n\n    /**\n     * 查看下一个插图\n     */\n    T.nextFig = function () {\n        if (T.figNum < V_doc_counter_figure) {\n            T.figNum++;\n            T.display();\n            T.updateUI();\n        }\n    }\n\n    /**\n     * 更新插图导航界面\n     */\n    T.updateUI = function () {\n        let pageNum = $(\".\" + _vFigNav_ + \"-title\");\n\n        pageNum.hm(V_ui_span(\"v-fig-page-num\", _, T.figNum + \"/\" + V_doc_counter_figure)\n            + ___ + $(\"#\" + _vkIdFig_ + T.figNum + \">\" + _vCap1_).t());\n\n        // 更新导航按钮位置\n        T.btns.prev.c(_top_, (T.ui.h() - T.btns.prev.h()) / 2);\n        T.btns.next.c(_top_, T.btns.prev.c(_top_));\n\n        // 根据当前插图索引更新浏览按钮有效状态\n        T.btns.prev.c(_opacity_, \"0\");\n        T.btns.next.c(_opacity_, \"0\");\n        if (T.figNum > 1) {\n            T.btns.prev.c(_opacity_, \"1\");\n        }\n        if (T.figNum < V_doc_counter_figure) {\n            T.btns.next.c(_opacity_, \"1\");\n        }\n    }\n\n    /**\n     * 处理热键操作\n     * @param code 非功能键键\n     * @param combKeys 功能组合键 Ctrl / Shift / Alt / Win / Cmd\n     * @param event 事件对象\n     */\n    T.disposeHotkey = function (code, combKeys, event) {\n        if (iFigNav.ui.isHidden())\n            return;\n\n        let handled = false;\n        switch (code) {\n            case 188: // .\n            case 37: // ←\n                T.prevFig();\n                handled = true;\n                break;\n            case 190: // ,\n            case 39: // →\n                T.nextFig();\n                handled = true;\n                break;\n            case 27: // ESC\n                if (T.isShowed()) {\n                    T.hide();\n                    handled = true;\n                }\n                break;\n        }\n\n        // 如果事件已处理，则禁止双重操作\n        if (handled)\n            event.preventDefault();\n    }\n}\n\n// ==================== Mermaid - 脑图交互类 ==================== //\n\nfunction mmMindmap_init() {\n    // to-do: 新特性，未完成\n    let rootIndex = 0,\n        sectionGroup = \"\";\n    $(_svg_ + '[aria-roledescription=\"mindmap\"]>.mindmap-nodes>.mindmap-node').e(function () {\n        let _t = $(this);\n        if (rootIndex > 0) {\n            // if (sectionGroup !== _t.a(_class_)) {\n                // sectionGroup = _t.a(_class_);\n                _t.uC().ck(function () {\n                    mmMindmapToggleNode($(this));\n                });\n            // }\n            // else {\n                _t.c(_visibility_, _hidden_);\n            // }\n        }\n        else {\n            _t.uC().ck(function () {\n                mmMindmapToggleRoot($(this));\n            });\n        }\n        rootIndex++;\n    });\n\n    $(_svg_ + '[aria-roledescription=\"mindmap\"]>.mindmap-edges>.edge').e(function () {\n        let _t = $(this);\n        // if (_t.a(_class_).i(\"edge-depth-0\") === -1)\n            _t.c(_visibility_, _hidden_);\n    });\n}\n\nfunction mmMindmapToggleRoot(node) {\n}\n\nfunction mmMindmapToggleNode(node) {\n    let c = node.a(_class_),\n        si = c.i(\"section-\"),\n        secNum = 0;\n    if (si > -1) {\n        secNum = c.substring(si + 8, c.length);\n        if (secNum.isNumber()) {\n            $(_svg_ + '[aria-roledescription=\"mindmap\"]>.mindmap-nodes>.section-' + secNum).e(function () {\n                let _t = $(this);\n                _t.c(_visibility_, _visible_);\n            });\n\n            $(_svg_ + '[aria-roledescription=\"mindmap\"]>.mindmap-edges>.section-edge-' + secNum).e(function () {\n                let _t = $(this);\n                _t.c(_visibility_, _visible_);\n            });\n        }\n    }\n}\n\n// ==================== 样式重制类 ==================== //\n\n/**\n * 调整任务清单复选框的样式\n */\nfunction Restyler_forTaskList() {\n    // 遍历所有正文下的无序列表\n    // $(`:is(${_write_},${_blockquote_},${_details_})>ul`).e(function () {\n    //     // 遍历所有含 checkbox 组件的无序列表项\n    //     $(this).f(\".md-task-list-item \" + _input_ + \"[type='\" + _checkbox_ + \"']\").e(function () {\n    //         let li = $(this).p();\n    //         // 遍历其下级无序列表\n    //         li.ch(\"ul\").e(function () {\n    //             let chkIndex = 0,\n    //                 doing = gFalse;\n\n    //             // 遍历下级无序列表的所有一级子元素内 checkbox 的 checked 状态\n    //             $(this).ch(\"li\").e(function () {\n    //                 // 只对有两个或以上的 checkbox 子元素，因为只有 1 个 checkbox 是无法判断是否为不确定选择\n    //                 ERROR(111, $(this).t());\n    //                 ERROR(222, chkIndex > 0 && $(this).f(_input_).a(_checked_));\n    //                 if (chkIndex > 0 && $(this).f(_input_).a(_checked_) === gUndefined) {\n    //                     doing = gTrue;\n    //                     return gFalse;\n    //                 }\n    //                 chkIndex++;\n    //             });\n\n    //             ERROR(333, doing);\n    //             // 若下级无序列表的一级子元素中，有任意一个 checkbox 为未完成的，则视为不确定选择\n    //             if (doing) {\n    //                 ERROR(444, li.ch(_input_)[0].indeterminate);\n    //                 li.ch(_input_)[0].indeterminate = gTrue;\n    //             }\n    //             else if (!doing && chkIndex === 1 && $(this).f(_input_).a(_checked_) === _checked_)\n    //                 li.ch(_input_).a(_checked_, gTrue);\n    //         });\n    //     });\n    // });\n\n    // return;\n\n    // 对任务清单的 checkbox 组件转换为 SVG 图标\n    $(_write_ + ___ + _input_ + \"[type='\" + _checkbox_ + \"']\").e(function () {\n        let chkStatus = _no_, // 默认为未完成\n            chkStyle = _dark_; // 默认样式\n\n        // 已完成\n        let _t =  $(this),\n            checked = _t.a(_checked_);\n        if (checked !== gUndefined && checked.sW(\"c\")) { // checked\n            chkStatus = _yes_;\n            chkStyle = _theme_;\n        }\n        // 部分完成（不确定选择）\n        else if (_t[0].indeterminate) {\n            chkStatus = _un_;\n            // chkStyle = \"btn\";\n        }\n\n        // 替换为 SVG 图标\n        _t.bf(V_ui_svgIcon(_icoChkbox__ + chkStatus, 14, 14, chkStyle, \"v-svg-input-checkbox\"));\n        JQ_remove(_t);\n    });\n}\n\n/**\n * 调整默认的 Mermaid 样式\n */\nfunction Restyler_forMermaid() {\n    // ========== ZenUML 图 ==========\n    let zenSelector = \".md-diagram-panel>div>svg[aria-roledescription='zenuml']\";\n    // 调整 ZenUML 尺寸因主题原因导致强制被限制大小的情况\n    $(zenSelector).e(function () {\n        let target = $(this);\n        target.f(\".zenuml.bg-skin-canvas\").e(function () {\n            let zenuml = $(this);\n            target.c(_width_, zenuml.w())\n                .c(_height_, zenuml.h());\n            // 同时修正题注框的宽度、高度\n            target.ps(\".v-caption\").c(_width_, _auto_)\n                    .c(_height_, _auto_);\n        });\n    });\n    // to-do: 临时修复方式（多个图标同名渐变色定义冲突）\n    // 待 ZenUML 官方修复后可取消\n    let idPrefix = \"linearGradient-\",\n        svgIconCount = 0;\n    $(zenSelector + \" div[alt^='icon']>\" + _svg_).e(function () {\n        svgIconCount++;\n        let svgIcon = $(this),\n            idValue = \"linearGradient-vk-fixed-\" + svgIconCount;\n        // 图标渐变色定义 id 更名\n        svgIcon.f(\"defs>linearGradient\" + V_attrX(_id_, idPrefix, \"^=\")).attr(\"id\", idValue);\n        // 更新图标渐变色定义 id 值\n        svgIcon.f(\"g[fill^='url(#\" + idPrefix + \"']\").attr(\"fill\", \"url(#\" + idValue + \")\");\n    });\n\n    // ========== 时序图 ==========\n    let seqSelector = \".md-diagram-panel>div>svg[aria-roledescription='sequence']\";\n    // 修正顺序图整体的样式\n    // $(\".md-diagram-panel svg[id^='mermaidChart'][viewBox^='-']\").e(function () {\n    $(seqSelector).e(function () {\n        let target = $(this),\n            viewBox = target.a(_viewBox_).sp(/\\s+/),\n            paddingBottom = (target.c(_paddingBottom_));\n        // 修正顺序图的下边距，前提先在 CSS 中设置了合适的 padding-bottom 值\n        target.a(_viewBox_,\n            viewBox[0] + ___ + viewBox[1] + ___ + viewBox[2] + ___\n            + (JS_parseInt(viewBox[3]) + JS_parseInt(paddingBottom)));\n        // 重置 CSS 中的 padding-bottom 值，因为已由上面的下边距值替换\n        JQ_addClass(target, _vMermaidRestyler_);\n    });\n\n    // 更新顺序图中的角色样式\n    // $(\".md-diagram-panel svg[id^='mermaidChart'] g>rect[class='actor']\").e(function () {\n    $(seqSelector + \" g>rect[class='actor']\").e(function () {\n        let actor = $(this),\n            text = actor.n(_text_).ch(), // actor text object\n            tmpText = text.t(),\n            prefix = _;\n        const front = /@.+/g, // 前端触点角色\n            keySys = /^\\*\\*.+/g, // 重要系统角色\n            extSys = /^--.+/g; // 外部系统角色\n\n        // 更新 <前端触点角色> 样式\n        if (front.test(tmpText)) {\n            let h = actor.h(),\n                line = (actor.p().pr(_line_) || actor.pr(_line_));\n            actor.a(_rx_, (h - 20) / 2);\n            actor.a(_ry_, (h - 20) / 2);\n            actor.a(\"y\", JS_parseInt(actor.a(\"y\")) + 10);\n            actor.a(_height_, h - 20);\n            line.a(\"y1\", JS_parseInt(line.a(\"y1\")) + 10);\n            line.a(\"y2\", JS_parseInt(line.a(\"y2\")) - 20);\n            JQ_addClass(actor.pr(_line_), \"v-actor-front\");\n            text.t(prefix + tmpText.s(1, tmpText.length));\n        }\n        // 更新 <重要系统角色> 样式\n        else if (keySys.test(tmpText)) {\n            JQ_addClass(actor, _vActorKeySys_);\n            JQ_addClass(actor.pr(_line_), _vActorKeySys_);\n            JQ_addClass(actor.nextAll(_text_).ch(), _vActorKeySys_);\n            text.t(prefix + tmpText.s(2, tmpText.length));\n        }\n        // 更新 <外部系统角色> 样式\n        else if (extSys.test(tmpText)) {\n            JQ_addClass(actor, _vActorExtSys_);\n            JQ_addClass(actor.nextAll(_text_).ch(), _vActorExtSys_);\n            text.t(prefix + tmpText.s(2, tmpText.length));\n        }\n        else {\n            text.t(prefix + tmpText);\n        }\n    });\n\n    // 更新顺序图中消息序号的样式\n    // $(\".md-diagram-panel svg[id^='mermaidChart']>text.sequenceNumber\").e(function () {\n    $(seqSelector + \">text.sequenceNumber\").e(function () {\n        // 移除文本宽度，避免不同字体大小时显示效果问题\n        JQ_removeAttr($(this), _textLength_);\n    });\n\n    // 更新顺序图中的片断（如：loop、opt、par、alt）样式和位置\n    // $(\".md-diagram-panel svg[id^='mermaidChart'] polygon+.labelText\").e(function () {\n    $(seqSelector + \" polygon+.labelText\").e(function () {\n        let fragment = $(this),\n            g = fragment.p(),\n            segType = fragment.t();\n\n        // 默认的样式（par 片断）\n        let bgColor = _varMmOrange_,\n            borderColor = _varMmOrange_,\n            titleColor = _varAcOrangeLg_;\n        // 为 alt 片断设置样式\n        if (segType === _alt_) {\n            bgColor = _varMmRed_;\n            borderColor = _varMmRed_;\n            titleColor = _varAcRedLg_;\n        }\n        // 为 loop 片断设置样式\n        else if (segType === _loop_) {\n            bgColor = _varMmCyan_;\n            borderColor = _varMmCyan_;\n            titleColor = _varAcCyanLg_;\n        }\n        // 为 alt、loop、par 片断应用样式设置\n        if (segType !== \"opt\") {\n            // 背景色\n            g.f(\"polygon.labelBox\").c(_cssText_, _fill_ + \":\" + bgColor + _important_);\n            // 边框色\n            g.f(\"line.loopLine\").c(_cssText_, _stroke_ + \":\" + borderColor + _important_);\n            // 片断标题颜色\n            g.f(\"text.loopText, text.loopText>tspan\").c(_cssText_, _fill_ + \":\" + titleColor + _important_);\n        }\n\n        // 将 alt(alternative)、opt(optional)、loop(loops) 片断文本翻译为其他语言\n        if (segType === _alt_)\n            fragment.t([\n                \"分支\",\n                \"Alt.\"\n            ][V_lang_id]);\n        else if (segType === \"opt\")\n            fragment.t([\n                \"可选\",\n                \"Opt.\"\n            ][V_lang_id]);\n        else if (segType === _loop_)\n            fragment.t([\n                \"循环\",\n                \"Loop.\"\n            ][V_lang_id]);\n        else if (segType === \"par\")\n            fragment.t([\n                \"平行\",\n                \"Par.\"\n            ][V_lang_id]);\n    });\n\n    // 调整片断的标题文本\n    // $(\"svg text.loopText>tspan\").e(function () {\n    $(seqSelector + \" text.loopText>tspan\").e(function () {\n        // 去掉文本内容前后的中括号\n        let fragmentTitle = $(this);\n        fragmentTitle.p().a(_style_, \"text-anchor: start\");\n\n        // 调整文本的位置\n        let label = fragmentTitle.p().p().f(\".labelBox\"),\n            rect = label[0].getBBox();\n        fragmentTitle.a(\"x\", rect.x + rect.width + 10);\n\n        let nextText = fragmentTitle.p().n();\n        if (nextText !== gUndefined && nextText.a(_class_) !== gUndefined && nextText.a(_class_).i(\"loopText\") > -1) {\n            nextText.a(\"x\", rect.x + rect.width + 40);\n        }\n    });\n\n    // 针对 VLOOK 衍生的 Mermaid 的状态机图节点\n    let radius = V_util_getVarVal(_V_R_B_);\n    // 针对 VLOOK 顺序图开始、结束节点、子图\n    // $(\"svg .cluster rect\").e(function () {\n    $(seqSelector + \" .cluster rect\").e(function () {\n        $(this).a(_rx_, radius);\n        $(this).a(_ry_, radius);\n    });\n}\n\n// ==================== 第三方库修复工具类 ==================== //\n\n// Mermaid 相关的 DPR\nlet RepairTool_mermaidDPR_builder = 1, // 生成 Mermaid 时系统的 DPR\n    RepairTool_mermaidDPR_render = 1; // Mermaid 流程图显示的 DPR\n\n/**\n * 按倍数调整函数元组数据，目前只支持单个函数，且只能有两个参数\n * @param funcString 函数字符串，如：translate(-12,-18)\n * @param rate1 对第1个参数的调整倍数\n * @param rate2 对第2个参数的调整倍数\n */\n// function RepairTool_scaleTupleByTimes(funcString, rate1, rate2) {\n//     let lbIndex = funcString.i(\"(\"),\n//         dotIndex = funcString.i(\",\"),\n//         rbIndex = funcString.i(\")\");\n//\n//     // 提取两个参数值\n//     let r1 = funcString.s(lbIndex + 1, dotIndex),\n//         r2 = funcString.s(dotIndex + 1, rbIndex);\n//\n//     if (rate1 !== 1) r1 = r1 * rate1;\n//     if (rate2 !== 1) r2 = r2 * rate2;\n//\n//     return funcString.s(0, lbIndex + 1) +\n//         r1 + \",\" + r2 + \")\";\n// }\n\n// ==================== Sup/Sub Magic 模块 ==================== //\n\n/**\n * 初始化\n */\nfunction SupSubMagic_preprocess() {\n    // ---------- 注音旧语法预处理：^[注音]^ ----------\n    // 即将废弃 need to remove\n    // 遍历所有 sup\n    $(\"sup\").e(function () {\n        let _t = $(this),\n            text = _t.t(),\n            result;\n        if ((result = text.m(TextPhonetic_syntaxOld)) != null)\n            TextPhonetic_buildForSup(_t, result);\n    });\n\n    // ---------- 注音新语法预处理：_^注音^_ ----------\n    $(\"em>sup:only-child\").e(function () {\n        let _t = $(this),\n            result = [];\n        result.push(\"\"); // 主结构，在此忽略内容\n        result.push(_t.t());\n        TextPhonetic_buildForSup(_t.p(), result);\n    });\n\n    // ---------- 色号旧语法的预处理：~(色号)~ ----------\n    // 即将废弃 need to remove\n    // 遍历引用块、详情内的 sub 下标\n    $(_write_ + \" :is(blockquote, details)>p>sub\").e(function () {\n    // + _write_ + \">:is(blockquote, details) :is(blockquote, details)>p>sub\").e(function () {\n        let _t = $(this),\n            text = _t.t(),\n            colorSet;\n        // 颜色标签独占一行的情况下才被视为是对引用块、详情的颜色标识\n        // 否则将作为段落或指定格式的颜色标识，另行处理\n        if (ExtQuote_isValidColorMark(_t)\n            && (colorSet = text.m(Color_syntaxOld)) != null)\n                QuoteColoring_build(_t.p().p(), _t, colorSet);\n    });\n\n    // 遍历段落内的 sub 下标（针对段落或指定格式）\n    $(_write_ + \" sub\").e(function () {\n        let _t = $(this),\n            text = _t.t(),\n            colorSet;\n        if ((colorSet = text.m(Color_syntaxOld)) != null) {\n            // 只处理非独占一行的情况（独占一行的由引用块进行处理）\n            if (text !== _t.p().t())\n                RainbowTextAndCell_build(_t, colorSet);\n        }\n    });\n\n    // ---------- 色号新语法的预处理：_~色号~_ ----------\n    // 引用块、详情的颜色标识\n    $(_write_ + \" :is(blockquote, details)>p>em:only-child>sub:only-child\").e(function () {\n        let _t = $(this),\n            text = _t.t(),\n            colorSet;\n        if ((colorSet = text.m(Color_syntax)) != null) {\n            QuoteColoring_build(_t.p().p().p(), _t.p(), colorSet);\n        }\n    });\n\n    // 文本着色、段落着色\n    $(_write_ + \" em>sub:only-child\").e(function () {\n        let _t = $(this),\n            text = _t.t(),\n            colorSet;\n        if ((colorSet = text.m(Color_syntax)) != null) {\n            // 只处理非独占一行的情况（独占一行的由引用块进行处理）\n            if (text !== _t.p().p().t())\n                RainbowTextAndCell_build(_t.p(), colorSet);\n        }\n    });\n\n    // 针对 GitHub Style Alert 移除内嵌的着色样式\n    $(\".md-alert\").e(function () {\n        let _t = $(this);\n        // 取消内嵌的引用块着色、summary、引用块小标题样式\n        _t.f(\".v-q, summary, strong[class*='title']\").e(function () {\n            JQ_removeAttr($(this), _class_);\n        });\n        // 根据浏览器语言更换类型文本\n        _t.f(\".md-alert-text-note\").e(function () {\n            $(this).hm(V_ui_svgIcon2(_icoAlertNote_, 16, 16) + [\"备注\", \"Note\"][V_lang_id]);\n        });\n        _t.f(\".md-alert-text-tip\").e(function () {\n            $(this).hm(V_ui_svgIcon2(_icoAlertTip_, 16, 16) + [\"提示\", \"Tip\"][V_lang_id]);\n        });\n        _t.f(\".md-alert-text-important\").e(function () {\n            $(this).hm(V_ui_svgIcon2(_icoAlertImportant_, 16, 16) + [\"重要的\", \"Important\"][V_lang_id]);\n        });\n        _t.f(\".md-alert-text-warning\").e(function () {\n            $(this).hm(V_ui_svgIcon2(_icoAlertWarning_, 16, 16) + [\"注意\", \"Warning\"][V_lang_id]);\n        });\n        _t.f(\".md-alert-text-caution\").e(function () {\n            $(this).hm(V_ui_svgIcon2(_icoAlertCaution_, 16, 16) + [\"警告\", \"Caution\"][V_lang_id]);\n        });\n    });\n}\n\n// ==================== Sup/Sub Magic：文本注音模块 ==================== //\n\n// 新语法：^[symbol]^\nlet TextPhonetic_syntaxOld = /^\\[(\\S+)]$/; // 旧语法\n\n/**\n * 构建「注音」\n * @param target 源对象\n * @param result 正则表达式匹配后的结果数组\n */\nfunction TextPhonetic_buildForSup(target, result) {\n    let symbol = result[1].rA(\"_\", ___),\n        symbolCount = symbol.sp(___).length,\n        targetPrev = target.pr(),\n        prevText = (targetPrev === gUndefined ? _ : targetPrev.t()),\n        wordText;\n\n    // 拉丁内容结尾\n    if (/(.*)[a-z]$/i.test(prevText))\n        wordText = prevText.r(/(.*)(\\b\\w+\\b)/, \"$2\");\n    // 非拉丁内容结尾\n    else\n        wordText = prevText.s(prevText.length - symbolCount, prevText.length);\n\n    // 生成注音内容\n    let rubyHTML = \"$1<ruby>\" + wordText\n        + \"<rp>(</rp><rt>\" + symbol\n        + \"</rt><rp>)\" + _nbsp_ + \"</rp></ruby>\";\n    targetPrev.hm(targetPrev.hm().r(new RegExp(String.raw`(.*)${wordText}`), rubyHTML));\n\n    // 绑定注音的点击事件\n    targetPrev.f(\"ruby>rt\").uC().ck(function (event) {\n        TextPhonetic_translation(wordText, symbol, event);\n    });\n    // 删除预置颜色标识\n    JQ_remove(target);\n}\n\n/**\n * 释义或翻译\n * @param text 被注音的内容\n * @param symbol 注音\n * @param event 事件对象\n */\nfunction TextPhonetic_translation(text, symbol, event) {\n    event.stopPropagation(); // 停止事件冒泡\n\n    // 默认翻译为中文的服务\n    let translator = \"https://www.bing.com/translator/?from=&to=zh-chs&text=\",\n        // translator = \"https://translate.google.cn/?langpair=auto&sl=auto&op=translate&text=\",\n        url = translator + encodeURI(text);\n    // 若 symbol 为日文假名，则跳转至翻译平台翻译 symbol\n    if (/^[\\u3040-\\u30FF]/.test(symbol))\n        url = translator + encodeURI(symbol);\n    // 若 text 为中文，则跳转至汉典，翻译 text\n    else if (/^[\\u4e00-\\u9fa5]/.test(text))\n        url = \"https://www.zdic.net/hans/\" + encodeURI(text);\n\n    window.open(url, text);\n}\n\n// ==================== Sup/Sub Magic：引用块着色模块 ==================== //\n\nlet Quote_defalutColor = \"T1!\",\n    Quote_defalutColor_withoutEm = \"T1\";\n\n/**\n * 构建引用块着色样式\n * @param quote 所属引用块对象\n * @param colorCode 匹配色号标签的对象\n * @param colorSet 正则表达式匹配后的结果数组\n */\nfunction QuoteColoring_build(quote, colorCode, colorSet) {\n    // let quote = colorCode.p().p(),\n    //     colorP = colorCode.p(),\n    let color = Quote_getColor(colorSet[1]), // 颜色标识\n        em = ColorCode_isEm(colorSet) ? \" em\" : _, // 判断是否指定了强调样式\n        tag = V_util_getTagName(quote);\n\n    // <blockquote> 或 <details>\n    if (tag.sW(\"bl\") || tag.sW(\"de\")) {\n        // 删除预置颜色标识\n        JQ_remove(colorCode.p());\n        // 删除原始颜色标识后，若其所在行为空，则同时也删除所在行\n        // if (colorP.t().x().length === 0)\n            // JQ_remove(colorP);\n        JQ_addClass(quote, \"v-q \" + color + em);\n        JQ_addClass(quote.f(\">p\" + _firstChild_ + \">\" + _strong_), \"title-\" + color + em);\n        JQ_addClass(quote.f(_summary_), \"title-\" + color + em);\n    }\n}\n\n/**\n * 获得获取对应的颜色标识\n * @param color 文档中指定的预置颜色标识\n * @returns string 返回有效的的颜色值\n */\nfunction Quote_getColor(color) {\n    // 没有指定颜色，则为默认颜色\n    if (color === gUndefined)\n        return Quote_defalutColor;\n    return color.l();\n}\n\n// ==================== Sup/Sub Magic：文本着色模块 ==================== //\n\n/**\n * 构建文本着色与单元格样式\n * @param colorCode 颜色标识对象\n * @param colorSet 正则表达式匹配后的结果数组\n */\nfunction RainbowTextAndCell_build(colorCode, colorSet) {\n    let color = Badge_getColor(colorSet[1]), // 颜色标识\n        tableCellBgMode = ColorCode_isEm(colorSet),\n        solid = color.length < 4, // true - 单色，false - 渐变色\n        gradientColors = [], // 渐变色标识数组\n        renderTarget = colorCode.pr(),\n        wholeRendering = gFalse;\n\n    // 颜色标识为第 1 个子元素时，代表是要对整个段落（或单元格）进行着色\n    if (!tableCellBgMode\n        && renderTarget !== gUndefined && renderTarget.length === 0) {\n            renderTarget = colorCode.p();\n            wholeRendering = gTrue;\n    }\n\n    // 获取目标对象的 HTML 标签名称\n    let tagName = V_util_getTagName(renderTarget);\n\n    // 当颜色标识为渐变色配置时，进行拆分渐变色的预处理\n    if (!solid)\n        gradientColors = V_ui_splitColors(color);\n\n    // 针对整个段落（或单元格）着色模式时\n    // 针对里面的 u 和 mark 标签进行独立处理\n    if (wholeRendering) {\n        __disposeUnderline(renderTarget.f(\"u\"));\n        __disposeMark(renderTarget.f(_mark_));\n    }\n\n    // 文本着色\n    if (!tableCellBgMode) {\n        // mark 标签的处理\n        if (tagName === _mark_) {\n            __disposeMark(renderTarget);\n        }\n        // mark 以外的标签的处理，如：p u strong span 等\n        else {\n            __disposeText(renderTarget);\n            if (tagName === \"u\")\n                __disposeUnderline(renderTarget);\n        }\n    }\n    // 单元格着色\n    else {\n        renderTarget = colorCode.p();\n        tagName = V_util_getTagName(renderTarget);\n\n        if (tagName === \"th\" || tagName === \"td\") {\n            __disposeCell(renderTarget);\n        }\n    }\n\n    // 删除预置颜色标识\n    JQ_remove(colorCode);\n\n    /**\n     * 处理文本着色\n     * @param obj 文本对象\n     */\n    function __disposeText(obj) {\n        if (obj === gUndefined)\n            return;\n\n        // 单色\n        if (solid) {\n            // 针对亮度较高的预置色，选择更深一些的 title 色值\n            let title = ColorTooLight.test(color) ? \"-title\" : _;\n            obj.c(_color_, V_ui_var(\"--ac-\" + color + title\n                + (color !== \"bk\" ? \"-lg\" : _)));\n        }\n        // 渐变色\n        else {\n            let span = obj.f(_span_);\n            if (span.length === 0) // 无子元素 span 时恢复为 obj\n                span = obj;\n            if (span !== gUndefined) {\n                span.c(_backgroundImage_, _linearGradient_ + \"(90deg, \"\n                    + V_ui_genGradColorCSS(gradientColors, _, \"-lg\") + \")\");\n                span.c(\"background-clip\", _text_);\n                span.c(\"-webkit-background-clip\", _text_);\n                span.c(\"color\", \"transparent\");\n            }\n        }\n\n        if (wholeRendering)\n            obj.a(_dataRbWholeText_, V_ui_campColor(color));\n        else\n            obj.a(_dataRbText_, V_ui_campColor(color));\n    }\n\n    /**\n     * 处理下划线着色\n     * @param obj 文本对象\n     */\n    function __disposeUnderline(obj) {\n        if (obj === gUndefined)\n            return;\n\n        // 单色\n        if (solid) {\n            obj.c(_borderColor_, V_ui_var(\"--ac-\" + color\n                + (color === \"bk\" ? _ : \"-lg\")));\n        }\n        // 渐变色\n        else {\n            obj.c(_borderImage_, _linearGradient_ + \"(90deg, \"\n                + V_ui_genGradColorCSS(gradientColors, _, \"-lg\") + \") 0 0 1 0\");\n        }\n    }\n\n    /**\n     * 处理标识着色\n     * @param obj 文本对象\n     */\n    function __disposeMark(obj) {\n        if (obj === gUndefined)\n            return;\n\n        // 单色\n        if (solid) {\n            obj.c(_boxShadow_, \"0 -.9em 0 0 \" + V_ui_var(\"--ac-\" + color + \"-fade\"\n                + (color === \"bk\" ? _ : \"-lg\")) + \" inset\");\n        }\n        // 渐变色\n        else {\n            obj.c(_boxShadow_, _none_);\n            obj.c(_textShadow_, _none_);\n            obj.c(_backgroundImage_, _linearGradient_ + \"(90deg, \"\n                + V_ui_genGradColorCSS(gradientColors, \"-fade\", \"-lg\") + \")\");\n        }\n    }\n\n    /**\n     * 处理表格单元格着色\n     * @param obj 文本对象\n     */\n    function __disposeCell(obj) {\n        if (obj === gUndefined)\n            return;\n\n        // 单色\n        if (solid) {\n            obj.c(_backgroundColor_, V_ui_var(\"--ac-\" + color + \"-fade\"\n                + (color === \"bk\" ? _ : \"-lg\" )));\n        }\n        // 渐变色\n        else {\n            obj.c(_backgroundImage_, _linearGradient_ + \"(135deg, \"\n                + V_ui_genGradColorCSS(gradientColors, \"-fade\", \"-lg\") + \")\");\n        }\n        obj.a(_dataRbCellBg_, V_ui_campColor(color));\n    }\n}\n\n// ==================== Code Code 模块 ==================== //\n\nlet ColorCode = \"(r[do]|og|ye|l[am]|g[nyd]|aq|cy|b[unk]|se|vn|p[uk]|[mw]n|ol|t[12])\",\n    Color_syntax = new RegExp(\"^\\(\" + ColorCode + \"+)(!)?\\$\", \"i\"),\n    Color_syntaxOld = new RegExp(\"^\\\\((\" + ColorCode + \"+)(!)?\\\\)$\", \"i\"),\n    Color_syntaxByClass = new RegExp(\"\\\\s(\" + ColorCode + \"+)\\\\s(em)?\", \"i\"),\n    // RainbowColor_syntax = /^\\(((r[do]|og|ye|l[am]|g[nyd]|aq|cy|b[unk]|se|vn|p[uk]|[mw]n|ol|t[12])+)(!)?\\)$/i,\n    ColorTooLight = /ye|lm|aq|la|pk|gd|cy/i; // 属于亮度较高，用于文字显示时须要降低亮度的颜色标识\n\n/**\n * 初始化标签、徽章、刮刮卡的默认颜色标识\n */\nfunction ColorCode_init() {\n    // 注：引用块着色的初始化在 ExtQuote 中进行\n    let dcTag = V_util_getParamVal(\"tag\"),\n        dcBadge = V_util_getParamVal(\"badge\"),\n        dcCoating = V_util_getParamVal(\"coating\");\n    if (dcTag !== gUndefined)\n        Tag_defalutColor = dcTag;\n    if (dcBadge !== gUndefined)\n        Badge_defalutColor = dcBadge;\n    if (dcCoating !== gUndefined)\n        Coating_defalutColor = dcCoating;\n}\n\n/**\n * （旧色号语法）处理标签、徽章、引用块、刮刮卡指定的颜色\n * need to remove\n * @param target 颜色标识对象\n * @return Array[] 正则表达式匹配的颜色标识数组\n */\nfunction ColorCode_parseOld(target) {\n    let tagName = V_util_getTagName(target),\n        newColors = null;\n    // <sub> 标签\n    if (tagName === _sub_\n        && (newColors = target.t().m(Color_syntaxOld)) != null) {\n            JQ_remove(target);\n    }\n    return newColors;\n}\n\n/**\n * 处理标签、徽章、引用块、刮刮卡指定的颜色\n * @param target 颜色标识对象\n * @return Array[] 正则表达式匹配的颜色标识数组\n */\nfunction ColorCode_parse(target) {\n    let tagName = V_util_getTagName(target),\n        newColors = null;\n    // <sub> 标签\n    if (tagName === \"em\"\n        && target.ch(\"sub:only-child\").length > 0\n        && (newColors = target.t().m(Color_syntax)) != null) {\n            JQ_remove(target);\n    }\n    return newColors;\n}\n\n/**\n * 判断是否为颜色标识的强调风格\n * @param colorSet 颜色标识的正则匹配结果集\n * @return boolean 是否强调\n */\nfunction ColorCode_isEm(colorSet) {\n    let em = colorSet[colorSet.length - 1];\n    return (em !== gUndefined && em === \"!\");\n}\n\n/**\n * 生成预置颜色标识的 Markdown 格式\n * @param color 颜色标识\n * @param em 强调色标识\n * @param defaultColor 对应场景的默认颜色标识\n */\nfunction ColorCode_genAsMarkdown(color, em, defaultColor) {\n    return (color === defaultColor\n        ? _\n        : \"_~\" + V_ui_campColor(color) + em + \"~_\");\n}\n\n// ==================== Code Magic 模块 ==================== //\n\n/**\n * 初始化\n */\nfunction CodeMagic_init() {\n    // // 初始化标签、徽章、刮刮卡的默认颜色标识\n    // // 注：引用块着色的初始化在 ExtQuote 中进行\n    // let dcTag = V_util_getParamVal(\"tag\"),\n    //     dcBadge = V_util_getParamVal(\"badge\"),\n    //     dcCoating = V_util_getParamVal(\"coating\");\n    // if (dcTag !== gUndefined)\n    //     Tag_defalutColor = dcTag;\n    // if (dcBadge !== gUndefined)\n    //     Badge_defalutColor = dcBadge;\n    // if (dcCoating !== gUndefined)\n    //     Coating_defalutColor = dcCoating;\n\n    // 遍历所有 不是 em>code 的范围（包标签、徽章的旧语法）\n    let stdCount = 0;\n    // $(\":not(em):not(strong)>code:only-child\").e(function () {\n    $(\":not(em):not(strong)>code\").e(function () {\n        let _t = $(this),\n            codeText = _t.t(),\n            result;\n        // // 跳过 em>code\n        // if (V_util_getTagName(_t.p()) === \"em\")\n        //     return;\n        // 先处理：徽章格式\n        if ((result = codeText.m(Badge_syntax)) != null)\n            Badge_build(_t, result);\n        // 后处理：标签格式\n        else if ((result = codeText.m(Tag_syntaxOld)) != null)\n            Tag_build(_t, result);\n        // 刮刮卡格式\n        else if ((result = codeText.m(Coating_syntax)) != null)\n            Coating_build(_t, result);\n        // 文字注音格式（代码式语法）\n        else if ((result = codeText.m(TextPhonetic_syntaxForCode)) != null)\n            TextPhonetic_buildForCode(_t, result);\n        // 普通代码增加样式标识，以用于深色模式时的识别\n        else {\n            stdCount++;\n            JQ_addClass(_t, _vStdCode_ + \" id-\" + stdCount);\n            _t.uC().ck(function (event) {\n                if (!_t.is(ContentAssistor_lastTarget))\n                    ContentAssistor_toggleCopyMode(gFalse);\n\n                let content = _t.t();\n                if (ContentAssistor_copyAsMarkdown)\n                    content = \"`\" + content + \"`\";\n                ContentAssistor_lastTarget = _t;\n                Copyer_action(_t, content, gTrue);\n            });\n        }\n    });\n\n    // 处理刮刮卡（新语法）\n    $(\"em>span:first-child+strong:last-child, em>strong:only-child\").e(function () {\n        let _t = $(this),\n            result = [],\n            tip = _t.pr();\n\n        // 解包 em\n        _t.p().wrap(\"<span></span>\");\n        _t.unwrap();\n\n        // 构建兼容旧语法的数据结构\n        result.push(\"\"); // 主结构，在此忽略内容\n        result.push(tip.length === 0 ? _ : tip.t()); // 提示的内容\n        result.push(_t.t()); // 隐藏的内容\n\n        // 生成刮刮卡\n        Coating_build(_t.p(), result);\n    });\n\n    // 先处理：徽章（新语法）\n    $(\"em>span:first-child+code, em>code:first-child+span:last-child\").e(function () {\n        let _t = $(this),\n            value2 = _t.n(),\n            result = [];\n\n        // 解包 em\n        _t.p().wrap(\"<code></code>\");\n        _t.unwrap();\n\n        let bName = _t.pr().t(),\n            bValue = _t.t(),\n            bValue2 = _;\n        if (V_util_getTagName(_t) === _span_) {\n            bValue2 = bValue;\n            bValue = bName;\n            bName = \"\";\n        }\n        else {\n            if (value2.length > 0)\n                bValue2 = value2.t();\n        }\n        // ERROR(`'${bName}', '${bValue}' ,'${bValue2}'`);\n\n        // 构建兼容旧语法的数据结构\n        result.push(\"\"); // 主结构，在此忽略内容\n        // to-do: 未处理无标题的情况\n        // result.push(_t.pr().t()); // 徽章标题\n        // result.push(_t.t()); // 徽章内容 1\n        // if (value2.length > 0) {\n        //     result.push(\"\");\n        //     result.push(value2.t());\n        // }\n        result.push(bName); // 徽章标题\n        result.push(bValue); // 徽章内容 1\n        // 徽章内容 2 的处理\n        if (bValue2.length > 0) {\n            result.push(\"\");\n            result.push(bValue2);\n        }\n\n        // 生成徽章\n        Badge_build(_t.p(), result);\n    });\n\n    // 后处理：标签（新语法）\n    $(\"em>code:only-child\").e(function () {\n        let _t = $(this),\n            codeText = _t.t(),\n            result;\n\n        // 解包 em\n        _t.unwrap();\n        // 解析处理\n        if ((result = codeText.m(Tag_syntax)) != null)\n            Tag_build(_t, result);\n    });\n}\n\n// ==================== Code Magic：标签模块 ==================== //\n\n// 语法：#tag#(color)\nlet Tag_count = 0,\n    Tag_syntax = /^(.+)$/i,\n    Tag_syntaxOld = /^#(.+)#$/i,\n    Tag_defalutColor = \"t2\"; // theme1\n\n/**\n * 构建单标签样式\n * @param target 目标 code 对象\n * @param result 正则表达式匹配后的结果数组\n */\nfunction Tag_build(target, result) {\n    let tag = result[1],\n        color = Tag_getColor(),\n        em = _; // 强调样式的标识\n\n    Tag_count++;\n\n    // 颜色标识新语法处理\n    // 新色号语法：_~色号~_\n    let colorSet = ColorCode_parse(target.n());\n    // 即将废弃 need to removed\n    // 旧色号语法：~(色号)~\n    if (colorSet == null)\n       colorSet = ColorCode_parseOld(target.n());\n    if (colorSet != null) {\n        color = Tag_getColor(colorSet[1]);\n        em = ColorCode_isEm(colorSet) ? \" em\" : _;\n    }\n\n    // 过滤语法内容\n    target.t(tag);\n    let solid = color.length < 4,\n        gradientColors = [], // 渐变色标识数组\n        id = \" id-\" + Tag_count;\n    if (!solid) { // 渐变\n        gradientColors = V_ui_splitColors(color);\n        target.a(_class_, _vTag_ + ___ + gradientColors[0] + em + id);\n        target.c(_cssText_, _backgroundImage_ + \":\" + _linearGradient_ + \"(90deg, \"\n            + V_ui_genGradColorCSS(gradientColors, _, \"-lg\") + \")\" + _important_);\n    }\n    else {\n        target.a(_class_, _vTag_ + ___ + color + em + id);\n    }\n\n    // 复制标签内容\n    target.a(_dataAsMarkdown_, __asMarkdown());\n    target.a(_value_, target.t());\n    target.uC().ck(function (event) {\n        let _t = $(this),\n            content = _t.a(_value_);\n\n        if (!_t.is(ContentAssistor_lastTarget))\n            ContentAssistor_toggleCopyMode(gFalse);\n\n        if (ContentAssistor_copyAsMarkdown)\n            content = target.a(_dataAsMarkdown_);//__asMarkdown();\n        ContentAssistor_lastTarget = _t;\n        Copyer_action(_t, content, gTrue);\n    });\n\n    /**\n     * 生成标签的 Markdown 格式\n     */\n    function __asMarkdown() {\n        // 用反引号包裹\n        let content = \"*\" + V_util_wrapBackquote(tag) + \"*\";\n        // 添加预置色号\n        if (color !== Badge_defalutColor) {\n            content += ColorCode_genAsMarkdown(color,\n                (em.length > 0 ? \"!\" : _),\n                Tag_defalutColor);\n        }\n        return content;\n    }\n}\n\n/**\n * 获得获取对应的颜色标识\n * @param color 文档中指定的预置颜色标识\n * @returns string 返回有效的的颜色值\n */\nfunction Tag_getColor(color = gUndefined) {\n    // 没有指定颜色，则为默认颜色\n    if (color === gUndefined)\n        return Tag_defalutColor;\n    return color.l();\n}\n\n// ==================== Code Magic：徽章模块 ==================== //\n\n// 语法：#badge_name|badge_value|badge_value2#\nlet Badge_count = 0,\n    Badge_syntax = /^#([^|]*)\\|([^|]+)(\\|([^|]+))?#$/i, // 徽章\n    Badge_syntax_variable = /^(.*)({{.+}}|%.+%|\\${.+}|#{.+}|\\$.+\\$|var\\(.+\\))(.*)$/i, // 变量语法\n    Badge_defalutColor = \"bk\";\n\n/**\n * 构建徽章样式\n * @param target 目标 code 对象\n * @param result 正则表达式匹配后的结果数组\n */\nfunction Badge_build(target, result) {\n    let color = Badge_getColor(gUndefined, target), // 颜色标识\n        em = _, // 强调样式的标识\n        badgeName = result[1],\n        badgeValue = result[2],\n        badgeValue2 = (result.length > 4) ? result[4] : gUndefined,\n        varStr;\n\n    Badge_count++;\n\n    // 颜色标识新语法处理\n    // 新色号语法：_~色号~_\n    let colorSet = ColorCode_parse(target.n());\n    // 即将废弃 need to removed\n    // 旧色号语法：~(色号)~\n    if (colorSet == null)\n       colorSet = ColorCode_parseOld(target.n());\n    if (colorSet != null) {\n        color = Badge_getColor(colorSet[1], target);\n        em = ColorCode_isEm(colorSet) ? \" em\" : _;\n    }\n\n    // ----- 徽章标题\n    target.wrap(\"<code class='\" + _vBadgeName_ + ___ + color + \" id-\" + Badge_count + \"'></code>\");\n    // 复制徽章标题内容\n    let badge = $(\".\" + _vBadgeName_ + \".id-\" + Badge_count);\n    if (badgeName.length > 0)\n        badge.pp(V_ui_label(\"\", \"\", badgeName));\n    // 点击事件\n    badge.uC().ck(function (event) {\n        let _t = $(this),\n            content = _t.a(_value_);\n\n        // 激活复制为 Markdown 的判断\n        if (!_t.is(ContentAssistor_lastTarget))\n            ContentAssistor_toggleCopyMode(gFalse);\n\n        if (ContentAssistor_copyAsMarkdown)\n            content = _t.a(_dataAsMarkdown_);//__asMarkdown();\n        ContentAssistor_lastTarget = _t;\n        Copyer_action(_t, content, gTrue);\n    });\n\n    // ----- 徽章内容\n    JQ_addClass(target, _vBadgeValue_ + \" id-\" + Badge_count);\n    // 处理含变量的情况\n    if ((varStr = badgeValue.m(Badge_syntax_variable)) != null)\n        badgeValue = badgeValue.r(varStr[2], V_ui_span(\"var \" + color, _, varStr[2]));\n    target.hm(badgeValue);\n    // 指定的颜色标识带强调样式\n    if (em.length > 0)\n        JQ_addClass(target, color);\n\n    // 复制徽章内容\n    target.uC().ck(function (event) {\n        let _t = $(this),\n            value2 = _t.n();\n        ERROR(111, _t.t());\n        Copyer_action(_t, _t.t()\n            + (value2.length > 0 ? ___ + value2.t() : _), // 如果有 value2 的处理\n            gFalse);\n    });\n\n    // ----- 徽章内容2\n    if (badgeValue2 !== gUndefined) {\n        target.af(V_ui_span(\"v-badge-value2 id-\" + Badge_count, _, badgeValue2));\n        JQ_addClass(target.p(), _hastwo_);\n        JQ_addClass(target, _hastwo_);\n\n        target.n().uC().ck(function (event) {\n            let _t = $(this);\n            Copyer_action(_t, _t.t(), gFalse);\n        });\n    }\n\n    // 生成 asMarkdown 内容，用于复制\n    badge.a(_dataAsMarkdown_, __asMarkdown());\n    // 生成普通内容，用于复制\n    let nodeCnt = 0,\n        plainContent = _;\n    badge.contents().e(function () {\n        nodeCnt++;\n        plainContent += ((nodeCnt > 1) ? \" \" : _) + $(this).t();\n    });\n    badge.a(_value_, plainContent);\n\n    /**\n     * 生成徽章的 Markdown 格式\n     */\n    function __asMarkdown() {\n        // let content = \"#\" + badgeName\n        //     + \"|\" + badgeValue\n        //     + ((badgeValue2 !== gUndefined) ? \"|\" + badgeValue2 : _)\n        //     + \"#\";\n        let content = \"*\" + badgeName\n            + V_util_wrapBackquote(badgeValue)\n            + ((badgeValue2 !== gUndefined) ? badgeValue2 : _) + \"*\";\n        // 添加预置色号\n        if (color !== Badge_defalutColor) {\n            content += ColorCode_genAsMarkdown(color,\n                (em.length > 0 ? \"!\" : _),\n                Badge_defalutColor);\n        }\n        return content;\n    }\n}\n\n/**\n * 获得获取对应的颜色标识\n * @param color 文档中指定的预置颜色标识\n * @param target 目标 code 对象\n * @returns string 返回有效的的颜色值\n */\nfunction Badge_getColor(color, target = gUndefined) {\n    // 没有指定颜色，则为默认颜色\n    if (color === gUndefined) {\n        // 针对封面内的徽章（未指定颜色标识）的处理\n        if (target !== gUndefined) {\n            let p = target.p(),\n                tagName = (p !== gUndefined ? V_util_getTagName(p) : gUndefined);\n            if (tagName !== gUndefined\n                && tagName.l() === _h6_ && p.p().a(_id_) === \"write\" )\n                    return \"t2\";\n        }\n        return Badge_defalutColor;\n    }\n    return color.l();\n}\n\n// ==================== 进度条 ==================== //\n\nlet Progressbar_count = 0,\n    Progressbar_defalutColor = \"t1\";\n\n/**\n * 进度条初始化\n */\nfunction Progressbar_init() {\n    // 处理进度条\n    $(\"strong>mark:only-child\").e(function () {\n        let _t = $(this).p(),\n            value = _t.t();\n\n        // 指定数值时的处理\n        if (value.isNumber()) {\n            // 解包 mark\n            _t.hm(V_ui_label(_, _, _) + value);\n            Progressbar_build(_t, value);\n        }\n        // 指定自动计算时的处理\n        else if (value.l() === \"?\" || value.l() === \"？\") {\n            let taskList = _t.p().n();\n            if (taskList.length === 0)\n                return;\n\n            let count = taskList.f(\"li\").length,\n                doneCount = taskList.f(\"li.task-list-done\").length,\n                calcValue = (doneCount / count * 100).toFixed(1);\n\n            if (calcValue >= 100)\n                calcValue = 100;\n            // 解包 mark\n            _t.hm(V_ui_label(_, _, _) + calcValue);\n            Progressbar_build(_t, calcValue);\n        }\n    });\n}\n\n/**\n * 构建单标签样式\n * @param target 目标 code 对象\n * @param value 进度值\n */\nfunction Progressbar_build(target, value) {\n    // 赋于样式，后续才能获取正常渲染后尺寸信息\n    Progressbar_count++;\n    JQ_addClass(target, \"v-pgbar id-\" + Progressbar_count);\n\n    let label = target.ch(_label_),\n        width = label.width(),\n        outlineWidth = parseInt(label.c(_outlineWidth_)),\n        rbTextSet = [\"og\", \"gn\", \"cy\", \"bu\", \"vn\", \"pu\"],\n        rbText = target.a(_dataRbText_),\n        autoColor = (rbText === gUndefined),\n        color = _,\n        colorAlt = _,\n        // outlineColor = _,\n        outlineStyle = \"solid\";\n\n    // 根据进度值自动适配颜色\n    if (autoColor) {\n        if (value < 0)\n            rbText = \"rd\";\n        else if (value > 100)\n            rbText = \"ro\";\n        else if (value === 0)\n            rbText = \"gy\";\n        else\n            rbText = rbTextSet[Math.floor(value / 20)];\n    }\n    // 指定固定颜色\n    else {\n        rbText = Progressbar_getColor(rbText);\n    }\n\n    color = \"var(--ac-\" + rbText + \")\";\n    colorAlt = \"var(--ac-\" + rbText + \"-a-lg)\";\n    // outlineColor = color;\n\n    if (autoColor)\n        target.c(_color_, color);\n\n    let overValue = value - 100;\n    // 大于 100% 的处理\n    if (overValue > 0) {\n        let overWidth = overValue / 100 * width;\n        // 渲染超出部分\n        label.c(_boxShadow_, (overWidth + outlineWidth) + \"px 0 0 0 \" + color);\n        label.c(_marginRight_, overWidth + 5);\n        // color = colorAlt;\n    }\n    // 小于 0% 的处理\n    else if (value < 0) {\n        let overWidth = value / 100 * width;\n        // 渲染超出部分\n        label.c(_boxShadow_, (overWidth + + outlineWidth) + \"px 0 0 0 \" + color);\n        label.c(_marginLeft_, Math.abs(overWidth));\n        color = colorAlt;\n        outlineStyle = \"dashed\";\n    }\n\n    // 渲染正常部分\n    value = (value > 100) ? 100 : (value < 0 ? 0 : value);\n    label.c(_background_, `${_linearGradient_}(90deg, ${color} ${value}%, var(--d-bc) ${value}%, var(--d-bc) 100%)`);\n    // label.c(_outline_, `1px ${outlineStyle} ${outlineColor}`);\n    label.c(_outlineStyle_, outlineStyle);\n    // label.c(_borderColor_, color);\n}\n\n/**\n * 获得获取对应的颜色标识\n * @param color 文档中指定的预置颜色标识\n * @returns string 返回有效的的颜色值\n */\nfunction Progressbar_getColor(color) {\n    // 没有指定颜色，则为默认颜色\n    if (color === gUndefined)\n        return Progressbar_defalutColor;\n    return color.l();\n}\n\n// ==================== Code Magic：刮刮卡模块 ==================== //\n\nlet coatingCount = 0,\n    Coating_syntax = /^\\/(.*?)\\|(.+)\\/$/i, // 语法：/tips|text/\n    Coating_defalutColor = \"gy\";\n\n/**\n * 构建「刮刮卡」\n * @param target 源对象\n * @param result 正则表达式匹配后的结果数组\n */\nfunction Coating_build(target, result) {\n    let tip = \"••••\",\n        hiddenText = result[2],\n        color = Coating_getColor(gUndefined);\n\n    // 颜色标识新语法处理\n    // 新色号语法：_~色号~_\n    let colorSet = ColorCode_parse(target.n());\n    // 即将废弃 need to removed\n    // 旧色号语法：~(色号)~\n    if (colorSet == null)\n       colorSet = ColorCode_parseOld(target.n());\n    if (colorSet != null)\n        color = Coating_getColor(colorSet[1]);\n    color = V_ui_var(\"--ac-\" + color);// + \"-lg\");\n\n    // 自定义提示信息\n    if (result[1] !== gUndefined && result[1] !== _)\n        tip = result[1];\n\n    // 初始化「刮刮卡」数据\n    coatingCount++;\n    JQ_addClass(target, _vCoating_ + \" id-\" + coatingCount);\n    target.a(_dataCoatingTip_, tip);\n    target.a(_dataCoatingHidden_, hiddenText);\n    target.a(_dataCoatingShowed_, _false_);\n    // target.a(_title_, [\n    //     \"点击查看有效的原始内容\",\n    //     \"Click to view valid original content\"\n    //     ][V_lang_id]);\n    target.t(tip);\n    target.c(_background_, __genCoatingBg(tip.length, color))\n        .c(_borderColor_, color);\n\n    // 「刮刮卡」的点击事件\n    target.uC().ck(function (event) {\n        Coating_toggle($(this), event);\n    });\n\n    /**\n     * 根据提示信息字数生成条纹背景\n     * @param charCount 提示信息字数\n     * @param color 条纹背景色\n     * @returns string 生成 CSS 规范的背景\n     */\n    function __genCoatingBg(charCount, color) {\n        let count = 16,\n            result = _linearGradient_ + \"(135deg, \";\n        // 根据字数调整条纹数量\n        if (charCount <= 8)\n            count = 4;\n        else if (charCount <= 12)\n            count = 8;\n        else if (charCount <= 20)\n            count = 10;\n        // 计算每个条纹的步长\n        let step = 100 / count;\n        // 自动生成条纹背景\n        for (let i = 0; i < count; i++) {\n            let start = i * step,\n                end = start + step,\n                c = (i % 2 === 0) ? color : _varDFC_;\n            result += c + ___ + start + \"%, \" + c + ___ + end + \"%\"; // 分段渐变\n            result += (i < count - 1) ? \", \" : \")\";\n        }\n        return result;\n    }\n}\n\n/**\n * 获得获取对应的颜色标识\n * @param color 文档中指定的预置颜色标识\n * @returns string 返回有效的的颜色值\n */\nfunction Coating_getColor(color) {\n    // 没有指定颜色，则为默认颜色\n    if (color === gUndefined)\n        return Coating_defalutColor;\n    return color.l();\n}\n\n/**\n * 显示 / 隐藏「刮刮卡」的内容\n * @param target 刮刮卡对象\n * @param event 事件对象\n */\nfunction Coating_toggle(target, event) {\n    // 如果有拖选的文本，则跳过处理\n    if (__getSelectedText() !== _)\n        return;\n\n    if (target.a(_dataCoatingShowed_).sW(\"f\")) {\n        event.stopPropagation(); // 停止事件冒泡\n        Coating_show(target);\n    }\n    else {\n        Coating_hide(target);\n    }\n\n    // 获得当前页面拖选的文本\n    function __getSelectedText() {\n        if (window.getSelection) {\n            return window.getSelection().toString();\n        } else if (document.selection && document.selection.type !== \"Control\") {\n            return document.selection.createRange().text;\n        }\n        return _;\n    }\n}\n\n/**\n * 显示「刮刮卡」的内容\n * @param target 刮刮卡对象\n */\nfunction Coating_show(target) {\n    // let tmp = target.t();\n    JQ_addClass(target, _opened_);\n    // target.c(_color_, target.c(_borderColor_));\n    // 显示原始信息\n    target.t(target.a(_dataCoatingHidden_));\n    // 「刮刮卡」自定义数据\n    // target.a(_dataCoatingHidden_, tmp);\n    target.a(_dataCoatingShowed_, _true_)\n}\n\n/**\n * 隐藏「刮刮卡」的内容\n * @param target 刮刮卡对象\n */\nfunction Coating_hide(target) {\n    // let tmp = target.t();\n    JQ_removeClass(target, _opened_);\n    // target.c(_color_, _varDBc_);\n    // 显示提示信息\n    target.t(target.a(_dataCoatingTip_));\n    // 「刮刮卡」自定义数据\n    // target.a(_dataCoatingHidden_, tmp);\n    target.a(_dataCoatingShowed_, _false_);\n}\n\n// ==================== Code Magic：文本注音模块 ==================== //\n\n// 旧语法：{text}(symbol)\nlet TextPhonetic_syntaxForCode = /^{(.+)}\\((.+)\\)$/;\n\n/**\n * 构建「注音」（代码式语法）\n * @param target 源对象\n * @param result 正则表达式匹配后的结果数组\n */\nfunction TextPhonetic_buildForCode(target, result) {\n    let text = result[1],\n        symbol = result[2];\n    // 生成注音内容\n    target.af(\"<ruby>\" + text\n        + \"<rp>(</rp><rt>\" + symbol\n        + \"</rt><rp>)\" + _nbsp_ + \"</rp></ruby>\");\n    // 绑定注音的点击事件\n    target.n().ch(\"rt\").uC().ck(function (event) {\n        TextPhonetic_translation(text, symbol, event);\n    });\n    // 删除预置颜色标识\n    JQ_remove(target);\n}\n\n// ==================== VLOOK UI 模块 ==================== //\n\n/**\n * 加载欢迎页资源\n */\nfunction VLOOKui_loadWelcomePage() {\n    let title = V_util_getDocTitle(),\n        date = V_util_getMetaByName(\"date\"),\n        author = V_util_getMetaByName(\"author\"),\n        defalutContent = (title !== gUndefined ? V_ui_div(_, _, title) : _)\n            + (date !== gUndefined ? V_ui_div(_, \"v-date\", \"( \" + date + \" )\") : _)\n            + (author !== gUndefined ? V_ui_div(_, \"v-author\", author) : _),\n        metaContent = V_util_getMetaByName(\"vlook-welcome\");\n\n    // 无指定欢迎页内容，则使用默认内容\n    if (metaContent === gUndefined)\n        metaContent = defalutContent;\n    metaContent += _br_ + _br_;\n    // --------------------------------------------------\n    // 欢迎页\n    return V_ui_div(_, \"v-welcome-page\",\n            // 文档专属图标\n            V_ui_div(_, _vDocLog_ + _light_)\n            + V_ui_div(_, _vDocLog_ + _dark_)\n            // 欢迎信息\n            + V_ui_div(_, \"v-tips\", metaContent.x())\n            // 文档加载进度及进入按钮\n            + V_ui_div(_, \"v-loading\", \"Loading...\")\n        );\n    // return ui;\n}\n\n/**\n * 加载图标集资源\n */\nfunction VLOOKui_loadIconSet() {\n    let ui = '<svg style=\"display: none;\">';\n        // SVG 图标集：图标|VLOOK LOGO\n    ui += V_ui_symbol(_icoVLOOK_,\n            '<path d=\"M17.15 0c2.382 0 3.245.248 4.116.714a4.856 4.856 0 0 1 2.02 2.02c.466.87.714 1.734.714 4.116v10.3c0 2.382-.248 3.245-.714 4.116a4.856 4.856 0 0 1-2.02 2.02c-.87.466-1.734.714-4.116.714H6.85c-2.382 0-3.245-.248-4.116-.714a4.856 4.856 0 0 1-2.02-2.02C.248 20.396 0 19.532 0 17.15V6.85c0-2.382.248-3.245.714-4.116a4.856 4.856 0 0 1 2.02-2.02C3.604.248 4.468 0 6.85 0h10.3zm-4.935 16.976a.26.26 0 0 0-.334 0l-.956.795a.26.26 0 0 0-.05.345l.956 1.432a.26.26 0 0 0 .434 0l.956-1.432a.26.26 0 0 0-.05-.345zM7.27 9.292a4.34 4.34 0 0 0-4.343 4.336 4.34 4.34 0 0 0 4.343 4.336 4.34 4.34 0 0 0 4.343-4.336A4.34 4.34 0 0 0 7.27 9.292zm9.554 0a4.34 4.34 0 0 0-4.343 4.336 4.34 4.34 0 0 0 4.343 4.336 4.34 4.34 0 0 0 4.343-4.336 4.34 4.34 0 0 0-4.343-4.336zm-9.554 1.3a3.038 3.038 0 0 1 3.04 3.036 3.038 3.038 0 0 1-3.04 3.035 3.038 3.038 0 0 1-3.04-3.035 3.038 3.038 0 0 1 3.04-3.035zm9.554 0a3.038 3.038 0 0 1 3.04 3.036 3.038 3.038 0 0 1-3.04 3.035 3.038 3.038 0 0 1-3.04-3.035 3.038 3.038 0 0 1 3.04-3.035zm2.883-5.174a.652.652 0 0 0-.853-.32l-.013.005-6.795 2.83-6.793-2.83-.014-.006a.65.65 0 1 0-.537 1.185l7.035 2.931.014.006c.097.043.2.06.299.055a.649.649 0 0 0 .293-.055l.014-.006 7.035-2.93.084-.048a.65.65 0 0 0 .23-.817z\" fill=\"#FFF\" fill-rule=\"evenodd\"/>')\n        // SVG 图标集：图标|导航中心\n        + V_ui_symbol(_icoNavCenter_,\n            '<path d=\"M7.087.453a.82.82 0 0 1 1.1-.366L13 2.493V17.2a.8.8 0 0 1-1.158.716L7 15.493V.82a.82.82 0 0 1 .087-.367zm12.755.797a1.5 1.5 0 0 1 .158.67v11.72a3 3 0 0 1-1.658 2.683l-3.184 1.592A.8.8 0 0 1 14 17.199V2.493L17.83.58a1.5 1.5 0 0 1 2.012.67zM5.913.453A.82.82 0 0 1 6 .82v14.673l-3.83 1.915A1.5 1.5 0 0 1 0 16.066V4.348a3 3 0 0 1 1.658-2.684L4.813.087a.82.82 0 0 1 1.1.366zM18.99 1.7a.5.5 0 0 0-.668-.23L15.61 2.79a.5.5 0 0 0-.046.874l2.71 1.693a.5.5 0 0 0 .765-.424V1.918a.5.5 0 0 0-.05-.219z\"/>')\n        // SVG 图标集：图标|导航中心分段控制|目录索引\n        + V_ui_symbol(_icoTocTabCatalog_,\n            '<path fill=\"none\" d=\"M0 0h16v16H0z\"/><path d=\"M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zm0 1H3a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zm0 8a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2h6zm-9 0a1 1 0 0 1 0 2H3a1 1 0 0 1 0-2h1zm9-3a1 1 0 0 1 0 2H7a1 1 0 1 1 0-2h6zM4 7a1 1 0 1 1 0 2H3a1 1 0 1 1 0-2h1zm9-3a1 1 0 0 1 0 2H7a1 1 0 1 1 0-2h6zM4 4a1 1 0 1 1 0 2H3a1 1 0 1 1 0-2h1z\"/>')\n        + V_ui_symbol(_icoTocTabCatalog_ + __checked_,\n            '<path fill=\"none\" d=\"M0 0h16v16H0z\"/><path d=\"M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zm0 10H7a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2zm-9 0H3a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2zm9-4H7a1 1 0 1 0 0 2h6a1 1 0 0 0 0-2zM4 7H3a1 1 0 1 0 0 2h1a1 1 0 1 0 0-2zm9-4H7a1 1 0 1 0 0 2h6a1 1 0 0 0 0-2zM4 3H3a1 1 0 1 0 0 2h1a1 1 0 1 0 0-2z\"/>')\n        // SVG 图标集：图标|导航中心分段控制|插图索引\n        + V_ui_symbol(_icoTocTabFigure_,\n            '<path fill=\"none\" d=\"M0 0h16v16H0z\"/><path d=\"M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zm0 1H3a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zM5.823 7.22a1 1 0 0 1 .288.252l1.821 2.343a1 1 0 0 0 1.34.221l1.567-1.034a1 1 0 0 1 1.331.21l1.188 1.483a.8.8 0 0 1-.624 1.3H3.288a.8.8 0 0 1-.692-1.201l1.86-3.21a1 1 0 0 1 1.367-.364zM10 4a2 2 0 1 1 0 4 2 2 0 0 1 0-4z\"/>')\n        + V_ui_symbol(_icoTocTabFigure_ + __checked_,\n            '<path fill=\"none\" d=\"M0 0h16v16H0z\"/><path d=\"M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zM5.823 7.22a1 1 0 0 0-1.367.364l-1.86 3.21a.8.8 0 0 0 .692 1.201h9.446a.8.8 0 0 0 .624-1.3L12.17 9.212a1 1 0 0 0-1.331-.21l-1.567 1.034a1 1 0 0 1-1.34-.221L6.111 7.472a1 1 0 0 0-.288-.252zM10 4a2 2 0 1 0 0 4 2 2 0 0 0 0-4z\"/>')\n        // SVG 图标集：图标|导航中心分段控制|表格索引\n        + V_ui_symbol(_icoTocTabTable_,\n            '<path fill=\"none\" d=\"M0 0h16v16H0z\"/><path d=\"M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zM5 11H1v1a2 2 0 0 0 2 2h2v-3zm5 0H6v3h4v-3zm5 0h-4v3h2a2 2 0 0 0 2-2v-1zM5 6H1v4h4V6zm5 0H6v4h4V6zm5 0h-4v4h4V6zM5 2H3a2 2 0 0 0-2 2v1h4V2zm5 0H6v3h4V2zm3 0h-2v3h4V4a2 2 0 0 0-2-2z\" fill-rule=\"nonzero\"/>')\n        + V_ui_symbol(_icoTocTabTable_ + __checked_,\n            '<path fill=\"none\" d=\"M0 0h16v16H0z\"/><path d=\"M16 11v1a3 3 0 0 1-3 3h-1v-4h4zM4 11v4H3a3 3 0 0 1-3-3v-1h4zm7 0v4H5v-4h6zm0-5v4H5V6h6zm5 0v4h-4V6h4zm-5-5v4H5V1h6zm2 0a3 3 0 0 1 3 3v1h-4V1h1zM4 1v4H0V4a3 3 0 0 1 3-3h1zM0 6h4v4H0V6z\" fill-rule=\"nonzero\"/>')\n        // SVG 图标集：图标|导航中心分段控制|多媒体索引\n        + V_ui_symbol(_icoTocTabMedia_,\n            '<path fill=\"none\" d=\"M0 0h16v16H0z\"/><path d=\"M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zm-1 1.001H4v12h8v-12zM3 11H1v1a2 2 0 0 0 2 2v-3zm12 0h-2v3l.15-.005A2 2 0 0 0 15 12v-1zM3.002 6h-2v4h2V6zm11.997 0h-2v4h2V6zM3 2a2 2 0 0 0-2 2v1h2zm10 0v3h2V4a2 2 0 0 0-2-2zm-2.936 6.655L7.259 10.62A.8.8 0 0 1 6 9.963V6.037a.8.8 0 0 1 1.259-.656l2.805 1.964a.8.8 0 0 1 0 1.31z\" fill-rule=\"nonzero\"/>')\n        + V_ui_symbol(_icoTocTabMedia_ + __checked_,\n            '<path fill=\"none\" d=\"M0 0h16v16H0z\"/><path d=\"M16 11v1a3 3 0 0 1-3 3v-4h3zM3 11v4a3 3 0 0 1-3-3v-1h3zm9-10v14H4V1h8zM6.8 5.237a.8.8 0 0 0-.8.8v3.926a.8.8 0 0 0 1.259.656l2.805-1.964a.8.8 0 0 0 0-1.31L7.259 5.38a.8.8 0 0 0-.459-.144zM16 6v4h-3V6h3zM3 6v4H0V6h3zm10-5a3 3 0 0 1 3 3v1h-3V1zM3 1v4H0V4a3 3 0 0 1 3-3z\" fill-rule=\"nonzero\"/>')\n        // SVG 图标集：图标|导航中心分段控制|代码块索引\n        + V_ui_symbol(_icoTocTabCodeblock_,\n            '<path fill=\"none\" d=\"M0 0h16v16H0z\"/><path d=\"M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zm0 1H3a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zM6.555 4.168a1 1 0 0 1 .277 1.387L5.201 7.999l1.631 2.446a1 1 0 0 1-.184 1.317l-.093.07a1 1 0 0 1-1.387-.277L3.353 8.832a1.5 1.5 0 0 1 0-1.664l1.815-2.723a1 1 0 0 1 1.387-.277zm2.89 0a1 1 0 0 1 1.387.277l1.815 2.723a1.5 1.5 0 0 1 0 1.664l-1.815 2.723a1 1 0 0 1-1.387.277l-.093-.07a1 1 0 0 1-.184-1.317L10.799 8 9.168 5.555a1 1 0 0 1 .277-1.387z\" fill-rule=\"nonzero\"/>')\n        + V_ui_symbol(_icoTocTabCodeblock_ + __checked_,\n            '<path fill=\"none\" d=\"M0 0h16v16H0z\"/><path d=\"M13 1a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10zM5.454 4.168a1 1 0 0 0-1.387.277L2.252 7.168a1.5 1.5 0 0 0 0 1.664l1.815 2.723a1 1 0 0 0 1.387.277l.093-.07a1 1 0 0 0 .184-1.317L4.101 8l1.63-2.444a1 1 0 0 0-.277-1.387zm4.89 0a1 1 0 0 0-.277 1.387l1.631 2.444-1.631 2.446a1 1 0 0 0 .184 1.317l.093.07a1 1 0 0 0 1.387-.277l1.815-2.723a1.5 1.5 0 0 0 0-1.664l-1.815-2.723a1 1 0 0 0-1.387-.277z\" fill-rule=\"nonzero\"/>')\n        // SVG 图标集：图标|导航中心分段控制|访问史\n        + V_ui_symbol(_icoTocTabHistory_,\n            '<path d=\"M8 0c4.411 0 8 3.589 8 8s-3.589 8-8 8-8-3.589-8-8 3.589-8 8-8zm0 1C4.142 1 1 4.142 1 8s3.142 7 7 7 7-3.142 7-7-3.142-7-7-7zm0 1.5a1 1 0 0 1 1 1v4.45l2.164 1.25a1 1 0 0 1-1 1.732l-2.598-1.5a1 1 0 0 1-.237-.19A1 1 0 0 1 7 8.5v-5a1 1 0 0 1 1-1z\"/>')\n        + V_ui_symbol(_icoTocTabHistory_ + __checked_,\n            '<path d=\"M8 0c4.411 0 8 3.589 8 8s-3.589 8-8 8-8-3.589-8-8 3.589-8 8-8zm0 3.5a1 1 0 0 0-1 1v5c0 .294.127.56.33.742a.979.979 0 0 0 .236.19l2.598 1.5a1 1 0 0 0 1-1.732L9 8.95V4.5a1 1 0 0 0-.883-.993z\" fill-rule=\"nonzero\"/>')\n        // SVG 图标集：图标|检索\n        + V_ui_symbol(_icoRetrieval_,\n            '<path d=\"M14.999 14.596a1.375 1.375 0 0 1-1.953 0L11.46 12.94a6.372 6.372 0 0 1-3.466 1.032c-3.559 0-6.444-2.904-6.444-6.486S4.435 1 7.994 1c3.56 0 6.445 2.904 6.445 6.486a6.47 6.47 0 0 1-1.026 3.488l1.586 1.656c.54.543.54 1.423 0 1.966zM7.993 2.32c-2.834 0-5.132 2.313-5.132 5.166s2.298 5.165 5.132 5.165c2.835 0 5.133-2.312 5.133-5.165s-2.298-5.166-5.133-5.166z\"/>')\n        // SVG 图标集：图标|向左关闭\n        // + V_ui_symbol(\"icoCloseTo-left\",\n        + V_ui_symbol(_icoMaskCloser_,\n            '<path d=\"M13.98.176l.035.013c1.506.534 2.311 2.123 1.86 3.607L6.21 30l9.61 26.04c.546 1.475-.186 3.097-1.64 3.707l-.2.077c-1.502.532-3.154-.18-3.781-1.597l-.065-.16L.315 31.916a5.987 5.987 0 0 1 0-3.832l9.818-26.151C10.702.41 12.422-.375 13.979.176z\"/>')\n        // SVG 图标集：图标|插图导航的上一张\n        + V_ui_symbol(_icoPrevFig_,\n            '<path d=\"M11.03.091c.765.284 1.159 1.147.88 1.927L3.002 27l8.91 24.982a1.516 1.516 0 0 1-.75 1.87l-.13.057a1.462 1.462 0 0 1-1.834-.765l-.055-.134L.12 27.705C.112 27.685 0 27.435 0 27c0-.435.111-.684.12-.706L9.141.99A1.465 1.465 0 0 1 11.03.09z\"/>')\n        // SVG 图标集：图标|逐章导航的上一章'\n        + V_ui_symbol(_icoPrevChapter_,\n            '<path d=\"M7.364.293a1 1 0 0 1 0 1.414l-4.97 4.969 4.974 4.974a1 1 0 0 1-1.415 1.414L.296 7.407a.996.996 0 0 1-.291-.658.995.995 0 0 1 .288-.8L5.95.294a1 1 0 0 1 1.414 0z\"/>')\n        // SVG 图标集：图标|已收起的 目录节点\n        + V_ui_symbol(_icoTocFolded_,\n            '<path d=\"M11.614 8.72L7.37 12.961a1 1 0 0 1-1.414-1.414l3.542-3.543-3.542-3.543A1 1 0 1 1 7.37 3.048l4.243 4.243a.997.997 0 0 1 .293.707v.014a.997.997 0 0 1-.293.707z\"/>')\n        // SVG 图标集：图标|已收起的 引用块折叠 / 表格折叠行节点\n        + V_ui_symbol(_icoFolded_,\n            '<path d=\"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zm-.336 3.757A1 1 0 1 0 6.25 5.172l2.835 2.835-2.835 2.836a1 1 0 1 0 1.414 1.414l3.535-3.536a.997.997 0 0 0 .293-.707V8a.997.997 0 0 0-.293-.707z\"/>')\n        // SVG 图标集：图标|关闭\n        + V_ui_symbol(_icoClose_,\n            '<path d=\"M7,7 L7,-1 C7,-1.55228475 7.44771525,-2 8,-2 C8.55228475,-2 9,-1.55228475 9,-1 L9,7 L17,7 C17.5522847,7 18,7.44771525 18,8 C18,8.55228475 17.5522847,9 17,9 L9,9 L9,17 C9,17.5522847 8.55228475,18 8,18 C7.44771525,18 7,17.5522847 7,17 L7,9 L-1,9 C-1.55228475,9 -2,8.55228475 -2,8 C-2,7.44771525 -1.55228475,7 -1,7 L7,7 Z\" transform=\"translate(8.000000, 8.000000) rotate(45.000000) translate(-8.000000, -8.000000) \"></path>')\n        // SVG 图标集：图标|清空输入\n        + V_ui_symbol(_icoResetInput_,\n            '<path d=\"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zM5.737 4.606a.8.8 0 0 0-1.131 1.131L6.869 8l-2.263 2.263a.8.8 0 1 0 1.131 1.131L8 9.131l2.263 2.263a.8.8 0 1 0 1.131-1.131L9.131 8l2.263-2.263a.8.8 0 1 0-1.131-1.131L8 6.869z\"/>')\n        // SVG 图标集：图标|颜色模式（Light/Dark）\n        + V_ui_symbol(_icoLightMode_,\n            '<path d=\"M10 17a1 1 0 0 1 1 1v1a1 1 0 0 1-2 0v-1a1 1 0 0 1 1-1zm6.364-2.05l.707.707a1 1 0 0 1-1.414 1.414l-.707-.707a1 1 0 1 1 1.414-1.414zm-11.314 0a1 1 0 0 1 0 1.414l-.707.707a1 1 0 1 1-1.414-1.414l.707-.707a1 1 0 0 1 1.414 0zM10 5a5 5 0 1 1 0 10 5 5 0 0 1 0-10zm9 4a1 1 0 0 1 0 2h-1a1 1 0 0 1 0-2h1zM2 9a1 1 0 0 1 0 2H1a1 1 0 0 1 0-2h1zm15.071-6.071a1 1 0 0 1 0 1.414l-.707.707a1 1 0 1 1-1.414-1.414l.707-.707a1 1 0 0 1 1.414 0zm-12.728 0l.707.707A1 1 0 1 1 3.636 5.05l-.707-.707A1 1 0 0 1 4.343 2.93zM10 0a1 1 0 0 1 1 1v1a1 1 0 0 1-2 0V1a1 1 0 0 1 1-1z\"/>')\n        // SVG 图标集：图标|深色模式\n        + V_ui_symbol(_icoDarkMode_,\n            '<path d=\"M5.646 2.646A9.003 9.003 0 0 0 9 20a9.003 9.003 0 0 0 8.354-5.646A9 9 0 0 1 5.613 2.729zM15.5 3l-1.065 2.7a1.303 1.303 0 0 1-.734.735L11 7.5l2.7 1.065c.337.133.602.398.735.734L15.5 12l1.065-2.7c.133-.337.398-.602.734-.735L20 7.5l-2.7-1.065a1.303 1.303 0 0 1-.735-.734L15.5 3zm-4.829-3l-.547 1.389a1 1 0 0 1-.564.563L8.171 2.5l1.39.548a1 1 0 0 1 .563.563L10.67 5l.548-1.389a1 1 0 0 1 .563-.563l1.39-.548-1.39-.548a1 1 0 0 1-.563-.563L10.671 0z\"/>')\n        // SVG 图标集：图标|聚光灯\n        + V_ui_symbol(_icoSpotlight_,\n            '<path d=\"M7 0a7 7 0 0 1 6.992 6.67A7.002 7.002 0 0 1 11 20a7 7 0 0 1-6.992-6.67A7.002 7.002 0 0 1 7 0zm4 6a7 7 0 0 0-6.992 7.33 7 7 0 0 0 9.985-6.662A6.984 6.984 0 0 0 11 6.001z\"/>')\n        // SVG 图标集：图标|激光笔\n        + V_ui_symbol(_icoLaserPointer_,\n            '<path d=\"M5.574 5.078a3.5 3.5 0 0 1 4.913.603l6.772 8.668a3.5 3.5 0 1 1-5.516 4.31L4.971 9.991a3.5 3.5 0 0 1 .603-4.913zm.576.769a2.5 2.5 0 1 0 3.078 3.94 2.5 2.5 0 0 0-3.078-3.94zm6.562-3.138a1 1 0 1 1 1.231 1.576l-.788.616a1 1 0 1 1-1.231-1.576l.788-.616zm-10.5 8a1 1 0 1 1 1.231 1.576l-.788.616a1 1 0 0 1-1.231-1.576l.788-.616zm-1.177-4.68l1 .034a1 1 0 0 1-.07 1.999l-1-.035a1 1 0 0 1 .07-1.999zM8.838.021a1 1 0 0 1 .77 1.186l-.208.978a1 1 0 0 1-1.956-.416l.208-.978a1 1 0 0 1 1.186-.77zM2.724 1.409a1 1 0 0 1 1.403.172l.616.788a1 1 0 0 1-1.576 1.232l-.616-.788a1 1 0 0 1 .173-1.404z\"/>')\n        // SVG 图标集：图标|段落导航\n        + V_ui_symbol(_icoParagraphNav_,\n            '<path d=\"M3.698 17.714v-5.036A.68.68 0 0 0 3.02 12a.68.68 0 0 0-.678.678v5.047L1.155 16.54a.689.689 0 0 0-.96 0c-.26.26-.26.69 0 .96l2.294 2.294a.67.67 0 0 0 .474.204h.068a.65.65 0 0 0 .475-.204L5.799 17.5c.26-.26.26-.689 0-.96-.237-.271-.666-.271-.926 0l-1.175 1.175zm0-15.432V7.32a.68.68 0 0 1-.678.678.68.68 0 0 1-.678-.678l.03-5.082-1.217 1.22c-.26.26-.689.26-.96 0a.689.689 0 0 1 0-.96L2.489.203A.67.67 0 0 1 2.963 0h.068c.17 0 .35.068.475.203l2.293 2.294c.26.26.26.69 0 .96-.237.272-.666.272-.926 0L3.698 2.283zM8 14h11a1 1 0 0 1 0 2H8a1 1 0 0 1 0-2zm0 3h8a1 1 0 0 1 0 2H8a1 1 0 0 1 0-2zM8 7h4a1 1 0 0 1 0 2H8a1 1 0 0 1 0-2zm0-6h11a1 1 0 0 1 0 2H8a1 1 0 0 1 0-2zm0 3h11a1 1 0 0 1 0 2H8a1 1 0 0 1 0-2z\"/>')\n        // SVG 图标集：图标|字体风格\n        + V_ui_symbol(_icoFontTheme_,\n            '<path d=\"M13.493 0l6.048 2.73a.5.5 0 0 1 .28.57l-.979 4.134a1 1 0 0 1-1.224.737l-1.092-.283.391 9.065a1 1 0 0 1-.999 1.043H3.94a1 1 0 0 1-1-1.04l.369-9.068-1.092.283a1 1 0 0 1-1.224-.737L.013 3.3a.5.5 0 0 1 .281-.57L6.341 0c.417 1.178 1.926 1.92 3.603 1.92 1.677 0 3.131-.742 3.55-1.92zm.84 15h-9a.5.5 0 1 0 0 1h9a.5.5 0 1 0 0-1zm0-2h-9a.5.5 0 1 0 0 1h9a.5.5 0 1 0 0-1zM9.49 4a1 1 0 0 0-.904.573L5.51 11.08a.644.644 0 0 0 .582.919h.379a1 1 0 0 0 .907-.578l.604-1.299h3.703l.566 1.28a1 1 0 0 0 .914.597h.39a.659.659 0 0 0 .596-.941L11.069 4.57A1 1 0 0 0 10.166 4zm.343 1.813l1.308 2.967H8.55l1.282-2.967z\"/>')\n        // SVG 图标集：图标|文库\n        + V_ui_symbol(_icoDocLib_,\n            '<path d=\"M17 0a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3h14zm.001 7h-14a2 2 0 0 0-2 2h6a3 3 0 0 0 6 0h6l-.005-.15A2 2 0 0 0 17 7zm0-3h-14a2 2 0 0 0-2 2h18l-.005-.15A2 2 0 0 0 17 4zm0-3h-14a2 2 0 0 0-2 2h18l-.005-.15A2 2 0 0 0 17 1z\"/>')\n        // SVG 图标集：图标|文库-新标签中打开\n        + V_ui_symbol(_icoDocLibExt_,\n            '<path d=\"M17 0a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3h14zm.002 2H11a1 1 0 0 0 0 2h3.585l-6.292 6.293a1 1 0 1 0 1.414 1.414L16 5.414V9a1 1 0 1 0 2 0L18 3c0-.017 0-.033-.003-.059v-.012a.999.999 0 0 0-.487-.789l-.023-.013-.047-.025a.995.995 0 0 0-.023-.011l-.014-.006-.025-.011a.993.993 0 0 0-.073-.027l-.014-.004-.017-.005a.993.993 0 0 0-.079-.019l-.02-.003-.017-.004A1.007 1.007 0 0 0 17.002 2h.02-.02z\"/>')\n        // SVG 图标集：图标|打开详情\n        + V_ui_symbol(_icoDetailsOpen_,\n            '<path d=\"M9 0a9 9 0 1 1 0 18A9 9 0 0 1 9 0zm1 3H8v5H3v2h5v5h2v-5h5V8h-5V3z\"/>')\n        // SVG 图标集：图标|打印\n        + V_ui_symbol(_icoPrint_,\n            '<path d=\"M15 0a2 2 0 0 1 2 2v4h1a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-1v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1H2a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h1V2a2 2 0 0 1 2-2h10zm1 13H4v4a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-4zm-2 2v1H6v-1h8zm3.5-7h-1a.5.5 0 1 0 0 1h1a.5.5 0 1 0 0-1zm-3.372 0a.5.5 0 1 0 0 1 .5.5 0 0 0 0-1zM15 1H5a1 1 0 0 0-1 1v4h12V2a1 1 0 0 0-.883-.993L15 1z\"/>')\n        // SVG 图标集：图标|内容助力-插图浏览器中打开\n        + V_ui_symbol(_icoOpenInFigureNav_,\n            '<path d=\"M13 0a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3h10zm0 6.507l-.117.007a1 1 0 0 0-.883.993V10L9 10a1 1 0 0 0 0 2h3.5a1.5 1.5 0 0 0 1.5-1.5V7.507a1 1 0 0 0-1-1zM6.98 2.004H3.5a1.5 1.5 0 0 0-1.5 1.5v3.062a1 1 0 0 0 1 1l.117-.006A1 1 0 0 0 4 6.566V4.004h2.98a1 1 0 1 0 0-2z\"/>')\n        // SVG 图标集：图标|内容助力-表格阅读模式（十字光标）\n        + V_ui_symbol(_icoTableX_,\n            '<path d=\"M13.6 0A2.4 2.4 0 0 1 16 2.4v9.2a2.4 2.4 0 0 1-2.4 2.4H2.4A2.4 2.4 0 0 1 0 11.6V2.4A2.4 2.4 0 0 1 2.4 0h11.2zM11 1H5v4.5A1.5 1.5 0 0 1 3.5 7H1v3h2.5A1.5 1.5 0 0 1 5 11.5V13h6v-1.5a1.5 1.5 0 0 1 1.5-1.5H15V7h-2.5A1.5 1.5 0 0 1 11 5.5V1zM9.5 6A1.5 1.5 0 0 1 11 7.5v2A1.5 1.5 0 0 1 9.5 11h-3A1.5 1.5 0 0 1 5 9.5v-2A1.5 1.5 0 0 1 6.5 6h3zm-.167 1H6.667a.667.667 0 0 0-.66.568L6 7.667v1.666c0 .335.247.612.568.66l.099.007h2.666a.667.667 0 0 0 .66-.568L10 9.333V7.667A.667.667 0 0 0 9.333 7z\"/>')\n        // SVG 图标集：图标|内容助力-表格自动换行\n        + V_ui_symbol(_icoTableWrap_,\n            '<path d=\"M11 0a2 2 0 0 1 2 2v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h9zm0 1H2a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z\" fill-rule=\"nonzero\"/><path d=\"M2.5 2H13v1H2.5a.5.5 0 0 1 0-1z\" fill-rule=\"nonzero\"/><path d=\"M13 2h2.5a.5.5 0 1 1 0 1H13V2z\"/><path d=\"M16 6.1v3.4a2.9 2.9 0 0 1-2.9 2.9h-2v-1.8h2a1.1 1.1 0 0 0 1.1-1.1V6.1H16z\" fill-rule=\"nonzero\"/><path d=\"M9.5 11.5c.52-.961.953-1.628 1.3-2 .347-.372.847-.705 1.5-1v6c-.673-.383-1.173-.75-1.5-1.1-.327-.35-.76-.984-1.3-1.9z\"/><path d=\"M7 7a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h5zm-2.5 6h-2a.5.5 0 1 0 0 1h2a.5.5 0 1 0 0-1zm2-2h-4a.5.5 0 1 0 0 1h4a.5.5 0 1 0 0-1zm0-2h-4a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1z\" fill-rule=\"nonzero\"/>')\n        // SVG 图标集：图标|内容助力-画中画\n        + V_ui_symbol(_icoPicInPic_,\n            '<path d=\"M0 4.238l1 .966V11a2 2 0 0 0 1.85 1.995L3 13h4v1H3a3 3 0 0 1-3-3V4.238zM14 0a3 3 0 0 1 3 3v4h-1V3a2 2 0 0 0-1.85-1.995L14 1H5.283L4.247 0H14zm2 9a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h5zM2.121.707l3.086 3.086L7 2v5H2l1.793-1.793L.707 2.121A1 1 0 1 1 2.121.707z\"/>')\n        // SVG 图标集：图标|画中画的放大模式\n        + V_ui_symbol(_icoZoomIn_,\n            '<path d=\"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zm4 7.503l-.117.007a1 1 0 0 0-.883.993v2.492H8.4a1 1 0 0 0 0 2h3.1a1.5 1.5 0 0 0 1.5-1.5V8.504a1 1 0 0 0-1-1zM7.58 3H4.5A1.5 1.5 0 0 0 3 4.5v3.062a1 1 0 0 0 1 1l.117-.007A1 1 0 0 0 5 7.562V5h2.58a1 1 0 1 0 0-2z\"/>')\n        // SVG 图标集：图标|内容助力-画中画的缩小模式\n        + V_ui_symbol(_icoZoomOut_,\n            '<path d=\"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zm4.58 8H9.5A1.5 1.5 0 0 0 8 9.5v3.062a1 1 0 0 0 1 1l.117-.007a1 1 0 0 0 .883-.993V10h2.58a1 1 0 1 0 0-2zM7 2.503l-.117.007A1 1 0 0 0 6 3.503v2.492H3.4a1 1 0 1 0 0 2h3.1a1.5 1.5 0 0 0 1.5-1.5V3.504a1 1 0 0 0-1-1z\" fill-rule=\"evenodd\"/>')\n        // SVG 图标集：图标|复制\n        + V_ui_symbol(_icoCopy_,\n            '<path d=\"M14 0a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-2a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2-2h8zm-4 3H2a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm-4.5 9a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1h2zm3-3a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h5zm0-3a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h5z\"/>')\n        // SVG 图标集：图标|复制 as Markdown\n        + V_ui_symbol(_icoCopyAsMd_,\n            '<path d=\"M14 0a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-2a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2-2h8zm-4 3H2a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm4.3 3h-1.6v2.5H11l2.5 2.5L16 8.5h-1.7V6zM4.548 6l1.549 1.838L7.645 6h1.549v5H7.645V8.132L6.097 9.971 4.548 8.132V11H3V6h1.548z\"/>')\n        // SVG 图标集：图标|加载中\n        + V_ui_symbol(_icoLoading_,\n            '<rect x=\"7\" width=\"2\" height=\"4\" rx=\"1\"/><rect transform=\"rotate(45 12.243 3.757)\" x=\"11.243\" y=\"1.757\" width=\"2\" height=\"4\" rx=\"1\"/><rect transform=\"rotate(90 14 8)\" x=\"13\" y=\"6\" width=\"2\" height=\"4\" rx=\"1\"/><rect transform=\"rotate(135 12.243 12.243)\" x=\"11.243\" y=\"10.243\" width=\"2\" height=\"4\" rx=\"1\"/><rect transform=\"rotate(180 8 14)\" x=\"7\" y=\"12\" width=\"2\" height=\"4\" rx=\"1\"/><rect transform=\"rotate(-135 3.757 12.243)\" x=\"2.757\" y=\"10.243\" width=\"2\" height=\"4\" rx=\"1\"/><rect transform=\"rotate(-90 2 8)\" x=\"1\" y=\"6\" width=\"2\" height=\"4\" rx=\"1\"/><rect transform=\"rotate(-45 3.757 3.757)\" x=\"2.757\" y=\"1.757\" width=\"2\" height=\"4\" rx=\"1\"/>')\n        // SVG 图标集：图标|播放\n        + V_ui_symbol(_icoPlay_,\n            '<path d=\"M14.133 9.605l-7.86 6.028c-.93.633-2.223.427-2.887-.459A1.909 1.909 0 0 1 3 14.028V1.972C3 .882 3.927 0 5.07 0c.432 0 .852.128 1.203.367l7.86 6.028c.93.633 1.146 1.865.481 2.751a2.024 2.024 0 0 1-.481.459z\"/><path fill=\"none\" d=\"M0 0h16v16H0z\"/>')\n        // SVG 图标集：图标|暂停\n        + V_ui_symbol(_icoPause_,\n            '<path d=\"M3 2h1a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm9 0h1a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z\"/><path fill=\"none\" d=\"M0 0h16v16H0z\"/>')\n        // SVG 图标集：图标|停止\n        + V_ui_symbol(_icoStop_,\n            '<rect x=\"2\" y=\"2\" width=\"12\" height=\"12\" rx=\"2\"/><path fill=\"none\" d=\"M0 0h16v16H0z\"/>')\n        // SVG 图标集：图标|无法播放\n        + V_ui_symbol(_icoForbidden_,\n            '<path d=\"M3.11 4.523a6.001 6.001 0 0 0 8.368 8.367L3.11 4.523zM4.522 3.11l8.368 8.367A6 6 0 0 0 4.522 3.11zM8 16A8.001 8.001 0 1 1 8.002.002 8.001 8.001 0 0 1 8 16z\" /><path fill=\"none\" d=\"M0 0h16v16H0z\"/>')\n        // SVG 图标集：图标|复选框（未选择）\n        + V_ui_symbol(_icoChkbox__ + _no_,\n            '<path d=\"M10 0a4 4 0 0 1 4 4v6a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4h6zm0 1H4l-.205.007a2.99 2.99 0 0 0-1.916.872A2.99 2.99 0 0 0 1 4v6l.007.205a2.99 2.99 0 0 0 .872 1.916A2.99 2.99 0 0 0 4 13h6l.205-.007a2.99 2.99 0 0 0 1.916-.872A2.99 2.99 0 0 0 13 10V4l-.007-.205a2.99 2.99 0 0 0-.872-1.916A2.99 2.99 0 0 0 10 1z\"/>')\n        // SVG 图标集：图标|复选框（已选择）\n        + V_ui_symbol(_icoChkbox__ + _yes_,\n            '<path d=\"M10 0a4 4 0 0 1 4 4v6a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4h6zm.435 3.36a1 1 0 0 0-1.393.245L5.703 8.372 4.421 7.09a1 1 0 1 0-1.414 1.414l2.121 2.121a1 1 0 0 0 1.225.15l.01-.007.01-.005a.997.997 0 0 0 .292-.277l4.015-5.734a1 1 0 0 0-.245-1.393z\"/>')\n        // SVG 图标集：图标|复选框（不确定选择）\n        + V_ui_symbol(_icoChkbox__ + _un_,\n            '<path d=\"M10 0a4 4 0 0 1 4 4v6a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4h6zm0 6H4a1 1 0 1 0 0 2h6a1 1 0 0 0 0-2z\" opacity=\".3\"/><path d=\"M10 0a4 4 0 0 1 4 4v6a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4h6zm0 1H4l-.205.007a2.99 2.99 0 0 0-1.916.872A2.99 2.99 0 0 0 1 4v6l.007.205a2.99 2.99 0 0 0 .872 1.916A2.99 2.99 0 0 0 4 13h6l.205-.007a2.99 2.99 0 0 0 1.916-.872A2.99 2.99 0 0 0 13 10V4l-.007-.205a2.99 2.99 0 0 0-.872-1.916A2.99 2.99 0 0 0 10 1z\" opacity=\".3\"/>')\n        // SVG 图标集：图标|链接检查结果异常\n        + V_ui_symbol(_icoLinkError_,\n            '<path d=\"M8 0c.462 0 .887.24 1.11.626l6.73 11.572c.219.375.213.834-.016 1.204-.228.371-.645.598-1.095.598H1.271c-.45 0-.867-.227-1.095-.598a1.166 1.166 0 0 1-.016-1.204L6.89.626A1.28 1.28 0 0 1 8 0zm0 10.361c-.841 0-1.524.652-1.524 1.456 0 .52.29 1 .762 1.26.472.26 1.052.26 1.524 0 .471-.26.762-.74.762-1.26 0-.804-.683-1.456-1.524-1.456zm0-7.278l-.154.005c-.744.047-1.116.45-1.116 1.208v3.64c0 .808.424 1.212 1.27 1.212l.154-.005c.744-.047 1.116-.45 1.116-1.208V4.296c0-.808-.424-1.213-1.27-1.213z\"/>')\n        // SVG 图标集：GitHub Style Alert | Note\n        + V_ui_symbol(_icoAlertNote_,\n            '<path d=\"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zm.25 7h-1a.75.75 0 0 0 0 1.5h.25v2h-.25a.75.75 0 1 0 0 1.5h2a.75.75 0 1 0 0-1.5H9V7.75A.75.75 0 0 0 8.25 7zM8 4a1 1 0 1 0 0 2 1 1 0 0 0 0-2z\"/>')\n        // SVG 图标集：GitHub Style Alert | Tip\n        + V_ui_symbol(_icoAlertTip_,\n            '<path d=\"M5.5 0C8.637 0 11 2.31 11 5.25c0 1.516-.701 2.5-1.328 3.259l-.268.319c-.207.245-.383.453-.541.681-.208.3-.33.595-.37.877a.76.76 0 0 1-.773.616L3.2 11a.748.748 0 0 1-.692-.614c-.04-.282-.163-.577-.37-.877a8.456 8.456 0 0 0-.354-.46l-.456-.54-.237-.296C.537 7.496 0 6.577 0 5.25 0 2.31 2.363 0 5.5 0zM3.25 12h4.5a.75.75 0 1 1 0 1.5h-4.5a.75.75 0 1 1 0-1.5zm.25 3.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75z\"/>')\n        // SVG 图标集：GitHub Style Alert | Important\n        + V_ui_symbol(_icoAlertImportant_,\n            '<path d=\"M14.25 0C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0 1 14.25 13H8.06l-2.573 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25v-9.5C0 .784.784 0 1.75 0h12.5zM8 9a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm0-7c-.552 0-1 .42-1 .938v4.124C7 7.58 7.448 8 8 8s1-.42 1-.938V2.938C9 2.42 8.552 2 8 2z\"/>')\n        // SVG 图标集：GitHub Style Alert | Warning\n        + V_ui_symbol(_icoAlertWarning_,\n            '<path d=\"M9.576.933l6.213 11.471c.296.547.28 1.207-.043 1.739a1.792 1.792 0 0 1-1.533.857H1.787c-.628 0-1.21-.326-1.533-.857a1.744 1.744 0 0 1-.043-1.739L6.424.934c.673-1.245 2.479-1.245 3.152 0zM8 11a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm0-7c-.552 0-1 .42-1 .938v4.125C7 9.58 7.448 10 8 10s1-.42 1-.938V4.939C9 4.42 8.552 4 8 4z\"/>')\n        // SVG 图标集：GitHub Style Alert | Caution\n        + V_ui_symbol(_icoAlertCaution_,\n            '<path d=\"M11 0c.199 0 .389.079.53.22l4.25 4.25c.141.14.22.331.22.53v6c0 .199-.08.39-.22.53l-4.25 4.25A.749.749 0 0 1 11 16H5a.749.749 0 0 1-.53-.22L.22 11.53A.749.749 0 0 1 0 11V5c0-.199.079-.389.22-.53L4.47.22C4.61.08 4.801 0 5 0h6zM8 11a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm0-7c-.552 0-1 .42-1 .938v4.125C7 9.58 7.448 10 8 10s1-.42 1-.938V4.939C9 4.42 8.552 4 8 4z\"/>')\n    + '</svg>';\n    return ui;\n}\n\n/**\n * 加载顶栏 UI 资源\n */\nfunction VLOOKui_loadTopbar() {\n    // ==================================================\n    // 页面工具栏\n    let ui = V_ui_div(_, _vToolbar_ + \" v-focus-serch\",\n            // 导航中心\n            V_ui_div(_, _vBtn_ + \" nav-center\", V_ui_svgIcon(_icoNavCenter_, 20, 18, _light_))\n            // 文库\n            + V_ui_div(_, _vBtn_ + \" doc-lib\", V_ui_svgIcon(_icoDocLib_, 20, 18, _light_))\n            // 打印\n            + V_ui_div(_, _vBtn_ + \" print\", V_ui_svgIcon(_icoPrint_, 20, 19, _light_))\n            + V_ui_div(_, \"v-btn-group prs\",\n                // 段落导航\n                V_ui_div2(_, _vBtn_ + \" paragraph-nav\", V_attr(_dataBtnGroup_, \"prs\"),\n                    V_ui_svgIcon(_icoParagraphNav_, 20, 20, _light_))\n                // 聚光灯\n                + V_ui_div2(_, _vBtn_ + \" spotlight\", V_attr(_dataBtnGroup_, \"prs\"),\n                    V_ui_svgIcon(_icoSpotlight_, 18, 20, _light_))\n                // 激光笔\n                + V_ui_div2(_, _vBtn_ + \" laser-pointer\", V_attr(_dataBtnGroup_, \"prs\"),\n                    V_ui_svgIcon(_icoLaserPointer_, 18, 20, _light_))\n            )\n            // 分隔符\n            + V_ui_div(_, _vToolbar_ + \"-spliter\")\n        );\n\n    // ==================================================\n    // 逐章导航栏\n    let classSvgChpNav = \"v-svg-chp-nav\";\n    ui += V_ui_div(_, _vChapterNav_ + \" v-focus-serch\",\n            // 上一章\n            V_ui_div(_, _vChapterNav_ + \"-prev\",\n                V_ui_svgIcon(_icoPrevChapter_, 10, 15, _light_, classSvgChpNav + \" left\")\n                + V_ui_div(_, _vChapterNav_ + \"-prev-text\")\n            )\n            // 文档标题\n            + V_ui_div(_, _vChapterNav_ + \"-doc-title\")\n            // 当前章节\n            + V_ui_div(_, _vChapterNav_ + \"-current\")\n            // 下一章\n            + V_ui_div(_, _vChapterNav_ + \"-next\",\n                V_ui_div(_, _vChapterNav_ + \"-next-text\", \"next\")\n                // + V_ui_genSvgIcon(\"icoNextChapter\", 10, 15, s_Light, classSvgChpNav + \" right\")\n                + V_ui_svgIcon(_icoPrevChapter_, 10, 15, _light_, classSvgChpNav + \" right\")\n            )\n        );\n\n    return ui;\n}\n\n/**\n * 加载导航中心 UI 资源\n */\nfunction VLOOKui_loadNavCenter() {\n    // --------------------------------------------------\n    // 导航中心\n    let classTocFilterResult = _vTocFilterResult_ + \" \",\n        ui = V_ui_div(_, \"v-nav-center \" + _vFloatCard_,\n            // --- 导航中心头部 ---\n            V_ui_div(_, \"v-nav-center-header\",\n                // 关键字搜索\n                V_ui_div(_, \"v-serch-by-keyword\")\n                // 分段控制器组件\n                + V_ui_div(_, \"v-segment toc\")\n                // 访问历史标题\n                + V_ui_div(_, \"v-toc-history-title\", \"访问历史\"))\n                // --- 导航中心内容区 ---\n                + V_ui_div(_, \"v-nav-center-body\",\n                    V_ui_div2(_, \"v-toc-catalog-body\", V_attr(_dataCatalogEmpty_, \"( Catalog is Empty )\"))\n                    + V_ui_div(_, classTocFilterResult + _catalog_)\n                    + V_ui_div(_, classTocFilterResult + _figure_)\n                    + V_ui_div(_, classTocFilterResult + _table_)\n                    + V_ui_div(_, classTocFilterResult + _media_)\n                    + V_ui_div(_, classTocFilterResult + _codeblock_)\n                    + V_ui_div(_, \"v-toc-history-result\")\n                )\n            + V_ui_div(_, \"v-nav-center-footer\")\n        );\n\n    // --------------------------------------------------\n    // 导航中心收起/展开引导把手\n    ui += V_ui_div(_, \"v-toc-handle\")\n\n    return ui;\n }\n\n/**\n * 加载共用的 UI 资源\n */\nfunction VLOOKui_loadCommon() {\n    // --------------------------------------------------\n    // 聚光灯\n    let ui = V_ui_div(_, \"v-spotlight\", V_ui_div(_, _));\n\n    // --------------------------------------------------\n    // 字体风格选择器\n    let classFontThemeOpt = _vFontThemeOpt_,\n        previewPath = \"https://madmaxchow.gitee.io/vlookres/pic/\";\n    ui += V_ui_div(_, \"v-font-theme\",\n            V_ui_div(_, classFontThemeOpt,\n                V_ui_img(_vFontThemeOpt_ + \"-local\", \"默认 Default\", previewPath + \"fs-local.png\", previewPath + \"fs-local@2x.png 2x\")\n                + V_ui_div(_, _vFontInfo_ + \"local\",\n                    V_ui_div(_, _vFontPackage_, _font_)\n                    + V_ui_div(_fontsetStatus_, _, _ready_)\n                )\n            )\n            + V_ui_div(_, classFontThemeOpt,\n                V_ui_img(_vFontThemeOpt_ + \"-book\", \"Book\", previewPath + \"fs-book.png\", previewPath + \"fs-book@2x.png 2x\")\n                + V_ui_div(_, _vFontInfo_ + \"book\",\n                    V_ui_div(_, _vFontPackage_, _font_)\n                    + V_ui_div(_fontsetStatus_, _, _ready_)\n                )\n            )\n            + V_ui_div(_, classFontThemeOpt,\n                V_ui_img(_vFontThemeOpt_ + \"-sans\", \"小清新 Sans\", previewPath + \"fs-sans.png\", previewPath + \"fs-sans@2x.png 2x\")\n                + V_ui_div(_, _vFontInfo_ + \"sans\",\n                    V_ui_div(_, _vFontPackage_, _font_)\n                    + V_ui_div(_fontsetStatus_, _, _notLoaded_)\n                )\n            )\n            + V_ui_div(_, classFontThemeOpt,\n                V_ui_img(_vFontThemeOpt_ + \"-serif\", \"文艺范 Serif\", previewPath + \"fs-serif.png\", previewPath + \"fs-serif@2x.png 2x\")\n                + V_ui_div(_, _vFontInfo_ + \"serif\",\n                    V_ui_div(_, _vFontPackage_, _font_)\n                    + V_ui_div(_fontsetStatus_, _, _notLoaded_)\n                )\n            )\n            + V_ui_div(_, \"v-font-theme-info\", \"Download Font Package\")\n        );\n\n    // --------------------------------------------------\n    // 插图导航面板\n    ui += V_ui_div(_, _vFigNav_ + ___ + _vBackdropBlurs_,\n            V_ui_div(_, _vFigContent_)\n            + V_ui_div(_, _vFigNav_ + \"-title\")\n            + V_ui_div(_, _vFigNav_ + \"-btns prev\", V_ui_svgIcon(_icoPrevFig_, 12, 54, _light_))\n            + V_ui_div(_, _vFigNav_ + \"-btns next\", V_ui_svgIcon(_icoPrevFig_, 12, 54, _light_))\n            + V_ui_div(_, \"v-btn-close-figure-nav\", V_ui_svgIcon(_icoClose_, 16, 16, _light_))\n        );\n\n    // --------------------------------------------------\n    // 脚注弹层\n    ui += V_ui_div(_, _vFontnotePn_,\n            V_ui_div(_, _vFontnotePn_ + \"-content\")\n            + V_ui_div(_, _vFontnotePn_ + \"-header\")\n            + V_ui_div(_, _vFontnotePn_ + \"-footer\", V_ui_a(_, _, \"查看所有脚注\"))\n            + V_ui_a(\"vk-footer-area\")\n        );\n\n    // --------------------------------------------------\n    // 复制内容的按钮\n    let classBtnAssistor = _vBtn_ + \" assistor \";\n    ui += V_ui_div(_, \"v-content-assistor \" + _vFloatCard_,\n            V_ui_div(_, classBtnAssistor + \"copy\", V_ui_svgIcon(_icoCopy_, 16, 16, _light_))\n            + V_ui_div(_, classBtnAssistor + \"open-in-figure-nav\", V_ui_svgIcon(_icoOpenInFigureNav_, 16, 14, _light_))\n            + V_ui_div(_, classBtnAssistor + \"table-cross\", V_ui_svgIcon(_icoTableX_, 16, 14, _light_))\n            + V_ui_div(_, classBtnAssistor + \"table-wrap\", V_ui_svgIcon(_icoTableWrap_, 16, 16, _light_))\n            + V_ui_div(_, classBtnAssistor + \"pic-in-pic\", V_ui_svgIcon(_icoPicInPic_, 18, 16, _light_))\n        );\n\n    // --------------------------------------------------\n    // 画中画容器\n    let classPinBtn = \"v-pip-btn zoom-out \" + _vFloatCard_ + ___;\n    ui += V_ui_div(_, \"v-pic-in-pic\",\n            V_ui_div(_, classPinBtn + \"zoom\", V_ui_svgIcon(_icoZoomIn_, 16, 16, _theme_))\n            + V_ui_div(_, classPinBtn + \"close\", V_ui_svgIcon(_icoResetInput_, 16, 16, _theme_))\n            + V_ui_div(_, \"v-content\")\n        );\n\n    // --------------------------------------------------\n    // 提示信息\n    ui += V_ui_div(_, _vToolTips_)\n        + V_ui_div(_, _vInfoTips_ + ___ + _vFloatCard_);\n\n    // --------------------------------------------------\n    // 文档更多内容遮罩栏\n    ui += V_ui_div(_, _vMoreDocContent_ + \"before cover\")\n        + V_ui_div(_, _vMoreDocContent_ + \"after\");\n\n    // --------------------------------------------------\n    // 表格阅读模式（十字光标）\n    let classTableCross = _vTblX_.xD() + ___;\n    ui += V_ui_div(_, classTableCross + _left_ + \"-up\", _nbsp_)\n        + V_ui_div(_, classTableCross + _right_ + \"-up\", _nbsp_)\n        + V_ui_div(_, classTableCross + _left_ + \"-down\", _nbsp_)\n        + V_ui_div(_, classTableCross + _right_ + \"-down\", _nbsp_);\n\n    // --------------------------------------------------\n    // 页面坏链检查结果及错误列表\n    ui += V_ui_div(_, _vLinkErrorList_ + ___ + _vFloatCard_,\n            V_ui_div(_, _vLinkErrorList_ + \"-header\")\n            + V_ui_div(_, _vLinkErrorList_ + \"-body\",\n                V_ui_div(_, _vLinkErrorList_ + \"-items\"))\n            + V_ui_div(_, _vLinkErrorList_ + \"-footer\")\n        )\n        + V_ui_div(_, _vStatusBar_ + ___ + _vFloatCard_ + \"2 v-focus-serch \" + _vBackdropBlurs_,\n            V_ui_div(_, _vDocInfo_, \"- - / - -\")\n            + V_ui_div(_, _vStsFontTheme_, V_ui_svgIcon(_icoFontTheme_, 20, 18, _theme_))\n            + V_ui_div(_, _vColorScheme_, V_ui_svgIcon(_icoDarkMode_, 20, 20, _theme_))\n            + V_ui_div(_, _vLinkChkResult_, V_ui_svgIcon(_icoLoading_, 16, 16, _theme_))\n        );\n\n    // --------------------------------------------------\n    //统计数据上报中转页面\n    ui += V_ui_iframe(_vlookStatGitee_);\n    ui += V_ui_div(_, _vDocLib_ + ___ + _vFloatCard_, V_ui_iframe(_vlookDocLib_));\n    return ui;\n}\n\n// ==================== 加载与初始化 VLOOK ==================== //\n\n/**\n * 文档加载完成后执行主流程\n */\n$(function() { // 等价于 $(document).ready()\n    // ----------------------------------------\n    // 初始化启动参数\n    V_params_init();\n\n    // 判断文档类型\n    if (V_util_getParamVal(\"type\") === _mini_) {\n        V_pageMode = _mini_;\n    }\n\n    // ----------------------------------------\n    INFO(\"- Ready\");\n    gTimes = iStopwatch.ed(_4space_);\n    // 打印环境信息\n    env.print();\n\n    iStopwatch.st();\n    INFO(\"=== Load VLOOK ===\");\n\n    // ----------------------------------------\n    // 初始化语言\n    V_lang_init();\n\n    // to-do\n    // $('meta[content^=\"${\"]').remove();\n\n    // ----------------------------------------\n    // 加载生成 VLOOK 界面\n    loadVLOOKui();\n\n    // ----------------------------------------\n    // 动效初始化\n    iStopwatch.st(\"* Effect\");\n    let effect = V_util_getParamVal(_effect_);\n    V_ui_effect = (effect === gUndefined) ? 2 : JS_parseInt(effect);\n    V_ui_effect = env.device.mobile ? 0 : V_ui_effect;\n    LOG(\"    └ Level [ \" + V_ui_effect + \" ]\");\n    V_ui_initEffectLevel();\n    iStopwatch.ed(_cost_);\n\n    // 先隐藏文档原始内容，减少页面重绘\n    VOM_doc().hide();\n\n    // ----------------------------------------\n    // 初始化欢迎页\n    iStopwatch.st(\"* Welcome Page Init\");\n    let wsMode = V_util_getParamVal(\"ws\");\n    wsMode = (wsMode === gUndefined) ? _auto_ : wsMode;\n    LOG(\"    └ mode: \" + wsMode);\n    WelcomePage_init(wsMode);\n\n    // 文档不符合 VLOOK 规范则不加载 VLOOK 插件\n    if (!V_checkSpec()) {\n        $(\".v-welcome-page\").hide();\n        $(\".\" + _vToolbar_).hide();\n        $(\".\" + _vBtn_).hide();\n        return;\n    }\n    iStopwatch.ed(_cost_);\n\n    // ----------------------------------------\n    // 初始化关键组件实例\n    iStopwatch.st(\"* Intance\");\n    V_init();\n    iStopwatch.ed(_cost_);\n\n    // ----------------------------------------\n    // 获取当前文档的 style 对象\n    gStyle = document.styleSheets[0];//$(\"head\").find(\"style\").first().get(0).sheet;\n    // $.each(gStyle.cssRules, function(i, rule) {\n    //     // 检查是否是要删除的规则\n    //     // ERROR(222, rule.selectorText !== gUndefined && rule.selectorText.indexOf(\"\\.expander\"));\n    //     if (rule.selectorText !== gUndefined && rule.selectorText.indexOf(\"\\.expander\\.id-\") > 0) {\n    //         ERROR(111, rule.selectorText);\n    //         // sheet.deleteRule(i);\n    //         // 如果只希望删除第一个匹配的规则，可以使用 return false; 来跳出循环\n    //         // return false;\n    //     }\n    // });\n\n    // ----------------------------------------\n    // 延后加载 VLOOK 插件，避免欢迎页的 UI 刷新阻塞\n    // 独立线程进行处理\n    setTimeout(loadVLOOKplugin, 100);\n});\n\n/**\n * 字体加载完成后执行的主流程\n */\ndocument.fonts.ready.then(function () {\n    // 字体加载完成后的逻辑\n    LOG(\"!!! ALL FONT READY !!!\");\n});\n\n/**\n * 加载 VLOOK UI 资源\n */\nfunction loadVLOOKui() {\n    $(\".v-vlook-inside\").af(VLOOKui_loadWelcomePage()\n        + VLOOKui_loadIconSet()\n        + VLOOKui_loadTopbar()\n        + VLOOKui_loadNavCenter()\n        + VLOOKui_loadCommon());\n}\n\n/**\n * 加载 VLOOK 插件\n */\nfunction loadVLOOKplugin() {\n    // ----------------------------------------\n    // 推荐的浏览器类型检测\n    iStopwatch.st(\"* Browser Check\");\n    if (!env.browser.Chrome && !env.browser.Edge && !env.browser.Firefox && !env.browser.Safari && !env.core.webkit) {\n        ALERT([\n            \"为获得最佳兼容性，建议使用 Chrome / Firefox / Edge 浏览器\",\n            \"For best compatibility, it is recommended to use Chrome / Firefox / Edge browser\"\n        ][V_lang_id]);\n    }\n\n    iStopwatch.ed(_4space_);\n\n    // ========================================\n    // 初始化 VLOOK 核心模块\n    V_initKernel();\n\n    // ----------------------------------------\n    // 修改主题默认的圆角风格\n    let newRadius = V_util_getParamVal(\"radius\");\n    if (newRadius === \"small\" || newRadius === \"big\") {\n        // 批量修改圆角相关的 CSS 变量为指定的新值\n        V_util_changeCssVarSet([\n            _V_R_B_,\n            _V_R_S_,\n            _V_R_T_,\n            _V_R_Tag_,\n            _V_R_C_\n        ], newRadius);\n    }\n    else if (newRadius === _none_) {\n        // 批量修改圆角相关的 CSS 变量为 0\n        V_util_changeCssVarSet([\n            _V_R_B_,\n            _V_R_S_,\n            _V_R_T_,\n            _V_R_Tag_,\n            _V_R_C_\n        ]);\n    }\n\n    // ----------------------------------------\n    // 统一同组的分栏引用块的高度\n    __fork(\"Quote Unite Columns Height\", function () {\n        ExtQuote_uniteColumnsHeight();\n    }, 1000);\n\n    // ----------------------------------------\n    // 段落导航初始化\n    __fork(\"Paragraph Nav\", function () {\n        ParagraphNav.init();\n    }, 100);\n\n    // ----------------------------------------\n    // 完成初始化后恢复显示\n    iStopwatch.st(\"* Write Ready\");\n    JQ_addClass(VOM_doc(), \"v-load-done v-focus-serch\");\n    iStopwatch.ed(_4space_);\n\n    // ----------------------------------------\n    // 初始化外部链接\n    __fork(\"External Link\", function () {\n        V_doc_link_adjustExternal();\n    }, 100);\n\n    // ----------------------------------------\n    // 初始化全局热键\n    __fork(\"Hotkey\", function () {\n        V_ui_initHotkey();\n    }, 150);\n\n    // ----------------------------------------\n    // 初始化须在页面 body 显示后才能执行的部分\n    __fork(\"Restyle\", function () {\n        V_initRestyle();\n    }, 200);\n\n    // ----------------------------------------\n    // 初始化，并安装自动适配器，实时跟随系统 Color Scheme 的变化\n    __fork(\"Color Scheme\", function () {\n        ColorScheme.scheme = V_util_getVarVal(_varColorScheme_).x();\n        INFO(\"    System [ \" + ColorScheme.scheme + \" ]\");\n        ColorScheme.init();\n        // 判断当前文档是否强制指定了颜色方案\n        let colorScheme = V_util_getParamVal(\"cs\");\n        if (colorScheme === _light_ || colorScheme === _dark_) {\n            INFO(\"    Force use [ \" + colorScheme + \" ]\");\n            ColorScheme.tg(colorScheme);\n        }\n        // 若系统当前颜色方案是 dark，则强制同步\n        else if (ColorScheme.scheme === _dark_)\n            ColorScheme.tg(ColorScheme.scheme);\n    }, 300);\n\n    // ----------------------------------------\n    // 初始化内容助手\n    // 须隐藏文档原始内容前执行，避免部分样式失效\n    __fork(\"Content Assistor\", function () {\n        ContentAssistor_init();\n        PicInPic_init();\n\n        // 设置表格阅读模式的开关状态（不指定则默认关闭）\n        if (V_util_getParamVal(\"tr\") === _on_)\n            TableCross_toggle();\n    }, 300);\n\n    // ----------------------------------------\n    // URL 带锚点的处理\n    __fork(\"Redirect to Hash\", function () {\n        let redirect = V_util_redirectTo();\n        if (VOM_cover() === gUndefined && !redirect) {\n            iNavCenter.catalog.currentHeaderIndex = 0;\n            V_ui_adjustAll();\n            ExtQuote_uniteColumnsHeight();\n        }\n    }, 450);\n\n    // ----------------------------------------\n    // 字数统计\n    __fork(\"Words count\", function () {\n        DocInfo_countWord();\n    }, 500);\n    // }\n\n    // ----------------------------------------\n    // 更新欢迎页\n    iStopwatch.st();\n    INFO(\"* Welcome Page Done (\" + WelcomePage_mode + \")\");\n    WelcomePage_done();\n    iStopwatch.ed(_cost_);\n\n    // ----------------------------------------\n    // VLOOK 加载完成\n    gTotalTimes = iStopwatch.stop() - 200;\n    INFO(\"=== !!! MAIN PROCESS DONE !!! ===\");\n    INFO(\"TOTAL COST   ⏱ \" + gTotalTimes + \" ms\");\n    INFO(\"    ├ HTML   ⏱ \" + gTimes + \" ms\");\n    INFO(\"    └ VLOOK  ⏱ \" + (gTotalTimes - gTimes) + \" ms\");\n\n    // ----------------------------------------\n    // 提交统计数据\n    // __fork(\"Push Stat\", function () {\n        V_report_submit(gTotalTimes - gTimes);\n    // }, 350);\n\n    /**\n     * 创建独立线程执行\n     * @param msg 线程信息\n     * @param callback 线程执行的回调函数\n     * @param delay 0 - 立即时间，>0 - 延时执行（毫秒）\n     */\n    function __fork(msg, callback, delay) {\n        setTimeout(function () {\n            let sw = new Stopwatch();\n            sw.st(\"* thread * [\" + msg + \"]\");\n            typeof(callback) === _function_ && callback();\n            sw.ed(_4space_);\n        }, delay);\n    }\n}\n"],"mappings":"yBA0fA,SAASA,IACLC,QAAQC,IAAIC,MAAMF,QAASG,UAC/B,CAEA,SAASC,IACLJ,QAAQK,KAAKH,MAAMF,QAASG,UAChC,CAEA,SAASG,IACLN,QAAQO,KAAKL,MAAMF,QAASG,UAChC,CAEA,SAASK,IACLR,QAAQS,MAAMP,MAAMF,QAASG,UACjC,CAEA,SAASO,KAASL,GACVM,KACAH,EAAM,kBACNF,KAAQD,GAEhB,CAEA,SAASO,EAAMC,GACXC,MAAMD,EACV,CAGA,SAASE,IACL,OAAOC,OAAOC,SAASC,IAC3B,CAGA,SAASC,EAAeC,GACpBJ,OAAOC,SAASC,KAAOE,CAC3B,CAGA,SAASC,IACL,OAAOL,OAAOC,SAASK,IAC3B,CAIA,SAASC,EAAYC,EAAQC,GACrBD,IAAWE,IACXF,EAAOG,SAASF,EACxB,CAEA,SAASG,EAAeJ,EAAQC,GACxBD,IAAWE,IACXF,EAAOK,YAAYJ,EAC3B,CAEA,SAASK,EAAcN,EAAQO,GACvBP,IAAWE,IACXF,EAAOQ,WAAWD,EAC1B,CAEA,SAASE,EAAiBT,EAAQU,EAAcC,GACxCX,IAAWE,KACXF,EAAOK,YAAYK,GACnBV,EAAOG,SAASQ,GAExB,CAEA,SAASC,EAAUZ,GACXA,IAAWE,IACXF,EAAOa,QACf,CA+NA,SAASC,EAAYlB,GACjB,OAAOmB,SAASnB,EACpB,CAGA,SAASoB,EAAcpB,GACnB,OAAOqB,WAAWrB,EACtB,CAGA,SAASsB,EAAatB,GAClB,OAAOuB,KAAKC,MAAMxB,EACtB,CAGA,SAASyB,EAAYzB,GACjB,OAAOuB,KAAKG,KAAK1B,EACrB,CAGA,SAAS2B,EAAa3B,GAClB,OAAO4B,UAAU5B,EACrB,CA4BA,SAAS6B,IAQL,OAPIC,KAAUxB,KACVwB,GAAQC,EAAE,QACW,IAAjBD,GAAME,SACNF,GAAQxB,GACRlB,EAAM6C,GAAW,gBAGlBH,EACX,CAIA,SAASI,IAQL,OAPIC,KAAU7B,KACV6B,GAAQJ,EAAE,QACW,IAAjBI,GAAMH,SACNG,GAAQ7B,GACRlB,EAAM6C,GAAW,gBAGlBE,EACX,CAMA,SAASC,IAQL,OAPIC,KAAU/B,KACV+B,GAAQN,EAAEO,IACW,IAAjBD,GAAML,SACNK,GAAQ/B,GACRlB,EAAM6C,GAAW,eAGlBI,EACX,CAIA,SAASE,IASL,OARIC,KAAUlC,KACVkC,GAAQT,EAAEO,GAAU,qBAAuBG,GAAe,IAAMC,GAAO,KAAOJ,GAAU,IAAMI,GAAOD,IAChF,IAAjBD,GAAMR,SACNQ,GAAQlC,GACJqC,MAAmBrC,IACnBpB,EAAK+C,GAAW,4BAA8BtC,OAGnD6C,EACX,CAIA,SAASI,IAEL,GAAIC,KAAWvC,GAAY,CACvB,IAAIwC,EAAMf,EAAE,IAAMgB,IAClB,GAAID,IAAQxC,GAAY,CACpB,IAAI0C,EAAYF,EAAIG,KAChBC,EACY,OADFC,EAAkBH,KAE5BH,GAASG,EACzB,MAEYH,GAASvC,GACTpB,EAAK+C,GAAW,+BAE5B,CACI,OAAOY,EACX,CAIA,SAASF,IAQL,OAPIS,KAAW9C,KACX8C,GAASrB,EAAE,IAAMsB,IACK,IAAlBD,GAAOpB,SACPoB,GAAS9C,GACTpB,EAAK+C,GAAW,YAActC,OAG/ByD,EACX,CAqSA,SAASE,IACLC,GAAeC,EAAyB7D,KACxC,IAAI8D,EAAKC,EAAqB,eAC9BC,GAAgBH,EAAyB,aAAeC,IAAOnD,GAAa,IAAMmD,EAAKG,IAC3F,CAoBA,SAASC,IACL,OAAO9B,EAAE+B,UAAUC,EAAEC,GACzB,CAOA,SAASN,EAAqBO,GAC1B,IAAIC,EAAUnC,EAAEoC,GAASC,GAAQC,GAAQJ,IAAWF,EAAEO,IACtD,OAASJ,IAAY5D,IAAiC,IAAnB4D,EAAQlC,QAAgBkC,IAAY,KAAOD,EAAW,IAAO3D,GAAa4D,CACjH,CAWA,SAASK,EAAmBC,GACxB,IAAIC,EAAIlB,GAAaiB,GAIrB,OAFIC,IAAMnE,KACNmE,EAAId,GAAca,IACfC,CACX,CAMA,SAASjB,EAAyBkB,GAC9B,IAAIC,EAAID,EAAEE,EAAE,KAGRC,GAFJH,EAAIC,GAAK,EAAID,EAAEI,EAAE,EAAGH,GAAKD,GAEdE,EAAE,KACTG,EAAKL,EAAEI,EAAED,GAAM,EAAIA,EAAK,EAAIH,EAAE1C,OAAQ0C,EAAE1C,QACxCgD,EAAI,GACJC,EAAMF,EAAG/C,OAAS,EAAK+C,EAAGG,GAAG,KAAO,GACpCC,EAAO,KACPC,EAAIH,EAAGjD,OAGX,IAAK,IAAI4C,EAAI,EAAGA,EAAIQ,EAAGR,IACnBO,EAAOF,EAAGL,GAAGM,GAAG,KAChBF,EAAEK,mBAAmBF,EAAK,KAAOE,mBAAmBF,EAAK,IAE7D,OAAOH,CACX,CAMA,SAASM,EAAkBZ,GACvB,IAAIE,EAAIF,EAAEE,EAAE,KACZ,OAAOA,GAAK,EAAIF,EAAEI,EAAEF,EAAGF,EAAE1C,QAAU4B,EACvC,CAMA,SAAS2B,EAAyBb,GAC9B,IAAIE,EAAIF,EAAEE,EAAE,KACZ,OAAOA,GAAK,EAAIF,EAAEI,EAAEF,EAAI,EAAGF,EAAE1C,QAAU4B,EAC3C,CAMA,SAAS4B,EAAyBd,GAC9B,IAAIE,EAAIF,EAAEE,EAAE,KACZ,OAAOA,GAAK,EAAIF,EAAEI,EAAE,EAAGF,GAAKF,CAChC,CAMA,SAASe,EAAqCf,GAC1C,IAAIgB,EAAWhB,EAAEE,EAAE,KACnB,GAAIc,GAAY,EACZhB,EAAIA,EAAEI,EAAE,EAAGY,OACV,CACD,IAAIC,EAAUjB,EAAEE,EAAE,KACde,GAAW,IACXjB,EAAIA,EAAEI,EAAE,EAAGa,GACvB,CACI,OAAOjB,CACX,CAMA,SAASkB,EAAelB,GACpB,IAAImB,EAAKnB,EAAEE,EAAE,KACTkB,EAAKpB,EAAEI,EAAE,EAAGe,GAAIE,YAAY,KAC5BC,GAAa,IAARF,EAAY,EAAIA,EACzB,OAAOpB,EAAEI,EAAE,EAAGkB,EAAK,EACvB,CAwBA,SAASC,EAAqBC,GAC1B,OAAoB,IAAhBA,EAAKlE,OACE4B,GACJsC,EAAKC,EAAE,KAAM,QACfA,EAAE,KAAM,OACjB,CAmBA,SAASC,EAAqBF,GAC1B,OAAoB,IAAhBA,EAAKlE,OACE4B,GACJsC,EAAKC,EAAE,KAAMvC,IACfuC,EAAE,KAAMvC,GACjB,CAQA,SAASyC,EAAoBH,EAAMI,GA2B/B,SAASC,EAASC,EAAKF,EAAOG,GAC1B,IAAIC,EAAM,EACV,KAAOJ,EAAQ,GACPG,EAAI7B,EAAE4B,EAAIE,KAAS,EACnBJ,GAAS,EAETA,IACJI,IAEJ,OAAOF,EAAI1B,EAAE,EAAG4B,EACxB,CASI,SAASC,EAAYH,EAAKF,EAAOG,GAC7B,IAAIG,EAAQ,EACRC,EAAML,EAAIxE,OAAS,EACvB,KAAOsE,EAAQ,GACPG,EAAI7B,EAAE4B,EAAIK,EAAMD,KAAW,EAC3BN,GAAS,EAETA,IACJM,IAEJ,OAAOJ,EAAI1B,EAAE+B,EAAM,EAAID,EAC/B,CApDI,IAHAV,EAAOA,EAAKC,EAAE,OAAQW,KAGb9E,QAAkB,EAARsE,EACf,OAAOL,EAAqBC,GAGhC,IAAIvB,EAAIuB,EAAKpB,EAAE,EAAGwB,GAAOS,IACrBC,EAAId,EAAKpB,EAAEoB,EAAKlE,OAASsE,EAAOJ,EAAKlE,QAAQ+E,IAE7CE,EAAYtC,EAAElF,EAAE,2BAChByH,EAAYF,EAAEvH,EAAE,2BA8CpB,OA7CiB,MAAbwH,GAAqBA,EAAUjF,OAAS,IACxC2C,EAAI4B,EAAS5B,EAAG2B,EAAOW,IACV,MAAbC,GAAqBA,EAAUlF,OAAS,IACxCgF,EAAIL,EAAYK,EAAGV,EAAOY,IA0CvBjB,EAAqBtB,EAAI,UAAYqC,EAChD,CAMA,SAASG,IACL,IAAIjH,EAAOD,IAEX,OAAIC,EAAK8B,OAAS,GAAK9B,IAAS,IAAMmD,IAClC1E,EAAI,wBAA0BgD,EAAazB,IAC3CH,EAAe,KACfA,EAAeG,GAEfkH,YAAW,WACPC,GAAqBnH,EACjC,GAAW,KACIoH,IAEJC,EACX,CAKA,SAASC,EAAgBtH,GACrB,IAAIuH,EAAO9F,EAAa1B,KACxBF,EAAeG,GAEXuH,IAAS9F,EAAazB,IACtBmH,GAAqBnH,EAC7B,CAMA,SAASwH,EAAiBC,GACtB,OAAOC,iBAAiB9D,SAAS+D,iBAAiBC,iBAAiBH,EACvE,CAOA,SAASI,EAAiBJ,EAAS3H,GAC/B8D,SAAS+D,gBAAgBG,MAAMC,YAAYN,EAAS3H,EACxD,CAIA,SAASkI,IACL,OAAOR,EAAiB,kBAAkBS,GAAG,IAAKvE,IAAGmD,GACzD,CAOA,SAASqB,EAAuBC,EAAQC,GAEpC,IAAIC,EAAM,GACV,GAAID,IAAShI,GACT,IAAK,IAAIsE,EAAI,EAAGiC,EAAMwB,EAAOrG,OAAQ4C,EAAIiC,EAAKjC,IAC1C2D,EAAIC,KAAKd,EAAiBW,EAAOzD,GAAK,IAAM0D,IAIpD,IAAK,IAAI1D,EAAI,EAAGiC,EAAMwB,EAAOrG,OAAQ4C,EAAIiC,EAAKjC,IAEtCmD,EAAiBM,EAAOzD,GADxB0D,IAAShI,GACmBiI,EAAI3D,GAEJ,EAExC,CAMA,SAASzB,EAAkB/C,GACvB,IAAI8C,EAAW9C,IAAWE,GAAasD,GAAIxD,EAAOqI,KAAKC,IACvD,OAAQxF,IAAY5C,GAAasD,GAAIV,EAAQkC,GACjD,CAMA,SAASuD,EAAqBzC,GAM1B,SAAS0C,EAAe1C,GACpB,OAAQA,EAAKtB,EAAE,MAAQ,CAC/B,CAPI,IAAIiE,EACAC,EACJ,OAFUF,EAAe1C,GAAQ,MAAQ,KAE5BA,GADH0C,EAAe1C,GAAQ,MAAQ,IAO7C,CAYA,SAAS6C,EAAuBvC,GAC5B,OAAOA,EAAIL,EAAE,kCAAmC,MACpD,CAOA,SAAS6C,EAAqBxC,GAC1B,OAAOA,EAAIL,EAAE,UAAW,IAAM8C,GAAUC,GAAwBtF,GAAG,MAEvE,CAOA,SAASuF,EAAqB3C,GAC1B,OAAOA,EAAIL,EAAE,KAAM8C,GAAUG,GAAqBxF,GAAG,MAAQ,IACjE,CASA,SAASyF,EAAsB7C,GAQ3B,OAHAA,GAFAA,EAAMA,EAAIL,EAAEmD,GAAsB,OAExBnD,EAAEoD,GAAuB,QAGxBpD,EAAE,sBAAuB,IAAM8C,GAAUO,GAAsB5F,GAAG,MACjF,CAKA,SAAS6F,IACL,IAAIhF,EAAI6C,GACJoC,EAAI,CACA,0BACA,uEACEC,IAqBV,OAlBkD,IAA9CzH,IAAW6B,EAAE6F,IAAShF,EAAE,mBACxB8E,GAAK,CACD,8BACA,wDACEC,IACNlF,EAAI8C,IAIRsC,GAAO9H,EAAE,IAAM+H,IACK,IAAhBD,GAAK7H,SACL0H,GAAK,CACD,iCACA,0DACEC,KAILlF,EAWE6C,IAVHoC,GAAK,CACD,cACA,8CACFC,IAAa,6CAEfnK,EAAMkK,GACCnC,GAKf,CAOA,SAASwC,IACL,IAAIC,EAAK,IAAIC,GACbD,EAAGE,KACHC,GAAa,IAAIC,GAAU,IAAIC,GAAOC,GAAaC,IAAW7C,EAAiB,gBAC3EyC,KAAe5C,GACf/H,EAAMyC,GAAW,aAEjBkI,GAAWK,KAAKjG,EAAmB,OACvCyF,EAAGS,GAAG,uBAKNT,EAAGE,KACHQ,GAAa,IAAIC,GAAU,IAAK,IAAIC,GAAWC,KAC3CH,KAAenD,IACf/H,EAAMyC,GAAW,gBACrB+H,EAAGS,GAAG,qBAGNK,GAAgB,IAAIC,GAAa,IAAIH,GAAW,gBAC5CE,KAAkBvD,IAClB/H,EAAMyC,GAAW,WACrB+H,EAAGS,GAAG,wBAGNT,EAAGE,KACH,IAAIc,EAAKzG,EAAmB,MAC5B0G,GAAyBD,IAAOE,GAE5BF,IAAO1K,IAAc0K,IAAOG,IAAQH,IAAOE,KAC3CE,GAA+BJ,EAAGpG,EAAEyG,KAAY,EAChDC,GAAgCN,EAAGpG,EAAE2G,KAAa,EAClDC,GAAmCR,EAAGpG,EAAE6G,KAAgB,GAE5DC,KACA1B,EAAGS,GAAG,2BAGNkB,KAGAC,GAAY,IAAIC,GAAS,IAAIxB,GAAO,YAAaE,KACxB,IAArBqB,GAAU5J,QACVxC,EAAMyC,GAAW,eAGrB+H,EAAGE,KACH,IAAI4B,EAAUvH,EAAmB,MACjCwH,GAAa,IAAIC,GAAU,IAAI3B,GAAO4B,GAAaC,GAAQ5E,IAAQwE,GAC/DC,KAAexE,IACf/H,EAAMyC,GAAW,gBACrB+H,EAAGS,GAAG,sBAGNT,EAAGE,KACHiC,GAAc,IAAIC,GACdD,KAAgB5E,GAChB/H,EAAMyC,GAAW,cAGjB8J,GAAWM,OAASF,GAExBnC,EAAGS,GAAG,uBAGNT,EAAGE,KACHoC,GAAW,IAAIC,GAAQR,IACnBO,KAAa/E,GACb/H,EAAMyC,GAAW,UAGjBqK,GAASE,IAAIP,IAAa,WACtBF,GAAWU,IACvB,IAGQH,GAASE,IAAIE,IAAU,WACfX,GAAWY,OAAOC,QAAU,GACvBb,GAAWc,QACZd,GAAWU,KACfV,GAAWe,QAAQC,MAAMC,QACzBjB,GAAWe,QAAQC,MAAME,IAAIC,IAC7BnB,GAAWe,QAAQC,MAAMI,UAGzBpB,GAAWY,OAAOS,KAAKxJ,GAAGA,GAC1C,IAGQ0I,GAASe,WAAWC,IAGpBhB,GAASE,IAAIe,IAAgB,WACzB3B,GAAU4B,OAAO,CACb,cAAgBC,GAAY,gBAC5B,qBAAuBA,GAAY,gDACrC9D,IAAY,IAAOrC,GACjC,IAGQgF,GAASE,IAAI3B,IAAa,WACtBC,GAAc4C,OACVhD,GAAW+B,MACXkB,GAAcD,MAC9B,IAGQpB,GAASE,IAAIoB,IAAgB,WACzBlD,GAAWgD,OACP5C,GAAc2B,MACdkB,GAAcD,MAC9B,IAGQpB,GAASE,IAAIqB,IAAS,WAClBC,IACZ,IAGQ/B,GAAWgC,QAAUzB,GACrB5B,GAAWqD,QAAUzB,GACrBxB,GAAciD,QAAUzB,GAGxBnC,GAAW6D,WAAW1B,GAAS2B,KAAK3D,MAExCN,EAAGS,GAAG,mBAGNT,EAAGE,KACHgE,GAAU,IAAIC,GACVD,KAAY3G,IACZ/H,EAAMyC,GAAW,aACrB+H,EAAGS,GAAG,sBAGNT,EAAGE,KAGHkE,KAGAC,GAAY,IAAIC,GAAS,IAAIjE,GAAO,YAAakE,GAAUjH,KACvD+G,KAAc9G,IACd/H,EAAMyC,GAAW,eAGrBuM,KAEAC,KACAC,KAEAC,GAAiB,IAAItE,GAAOuE,GAAeC,GAASvH,KAGpDwH,KACAC,GAAc,WAAYC,IAC1BD,GAAczE,GAAa2E,IAC3BF,GAAc,eAAgBG,IAC9BH,GAAcH,GAAeO,IAE7BnF,EAAGS,GAAG,eACV,CAKA,SAAS2E,IAGLC,GAAWnF,GAAG,mBACd,IAAIoF,EAAQvN,EAAE,IAAMwN,GAAYC,IAAS9F,EAAE+F,IACvCC,EAAQ3N,EAAE,IAAMwN,GAAYI,IAAQjG,EAAE+F,IAO1C,GANA1N,EAAE,QAAQ6N,GAAG,wBAA0BC,GAAYL,GAAU,KAAOM,GAAOC,GAAST,EAAMxK,EAAE,EAAGwK,EAAMtN,OAAS,IAAjG,8CACmB6N,GAAYF,GAAS,KAAOG,GAAOC,GAAQL,EAAM5K,EAAE,EAAG4K,EAAM1N,OAAS,IAAM,0BAC3GqN,GAAW5E,GAAGuF,IAIVzN,MAAgBjC,GAAY,CAC5B,IAAI2P,EAAWrM,GAEXsM,KAAeC,KACfF,EAAW,QACX9P,EAAYiQ,GAA0BD,KAG1C/N,IAAUiO,GAAGC,GAASjN,GAAgBkN,GAAS,QAAUN,EAAUpM,KAC3E,CAIIwL,GAAWnF,GAAG,aACdsG,KACAnB,GAAW5E,GAAGuF,IAIVzL,EAAmB,aAAe4G,KAClCsF,GAA+BnJ,IAInC+H,GAAWnF,GAAG,aACdwG,KACArB,GAAW5E,GAAGuF,IAIdX,GAAWnF,GAAG,aACdyG,KACAtB,GAAW5E,GAAGuF,IAKdX,GAAWnF,GAAG,aACd0G,KACAC,KACAxB,GAAW5E,GAAGuF,IAIdX,GAAWnF,GAAG,cACd4G,KACAzB,GAAW5E,GAAGsG,IAId1B,GAAWnF,GAAG,aACd8G,KACA3B,GAAW5E,GAAGsG,IAEdE,KAEAC,KAIA7B,GAAWnF,GAAG,kBACdiH,KACA9B,GAAW5E,GAAGuF,IAMdX,GAAWnF,GAAG,6BACdkH,KACAC,KACAC,KACAC,KACAlC,GAAW5E,GAAGuF,IAYdX,GAAWnF,GAAG,uBACdsH,KACAC,KACApC,GAAW5E,GAAGuF,IAKdX,GAAWnF,GAAG,iBACdoE,GAAS9D,OACT6E,GAAW5E,GAAGuF,IAIdX,GAAWnF,GAAG,gBACdwH,KACArC,GAAW5E,GAAGuF,IAGd2B,KAIAC,KAIAvC,GAAWnF,GAAG,6DACV8B,GAAUxB,SACLqH,GAAIC,OAAOC,QACZhG,GAAWiG,aAEfjG,GAAWkG,SACX9F,GAAY8F,SACZ3F,GAAS2F,SACTC,KAGAnG,GAAWoG,QAAQC,mBACnBjG,GAAYiG,mBACZlE,GAAQkE,oBAEZ/C,GAAW5E,GAAGuF,IAIdqC,KAIKtG,GAAWoG,QAAQG,gBAChBvG,GAAWwG,OAAOD,gBAClBvG,GAAWyG,MAAMF,gBACjBvG,GAAW0G,MAAMH,gBACjBvG,GAAW2G,UAAUJ,iBACrBvG,GAAWD,QAAU,UAI7BuD,GAAWnF,GAAG,mBAEdpG,SAAS6O,iBAAiB,aAAa,SAAUC,GAC7ClI,GAAWmI,QAAQD,GACnB7G,GAAW+G,KAAKF,EACxB,IAMI7Q,EAAE+B,UAAUiP,KAAKC,IAAG,SAAUJ,GAC1BK,IACR,IAGInP,SAAS6O,iBAAiB,cAAc,SAAUC,GAE9C,OAAO,CACf,IAAO,GAGH7Q,EAAE+B,UAAUoP,GAAG,UAAU,WACrB,IAAIC,GAAc,IAAIC,MAAOC,UACzBC,EAAYvR,EAAE+B,UAAUwP,YACxBC,EAAehM,GACfiM,EAAYzR,EAAE+B,UAAUa,KAGxB2O,EAAY,IACTA,EAAaE,EAAY,IACzBL,EAAcM,GAA0B,MACvCC,GAAuBJ,IAI3BA,EAAY,IACTA,EAAaE,EAAY,KACxBD,EAAgBJ,EAAcM,GAA2B,MACzDF,GAAgBhS,KAAKoS,IAAIL,EAAYM,IAAwB,OAE7DC,GAAoBV,EAAapR,EAAE+B,UAAUwP,aAE7CQ,MAIR/H,GAAWoG,QAAQ4B,YAAYT,EACvC,IAGIvR,EAAEnC,QAAQsT,GAAG,UAAU,WACnBD,KACAlH,GAAWoG,QAAQ4B,cACnBD,KACAE,IACR,IAGIpU,OAAOqU,cAAgB,WACf/D,KAAeC,IAGf+D,KAAiBC,IACjB3U,EAAM,CACF,sCACA,4IACFmK,IACd,EAEI/J,OAAOwU,aAAe,WACdlE,KAAeC,IAEnBkE,IACR,EAIItS,EAAEnC,QAAQsT,GAAG,cAAc,SAASN,GAChC,IAAIjO,EAAI1E,IACJqU,EAAS3P,EAAEG,EAAE,EAAGH,EAAE3C,QACtB,GAA0B,IAAtBsS,EAAOvN,IAAI/E,OACX,OAEJ+J,GAAWwI,QAAQ/H,IAAI7H,GAGvB,IAAI6P,EAAOzS,EAAE,IAAMJ,EAAa2S,GAAU,MAAQlQ,GAAQC,GAAQiQ,IAClE,GAAIE,IAASlU,IAAckU,EAAKC,MAAQnU,IAA4B,IAAdkU,EAAKE,KAAY,CACnE,IAAIC,EAAYH,EAAKI,QAAQC,IAE7B,GAAIF,EAAU3S,OAAS,GAAK2S,EAAUG,WAAY,CAC9C,IAAIC,EAAKJ,EAAU1R,KAAK+R,EAAE,IAAMC,IAC5BF,EAAG/S,OAAS,IACZ+S,EAAGG,GAAGC,IACNpV,EAAe4E,GAEnC,CACA,CAGyB,MAAbyQ,IAAqBA,KAAczQ,GAEnCyC,YAAW,WACPC,GAAqB1F,EAAa2S,GAClD,GAAezC,GAAIwD,QAAQC,QAAU,IAAM,GAEnCF,GAAYzQ,EAGPoH,GAAWc,QACZ0I,IACZ,IAEIlG,GAAW5E,GAAGuF,GAClB,CAKA,SAASwF,KACL,IAAIxL,EAAK,IAAIC,GAIbD,EAAGE,KACHuL,KACAzL,EAAGS,GAAG,oBAINT,EAAGE,KACHwL,KACA1L,EAAGS,GAAG,kBACV,CAWA,SAASkL,GAAU3O,GACXA,IAAM1G,IAGV0G,EAAE0C,EAAEkM,GAAcC,IACbnM,EAAEoM,GAAW,EACtB,CAMA,SAASC,GAAU/O,GACXA,IAAM1G,IAGV0G,EAAE0C,EAAEkM,GAAcI,IACbtM,EAAEoM,GAAW,EACtB,CAEA,SAASG,GAAcC,GACnB,MAAO,QAAUA,EAAM,QAC3B,CAIA,SAASC,GAAkBC,EAAQC,GAC/B,IAAIC,EAAMD,EAAQ,IACXxE,GAAI0E,GAAGC,MAAQ,YAAc,SACpC,OAAOJ,EAASE,EAAML,GAAcK,EACxC,CAKA,SAASG,GAAmBL,EAAQC,GAChC,IAAIC,EAAMD,EAAQ,IAAM,UACxB,OAAOD,EAASE,EAAML,GAAcK,EACxC,CAKA,SAASI,GAAiBN,EAAQC,GAC9B,IAAI7P,EAAMqL,GAAI0E,GAAGC,MACVH,EAAQ,IAAM,WAAc,MACnC,OAAOD,EAAS5P,EAAMyP,GAAczP,EACxC,CAKA,SAASmQ,GAAkBP,EAAQC,GAC/B,IAAI7P,EAAMqL,GAAI0E,GAAGC,MACVH,EAAQ,IAAM,YAAe,MACpC,OAAOD,EAAS5P,EAAMyP,GAAczP,EACxC,CAmBA,SAASoQ,KACL,OAAOtG,GAAS1M,GAAGiT,GACPC,GAAaC,GAAY,GAAI,GAAIpH,GAAQqH,IACvCC,GACA,kBAAoBC,GAAOtT,GAAG,sCAAuC6J,GAAY0G,IAAU,UAC3F,mBAAqB+C,GAAOtT,GAAG,wBAAyB6J,GAAY,UAAW,UAAY,IAAMwJ,GACjG,YAAcC,GAAOtT,GAAG,sFAAuF6J,GAAY,aAC3H,MAAQyJ,GAAOtT,GAAG,6DAA+DuT,GAAQ,wDAA0DC,UAAUvF,GAAIwF,MAAM/P,KAASmG,GAAY,UAAY,IAE1N,CAKA,SAAS6J,KACL,OAAOvV,EAAEnC,QAAQ2X,MAAQC,EAC7B,CAMA,SAASnQ,GAAqBiN,GAG1B,GAFIA,IAAWhU,IAAcgU,EAAOmD,GAAG,OACnCnD,EAASA,EAAOxP,EAAE,EAAGwP,EAAOtS,SAC5BsS,IAAWhU,IAAoC,IAAtBgU,EAAOvN,IAAI/E,OACpC,OAEJ,IAAIgF,EAAI9F,EAAYiL,GAAYuL,GAAGhO,EAAEiO,KACjChT,EAAIzD,EAAYiL,GAAYuL,GAAGhO,EAAEkO,KACjCC,EAAI,GACJrD,EAAOzS,EAAE,IAAMJ,EAAa2S,GAAU,MAAQlQ,GAAQC,GAAQiQ,IAC9DwD,EAAM3U,EAAkBqR,GAGxB,eAAe5P,EAAEkT,IAAQ,GACzBD,GAAMC,IAAQpV,GACPsE,EAAIrC,EAAI,GACR6P,EAAK7P,IAAM,GAAsC,GAAhCzD,EAAY4W,EAAIhT,EAAE,EAAG,IAAM,GACnD+S,GAAK3W,EAAYwG,EAAiB,oBAG7B4M,EAAOmD,GAAG,gBACfI,GAAK,GAGLA,GAAK7Q,EAAIrC,EAEb5C,EAAE+B,UAAUwP,UAAUvR,EAAE+B,UAAUwP,YAAcuE,EACpD,CAQA,SAAS/H,GAAOnP,EAAUoX,EAAWC,GAGjC,OAFIA,IAAO1X,KACP0X,EAAK,KACFrX,EAAWqX,EAAK,IAAMD,EAAY,GAC7C,CAQA,SAAS3T,GAAQzD,EAAUoX,EAAWC,GAMlC,OALIA,IAAO1X,KACP0X,EAAK,KACTD,EAAaA,IAAczX,GAAc0X,EAAK,IAAMD,EAAY,IAAKnU,GACjEjD,EAASqB,OAAS,IAClB+V,GAAa,KACV,IAAMpX,EAAWoX,CAC5B,CAWA,SAASjB,GAAamB,EAAMC,EAAGvT,EAAGwT,EAAOC,EAAYC,GAKjD,MAAO,eAAiBH,EAAI,eAAiBvT,EAAI,8BAHjDyT,EAAcA,IAAe9X,IAAc8X,EAAWpW,OAAS,EAAK8E,GAAMsR,EAAaxU,IAGM,KAD7FyU,EAAWA,IAAY/X,IAAc+X,EAAQrW,OAAS,EAAK,IAAMqW,EAAUzU,IACpE,0BAC0BuU,EAAQ,kBAAoBF,EADtD,gBAGX,CACA,SAASK,GAAcL,EAAMC,EAAGvT,GAC5B,MAAO,eAAiBuT,EAAI,eAAiBvT,EAAtC,yBACsBsT,EADtB,gBAGX,CAOA,SAASM,GAAYC,EAAStU,GAC1B,OAAOuU,GAAa,SAAUD,EAAS5U,GAAGA,GAAGM,EACjD,CASA,SAASwU,GAASN,EAAYO,EAAKzC,EAAK0C,GAKpC,OAJAR,EAAcA,IAAe9X,IAAc8X,EAAWpW,OAAS,EAAK,WAAaoW,EAAa,IAAM,GACpGO,EAAOA,IAAQrY,IAAcqY,EAAI3W,OAAS,EAAK,SAAW2W,EAAM,IAAM,GACtEzC,EAAOA,IAAQ5V,IAAc4V,EAAIlU,OAAS,EAAK,SAAWkU,EAAM,IAAM,GACtE0C,EAAUA,IAAWtY,IAAcsY,EAAO5W,OAAS,EAAK,YAAc4W,EAAS,IAAM,GAC9E,IAAMC,GAAQT,EAAaO,EAAMzC,EAAM0C,EAAS,GAC3D,CAMA,SAASE,GAAYC,GAEjB,OADAA,EAAQA,IAASzY,IAAcyY,EAAK/W,OAAS,EAAK,UAAY+W,EAAO,IAAM,GACpEN,GAAaO,GAAUpV,GAAGA,GAAGmV,EAAMnV,GAE9C,CAUA,SAASqV,GAAWC,EAAIH,EAAMI,EAAMnZ,EAAOqY,GAMvC,OALAa,EAAMA,IAAO5Y,IAAc4Y,EAAGlX,OAAS,EAAK,QAAUkX,EAAK,IAAM,GACjEH,EAAQA,IAASzY,IAAcyY,EAAK/W,OAAS,EAAK,UAAY+W,EAAO,IAAM,GAC3EI,EAAQA,IAAS7Y,IAAc6Y,EAAKnX,OAAS,EAAK,UAAYmX,EAAO,IAAM,GAC3EnZ,EAASA,IAAUM,IAAcN,EAAMgC,OAAS,EAAK,WAAahC,EAAQ,IAAM,GAChFqY,EAAWA,IAAY/X,IAAc+X,EAAQrW,OAAS,EAAK,IAAMqW,EAAUzU,GACpE,IAAMwV,GAAUF,EAAKH,EAAOI,EAAOnZ,EAAQqY,EAAU,KAChE,CAQA,SAASgB,GAAgBjB,EAAYC,EAASnU,GAC1C,OAAOuU,GAAa,aAAc7U,GAAGwU,EAAYC,EAASnU,EAC9D,CAQA,SAASoM,GAASkI,EAASJ,EAAYlU,GACnC,OAAOuU,GAAa,MAAOD,EAASJ,EAAYxU,GAAGM,EACvD,CASA,SAASoV,GAAUd,EAASJ,EAAYC,EAASnU,GAC7C,OAAOuU,GAAa,MAAOD,EAASJ,EAAYC,EAASnU,EAC7D,CAMA,SAASqV,GAAS5R,GACd,MAAO,OAASA,EAAS,GAC7B,CAMA,SAAS8F,GAAYvJ,GACjB,OAAOuU,GAAae,GAAU5V,GAAGA,GAAGA,GAAGM,EAC3C,CAQA,SAAS+E,GAAUmP,EAAYC,EAASnU,GACpC,OAAOuU,GAAagB,GAAQ7V,GAAGwU,EAAYC,EAASnU,EACxD,CAQA,SAASwV,GAAStB,EAAYC,EAASnU,GACnC,OAAOuU,GAAakB,GAAO/V,GAAGwU,EAAYC,EAASnU,EACvD,CAQA,SAAS0V,GAAWxB,EAAYC,EAASnU,GACrC,OAAOuU,GAAaoB,GAASjW,GAAGwU,EAAYC,EAASnU,EACzD,CASA,SAASgT,GAAOsB,EAAS1Y,EAAMoE,EAAS9D,GAGpC,OAFAN,EAAQA,IAASQ,IAAcR,EAAKkC,OAAS,EAAK,UAAYlC,EAAO,IAAK8D,GAC1ExD,EAAUA,IAAWE,IAAcF,EAAO4B,OAAS,EAAK,YAAc5B,EAAS,IAAMwD,GAC9E6U,GAAa,IAAKD,EAAS5U,GAAG9D,EAAOM,EAAQ8D,EACxD,CAOA,SAAS4V,GAAWzB,EAASnU,GACzB,OAAOuU,GAAasB,GAASnW,GAAGA,GAAGyU,EAASnU,EAChD,CAOA,SAAS8V,GAAW3B,EAASnU,GACzB,OAAOuU,GAAawB,GAASrW,GAAGA,GAAGyU,EAASnU,EAChD,CAUA,SAASuU,GAAaX,EAAKU,EAASJ,EAAYC,EAASnU,GAUrD,OARAsU,EAAWA,IAAYlY,IAAckY,EAAQxW,OAAS,EAAK,QAAUwW,EAAU,IAAM,GAErFJ,EAAcA,IAAe9X,IAAc8X,EAAWpW,OAAS,EAAK,WAAaoW,EAAa,IAAM,GAEpGC,EAAWA,IAAY/X,IAAc+X,EAAQrW,OAAS,EAAK,IAAMqW,EAAUzU,GAEvEM,IAAY5D,KACZ4D,EAAUN,IACP,IAAMkU,EAAMU,EAAUJ,EAAaC,EAAU,IAAMnU,EAAU,KAAO4T,EAAM,GACrF,CAMA,SAASoC,GAAiBtH,GACtB,OAAQA,EAAY,MACxB,CAOA,SAASuH,GAAiB/Z,EAAQwS,GAC9B,IAAIwH,EAAKxH,EAAMyH,OAASzH,EAAM0H,QAAUxW,SAASyW,KAAKC,WAClDC,EAAK7H,EAAM8H,OAAS9H,EAAM+H,QAAU7W,SAASyW,KAAKjH,UAClDsH,EAAgD,EAAtC1Z,EAAYd,EAAOsJ,EAAEmR,KAC/BC,EAAoB5Z,EAAYd,EAAOsJ,EAAEqR,KAC7C,QAASX,GAAMha,EAAO4a,MAAQZ,GAAOha,EAAO4a,KAAO5a,EAAO8X,IAAM0C,GACzDH,GAAMra,EAAOsU,MAAQ+F,GAAOra,EAAOsU,KAAOtU,EAAOuE,IAAMiW,EAAUE,EAC5E,CAMA,SAASG,GAAe9C,GAEpB,GAAIA,EAAMnW,OAAS,EAAG,CAClB,IAAIkZ,EAAiBC,GAAiBhD,GAClCvR,EAAQsU,EAAelZ,OACvBoZ,EAAWxX,GAAGyX,EAClB,IAAK,IAAIzW,EAAI,EAAGA,EAAIgC,EAAOhC,IACvByW,EAASH,EAAetW,GACxBwW,GAAYC,EAAOC,OAAO,GAAGC,cAAgBF,EAAOG,MAAM,GAE9D,OAAOJ,CACf,CAEI,OAAOjD,EAAMmD,OAAO,GAAGC,cAAgBpD,EAAMqD,MAAM,EACvD,CAOA,SAASL,GAAiBhD,GACtB,IAAI+C,EACJ,OADqB/C,EAAM/S,IAAIqW,MAAM,YACfC,QAAOvW,GAAQA,IAASvB,IAClD,CAMA,SAAS+X,GAAcC,GACnB,IAAIC,EAAM,GAKV,OAJAA,EAAIrT,KAAKrH,SAASya,EAAI9W,EAAE,EAAG,GAAI,KAC/B+W,EAAIrT,KAAKrH,SAASya,EAAI9W,EAAE,EAAG,GAAI,KAC/B+W,EAAIrT,KAAKrH,SAASya,EAAI9W,EAAE,EAAG,GAAI,KAExB+W,CACX,CAOA,SAASC,GAAgBD,EAAKE,GAC1B,MAAO,QAAUF,EAAI,GAAK,KAAOA,EAAI,GAAK,KAAOA,EAAI,GAAK,KAAOE,EAAU,GAC/E,CAQA,SAASC,GAAqBd,EAAgBe,EAAMC,GAChD,IAAIC,EAAMvY,GACNgD,EAAQsU,EAAelZ,OACvBmW,EAAQvU,GACZ,IAAK,IAAIgB,EAAI,EAAGA,EAAIgC,EAAOhC,IACvBuT,EAAQ+C,EAAetW,GACvBuX,GAAO5C,GAAS,QAAUpB,EAAQ8D,GACjB,OAAV9D,EAAiBvU,GAAIsY,IACxBtX,EAAIgC,EAAQ,IACZuV,GAAO,KAEf,OAAOA,CACX,CAKA,SAAS3L,KACLlE,GAAS2B,KAAKhC,IAAalI,EAAEqY,GAAY,CACrC3O,GAAY,MAAQ,MAAQA,GAAY,MAAQ,QAChDA,GAAY,QAAU,MAAQA,GAAY,QAAU,sBACtD9D,IAAa,KAAO+P,GAAS9V,GAAGA,GAAGqS,GAAc,OAEnD3J,GAAS2B,KAAKvB,IAAU3I,EAAEqY,GAAY,CAClC,OACA,oBACFzS,IAAa,KAAO+P,GAAS9V,GAAGA,GAAGqS,GAAc,OAEnD3J,GAAS2B,KAAKV,IAAgBxJ,EAAEqY,GAAY,CACxC,UACA,6BACFzS,KAEF2C,GAAS2B,KAAKpD,IAAa9G,EAAEqY,GAAY,CACrC,MACA,aACFzS,IAAa,KAAO+P,GAAS9V,GAAGA,GAAGqS,GAAc,OAEnD3J,GAAS2B,KAAKL,IAAgB7J,EAAEqY,GAAY,CACxC,MACA,iBACFzS,IAAa,KAAO+P,GAAS9V,GAAGA,GAAGqS,GAAc,OAEnD3J,GAAS2B,KAAKJ,IAAS9J,EAAEqY,GAAY,CACjC,QACA,YACFzS,KAEFwC,GAAYkQ,KAAK3E,GAAG3T,EAAEqY,GAAY,CAC9B,MACA,oBACFzS,IAAa,KAAO+P,GAAS9V,GAAGA,GAAGqS,GAAc,OAEnD9J,GAAYmQ,KAAK5E,GAAG3T,EAAEqY,GAAY,CAC9B,MACA,gBACFzS,IAAa,KAAO+P,GAAS9V,GAAGA,GAAGqS,GAAc,OAEnD9J,GAAYoQ,GAAGxY,EAAEqY,GAAY,CACzB,OACA,iBACFzS,KAEFwC,GAAYqQ,QAAQ9E,GAAG3T,EAAEqY,GAAY,CACjC,UACA,4CACFzS,KAEFuE,GAAQD,KAAKoO,KAAKtY,EAAEC,GAAS,SAAW,CACpC,MACA,YACF2F,KAEFuE,GAAQD,KAAKqO,KAAKvY,EAAEC,GAAS,SAAW,CACpC,MACA,QACF2F,KAEFuE,GAAQD,KAAKwO,MAAM1Y,EAAEC,GAAS,WAAa,CACvC,KACA,SACF2F,KAEFQ,GAAWuN,GAAG1C,EAAE,IAAM0H,IAAgB1V,EAAE,CACpC,KACA2V,IACFhT,IAAa7C,IAEfqD,GAAWuN,GAAG1C,EAAE,sBAAsB4H,GAAG,CACrC,gCACA,8IACFjT,IAAa,KAAOuN,GAAOtT,GAAG,0CAA2C,CACvE,KACA,WACF+F,KAAc,MAAQuN,GAAOtT,GAAG,yCAA0C,CACxE,KACA,WACF+F,KAAc,KAEhB0E,GAAUwO,aAAaC,GAAG,KAAK9V,EAAE,CAC7B,SACA,sBACF2C,IAAa,KACnB,CAMA,SAASoT,GAAkBjY,GACvB,IAAIM,GAAKrD,EAAEnC,QAAQsY,IAAMpT,EAAEoT,KAAO,EAC9B/R,EAAI6W,GACJnL,GAAIC,OAAOC,SACX3M,EAAI,GACJe,EAAI,IAGRrB,EAAE4E,EAAEwC,GAAQ9G,GACPsE,EAAEmF,GAAS1I,GACXuD,EAAEiO,IAAQ5V,EAAEnC,QAAQ+E,IAAMG,EAAEH,KAAO,EAC5C,CAOA,SAASsY,GAAkBnY,EAAGkC,GAC1B,IAAI5B,EAAI4B,EAAEgU,KACN9C,EAAIpT,EAAEoT,IAAMhX,EAAY4D,EAAE4E,EAAEwT,KACtBhc,EAAY4D,EAAE4E,EAAEyT,KACkB,EAAlCjc,EAAY4D,EAAE4E,EAAE0T,KAEtBhY,EAAI8S,EAAI,GAAKnW,EAAEnC,QAAQsY,MACvB9S,EAAIrD,EAAEnC,QAAQsY,IAAMA,EAAI,IAE5BpT,EAAE4E,EAAEwC,GAAQ9G,GACPsE,EAAEiO,GAAO3Q,EAAE0N,KAAO3S,EAAE+B,UAAUwP,YAActM,EAAErC,IAAM,GAC7D,CAKA,SAASmP,KACDuJ,KAGJA,GAAwB/V,GAEpByE,GAAWkG,UACXL,KACJzF,GAAY8F,SACZ3F,GAAS2F,SAEToL,GAAwB9V,GAC5B,CAKA,SAASgO,KACLnO,YAAW,WACP0M,KACAE,IACR,GAAO,IACP,CAKA,SAASrC,KAEDE,GAAIC,OAAOC,QACXhQ,EAAEub,IAAkBC,KACpBxb,EAAE,IAAMyb,IAAeD,KACvBxb,EAAE,IAAM0b,IAAcF,KACtBtO,GAAgBsO,KAChBrO,GAAkBqO,KAClBxb,EAAE,IAAM2b,GAAc,KAAOC,IAAeJ,KAC5Cxb,EAAE,IAAM6b,GAAa,MAAQC,GAAS,MAAQC,IAAcP,KAC5Dxb,EAAE,IAAMgc,IAAeR,OAKvBS,GAAejc,EAAEub,KAEjBU,GAAejc,EAAE,IAAMyb,KAEvBQ,GAAejc,EAAE,IAAM0b,KAEvBO,GAAe/O,IACf+O,GAAe9O,IAEf8O,GAAejc,EAAE,IAAM2b,GAAc,KAAOC,KAE5CK,GAAejc,EAAE,IAAMgc,IAAgBzW,IAE/C,CAOA,SAAS0W,GAAe5d,EAAQ6d,GAC5B7d,EAAO8d,OAAM,WACT,IAAIC,EAAKpc,EAAEqc,MACXje,EAAYge,EAAIE,IACZJ,GACAzd,EAAe2d,EAAGnZ,IAAKqZ,GACnC,IAAO,WACC,IAAIF,EAAKpc,EAAEqc,MACX5d,EAAe2d,EAAIE,IACfJ,GACAE,EAAGnZ,IAAIkQ,GAAGoJ,GACtB,GACA,CAMA,SAASC,GAAiBvX,GACtBA,EAAEwX,OAAOF,IAAcE,OAAOC,GAClC,CAKA,SAASC,KAEDC,GAAc,EACd5W,EAAiB,kBAAmB6W,IAE/BD,IAAe,GACpBxe,EAAY4B,EAAE,IAAM8c,IAAmBC,IAE3CC,GAAgBhd,EAAE,YAAc8W,IACpC,CACA,SAASmG,KACDL,IAAe,GACfxe,EAAY4B,EAAE,IAAM8c,IAAmBC,GAC/C,CAOA,SAASC,GAAgB/X,EAAGmV,GACxB,GAAIwC,IAAe,EACf,GAAKxC,IAAQ7b,GACTH,EAAY6G,EAAGiY,QAEd,CACD,IAAIC,EAAU/C,EAAIjX,GAAG4B,IACrB,IAAK,IAAIlC,EAAI,EAAGA,EAAIsa,EAAQld,OAAQ4C,IAChCzE,EAAY6G,EAAG,gBAAkBkY,EAAQta,GACzD,CAEA,CAOA,SAASua,GAAmBnY,EAAGmV,GAC3B,GAAKA,IAAQ7b,GACTE,EAAewG,EAAGiY,QACjB,CACD,IAAIC,EAAU/C,EAAIjX,GAAG4B,IACrB,IAAK,IAAIlC,EAAI,EAAGA,EAAIsa,EAAQld,OAAQ4C,IAChCpE,EAAewG,EAAG,gBAAkBkY,EAAQta,GACxD,CACA,CAcA,SAASwa,KAELrd,EAAE+B,UAAUoP,GAAG,WAAW,SAAUN,GAsGhC,SAASyM,IACDnR,GAAQwJ,GAAG4H,YAEfhT,GAAS2B,KAAKhC,IAAaiJ,GAAGqK,GAC1C,CAzGQ,MAAMC,EAAO5M,EAAM6M,SAAW7M,EAAM8M,OAAS9M,EAAM+M,SACnD,IAAIC,GAAYhN,EAAMiN,QAAU1J,IAAkB,GAAQvS,KACnDgP,EAAMkN,SAAWrJ,IAAmB,GAAQ7S,KAC5CgP,EAAMmN,OAASrJ,IAAiB,GAAQ9S,KACxCgP,EAAMoN,QAAUrJ,IAAkB,GAAQ/S,IAyBjD,GAtBAtE,EAAM,QAAQsgB,KAAYK,OAAOC,aAAaV,OAAUA,MACxDlgB,EAAM,YAAYsT,EAAM6M,iBAAiB7M,EAAM0D,cAAc1D,EAAM4M,QAI/DtF,GAAiBtH,KAAWtL,IAC5B6Y,GAA+B7Y,IAInCoD,GAAW0V,cAAcZ,EAAMI,EAAUhN,GACzC9H,GAAcsV,cAAcZ,EAAMI,EAAUhN,GAC5CjF,GAAcyS,cAAcZ,EAAMI,EAAUhN,GAC5CyN,GAA0Bb,EAAMI,EAAUhN,GAC1C1E,GAAQkS,cAAcZ,EAAMI,EAAUhN,GACtC7G,GAAWqU,cAAcZ,EAAMI,EAAUhN,GACzCzI,GAAWiW,cAAcZ,EAAMI,EAAUhN,GACzChH,GAAUwU,cAAcZ,EAAMI,EAAUhN,GACxCvE,GAAU+R,cAAcZ,EAAMI,EAAUhN,GACxC0N,GAAuBd,EAAMI,EAAUhN,GAGnC2N,IAAsD,SAAvCzc,SAAS0c,cAActd,QAAQkC,IAC9C,OAGJ+G,GAAYiU,cAAcZ,EAAMI,EAAUhN,GAE1C,IAAI6N,GAAU,EACd,OAAQjB,GACJ,KAAK,GACDH,IACAoB,GAAU,EACV,MACJ,KAAK,IAID7N,EAAM8N,iBACD3U,GAAWc,QACZwS,IAEJtT,GAAWe,QAAQC,MAAMC,QAGzB2T,UAAUC,UAAUC,WAAWC,MAAK,SAAUrc,GACtCsH,GAAWe,QAAQC,MAAME,IAAIxI,GAC7BsH,GAAWe,QAAQC,MAAMI,QACjD,IAAuB4T,OAAM,SAAUtc,GACfrF,EAAM,wBAAyBqF,EACvD,IACgBgc,GAAU,EACV,MACJ,KAAK,GACG1U,GAAWY,OAAOqU,SAClB1U,GAAS2B,KAAKvB,IAAUwI,GAAGqK,IAC/BkB,GAAU,EACV,MACJ,KAAK,GACDvR,GAAkBgG,GAAGqK,IACrBkB,GAAU,EACV,MACJ,KAAK,GACGtW,GAAWuN,GAAG5C,WACd7F,GAAgBiG,GAAGqK,IAEnBpV,GAAWuD,OACf+S,GAAU,EACV,MACJ,KAAK,GACD9S,GAAcD,OACdhD,GAAWgD,OACX5C,GAAc2B,KACdgU,GAAU,EACV,MACJ,KAAK,GACD9S,GAAcD,OACd5C,GAAc4C,OACdhD,GAAW+B,KACXgU,GAAU,EACV,MACJ,KAAK,GAEIQ,GAAcnM,aACfoM,KACAT,GAAU,GAEd,MAIJA,GACA7N,EAAM8N,gBAOlB,IAGI3e,EAAE+B,UAAUoP,GAAG,SAAS,SAAUN,GAE1BuO,KAAmC7Z,IACnC6Y,GAA+B5Y,GAE3C,GACA,CAWA,SAAS6Z,KACL,OAAQvP,GAAIwP,SAASC,MACjB,IAAK,KACD3X,GAAY,EACZ,MACJ,QACIA,GAAY,EAExB,CAiBA,SAASkK,GAAoBnP,EAAGsC,GAC5ByM,GAA0B/O,EAC1BkP,GAAuB5M,CAC3B,CAKA,SAASua,KACL1gB,EAAiBqB,IAAYsf,GAAYC,GAC7C,CAKA,SAASC,KACL7gB,EAAiBqB,IAAYuf,GAAUD,GAC3C,CAgBA,SAASG,KACL5f,EAAE,sBAAsB6f,GAAE,WACtB,IAAI7d,EAAIhC,EAAEqc,MACVra,EAAEA,EAAE8d,GAAU9d,EAAEA,EAAEgM,IAC1B,GACA,CAWA,SAASjC,KACLoG,GAAeC,GAGX2N,GAAYC,SAAWpS,KACvBmS,GAAYE,kBAAoBF,GAAYC,OAC5CD,GAAYC,OAASvS,GACrBsS,GAAYG,WAIhBlgB,EAAE,IAAMmgB,IAAoBN,GAAE,WAC1B,IAAIzD,EAAKpc,EAAEqc,MACXD,EAAGpa,EAAEoe,GAAoBhE,EAAGzU,EAAE0Y,KAC9BjE,EAAGzU,EAAE0Y,GAASC,GACtB,IAGItgB,EAAE,IAAMmgB,GAAqBpb,GAAMwb,IAAOV,GAAE,WACxC,IAAIzD,EAAKpc,EAAEqc,MACPD,EAAGpa,EAAEqe,MAAaC,GAEdlE,EAAGpa,EAAEwe,IAAS3d,EAAE4d,GAAa,MAAQ,GACrCrE,EAAGpa,EAAE0e,GAAuBtE,EAAGzU,EAAE8Y,KACjCrE,EAAGzU,EAAE8Y,GAAY5e,KAGZua,EAAGpa,EAAEwe,IAAS3d,EAAEwd,GAAU,MAAQ,IACvCjE,EAAGpa,EAAEoe,GAAoBhE,EAAGzU,EAAE0Y,KAC9BjE,EAAGzU,EAAE0Y,GAASC,MAIlBlE,EAAGpa,EAAEoe,GAAoBhE,EAAGpa,EAAEqe,KAC9BjE,EAAGzU,EAAE0Y,GAASC,IAE1B,IAGItgB,EAAE2gB,GAAY,QAAUte,GAAQue,IAAU,KAAKf,GAAE,WAC7C7f,EAAEqc,MAAMtB,GAAG8F,IAAW1N,GAAGqK,GACjC,IAGIxd,EAAEqC,GAAQye,GAAqBC,KAASlB,GAAE,WACtC7f,EAAEqc,MAAMlJ,GAAGC,GACnB,IAGIpT,EAAEghB,IAAenB,GAAE,WACfoB,GAAcjhB,EAAEqc,MAAMpZ,IAAIA,IAClC,IAGIie,KAGA,IAAIC,EAAWnhB,EAAE,IAAMohB,IACnBD,EAASlhB,OAAS,GACdohB,QAAQ,6BACRF,EAAStB,GAAE,WACP,IAAIzD,EAAKpc,EAAEqc,MACPD,EAAGpa,EAAEsf,IAAqB5L,GAAG,MAC7B6L,GAAanF,EACjC,IAMI/W,YAAW,WACPxH,OAAOyX,OACf,GAAO,IACP,CAKA,SAAShD,KAEDyN,GAAYE,oBAAsBrS,IAClCmS,GAAYrV,KAIhB1K,EAAE,IAAMmgB,IAAoBN,GAAE,WAC1B,IAAIzD,EAAKpc,EAAEqc,MACXD,EAAGzU,EAAE0Y,GAASjE,EAAGpa,EAAEoe,KACnBzhB,EAAcyd,EAAIgE,GAC1B,IAGIpgB,EAAE,IAAMmgB,GAAqBpb,GAAMwb,IAAOV,GAAE,WACxC,IAAIzD,EAAKpc,EAAEqc,MACPD,EAAGpa,EAAEqe,MAAaC,GAEdlE,EAAGpa,EAAEwe,IAAS3d,EAAE4d,GAAa,MAAQ,GACrCrE,EAAGzU,EAAE8Y,GAAYrE,EAAGpa,EAAE0e,KACtB/hB,EAAcyd,EAAIsE,KAGbtE,EAAGpa,EAAEwe,IAAS3d,EAAEwd,GAAU,MAAQ,IACvCjE,EAAGzU,EAAE0Y,GAASjE,EAAGpa,EAAEoe,KACnBzhB,EAAcyd,EAAIgE,MAGtBhE,EAAGzU,EAAE0Y,GAASjE,EAAGpa,EAAEoe,KACnBzhB,EAAcyd,EAAIgE,IAE9B,IASIjO,GAAe0K,EACnB,CAUA,SAAS2E,GAAgBC,GAErB,IAAIC,EAAK,gBACOtM,GACV,QAAUjP,IAEhBub,GAAM,OAAS5R,GAAIC,OAAOC,OAAS,MAAQnO,IACrC,QAAUiO,GAAI6R,QAAQC,IAG5BF,GAAM,OACF5R,GAAI0E,GAAGC,MACPiN,GAAM,QACD5R,GAAI0E,GAAGqN,QACZH,GAAM,UACD5R,GAAI0E,GAAGsN,KAEPhS,GAAI0E,GAAGuN,MADZL,GAAM,SAINA,GAAM,SAGVA,GAAM,MACF5R,GAAIwD,QAAQ0O,KACZN,GAAM,WAAa5R,GAAImS,WAAWD,KAC7BlS,GAAIwD,QAAQ4O,OACjBR,GAAM,aAAe5R,GAAImS,WAAWC,OAC/BpS,GAAIwD,QAAQC,QACjBmO,GAAM,cAAgB5R,GAAImS,WAAW1O,QAChCzD,GAAIwD,QAAQ6O,OACjBT,GAAM,aAAe5R,GAAImS,WAAWE,OAEpCT,GAAM,aAGVA,GAAM,OAAS/b,EAAiByc,IAAkBhc,GAAG,IAAKvE,IAAGmD,IAE7D0c,GAAM,SAAW9Z,GACX,SAAWvH,IAAU4E,IAAIhF,OACzB,SAAWwhB,EAGjBC,GAAM,IAAM5K,GAAQ,IAAM9W,EAAE,IAAMqiB,IAAQpiB,OACpC,IAAM6W,GAAQ,SAAW9W,EAAE,IAAMqC,GAAQigB,GAAiBxL,IAASzU,GAAQye,GAAqBC,KAAS9gB,OACzG,IAAM6W,GAAQ,SAAW9W,EAAE8W,GAAQ,QAAUzU,GAAQkgB,IAAiB,KAAKtiB,OAC3E,IAAM6W,GAAQ,WAAa9W,EAAE8W,GAAQzU,GAAQmgB,GAAeC,KAAWxiB,OACvE,IAAM6W,GAAQ,UAAY9W,EAAE8W,GAAQzU,GAAQmgB,GAAeE,KAAUziB,OACrE,IAAM6W,GAAQ,SAAW9W,EAAE2iB,GAAQtgB,GAAQugB,GAAMC,GAAW,MAAQxgB,GAAQygB,GAAiBhM,IAAS/R,GAAMge,IAAS9iB,OACrH,IAAM6W,GAAQ,SAAW9W,EAAE2iB,GAAQtgB,GAAQugB,GAAMC,GAAW,MAAQxgB,GAAQygB,GAAiBhM,IAAS/R,GAAMie,IAAS/iB,OAG3H,IAAIgjB,EAAUjjB,EAAE,qBAChB0hB,GAAM,OAASuB,EAAQhjB,OACjB,YAAcD,EAAE2iB,GAAQtgB,GAAQigB,GAAiB/B,IAASle,GAAQye,GAAqBC,KAAS9gB,OAChG,YAAcD,EAAE2iB,GAAQtgB,GAAQugB,GAAMC,GAAW,MAAQxgB,GAAQygB,GAAiBvC,IAASxb,GAAMge,IAAS9iB,OAC1G,YAAcD,EAAE2iB,GAAQtgB,GAAQugB,GAAMC,GAAW,MAAQxgB,GAAQygB,GAAiBvC,IAASxb,GAAMie,IAAS/iB,OAGhHyhB,GAAM,UAAY1hB,EAAEgY,IAAS/X,OACvB,YAAcD,EAAE2iB,GAAQtgB,GAAQugB,GAAMM,GAAa,MAAQne,GAAMge,IAAS9iB,OAC1E,YAAcD,EAAE2iB,GAAQtgB,GAAQugB,GAAMM,GAAa,MAAQne,GAAMie,IAAS/iB,OAGhFyhB,GAAM,UAAY1hB,EAAEkY,IAASjY,OACvB,YAAcD,EAAE2iB,GAAQtgB,GAAQugB,GAAMO,GAAa,MAAQpe,GAAMge,IAAS9iB,OAC1E,YAAcD,EAAE2iB,GAAQtgB,GAAQugB,GAAMO,GAAa,MAAQpe,GAAMie,IAAS/iB,OAGhF,IAAImjB,EAAM,EACNC,EAAO,EACPC,EAAY,EACZC,EAAW,EACXC,EAAQ,EACRC,EAAM,EACNC,EAAS,EACTC,EAAQ,EACZV,EAAQpD,GAAE,WACN,IAAIzD,EAAKpc,EAAEqc,MACPD,EAAGnJ,EAAE,YAAYhT,OAAS,EAC1BmjB,IACKhH,EAAGnJ,EAAE,oBAAoBhT,OAAS,GACvCojB,IACIjH,EAAGnJ,EAAE,iCAAiChT,OAAS,EAC/CqjB,IACKlH,EAAGnJ,EAAE,gCAAgChT,OAAS,GACnDsjB,KAECnH,EAAGnJ,EAAE,gBAAgBhT,OAAS,EACnCujB,IACKpH,EAAGnJ,EAAE,gBAAgBhT,OAAS,EACnCwjB,IACKrH,EAAGnJ,EAAE,gBAAgBhT,OAAS,EACnCyjB,IACKtH,EAAGnJ,EAAE,kBAAkBhT,OAAS,GACrC0jB,GACZ,IACIjC,GAAM,WAAa0B,EACb,YAAcC,EACd,cAAgBC,EAChB,cAAgBC,EAChB,aAAeC,EACf,WAAaC,EACb,aAAeC,EACf,aAAeC,EAGrBjC,GAAM,QAAU1hB,EAAEsJ,IAASrJ,OACrB,aAAeD,EAAEwJ,GAAWnH,GAAQigB,GAAiBhZ,IAAWjH,GAAQye,GAAqBC,KAAS9gB,OACtG,aAAeD,EAAE2iB,GAAQtgB,GAAQugB,GAAMgB,IAAa7e,GAAMge,IAAS9iB,OACnE,aAAeD,EAAE2iB,GAAQtgB,GAAQugB,GAAMgB,IAAa7e,GAAMie,IAAS/iB,OAGzE,IAAI4jB,EAAS,EACTC,EAAO,EACPC,EAAc,EACdC,EAAS,EACTC,EAAQ,EACRC,EAAQ,EACRC,EAAQ,EACZnkB,EAAEsJ,GAAUjH,GAAQ+hB,GAAoBrD,KAASlB,GAAE,WAC/C,IAAIzD,EAAKpc,EAAEqc,MACPD,EAAGnJ,EAAE,UAAYoR,IAAmBpkB,OAAS,GAC7C4jB,IACAzH,EAAGnJ,EAAE,UAAYqR,IAAiBrkB,OAAS,GAC3C6jB,IACA1H,EAAGnJ,EAAE,WAAWhT,OAAS,GACzB8jB,IACA3H,EAAGnJ,EAAE,UAAYsR,IAAkBtkB,OAAS,GAC5C+jB,IACA5H,EAAGnJ,EAAE,SAAWuR,IAAOvkB,OAAS,GAChCgkB,IACA7H,EAAGnJ,EAAE,UAAYwR,IAAqBxkB,OAAS,GAC/CikB,IACA9H,EAAGnJ,EAAE,UAAYyR,IAAiBzkB,OAAS,GAC3CkkB,GACZ,IACIzC,GAAM,aAAemC,EACf,cAAgBC,EAChB,aAAeC,EACf,aAAeC,EACf,aAAeC,EACf,eAAiBC,EACjB,eAAiBC,EAGvBzC,GAAM,mBAAqB1hB,EAAEsJ,GAAUjH,GAAQsiB,GAAiB5D,KAAS9gB,OAGzEyhB,GAAM,kBAAoB1hB,EAAEsJ,GAAUjH,GAAQuiB,GAAgB7D,KAAS9gB,OAGvEyhB,GAAM,OAAS1hB,EAAE,IAAM6kB,IAAW5kB,OAC5B,YAAcD,EAAE,IAAMqC,GAAQigB,GAAiBwC,IAASziB,GAAQye,GAAqBC,KAAS9gB,OAC9F,YAAcD,EAAE2iB,GAAQtgB,GAAQugB,GAAMmC,IAAmBhgB,GAAMge,IAAS9iB,OACxE,YAAcD,EAAE2iB,GAAQtgB,GAAQugB,GAAMmC,IAAmBhgB,GAAMie,IAAS/iB,OAG9EyhB,GAAM,QAAU1hB,EAAEglB,GAAS3iB,GAAQwF,GAASiU,KAAS7b,OAC/C,UAAYD,EAAEglB,GAAS3iB,GAAQwF,GAASkU,KAAe9b,OAG7DyhB,GAAM,OAAS1hB,EAAE2gB,IAAW1gB,OAG5ByhB,GAAM,OAAS1hB,EAAE,gBAAgBC,OAGjCyhB,GAAM,QAAU9jB,IAGhB,IAAIqnB,EAAYjlB,EAAEiX,GAAW5U,GAAQC,GAAQ4iB,KAC7CD,EAAUjjB,EAAEmjB,GACR,0CAA4C3nB,GAAc,OAASqE,IAAK,kBACtEwT,UAAUqM,IAEhBnkB,EAAM,aAAc0nB,EAAUjjB,EAAEmjB,IACpC,CA6DA,SAASC,KACL,IAAIzd,EAAI,CAAC,EAAG,EAAG,GAIf,OAHAA,EAAE,GAAKnI,KAAK6lB,MAAsB,IAAhB7lB,KAAK8lB,UACvB3d,EAAE,GAAKnI,KAAK6lB,MAAsB,IAAhB7lB,KAAK8lB,UACvB3d,EAAE,GAAKnI,KAAK6lB,MAAsB,IAAhB7lB,KAAK8lB,UAChB3d,CACX,CAMA,SAAS4d,KAEL,IAAI5d,EAAI,CAAC,EAAG,EAAG,GACf,GAAmC,IAA/B6d,GAAoBvlB,OAGpB,OAFA0H,EAAIyd,KACJI,GAAoB/e,KAAKkB,GAClBA,EAIX,IAAIpB,EAAOf,GACPP,EAAI,EACJwgB,EAAI,CAAC,EAAG,EAAG,GAGf,MAAQlf,GAAQtB,EAAI,IAAI,CACpB0C,EAAIyd,KAEJ,IAAIM,EAAM,EACV,IAAK,IAAI7iB,EAAI,EAAGA,EAAI2iB,GAAoBvlB,SACpCylB,EAAM7iB,EACN4iB,EAAE,IAAMD,GAAoB3iB,GAAG,GAAK8E,EAAE,IAAM,IAC5C8d,EAAE,IAAMD,GAAoB3iB,GAAG,GAAK8E,EAAE,IAAM,IAC5C8d,EAAE,IAAMD,GAAoB3iB,GAAG,GAAK8E,EAAE,IAAM,MAExCnI,KAAKmmB,KAAKF,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAM,KANb5iB,KAW5C6iB,IAAQF,GAAoBvlB,SAC5BulB,GAAoB/e,KAAKkB,GACzBpB,EAAOhB,IAEXN,GACR,CACI,OAAO0C,CACX,CAOA,SAASO,KACL,IAAI0d,EAAIvJ,KACRuJ,EAAEC,GAAK,KACPD,EAAEE,GAAK,KAKPF,EAAEG,MAAQ,WACNH,EAAEC,IAAK,IAAIxU,MAAOC,SAC1B,EAKIsU,EAAEzd,GAAK,SAAUlD,GACTA,IAAM1G,IACN3B,EAAIqI,GACR2gB,EAAEE,IAAK,IAAIzU,MAAOC,SAC1B,EAOIsU,EAAEld,GAAK,SAAUsd,EAAKC,GAClB,IAAIte,GAAI,IAAI0J,MAAOC,UAAYsU,EAAEE,GAEjC,IAAKG,EAAQ,CACT,IAAIC,EAAMF,EAAM,KAAOre,EAAI,MACvBA,EAAI,IACJ1K,EAAKipB,GACAve,EAAI,IACTxK,EAAK+oB,GAEL7oB,EAAM6oB,EACtB,CACQ,OAAOve,CACf,EAKIie,EAAEO,KAAO,WACL,OAAO,IAAI9U,MAAOC,UAAYsU,EAAEC,EACxC,EAGID,EAAEG,OACN,CAeA,SAASK,GAAiBC,GACtBC,GAAiBtmB,EAAEumB,IACnBC,GAAqBxmB,EAAEumB,GAAqB,eAC5CE,GAAmBzmB,EAAEumB,GAAqB,YAC1CG,GAAuBlhB,GACvBmhB,GAAmBN,EAGfM,KAAqB9J,GACrB+J,KAEAhT,GAAU0S,GAClB,CAKA,SAASO,KAELL,GAAmBxV,KAAKC,IAAG,WACvB2V,IACR,IAEIN,GAAe3e,EAAEmf,GAAU,WAC3BC,KAEAN,GAAiB9e,EAAEqf,GAAanK,IAEhCoK,GAA8B,MAC9B7oB,EAAYooB,GAAoB,cAEhCE,GAAuBnhB,GAGvB,IAAI2hB,EAAQ/nB,EAAYwnB,IACpBO,EAAQ,KACRA,EAAQ,IACRP,KAAqB1L,IAAUiM,GAAS,EACxCC,GAAsBD,GAEjBP,KAAqBS,IAC1BhpB,EAAYooB,GAAoBY,GACxC,CAMA,SAASD,GAAsBD,GAO3B,SAASG,IACLJ,GAA8BK,GAC9BA,IACIA,EAAY,GACZC,aAAaC,GACbA,EAAa,KACbZ,MAGAY,EAAaniB,WAAWgiB,EAAe,IACnD,CAhBI,IAAIC,EAAaJ,GAAS,EAAIA,EAAQ/nB,EAAYwG,EAAiB,iBAC/D6hB,EAAa,KAEjBH,GAcJ,CAMA,SAASJ,GAA8BQ,GACnCjB,GAAmB3L,GAAG,CAClB,OACA,iBACFjT,KACY,MAAP6f,EAAc5lB,GAAIkD,GAAMmC,GAAUrF,GAAGA,GAAG,IAAM4lB,EAAM,OAC/D,CAKA,SAASV,KACLN,GAAiB9e,EAAEqf,GAAanK,GACpC,CAKA,SAAS+J,KACLN,GAAe3a,OACfgU,IACJ,CAQA,SAASrB,GAA0Bb,EAAMI,EAAUhN,GAC/C,IAAK6V,IAAwBJ,GAAevT,WACxC,OAEJ,IAAI2L,GAAU,EACd,OAAQjB,GACJ,KAAK,GAEDmJ,KACAlI,GAAU,EACV,MAIJA,GACA7N,EAAM8N,gBACd,CAgBA,SAAS+I,KAmEL,SAASC,EAAatpB,EAAQwS,GACtB+W,KAA8BrpB,KAG9BspB,KAAoCne,GACpCoe,GAAyBzpB,GACpBwpB,KAAoCE,GAAQC,GACjDC,GAAkB5pB,GACbwpB,KAAoCve,IACzC4e,GAAqB7pB,GACjC,CA5EI8pB,GAAqBnoB,EAAE,uBACvBooB,GAAmCpoB,EAAEqoB,GAAkB,SACvDC,GAAuCtoB,EAAEqoB,GAAkB,uBAC3DE,GAAkCvoB,EAAEqoB,GAAkB,gBACtDG,GAAiCxoB,EAAEqoB,GAAkB,eACrDI,GAAgCzoB,EAAEqoB,GAAkB,eAEpDC,GAAqCtmB,EAAEqY,GAAY,CAC/C,OACA,eACFzS,KAEF2gB,GAAgCvmB,EAAEqY,GAAY,CAC1C,OACA,gBACFzS,KAEF4gB,GAA+BxmB,EAAEqY,GAAa,CAC1C,aACA,iBACFzS,KAEF6gB,GAA8BzmB,EAAEqY,GAAY,CACxC,MACA,sBACFzS,KAEFugB,GAAmBhX,GAAGuL,IAAc,SAAU7L,GACrCuH,GAAiBwP,GAA2B/W,IAC7C6X,IACZ,IAMIJ,GAAqCtX,KAAKC,IAAG,WACzCyX,KACAvc,GAAQd,KAAKuc,GACrB,IAGIW,GAAgCvX,KAAKC,IAAG,WACpC0X,GAAkBf,GAC1B,IAGIY,GAA+BxX,KAAKC,IAAG,WACnC2X,GAAiBhB,GACzB,IAEIQ,GAAiCpX,KAAKC,IAAG,SAAUJ,GAC/C8W,EAAa3nB,EAAEqc,MACvB,IAGIoM,GAA8BzX,KAAKC,IAAG,WAClC4X,GAAcjB,GACtB,IAEIkB,GAAcV,IACdU,GAAcR,IACdQ,GAAcP,IACdO,GAAcN,IACdM,GAAcL,GAalB,CAMA,SAASrK,GAA+BiI,GACpCjH,GAAiCiH,EAC7BjH,IAEApZ,EAAiB,aAAcL,EAAiB,qBAChDyiB,GAAiCvN,GAAG9F,GAAagU,GAAe,GAAI,GAAItb,OAIxEzH,EAAiB,aAAcL,EAAiB,sBAChDyiB,GAAiCvN,GAAG9F,GAAaiU,GAAW,GAAI,GAAIvb,KAE5E,CAOA,SAASwb,GAAqB5qB,EAAQ6qB,GAElC7qB,EAAO8d,OAAM,WACTiB,GAAmB+K,IAGfP,KAA8BvpB,GAC9B+f,GAA+B5Y,IAEnCoiB,GAA4BvpB,EAC5BwpB,GAAkCqB,EAElC,IAAIC,EAAc,KAAOxR,GAAS9V,GAAGA,GAAG,CACpC,KACA,QACE+F,IACAsN,GAASP,KAAqB,CAC5BO,GAAS,iBACTA,GAAS,sBACPtN,KACNshB,IAAgBxf,GAChB0e,GAAiCpmB,EAAEqY,GAAY,CAC3C,SACA,aACFzS,IAAauhB,GAEVD,IAAgBnB,GAAQC,GAC7BI,GAAiCpmB,EAAEqY,GAAY,CAC3C,SACA,mBACFzS,IAAauhB,GAEVD,IAAgB5f,IACrB8e,GAAiCpmB,EAAEqY,GAAY,CAC3C,SACA,sBACFzS,IAAauhB,GAGnBC,IACR,IAAO,SAAUvY,GACJuH,GAAiBwP,GAA2B/W,IAC7C6X,IACZ,GACA,CAKA,SAASU,KACL,GAAIxB,KAA8BrpB,GAC9B,OAGJE,EAAe2pB,GAAkCiB,IACjD5qB,EAAe6pB,GAAsCe,IACrD5qB,EAAe8pB,GAAiCc,IAChD5qB,EAAe+pB,GAAgCa,IAC/C5qB,EAAegqB,GAA+BY,IAG1CxB,GAAgCnS,GAAGqS,KAE/BF,GAAgCyB,GAAG/I,KACnCniB,EAAYgqB,GAAkCmB,IAC9CnrB,EAAYkqB,GAAsCvL,KAIlD3e,EAAYkqB,GAAsCiB,IAEtDnrB,EAAYqqB,GAA+Be,KAGtC3B,KAAoCve,IAEzClL,EAAYgqB,GAAkCmB,IAE9CnrB,EAAYmqB,GAAiCxL,IACzC6K,GAA0B5lB,EAAEynB,MAAgB1I,GAC5C3iB,EAAYmqB,GAAiCmB,IAE7CjrB,EAAe8pB,GAAiCmB,IAEpDtrB,EAAYoqB,GAAgCzL,IACxC6K,GAA0BjgB,EAAEgiB,MAAkBC,GAC9CxrB,EAAYoqB,GAAgCkB,IAE5CjrB,EAAe+pB,GAAgCkB,IAEnDtrB,EAAYqqB,GAA+Be,KAGtC3B,KAAoCne,KAEzCtL,EAAYgqB,GAAkCmB,IAE9CnrB,EAAYqqB,GAA+Be,KAK/C,IAAIK,EAAUjC,GAA0B3kB,IACpC3E,EAAYurB,EAAQ7nB,EAAE6F,IACtBiiB,EAAYD,EAAQ5mB,IACpB8mB,EAAS,EAEb,GAAIzrB,IAAcC,IAAcD,EAAUuE,EAAE,cAAgB,GACrDinB,IAAcvrB,KACbD,EAAYwrB,EAAU9nB,EAAE6F,IACpBvJ,IAAcC,IAAcD,EAAUuE,EAAEmnB,KAAwB,GAAG,CACnE,IAAIC,EAAW9qB,EAAY0qB,EAAQ1T,KAC/B+T,EAAW/qB,EAAY2qB,EAAU3T,KACjC8T,EAAWC,IACXH,EAASE,EAAWC,EAAW,EACnD,CAGI/B,GAAmBxgB,EAAEwC,GAAQyd,GAA0B3O,KAC7C2O,GAA0BzR,IAC1BhX,EAAYyoB,GAA0BjgB,EAAEwiB,KACxChC,GAAmBhS,IACnBhX,EAAYyoB,GAA0BjgB,EAAEwT,KACxChc,EAAYyoB,GAA0BjgB,EAAEyT,KACxC2O,GACLpiB,EAAEiO,GAAOgS,GAA0BjV,KAC9BxT,EAAYyoB,GAA0BjgB,EAAEyiB,MAGlD/kB,YAAW,WACP2X,GAAgBmL,IAChBvU,GAAUuU,GAClB,GAAO,GACP,CAKA,SAASO,KACL1U,GAAUmU,GACd,CAiBA,SAASkC,KACLC,GAAmBtqB,EAAE,iBACrBuqB,GAAsBD,GAAiBvP,GAAG,cAC1CyP,GAAmBxqB,EAAEyqB,GAAY,SACjCC,GAAoB1qB,EAAEyqB,GAAY,UAGlCD,GAAiBxZ,KAAKC,IAAG,WACrB,IAAImL,EAAKpc,EAAEqc,MACPsO,EAAS3qB,EAAEyqB,IACQ,IAAnBG,IACAA,GAAiB,IACjB9rB,EAAiB6rB,EAAQ,UAAW,YACpCvO,EAAGvB,GAAG9F,GAAa8V,GAAa,GAAI,GAAIC,OAGxCF,GAAiB,EACjB9rB,EAAiB6rB,EAAQ,WAAY,WACrCvO,EAAGvB,GAAG9F,GAAagW,GAAc,GAAI,GAAID,MAE7CE,IACR,IAEIN,GAAkB1Z,KAAKC,IAAG,WACtBiQ,IACR,IAEIoJ,GAAiBnO,OAAM,WAEfmO,GAAiB1nB,IAAM,IACvBxE,EAAYosB,GAAkBS,IAC9B7sB,EAAYssB,GAAmBO,MAG/BxsB,EAAe+rB,GAAkBS,IACjCxsB,EAAeisB,GAAmBO,KAEtCrX,GAAU4W,IACV5W,GAAU8W,GAClB,IAAO,WACC1W,GAAUwW,IACVxW,GAAU0W,GAClB,GACA,CAMA,SAAS7B,GAAcqC,GAqBnB,SAASC,EAAoBD,GACzB,IAAIE,EAAU5lB,GACVrE,EAAUC,EAAkB8pB,GAEhC,GAAI/pB,IAAYmI,GAAS,CAErB8hB,EAAUC,GAAiBH,EAAQjQ,IAEnC,IAAI6O,EAAYoB,EAAOjoB,IAAIA,IACvB6mB,EAAU9nB,EAAE8e,MAAyBC,IACrCuK,GAAqBxB,EAAUyB,IAC/C,CAGQ,IAAIC,EAAWN,EAAOO,QACtBD,EAAS7jB,EAAE+jB,GAAU,GAChB/jB,EAAEgkB,GAAU,GACjBpB,GAAoB1c,GAAG2d,GAGvB,IAAII,EACAC,EAAM1qB,IAAYof,GAatB,OAdWpf,IAAYof,IAEZsL,KACPltB,EAAc6sB,EAAUM,IACpBD,GACAztB,EAAYotB,EAAUO,KAI1BX,IACAY,GAAeR,GACfS,GAAkBf,EAAQjQ,KAGvBuQ,CACf,CAvDIU,KAGA3B,GAAoB4B,QAGpB,IAAIC,EAAMjB,EAAmBD,GAG7BF,KACAV,GAAiBjf,OAGjBghB,GAAwBD,GACxB7B,GAAoBhZ,UAAU,EA0ClC,CAKA,SAAS2P,KACLoJ,GAAiB3e,MACrB,CAKA,SAASugB,KAEL,IAAII,EAAQ,IACRC,EAAQ,IACRpW,EAAInW,EAAEnC,QAAQsY,IAAM,IACpBvT,EAAI5C,EAAEnC,QAAQ+E,IAAM,EACxB4pB,GAAsBrW,EAAImW,EAAQA,EAAQnW,EAC1CsW,GAAuB7pB,EAAI2pB,EAAQA,EAAQ3pB,EAC3C0nB,GAAiB3iB,EAAE0Y,GAASmM,IACvB7kB,EAAEkO,GAAU4W,GACrB,CAKA,SAASJ,GAAwBnB,GA+C7B,SAASwB,EAAad,GAClBzV,EAAIyV,EAAIe,MACR/pB,EAAIgpB,EAAIgB,MAChB,CAhDI,IAAIzrB,EAAUC,EAAkB8pB,GAC5B/U,EAAI+U,EAAO/U,IACXvT,EAAIsoB,EAAOtoB,IACXiqB,EAAsD,EAAtC1tB,EAAY+rB,EAAOvjB,EAAEmR,KACrCgU,EAA4D,EAAhD3tB,EAAYmrB,GAAiB3iB,EAAEmR,KAG/C,GAAI3X,IAAYof,GAAO,CACnB,IAAIqL,EAAM,IAAImB,MACdnB,EAAIzX,IAAM+W,EAAOlpB,EAAEmjB,IACfyG,EAAIoB,SACJN,EAAad,GAEbA,EAAIqB,OAAS,WACTP,EAAad,EAC7B,CACA,CAGI,IAAIsB,EAAe/W,EAAI0W,EACnB1W,EAAI,GAAK+W,EAAeV,KACxBA,GAAsBrW,EACtBmU,GAAiB3iB,EAAE0Y,GAAS6M,GACvBvlB,EAAEwlB,GAAmBX,GAAsB,MAAQC,GAAuB,OAInF7pB,EAAIsoB,EAAOtoB,IACX,IAAIwqB,EAAexqB,EAAIkqB,EAAYD,EAC/BjqB,EAAI,GAAKwqB,EAAeX,MAEnBtrB,IAAYof,IAASpf,IAAYof,KAC/B3d,EAAIsoB,EAAOtoB,MACVA,EAAIsoB,EAAOtoB,IACXwqB,EAAexqB,EAAIkqB,EAAYD,GAEvCJ,GAAuB7pB,EACvB0nB,GAAiB3iB,EAAEkO,GAAUuX,GACxBzlB,EAAEwlB,GAAmBX,GAAsB,MAAQC,GAAuB,MAWvF,CAKA,SAASzB,KACL5N,GAAmBoN,IACnBpN,GAAmBsN,IAEnBJ,GAAiB3iB,EAAE0lB,GAAa,SAAWzC,GAAiB,KACvDjjB,EAAEwlB,GAAmBX,GAAsB,MAAQC,GAAuB,MAE/EpnB,YAAW,WACP2X,GAAgBwN,IAChBxN,GAAgB0N,GACxB,GAAO,GACP,CASA,SAAS9hB,GAAU0kB,EAAQC,GACvB,IAAI3H,EAAIvJ,KACRuJ,EAAEjQ,GAAK3V,EAAE,gBACT4lB,EAAE0H,OAASA,EACX1H,EAAE2H,KAAOA,EACT3H,EAAE4H,KAAO,CACLC,OAAQH,EACRI,OAAiB,IAATJ,GAEZ1H,EAAE+H,QAAU,CACR3oB,GAAK,EACL8Q,GAAK,GAGT8P,EAAE5Z,QAAUzN,GAKZqnB,EAAEgI,WAAa,WACPhI,EAAEjQ,GAAG5C,aAGT6S,EAAE0H,OAAS1H,EAAE0H,OAAS1H,EAAE4H,KAAKE,OACvB9H,EAAE4H,KAAKE,OACP9H,EAAE4H,KAAKC,OAEb7H,EAAE9U,UACV,EAKI8U,EAAEva,KAAO,WACL5M,EAAemnB,EAAE5Z,QAAQE,KAAKL,IAAiB6d,IAC/CtrB,EAAYwnB,EAAE5Z,QAAQE,KAAKpD,IAAc4gB,IAGrC3J,GAAYC,SAAWpS,IACvBxP,EAAYiC,IAAWwtB,IAE3BjI,EAAES,KAAO,IACTT,EAAEjQ,GAAGtK,OACL5M,EAAeuB,EAAE4lB,EAAEkI,cAAeC,IAClCnI,EAAE9U,UAEF,IAAIkd,EAAO9Z,GAAc,WAAagB,GAClC+Y,EAAO/Y,GAAUA,GAAS,IAAMA,GAAUA,GAAUhB,GAAc,OAASgB,GAC/E0Q,EAAE2H,KAAKliB,KAAK,CACR2iB,EAAO,UAAYC,EAAO,KAC1BD,EAAO,mCAAqCC,EAAO,QACrDrmB,IACV,EAMIge,EAAE9U,QAAU,SAAUD,GAEdA,IAAUtS,KACNsS,EAAM0H,UAAYha,KAClBqnB,EAAE+H,QAAQ3oB,EAAI6L,EAAM0H,SACpB1H,EAAM+H,UAAYra,KAClBqnB,EAAE+H,QAAQ7X,EAAIjF,EAAM+H,UAIvBgN,EAAEsI,aAIPtI,EAAEjQ,GAAGhO,EAAEwmB,GAAc,6BACfvI,EAAE+H,QAAQ3oB,EAAI,MAAQ4gB,EAAE+H,QAAQ7X,EADjB,mBAEE8P,EAAE0H,OAFJ,0BAGS1H,EAAE0H,OAAS,GAAK,gCACtD,EAKI1H,EAAEsI,UAAY,WACV,OAAOtI,EAAEjQ,GAAG4H,UACpB,EAKIqI,EAAElb,GAAK,WAEH,OAAIkb,EAAEsI,aACFtI,EAAEja,OAOCnG,KAHHogB,EAAEva,OACK9F,GAGnB,EAKIqgB,EAAEja,KAAO,WACLgG,KACAiU,EAAE2H,KAAK5hB,OACPlN,EAAemnB,EAAE5Z,QAAQE,KAAKpD,IAAc4gB,IAC5CjrB,EAAe4B,IAAWwtB,IAC1BjI,EAAEjQ,GAAGhK,MACb,EAQIia,EAAEvH,cAAgB,SAAUZ,EAAMI,EAAUhN,GACxC,GAAI2N,GACA,OAEJ,IAAIE,GAAU,EACd,OAAQjB,GACJ,KAAK,GACDmI,EAAEgI,aACFlP,GAAU,EACV,MACJ,KAAK,GACGkH,EAAEsI,cACFtI,EAAEja,OACF+S,GAAU,GAEd,MAIJA,GACA7N,EAAM8N,gBAClB,CACA,CAQC,SAAS3V,GAAaukB,GACnB,IAAI3H,EAAIvJ,KACRuJ,EAAE2H,KAAOA,EACT3H,EAAE5Z,QAAUzN,GAEZqnB,EAAEwI,OAAS5oB,GAGXogB,EAAEkI,aAAe,SAKjBlI,EAAEva,KAAO,WACL5M,EAAemnB,EAAE5Z,QAAQE,KAAKpD,IAAc4gB,IAC5CtrB,EAAYwnB,EAAE5Z,QAAQE,KAAKL,IAAiB6d,IAE5C9D,EAAEwI,OAAS7oB,GACXnH,EAAY4B,EAAE4lB,EAAEkI,cAAeC,IAE/BnI,EAAE2H,KAAKliB,KAAK6I,GAAc,OAASgB,GAAU,CACzC,KACA,QACFtN,IACV,EAKIge,EAAEsI,UAAY,WACV,OAAOtI,EAAEwI,MACjB,EAKIxI,EAAElb,GAAK,WAEH,OAAIkb,EAAEsI,aACFtI,EAAEja,OAOCnG,KAHHogB,EAAEva,OACK9F,GAGnB,EAKIqgB,EAAEja,KAAO,WACLgG,KACAiU,EAAE2H,KAAK5hB,OACPia,EAAEwI,OAAS5oB,GACX/G,EAAemnB,EAAE5Z,QAAQE,KAAKL,IAAiB6d,IAC/CjrB,EAAeuB,EAAE4lB,EAAEkI,cAAeC,GAC1C,EAQInI,EAAEvH,cAAgB,SAAUZ,EAAMI,EAAUhN,GACxC,GAAI2N,GACA,OAEJ,IAAIE,GAAU,EACd,OAAQjB,GACJ,KAAK,GACGmI,EAAEsI,cACFtI,EAAEja,OACF+S,GAAU,GAEd,MAIJA,GACA7N,EAAM8N,gBAClB,CACA,CAQA,SAAS0P,GAAeC,EAASC,GAC7B,IAAI3I,EAAIvJ,KACRuJ,EAAEjQ,GAAK2Y,EACP1I,EAAE2I,MAAQA,EAEV3I,EAAElgB,KAAOnH,GACTqnB,EAAE4I,KAAO,GACT5I,EAAE6I,OAAS,EAEX7I,EAAEjQ,GAAG9H,GAAG3G,GAAU,wBAElB0e,EAAE8I,UAAY9I,EAAEjQ,GAAGoF,GAAG,wBAStB6K,EAAEnb,IAAM,SAAUpM,EAAQ6X,EAAMyY,EAASC,GAyCrC,SAASC,EAAaF,GAClB/I,EAAElgB,KAAKiQ,GAAGmZ,MAAMjU,GAAG9F,GAAa6Q,EAAElgB,KAAKiQ,GAAGmZ,MAAM9sB,EAAE+sB,KAC3CJ,EAAUK,GAAantB,IAAK,GAAI,GAAI+L,IACvD,CA3CQ,IAAIoJ,EAAO3Y,EAAO4wB,WAClBrJ,EAAE6I,SACF7I,EAAE4I,KAAKxX,GAAQ3Y,EAGf,IAAI8Y,EAAKyO,EAAE2I,MAAQ,IAAMvX,EACrBrB,EAAKuB,GAAWC,EAAIyO,EAAE2I,MAAO,QAASvX,EAAM,yBAA2B4X,EAAS,IAAM,IAAMM,GAAe,KAAOrS,GAAS,KAAO8R,EAAU,WAAa,MACnJ9W,GAAW4D,GAAgB1W,GAAMiS,EAAMjJ,GAAO,MAAOoJ,GAAMpS,GAAMgJ,GAAOghB,GAAY7Y,GAClFnB,GAAamB,EAAM,GAAI,GAAItI,KAyBvC,OAtBAgY,EAAEjQ,GAAG9H,GAAG8H,GACRtX,EAAOsX,GAAGmZ,MAAQlJ,EAAEjQ,GAAGoF,GAAG,IAAMU,GAAgB,IAAMzE,GAGlD2X,IACA/I,EAAElgB,KAAOrH,EACTwwB,EAAatpB,KAIjBqgB,EAAEjQ,GAAG1C,EAAEoE,GAAU,IAAMF,GAAIgY,QAAO,WAE9BvJ,EAAElgB,KAAKiG,OACPkjB,EAAarpB,IAEbogB,EAAElgB,KAAOkgB,EAAE4I,KAAKxuB,EAAEqc,MAAMnR,OACxB2jB,EAAatpB,IAEbqgB,EAAElgB,KAAK2F,OACPua,EAAEwJ,QACd,IAEexJ,EAAE4I,KAAKxX,EAWtB,EAMI4O,EAAEyJ,YAAc,WACZ,OAAOzJ,EAAEjQ,GAAG1C,EAAEoE,GAAUhV,GAAQC,GAAQsjB,EAAE2I,OAAS,IAAMe,IAAWpkB,KAC5E,EAMI0a,EAAE2J,IAAM,SAAUlxB,EAAQJ,GACtB,IAAIkZ,EAAKyO,EAAE2I,MAAQ,IAAMlwB,EAAO4wB,WAChC,GAAIhxB,IAAUM,GACV,OAAOqnB,EAAEjQ,GAAG1C,EAAEoE,GAAUhV,GAAQugB,GAAMzL,IAAKnV,EAAEktB,IAG7CjxB,EACAU,EAAcinB,EAAEjQ,GAAG1C,EAAEoE,GAAUhV,GAAQugB,GAAMzL,IAAM+X,IAGnDtJ,EAAEjQ,GAAG1C,EAAEoE,GAAUhV,GAAQugB,GAAMzL,IAAKnV,EAAEktB,GAAcrS,GAEhE,EAKI+I,EAAEwJ,OAAS,WAEP,IAAII,EAAQ,EACRC,EACA9C,GAAS,IAFD,GACiB/G,EAAE6I,OAAS,GAAM7I,EAAEjQ,GAAGQ,IAAM,KACtByP,EAAE6I,OAOrC,GANA7I,EAAEjQ,GAAGoF,GAAG,IAAMU,IAAe9T,EAAE+jB,GAAU,aACpC/jB,EAAE0Y,GAASsM,EAAQ,KAExB/G,EAAEjQ,GAAGoF,GAAG,IAAMU,GAAgBiU,IAAS/nB,EAAE+jB,GAAU,GAG/C9F,EAAElgB,OAASnH,GACX,OACJ,IAAIF,EAASunB,EAAElgB,KAAKiQ,GAAGmZ,MACvBlJ,EAAE8I,UAAU/mB,EAAEwC,GAAQ9L,EAAOsxB,MAAMC,KAAOzwB,EAAYd,EAAOsJ,EAAEkoB,MAC1DloB,EAAE0Y,GAAShiB,EAAO8X,IAC/B,CACA,CASA,SAASlM,GAAU6lB,EAAM/lB,EAAUkR,IAC/B,IAAI2K,EAAIvJ,KACRuJ,EAAEjQ,GAAK3V,EAAE,iBACT4lB,EAAEmK,OAAS/vB,EAAE,iBAGb4lB,EAAEoK,cAAgBhwB,EAAE,uBACpB4lB,EAAE7a,QAAU,IAAIklB,GAAUrK,EAAEoK,cAAe,wBAAyBzqB,IAEpEqgB,EAAE7b,QAAWA,IAAYxL,GAAc0c,GAASlR,EAChD6b,EAAEsK,gBAAkBC,GACpBvK,EAAE9a,OAAStF,GAEXogB,EAAE+G,MAAQ/G,EAAEjQ,GAAGQ,IAEfyP,EAAEtb,OAAS/L,GACXqnB,EAAE5Z,QAAUzN,GAEZqnB,EAAEwK,UAAY,KAGdxK,EAAE4I,KAAO,IAAIH,GAAeruB,EAAE,kBAAmB,eACjDqwB,GAAoBzK,EAAE4I,KAGtB5I,EAAExV,QAAUwV,EAAE4I,KAAK/jB,IAAI,IAAI6lB,GAAWjU,KAAM7W,IAAS+qB,GAAoBhrB,GAAOC,IAEhFogB,EAAEpV,OAASoV,EAAE4I,KAAK/jB,IAAI,IAAI+lB,GAAUnU,KAAM9W,IAAQkrB,GAAmBjrB,GAAQA,IAE7EogB,EAAEnV,MAAQmV,EAAE4I,KAAK/jB,IAAI,IAAIimB,GAASrU,KAAM9W,IAAQorB,GAAkBnrB,GAAQA,IAE1EogB,EAAElV,MAAQkV,EAAE4I,KAAK/jB,IAAI,IAAImmB,GAASvU,KAAM9W,IAAQsrB,GAAkBrrB,GAAQA,IAE1EogB,EAAEjV,UAAYiV,EAAE4I,KAAK/jB,IAAI,IAAIqmB,GAAazU,KAAM9W,IAAQwrB,GAAsBvrB,GAAQA,IAEtFogB,EAAEpT,QAAUoT,EAAE4I,KAAK/jB,IAAI,IAAIumB,GAAW3U,KAAM9W,IAAQ0rB,GAAoBzrB,GAAQA,IAGhFogB,EAAEkK,KAAOA,EACTlK,EAAEkK,KAAKoB,YAAY7U,KAAMuJ,EAAEjQ,IAE3BiQ,EAAE4I,KAAKY,SAEPpS,GAAgB4I,EAAEmK,QAKlBnK,EAAExV,QAAQ+gB,iBAAmB,WAErBvL,EAAEtb,SAAW/L,IACbqnB,EAAEtb,OAAO8kB,QACrB,EAGIxJ,EAAE7a,QAAQqmB,QAAQrc,GAAasc,GAAgB,GAAI,GAAIC,KAEvD,IAAIC,EAAS1vB,GACb+jB,EAAE7a,QAAQymB,YAAY,CAClB,OAASD,EAAS,UAClB,SAAWA,EAAS,gBACtB3pB,KAGFge,EAAE7a,QAAQ0mB,QAAU,SAAUvG,EAAQjtB,GAClC2nB,EAAExV,QAAQshB,UAAU3L,QACpBH,EAAEpV,OAAOkhB,UAAU3L,QACnBH,EAAEnV,MAAMihB,UAAU3L,QAClBH,EAAEnV,MAAMihB,UAAU3L,QAClBH,EAAElV,MAAMghB,UAAU3L,QAClBH,EAAEjV,UAAU+gB,UAAU3L,QAEG,IAArB9nB,EAAM+G,IAAI/E,QAEV2lB,EAAExV,QAAQuF,GAAGgc,OAAOxF,QAChBvG,EAAE4I,KAAKa,gBAAkBzJ,EAAExV,QAAQ6e,YACpCrJ,EAAExV,QAAQuF,GAAG6C,KAAKnN,OACrBua,EAAExV,QAAQwhB,mBACVhM,EAAExV,QAAQyhB,kBACVjM,EAAExV,QAAQ0hB,eAEVC,GAAqBnM,EAAEpV,QACvBuhB,GAAqBnM,EAAEnV,OACvBshB,GAAqBnM,EAAElV,OACvBqhB,GAAqBnM,EAAEjV,aAIvBiV,EAAExV,QAAQuJ,OAAO1b,EAAMoF,KAEvB2uB,GAAgBpM,EAAEpV,OAAQvS,EAAMoF,KAChC2uB,GAAgBpM,EAAEnV,MAAOxS,EAAMoF,KAC/B2uB,GAAgBpM,EAAElV,MAAOzS,EAAMoF,KAC/B2uB,GAAgBpM,EAAEjV,UAAW1S,EAAMoF,KAE/C,EAEIuiB,EAAE7a,QAAQknB,QAAU,SAAU/G,GAC1B,GAAItF,EAAEsK,kBAAoBC,GAAS,CAE/B,IAAI+B,EADJ9zB,EAAYiC,IAAW8xB,IAEvB/zB,EADa4B,EAAE,IAAMoyB,IACDD,GAChC,CACA,EAEIvM,EAAE7a,QAAQsnB,OAAS,SAAUnH,GACzBzsB,EAAe4B,IAAW8xB,IAC1B1zB,EAAeuB,EAAE,IAAMoyB,IAAiBD,GAChD,EAGIvM,EAAE7a,QAAQunB,WAAa,SAAUpH,EAAQjtB,GACrC2nB,EAAE7a,QAAQC,MAAMC,OACxB,EAKI2a,EAAE2M,cAAgB,WACd3M,EAAE4M,iBACV,EAKI5M,EAAE6M,UAAY,WACVz0B,EAAe,KAEXwC,MAAgBjC,IACZqnB,EAAExV,QAAQsiB,cAAgBn0B,KAC1BE,EAAemnB,EAAExV,QAAQsiB,YAAaC,IACtC/M,EAAExV,QAAQwiB,oBAAsB,GAEpChN,EAAE1V,SACF0V,EAAEtb,OAAO4F,SACT0V,EAAE5Z,QAAQkE,UAIV2iB,IAEZ,EAKIjN,EAAE4M,gBAAkB,WACZ5M,EAAEsK,kBAAoBC,IACtBvK,EAAEja,KAAKsP,GACnB,EAMI2K,EAAElb,GAAK,SAAUooB,GAETlN,EAAE9a,OACF8a,EAAEja,KAAK,WAIPia,EAAE7b,QAAUkR,IAEP2K,EAAExV,QAAQ2iB,YAAcxd,KACzBqQ,EAAEva,KAAK8kB,IAKHvK,EAAE7b,UAAYkR,IACd2K,EAAEva,KAAK2nB,YAInB,IAAqBC,IAAcH,IACnClN,EAAEsN,aACV,EAOItN,EAAEva,KAAO,SAAU6kB,GAEf,MAAmB,QAAf/hB,IAAwByX,EAAE9a,QAAU8a,EAAEjQ,GAAGsD,MAAQ2M,EAAE+G,MAC5CnnB,IAGXogB,EAAEjQ,GAAGhO,EAAEwC,GAAQ,IACfyb,EAAEmK,OAAOpkB,OAETia,EAAEsK,gBAAkBA,EAEhBtK,EAAEsK,kBAAoB8C,IAEtBv0B,EAAemnB,EAAEjQ,GAAIwd,IACrB10B,EAAemnB,EAAEjQ,GAAIyd,IACrBh1B,EAAYwnB,EAAEjQ,GAAI0d,IAGbvjB,GAAIC,OAAOC,QACZ5R,EAAYwnB,EAAE5Z,QAAQE,KAAKhC,IAAcwf,IAE7CrpB,IAAUsH,EAAEkoB,GAAcyD,IAGrB1N,EAAE9a,QACHzF,YAAW,WAEPD,IAEA6M,IACpB,GAAmB,MAIF2T,EAAEsK,kBAAoBC,KAE3B1xB,EAAemnB,EAAEjQ,GAAI0d,IACrBj1B,EAAYwnB,EAAEjQ,GAAIwd,IAClB/0B,EAAYwnB,EAAEjQ,GAAIyd,IAGlBxN,EAAEkK,KAAKzkB,OAGHrL,EAAEnC,QAAQsY,IAAMyP,EAAE+G,MAAQ,GAC1B/G,EAAEjQ,GAAGhO,EAAE0Y,GAASrgB,EAAEnC,QAAQsY,IAAM,IAGhCyP,EAAEjQ,GAAGhO,EAAE0Y,GAASuF,EAAE+G,QAG1B/G,EAAE9a,OAASvF,GACJA,GACf,EAOIqgB,EAAEja,KAAO,SAAU5B,EAAUkR,IAEzB,OAAK2K,EAAE9a,QAAU8a,EAAEjQ,GAAGsD,KAAO,GAClBzT,IAGPogB,EAAEsK,kBAAoB8C,KAEtBpN,EAAE7b,QAAUA,EAGZkI,KAGKnC,GAAIC,OAAOC,QACZvR,EAAemnB,EAAE5Z,QAAQE,KAAKhC,IAAcwf,KAGpD9D,EAAEjQ,GAAGhO,EAAEwC,GAAQxE,EAAiB4tB,KAGhClzB,IAAUsH,EAAEkoB,GAAc,GAE1BjK,EAAEkK,KAAKnkB,OAGFmE,GAAIC,OAAOC,QACZ4V,EAAE3V,aAEN2V,EAAE9a,OAAStF,GAEJD,GACf,EAMIqgB,EAAE1V,OAAS,WACP,IAAIyhB,EAASnsB,GAwCb,OArCIogB,EAAE9a,QAAU8a,EAAEsK,kBAAoB8C,IAClC3yB,IAAUsH,EAAEkoB,GAAcyD,IAE9B1N,EAAE+G,MAAQ/G,EAAEjQ,GAAGQ,IAEfyP,EAAE7a,QAAQyoB,SAAS5N,EAAE+G,MAAQ,EAAmD,EAA/CxtB,EAAYymB,EAAEoK,cAAcroB,EAAEkoB,MAG/DjK,EAAE4I,KAAKY,UAGFxJ,EAAExV,QAAQ2iB,YAAcxd,MAEzBoc,EAAS/L,EAAEja,KAAKsP,IAGhB2K,EAAEjQ,GAAGhO,EAAEwC,GAAQqN,GAAS+b,KAGnBzjB,GAAIC,OAAOC,QACZvR,EAAemnB,EAAE5Z,QAAQE,KAAKhC,IAAcwf,KAK5C9D,EAAE7b,UAAYkR,KAEd0W,EAAS/L,EAAEva,KAAK2nB,IAGhBpN,EAAEjQ,GAAGhO,EAAE0Y,GAASoT,IAGX3jB,GAAIC,OAAOC,QACZ5R,EAAYwnB,EAAE5Z,QAAQE,KAAKhC,IAAcwf,KAG9CiI,CACf,EAKI/L,EAAE3V,WAAa,WACQ,QAAf9B,KAGJyX,EAAEmK,OAAOpoB,EAAEiO,IAAQ5V,EAAEnC,QAAQ+E,IAAMgjB,EAAEmK,OAAOntB,KAAO,GACnDgjB,EAAEmK,OAAO1kB,OACjB,EAKIua,EAAE7U,KAAO,SAAUF,GAEf,IAAI+U,EAAE9a,SAAUgF,GAAIC,OAAOC,OAI3B,GAAIa,EAAM+H,QAAU,KAAO/H,EAAM+H,QAAW5Y,EAAEnC,QAAQ+E,IAAM,KAAQiO,EAAM0H,SAAW,GAAI,CACrF,GAAmB,MAAfqN,EAAEwK,UACF,OAEJhyB,EAAYwnB,EAAEmK,OAAQzT,IAGtBsJ,EAAEwK,UAAY/qB,YAAW,WACrB5G,EAAemnB,EAAEmK,OAAQzT,IACzBsJ,EAAEva,KAAK8kB,GACvB,GAAe,IACf,MAG+B,MAAfvK,EAAEwK,YACF7I,aAAa3B,EAAEwK,WACfxK,EAAEwK,UAAY,KACd3xB,EAAemnB,EAAEmK,OAAQzT,IAGzC,EAKKsJ,EAAEsN,YAAc,WACTlpB,GAAWkmB,kBAAoB8C,IAC/BnjB,IACZ,EAQI+V,EAAEvH,cAAgB,SAAUZ,EAAMI,EAAUhN,GAIxC,GAFA+U,EAAEhb,OAAOyT,cAAcZ,EAAMI,EAAUhN,GAEnC+U,EAAEjQ,GAAG5C,WACL,OAEJ,IAAI2L,GAAU,EACd,OAAQjB,GACJ,KAAK,IACImI,EAAE7a,QAAQ2oB,UAAY9N,EAAE9a,QAAU8a,EAAEsK,kBAAoBC,KACzDvK,EAAEja,OACF+S,GAAU,GAEd,MAIJA,GACA7N,EAAM8N,gBAClB,CACA,CAgGA,SAAStU,KACL,IAAIub,EAAIvJ,KACJsX,EAAS,IAAMC,GAAgB,QAC/BC,EAAY,IAAMD,GAAgB,WAClCE,EAAS,IAAMF,GAAgB,QAC/BG,EAAO,IAAMH,GAAgB,aAEjChO,EAAEjQ,GAAK3V,EAAE,IAAM4zB,IAEfhO,EAAEtL,KAAO,CACL3E,GAAK3V,EAAE2zB,GACPxvB,KAAMnE,EAAE,IAAM4zB,GAAgB,eAGlChO,EAAEnL,QAAU,CACR9E,GAAK3V,EAAE6zB,IAGXjO,EAAErL,KAAO,CACL5E,GAAK3V,EAAE8zB,GACP3vB,KAAOnE,EAAE,IAAM4zB,GAAgB,eAInChO,EAAEpL,GAAKxa,EAAE+zB,GACTnO,EAAEpL,GAAGvV,EAAEnD,KAEY,QAAfqM,IACAyX,EAAEjQ,GAAGhK;AAKTia,EAAEoO,kBAAoB,SAAU31B,GAExBue,IAAe,GACfxe,EAAY4B,EAAE3B,GAAS41B,IACvBjX,GAAgBhd,EAAE3B,EAAS,aAG3BS,EAAiBkB,EAAE3B,GAAS41B,GAAU,WAElD,EAEIrO,EAAEoO,kBAAkBL,GACpB/N,EAAEoO,kBAAkBH,GACpBjO,EAAEoO,kBAAkBF,GACpBlO,EAAEoO,kBAAkBD,GAKpBnO,EAAEtL,KAAK3E,GAAG3E,KAAKC,IAAG,WACd4hB,KACIjN,EAAEtL,KAAKnW,KAAKnC,EAAEkyB,MAAkBC,GAChCnqB,GAAWyoB,YAEXzoB,GAAWoG,QAAQgkB,WAAWxO,EAAEtL,KAAKnW,KACjD,IAKIyhB,EAAEpL,GAAGxJ,KAAKC,IAAG,WACT4hB,KACI7yB,EAAEqc,MAAMra,EAAEqyB,MAAgB91B,IAC1ByL,GAAWyoB,WACvB,IAKI7M,EAAEnL,QAAQ9E,GAAG3E,KAAKC,IAAG,WACjB4hB,KACA7oB,GAAWoG,QAAQgkB,WAAWxO,EAAEnL,QAAQ9E,GAChD,IAKIiQ,EAAErL,KAAK5E,GAAG3E,KAAKC,IAAG,WACd4hB,KACA7oB,GAAWoG,QAAQgkB,WAAWxO,EAAErL,KAAKpW,KAC7C,IAKIyhB,EAAEwJ,OAAS,WACP,IAAIkF,EAAStqB,GAAWoG,QAAQwiB,mBAwChC,GApCI0B,EAAS,GACT1O,EAAEtL,KAAK3E,GAAGtK,OACVua,EAAEtL,KAAK3E,GAAGhO,EAAE4sB,GAAWvB,IACvBpN,EAAEtL,KAAKnW,KAAKc,EAAEjF,EAAE,IAAMgK,GAAWoG,QAAQxN,EAAE0xB,EAAS,IAAIrvB,KACxD2gB,EAAEtL,KAAKnW,KAAKnC,EAAEkyB,GAAclqB,GAAWoG,QAAQxN,EAAE0xB,EAAS,IAGtD9zB,MAAgBjC,KAChBE,EAAemnB,EAAEpL,GAAIga,IACrB71B,EAAcinB,EAAEpL,GAAI6Z,IACpBzO,EAAEoO,kBAAkBD,GACpBjL,GAAclD,EAAEpL,GAAIhS,MAKnBwB,GAAWoG,QAAQqkB,iBACxB7O,EAAEtL,KAAKnW,KAAKc,EAAE,CACV,KACA,SACF2C,KACFge,EAAEtL,KAAKnW,KAAKnC,EAAEkyB,GAAcC,KAGvBnqB,GAAWoG,QAAQskB,eACxB9O,EAAEtL,KAAK3E,GAAGhK,OACVia,EAAEnL,QAAQ9E,GAAGhK,OAEblN,EAAemnB,EAAEpL,GAAI,yBACrBpc,EAAYwnB,EAAEpL,GAAIga,IAClB5O,EAAEpL,GAAGxY,EAAEqyB,GAAYtT,IACnBvE,GAAiBoJ,EAAEpL,KAKnBxQ,GAAWoG,QAAQsiB,cAAgBn0B,GAAY,CAE3CyL,GAAWoG,QAAQskB,aACnB9O,EAAEnL,QAAQ9E,GAAGhK,OAEbia,EAAEnL,QAAQ9E,GAAGtK,OAEjB,IAAIspB,EAAY3qB,GAAWoG,QAAQsiB,YAAY1wB,EAAE4yB,IAC7CD,IAAcp2B,KACdo2B,EAAY9yB,IAChB+jB,EAAEnL,QAAQ9E,GAAGkF,GAAG3T,GAAUrF,GAAGA,GAAG8yB,GAC1B3qB,GAAWoG,QAAQsiB,YAAY1wB,EAAEC,KACvC2jB,EAAEnL,QAAQ9E,GAAG3T,EAAEkyB,GAAclqB,GAAWoG,QAAQxN,EAAE0xB,GAC9D,CAIYA,EAAStqB,GAAWoG,QAAQxN,EAAE3C,OAAS,GACvC2lB,EAAErL,KAAK5E,GAAGtK,OACVua,EAAErL,KAAKpW,KAAKc,EAAEjF,EAAE,IAAMgK,GAAWoG,QAAQxN,EAAE0xB,EAAS,IAAIrvB,KACxD2gB,EAAErL,KAAKpW,KAAKnC,EAAEkyB,GAAclqB,GAAWoG,QAAQxN,EAAE0xB,EAAS,KAG1D1O,EAAErL,KAAK5E,GAAGhK,MACtB,EAKIia,EAAEva,KAAO,WAEc,QAAf8C,IAAwBhP,EAAYymB,EAAEjQ,GAAGhO,EAAEiO,MAAW,IAG1DxX,EAAYwnB,EAAEjQ,GAAIyd,IAClBxN,EAAEjQ,GAAGhO,EAAEiO,GAAO,GACdgQ,EAAEjQ,GAAGtK,OACb,EAKIua,EAAEja,KAAO,WAEDxM,EAAYymB,EAAEjQ,GAAGhO,EAAEiO,KAAU,IAGjCnX,EAAemnB,EAAEjQ,GAAIyd,IACrBxN,EAAEjQ,GAAGhO,EAAEiO,IAAQ,IACfgQ,EAAEjQ,GAAGhK,OACb,EAKIia,EAAE1V,OAAS,WAEFlG,GAAWoG,QAAQ2iB,YAUpBt0B,EAAe4P,GAA0B8lB,IACzCvO,EAAEva,OACFua,EAAEwJ,WAXFxJ,EAAEja,OACFvN,EAAYiQ,GAA0B8lB,IAGtCvO,EAAEtL,KAAKnW,KAAKnC,EAAEkyB,GAAcC,IAC5BvO,EAAErL,KAAKpW,KAAKnC,EAAEkyB,GAAclqB,GAAWoG,QAAQxN,EAAE,IAQ7D,EAKIgjB,EAAEvV,iBAAmB,WAEbP,GAAIC,OAAOC,QACX4V,EAAEtL,KAAK3E,GAAG6F,KACVoK,EAAEnL,QAAQ9E,GAAG6F,KACboK,EAAErL,KAAK5E,GAAG6F,OAKVsN,GAAclD,EAAEtL,KAAK3E,GAAIsF,IAEzB6N,GAAclD,EAAEpL,GAAIhS,IAEpBsgB,GAAclD,EAAEnL,QAAQ9E,GAAInN,IAE5BsgB,GAAclD,EAAErL,KAAK5E,GAAI7I,IAErC,EAQI8Y,EAAEvH,cAAgB,SAAUZ,EAAMI,EAAUhN,GACxC,GAAI2N,GACA,OAEJ,IAAIE,GAAU,EACd,OAAQjB,GACJ,KAAK,IACL,KAAK,GACDmI,EAAEtL,KAAK3E,GAAGxC,GAAGqK,IAEbxT,GAAWoG,QAAQ4B,cACnB0M,GAAU,EACV,MACJ,KAAK,IACL,KAAK,GACDkH,EAAErL,KAAK5E,GAAGxC,GAAGqK,IAEb1L,GAAoB,EAAG,GAEvB9H,GAAWoG,QAAQ4B,cACnB0M,GAAU,EACV,MAIJA,GACA7N,EAAM8N,gBAClB,CACA,CAQA,SAASkW,GAAatH,GAClB,IAAI3H,EAAIvJ,KACRuJ,EAAE2H,KAAOA,EACT3H,EAAE/gB,MAAQ,EACV+gB,EAAE0O,QAAU,EACZ1O,EAAE3G,QAAUzZ,GAEZogB,EAAE5Z,QAAUzN,GAKZqnB,EAAEkP,IAAM,WACJ,OAAkB,IAAdlP,EAAE0O,OACK/1B,GACJyB,EAAEqC,GAAQ0yB,GAAU,SAAWnP,EAAE0O,QAChD,EAMI1O,EAAElb,GAAK,SAAUrM,GAEb,GADAunB,EAAE3G,SAAW2G,EAAE3G,QACX2G,EAAE3G,QAAS,CACX7gB,EAAYwnB,EAAE5Z,QAAQE,KAAKV,IAAiBke,IAC5CsL,KAGA,IAAIhH,EAAO9Z,GAAc,KAAOgB,GAAU,IAAMA,GAC5C+Y,EAAO/Y,GAAS,IAAMA,GAAUhB,GAAc,KAAOgB,GAAU,IAAMA,GACrE+f,EAAO/f,GAAUA,GAAS,IAAMA,GAAUA,GAAUhB,GAAc,OAASgB,GAW/E,OAVA0Q,EAAE2H,KAAKliB,KAAK,CACR2iB,EAAO,QACDC,EAAO,QACPgH,EAAO,KACbjH,EAAO,qBACDC,EAAO,kBACPgH,EAAO,QACfrtB,KAEFge,EAAEsP,KAAK72B,GACAkH,EACnB,CAIQ,OAFIqgB,EAAEja,OAECnG,EACf,EAKIogB,EAAEnb,IAAM,SAAUrH,GACdA,EAAKpB,EAAE+yB,GAAU,SAAWnP,EAAE/gB,OAC9BzB,EAAKpB,EAAEmzB,GAAavP,EAAE/gB,OACtB+gB,EAAE/gB,QAGFzB,EAAK4N,KAAKC,IAAG,WAEJrF,GAAcqT,SAQf2G,EAAEsP,KAAK9xB,GACHgyB,MACAxpB,GAAclB,GAAGtH,IATjBgyB,MACGxpB,GAAclB,GAAGtH,KAChBuF,GAAWgD,OACX5C,GAAc4C,OAStC,GACA,EAOIia,EAAEyP,OAAS,SAAUC,GACjB,OAAK1P,EAAE3G,SAGP2G,EAAE2P,YAGE3P,EAAE0O,OAAS,GACX1O,EAAE0O,OAAS1O,EAAE0O,OAASgB,EAElB1P,EAAE0O,OAAS,IACX1O,EAAE0O,OAAS,GAGV1O,EAAEsP,KAAK,IACRtP,EAAEyP,OAAO,GAEN9vB,IAEJC,IAjBIA,EAkBnB,EAOIogB,EAAE4P,OAAS,SAAUF,GACjB,OAAK1P,EAAE3G,SAGP2G,EAAE2P,YAGE3P,EAAE0O,OAAS1O,EAAE/gB,MAAQ,GACrB+gB,EAAE0O,OAAS1O,EAAE0O,OAASgB,EAGlB1P,EAAE0O,OAAS1O,EAAE/gB,MAAQ,IACrB+gB,EAAE0O,OAAS1O,EAAE/gB,MAAQ,GAGpB+gB,EAAEsP,KAAK,IACRtP,EAAE4P,OAAO,GAENjwB,IAEJC,IAlBIA,EAmBnB,EAMIogB,EAAEsP,KAAO,SAAU72B,GACfunB,EAAE2P,YAGF,IAAInyB,EAAmB,IAAX/E,EACNunB,EAAEkP,MACFz2B,EAIN,GAAI+E,IAAS7E,IAAc6E,EAAK2P,YAAc3P,EAAKsP,MAAQnU,GACvD,OAAOiH,GAGXpH,EAAYgF,EAAMqyB,IAClB7P,EAAE0O,OAASn1B,EAAYiE,EAAKpB,EAAEmzB,KAG9B,IAAIvI,EAAoB,EAAXxpB,EAAKR,IAOlB,OANkB,IAAdQ,EAAKuP,OACAvP,EAAKuP,KAAOia,EAAU5sB,EAAE+B,UAAUwP,aACnCnO,EAAKuP,KAAOia,EAAW5sB,EAAE+B,UAAUwP,YAAcvR,EAAEnC,QAAQ+E,MAC3D9C,IAAWyR,UAAUnO,EAAKuP,KAAO3S,EAAEnC,QAAQ+E,IAAM,GAGlD2C,EACf,EAKIqgB,EAAE2P,UAAY,WACN3P,EAAEkP,QAAUv2B,IACZE,EAAemnB,EAAEkP,MAAOW,GACpC,EAKI7P,EAAEja,KAAO,WACLgG,KACAiU,EAAE2H,KAAK5hB,OACPlN,EAAemnB,EAAE5Z,QAAQE,KAAKV,IAAiBke,IAC/C9D,EAAE3G,QAAUzZ,GACZogB,EAAE2P,WACV,EAQI3P,EAAEvH,cAAgB,SAAUZ,EAAMI,EAAUhN,GACxC,IAAK+U,EAAE3G,QACH,OAEJ,IAAIP,GAAU,EACd,OAAQjB,GACJ,KAAK,GACDvM,KACI0U,EAAE4P,OAAO,IACTE,KACJhX,GAAU,EACV,MACJ,KAAK,GACDxN,KACI0U,EAAEyP,OAAO,IACTK,KACJhX,GAAU,EACV,MACJ,KAAK,GACGkH,EAAE3G,UACF2G,EAAEja,OACF+S,GAAU,GAEd,MAIJA,GACA7N,EAAM8N,gBAClB,CACA,CAsCA,SAASgX,KACLC,IAA0B,IAAIvkB,MAAOC,SACzC,CAMA,SAAS8jB,KAEL,OAAgC,IAA5BQ,GACOpwB,IAGP,IAAI6L,MAAOC,UAAYskB,GAA0B,KAEjD/3B,OAAOg4B,eAAeC,kBACfvwB,KAIXqwB,GAA0B,EACnBpwB,GACX,CAQA,SAASgF,GAAQF,GACb,IAAIsb,EAAIvJ,KACRuJ,EAAEjQ,GAAK3V,EAAE,IAAM+1B,IACfnQ,EAAE1Z,KAAO,GACT0Z,EAAEtb,OAASA,EAEQ,QAAf6D,IACAyX,EAAEjQ,GAAGhK,OAOTia,EAAEnb,IAAM,SAAUuM,EAAMgf,GACpBpQ,EAAE1Z,KAAK8K,GAAQhX,EAAE,UAAYgX,GAE7B4O,EAAE1Z,KAAK8K,GAAMhG,KAAKC,IAAG,WACjB4hB,YACA,IAAuBI,IAAc+C,GACjD,IAGQpQ,EAAE1Z,KAAK8K,GAAMmF,OAAM,WACf,IAAIC,EAAKpc,EAAEqc,MACP4Z,EAAW7Z,EAAGpa,EAAEk0B,IAChBD,IAAa13B,IACbH,EAAY4B,EAAE,gBAAkBi2B,GAAW3Z,IAC/C6Z,GAAc/Z,EAAInB,GAC9B,IAAW,WACC,IAAIgb,EAAWj2B,EAAEqc,MAAMra,EAAEk0B,IACrBD,IAAa13B,IACbE,EAAeuB,EAAE,gBAAkBi2B,GAAW3Z,IAClDuW,IACZ,GACA,EAMIjN,EAAEta,WAAa,SAAU0L,GACrB4O,EAAE1Z,KAAK8K,GAAQhX,EAAE,MAAQgX,EACjC,EAKI4O,EAAE1V,OAAS,WACP,GAAmB,QAAf/B,GAAJ,CAaA,GATI2B,GAAIC,OAAOC,SACX4V,EAAE1Z,KAAKV,IAAgBG,OACvBia,EAAE1Z,KAAKpD,IAAa6C,OACpBia,EAAE1Z,KAAKL,IAAgBF,OACvBia,EAAE1Z,KAAKJ,IAASH,OAChBia,EAAE1Z,KAAKX,IAAkBI,QAIzB4J,OAAyBvL,GAAWoG,QAAQ2iB,WAAY,CACxD,IAAIqD,EAAU,EAEV7gB,MACAqQ,EAAEjQ,GAAGhO,EAAEwT,GAAe,GACjBxT,EAAEyT,GAAgB,GAClBzT,EAAEiO,GAAO,GAAKwgB,GAIvBxQ,EAAE1Z,KAAKX,IAAkB5D,EAAE0Y,GAAS,IAGpC5hB,EAAemnB,EAAEjQ,GAAIyd,IACrBh1B,EAAYwnB,EAAEjQ,GAAIwe,IAGlB/1B,EAAYwnB,EAAEjQ,GAAGoF,GAAGQ,IAAmB6X,IACvCh1B,EAAYwnB,EAAEjQ,GAAGoF,GAAGQ,IAAmB4U,KAGlC5a,MACGvL,GAAWoG,QAAQ2iB,aAcnBxd,MAAwBvL,GAAWoG,QAAQ2iB,WAC3CnN,EAAEjQ,GAAGhO,EAAEwT,GAAe,GACjBxT,EAAEyT,GAAgB,GAClBzT,EAAEiO,GAAO,GAAKwgB,GAhBnBp2B,EAAE+B,UAAUwP,aAAe,EAC3BqU,EAAEjQ,GAAGhO,EAAEwT,GAAe,IACjBxT,EAAEyT,GAAgB,IAClBzT,EAAEiO,GAAO,IAGdgQ,EAAEjQ,GAAGhO,EAAEwT,GAAe,IACjBxT,EAAEyT,GAAgB,IAClBzT,EAAEiO,GAAO,EAsBlC,KAEa,CACD,GAAkB,IAAdgQ,EAAEjQ,GAAGhD,KACL,OAGJlU,EAAemnB,EAAEjQ,GAAIwe,IACrB/1B,EAAYwnB,EAAEjQ,GAAIyd,IAGlB,IAAIiD,EAAWzQ,EAAEjQ,GAAG1C,EAAE,UAAUhT,OAC5Bq2B,EAAWn3B,EAAYwG,EAAiB,iBACxC6pB,EAAQrwB,EAAYwG,EAAiB,iBACzCigB,EAAE1Z,KAAKX,IAAkB5D,EAAE0Y,GAAS,SAAWoT,GAAsB,OAC1D4C,EAAWC,EAAgD,EAArCn3B,EAAYymB,EAAEjQ,GAAGhO,EAAEwT,MAAuBkb,EAAW,GAAK7G,GAAS,YAEpG5J,EAAEjQ,GAAGhO,EAAEwT,GAAe,IACjBxT,EAAEyT,GAAgB,IAClBzT,EAAEiO,GAAO,GAEdnX,EAAemnB,EAAEjQ,GAAGoF,GAAGQ,IAAmB6X,IAC1C30B,EAAemnB,EAAEjQ,GAAGoF,GAAGQ,IAAmB4U,GACtD,CACQvK,EAAEjQ,GAAGtK,MAzFD,CA0FZ,CACA,CAOA,SAAS0U,KAAc,CA0WvB,SAASwW,GAAgB5gB,EAAI6gB,GACzB,IAAI5Q,EAAIvJ,KACRuJ,EAAEjQ,GAAKA,EACPiQ,EAAE4Q,MAAQA,EACV5Q,EAAE6Q,UAAY7Q,EAAE4Q,MAAMv2B,MAC1B,CAOA,SAASoI,GAAUynB,EAAM4G,GACrB,IAAI9Q,EAAIvJ,KACRuJ,EAAE8Q,MAAQA,EACV9Q,EAAEjQ,GAAK3V,EAAE,iBAET4lB,EAAE+Q,WAAa,IAAIJ,GAAgBv2B,EAAE,IAAM42B,GAAkB,UAAW,IAExEhR,EAAEiR,UAAY,IAAIN,GAAgBv2B,EAAE,IAAM42B,GAAkB,SAAU,IAEtEhR,EAAEkR,UAAY,IAAIP,GAAgBv2B,EAAE,IAAM42B,GAAkB,SACxD,CACI,eAAiBG,GAAiB,eAAiBC,GAAe,eAAiBC,GACnF,qBAAuBF,GAAiB,qBAAuBG,GAAc,qBAAuBF,GAAe,qBAAuBG,GAC1I,kBAAoBJ,GAAiB,kBAAoBG,GAAc,kBAAoBF,GAAe,kBAAoBG,GAC9H,aAAeJ,GAAiB,aAAeC,GAAe,aAAeG,KAGrFvR,EAAEwR,WAAa,IAAIb,GAAgBv2B,EAAE,IAAM42B,GAAkB,UACzD,CACI,eAAiBG,GAAiB,eAAiBC,GAAe,eAAiBC,GACnF,sBAAwBF,GAAiB,sBAAwBC,GAAe,sBAAwBC,GAAiB,sBAAwBI,GACjJ,mBAAqBN,GAAiB,mBAAqBC,GAAe,mBAAqBC,GAAiB,mBAAqBI,GACrI,cAAgBH,GAAc,cAAgBC,GAC9C,kBAAoBJ,GAAiB,kBAAoBG,GAAc,kBAAoBF,GAAe,kBAAoBG,GAC9H,aAAeJ,GAAiB,aAAeC,GAAe,aAAeG,KAGrFvR,EAAEkK,KAAOA,EACTlK,EAAEkK,KAAKoB,YAAY7U,KAAMuJ,EAAEjQ,IAE3BqH,GAAgB4I,EAAEjQ,IAGlBiQ,EAAE+Q,WAAWhhB,GAAG3E,KAAKC,IAAG,WACpB2U,EAAE7oB,MAAM,SACR6oB,EAAEja,MACV,IACIia,EAAEiR,UAAUlhB,GAAG3E,KAAKC,IAAG,WACnB2U,EAAE7oB,MAAM,QACR6oB,EAAEja,MACV,IACIia,EAAEkR,UAAUnhB,GAAG3E,KAAKC,IAAG,WACnB2U,EAAE7oB,MAAM,QACR6oB,EAAE0R,cACF1R,EAAEja,MACV,IACIia,EAAEwR,WAAWzhB,GAAG3E,KAAKC,IAAG,WACpB2U,EAAE7oB,MAAM,SACR6oB,EAAE0R,cACF1R,EAAEja,MACV,IAMIia,EAAEnd,KAAO,SAAUiuB,GAEXA,IAAUn4B,IAC6B,MAApCm4B,EAAMh5B,EAAE,0BACRg5B,IAAU9Q,EAAE8Q,QACX9Q,EAAE8Q,MAAQA,EACV9Q,EAAE7oB,MAAM6oB,EAAE8Q,QAGlB95B,EAAI,qBAAuBgpB,EAAE8Q,MAAQ,YAErC9Q,EAAE0R,cAGFt3B,EAAE,QAAUu3B,GAAc,YAAcA,GAAc,YAAcC,IAAiBvyB,EAAE,KAAO,CAC1F,MACAwyB,IACF7vB,IACV,EAKIge,EAAE0R,YAAc,WA0DZ,SAASI,IACL,IAAIC,EAAW,eACXC,EAAU,aACdhS,EAAEiS,SAASF,EAAUG,GAAUA,GAAUF,EAASA,GAClDhS,EAAEiS,SAASF,EAAUG,GAAUC,GAAQH,EAASA,EAAUI,GAC1DpS,EAAEiS,SAASF,EAAUM,GAAUH,GAAUF,EAASA,EAAUM,EACxE,CAGQ,SAASC,IACL,IAAIR,EAAW,qBACXC,EAAU,eACdhS,EAAEiS,SAASF,EAAUG,GAAUA,GAAUF,EAASA,EAAUQ,EAAUC,GACtEzS,EAAEiS,SAASF,EAAUG,GAAUQ,EAAeV,EAASA,EAAUW,EAASF,GAC1EzS,EAAEiS,SAASF,EAAUG,GAAUC,GAAQH,EAASA,EAAUI,EAAOK,GACjEzS,EAAEiS,SAASF,EAAUG,GAAUU,EAAeZ,EAASA,EAAUa,EAAQJ,EACrF,CAGQ,SAASK,IACL,IAAIf,EAAW,sBACXC,EAAU,WACVe,EAAkBf,EAAUM,EAChCtS,EAAEiS,SAASF,EAAUG,GAAUA,GAAUF,EAASA,EAAUQ,EAAUC,GACtEzS,EAAEiS,SAASF,EAAUG,GAAUC,GAAQH,EAASA,EAAUI,EAAOK,GACjEzS,EAAEiS,SAASF,EAAUM,GAAUH,GAAUF,EAASe,EAAkBP,EAAUC,GAC9EzS,EAAEiS,SAASF,EAAUM,GAAUF,GAAQH,EAASe,EAAkBX,EAAOK,EACrF,CAGQ,SAASO,IACL,IAAIjB,EAAW,kBACXC,EAAU,eACdhS,EAAEiS,SAASF,EAAUG,GAAUA,GAAUF,EAASA,EAAUQ,GAC5DxS,EAAEiS,SAASF,EAAUG,GAAUQ,EAAeV,EAASA,EAASW,GAChE3S,EAAEiS,SAASF,EAAUG,GAAUC,GAAQH,EAASA,EAAUI,GAC1DpS,EAAEiS,SAASF,EAAUG,GAAUU,EAAeZ,EAASA,EAAUa,EAC7E,CAGQ,SAASI,IACL,IAAIlB,EAAW,mBACXC,EAAU,WACVe,EAAkBf,EAAUM,EAChCtS,EAAEiS,SAASF,EAAUG,GAAUA,GAAUF,EAASA,EAAUQ,GAC5DxS,EAAEiS,SAASF,EAAUG,GAAUC,GAAQH,EAASA,EAAUI,GAC1DpS,EAAEiS,SAASF,EAAUM,GAAUH,GAAUF,EAASe,EAAkBP,GACpExS,EAAEiS,SAASF,EAAUM,GAAUF,GAAQH,EAASe,EAAkBX,EAC9E,CAGQ,SAASc,IACL,IAAInB,EAAW,aACXC,EAAU,gBACdhS,EAAEiS,SAASF,EAAUG,GAAUA,GAAUF,EAASA,EAAUQ,GAC5DxS,EAAEiS,SAASF,EAAUG,GAAUC,GAAQH,EAASA,EAAUI,GAC1DpS,EAAEiS,SAASF,EAAUG,GAAUU,EAAeZ,EAASA,EAAUa,EAC7E,CAGQ,SAASM,IACL,IAAIpB,EAAW,cACXC,EAAU,iBACdhS,EAAEiS,SAASF,EAAUG,GAAUQ,EAAeV,EAASA,EAAUW,GACjE3S,EAAEiS,SAASF,EAAUG,GAAUU,EAAeZ,EAASA,EAAUa,EAC7E,CA1HQ,IAAIH,EAAgB,MAChBE,EAAgB,MAChBJ,EAAW,WACXG,EAAU,UACVP,EAAQ,QACRS,EAAS,SACTP,EAAU,UACVG,EAAe,8DAKfW,EAAa,KAAO,CAAC,KAAM,WAAWpxB,IAE1B,UAAZge,EAAE8Q,MAEFgB,IAEiB,SAAZ9R,EAAE8Q,OAEPgB,IAEAS,IAEAS,IAEAE,IAGAzzB,YAAW,WACHugB,EAAEkR,UAAUN,MAAMv2B,OAAS,GAC3BD,EAAE,IAAMu3B,GAAc,WAAaC,IAAiBvyB,EAAE+zB,EAC1E,GAAe,MAEc,UAAZpT,EAAE8Q,QAEPgB,IAEAgB,IAEAG,IAEAE,IAGAH,IAEAE,IAGAzzB,YAAW,WACHugB,EAAEwR,WAAWZ,MAAMv2B,OAAS,GAC5BD,EAAE,IAAMu3B,GAAc,YAAcC,IAAiBvyB,EAAE+zB,EAC3E,GAAe,KAsEf,EAMIpT,EAAE3Z,WAAa,SAAUgtB,GACrBrT,EAAEqT,OAASA,CACnB,EAWIrT,EAAEiS,SAAW,SAAUqB,EAAYC,EAAWC,EAAYC,EAAaC,EAAgBjB,GACnF,GAAIt2B,SAASy0B,QAAU5Q,EAAE2T,QAAQL,EAAYC,EAAWC,GAAa,CACjE,IAAII,EAAU,QAAUC,GAAiBJ,EAAc,IAAMK,GAAU,IAAMJ,EAAiB,IAAMI,GAAU,cAAgBA,GAAU,KACpIC,EAEAA,EADAtB,IAAiB95B,GACN,IAAIq7B,SAASV,EACxC,EAA8D,CACtCjzB,MAAOkzB,EACPU,OAAQT,EACRzX,QAAS,SAIN,IAAIiY,SAASV,EACxC,EAA8D,CACtCjzB,MAAOkzB,EACPU,OAAQT,EACRzX,QAAS,OACT0W,aAAc,gBAK1BsB,EAASG,OAAO/a,MAAK,SAASgb,GAC1Bh4B,SAASy0B,MAAM/rB,IAAIsvB,GAEnB,IAAIC,EAASd,EAAa,IAAMC,EAAY,IAAMC,EAC9Ca,EAAW,KAAO,CAAC,MAAOxC,IAAS7vB,IACnCsyB,EAAa,CAAC,MAAO,WAAWtyB,IACpChL,EAAI,uBACJA,EAAIo9B,GAKJ,IAAK,IAAIn3B,EAAI,EAAGA,EAAI+iB,EAAEkR,UAAUN,MAAMv2B,OAAQ4C,IAC1C,GAAI+iB,EAAEkR,UAAUN,MAAM3zB,KAAOm3B,EAAQ,CACjCpU,EAAEkR,UAAUN,MAAM2D,OAAOt3B,EAAG,GAC5B,KACxB,CAGgB,IAAIu3B,EAAkBxU,EAAEkR,UAAUL,UAAY7Q,EAAEkR,UAAUN,MAAMv2B,OAC5Do6B,EAAar6B,EAAE,IAAMu3B,GAAc,WAAaC,IAChD4C,EAAkBxU,EAAEkR,UAAUL,UAC9B4D,EAAWp1B,EAAEi1B,EAAa,QAAU36B,EAAa66B,EAAkBxU,EAAEkR,UAAUL,UAAY,KAAO,MAElG4D,EAAWp1B,EAAEg1B,GAKjB,IAAK,IAAIp3B,EAAI,EAAGA,EAAI+iB,EAAEwR,WAAWZ,MAAMv2B,OAAQ4C,IAC3C,GAAI+iB,EAAEwR,WAAWZ,MAAM3zB,KAAOm3B,EAAQ,CAClCpU,EAAEwR,WAAWZ,MAAM2D,OAAOt3B,EAAG,GAC7B,KACxB,CAGgB,IAAIy3B,EAAmB1U,EAAEwR,WAAWX,UAAY7Q,EAAEwR,WAAWZ,MAAMv2B,OAC/Ds6B,EAAcv6B,EAAE,IAAMu3B,GAAc,YAAcC,IAClD8C,EAAmB1U,EAAEwR,WAAWX,UAChC8D,EAAYt1B,EAAEi1B,EAAa,QAAU36B,EAAa+6B,EAAmB1U,EAAEwR,WAAWX,UAAY,KAAO,MAErG8D,EAAYt1B,EAAEg1B,EAClC,GACA,CACA,EAQIrU,EAAE2T,QAAU,SAAUL,EAAYC,EAAWC,GACzC,IAAIoB,EAASz4B,SAASy0B,MAAMgE,SACxBC,EAASj1B,GACTpC,EAAOo3B,EAAOjgB,OAElB,MAAQnX,EAAKs3B,OAASD,GAAQ,CAC1B,IAAId,EAAWv2B,EAAKnF,MAChB07B,EAASgB,SAAWzB,GACjBS,EAAS1zB,QAAUkzB,GACnBQ,EAASE,SAAWT,IACnBqB,EAASl1B,GACT3I,EAAI,6BACJA,EAAIs8B,EAAa,IAAMC,EAAY,IAAMC,IAEjDh2B,EAAOo3B,EAAOjgB,MAC1B,CACQ,OAAOkgB,CACf,EAKI7U,EAAEva,KAAO,WACLua,EAAEkK,KAAKzkB,OACP2P,GAAkB4K,EAAEjQ,IACpBiQ,EAAEjQ,GAAGtK,OAELzO,EAAI,IAAMgpB,EAAE8Q,MAAQ,KACJ,UAAZ9Q,EAAE8Q,OACFt4B,EAAYwnB,EAAE+Q,WAAWhhB,GAAI+T,IAC7BjrB,EAAemnB,EAAEiR,UAAUlhB,GAAI+T,IAC/BjrB,EAAemnB,EAAEkR,UAAUnhB,GAAI+T,IAC/BjrB,EAAemnB,EAAEwR,WAAWzhB,GAAI+T,KAEf,SAAZ9D,EAAE8Q,OACPj4B,EAAemnB,EAAE+Q,WAAWhhB,GAAI+T,IAChCtrB,EAAYwnB,EAAEiR,UAAUlhB,GAAI+T,IAC5BjrB,EAAemnB,EAAEkR,UAAUnhB,GAAI+T,IAC/BjrB,EAAemnB,EAAEwR,WAAWzhB,GAAI+T,KAEf,SAAZ9D,EAAE8Q,OACPj4B,EAAemnB,EAAE+Q,WAAWhhB,GAAI+T,IAChCjrB,EAAemnB,EAAEiR,UAAUlhB,GAAI+T,IAC/BtrB,EAAYwnB,EAAEkR,UAAUnhB,GAAI+T,IAC5BjrB,EAAemnB,EAAEwR,WAAWzhB,GAAI+T,MAGhCjrB,EAAemnB,EAAE+Q,WAAWhhB,GAAI+T,IAChCjrB,EAAemnB,EAAEiR,UAAUlhB,GAAI+T,IAC/BtrB,EAAYwnB,EAAEwR,WAAWzhB,GAAI+T,IAC7BjrB,EAAemnB,EAAEkR,UAAUnhB,GAAI+T,IAE3C,EAMI9D,EAAErI,SAAW,WACT,OAAOqI,EAAEjQ,GAAGhO,EAAE4sB,MAAe1X,EACrC,EAII+I,EAAElb,GAAK,WACCkb,EAAErI,WACFqI,EAAEja,OAGFia,EAAEva,MAEd,EAKIua,EAAEja,KAAO,WACLia,EAAEjQ,GAAGhK,OACLia,EAAEkK,KAAKnkB,MACf,EAMIia,EAAE7oB,MAAQ,SAAU25B,GAEZA,IAAUn4B,KACVm4B,EAAQ9Q,EAAE8Q,OACd9Q,EAAE8Q,MAAQA,EAGV,MAAMkE,EAAU,CACZ,iBACA,oBACA,aACA,gBACA,cACA,eACA,eACA,eACA,gBACA,aACA,gBACA,gBAGJ,IAAIC,EAAc,GAClB,IAAK,IAAIh4B,EAAI,EAAGiC,EAAM81B,EAAQ36B,OAAQ4C,EAAIiC,EAAKjC,IAC3Cg4B,EAAYp0B,KAAKd,EAAiBi1B,EAAQ/3B,GAAK,IAAM+iB,EAAE8Q,QAG3D,IAAK,IAAI7zB,EAAI,EAAGiC,EAAM81B,EAAQ36B,OAAQ4C,EAAIiC,EAAKjC,IAC3CmD,EAAiB40B,EAAQ/3B,GAAIg4B,EAAYh4B,GAErD,EAQI+iB,EAAEvH,cAAgB,SAAUZ,EAAMI,EAAUhN,GACxC,GAAI+U,EAAEjQ,GAAG5C,WACL,OAEJ,IAAI2L,GAAU,EACd,OAAQjB,GACJ,KAAK,GACGmI,EAAErI,aACFqI,EAAEja,OACF+S,GAAU,GAEd,MAIJA,GACA7N,EAAM8N,gBAClB,CACA,CAQA,SAASpS,GAASujB,GACd,IAAIlK,EAAIvJ,KACRuJ,EAAEjQ,GAAK3V,EAAE,IAAM86B,IACflV,EAAEzjB,QAAUnC,EAAE,IAAM86B,GAAgB,YAEpClV,EAAE9K,aAAe9a,EAAE,IAAM86B,GAAgB,WACzClV,EAAE9K,aAAa9J,KAAKC,IAAG,WACnB2U,EAAEja,OAEF3N,EAAe,kBACvB,IAGI4nB,EAAEkK,KAAOA,EACTlK,EAAEkK,KAAKoB,YAAY7U,KAAMuJ,EAAEjQ,IAM3BiQ,EAAErI,SAAW,WACT,OAAOqI,EAAEjQ,GAAGhO,EAAE4sB,MAAe1X,EACrC,EAKI+I,EAAEva,KAAO,WAELua,EAAEkK,KAAKzkB,OAEHkK,KACAqQ,EAAEjQ,GAAGhO,EAAEwC,GAAQ,IACVxC,EAAEmF,GAAS,IAEhB8Y,EAAEjQ,GAAGhO,EAAEwC,GAAQ,OACVxC,EAAEmF,GAAS,OAEpB8Y,EAAEjQ,GAAGtK,MACb,EAKIua,EAAEja,KAAO,WACLia,EAAEjQ,GAAGhK,OACLia,EAAEkK,KAAKnkB,MACf,EAQIia,EAAEvH,cAAgB,SAAUZ,EAAMI,EAAUhN,GACxC,GAAI+U,EAAEjQ,GAAG5C,WACL,OAEJ,IAAI2L,GAAU,EACd,OAAQjB,GACJ,KAAK,GACGmI,EAAErI,aACFqI,EAAEja,OACF+S,GAAU,GAEd,MAIJA,GACA7N,EAAM8N,gBAClB,CACA,CA8CA,SAAS5R,KACLguB,GAAe/6B,EAAE,IAAMg7B,IACJ,QAAf7sB,IACA4sB,GAAapvB,MACrB,CAOA,SAASqB,GAAcgK,EAAM5T,GACzB63B,GAAgBjkB,GAAQ5T,EACpB83B,KAAsB38B,IAAc28B,GAAkBr4B,EAAEmU,IAAS,IACjE5T,EAAK6b,QAAUzZ,GACfvG,EAAUmE,EAAKuS,IAEvB,CAKA,SAASxF,KAEDL,GAAIC,OAAOC,QACX/Q,EAAUg8B,GAAgB,aAElC,CASA,SAASxuB,KACLQ,GAAgBjN,EAAE,IAAMm7B,GAC5B,CAKA,SAASC,KAIL,IAAIC,EAAQh7B,IAAU4E,IAAIvH,EAAE,YACxBgH,EAAMrE,IAAU4E,IAAIvH,EAAE,2BAEtB49B,EAAuB,MAATD,EAAiB,EAAIA,EAAMp7B,OACzCs7B,EAAmB,MAAP72B,EAAe,EAAIA,EAAIzE,OACnCu7B,EAAYF,EAAaC,EACzBE,EAAkB,IAGlBC,EAAOF,EAAYC,EAAkB,EAAIt8B,EAAYq8B,EAAYC,GACjEE,EAAQD,EAAO32B,GAAM,CACjB,KACA,WACF6C,IACF8zB,EAAO,KACPC,GAASD,EAAO,IAAIE,QAAQ,GAAK72B,GAAM,CACnC,KACA,SACF6C,KAENqF,GAAcjL,EAAE65B,GACZF,EAAQ,MAAQ30B,EAAuBw0B,EAAUM,YAAc/2B,GAC7D,CACE,IACA,SACF6C,KAENqF,GAAcjL,EAAE+5B,GACZ,KAAO/0B,EAAuBu0B,EAASO,YAAc/2B,GAAM,CACvD,OACA,SACF6C,IACAZ,EAAuBs0B,EAAWQ,YAAc/2B,GAAM,CACpD,OACA,WACF6C,IAAa,MAEnBqF,GAAckP,OAAM,WAChBlP,GAAc4N,GAAG5N,GAAcjL,EAAE65B,IAAiBG,GAC5C90B,GAAU,iBAAkBrF,GAAGoL,GAAcjL,EAAE+5B,KAC7D,IAAO,WACC9uB,GAAc4N,GAAG5N,GAAcjL,EAAE65B,IACzC,IACI5uB,GAAc4N,GAAG5N,GAAcjL,EAAE65B,IACrC,CAQA,SAASnvB,KACLQ,GAAkBlN,EAAE,IAAMi8B,IAC1B/uB,GAAgBlL,EAAEqY,GAAY,CAC1B,UACA,qBACFzS,IAAa,KAAO+P,GAAS9V,GAAGA,GAAGqS,GAAc,OAEnD4U,GAAc5b,IACdA,GAAgB8D,KAAKC,IAAG,WACpB7I,GAAWsC,IACnB,GACA,CAQA,SAASiC,KACLQ,GAAoBnN,EAAE,IAAMk8B,IAC5B/uB,GAAkBnL,EAAEqY,GAAY,CAC5B,QAAU3O,GAAY,MAAQ,MAAQA,GAAY,MAAQ,QAC1D,UAAYA,GAAY,QAAU,MAAQA,GAAY,SAAW,SACnE9D,IAAa,KAAO+P,GAAS9V,GAAGA,GAAGqS,GAAc,OAEnD4U,GAAc3b,IACdA,GAAkB6D,KAAKC,IAAG,WACtB8O,GAAYrV,IACpB,GACA,CAKA,SAASyxB,KAELhvB,GAAkB0N,GAAG9F,GAChBgL,GAAYC,SAAWvS,GAAU2uB,GAAgBC,GAClD,GAAI,GAAIvR,IAChB,CAgBA,SAASle,GAAiBkjB,GAEtB1iB,GAAiBpN,EAAE,IAAMs8B,IACzBC,GAAsBv8B,EAAE,IAAMw8B,IAC9BC,GAAwBz8B,EAAE,IAAMw8B,GAAmB,WACnDE,GAAsB18B,EAAE,IAAMw8B,GAAmB,UACjDG,GAAmBp3B,GAEnBq3B,GAAsB7nB,GAAa8nB,GAAgB,GAAI,GAAIpvB,IAI3DqvB,GAAgBhN,EAChBgN,GAAc5L,aAAY,WACtB6L,IACR,GAAOR,IAGHG,GAAoBM,QAAO,WAEnBP,GAAsB1pB,YAAc2pB,GAAoBnrB,YAAc,GACtEkrB,GAAsBpxB,OAEjBqxB,GAAoBnrB,aAAe,IACxCkrB,GAAsB9wB,MAClC,GACA,CAKA,SAAS8D,KACL,IAAIwtB,EAAMz6B,EAAmB,OACzB06B,EAAS,QAETD,IAAQ9zB,KAIR8zB,IAAQ1+B,KACR2+B,EAAS,IAAMD,GAEnBj9B,EAAE,kBAAkB6f,GAAE,WAClB,IAAIzD,EAAKpc,EAAEqc,MACPte,EAAOqe,EAAGpa,EAAEgM,IACZivB,EAAMx7B,EAAyB1D,GAAW,IAE9C,GAAIk/B,IAAQ9zB,GACR,OAAO3D,GAGPy3B,IAAQ1+B,GACR6d,EAAGpa,EAAEgM,GAAQjQ,EAAKqG,EAAE,MAAO,IAAM64B,IAEjC7gB,EAAGpa,EAAEgM,GAAQjQ,EAAKqG,EAAE,MAAO84B,GACvC,IACA,CAOA,SAASC,GAAoBhmB,EAAIhV,GAC7B,IAAIiB,EAAOpD,EAAEkH,GAAUk2B,GAAYrvB,GAAOmmB,GAAc,IAAM/c,GAAKhV,IAEnE/D,EAAY4B,EAAEoD,EAAKpB,EAAEkyB,KAAelyB,EAAEq7B,GAAY,GAAI,uBAEtDX,GAAoB7uB,GAAGzK,GACvBA,EAAK4N,KAAKC,IAAG,WACTxS,EAAei+B,GAAoB3hB,GAAG,IAAM4X,IAAoBA,IAChEv0B,EAAYgF,EAAMuvB,IAElBltB,EAAgBrC,EAAKpB,EAAEkyB,KACvB6I,IACR,GACA,CAKA,SAASrtB,KAgDL,SAAS4tB,EAAe7qB,GACpB5N,IAGA,IAAIsS,EAAK,kBAAoBtS,EAC7B4N,EAAKzQ,EAAE4gB,GAAMzL,GAEbgmB,GAAoBhmB,EAAI,MAClBzL,GAAY,CACV,SACA,sBACF9D,IAAa,MAAQ6K,EAAKxN,IACxC,CA3DI,IAAK03B,GACD,OAEJ,IAAI93B,EAAQ,EAEZ7E,EAAEO,GAAU,MAAMsf,GAAE,WAChB,IAAIzD,EAAKpc,EAAEqc,MACPte,EAAOqe,EAAGpa,EAAEgM,IAGhB,GAAIjQ,IAASQ,GACT,OAAOgH,GAKX,GAAa,MAATxH,EACAu/B,EAAelhB,QACd,GAAIre,EAAK2X,GAAG,OAAS3X,EAAK2X,GAAG,SAAU,CAExC,IAAInD,EAASxU,EAAKgF,EAAE,EAAGhF,EAAKkC,QAE+D,IAAvFD,EAAEO,GAAU,KAAOgS,EAAS,IAAMhS,GAAU,KAAO8B,GAAQC,GAAQiQ,IAAStS,QAC5Eq9B,EAAelhB,EAE/B,CACA,IAGkB,IAAVvX,EACA5F,EAAUmO,KAIVhP,EAAYgP,GAAgBmwB,IAC5BnwB,GAAeyN,GAAG+hB,IAGlBxvB,GAAe4D,KAAKC,IAAG,WACfsrB,GAAoBxpB,WACpByqB,KAEAT,IAChB,IAiBA,CAMA,SAASU,KACL,OAAOrwB,GAAezF,EAAE4sB,MAAe1X,EAC3C,CAKA,SAAS2gB,KACLjB,GAAoBlxB,OACpByxB,GAAczxB,MAClB,CAKA,SAAS0xB,KACLR,GAAoB5wB,OACpBmxB,GAAcnxB,OAEdyB,GAAeyN,GAAG+hB,IAClBjd,IACJ,CAQA,SAASpB,GAAuBd,EAAMI,EAAUhN,GAC5C,GAAI0rB,GAAoBxpB,WACpB,OAEJ,IAAI2L,GAAU,EACd,OAAQjB,GACJ,KAAK,GACDpgB,EAAMogC,MACFA,OACAV,KACAre,GAAU,GAEd,MAIJA,GACA7N,EAAM8N,gBACd,CAUA,SAASrW,GAAO6O,EAAIlR,EAAOyU,GACvB,IAAIkL,EAAIvJ,KACRuJ,EAAE3f,MAAQA,EAGV5F,IAAUq9B,GAAGnvB,GAAS1M,GAAG,WAAaoE,IAAU1H,GAAa0H,EAAQlB,GAAMlD,IAAKsV,EAAKpS,GAAM+X,GACvFjI,OAGJoI,KAEA2I,EAAEjQ,GAAK3V,EAAE,WAAamX,GACtByO,EAAE+X,OAASp/B,GAGPmc,IAAUnc,IAAcmc,IACxBkL,EAAEjQ,GAAG9H,GAAGU,GAAS1M,GAAG,gBAAkB+jB,EAAE3f,MACpC8O,GAAa6oB,GAAiB,GAAI,GAAInwB,MAC1CmY,EAAE+X,OAAS/X,EAAEjQ,GAAGoF,GAAG,kBAGvB6K,EAAEiY,QAAUt/B,GACZqnB,EAAEkY,UAAYv/B,GAOdqnB,EAAEsL,YAAc,SAAU2M,EAASloB,GAC/BiQ,EAAEiY,QAAUA,EACZjY,EAAEkY,UAAYnoB,CACtB,EAKIiQ,EAAEva,KAAO,WASL,GAPAmU,KACAhB,GAAcjZ,GAGdqgB,EAAEjQ,GAAGhO,EAAEo2B,GAAUnY,EAAEkY,UAAUn2B,EAAEo2B,IAAY,GAGvCnY,EAAE+X,SAAWp/B,GAAY,CAEzB,IAAIwrB,EAAS,GACT/kB,EAAI7F,EAAYymB,EAAEkY,UAAUn2B,EAAEwC,KAAWyb,EAAEkY,UAAU3nB,IAAM4T,EAC3DjU,EAAI3W,EAAYymB,EAAEkY,UAAUn2B,EAAEiO,MAAWgQ,EAAEkY,UAAUl7B,IAAMgjB,EAAE+X,OAAO/6B,KAAO,EAE3EgjB,EAAE3f,QAAUkE,IAAUyb,EAAE3f,QAAU6G,GAClC8Y,EAAE+X,OAAOh2B,EAAEwC,GAAQyb,EAAE3f,QAAU6G,GACrB3N,EAAYymB,EAAEkY,UAAUn2B,EAAEwC,KAAWyb,EAAE+X,OAAOxnB,IAAM4T,EACpD/kB,GACL2C,EAAEiO,GAAOE,GAGT8P,EAAE3f,QAAUuG,KACjBsJ,EAAI3W,EAAYymB,EAAEkY,UAAUn2B,EAAE6E,KAAaoZ,EAAEkY,UAAUl7B,IAAMmnB,EAC7DnE,EAAE+X,OAGGh2B,EAAE6E,GAAUsJ,EAAI,IAEhBnO,EAAEq2B,GAAW,WAElC,CAGQpY,EAAEjQ,GAAG1C,EAAE,IAAM6B,GAAe,KAAOG,IAAoBjE,KAAKC,IAAG,WAC3DnB,GAAIzE,KAAKrL,EAAEqc,MACvB,IAGQuJ,EAAEjQ,GAAG3E,KAAKC,IAAG,WAET0O,YAEWiG,EAAS,UAAMqN,GACrBrN,EAAEiY,UAEHjY,EAAEiY,QAAQlyB,OAEdia,EAAEja,MACd,IAEQia,EAAEjQ,GAAGtK,MACb,EAKIua,EAAEja,KAAO,WAELgU,KACAnB,GAAchZ,GAEdogB,EAAEjQ,GAAGhK,MACb,CACA,CAaA,SAAShC,KACAT,IAGLlD,EAAiB,eAAgBi4B,GAAsB,KAC3D,CAKA,SAASC,GAAkB/7B,EAASiV,IAE3BlO,IACE/G,EAAQg8B,GAAGxd,GAAY,IAAM7N,IAAc7S,OAAS,GAMvDmX,IAAS9N,IAAWD,KAAgC7D,IAEpD4R,IAAS5N,IAAYD,KAAiC/D,IAEtD4R,IAAS1N,IAAeD,KAAoCjE,IAGhE44B,GAAuB33B,KAAKtE,EAChC,CAKA,SAAS0N,KACL,GAAK3G,GAAL,CAIA,GAAIm1B,GAA0Bp+B,OAAS,EACnC,IAAK,IAAI4C,EAAI,EAAGiC,EAAMu5B,GAA0Bp+B,OAAQ4C,EAAIiC,EAAKjC,IAC7D0kB,aAAa8W,GAA0BC,SAG/CC,IARI,CASR,CAQA,SAASA,KACL,IAAKr1B,GACD,OAGJ,IAAIs1B,EAAQC,GAAOC,UAAYD,GAAOD,MACtC,IAAK,IAAIG,EAAIH,EAAMv+B,OAAS,EAAG0+B,GAAK,EAAGA,IAAK,CAGxC,IAAIC,EAAWJ,EAAMG,GAAGE,aACpBD,IAAargC,IAAcqgC,EAAS/7B,EAChC,IAAMmnB,GAAsB,IAAM8U,GAAa,SAAW,GAC1DL,GAAOM,WAAWJ,EAKlC,CAGI,IAAK,IAAI97B,EAAI,EAAGiC,EAAMs5B,GAAuBn+B,OAAQ4C,EAAIiC,EAAKjC,IAE1D,GAAIzB,EAAkBg9B,GAAuBv7B,IAAI6S,GAAG,KAAM,CAEtD,IAAIkW,EAAM,IAAImB,MAEdnB,EAAIzX,IAAMiqB,GAAuBv7B,GAAGm8B,IAAI,GAAGC,WAEvCrT,EAAIoB,SACJqR,GAA0B53B,KACtBpB,YAAW,WACP65B,GAA8Bd,GAAuBv7B,GAAI0C,GAAO1C,EACxF,GAAuB,KAIP+oB,EAAIqB,OAAS,WACTiS,GAA8Bd,GAAuBv7B,GAAI0C,GAAO1C,EACpF,CACA,MAIYw7B,GAA0B53B,KACtBpB,YAAW,WACP65B,GAA8Bd,GAAuBv7B,GAAI0C,GAAO1C,EACpF,GAAmB,IAInB,CAQA,SAASq8B,GAA8B7gC,EAAQ8gC,EAASt8B,GACpD,IAAKqG,GACD,OAEJ,IAAI4gB,EAAYzrB,EAAO4E,IACnB9B,EAAUC,EAAkB/C,GAC5B+gC,EAAQj+B,EAAQuU,GAAG,KAGnBypB,IACArV,EAAYA,EAAU7mB,KAG1B,IAAIo8B,EAAWvV,EAAU9nB,EAAEs9B,IAwBvB18B,EAvBJ,GAAIy8B,IAAa9gC,IAAc8gC,EAAS3pB,GAAG,KAAM,CAC7C,IAAI6pB,EACJ,GADazV,EAAU9nB,EAAEw9B,MACVjhC,KAAe8gC,EAAS3pB,GAAG,KAEtC,YADA2oB,GAA0BC,OAGtC,CAGQc,GAEItV,EAAU9nB,EAAEsgB,MAAqB/jB,KACjCurB,EAAYA,EAAU7mB,KAI9B6mB,EAAU9nB,EAAE8e,GAAqB2e,IACjC3V,EAAU9nB,EAAEs9B,GAAuBG,IACnC3V,EAAUniB,EAAEkO,GAAUoF,IAElB9Z,EAAQuU,GAAG,MACXoU,EAAUniB,EAAE+3B,GAAiB,QAEzBvgC,EAAYd,EAAOsJ,EAAEkO,KAErBooB,IAGJ0B,GAAmCthC,EAAQyrB,EAAW3oB,EAAS0B,GAGnEw7B,GAA0BC,OAC9B,CASA,SAASqB,GAAmCthC,EAAQyrB,EAAW3oB,EAAS0B,GACpE,IAAKqG,GACD,OAGJ4gB,EAAU9nB,EAAE8e,GAAqBC,IAG7B5f,EAAQuU,GAAG,MAAQvU,EAAQuU,GAAG,KAC9BoU,EAAUniB,EAAEkO,GAAUooB,IACjBt2B,EAAEi4B,GAAa3kB,IACftT,EAAEk4B,GAAa5rB,IAIpB6V,EAAUniB,EAAEkO,GAAUooB,IACjBt2B,EAAEk4B,GAAa5rB,IAGxB,IAAIkC,EAAIzW,EAAYL,EAAcyqB,EAAUniB,EAAE0Y,MAG1CyJ,EAAU7W,EAAE3J,IAASrJ,OAAS,GAC9B7B,EAAY0rB,EAAU7W,EAAE6sB,IAA6BC,IAGzD,IAAIC,EAAKtgC,EAAYL,EAAchB,EAAOsJ,EAAE0Y,MACxClK,EAAI6pB,IACJ7pB,EAAI6pB,GAERlW,EAAU9nB,EAAE,gBAAiB,CACzB,SACA,cACF4F,KACF,IAAIq4B,EAAW,IAAMjW,GAAsB,IAAM8U,GAC3C,OAASj8B,EAAI,YAAcwd,GAAU,IAAMlK,EAAI,OACrDsoB,GAAOyB,WAAWD,EAAU,GAC5B7hC,EAAY0rB,EAAWgV,GAAa,OAASj8B,GAE7CinB,EAAU9nB,EAAEm+B,GAAmBh/B,GAG/B2oB,EAAU3Y,GAAGiC,IAAW,WACpBkY,GAAqBtrB,EAAEqc,MAC/B,GACA,CAMA,SAASiP,GAAqBxB,GAC1B,IAAK5gB,GACD,OAEJ,IAAI/H,EAAU2oB,EAAU9nB,EAAEm+B,IAG1B1hC,EAAeqrB,EAAWgV,IAG1BhV,EAAU9nB,EAAE8e,GAAqB2e,IACjC3V,EAAU9nB,EAAEs9B,GAAuBve,IACnC+I,EAAUniB,EAAEkO,GAAUoF,IAElB9Z,EAAQuU,GAAG,MAAQvU,EAAQuU,GAAG,KAC9BoU,EAAUniB,EAAEy4B,GAAYnlB,IAGxB6O,EAAUniB,EAAEk4B,GAAa,WAGzB/V,EAAU7W,EAAE3J,IAASrJ,OAAS,GAC9BxB,EAAeqrB,EAAU7W,EAAE6sB,IAA6BC,GAChE,CAcA,SAASn2B,KACLy2B,GAAcrgC,EAAE,IAAMsgC,IAEtBtjB,GAAgBqjB,GAAatsB,GACjC,CAOA,SAAS+U,GAAcoC,EAAQqV,EAAQtlB,IACnCgB,GAAeiP,GACfA,EAAO/O,OAAM,WACTga,GAAcjL,EAAQqV,EAC9B,IAAO,WACC1N,IACR,GACA,CASA,SAASsD,GAAcqK,EAAQD,EAAOlqB,GAClC,GAAIvG,GAAIC,OAAOC,OACX,OAEJqwB,GAAYxlB,GAAG2lB,EAAOx+B,EAAEqY,KAGxBkN,aAAakZ,IACbA,GAAoB,KAEpBlZ,aAAamZ,IACbA,GAAyB,KAEzBC,GAAqBtqB,EAErB,MAAMmZ,EAAQ,GACVoR,EAAQP,GAAYQ,KACpBC,EAAQT,GAAYU,KACpBC,EAAKhhC,EAAEnC,QAAQsY,IAAMqZ,EACrByR,EAAKjhC,EAAEnC,QAAQ+E,IAAM4sB,EACzB,IAAII,EAAO4Q,EAAOvnB,KACdioB,EAAMV,EAAO7tB,KAAO3S,EAAE+B,UAAUwP,YAChCob,EAAQ6T,EAAOK,KACfjU,EAAS4T,EAAOO,KAsChBI,EApCJ1iC,EAAe4hC,GAAazqB,GAAQ7Q,GAAMyH,GAAWzH,GAAMyD,GAAWzD,GAAM+H,KAGxEyzB,IAAUtlB,IAAW2U,EAAOgR,EAASI,KAErC5iC,EAAYiiC,GAAavzB,IACzB8iB,EAAO4Q,EAAOvnB,KAAO2nB,EAAQjU,EAEzBiD,EAAOgR,GAASI,IAChBpR,GAAcJ,GAGd+Q,IAAU/3B,KACV/J,EAAe4hC,GAAavzB,IAC5B1O,EAAYiiC,GAAa73B,IACzBonB,EAAO4Q,EAAOvnB,MAAQ0T,EAAQiU,GAAS,IAI3ChR,GAAQ,IACRA,EAAOJ,GAEPmR,KAAuBpiC,IACvBH,EAAYiiC,GAAaM,IAEzBO,EAAMtU,EAASkU,EAAQtR,EAAQyR,GAC/B7iC,EAAYiiC,GAAazqB,IACzBsrB,EAAMA,EAAMtU,EAAS4C,IAGrBpxB,EAAYiiC,GAAa7zB,IACzB00B,EAAMA,EAAMJ,EAAQtR,GAExB6Q,GAAY14B,EAAEwC,GAAQylB,GAAMjoB,EAAEiO,GAAOsrB,GAIrCT,GAAoBp7B,YAAW,WAC3B+7B,GAAwB77B,GACxBqO,GAAUysB,GAElB,GALmB,GAA0B,EAAIgB,GAMjD,CAKA,SAASxO,KAELtL,aAAamZ,IACbA,GAAyBr7B,YAAW,WAChC+7B,GAAwB57B,EAChC,GAAO67B,IAIH9Z,aAAakZ,IACbA,GAAoB,KACpBzsB,GAAUqsB,IAENM,KAAuBpiC,IACvBE,EAAe4hC,GAAaM,GACpC,CAQA,SAAS72B,GAASgmB,GACd,IAAIlK,EAAIvJ,KACRuJ,EAAEjQ,GAAK3V,EAAE,IAAMshC,IACf1b,EAAE2b,SAAW,KAGb3b,EAAEjQ,GAAG3E,KAAKC,GAAK,WACX2U,EAAEja,MACV,EAGIia,EAAEkK,KAAOA,EACTlK,EAAEkK,KAAKoB,YAAY7U,KAAMuJ,EAAEjQ,IAS3BiQ,EAAEna,OAAS,SAAU+1B,EAASta,EAAO4I,EAAMzxB,GACvCunB,EAAEva,KAAKm2B,EAASta,EAAO4I,EAAM,SAAUzxB,EAC/C,EASIunB,EAAE6b,OAAS,SAAUD,EAASta,EAAO4I,EAAMzxB,GACvCunB,EAAEva,KAAKm2B,EAASta,EAAO4I,EAAM4R,GAAUrjC,EAC/C,EASIunB,EAAEtoB,MAAQ,SAAUkkC,EAASta,EAAO4I,EAAMzxB,GACtCunB,EAAEva,KAAKm2B,EAASta,EAAO4I,EAAMyN,GAASl/B,EAC9C,EAMIunB,EAAErI,SAAW,WACT,OAAOqI,EAAEjQ,GAAGhO,EAAE4sB,MAAe1X,EACrC,EAUI+I,EAAEva,KAAO,SAAUm2B,EAASta,EAAO4I,EAAM1Y,EAAM/Y,GAC3CkpB,aAAa3B,EAAE2b,UACf3b,EAAE2b,SAAW,KAEb3b,EAAEjQ,GAAGkF,GAAG2mB,GAGR/iC,EAAemnB,EAAEjQ,GAAI4nB,IACrB9+B,EAAemnB,EAAEjQ,GAAI+rB,IACrB9b,EAAEjQ,GAAGhO,EAAE0Y,GAASxe,IACX8F,EAAEkO,GAAUhU,IACZ8F,EAAEmF,GAASmO,IACXtT,EAAE6E,GAAUyO,IACZtT,EAAEg6B,GAAgBC,IACnBxqB,IAASmmB,GACTn/B,EAAYwnB,EAAEjQ,GAAI4nB,IACbnmB,IAASsqB,IACdtjC,EAAYwnB,EAAEjQ,GAAI+rB,IAGlBrjC,IAAWE,GACX2c,GAAkB0K,EAAEjQ,GAAItX,GAIxB2c,GAAkB4K,EAAEjQ,IAExBiQ,EAAEjQ,GAAGtK,OAGQ,MAAT6b,IACAtB,EAAE2b,SAAWl8B,YAAW,WAChBugB,EAAEja,MACtB,GAAmBub,IAIP4I,GACAlK,EAAEkK,KAAKzkB,MACnB,EAKIua,EAAEja,KAAO,WACLia,EAAEjQ,GAAGhK,OACLia,EAAEkK,KAAKnkB,MACf,EAQIia,EAAEvH,cAAgB,SAAUZ,EAAMI,EAAUhN,GACxC,GAAI+U,EAAEjQ,GAAG5C,WACL,OAEJ,IAAI2L,GAAU,EACd,OAAQjB,GACJ,KAAK,GACGmI,EAAErI,aACFqI,EAAEja,OACF+S,GAAU,GAEd,MAIJA,GACA7N,EAAM8N,gBAClB,CACA,CAQA,SAAS9V,GAAWg5B,GAChB,IAAIjc,EAAIvJ,KACRhc,IAAUq9B,GACNnvB,GAAS1M,GAAG,iBAAmBggC,EAC3BtzB,GAAS1M,GAAGA,MAEpB+jB,EAAEjQ,GAAK3V,EAAE,kBAAoB6hC,GAM7Bjc,EAAEva,KAAO,SAAUm2B,GACf5b,EAAEjQ,GAAGoF,GAAG,OAAOF,GAAG2mB,GAClB5b,EAAEjQ,GAAGtK,MACb,EAKIua,EAAEja,KAAO,WACLia,EAAEjQ,GAAGhK,MACb,CACA,CASA,SAASU,KACLgC,GAA2BrO,EAAE,IAAM8hC,GAAoB,UACvDC,GAA0B/hC,EAAE,IAAM8hC,GAAoB,QAC1D,CAMA,SAASnwB,GAAuBJ,GACxBA,IAAchT,KACdgT,EAAYvR,EAAE+B,UAAUwP,aAGxBA,EAAY,GACRlD,GAAyB1G,EAAE4sB,MAAe1X,IAC1CxO,GAAyBhD,OAG7BgD,GAAyB1C,OAGzB4F,EAAYvR,EAAEnC,QAAQ+E,IAAO5C,EAAE+B,UAAUa,IAAM,GAC/Cm/B,GAAwBp2B,OAEpBo2B,GAAwBp6B,EAAE4sB,MAAe1X,IACzCklB,GAAwB12B,MAEpC,CAKA,SAAS2pB,KACL+M,GAAwBp2B,MAC5B,CAYA,SAASq2B,GAAsC3jC,EAAQ8C,GACnD,IAAI8gC,EAAgB,CACZ,KACA,UACFr6B,IAAas6B,GACfrY,EAAUhoB,GACVsgC,EAAW5jC,GACXgU,EAAS1Q,GACTugC,EAAgBvgC,GAGhBV,EAAQuU,GAAG,OACXysB,EAAWn4B,GAAW2G,UACtBsxB,EAAgB,CACZ,OACA,eACFr6B,IAAay6B,IAGVlhC,EAAQuU,GAAG,OAChBysB,EAAWn4B,GAAWyG,OAI1B,IAAI6xB,EAAQC,GAA6BlkC,EAAO4E,IAAI/B,KAAMC,GACtDqhC,EAAKF,EAAM,GACXG,EAAMH,EAAM,GAChBL,EAAgB/6B,GAAUrF,GAAGA,GAAGogC,EAAgBS,IAGtC,MAANF,GAAgC,IAAlBA,EAAGx9B,IAAI/E,SACrBuiC,EAAK3gC,GACD6M,KACIvN,EAAQuU,GAAG,MACX8sB,EAAKnkC,EAAO4U,EAAE,IAAM0vB,IAAmB19B,IAAID,IACtC7D,EAAQuU,GAAG,OAChB8sB,EAAKnkC,EAAO4U,EAAE,MAAMhO,IAAID,IAAIZ,EAAE,iCAAkCvC,KAEpE2gC,EAAKl+B,EAAoBk+B,EAAGx9B,IAAK,MAGzC6kB,EAAUoY,EAAgBO,EAGtBrhC,EAAQuU,GAAG,OACXnD,EAASwS,GAAkBsd,GAC3BhkC,EAAOukC,KAAKr0B,GAASgE,EAAQ,iBAC7B6vB,GAAiB/jC,EAAO4U,EAAE,IAAM0vB,IAAmB19B,KAG9C9D,EAAQuU,GAAG,OAChBnD,EAASqR,GAAYse,GACrB7jC,EAAOukC,KAAKr0B,GAASgE,EAAQ,cAC7B6vB,GAAiB/jC,EAAO4G,KAI5B5G,EAAOwkC,GAAGvrB,GAAgByL,GAAQ+f,KAAMjhC,GAAGgoB,IAE3C,IAAIkZ,EAAuB,MAAPN,GAAeA,EAAIxiC,OAAS,EAC5C8iC,IACA1kC,EAAOq/B,GAAGpmB,GAAgB0L,GAAQ8f,KAAMjhC,GAAGogC,EAAgBQ,IAC3DpkC,EAAO4E,IAAIjB,EAAEghC,GAAoB,MAIjCb,IAAa5jC,KACb6jC,GAAiBW,EAAeN,EAAM5gC,GACtC7B,EAAE,IAAMuS,GAAQvQ,EAAEihC,GAAapZ,GAC/BsY,EAAS13B,IAAIof,EAAStX,EAAQ6vB,GAEtC,CAOA,SAASc,GAAuC7kC,EAAQ8C,GACpD,IAAIqhC,EAAKnkC,EAAO2D,EAAEmhC,IACdV,EAAMpkC,EAAO2D,EAAEC,IACfkgC,EAAWn4B,GAAWwG,OACtB+B,EAAS1Q,GACTugC,EAAgBvgC,GAEhBygC,EAAQ,KAERE,IAAOjkC,IAAgC,IAAlBikC,EAAGx9B,IAAI/E,SAC5BqiC,EAAQC,GAA6BlkC,EAAO4E,IAAI/B,KAAMC,GACtC,MAAZmhC,EAAM,KACNE,EAAKF,EAAM,IACC,MAAZA,EAAM,KACNG,EAAMH,EAAM,KAIpB,IAAIzY,EAAUhoB,GACVogC,EAAgB,CAChB,KACA,WACFr6B,IAAaw7B,GAEXjiC,EAAQuU,GAAG,MACXysB,EAAWn4B,GAAW0G,MACtBuxB,EAAgB,CACZ,MACA,UACFr6B,IAAay7B,IAGVliC,EAAQuU,GAAG,OAChBysB,EAAWn4B,GAAW0G,MACtBuxB,EAAgB,CACZ,MACA,UACFr6B,IAAa07B,IAIT,MAANd,GAAgC,IAAlBA,EAAGx9B,IAAI/E,SACrBuiC,EAAK3gC,GACD6M,KACIvN,EAAQuU,GAAG,OACX8sB,EAAKnkC,EAAO4U,EAAE,KAAKhO,IAAID,KAE3Bw9B,EAAKl+B,EAAoBk+B,EAAGx9B,IAAK,MAGzCi9B,EAAgB/6B,GAAUrF,GAAGA,GAAGogC,EAAgBS,IAChD7Y,EAAUoY,EAAgBO,EAGtBrhC,EAAQuU,GAAG,MACXnD,EAASsQ,GAAYugB,GAErB/kC,EAAOukC,KAAKrrB,GAAUhF,EAAQ,oBAAqBxE,GAAOw1B,GAAepiC,KACzEihC,GAAiB/jC,EAAO4U,EAAE0P,GAAQ,IAAMjL,GAAS,eAAezS,KAG3D9D,EAAQuU,GAAG,MAChBnD,EAASsQ,GAAYugB,GACrB/kC,EAAOukC,KAAKrrB,GAAUhF,EAAQ,YAAaxE,GAAOw1B,GAAgBpiC,KAClEihC,GAAiB/jC,EAAO2D,EAAEmjB,KAGrBhkB,EAAQuU,GAAG,MAChBnD,EAAS2Q,GAAcmgB,GACvBhlC,EAAOukC,KAAKrrB,GAAUhF,EAAQ,YAAaxE,GAAOw1B,GAAepiC,KACjEihC,GAAiB/jC,EAAO2D,EAAEmjB,KAGrBhkB,EAAQuU,GAAG,OAChBnD,EAAS,cAAgB+wB,GACzBjlC,EAAOukC,KAAKrrB,GAAUhF,EAAQ,YAAaxE,GAAOw1B,GAAepiC,MAIrE9C,EAAOwkC,GAAGvrB,GAAgByL,GAAQ+f,KAAMjhC,GAAGgoB,IAE3C,IAAIkZ,EAAgBP,IAAOjkC,IAAqB,MAAPkkC,GAAeA,EAAIxiC,OAAS,EAerE,GAdI8iC,IACA1kC,EAAOq/B,GAAGpmB,GAAgB0L,GAAQ8f,KAAMjhC,GAAGogC,EAAgBQ,IAC3DpkC,EAAO4E,IAAIjB,EAAEghC,GAAoB,MAIjCb,IAAa5jC,KACb6jC,GAAiBW,EAAeN,EAAM5gC,GACtC7B,EAAE,IAAMuS,GAAQvQ,EAAEihC,GAAapZ,GAC/BsY,EAAS13B,IAAIof,EAAStX,EAAQ6vB,IAK9BjhC,EAAQuU,GAAG,KAAM,CACbrX,EAAO2D,EAAE6T,MAAcgH,IAAUxe,EAAOsJ,EAAEkO,MAAcgH,KACxDle,EAAcN,EAAQwX,IACtBxX,EAAOsJ,EAAEkO,GAAUhU,KAIvB,IAAIoE,EAAQ1H,GACRF,EAAOsJ,EAAE8Y,MAAgB5D,GACzBxe,EAAO4E,IAAI0E,EAAE0Y,GAAShiB,EAAOsJ,EAAE8Y,MACzBxa,EAAQ5H,EAAO2D,EAAEwe,OAAcjiB,IAAc0H,EAAMpD,EAAEwd,KAAY,EACvEhiB,EAAO4E,IAAI0E,EAAE0Y,GAAShiB,EAAOsJ,EAAE0Y,KAC1BhiB,EAAO2D,EAAEqe,MAAaC,GAC3BjiB,EAAO4E,IAAI0E,EAAE0Y,GAASlhB,EAAYd,EAAO2D,EAAEqe,KAAY,GAClDhiB,EAAO2D,EAAEwhC,MAAe3mB,GAC7Bxe,EAAO4E,IAAI0E,EAAE0Y,GAAShiB,EAAO2D,EAAEwhC,IAAWrgC,GAAG4B,IAAK,GAAK,MAEvD1G,EAAO4E,IAAI0E,EAAE0Y,GAASC,GAClC,CACA,CAOA,SAASiiB,GAA6B1Y,EAAS1oB,GA4C3C,SAASsiC,EAAgBplC,EAAQwG,EAAOuS,GACpC,IAAIkrB,EAAQ,GAEZ,GAAa,MAATlrB,EAAc,CACd,IAAIjT,EAAO9F,EAAO4G,IAAID,IACtBs9B,EAAM,GAAKn+B,EAAKpB,EAAE,EAAGoB,EAAKtB,EAAE,IAAK,IACnB,IAAVgC,IACAy9B,EAAM,GAAKn+B,EAAKpB,EAAEoB,EAAKtB,EAAE,KAAM,GAAK,EAAGsB,EAAKlE,OAAS,GACrE,MAE0B,MAATmX,IACS,IAAVvS,IACAy9B,EAAM,GAAKjkC,EAAO4U,EAAEywB,GAAS,OAAOz+B,IAAID,KAC5C/F,EAAUZ,EAAO4U,EAAEywB,GAAS,QAC5BpB,EAAM,GAAKjkC,EAAO4G,IAAID,KAE1B,OAAOs9B,CACf,CA5DI,IAAIA,EAAQ,GACRqB,EAAiBviC,EAAkByoB,GACnC+Z,EAAiBp+B,GAEjBq+B,EAAYC,GAA6Bja,GA4B7C,OA1BqB,IAAjBga,EAAU,IACVvB,EAAQmB,EAAgB5Z,EAAS,EAAGga,EAAU,IAC9CD,EAAiBr+B,IAGK,IAAjBs+B,EAAU,IACfvB,EAAQmB,EAAgB5Z,EAAS,EAAGga,EAAU,IAC9CvB,EAAM,GAAK,KACXsB,EAAiBr+B,IAGZo+B,EAAejuB,GAAG,OACvB4sB,EAAM,GAAKzY,EAAQ5kB,IAAID,IACvBs9B,EAAM,GAAK,KAGPqB,IAAmBhjC,IACpBkpB,EAAQliB,EAAEkM,GAAcI,IAClBtM,EAAEo8B,GAAYC,MAKvBJ,GAAoBziC,EAAQuU,GAAG,MAAyB,MAAjBmuB,EAAU,IACjD5kC,EAAU4qB,GAEPyY,CA6BX,CAOA,SAASwB,GAA6BzlC,GAClC,IAAI4lC,EACAC,EAAO,WACPC,EAAOtiC,GAEX,MAJW,eAIFuiC,KAAK/lC,EAAO4G,IAAID,KACd,CAAC,IAAK,GAERk/B,EAAKE,KAAK/lC,EAAO4G,IAAID,KACnB,CAAC,IAAK,IAEPm/B,EAAO9lC,EAAOwc,QAAUtc,IAC1B4lC,EAAKzuB,GAAG,aAAeyuB,EAAK7a,GAAG,SACA,IAA3B6a,EAAKthC,EAAE,eACA,CAAC,IAAK,GAEN,CAAC,IAAK,GAGlB,CAAC,EAAG,EACf,CAWA,SAAS8M,KAEL3P,EAAEO,GAAU,wCAAwCsf,GAAE,WAClDwkB,KACA,IAAIjoB,EAAKpc,EAAEqc,MACPioB,EAAOloB,EAAGnZ,IACdqhC,EAAKjwB,SAELiwB,EAAK1B,KAAK17B,GAAUq9B,GAAqB,OAASF,GAAuBxiC,GAAGA,KAC5Eua,EAAG/H,SAGH,IAAImwB,EAAQpoB,EAAGnZ,IACXwhC,EAAW,KACXC,EAAW,eACXP,EAAOK,EAAM3pB,KAAKzU,GAAGq+B,EAAUC,GAGnCF,EAAMxiC,EAAE2iC,GAAqBH,EAAMv/B,KAEnCk/B,EAAOA,EAAK/9B,GAAGw+B,GAAwB/sB,GAAWhW,GAAGA,GAAGkD,KACxDy/B,EAAM3pB,GAAGspB,EAAK/9B,GAAGs+B,EAAUD,IAG3BD,EAAMxzB,KAAKC,IAAG,SAAUJ,GACpB,IAAIuL,EAAKpc,EAAEqc,MACXwoB,GAAczoB,EAAIA,EAAGpa,EAAE2iC,IAAsBn/B,GACzD,GACA,IAGIxF,EAAEO,GAAU,KAAOgkC,GAAqB,MAAMtzB,IAAG,SAAUJ,GACvDA,EAAMi0B,iBACd,GACA,CAOA,SAAS11B,KAEL,IAAI21B,EAAMviC,EAAmB,OAC7BuiC,EAAOA,IAAQxmC,GAAa,EAAIY,EAAY4lC,GAE5C/kC,EAAE,IAAM6kB,IAAWhF,GAAE,WACjB,IAAIzD,EAAKpc,EAAEqc,MAGX4M,GAAqB7M,EAAI1S,IAGzBw0B,GAAkB9hB,EAAI1S,IAGlB0S,EAAGnJ,EAAE,IAAM0vB,IAAmB1iC,OAAS8kC,GACvC1C,KAEAjmB,EAAGwmB,KAAKtrB,GAAgB0S,GAAqBjc,GAAOuU,GAAiBwC,MAGrEkd,GAAsC5lB,EAAI0I,KAItCgf,GAA6B1nB,EAAGlb,MAAM,GAAK,GAC3CjC,EAAUmd,EAAGlb,KAE7B,GACA,CAOA,SAAS4mB,GAAyBoD,EAAQra,GACtC,IAAI1O,EAAUN,GACVmjC,EAAQpd,GAA0B7M,KAAK9H,EAAE,qBAAuB0vB,IAChEsC,EAAU,EACVC,EAAYF,EAAM/kC,OAElBklC,EAAW,CACP,YACA,SACA,OAEJC,EAAY,CACRvjC,GACA,MACAA,IAeR,GAZAmjC,EAAMnlB,GAAE,WACJolB,IACA,IAAII,EAAahwB,UAAUrV,EAAEqc,MAAMpX,KAEnC,IAAK,IAAIpC,EAAI,EAAGA,EAAIsiC,EAASllC,OAAQ4C,IAC7BwiC,EAAWxiC,EAAEsiC,EAAStiC,KAAO,IAC7BwiC,EAAaA,EAAWj/B,GAAG++B,EAAStiC,GAAIuiC,EAAUviC,KAE1DV,GAAWvC,EAAaylC,IAAeJ,EAAUC,EAAY,KAAOrjC,GAC5E,IAGQud,GAAgC,CAChC,IAAIkmB,EAAOzjC,GACP+lB,KAA8BrpB,KAC9B+mC,EAAO1d,GAA0B5lB,EAAEujC,KACvCpjC,EAAU,OAASmjC,IAAS/mC,GAAa+mC,EAAOzjC,IAAK,KAAOM,EAAU,OAC9E,CACI0iC,GAAc3Z,EAAQ/oB,EAASoD,GACnC,CAgBA,SAASs/B,GAAc3Z,EAAQ/oB,EAASqjC,EAAiBC,EAAiBC,GAEtE,IAAIC,GAAK,IAAIt0B,MAAOC,UACpB,GAAIs0B,IAAqBD,EAAKE,GAAwB,IAClD,OACJA,GAAwBF,EACxBC,GAAoBrgC,GAGpB,IAAIugC,EAAa,IAAM5a,EAAOlpB,EAAE6F,IAASzB,GAAGrB,GAAK,KACjDxH,EAAMuoC,GACN9lC,EAAE8lC,GAAY9jC,EAAE2iC,GAAqBxiC,GACrC5E,EAAMyC,EAAE8lC,GAAY9jC,EAAE2iC,KAGtB,IAAI9lB,EAAY,IAAIknB,YAAYD,GAGhCjnB,EAAU1N,GAAG,WAAW,SAASN,GAE7B,IAAIm1B,EAAO5mB,GAAiC,KAAO1T,GAAY,eAAiB,IAAM7J,GAClF0rB,EAAOiY,EAAkB,CACrB,OAAS7tB,GAAS9V,GAAGA,GAAG,yBACxB,OAAS8V,GAAS9V,GAAGA,GAAG,wCACtB+F,IAAa/F,GACvBgI,GAAU43B,OAAO,CACT,MACA,UACF75B,KAAcwX,GAAiCvd,GAAI0rB,GACnDyY,EAAM,IAAMxgC,GAAQ0lB,GAE1Bra,EAAMo1B,wBAEN,IAA4BhT,IAAcwS,IAG1C5mB,EAAUqnB,UAGNV,IAE4B,MAAxBW,KACA5e,aAAa4e,IACbA,GAAuB,MAE3B/nB,GAA+B7Y,IAE/B4gC,GAAuB9gC,YAAW,WAE9B+Y,GAA+B5Y,IAC/B2gC,GAAuB,IACvC,GAAe,MAGPP,GAAoBpgC,EAC5B,IAEIqZ,EAAU1N,GAAGosB,IAAS,WAElB1zB,GAAUvM,MAAMoO,GAAY,CACxB,oBACA,2DACF9D,KAAa,IAAMpC,GAAQ0lB,UAE7B,IAA0B+H,IAAcyS,IAGxC7mB,EAAUqnB,UACVN,GAAoBpgC,EAC5B,GACA,CA0BA,SAAS8K,KAqCL,SAAS81B,EAAgBhjC,EAAMijC,GAC3B,IAAIC,EAAOD,EAAKE,GACZC,EAAUhnC,KAAKoS,IAAI00B,GAEvB,GAAIA,EAAO,EACP,IAAK,IAAIzjC,EAAI,EAAGA,EAAI2jC,EAAS3jC,IACzB4jC,UAGH,GAAIH,EAAO,EACZ,IAAK,IAAIzjC,EAAI,EAAGA,EAAI2jC,EAAS3jC,IACzB6jC,UAIJC,GAAmBJ,GAAuB,KAG9CnjC,EAAKpB,EAAE4yB,GAAiBgS,KAChC,CAvDI,IAAIC,EAAUllC,EAAqB,qBAE/BmlC,GAAYC,WACRphC,EAAiB,oBAAoBX,MAAQmE,IAAS09B,IAAYtoC,KAI1EyoC,GAAoBH,GAGpBI,KACAH,GAAY/rB,GAAG,IAAMmsB,IAAarnB,GAAE,WAChC,IAAIzc,EAAOpD,EAAEqc,MACb+pB,EAAgBhjC,EACZ+jC,GAA+B/jC,EAAKpB,EAAE6F,KAClD,IAGIo/B,KACA5mC,IAAU0a,GAAG,UAAYqsB,GAAc,qBAAqBvnB,GAAE,WAC1D,IAAIzc,EAAOpD,EAAEqc,MACb+pB,EAAgBhjC,EACZ+jC,GAA+B/lC,EAAkBgC,IAC7D,IAGI6jC,KACA5mC,IAAU0a,GAAGpa,GAAO,QAAUD,GAAe,KAAKmf,GAAE,WAChD,IAAIwnB,EAAUC,GAAsB,GAChC3V,EACwC,OAAvCA,EAAS0V,EAAO3pC,EAAE,oBACnB2pC,EAAS1hC,EAAiBgsB,EAAO,IAAIvrB,GAAG,IAAK,KACjDpG,EAAEqc,MAAMra,EAAE4yB,GAAiByS,EACnC,IAuBA,CAKA,SAASZ,KACLF,KACAI,GAAmBJ,GAAuB,GAAK,CACnD,CAKA,SAASG,KACLC,GAAmBJ,GAAuB,GAAK,EAC/CA,KACAI,GAAmBJ,GAAuB,IAC9C,CAKA,SAASU,KACLN,GAAqB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GACrCJ,GAAuB,CAC3B,CAMA,SAASS,GAAoBH,GAkCzB,SAASU,EAAelB,GACpB,IAAI1U,EAC6D,OAA5DA,EAAS6V,GAAkBnB,GAAI3oC,EAAE+pC,MACb,IAAlB9V,EAAO1xB,SACNqnC,GAAsBjB,GAAM1U,EAAO,GACnC+V,GAAuBrB,GAAM1U,EAAO,GACpCgW,GAAsBtB,GAAM1U,EAAO,GACnCiW,GAAyBvB,GACN,SAAd1U,EAAO,GAAiBkW,GACR,SAAdlW,EAAO,GAAiBmW,GACzBC,GACNC,GAAsB3B,GAAM1U,EAAO,GAEnD,CAlCI,GAXIkV,IAAYtoC,KACZ0pC,GAAiBpB,GAUS,IAA1BoB,GAAehoC,OACf,OAGJ,IAAIioC,EAASD,GAAe9kC,GAAG,KAC3BkjC,EACJ,IAAK,IAAIxjC,EAAI,EAAGA,EAAIqlC,EAAOjoC,OAAQ4C,IAC/BwjC,EAAK6B,EAAOrlC,GAAGE,EAAE,EAAG,GACfolC,MAAM9B,KACPmB,GAAkBnB,EAAK,GAAK6B,EAAOrlC,GAAGmC,KAI9CuiC,EAAe,GACfA,EAAe,GACfA,EAAe,GACfA,EAAe,GACfA,EAAe,GACfA,EAAe,EAiBnB,CAKA,SAASX,KAmCL,SAASwB,EAAYvlC,EAAGwlC,GACpB,IAAIC,EAAKzmC,GACLgJ,EAAU87B,GAAmB9jC,GAC7B0lC,EAA4D,MAA/CZ,GAAsB9kC,GAAGE,EAAE,EAAG,GAAGrF,EAAE,SAChD8qC,EAASb,GAAsB9kC,GAAGQ,IA+BtC,MA5Be,MAAXmlC,EACAF,GAAMG,GAA6B59B,EAAShI,GAE5B,OAAX2lC,EACLF,GAAgC,IAAzB/B,GAEDmC,GAAuB79B,EAAS09B,GAEhCE,GAA6B59B,EAAShI,GAGvC2lC,IAAWlX,GAChBgX,GAAgC,IAAzB/B,IAA8B8B,EAAMN,GAErCY,GAA0B99B,EAAS09B,GAEnCE,GAA6B59B,EAAShI,GAG5B,UAAX2lC,EACLF,GAAgC,IAAzB/B,IAA8B8B,EAAMN,GAErCa,GAA0B/9B,EAAS09B,GAEnCE,GAA6B59B,EAAShI,GAEvC2lC,IAAWr/B,KAChBm/B,GAAMzmC,IACHymC,CACf,CAtEI,IAAIjC,EAAKE,GAAuB,EAC5BsC,EAAWxC,EAAK,EAAKA,EAAK,GAAK,EAC/BgC,EAAMT,GAAyBvB,GAC/ByC,EAASjnC,GAGb,GAAIwmC,EAAMN,GAKN,OAJIM,IAAQP,IAAiCe,GAAW,IACpDC,EAAUV,EAAYS,EAASR,GAAO,KAC1CS,GAAUV,EAAY/B,EAAIgC,GAEnBf,GAAsBjB,GACvByC,EACAd,GAAsB3B,GAIhC,IAAI5hC,EAAM,EACV,IAAK,IAAI5B,EAAI,EAAGA,EAAI0jC,GAAsB1jC,IACtC4B,EAAM2jC,EAAYvlC,GAAG,GACrBimC,GAAUrkC,EACN5B,EAAIwjC,GAAM5hC,EAAIxE,OAAS,IACvB6oC,GAAU,KAGlB,OAAOxB,GAAsBjB,GACvByC,EACAd,GAAsB3B,EA4ChC,CAOA,SAASc,GAA+BlpC,GACpC,IAAIooC,EAAKpoC,EAAMP,EAAE,cAAc,GAC/B,OAAOyqC,MAAM9B,GAAM,EAAIlnC,EAAYknC,EACvC,CAQA,SAASoC,GAA6BxqC,EAAOooC,GACzC,IAAI0C,EACAC,EADMtB,GAAuBrB,GAAIpmC,OACrBhC,EAAM69B,WAAW77B,OAC7BgpC,EAASpnC,GACb,GAAImnC,EAAM,EACN,IAAK,IAAInmC,EAAI,EAAGA,EAAImmC,EAAKnmC,IACrBomC,GAAU,IAElB,OAAOA,EAAShrC,CACpB,CAUA,SAASyqC,GAAuBQ,EAAKX,GAajC,SAASY,EAAUlrC,GACf,IAAImrC,EAASnrC,EAAM69B,WAAW34B,GAAGtB,IAAGwnC,UAChCC,EAASznC,GACb,IAAK,IAAIgB,EAAI,EAAGA,EAAIumC,EAAOnpC,OAAQ4C,IACjCymC,GACS,IAANzmC,GAAyB,IAAdumC,EAAOvmC,IAChBA,EAAI,GAAmB,IAAdumC,EAAOvmC,IAA8B,IAAlBumC,EAAOvmC,EAAI,GADXhB,GAE7B0nC,GAAiBH,EAAOvmC,KAAqB,IAAdumC,EAAOvmC,GAAW2mC,GAAkB,GAAKA,GAAkB3mC,KAE1FymC,EAEN,OAAOA,CACf,CAGI,SAASG,EAAgBxrC,GACrB,OAAOA,EAAMmI,GAAG,KAAM,KACjBA,GAAG,KAAM,KACTA,GAAG,KAAM,KACTA,GAAG,KAAM,KACTA,GAAG,KAAM,KACTA,GAAG,KAAM,KACTA,GAAG,KAAM,KACTA,GAAG,KAAM,KACTA,GAAG,KAAM,KACTA,GAAG,KAAM,KACTA,GAAG,KAAM,KACTA,GAAG,KAAM,IACtB,CAxCI,IAAIsjC,EAAUlqC,KAAK6lB,MAAM6jB,EAAM,KAC3BS,EAAQT,EAAM,IACdS,EAAM7N,WAAW77B,OAAS,IAC1B0pC,EAAQ,IAAMA,GAElB,IAAIC,EAAUF,EAAUP,EAAUO,GAAW,IAAMP,EAAUQ,GAASR,EAAUD,GAIhF,OAFIA,GAAO,IAAMA,GAAO,KACpBU,EAAUA,EAAQxlC,EAAE,KAAM,MACvBmkC,EAAYkB,EAAgBG,GAAWA,CAgClD,CAOA,SAASjB,GAA0B1qC,EAAOsqC,GACtC,IAAIqB,EAAU/nC,GACd,KAAO5D,EAAQ,GAAG,CACd,IAAIP,EAAIO,EAAQ,GACN,IAANP,IACAA,EAAI,IACRksC,EAAU1rB,OAAOC,aAAa,GAAKhf,EAAYzB,IAAMksC,EACrD3rC,GAASA,EAAQP,GAAK,EAC9B,CACI,OAAO6qC,EAAYqB,EAAUA,EAAQvmC,GACzC,CAWA,SAASulC,GAA0B3qC,EAAOsqC,GACtC,GAAItqC,GAAS,GAAKA,GAAS,IACxB,OAAOA,EACV,IAAI2rC,EAAU/nC,GACd,IAAK,IAAIgB,EAAI,EAAGA,EAAIgnC,GAAoB5pC,OAAQ4C,IAC7C,KAAO5E,GAAS6rC,GAAwBjnC,IACrC5E,GAAS6rC,GAAwBjnC,GACjC+mC,GAAWC,GAAoBhnC,GAGrC,OAAO0lC,EAAYqB,EAAUA,EAAQvmC,GACzC,CAWA,SAASwL,KAoFL,SAASk7B,EAAuB1rC,GAC5B,IAAI2rC,EAAQ3rC,EAAO4E,IAEb2/B,KAAK,IAAMjiB,GAAY,QAAUspB,GAAwB,OAAStpB,GAAY,KAEpFtiB,EAAOgW,SAASuuB,KAAK,IAAM/hB,GAAY,MAAQA,GAAY,KAE3DxiB,EAAO0c,KAAK1G,SAGZ,IAAI61B,EAAUlqC,EAAE2gB,GAAY,IAAMspB,IAC9BE,EAAUD,EAAQnvB,GAAG8F,IACzBspB,EAAQ77B,GAAGyG,GAAaq1B,GAAkB,GAAI,GAAIx8B,GAAQy8B,KAE1D,IAAIn0B,EAAOi0B,EAAQpvB,GAAG,IAAMsvB,IAgB5B,OAfArtB,GAAgB9G,GAEhBg0B,EAAQ/4B,GAAG,UAAU,WAEjB,IAAIiL,EAAK+tB,EACT/tB,EAAG+hB,GAAGrrB,GAAezQ,GAAQioC,KAAmBrnC,IAAI0E,EAAEkO,GAAUoF,IAChEmB,EAAGnZ,IAAI0E,EAAEkO,GAAUoF,IAEfoB,KAAKkuB,KACLnsC,EAAY8X,EAAMs0B,IAElB/rC,EAAeyX,EAAMs0B,GACrC,IAEQP,KACOC,CACf,CAjHI,IAAIO,EAAUjoC,EAAmB,SAC7BioC,IAAYlsC,KACRksC,IAAYthC,GACZuhC,GAA2BllC,IAE3BmlC,GAAqBF,EACUA,EAAQ1nC,EAAE,EAAG,KAKpD/C,EAAE8S,IAAc+M,GAAE,WAId,IAAIzD,EAAKpc,EAAEqc,MACPuuB,EAAmBplC,GAGvB4W,EAAGrB,GAAGpa,GAAOD,IAAcmf,GAAE,WACzB,IAAIqqB,EAAUH,EAAuB/pC,EAAEqc,OACnC6tB,IACA9tB,EAAK8tB,GACTU,GAAmB,CAC/B,IAGYA,IACAxuB,EAAGpa,EAAE6oC,GAAe9pB,IAChB3f,EAAkBgb,EAAGnZ,OAAS6P,IAC9BsJ,EAAGnZ,IAAIjB,EAAE6oC,GAAe9pB,KAMhC,IAAI+pB,EAAY1pC,EAAkBgb,EAAGnZ,KAGrC,GAAkB,OAAd6nC,GAAsBA,IAAch4B,IAAgBg4B,IAAcnqB,GAClE,OAAOpb,GACX,IAAIwlC,EAAuBvlC,GAG3B4W,EAAGnJ,EAAE,mCAAmC4M,GAAE,WACtC,IAAIzD,EAEJ,GAA8B,MAFrBpc,EAAEqc,MAEJpX,IAAIvH,EAAEstC,IAET,OADAD,EAAuBxlC,GAChBC,EAEvB,IAGYulC,IAAyBvlC,IACzB4W,EAAGnJ,EAAE,UAAU4M,GAAE,WACb,IAAIzD,EAAKpc,EAAEqc,MAEX,GAAI4uB,GAA0B7uB,IACM,MAA7BA,EAAGnX,IAAIvH,EAAEwtC,IAER,OADAH,EAAuBxlC,GAChBC,EAE/B,IAIYklC,KAA6BK,GAC7B3uB,EAAGvO,GAAG,UAAY8J,GAAS9V,GAAGA,GAAG8oC,IAAsB,YACnE,IAGIQ,KAGAC,IAuCJ,CAMA,SAASH,GAA0B5sC,GAC/B,IAAIgtC,EACJ,OADYhtC,EAAO4E,IAAIgC,IAAID,MACT3G,EAAO4G,IAAID,GACjC,CAqBA,SAASmmC,KAELnrC,EAAE,iCAAiC6f,GAAE,WAejC,SAASyrB,EAASjtC,GACdA,EAAOsJ,EAAEkM,GAAcI,IAClBtM,EAAE+jB,GAAU,GACZ/jB,EAAEgkB,GAAU,EAC7B,CAYQ,SAAS4f,EAAkBvB,GAEnBA,EAAMhoC,EAAE6oC,MAGZb,EAAMhoC,EAAEsoC,GAAkBkB,IAC1BC,IACZ,CArCQD,KACA,IAAIpvB,EAAKpc,EAAEqc,MACPqvB,EAAKtvB,EAAGlb,KACRuqC,EAAW,EAIfH,EAASI,GACTD,EAAWC,EAAGC,UAAU,YAAY1rC,OAAS,EAEzCwrC,EAAW,GACXH,EAASI,EAAGC,UAAU,aAW1BJ,EAAkBnvB,GAClBA,EAAGwvB,UAAU,6BAA6B/rB,GAAE,WACpC4rB,EAAW,GACXF,EAAkBvrC,EAAEqc,MAEpC,GAWA,GACA,CAKA,SAASpK,KACL,IAAI45B,GAAJ,CAGAA,GAAyBtmC,GACzB,IAAK,IAAI1C,EAAI,EAAGA,GAAK2oC,GAA4B3oC,IAC7CipC,GAAoCjpC,GAExCgpC,GAAyBrmC,EANrB,CAOR,CAMA,SAASsmC,GAAoCC,GAEzC,IAAIC,EAAY,EACZhC,EAAQhqC,EAAE8S,GAAezQ,GAAQioC,GAAkByB,GAAW,IACxDprB,GAAYte,GAAQioC,GAAkByB,IAChD/B,EAAMnqB,GAAE,WACJ,IAAIzD,EAAKpc,EAAEqc,MAGX,GAFAD,EAAGzU,EAAEkO,GAAUoF,IAEXmB,EAAGzU,EAAE4sB,MAAevB,GAAS,CAC7B,IAAIpG,EAASztB,EAAYid,EAAGzU,EAAEkO,KAC1B+W,EAASof,IACTA,EAAYpf,EAC5B,CACA,IAGQod,EAAMriC,EAAE4sB,MAAevB,IAEvBgX,EAAMriC,EAAEkO,GAAUm2B,EAE1B,CAKA,SAASl9B,KACDgB,GAAIC,OAAOC,OACXhQ,EAAE,IAAMkT,IAAqBsI,KAE7BS,GAAejc,EAAE,IAAMkT,IAC/B,CAKA,SAASwiB,KAWL,SAASuW,EAAc5tC,GACnB,IAAI6tC,EAAS7tC,EAAO4E,IAEhB7B,EAAkB8qC,KAAYvrB,KAE1Bvf,EAAkB8qC,EAAOjpC,OAAS0d,IAClCsrB,EAAcC,EAAOjpC,KAErBipC,EAAOlqC,EAAE4e,MAAYriB,IACrB2tC,EAAOnxB,GAAG8F,IAAW1N,GAAGqK,IAExC,CArBQ5R,GAAckpB,QAAUv2B,IAI5B0tC,EAAcrgC,GAAckpB,MAkBhC,CAOA,SAASsW,KAELprC,EAAE,oBAAoB6f,GAAE,WACpB,IAAIzD,EACAsvB,EADK1rC,EAAEqc,MACCnb,KAKRuqC,EADJC,EAAG/jC,EAAE4sB,GAAW1X,IACD6uB,EAAGC,UAAU,YAAY1rC,OAAS,EAClC,GACXyrC,EAAGC,UAAU,YAAYhkC,EAAE4sB,GAAW1X,GAClD,GACA,CAOA,SAAS5N,KAqFL,SAASk9B,EAAW17B,GAEhB,IAAI27B,EAAW,EACf37B,EAAMwC,EAAE,YAAY4M,GAAE,WAClBusB,EAAW,EACX,IAAIC,EAAqB9mC,GACrB+mC,EAA4B/mC,GAC5BgnC,EAAiBhnC,GAGrBvF,EAAEqc,MAAMpJ,EAAE,MAAM4M,GAAE,WACd,IAAI2sB,EAAKxsC,EAAEqc,MACPlY,EAAOqoC,EAAGvnC,IAIVonC,GACG57B,EAAMzO,EAAE2iB,MAAqB5D,KAC5B0rB,GAAqBrI,KAAKjgC,IAC3BuoC,GAAqBtI,KAAKjgC,MAEzBsM,EAAMzO,EAAE2iB,GAAiB5D,IACzBsrB,EAAqB7mC,IAGzB8mC,GACIK,GAAsBl8B,EAAO+7B,EAAIroC,KACjCmoC,EAA4B9mC,IAGhC+mC,GACgB,IAAbH,GACAQ,GAAsBxI,KAAKjgC,KAE1BsM,EAAMzO,EAAE6qC,GAAa9rB,IACrByrB,EAAGM,MAAM,MAAOjrC,IAChB0qC,EAAiB/mC,IAKzBgnC,EAAGxqC,EAAE+qC,GAAc,OAAS7K,GAAsB,IAAMkK,GACxDA,IAIAY,GAAgBv8B,EAAO+7B,EACvC,GACA,IAGYJ,EAAW,GACX37B,EAAMzO,EAAE,iBAAkBoqC,GAI9B37B,EAAMwC,EAAE,YAAY4M,GAAE,WAClB,IAAIusB,EAAW,EACXC,EAAqB9mC,GACrB0nC,EAAoB1nC,GAGxBvF,EAAEqc,MAAMpJ,EAAE,MAAM4M,GAAE,WACd,IAAIqtB,EAAKltC,EAAEqc,MACPlY,EAAO+oC,EAAGjoC,IAGVonC,GACG57B,EAAMzO,EAAE2iB,MAAqB5D,KAC5B0rB,GAAqBrI,KAAKjgC,IAC3BuoC,GAAqBtI,KAAKjgC,MAEzBsM,EAAMzO,EAAE2iB,GAAiB5D,IACzBsrB,EAAqB7mC,IAGzBynC,GACgB,IAAbb,GACA37B,EAAMzO,EAAE4iB,MAAoB7D,IAC5BosB,GAAoB/I,KAAKjgC,KAExBsM,EAAMzO,EAAE4iB,GAAgB7D,IACxBksB,EAAoBznC,IAIxB,aAAa4+B,KAAK8I,EAAGryB,QACrBqyB,EAAGnyB,KAAKA,KAAK1G,SACbjW,EAAY8uC,EAAI3oB,KAIpB2oB,EAAGlrC,EAAE+qC,GAAc,OAAS7K,GAAsB,IAAMkK,GACxDA,IAIAY,GAAgBv8B,EAAOy8B,EACvC,GACA,GACA,CAxLI,IAAIjlC,EAAK,IAAIC,GAIbD,EAAGE,KACHnI,EAAEsJ,IAASuW,GAAE,WACT,IAAIzD,EAAKpc,EAAEqc,MACPyN,EAAY1N,EAAGnZ,IAEnBi/B,KAGAjZ,GAAqB7M,EAAI9S,IAGzBwgB,EAAU9nB,EAAEsgB,GAAiBhZ,IAC7BlL,EAAY0rB,EAAWE,IAGvBF,EAAUkT,QAAO,WACb9rB,IACZ,IAGQi7B,EAAW/vB,GAGX8hB,GAAkB9hB,EAAI9S,IAEtB04B,GAAsC5lB,EAAI9S,GAClD,IACIrB,EAAGS,GAAG,mBAINT,EAAGE,KACHnI,EAAEsJ,GAAUjH,GAAQsiB,GAAiB5D,KAASlB,GAAE,WAC5C,IAAIzD,EAAKpc,EAAEqc,MACX+wB,GAAkBhxB,GAGlBA,EAAGnJ,EAAE,eAAe4M,GAAE,WAClB,IAAIwtB,EAAOrtC,EAAEqc,MACbswB,GAAsBvwB,EAAIixB,EAAMA,EAAKpoC,IACjD,GACA,IACIgD,EAAGS,GAAG,iBAINT,EAAGE,KACHnI,EAAEsJ,GAAUjH,GAAQ+hB,GAAoBrD,KAASlB,GAAE,WAC/CytB,GAAwBttC,EAAEqc,MAClC,IACIpU,EAAGS,GAAG,yBAINT,EAAGE,KACHnI,EAAEsJ,GAAUjH,GAAQuiB,GAAgB7D,KAASlB,GAAE,WAC3C,IAAIzD,EAAKpc,EAAEqc,MACXkxB,GAAcnxB,GAGdA,EAAGnJ,EAAE,KAAO5Q,GAAQmrC,GAAczsB,KAASlB,GAAE,WACzC,IAAIqtB,EAAKltC,EAAEqc,MAAMtB,GAAG,KAAO2U,IACvBwd,EAAGlrC,EAAEyrC,MAAsBlvC,IAC3B2uC,EAAGvlC,EAAEwT,GAAe,QACpC,GACA,IACIlT,EAAGS,GAAG,qBAINT,EAAGE,KACHnI,EAAEsJ,GAAUjH,GAAQwqC,GAAa9rB,KAASlB,GAAE,WACxC6tB,GAAiB1tC,EAAEqc,MAC3B,IACIpU,EAAGS,GAAG,sBA2GV,CAsBA,SAASwf,GAAqBgD,EAAQra,GA2LlC,SAAS88B,EAAqBxrC,EAASyrC,GAEnC,IAAIC,EAAY1jC,GACZ2jC,EAAU,UACd,IAAK,IAAIjrC,EAAI,EAAGA,EAAI4oC,EAAU5oC,IAEtB+qC,EAAS/qC,KAAOtE,KAChBsvC,EAAYD,EAAS/qC,IAErBgrC,IAAc1jC,GACd2jC,EAAU,UACLD,IAAc/gC,GACnBghC,EAAU,UACLD,IAAcrlC,KACnBslC,EAAU,WAEd3rC,GAAW2rC,EAGf,OADA3rC,GAAW,KAEnB,CAGI,SAAS4rC,EAAkBC,EAAOC,GAC9B,OAAQ7uB,GAAiC4uB,EAAQC,CACzD,CAGI,SAASC,EAAmBC,EAAUC,EAAQC,GAE1CF,EAAWG,EAAyBH,EAAUI,IAK9CJ,EAAWK,EAFXL,EAAWM,EAFXN,EAAWG,EAAyBH,EAAUO,IAEFC,IAECC,IAGzCxvB,KAEIivB,IAAkB9vC,KAClB4vC,EAAW,KAAOE,EAAgB,KAAOF,GAGzCC,IAAW7vC,KACX4vC,GAAY,KAAOC,EAAS,OAGhCD,EAAWU,EAA+BV,EACtCW,IAGJX,EAAWU,EAA+BV,EACtCY,IAGJZ,EAAWU,EAA+BV,EACtCa,IAGJb,EAAWU,EAA+BV,EACtCc,KAKR,IAAI9J,EAAW,CAEP,UACA,OACA,OACA,IACA,IACA,gBACA,gBACA,UAGJC,EAAY,CAERrgC,GACA,IACA,IACA,IACA,IACA,QACA,QACAlD,IAIJqtC,EAAQ,WAGRf,EAFA/uB,IACA+uB,EAAWA,EAAS/nC,GAAG,cAAe8oC,IAClB9oC,GAAG,KAAM,OAGlB+nC,EAAS/nC,GAAG,cAAe,MAG1C,IAAK,IAAIvD,EAAI,EAAGA,EAAIsiC,EAASllC,OAAQ4C,IACjCsrC,EAAWA,EAAS/nC,GAAG++B,EAAStiC,GAAIuiC,EAAUviC,IAUlD,OARIuc,KAKA+uB,GADAA,GAFAA,EAAWA,EAAS/nC,GAAG8oC,EAAO,SAEV9oC,GAAG,UAAW,QACdA,GAAG,WAAY,SAGhC+nC,CACf,CAGI,SAASM,EAAuBN,EAAUgB,GACtC,IAAIxd,EAASwc,EAASzwC,EAAEyxC,GAGxB,KAAiB,MAAVxd,GAAgB,CACnB,IAAIvV,EAAKpc,EAAE,IAAM8b,GAAS,IAAM6V,EAAO,IAIvCA,GAHAwc,EAAWA,EAAS/pC,EAAE+qC,EAClBpB,EAAkB3xB,EAAGpa,EAAEotC,IAAmBhzB,EAAGpa,EAAEqtC,OAEjC3xC,EAAEyxC,EAChC,CACQ,OAAOhB,CACf,CAGI,SAASG,EAAyBH,EAAUgB,GACxC,IAAIxd,EAASwc,EAASzwC,EAAEyxC,GAGxB,KAAiB,MAAVxd,GAAgB,CACf,IAAIvV,EAAKpc,EAAE,IAAM+b,GAAe,IAAM4V,EAAO,IAI7CA,GAHAwc,EAAWA,EAAS/pC,EAAE+qC,EAClBpB,EAAkB3xB,EAAGpa,EAAEotC,IAAmBhzB,EAAGpa,EAAEqtC,OAEjC3xC,EAAEyxC,EACpC,CACQ,OAAOhB,CACf,CAGI,SAASK,EAAwBL,EAAUgB,GACvC,IAAIxd,EAASwc,EAASzwC,EAAEyxC,GAGxB,KAAiB,MAAVxd,GAAgB,CACnB,IAAIvV,EAAKpc,EAAE,IAAM6b,GAAa,IAAM8V,EAAO,IAI3CA,GAHAwc,EAAWA,EAAS/pC,EAAE+qC,EAClBpB,EAAkBnnC,EAAqBwV,EAAGnX,KAAMmX,EAAGnX,OAErCvH,EAAEyxC,EAChC,CACQ,OAAOhB,CACf,CAGI,SAASU,EAA+BV,EAAUmB,GAC9C,IAAI3d,EAASwc,EAASzwC,EAAE4xC,GAGxB,KAAiB,MAAV3d,GAAgB,CACnB,IAAIvb,EAAQub,EAAO,GACf6W,EAAS7W,EAAO,GAChBvb,IAAU7X,KACV4vC,EAAWA,EAAS/pC,EAAEkrC,EAAK,iBAC3B9G,IAAWjqC,KAEPiqC,EAAO9yB,GAAG,OACVy4B,EAAWA,EAAS/pC,EAAEkrC,EAAK,UAEtB9G,EAAO9yB,GAAG,MACfy4B,EAAWA,EAAS/pC,EAAEkrC,EAAK,QAEtB9G,EAAO9yB,GAAG,MACfy4B,EAAWA,EAAS/pC,EAAEkrC,EAAK,UAEtB9G,EAAO9yB,GAAG,QACfy4B,EAAWA,EAAS/pC,EAAEkrC,EAAK,uBAGnC3d,EAASwc,EAASzwC,EAAE4xC,EAChC,CACQ,OAAOnB,CACf,CAGI,SAASoB,IACL,IAAKC,UACD,OAEJ3yC,QAAQC,IAAI,SAAU2yC,EAAW,MAAQhE,GACzC,IAAIiE,EAAM,MACV,IAAK,IAAI7sC,EAAI,EAAGA,EAAI4oC,EAAU5oC,IAC1B6sC,GAAO3qC,GAAMlC,EACjBhG,QAAQC,IAAI4yC,GACZA,EAAM,MACN,IAAK,IAAI7sC,EAAI,EAAGA,EAAI4oC,EAAU5oC,IAC1B6sC,GAAO,KACX7yC,QAAQC,IAAI4yC,GACZ,IAAK,IAAI7sC,EAAI,EAAGA,EAAI4sC,EAAU5sC,IAE1B,GADA6sC,EAAM7tC,GACF8tC,EAAY9sC,KAAOtE,GAAY,CAC/B,IAAK,IAAIogC,EAAI,EAAGA,EAAI8M,EAAU9M,IAC1B+Q,GAAQC,EAAY9sC,GAAG87B,KAAOpgC,GAAc,KAAOoxC,EAAY9sC,GAAG87B,GAAK55B,GAC3ElI,QAAQC,IAAI+F,EAAI,MAAQ6sC,EACxC,CAEA,CA7YI,IAAIvtC,EAAUN,GACV+tC,EAAQhoB,GAA0B3U,EAAE,MACpC48B,EAAajoB,GAA0B3U,EAAE,cAAchT,OACvD6vC,EAAeloB,GAA0B5lB,EAAEoiB,IAC3C2rB,EAAgBnoB,GAA0B5lB,EAAE6qC,IAC5CmD,EAAWpoB,GAA0B5lB,EAAE4iB,IACvCqrB,EAAW,EACXR,EAAWG,EAAM3vC,OACjBmsC,EAAW,EACXX,EAAW,EACXmC,EAAW,GACX+B,EAAc,GAGlBC,EAAM/vB,GAAE,WAkJJ,SAASqwB,EAAiBC,GAEtB,GAAIR,EAAYM,KAAc1xC,GAAY,CACtC,IAAI6xC,EAAUT,EAAYM,GAAU7D,GACpC,KAAOgE,IAAY7xC,IAA0B,IAAZ6xC,GAC7BD,GAAYpC,EAAkB,OAAQhpC,IAAO,KAC7CqnC,IACAgE,EAAUT,EAAYM,GAAU7D,EAEpD,MAEgBuD,EAAYM,GAAY,GAE5B,OAAOE,CACnB,CA9JY/wB,IAA+C,IAAb6wB,IAClC9tC,EAAUwrC,EAAqBxrC,EAASyrC,IAE5C,IAAIyC,EAAUrwC,EAAEqc,MAAMpJ,EAAE,UACxBm5B,EAAW,EAGX,IAAIkE,EAAc,IAAIC,OAAO,IAAMz4B,GAAU,YAAcA,GAAU,IAAK,KAC1Eu4B,EAAQxwB,GAAE,WACN,IAAIswB,EAAWtuC,GACXuuC,EAASI,EAIbL,EAAWD,EAAiBC,GAK5B,IAAI9C,EAAOrtC,EAAEqc,MACT8xB,EAAWd,EAAKxyB,KAChB41B,EAAejrC,GACfkrC,EAAalrC,GAEb4oC,EAASf,EAAKrrC,EAAE2uC,IAChBtC,EAAgBhB,EAAKrrC,EAAE4uC,IAG3B,GAAId,IAAiBvxC,IAAcuxC,IAAiB/uB,GAAQ,CAExD,IAAI3G,EAAMizB,EAAKrrC,EAAE6F,IACjB,GAAIuS,IAAQ7b,GAAY,CACpB,IAAoC,IAAhC6b,EAAIvX,EAAE4hB,IAA6B,CACnC,IAAIosB,EACJ,GADUxD,EAAKtyB,GAAGwF,GAAQ,IAAMxS,GAAO+iC,GAAWC,IAAS,KACnD9wC,OAAS,EACbkuC,EAAWA,EAAS/pC,EAAE,8BAA+B,SACpD,CACD,IAAI4sC,EAAK3D,EAAKtyB,GAAGwF,GAAQ,IAAMxS,GAAO+iC,GAAWG,IAAQ,KAClDhxC,OAAS,IACZkuC,EAAWA,EAAS/pC,EAAE,8BAA+B,KACrF,CAE4Bgb,IAAkC6wB,EAAWJ,IAC7CY,EAAelrC,GAC3C,CAIwB6Z,IAAkC6wB,EAAWJ,IACZ,IAA7Bz1B,EAAIvX,EAAE0hB,MACNmsB,EAAanrC,GAIzC,CAGoB6Z,KACAwuB,EAASxB,GAAYiB,EAAK1lC,EAAEupC,IAChD,CAGY,GAAIlB,IAAazxC,IAAcyxC,IAAajvB,GAAQ,CAChD,IAAI3G,EAAMizB,EAAKrrC,EAAE6F,IACjB,GAAIuS,IAAQ7b,KAAwC,IAA1B6b,EAAIvX,EAAEsuC,IAAuB,CACnD,IAAIC,EAAe/D,EAAKtyB,GAAG,IAAMs2B,IAAmBpxC,OACpD,IAAK,IAAI4C,EAAI,EAAGA,EAAIuuC,EAAcvuC,IAE9BsrC,EAAWA,EAAS/pC,EAAEksC,EAClBztC,IAAMuuC,EAAe,EAAI,KAAO,IAE5D,CACA,CA4BY,GAzBAjD,EAAWD,EAAmBC,EAAUC,EAAQC,GAG5CjvB,IAAkC6wB,EAAWJ,IACzCY,IACAtC,EAAW,MAAQA,GAEnBuC,IACAvC,EAAW,KAAOA,EAAW,MAIhB,IAAb8B,GAA+B,IAAb7D,GAAkB2D,IAAkBxxC,KACtD4vC,EAAW,MAAQA,IAI3BgC,GAAYpC,EAAkB,KAAMlsC,IAC9BksC,EAAkBlsC,GAAG,KAAOssC,EAAWJ,EAAkBlsC,GAAG,KAKlEuuC,EAAU/C,EAAKrrC,EAAEsvC,IACjBlB,EAAWA,IAAY7xC,GAAc,EAAIY,EAAYixC,GACjDA,EAAU,EACV,IAAK,IAAIvtC,EAAI,EAAGA,EAAIutC,EAAU,EAAGvtC,IAEzB8sC,EAAYM,EAAWptC,EAAI,KAAOtE,KAClCoxC,EAAYM,EAAWptC,EAAI,GAAK,IAGpC8sC,EAAYM,EAAWptC,EAAI,GAAGupC,GAAY,EAOlD,GAFAoE,EAAUnD,EAAKrrC,EAAEuvC,IACjBf,EAAWA,IAAYjyC,GAAc,EAAIY,EAAYqxC,GACjDA,EAAU,EAEV,IAAK,IAAI3tC,EAAI,EAAGA,EAAI2tC,EAAU,EAAG3tC,IAC7BstC,GAAYpC,EAAkB,QAAShpC,IAAO,KAE1C4qC,EAAYM,KAAc1xC,KAC1BoxC,EAAYM,GAAY,IAE5BN,EAAYM,GAAU7D,EAAW,GAAK,EACtCA,IAIRA,IACAjqC,GAAWguC,EAAWpC,EAAkBhpC,GAAK,KACzD,IAGYqnC,EAAWX,IACXA,EAAWW,GAGfjqC,EAAU+tC,EAAiB/tC,GAE3B8tC,IACA9tC,EAAUA,EAAQY,EAAE,EAAGZ,EAAQlC,OAAS,GAClC8tC,EAAkB,KAAMlsC,KAAMouC,EAAWR,EAAW,KAAO5tC,GAqBzE,IAGI0tC,IAEA1K,GAAc3Z,EAAQ/oB,EAASoD,GAwNnC,CAYA,SAAS6nC,GAAkB38B,GACvB,IAAI+gC,EAAe,EACfC,EAAc,KACdrF,EAAW,EACXX,EAAW,EACXiG,EAAW,KACXC,EAAU,GACVC,EAAU,GACVC,EAAe,GACf5B,EAAW,EACX6B,EAActsC,GA8DlB,GA3DAiL,EAAMwC,EAAE,MAAM4M,GAAE,WACZ8xB,EAAQ1B,GAAY,GACpB2B,EAAQ3B,GAAY,GACpB,IAAI98B,EAAKnT,EAAEqc,MACXlJ,EAAGF,EAAE,UAAU4M,GAAE,WACb,IAAIwtB,EAAOrtC,EAAEqc,MAIbs1B,EAAQ1B,GAAU7D,GAAYiB,EAC9BuE,EAAQ3B,GAAU7D,GAAY,EAC1BK,GAAqBrI,KAAKiJ,EAAKpoC,OAC/B2sC,EAAQ3B,GAAU7D,GAAY,EAC9B0F,EAAcvsC,IAElB6mC,IACAX,IAIIiB,GAAqBtI,KAAKiJ,EAAKpoC,MAC/BusC,IACAvyC,EAAUouC,GACW,IAAjBmE,IACAC,EAAcC,KAIdF,EAAe,GAAoB,MAAfC,IACpBA,EAAYzvC,EAAEuvC,GAAWC,EAAe,GACxCO,GAAyBN,GACzBA,EAAY9pC,EAAEupC,GAAa1oC,KAE/BgpC,EAAe,GAEnBE,EAAWrE,CACvB,IAGY5B,IAAa+F,EAAe,GAA2B,IAAtBr+B,EAAGlO,IAAID,IAAI/E,QAC5C7B,EAAY+U,EAAI,uBAIhBq+B,EAAe,GAAoB,MAAfC,IACpBA,EAAYzvC,EAAEuvC,GAAWC,EAAe,GACxCO,GAAyBN,GACzBA,EAAY9pC,EAAEupC,GAAa1oC,KAE/BgpC,EAAe,EAEfvB,IACA7D,EAAW,EACXX,EAAW,CACnB,IAEIwE,EAAW,EAGP6B,EAAa,CACbD,EAAe,GAEf,IAAK,IAAIlqC,EAAI,EAAG7C,EAAM8sC,EAAQ,GAAG3xC,OAAQ0H,EAAI7C,EAAK6C,IAAK,CACnD,IAAIqqC,EAAe,EACfC,EAAc,KACd7tC,EAAI,EACJ8tC,EAAa1sC,GAGjB,KAAOpB,EAAIwtC,EAAQ3xC,QACO,IAAlB2xC,EAAQxtC,GAAGuD,IACXqqC,IACmB,MAAfC,IACAA,EAAcN,EAAQvtC,EAAI,GAAGuD,IAGvB,IAANvD,IACA8tC,EAAa3sC,IACb2sC,IACAL,EAAaA,EAAa5xC,QAAU0xC,EAAQvtC,GAAGuD,GAAG1E,KACtDhE,EAAU0yC,EAAQvtC,GAAGuD,IAGjBA,EAAI,EAAIiqC,EAAQxtC,GAAGnE,QACnB0xC,EAAQvtC,GAAGuD,EAAI,GAAGA,EAAEwT,GAAexV,EAAiB,yBAExDusC,EAAa1sC,GAETwsC,EAAe,GAAoB,MAAfC,IACpBA,EAAYjwC,EAAEsvC,GAAWU,EAAe,GACxCD,GAAyBE,GACzBA,EAAYtqC,EAAEwqC,GAAiB,UAC/BH,EAAe,EACfC,EAAc,OAGtB7tC,IAIA4tC,EAAe,GAAoB,MAAfC,IACpBA,EAAYjwC,EAAEsvC,GAAWU,EAAe,GACxCD,GAAyBE,GACzBA,EAAYtqC,EAAEwqC,GAAiB,UAE/C,CAGQ,IAAK,IAAItvC,EAAI,EAAGiC,EAAM+sC,EAAa5xC,OAAQ4C,EAAIiC,EAAKjC,IAAK,CACrD8uC,EAAQ,GAAG,GAAG1uC,IAAIA,IAAI4K,GAAGgkC,EAAahvC,IAEtC,IAAIuvC,EAAU5sC,GACdqsC,EAAahvC,GAAGoQ,EAAE,MAAM4M,GAAE,WACtBuyB,EAAU7sC,GAEV,IAAI2nC,EAAKltC,EAAEqc,MACPpW,EAAQinC,EAAGlrC,EAAEwe,IACb6xB,EAASnF,EAAGlrC,EAAE+qC,IACd12B,EAAa62B,EAAGlrC,EAAE6F,IAClB2oC,EAAUtD,EAAGlrC,EAAEswC,IAEnBpF,EAAGlrC,EAAEuwC,GAAaxxB,IAElBmsB,EAAGsF,GAAGtF,EAAGxmC,KAAK+rC,IAAarsC,GAAG,OAAQ,SAEtC8mC,EAAGjqC,IAAIjB,EAAEwe,GAASva,GAClBinC,EAAGjqC,IAAIjB,EAAE+qC,GAAcsF,GACvBnF,EAAGjqC,IAAIjB,EAAE6F,GAASwO,GAClB62B,EAAGjqC,IAAIjB,EAAEswC,GAAe9B,EACxC,IAEgB4B,GACAP,EAAahvC,GAAGoQ,EAAE,KAAO5Q,GAAQkwC,KAAc1yB,GAAE,WAC7CmtB,GAAgBv8B,EAAOzQ,EAAEqc,MAC7C,GAEA,CACA,CAEIy1B,EAActsC,EAClB,CAMA,SAASusC,GAAyB1E,GACF,IAAxBA,EAAKpoC,IAAID,IAAI/E,SACbotC,EAAKxyB,GAAGhZ,IACRzD,EAAYivC,EAAM,gBAE1B,CASA,SAASn+B,KACLgQ,GAAgBlf,EAAE0yC,IAElB11B,GAAgBkC,GACpB,CAKA,SAASyJ,GAAkBlY,GAEnBA,EAAMzO,EAAEynB,MAAgB1I,GACxB5B,GAAmB1O,GAGnBkiC,GAAkBliC,EAC1B,CAGA,SAASkiC,GAAkBliC,GAEvBA,EAAMzO,EAAEynB,GAAY1I,IACpB3iB,EAAYmqB,GAAiCmB,IAEzCjZ,IAAUlS,IAAuB,MAATkS,GACxBA,EAAMxN,IAAIA,IAAIsoB,EAAE,IAAMqnB,oBAAoB73B,GAAG,UAAU5H,GAAGqK,GAClE,CAGA,SAAS2B,GAAmB1O,GAExBA,EAAMzO,EAAEynB,GAAYgW,IACpBhhC,EAAe8pB,GAAiCmB,IAChDxY,IACJ,CAOA,SAAS87B,GAAgBv8B,EAAO48B,GAC5BA,EAAKr8B,KAAKC,IAAG,SAAUJ,GACnB,GAAIJ,EAAMzO,EAAEynB,MAAgB1I,IAAU6kB,GAClC,OAOJ,GAJIiN,KAAyBpiC,GACzB2M,GAAmB8B,IAGnB4zB,KAAwBzF,EACxB,OAEJ,IAAIvjB,EACAipB,EADYtiC,EAAMxN,IAAIA,IACIjB,EAAE8e,IAEhC,GAAIiyB,IAAkBx0C,IAAcw0C,EAAcr9B,GAAG,KACjD,OAGCkwB,IACD/0B,EAAMi0B,kBAEV5zB,KACA9S,EAAYivC,EAAM2F,IAElBF,GAAsBzF,EACtBwF,GAAuBpiC,EAEvB,IAAIwiC,EAAW9zC,EAAYsR,EAAM9I,EAAE0Y,KAC/B6yB,EAAY/zC,EAAYsR,EAAM9I,EAAEkO,KAEhCs9B,EAAYh0C,EAAYkuC,EAAK1lC,EAAE0Y,KAC/B+yB,EAAaj0C,EAAYkuC,EAAK1lC,EAAEkO,KAChCw9B,EAAc5iC,EAAMwI,KACpBq6B,EAAY7iC,EAAMkC,KAClB4gC,EAAkBlG,EAAKp0B,KAAOxI,EAAMwI,KACpCu6B,EAAiBnG,EAAK16B,KAAOlC,EAAMkC,KACnC8gC,EAAepG,EAAKp0B,KAAQk6B,EAC5BO,EAAcrG,EAAK16B,KAAOygC,EAC1BO,EAAmBV,EAAWM,EAAkBJ,EAChDS,EAAmBV,EAAYM,EAAiBJ,EAGhDS,EAAS7zC,EAAE0yC,GAAU;CACzBmB,EAAOlsC,EAAEwC,GAAQkpC,GACZ1rC,EAAEiO,GAAO09B,GACT3rC,EAAE0Y,GAASkzB,GACX5rC,EAAEkO,GAAU29B,GACZ7rC,EAAEo2B,GAAU,GAGjB,IAAI+V,EAAU9zC,EAAE0yC,GAAU,aAC1BoB,EAAQnsC,EAAEwC,GAAQspC,GACb9rC,EAAEiO,GAAO09B,GACT3rC,EAAE0Y,GAASszB,GACXhsC,EAAEkO,GAAW29B,GACb7rC,EAAEo2B,GAAU,GAGjB,IAAIgW,EAAW/zC,EAAE0yC,GAAU,cAC3BqB,EAASpsC,EAAEwC,GAAQkpC,GACd1rC,EAAEiO,GAAO89B,GACT/rC,EAAE0Y,GAASkzB,GACX5rC,EAAEkO,GAAU+9B,GACZjsC,EAAEo2B,GAAU,GAGjB,IAAIiW,EAAYh0C,EAAE0yC,GAAU,eAC5BsB,EAAUrsC,EAAEwC,GAAQspC,GACf9rC,EAAEiO,GAAO89B,GACT/rC,EAAE0Y,GAASszB,GACXhsC,EAAEkO,GAAU+9B,GACZjsC,EAAEo2B,GAAU,GAGjB14B,YAAW,WAEP2X,GAAgBkC,IAChBtL,GAAUigC,GACVjgC,GAAUkgC,GACVlgC,GAAUmgC,GACVngC,GAAUogC,EACtB,GAAW,GACX,GACA,CAKA,SAAS9iC,KACD4hC,KAAwBv0C,KAG5ByV,GAAUkL,IAEVzgB,EAAeq0C,GAAqBE,IACpCH,GAAuBt0C,GAC3B,CAgBA,SAASqqB,GAAiBnY,GAElBA,EAAM9I,EAAEgiB,MAAkBC,GAC1BqqB,GAAkBxjC,GAGlByjC,GAAiBzjC,EACzB,CAGA,SAASyjC,GAAiBzjC,GACtBrS,EAAYoqB,GAAgCkB,IAC5CjrB,EAAegS,EAAO,kBACtBrS,EAAYqS,EAAO,eAEvB,CAGA,SAASwjC,GAAkBxjC,GACvBhS,EAAe+pB,GAAgCkB,IAC/CjrB,EAAegS,EAAO,gBACtBrS,EAAYqS,EAAO,iBAEvB,CAaA,SAASk8B,GAAsBl8B,EAAO48B,EAAMlpC,GACxC,OAAIsM,EAAMzO,EAAEoiB,MAAwBrD,KAC5BssB,EAAKp6B,EAAEwE,GAAW,SAAWisB,GAAS,IAAMlf,IAAOvkB,OAAS,GAC7DotC,EAAK1lC,EAAEupC,MAAiBpkC,IACxBqnC,GAAwC/P,KAAKjgC,KAE5CsM,EAAMzO,EAAEoiB,GAAoBrD,IACrBxb,IAERC,EACX,CAQA,SAAS4uC,GAA0B3jC,EAAO+7B,EAAI6H,GAG1C,OAFIA,IAAU91C,KACV81C,EAAQ5jC,EAAMwC,EAAE5Q,GAAQiwC,GAAevxB,GAAQ,MAAQ1e,GAAQ0qC,GAAcP,EAAGxqC,EAAE+qC,OAC/EsH,CACX,CAQA,SAASC,GAA+B7jC,EAAO+7B,EAAI+H,GAG/C,OAFIA,IAAeh2C,KACfg2C,EAAa9jC,EAAMwC,EAAE,KAAO5Q,GAAQ0qC,GAAcP,EAAGxqC,EAAE+qC,OACpDwH,CACX,CAMA,SAASjH,GAAwB78B,GAC7BA,EAAMwC,EAAE,YAAY4M,GAAE,WAClB,IAAI2sB,EAAKxsC,EAAEqc,MACPg4B,EAAQ91C,GACRg2C,EAAah2C,GACbi2C,EAAW3yC,GAGX2qC,EAAGv5B,EAAEwE,GAAW/W,IAAcT,OAAS,IACvCo0C,EAAQD,GAA0B3jC,EAAO+7B,EAAI6H,GAC7CG,GAAYnwB,GAAoBtf,IAIhCynC,EAAGv5B,EAAE,KAAOvS,IAAcT,OAAS,IACnCo0C,EAAQD,GAA0B3jC,EAAO+7B,EAAI6H,GAC7CG,GAAYlwB,GAAkBvf,IAIlC,IAAI0vC,EAASjI,EAAG3xB,MACZ45B,EAAO/+B,GAAG,SAAW++B,EAAOnrB,GAAG,QAC5BkjB,EAAGxqC,EAAE6F,MAAatJ,IAClBiuC,EAAGxqC,EAAE6F,IAAShF,EAAE0hB,KAAqB,KACpCvkB,EAAEqC,GAAQ0qC,GAAcP,EAAGxqC,EAAE+qC,MAAgB95B,EAAEywB,IAAQ3oB,KAAK1G,SAC5DggC,EAAQD,GAA0B3jC,EAAO+7B,EAAI6H,GAC7CG,GAAYjwB,GAAmBxf,IAInCsvC,IAAU91C,IAAci2C,EAASv0C,OAAS,GAC1C7B,EAAYi2C,EAAOG,GAiBnBL,GAAwC/P,KAAKoI,EAAGvnC,OAChDovC,EAAQD,GAA0B3jC,EAAO+7B,EAAI6H,GAC7Cj2C,EAAYi2C,EAAO5vB,IAGnBiwB,GAAsClI,EAAI2H,IAE1CI,EAAaD,GAA+B7jC,EAAO+7B,EAAI+H,GAEvDA,EAAW10B,GAAE,WACT,IAAI80B,EAAK30C,EAAEqc,MACPu4B,EAASD,EAAG1vC,IAAID,IAChB6vC,EAAWD,EAAOl3C,EAAEo3C,IACpBC,EAAYC,GACZC,EAAWrnC,GAKf,GAHAinC,EAAwB,MAAZA,EAAoBA,EAAS,GAAKhzC,GAG1C8yC,EAAG3yC,EAAEuvC,MAAehzC,GACpB,OAAOgH,GAGXmvC,GAAsCC,EAAIE,GAGzB,QAAbA,GAAuC,MAAjBA,EAASxxC,KAC/B0xC,EAAYhE,GACZkE,EAAWnqB,IAGO,QAAb+pB,GAAmC,MAAbA,GAAiC,MAAbA,EAC/CE,EAAY9D,GAGZ0D,EAAG7H,MAAM9Q,GAAQn6B,IAGjBgzC,EAAS50C,OAAS,GAAuB,IAAlB20C,EAAO30C,OAC9B00C,EAAGrmC,GAAGyG,GAAamgC,GAAeH,EAAW,GAAI,GAAIE,EAAUpzC,GAAGkM,GAAO+iC,GAAWiE,KAGpFJ,EAAGrmC,GAAG,OAASqJ,GAAS9V,GAAGA,GAAG,MAAQ,QAC1D,KAIY2qC,EAAG7kC,EAAEupC,IAAax7B,GAAG,OACrB6+B,EAAaD,GAA+B7jC,EAAO+7B,EAAI+H,GAEvDn2C,EAAYm2C,EAAY7vB,IAExB6vB,EAAW10B,GAAE,WACT,IAAI80B,EAAK30C,EAAEqc,MACPlY,EAAOwwC,EAAG1vC,IAEd,GAAId,EAAKgxC,WAELR,EAAG95B,GAAG5T,EACFD,EAAuB2tC,EAAG95B,QAE9Bu6B,GAAgCT,EAAIxwC,EAAMoB,SAGzC,GAAIpB,EAAKkxC,YAAa,CAEvBV,EAAG95B,GAAGzT,EACFH,EAAqB0tC,EAAG95B,QAE5B,IAAIy6B,EAAWF,GAAgCT,EAAIxwC,EAAMoB,IACrDgwC,EAAUpxC,EAAKC,EAAE,aAAcvC,IAC/B2zC,EAAej2C,EAAag2C,EAAQnxC,EAAE,IAAKvC,KAC3C4zC,EAAY77B,GAAcjU,EAAiB,UAC3C+vC,EAAM37B,GAAgB07B,EAAW,IACjCE,EAAM57B,GAAgB07B,EAAW,IACjCG,EAAU77B,GAAgB07B,EAAW,IAGzC,GAAIH,EAAU,CACV,IAAIO,EAASlB,EAAGhtC,EAAEmuC,IAAS1xC,EAAE,MAAO,QACpCsxC,EAAMG,EAAOzxC,EAAE,IAAK,WACpBuxC,EAAME,EAAOzxC,EAAE,IAAK,UACpBwxC,EAAUC,EAAOzxC,EAAE,IAAK,SAChD,CAEoBuwC,EAAGhtC,EAAEwmB,GAAc4nB,GAAmB,WAAaL,EAAM,QAAUC,EAAM5wC,IAAOywC,EAAe,EAAIA,EAAe,EAAI,GAChH,MAAQI,EAAU7wC,GAAMwwC,EACxB,iBAAmBA,EAAU,KAC1B5tC,EAAEquC,GAAY,SAEvBrB,EAAG95B,GAAG85B,EAAG95B,KAAKzW,EAAE,KAAM,OAAOA,EAAE,KAAM,OACzD,MAEyBD,EAAK8xC,eAEVtB,EAAG95B,GAAG5T,EACFD,EACIM,EAAsBqtC,EAAG95B,SAEjCu6B,GAAgCT,EAAIxwC,EAAMqB,IAE9D,KAIYgnC,EAAGxqC,EAAEuvC,MAAehzC,GACpBiuC,EAAGxqC,EAAEswC,GAAevxB,IAEpByrB,EAAGxqC,EAAEswC,GAAe7S,GAChC,GACA,CASA,SAAS2V,GAAgC/2C,EAAQ8F,EAAMkiB,GAEnD,GAAIA,EAAM,CACN,GAAIliB,EAAKuR,GAAG,KAER,OADAtX,EAAYC,EAAQ63C,IACb3wC,GAEN,GAAIpB,EAAKuR,GAAG,KAEb,OADAtX,EAAYC,EAAQ83C,IACb5wC,EAEnB,KAES,CACD,GAAIpB,EAAKtB,EAAE,MAAQ,EAEf,OADAzE,EAAYC,EAAQ63C,IACb3wC,GAEN,GAAIpB,EAAKtB,EAAE,MAAQ,EAEpB,OADAzE,EAAYC,EAAQ83C,IACb5wC,EAEnB,CACI,OAAOC,EACX,CAOA,SAASkvC,GAAsCr2C,EAAQ+3C,GACnD/3C,EAAOyuC,MAAMsJ,EAAYv0C,GAC7B,CAmBA,SAAS0rC,GAAc98B,GAEnBrS,EAAYqS,EAAMwC,EAAE5Q,GAAQ0qC,GAAc,KAAM,OAAQsJ,IAExD,IAAIC,EAAY,EACZC,EAAe,EAInB9lC,EAAMwC,EAAE,KAAOvS,IAAcmf,GAAE,WAC3B,IAAIqtB,EAAKltC,EAAEqc,MACPlJ,EAAK+5B,EAAGjqC,IACRkB,EAAO+oC,EAAGjoC,IAId,IAAKkoC,GAAoB/I,KAAKjgC,GAI1B,OAHAmyC,EAAY,EACZE,GAAqBv2C,OAAS,EAC9Bw2C,GAAoBx2C,OAAS,EACtBsF,GAMX,GAFAgxC,EAAepyC,EAAKtB,EAAE6zC,IAAoB,EAEtCH,EAAeD,EAAW,CAC1B,IAAIK,EAAgBL,EACpBA,EAAYC,EAEZK,GAAmBzjC,EAAIojC,EAAgC,IAAlBI,EACjC58B,GAAgBwL,KAA6BsxB,KAEjDC,GAAe3jC,EAAI+5B,EAAIqJ,EACnC,KAEa,CAED,IAAI1xC,EAAQyxC,EAAYC,EAExB,GAAI1xC,EAAQ,EACR,IAAK,IAAIhC,EAAI,EAAGA,EAAIgC,EAAOhC,IACvB2zC,GAAqBO,MACrBN,GAAoBM,MAM5BT,EAAYC,EAEZO,GAAe3jC,EAAI+5B,EAAIqJ,EACnC,CACA,GACA,CAKA,SAASS,KACL,OAAOR,GAAqBA,GAAqBv2C,OAAS,EAC9D,CAKA,SAASg3C,KACL,OAAOR,GAAoBA,GAAoBx2C,OAAS,EAC5D,CASA,SAAS22C,GAAmBzjC,EAAI+jC,EAAOnxB,EAAO3P,GAkD1C,SAAS+gC,EAAgBC,GACrB,IAAIC,EAAYx1C,GAIhB,OAHAu1C,EAAUv3B,GAAE,WACRw3B,GAAar3C,EAAEqc,MAAM3V,KAAK+rC,GACtC,IACe4E,CACf,CAvDI,IAAIC,EAAYnkC,EAAGjS,KACnBq2C,KAGAf,GAAqB/vC,KAAK8wC,IAE1Bd,GAAoBhwC,KAAK2P,GAGzBkhC,EAAUt1C,EAAEw1C,GAAgBD,IAC5BD,EAAUt1C,EAAEwrC,GAAczsB,IAC1Bu2B,EAAUt1C,EAAEy1C,GAAiB12B,IAG7B,IAAImsB,EAAKoK,EAAUv8B,GAAG,KAAO2U,IACzBgoB,EAAaxK,EAAGj6B,EAAE,IAAMo+B,GAAoBsG,IAI5CD,EAAWz3C,OAAS,EACpBy3C,EAAWha,GAAGx2B,GAAU8Z,GAAc8hB,KAAMjhC,GAAG+1C,KAE/C1K,EAAG5+B,GAAGuJ,GAAWmJ,GAAc8hB,KAAMjhC,GAAG+1C,KAE5C56B,GAAgBkwB,EAAGj6B,EAAE+N,GAAgB,IAAMT,KAE3C9hB,EAAeyuC,EAAImJ,IACnBj4C,EAAY8uC,EAAI2K,IAChBz5C,EAAYs5C,EAAYI,IAIxB,IAAIC,EAAW,IAAM1G,GAAoB,KAAOrwB,GAC5Cg3B,EAAU9K,EAAGj6B,EAAE8kC,GACfE,EAAU/K,EAAGzhB,QACjBxsB,EAAUg5C,EAAQl9B,GAAGg9B,IAErB7K,EAAGryB,GAAGs8B,EAAgBa,GAAWjzC,GAAM2G,GAAYusC,EAAQp9B,KAAO9V,KAGlEmoC,EAAGnyB,GAAGiG,IAAe/P,IAAG,SAAUJ,GAC9BqnC,GAAgBZ,EAAWzmC,EACnC,GAcA,CAOA,SAASqnC,GAAgBZ,EAAWzmC,GAEhCA,EAAMi0B,kBAGFwS,EAAUt1C,EAAEy1C,IAAiB/hC,GAAG,KAChCuL,GAAcq2B,GAEda,GAAeb,GAGnBpmC,IACJ,CAQA,SAASma,GAAiB5a,EAAO4V,GAC7B,OAAI5V,EAAMzO,EAAE4iB,MAAoB7D,GACrBvb,IAEXiL,EAAMwC,EAAE+N,IAAenB,GAAE,WACrB,IAAIy3B,EAAYt3C,EAAEqc,MAAMpZ,IAAIA,IACxBq0C,EAAUt1C,EAAEy1C,MAAqB12B,IACjCE,GAAcq2B,EAAWjxB,EACrC,IACW9gB,GACX,CAQA,SAAS0mB,GAAkBxb,EAAO4V,GAC9B,OAAI5V,EAAMzO,EAAE4iB,MAAoB7D,GACrBvb,IAGXiL,EAAMwC,EAAE6E,GAAUkJ,IAAenB,GAAE,WAC/B,IAAIy3B,EAAYt3C,EAAEqc,MAAMpZ,IAAIA,IAC5BrG,EAAIypB,EAAMixB,EAAUt1C,EAAEo2C,IAAoBd,EAAUt1C,EAAEy1C,KAClDpxB,IAASpL,GACLq8B,EAAUt1C,EAAEo2C,MAAuBn9B,IAAUq8B,EAAUt1C,EAAEy1C,MAAqBhY,IAC9E0Y,GAAeb,GAGfA,EAAUt1C,EAAEy1C,MAAqB12B,IACjCo3B,GAAeb,EAE/B,IACW/xC,GACX,CAMA,SAASymB,GAAe3tB,GACpBM,EAAcN,EAAQumB,IACtBjmB,EAAcN,EAAO4U,EAAE,KAAO5Q,GAAQg2C,KAAwBA,GAClE,CAQA,SAASvB,GAAe3jC,EAAI+5B,EAAIgK,GAE5BhK,EAAGJ,MAAMwL,GAA6Bz2C,IAGtCsR,EAAGnR,EAAEq2C,GAAsBrB,MAE3B9J,EAAGlrC,EAAEyrC,GAAkByJ,GAEvBz4C,EAAeyuC,EAAImJ,IACnBj4C,EAAY8uC,EAAIiE,IAEhBh+B,EAAGxL,EAAE4wC,GAAmBtB,MAGxB,IAAK,IAAIp0C,EAAI,EAAGA,EAAIq0C,EAAOr0C,IAAK,CAC5B,IAAI21C,EAAUtL,EAAGj6B,EAAE,IAAMo+B,GAAoBsG,IACzCc,EAAW5gC,GAAWw5B,GAAmBxvC,IACzC22C,EAAQv4C,OAAS,EACjBu4C,EAAQ9a,GAAG+a,GAEXvL,EAAG5+B,GAAGmqC,EAClB,CAGItlC,EAAGxL,EAAE4sB,GAAWjrB,GAAU,UAC9B,CAOA,SAAS2X,GAAcq2B,EAAWjxB,GAE9B,IAAIlP,EAAKmgC,EAAUt1C,EAAEw1C,IACjB/mC,EAAQ6mC,EAAUr0C,IAAIA,IACtBy1C,EAAUjoC,EAAMwC,EAAE,KAAO5Q,GAAQg2C,GAAsBlhC,IACvDwhC,EAAerB,EAAUv8B,GAAG,KAAO2U,IAAS3U,GAAGiG,GAAgB22B,IAEnEL,EAAUt1C,EAAEy1C,GAAiBhY,IACzBpZ,IAAS9nB,IACT+4C,EAAUt1C,EAAEo2C,GAAmB/xB,GAGnCjoB,EAAYu6C,EAAa59B,GAAGwF,IAAQq4B,IACpCF,EAAQ/wC,EAAE4sB,GAAW1yB,IAGrB,IAAIg3C,EAAQpoC,EAAMwC,EAAE,WAAam0B,IACJ,UAAzB32B,EAAMzO,EAAE6qC,KAERyK,EAAUrkC,EAAE,UAAYvS,GAAe,KAAKmf,GAAE,WAC1C,IAAIqtB,EAAKltC,EAAEqc,MACPy8B,EAAS5L,EAAGryB,KAAK7V,IACrB,GAAsB,IAAlB8zC,EAAO74C,QAAgB64C,IAAW9c,GAAQ,CAC1C,IAAI+c,EAAQ7L,EAAGlrC,EAAE+qC,IACbP,EAAKqM,EAAM5lC,EAAE,KAAO5Q,GAAQ0qC,GAAcgM,IAAQl+B,KAEtD,GAAI2xB,IAAOjuC,GAAY,CACnB,IAAIy6C,EAAYH,EAAM33C,KAClB83C,IAAcz6C,KACdiuC,EAAKwM,EAAU/lC,EAAE,KAAO5Q,GAAQ0qC,GAAcgM,IAAQl+B,KAC9E,CAEgBqyB,EAAGryB,GAAG2xB,GACNpuC,EAAY8uC,EAAI+L,GAChC,CACA,GAEA,CAMA,SAASd,GAAeb,GAEpB,IAAIngC,EAAKmgC,EAAUt1C,EAAEw1C,IACjBkB,EAAU14C,EAAE,KAAOqC,GAAQg2C,GAAsBlhC,IACjDwhC,EAAerB,EAAUv8B,GAAG,KAAO2U,IAAS3U,GAAGiG,GAAgB22B,IAkB/DlnC,EAhBJ6mC,EAAUt1C,EAAEy1C,GAAiB12B,IAC7BpiB,EAAc24C,EAAWc,IAGzB35C,EAAek6C,EAAa59B,GAAGwF,IAAQq4B,IAGvCF,EAAQ74B,GAAE,WACN,IAAI1M,EAAKnT,EAAEqc,MACP68B,EAAS/lC,EAAGnR,EAAEwrC,IACd0L,IAAW36C,IAAc26C,EAAOxjC,GAAG,MACnCyiC,GAAehlC,GACnBA,EAAGxL,EAAE4sB,GAAWjrB,GAAU,UAClC,IAIiC,UADjBguC,EAAUr0C,IAAIA,IAChBjB,EAAE6qC,KAERyK,EAAUrkC,EAAE,UAAYvS,GAAe,KAAKmf,GAAE,WAC1C,IAAIqtB,EAAKltC,EAAEqc,MAEP6wB,EAAGlrC,EAAE6F,IAAShF,EAAEo2C,KAAkB,IAClC/L,EAAGryB,GAAGhZ,IACNpD,EAAeyuC,EAAI+L,IAEnC,GAEA,CAKA,SAAS9pC,KACDW,GAAIC,OAAOC,OACXhQ,EAAEghB,IAAexF,KAEjBS,GAAejc,EAAEghB,IACzB,CASA,SAAS0sB,GAAgBj9B,GACrB,IAAI0oC,EAAc1oC,EAAMzO,EAAE4iB,MAAoB7D,GAI9C,GADAtQ,EAAMzO,EAAE6qC,GAAasM,EAAc,QAAU,QACzCA,EACA,OAGJ,IAAIlJ,EAAW,EACXmJ,EAAW,GAAKnJ,EAChB4I,EAAQpoC,EAAMwC,EAAE,YAChBomC,EAAe,EACfC,EAAmB,EACnBC,EAAQ9oC,EAAMwC,EAAE,YAChBw8B,EAAW8J,EAAMt5C,OAErBs5C,EAAM15B,GAAE,WACJ,IAAI1M,EAAKnT,EAAEqc,MACP6wB,EAAK/5B,EAAG4H,GAAG,eAcf,GAXImyB,EAAGjtC,OAAS,GACZitC,EAAGrtB,GAAE,WACD,IAAI25B,EAAUr6C,EAAYa,EAAEqc,MAAMra,EAAEsvC,KAChCkI,EAAUH,IACVA,EAAeG,EAAU,GAE7BF,EAAmBD,EAAe,CAClD,IAI6B,IAAjBA,GAAsBpJ,GAAYmJ,EAAWE,EAAmB,IAAO,GACpErJ,EAAWR,EAAU,CACpB,IAAIrD,EAAW,EACfyM,EAAMh5B,GAAE,WACJ1M,EAAGuqB,GAAG19B,EAAEqc,MAAM3V,KAAK+rC,IAAarsC,GAAG,OAAQ,SAC3ChI,EAAY+U,EAAGoY,IAAIxQ,GAAG,MAAOk+B,IAEzB76C,EAAY+U,EAAGoY,IAAIxQ,GAAG,IAAMk+B,IADf,IAAb7M,EAC4C,QAEA,aAChDj5B,EAAKA,EAAGoY,IAERntB,EAAY+U,EAAI,iBAEhBi5B,GACpB,GACA,CACQ6D,IAGIoJ,EAAe,EACfA,IAGAC,EAAmB,CAC/B,GACA,CAaA,SAAS3qC,KA4KL,SAAS8qC,EAAeC,EAAWvlC,GAC/B,IAAIoZ,EAAO,CACP,gBACA,gDACF3lB,IAGE+xC,EAAWl4C,EAAyB0S,GAAKylC,IACzCC,EAAOp4C,EAAyB0S,GAAK2lC,IACrCC,EAAUt4C,EAAyB0S,GAAK6lC,IAG5CN,EAAU9W,KAAK7qB,GAAWhK,GAAOoX,GAAOhR,GAAMoZ,IAC9C,IAAI0sB,EAAQP,EAAUz2C,IAStB,OAPAhE,EAAUy6C,GAGNC,IAAap7C,IAAY07C,EAAMj4C,EAAE43C,GAAYA,IAC7CC,IAASt7C,IAAY07C,EAAMj4C,EAAE83C,GAAQA,IACrCC,IAAYx7C,IAAY07C,EAAMj4C,EAAEg4C,GAAW/+B,IAExCg/B,CACf,CAOI,SAASC,EAAOC,EAAMF,GAClB,IAAIG,EAAWp6C,EAAEm6C,GAGbF,EAAMI,OACNJ,EAAMK,QAINF,EAASv/B,GAAG0/B,IACZ97C,EAAe27C,EAAUI,IACzBP,EAAMQ,QAGFL,EAASp4C,EAAE04C,MAAiBn8C,KAC5B07C,EAAM7oC,YAAc,GAEpC,CAzNI,IAAIupC,EAAWp6C,GAAUwE,GAAM+R,GAC/B9W,EAAE26C,EAAW,iBAAmBA,EAAW,iBAAmBA,EAAW,iBAAmBA,EAAW,iBACrGA,EAAW,kBAAoBA,EAAW,kBAAoBA,EAAW,kBAAoBA,EAAW,kBAAkB96B,GAAE,WAyJ1H,SAAS+6B,EAAmBzjC,EAAIhV,GAE5Bg7B,GAAoBhmB,EAAI,MAClBzL,GAAY,CACV,SACA,wBACF9D,KAAc,KAAOzF,EACvC,CA/JQ,IAAIu3C,EAAY15C,EAAEqc,MACd49B,EAAQ17C,GACR4V,EAAMulC,EAAU13C,EAAEmjB,IAClB2E,EAAY4vB,EAAUz2C,IACtB43C,EAASp5C,EAAyB0S,GAGlC0mC,EAAOC,MAAgB1sC,IACvB2sC,KAGAd,EAAQR,EAAeC,EAAWvlC,GAElC8lC,EAAMj4C,EAAE4gB,GAAMo4B,GAAkBD,IAGhCd,EAAMvc,GAAGnvB,GAASysC,GAAkBD,GAA0B,WAAYE,GAC9DltC,GAAOk1B,GAAa,cAAgB8X,MAGhDd,EAAMiB,KAAK,aAAa,WACpB,IAAId,EAAWp6C,EAAE,IAAMA,EAAEqc,MAAMra,EAAE4gB,IAAQ,YACzCxkB,EAAYg8C,EAAUa,IACtB78C,EAAYg8C,EAAUe,IACtBf,EAASv/B,GAAGugC,GAC5B,IAGYnB,EAAMiB,KAAK,WAAW,WAClB,IAAId,EAAWp6C,EAAE,IAAMA,EAAEqc,MAAMra,EAAE4gB,IAAQ,YACzCnkB,EAAe27C,EAAUe,IAGzBf,EAASppC,KAAKC,IAAG,WACbipC,EAAO79B,KAAM49B,EAAM,GACvC,IACgBG,EAASv/B,GAAG0/B,IACZH,EAASp4C,EAAE04C,GAAaG,EAAc,OAGtC,IAAIQ,EAAMR,EAAiB,SAC3B,GAAIQ,IAAQ98C,IAAc88C,EAAI3lC,GAAG,KAAM,CACnC,IAAI4lC,EAAOrB,EAAMj4C,EAAEu5C,IACnB,GAAID,IAAS/8C,KAAe+8C,EAAK5lC,GAAG,KAAM,CAEtC,IAAI8lC,EAAWvB,EAAM,GAAGuB,SACpBC,EAAMj8C,KAAK6lB,MAAMm2B,EAAW,IAC5B/zB,EAAMjoB,KAAK6lB,MAAMm2B,EAAkB,GAANC,GAC7BC,EAASD,EAAM,EAAIA,EAAM,IAAM55C,GACnCo4C,EAAM1uB,IAAImS,GAAG,iCAAmCge,EAASj0B,EAAM,WAC/DwyB,EAAMj4C,EAAEu5C,GAAgBx6B,GAChD,CACA,CACA,IAGYk5B,EAAMiB,KAAKV,IAAW,WAClB,IAAIJ,EAAWp6C,EAAE,IAAMA,EAAEqc,MAAMra,EAAE4gB,IAAQ,YACrC63B,EAAQL,EAASp4C,EAAE04C,IAEvBt8C,EAAYg8C,EAAUa,IACtB78C,EAAYg8C,EAAUI,IAGlBC,IAAUl8C,IAAck8C,EAAM/kC,GAAG,KACjC0kC,EAASv/B,GAAG8gC,KAIZvB,EAASv/B,GAAG+gC,IACZ3B,EAAM7oC,YAAc,EAExC,IAGY6oC,EAAMiB,KAAK,SAAS,WAChB,IAAId,EAAWp6C,EAAE,IAAMA,EAAEqc,MAAMra,EAAE4gB,IAAQ,YACzCw3B,EAASv/B,GAAG0/B,IACZ97C,EAAe27C,EAAUI,GACzC,IAGYP,EAAMiB,KAAKW,IAAW,WAClB,IAAI1kC,EAAKnX,EAAEqc,MAAMra,EAAE4gB,IAAQ,WACvBw3B,EAAWp6C,EAAE,IAAMmX,GACvB1Y,EAAe27C,EAAUe,IACzBf,EAASv/B,GAAGihC,IACZ19C,EAAYg8C,EAAUa,IACtB78C,EAAYg8C,EAAU/lB,IAEtBumB,EAAmBzjC,EAAIijC,EAASp4C,EAAEihC,IAClD,IAGYgX,EAAMiB,KAAK3d,IAAS,WAChB0c,EAAM9mC,GAAG0oC,GACzB,IAGY5B,EAAM99B,OAAM,WACR,IAAIC,EAAMpc,EAAEqc,OACyB,IAAjCD,EAAGpa,EAAE6F,IAAShF,EAAEwxB,KAChBj2B,EAAYge,EAAIE,GACpC,IAAe,WACC7d,EAAeuB,EAAEqc,MAAOC,GACxC,MAIY+mB,KAGqC,MAAjCjiC,EAAkB0oB,KAClB4vB,EAAU9W,KAAK,WAGf9Y,EAAY4vB,EAAUz2C,KAG1B6mB,EAAU9nB,EAAEsgB,GAAiBtK,IAC7B5Z,EAAY0rB,EAAWE,IAGvBkZ,GAAuCwW,EAAW1hC,IAGlDiiC,EAAQR,EAAeC,EAAWvlC,GAElC8lC,EAAMj4C,EAAE84C,GAAYA,IAGhBb,EAAM1uB,EAAEvI,IAAS/iB,OAAS,GAC1Bg6C,EAAMtyC,EAAEo0C,GAAgB,SAG5B9B,EAAMiB,KAAKW,IAAW,WAElBjB,EAAmBX,EAAMh3C,IAAIjB,EAAE4gB,IAAOq3B,EAAMh3C,IAAIjB,EAAEihC,IAClE,IAGYgX,EAAMiB,KAAK3d,IAAS,WAChB0c,EAAM9mC,GAAG0oC,GACzB,IAiBA,GAuDA,CAOA,SAASjtC,KA6CL,SAASgsC,EAAmBzjC,EAAIhV,GAE5Bg7B,GAAoBhmB,EAAI,MAClBzL,GAAY,CACV,SACA,wBACF9D,IAAa,MAAQzF,EACnC,CAOI,SAAS65C,EAAeC,EAAW9nC,GAC/B,IAAIoZ,EAAO,CACP,gBACA,gDACF3lB,IAGE+xC,EAAWl4C,EAAyB0S,GAAKylC,IACzCC,EAAOp4C,EAAyB0S,GAAK2lC,IACrCC,EAAUt4C,EAAyB0S,GAAK6lC,IACxCrtB,EAAQlrB,EAAyB0S,GAAKkM,IACtCuM,EAASnrB,EAAyB0S,GAAK0B,IAG3ComC,EAAUrZ,KAAK3qB,GAAWlK,GAAOoX,GAAOhR,GAAMoZ,IAC9C,IAAI2uB,EAAQD,EAAUh5C,IActB,OAZAhE,EAAUg9C,GAGVC,EAAMl6C,EAAE84C,GAAYA,IAGhBnB,IAAap7C,IAAY29C,EAAMl6C,EAAE43C,GAAYA,IAC7CC,IAASt7C,IAAY29C,EAAMl6C,EAAE83C,GAAQA,IACrCC,IAAYx7C,IAAY29C,EAAMl6C,EAAEg4C,GAAW/+B,IAC3C0R,IAAUpuB,IAAY29C,EAAMl6C,EAAEqe,GAASsM,GACvCC,IAAWruB,IAAY29C,EAAMl6C,EAAE6T,GAAU+W,GAEtCsvB,CACf,CAvFI,IAAIvB,EAAWp6C,GAAUwE,GAAM+R,GAC/B9W,EAAE26C,EAAW,iBAAmBA,EAAW,iBAAmBA,EAAW,kBACvEA,EAAW,kBAAoBA,EAAW,kBAAoBA,EAAW,mBAAmB96B,GAAE,WAC5F,IAAIo8B,EAAYj8C,EAAEqc,MACd6/B,EAAQ39C,GACR4V,EAAM8nC,EAAUj6C,EAAEmjB,IAClB2E,EAAYmyB,EAAUh5C,IAC1BqgC,KAGqC,MAAjCliC,EAAkB0oB,KAClBmyB,EAAUrZ,KAAK,WAGf9Y,EAAYmyB,EAAUh5C,KAG1B6mB,EAAU9nB,EAAEsgB,GAAiB,SAC7BlkB,EAAY0rB,EAAWE,IAGvBkZ,GAAuC+Y,EAAW/jC,IAGlDgkC,EAAQF,EAAeC,EAAW9nC,GAGlC+nC,EAAMhB,KAAKW,IAAW,WAElBjB,EAAmBsB,EAAMj5C,IAAIjB,EAAE4gB,IAAOs5B,EAAMj5C,IAAIjB,EAAEihC,IAC9D,IAGQiZ,EAAMhB,KAAK3d,IAAS,WAChB2e,EAAM/oC,GAAG0oC,GACrB,GACA,GAoDA,CAUA,SAAS5rB,GAAU5xB,EAAQ8Y,EAAIglC,GAC3B,IAAIv2B,EAAIvJ,KAERuJ,EAAEjQ,GAAKpX,GACPqnB,EAAE1P,KAAO3X,GACTqnB,EAAE5a,MAAQzM,GACVqnB,EAAEG,MAAQxnB,GACVqnB,EAAEw2B,OAAS79C,GAEXqnB,EAAEy2B,UAAYx6C,GACd+jB,EAAE02B,kBAAoB,KAEtB12B,EAAE8N,SAAWluB,GAGbogB,EAAE6L,QAAUlzB,GACZqnB,EAAEqM,QAAU1zB,GACZqnB,EAAEyM,OAAS9zB,GACXqnB,EAAE22B,UAAYh+C,GACdqnB,EAAE42B,SAAWj+C,GACbqnB,EAAE0M,WAAa/zB,GACfqnB,EAAE62B,SAAWl+C,GAQbqnB,EAAE82B,WAAa,SAAUr+C,EAAQ8Y,EAAIglC,GAwFjC,SAASQ,IACL,IAAI1+C,EAAQ2nB,EAAE5a,MAAME,MAAMlG,IAEtB/G,IAAU4D,IACV+jB,EAAEG,MAAMpa,OAGJia,EAAEw2B,SAAW79C,KAAoD,IAAtCqnB,EAAEw2B,OAAOp6C,EAAE6F,IAAShF,EAAEka,MACjDte,EAAemnB,EAAEw2B,OAAQr/B,IACzBP,GAAiBoJ,EAAEw2B,WAIvBx2B,EAAEG,MAAM1a,OAGJua,EAAEw2B,SAAW79C,KAAoD,IAAtCqnB,EAAEw2B,OAAOp6C,EAAE6F,IAAShF,EAAEka,MACjD3e,EAAYwnB,EAAEw2B,OAAQr/B,IACtB6I,EAAEw2B,OAAOjgC,OAAM,WACXyJ,EAAEg3B,YAAYr3C,GACtC,IAAuB,WACCqgB,EAAEg3B,YAAYp3C,GACtC,aAImBogB,EAAS,UAAMqN,IAAcrN,EAAE6L,QAAQ7L,EAAE5a,MAAO/M,EACnE,CAjHQ,IAAI0X,EAAKpH,GAAS1M,GAAG,eAAiBsV,EAC1B5I,GAAS1M,GAAG,oBACVqV,GAAWrV,GAAGA,GAAGg7C,IAEjBtuC,GAAS1M,GAAG,sBACZ0M,GAAS1M,GAAG,oBAAqBkT,GAAa+nC,GAAiB,GAAI,GAAIxrB,MAEjF6qB,GACA99C,EAAOwP,GAAG8H,GACViQ,EAAEjQ,GAAKtX,EAAO0c,GAAG,gBAAkB5D,KAGnC9Y,EAAOq/B,GAAG/nB,GACViQ,EAAEjQ,GAAKtX,EAAO4E,IAAI8X,GAAG,gBAAkB5D,IAI3CyO,EAAE5a,MAAQ4a,EAAEjQ,GAAGoF,GAAG1D,IAClBuO,EAAEG,MAAQH,EAAEjQ,GAAGoF,GAAG,sBAKlB6K,EAAE5a,MAAMmG,GAAGkG,IAAS,WAI5B,IAIQuO,EAAE5a,MAAMmG,GAAG,oBAAoB,WAC3BnR,EAAEqc,MAAM3V,KAAK,oBAAqB,QAC9C,IAIQkf,EAAE5a,MAAMmG,GAAG,kBAAkB,WACzBnR,EAAEqc,MAAM3V,KAAK,oBAAqB,MAC9C,IAIQkf,EAAE5a,MAAMmG,GAAG,YAAY,SAAUN,GAEzC,IAIQ+U,EAAE5a,MAAMC,OAAM,WAOV,SAAS8xC,IACqC,UAAtCn3B,EAAE5a,MAAMtE,KAAK,sBAAoCkf,EAAEy2B,YAAcz2B,EAAE5a,MAAME,QACzEqc,aAAa3B,EAAE02B,mBACf12B,EAAE02B,kBAAoB,KACtB12B,EAAEy2B,UAAYz2B,EAAE5a,MAAME,MACtByxC,KAEJ/2B,EAAE02B,kBAAoBj3C,WAAW03C,EAAwB,IACzE,CAdYn3B,EAAE8N,SAAWnuB,GAEbnH,EAAYwnB,EAAEjQ,GAAIqnC,IAClBD,WAaOn3B,EAAS,UAAMqN,IAAcrN,EAAEqM,QAAQrM,EAAE5a,MAC5D,IAIQ4a,EAAE5a,MAAMiyC,MAAK,WACTr3B,EAAE8N,SAAWluB,GAEb/G,EAAemnB,EAAEjQ,GAAIqnC,IAErBz1B,aAAa3B,EAAE02B,mBACf12B,EAAE02B,kBAAoB,YAGf12B,EAAQ,SAAMqN,IAAcrN,EAAEyM,OAAOzM,EAAE5a,MAC1D,IAqCQ4a,EAAE5a,MAAMkwC,KAAK,WAAW,SAAUrqC,GAC9B,IAAI4M,EAAO5M,EAAM6M,SAAW7M,EAAM8M,OAAS9M,EAAM+M,SAC7C3f,EAAQ2nB,EAAE5a,MAAME,MAEhBwT,GAAU,EACd,OAAQjB,GACJ,KAAK,GACGmI,EAAEw2B,SAAW79C,IACbqnB,EAAEw2B,OAAOjpC,GAAGqK,IAChBkB,GAAU,SACHkH,EAAY,aAAMqN,IAAcrN,EAAE0M,WAAW1M,EAAE5a,MAAO/M,GAC7D,MACJ,KAAK,GAEoB,IAAjBA,EAAMgC,OACN2lB,EAAE5a,MAAMiyC,OAGRr3B,EAAEG,MAAM5S,GAAGqK,IACfkB,GAAU,SACHkH,EAAU,WAAMqN,IAAcrN,EAAE62B,SAAS72B,EAAE5a,OAClD,MAGJ0T,GACA7N,EAAM8N,wBAGHiH,EAAW,YAAMqN,IAAcrN,EAAE22B,UAAU32B,EAAE5a,MAAO/M,EAAOwf,EAC9E,IAKQmI,EAAEG,MAAM/U,KAAKC,IAAG,WACZ2U,EAAE5a,MAAME,IAAIrJ,IACZ+jB,EAAE5a,MAAMI,SACRwa,EAAEG,MAAMpa,OAEJia,EAAEw2B,SAAW79C,KAAoD,IAAtCqnB,EAAEw2B,OAAOp6C,EAAE6F,IAAShF,EAAEka,MACjDte,EAAemnB,EAAEw2B,OAAQr/B,IACzBP,GAAiBoJ,EAAEw2B,gBAGhBx2B,EAAS,UAAMqN,IAAcrN,EAAE6L,QAAQ7L,EAAE5a,MAAOnJ,GACnE,GACA,EAKI+jB,EAAEs3B,MAAQ,WACNt3B,EAAEG,MAAM5S,GAAGqK,GACnB,EAMIoI,EAAEwL,QAAU,SAAUlb,GAClB0P,EAAE1P,KAAO0P,EAAEjQ,GAAGoF,GAAG,qBACjB6K,EAAE1P,KAAK2E,GAAG3E,GACV0P,EAAE1P,KAAK7K,MACf,EAMIua,EAAEu3B,UAAY,SAAUjnC,GACpB0P,EAAEw2B,OAASx2B,EAAEjQ,GAAGoF,GAAG,uBACnB6K,EAAEw2B,OAAOvhC,GAAG3E,GACZ0P,EAAEw2B,OAAO/wC,OAETua,EAAEw2B,OAAOjgC,OAAM,WACXyJ,EAAEg3B,YAAYr3C,GAC1B,IAAW,WACCqgB,EAAEg3B,YAAYp3C,GAC1B,IACQogB,EAAEw2B,OAAOprC,KAAKC,IAAG,WACb,IAAIhT,EAAQ2nB,EAAE5a,MAAME,MAEhBjN,EAAMgC,OAAS,GACf2lB,EAAE5a,MAAMI,gBAGLwa,EAAU,WAAMqN,IAAcrN,EAAE42B,SAAS52B,EAAE5a,MAAO/M,EACrE,GACA,EAMI2nB,EAAEg3B,YAAc,SAAUQ,GAClBA,GACAh/C,EAAYwnB,EAAEw2B,OAAQ9/B,KACoB,IAAtCsJ,EAAEw2B,OAAOp6C,EAAE6F,IAAShF,EAAEka,KACtB3e,EAAYwnB,EAAEjQ,GAAI0nC,MAGtB5+C,EAAemnB,EAAEw2B,OAAQ9/B,IACzB7d,EAAemnB,EAAEjQ,GAAI0nC,IAEjC,EAMIz3B,EAAE4L,YAAc,SAAUrtB,GACtByhB,EAAE5a,MAAMhJ,EAAEs7C,GAAen5C,EACjC,EAKIyhB,EAAEva,KAAO,WACLua,EAAEjQ,GAAGtK,MACb,EAKIua,EAAEja,KAAO,WACLia,EAAEjQ,GAAGhK,MACb,EAMIia,EAAE4N,SAAW,SAAU7G,GACnB/G,EAAEjQ,GAAGhO,EAAE0Y,GAASsM,GAChB/G,EAAE5a,MAAMrD,EAAE0Y,GAASsM,GACZ/G,EAAEG,MAAM5P,IAA8C,EAAxChX,EAAYymB,EAAEG,MAAMpe,EAAEwT,OACpCyK,EAAE1P,OAAS3X,GAAa,EAAIqnB,EAAE1P,KAAKC,IAA6C,EAAvChX,EAAYymB,EAAE1P,KAAKvO,EAAEwT,OAC9DyK,EAAEw2B,SAAW79C,GAAa,EAAIqnB,EAAEw2B,OAAOjmC,IAA+C,EAAzChX,EAAYymB,EAAEw2B,OAAOz0C,EAAEwT,OACvEyK,EAAE1P,OAAS3X,IACXH,EAAYwnB,EAAE5a,MAAO,WACjC,EAGI4a,EAAE82B,WAAWr+C,EAAQ8Y,EAAIglC,EAC7B,CAIA,SAASoB,GAAsB5rB,GAC3B,IAAI/L,EAAIvJ,KACRuJ,EAAE43B,MAAQ,EACV53B,EAAE+L,OAASA,EAEX/L,EAAE63B,SAAW,WACT,GAAI73B,EAAE+L,OAAO5e,WACT,OAEJ,IAAI2qC,EAAM93B,EAAE+L,OAAO5W,GAAG,IAAMjH,IACxB1Q,EAAOs6C,EAAIC,GAAG/3B,EAAE43B,OAIpB,OAHA53B,EAAE43B,QACE53B,EAAE43B,OAASE,EAAIz9C,SACf2lB,EAAE43B,MAAQ,GACPp6C,CACf,EAEIwiB,EAAEG,MAAQ,WACNH,EAAE43B,MAAQ,CAClB,CACA,CASA,SAASltB,GAAWstB,EAAQC,GACxB,IAAIj4B,EAAIvJ,KACRuJ,EAAEjQ,GAAK,CACHmZ,MAAQ9uB,EAAE,IAAMyb,GAAgB,YAChCjD,KAAOxY,EAAE,uBACT2xB,OAAS3xB,EAAE,IAAM89C,GAAqB,aAG1Cl4B,EAAEg4B,OAASA,EAEXh4B,EAAEhjB,EAAI,GAEFpC,MAAgBjC,IAChBqnB,EAAEhjB,EAAE6D,KAAKnF,IAEbskB,EAAEgN,oBAAsB,EACxBhN,EAAE8M,YAAcn0B,GAEhBqnB,EAAEm4B,UAAY,GACdn4B,EAAEo4B,iBAAmBz/C,GACrBqnB,EAAEq4B,gBAAkB,EAEpBr4B,EAAEs4B,iBAAmB,EAErBt4B,EAAE8L,UAAY,IAAI6rB,GAAsB33B,EAAEjQ,GAAGgc,QAG7C/L,EAAEuL,iBAAmB5yB,GAWrBqnB,EAAEjQ,GAAG6C,KAAKxW,EAAEm8C,GAAoB,CACxB,UACA,wBACFv2C,KAMNge,EAAEqJ,SAAW,WACT,OAAOmvB,EACf,EAKIx4B,EAAErV,aAAe,WACb,OAAQqV,EAAEjQ,GAAG6C,KAAKuC,KAAK9a,OAAS,CACxC,EAKI2lB,EAAEvV,iBAAmB,WACbP,GAAIC,OAAOC,OACXhQ,EAAEq+C,IAAc7iC,KAEhBS,GAAejc,EAAEq+C,IAC7B,EAMIz4B,EAAEnb,IAAM,SAAUrH,GACdwiB,EAAEg4B,OAAOpvB,KAAKe,IAAIlT,KAAM9W,IAGxB,IAAIvD,EAAIoB,EAAK2X,GAAG,KACZhd,EAAOiE,EAAEA,EAAEgM,IACf4X,EAAEhjB,EAAE6D,KAAK1I,EAAKgF,EAAE,EAAGhF,EAAKkC,SAGxBmD,EAAKpB,EAAE4gB,GAAM07B,GAAal7C,EAAKpB,EAAEu8C,KACjCn7C,EAAKpB,EAAEw8C,GAAY,KACnBp7C,EAAKpB,EAAEy8C,GAAchf,IACrBr8B,EAAKpB,EAAEC,GAASD,EAAEiD,IAAID,KAGtBhD,EAAE07B,GAAG17B,EAAEiD,KACPjD,EAAEiD,EAAEpD,IAGJuB,EAAK4N,KAAKC,IAAG,WAET,IAAI9S,EACJsH,EADWzF,EAAE,IAAMoD,EAAKpB,EAAE4gB,KAAO7H,GAAG,KAAK/Y,EAAEgM,YAIpC4X,EAAEg4B,OAAoB,gBAAM3qB,IAAcrN,EAAEg4B,OAAOrrB,eACtE,IAKQvyB,EAAEuO,GAAS,MAAQ+vC,GAAal7C,EAAKpB,EAAEu8C,IAAYF,GAAavb,KAAM9G,KAAS0iB,aAAat7C,EAAK6P,EAAE,MAGnG,IAAIozB,EAAKc,GAA+B/jC,EAAKpB,EAAE6F,KAC/C,GAAI+d,EAAEo4B,mBAAqBz/C,GAAY,CAEnC,GAAI8nC,EAAKzgB,EAAEq4B,gBAAiB,CAExBr4B,EAAEm4B,UAAUt3C,KAAKmf,EAAEo4B,kBAKnB,IAAI9E,EAAStzB,EAAEo4B,iBAAiBnjC,GAAG9F,GAAa4pC,GAAgB,GAAI,GAAI7zB,GAAS8tB,KAC7EgG,EAAe1F,EAAOj2C,IAC1B27C,EAAa58C,EAAEw8C,GAAY,KAC3BI,EAAa58C,EAAEy8C,GAAchf,IAG7BziB,GAAgBk8B,EAAOn+B,GAAGwF,KAC1B24B,EAAOloC,KAAKC,IAAG,SAAUJ,GACrBA,EAAMi0B,kBAEN,IAAI3tB,EAAKnX,EAAEqc,MAAMpZ,IAAIjB,EAAE4gB,IACvBgD,EAAEi5B,YAAY1nC,EAAKnX,EAAE,IAAMmX,GAAInV,EAAEy8C,IAAc/oC,GAAG,KAAQ,IAAM,IAAKnQ,GACzF,GACA,MAGqB8gC,EAAKzgB,EAAEq4B,iBACZr4B,EAAEm4B,UAAUhH,MAGZnxB,EAAEm4B,UAAU99C,OAAS,GACrBmD,EAAKpB,EAAE88C,GAAWl5B,EAAEm4B,UAAUn4B,EAAEm4B,UAAU99C,OAAS,GAAGgD,IAAIjB,EAAE4gB,IAC5E,CAGQgD,EAAEo4B,iBAAmBh+C,EAAE,OAASs+C,GAAal7C,EAAKpB,EAAEu8C,KACpD34B,EAAEq4B,gBAAkB5X,CAC5B,EAKIzgB,EAAE5T,YAAc,SAAUT,GA4DtB,SAASwtC,EAAiB5nC,GAEtByO,EAAEi5B,YAAY1nC,EAAI,IAAK5R,IAEvB,IAAInC,EAAOpD,EAAE,IAAMmX,GACfhW,EAAUiC,EAAKsD,KAAKC,IACpBxF,IAAY5C,IAA8B,OAAhB4C,EAAQkC,KAClC07C,EAAiB37C,EAAKpB,EAAE88C,IACxC,CA/DQ,GAFIvtC,IAAchT,KACdgT,EAAYvR,EAAE+B,UAAUwP,aACxB/R,KAAKoS,IAAIL,EAAYqU,EAAEs4B,kBAAoB,GAC3C,OAEJt4B,EAAEs4B,iBAAmB3sC,EAKrB,IAAI+iB,EAAS1O,EAAEhjB,EAAE3C,OAAS,EAC1B,IAAK,IAAI4C,EAAI,EAAGiC,EAAM8gB,EAAEhjB,EAAE3C,OAAQ4C,EAAIiC,EAAKjC,IAAK,CAC5C,IAAI0P,EAAWzC,GAAIwD,QAAQC,QAEjB3T,EAAagmB,EAAEhjB,EAAEC,IADjB+iB,EAAEhjB,EAAEC,GAEVxE,EAAS2B,EAAE,IAAMJ,EAAa2S,IAC9BysC,EAAe3gD,EAAOuE,IAE1B,GAAKvE,EAAOsU,KAAO3S,EAAE+B,UAAUwP,YAA+B,EAAfytC,EAAmB,CAC9D1qB,EAASzxB,EAAI,EACb,KAChB,CACA,CAGY+iB,EAAEgN,qBAAuB0B,IAI7B1O,EAAEgN,mBAAqB0B,EAGnB1O,EAAEmN,aAIEnN,EAAE8M,cAAgBn0B,IAClBE,EAAemnB,EAAE8M,YAAaC,IAElC/M,EAAE8M,YAAc1yB,EAAE,IAAMi/C,GAAa,KAAO58C,GAAQ2L,GAAQ,IAAM4X,EAAEhjB,EAAE0xB,KAAUrxB,IAChF7E,EAAYwnB,EAAE8M,YAAaC,IAGvB/M,EAAE8M,YAAY3f,YACdgsC,EAAiBn5B,EAAE8M,YAAY1wB,EAAE88C,KAGrCl5B,EAAEiM,0BAICjM,EAAkB,mBAAMqN,IAAcrN,EAAEuL,mBAevD,EAKIvL,EAAEiM,gBAAkB,WAChB,GAAIjM,EAAE8M,cAAgBn0B,IAAcqnB,EAAE8M,YAAY/C,QAAUpxB,GACxD,OAGJ,MAAM2gD,EAA6B,EAApBt5B,EAAE8M,YAAY9vB,IACzBu8C,EAAOv5B,EAAEjQ,GAAG6C,KAAKjH,YACjB6tC,EAAUD,EAAOv5B,EAAEjQ,GAAG6C,KAAK5V,IAG3BgjB,EAAE8M,YAAY/C,MAAMuR,IAAMie,EAC1Bv5B,EAAEjQ,GAAG6C,KAAKjH,UAAUqU,EAAE8M,YAAY/C,MAAMuR,KAEnCtb,EAAE8M,YAAY/C,MAAMuR,IAAOke,EAAUF,GAC1Ct5B,EAAEjQ,GAAG6C,KAAKjH,UAAUqU,EAAE8M,YAAY/C,MAAMuR,IAAMtb,EAAEjQ,GAAG6C,KAAK5V,IAAMs8C,EAC1E,EAKIt5B,EAAEmN,SAAW,WACT,OAAOnN,EAAEgN,oBAAsB,CACvC,EAKIhN,EAAE6O,cAAgB,WACd,OAAQj0B,MAAgBjC,IAAuC,IAAzBqnB,EAAEgN,kBAChD,EAKIhN,EAAE8O,WAAa,WACX,OAAQl0B,MAAgBjC,IAAuC,IAAzBqnB,EAAEgN,kBAChD,EAOIhN,EAAEjM,OAAS,SAAU1b,GACjB,GAAIA,EAAM+G,MAAQnD,GACd,OAAO2D,GAEPogB,EAAEg4B,OAAOpvB,KAAKa,gBAAkBzJ,EAAEqJ,YAClCrJ,EAAEy5B,mBAEN,IAAIC,EAAU95C,GA2Dd,OA1DAogB,EAAEjQ,GAAGgc,OAAOxF,QAEZnsB,EAAEu/C,IAAW1/B,GAAE,WACX,IAAIzc,EAAOpD,EAAEqc,MACTmjC,EACJ,IADWp8C,EAAKpB,EAAE4yB,IAAmBxxB,EAAKpB,EAAEC,KACnCoB,IAAIR,EAAE5E,IAAU,EAAG,CAExB,IAAIwhD,EAAYr8C,EAAKqoB,QAErBrtB,EAAYqhD,EAAWriB,IACvB3+B,EAAeghD,EAAWvY,GAAc,sDACxCjoC,EAAUwgD,EAAU1kC,GAAGsjC,KACvBoB,EAAUnxC,GAAGpH,GAAUrF,GAAGA,GAAG49C,EAAUz9C,EAAE4yB,MACzC6qB,EAAUp0C,OACVo0C,EAAUz9C,EAAE09C,GAAoB3+B,IAGhC0+B,EAAUzuC,KAAKC,IAAG,WACdxS,EAAemnB,EAAEjQ,GAAGgc,OAAO5W,GAAG,IAAM4X,IAAoBA,IACxDvvB,EAAK+P,GAAGqK,IACRpf,EAAY4B,EAAEqc,MAAOsW,GACzC,IAGgB/M,EAAEjQ,GAAGgc,OAAO9jB,GAAG4xC,GACfH,EAAU/5C,EAC1B,CACA,IAEQuC,GAAKmL,EAAE,IAAM2I,IAAeiE,GAAE,WAC1B,IAAIzc,EAAOpD,EAAEqc,MACTmjC,EACJ,IADWp8C,EAAKpB,EAAEC,IAAWmB,EAAKpB,EAAE29C,KAC3Bt8C,IAAIR,EAAE5E,IAAU,EAAG,CAExB,IAAIwhD,EAAYr8C,EAAKqoB,QACrBg0B,EAAUp0C,OACVo0C,EAAUz9C,EAAE09C,GAAoB3+B,IAGhC0+B,EAAUzuC,KAAKC,IAAG,WACd7N,EAAK+P,GAAGqK,GAC5B,IAGgBoI,EAAEjQ,GAAGgc,OAAO9jB,GAAG4xC,GACfH,EAAU/5C,EAC1B,CACA,IAGa+5C,IACD15B,EAAEjQ,GAAGgc,OAAOxF,QACZvG,EAAEjQ,GAAGgc,OAAO9jB,GAAGU,GAAS1M,GAAG,2BACvB,CAAC,SACD,eAAe+F,MACnBg4C,GAAsBvjC,OAGnB9W,EACf,EAKIqgB,EAAEkM,aAAe,WACT9xB,EAAEu/C,IAAWt/C,OAAS,EACtB2lB,EAAEg4B,OAAOpvB,KAAKe,IAAIlT,KAAM9W,IAExBqgB,EAAEg4B,OAAOpvB,KAAKe,IAAIlT,KAAM7W,GACpC,EAKIogB,EAAEva,KAAO,WACDua,EAAEg4B,OAAO7yC,QAAQC,MAAME,MAAMjL,OAAS,GACtC2lB,EAAEjQ,GAAG6C,KAAK7M,OACVia,EAAEy5B,qBAGFz5B,EAAEjQ,GAAG6C,KAAKnN,OACVua,EAAEgM,mBAEd,EAKIhM,EAAEja,KAAO,WACLia,EAAEjQ,GAAG6C,KAAK7M,OACVia,EAAEgM,kBACV,EACQisB,GAAQj4B,EAAEja,OAKdia,EAAEy5B,iBAAmB,WACjBz5B,EAAEjQ,GAAG6C,KAAK7M,OAEVia,EAAEjQ,GAAGgc,OAAOtmB,OACZ5M,EAAemnB,EAAEjQ,GAAGgc,OAAO5W,GAAG,IAAM4X,IAAoBA,GAChE,EAKI/M,EAAEgM,iBAAmB,WACjBhM,EAAEjQ,GAAGgc,OAAOhmB,MACpB,EAKIia,EAAEwO,WAAa,SAAU/1B,GACrBoH,EAAgB,IAAMpH,EAAO2D,EAAEkyB,IACvC,EAQItO,EAAEi5B,YAAc,SAAU1nC,EAAIilC,EAAQyD,GAClC,IAAIC,EAAW,KACX18C,EAAOpD,EAAE,IAAMmX,GACf4oC,EAAU38C,EAAK48C,UACfC,EAAYjgD,EAAE,OAASmX,GAMZ,MAAXilC,GACAh5C,EAAKpB,EAAEy8C,GAAchf,IACrBrhC,EAAY6hD,EAAUllC,GAAGwF,IAAQq4B,MAGjCx1C,EAAKpB,EAAEy8C,GAAc19B,IACrBtiB,EAAewhD,EAAUllC,GAAGwF,IAAQq4B,KAIxC,IAAK,IAAI/1C,EAAI,EAAGiC,EAAMi7C,EAAQ9/C,OAAQ4C,EAAIiC,EAAKjC,IAAK,CAChD,IAAIO,EAAOpD,EAAE+/C,EAAQl9C,IAErB,GAAgB,MAAZi9C,EAAkB,CAClB,MAAMI,EAAM/Y,GAA+B/jC,EAAKpB,EAAE6F,KAC5Cs4C,EAAMhZ,GAA+B2Y,EAAS99C,EAAE6F,KACtD,GAAIq4C,EAAMC,EACN,SACC,GAAID,EAAMC,EACX,KACpB,CAGgBN,GAC0B,MAAvBz8C,EAAKpB,EAAEw8C,KACPp7C,EAAKpB,EAAEy8C,IAAc/oC,GAAG,MACb,MAAX0mC,IACCh5C,EAAKpB,EAAEy8C,GAAc19B,IAErB6E,EAAEi5B,YAAYz7C,EAAKpB,EAAE4gB,IAAOw5B,EAAQyD,IAI5Cz8C,EAAKuE,EAAE4sB,GAAuB,MAAX6nB,EAAkBv/B,GAASmW,IAC9C8sB,EAAW18C,CACvB,CACA,CACA,CAUA,SAASg9C,GAAgBje,GACrB,IAAIxsB,EAAKwsB,EAASxsB,GAElBqH,GAAgBrH,EAAGmZ,OAGnBnZ,EAAGgc,OAAO9jB,GAAGU,GAAS1M,GAAG,6BACzB8T,EAAG4X,KAAO5X,EAAGgc,OAAO5W,GAAG,6BAEvBslC,GAAkB1qC,EACtB,CAMA,SAASoc,GAAqBoQ,GAC1B,IAAIxsB,EAAKwsB,EAASxsB,GACd2qC,EAAQ3qC,EAAGgc,OAAO5W,GAAG,IAAMqiB,IAC/BkjB,EAAMj1C,OACe,IAAjBi1C,EAAMrgD,OACNogD,GAAkB1qC,IAElBA,EAAG4X,KAAK5hB,OACR20C,EAAMt+C,EAAE09C,GAAoB3+B,IAC5B6+B,GAAsBzd,GAE9B,CAMA,SAASyd,GAAsBzd,GAC3B9R,GAAkBd,IAAI4S,EAClBA,EAASxsB,GAAGgc,OAAO5W,GAAG,IAAMqiB,GAAa/6B,GAAQq9C,KAAqBz/C,OAAS,EACvF,CAKA,SAASogD,GAAkB1qC,GACvBA,EAAG4X,KAAKtoB,EAAE,KAAO,CACb,QACA,mBACF2C,IAAa,MACf+N,EAAG4X,KAAKliB,MACZ,CASA,SAASk1C,GAAape,EAAUh+B,EAAMoO,EAAQiuC,GAC1CnwB,GAAkBd,IAAI4S,EAAU58B,IAE5B48B,EAASxsB,GAAG4X,KAAKhQ,YACjB4kB,EAASxsB,GAAG4X,KAAK5hB,OACrB,IAAIvI,EAAOpD,EAAEkH,GAAUk2B,GACPrvB,GAAO4xC,GAAiBt7C,EAAsBm8C,IAAcjiD,IAAuC,IAAzBiiD,EAAUx7C,IAAI/E,OAAgB4B,GAAI2+C,IAC5Gr8C,IAChBg+B,EAASxsB,GAAGgc,OAAO9jB,GAAGzK,GAEtBA,EAAK4N,KAAKC,IAAG,WACTxS,EAAe0jC,EAASxsB,GAAGgc,OAAO5W,GAAG,IAAM4X,IAAoBA,IAC/Dv0B,EAAYgF,EAAMuvB,IAElBltB,EAAgB,IAAM8M,UAGf4vB,EAASyb,OAAoB,gBAAM3qB,IAAckP,EAASyb,OAAOrrB,eAChF,GACA,CAQA,SAASP,GAAgBmQ,EAAUlkC,GAC/B,GAAyB,IAArBA,EAAM+G,IAAI/E,OAEV,OADAowB,GAAkBd,IAAI4S,EAAU38B,IACzBA,GAIX28B,EAASxsB,GAAG4X,KAAK5hB,OACjBw2B,EAASxsB,GAAGgc,OAAO5W,KAAKpP,OACxBlN,EAAe0jC,EAASxsB,GAAGgc,OAAO5W,GAAG,IAAM4X,IAAoBA,IAC/Dh0B,EAAcwjC,EAASxsB,GAAGgc,OAAO5W,KAAM2kC,IAGvC,IAAIJ,EAAU95C,GAuBd,OAtBA28B,EAASxsB,GAAGgc,OAAO5W,GAAG,IAAMqiB,IAAYvd,GAAE,WACtC,IAAIzc,EAAOpD,EAAEqc,MACT+lB,EAAgBh/B,EAAKpB,EAAE29C,KACvBv8C,EAAK6B,IAAI5B,IAAIR,EAAE5E,IAAU,GACrBmkC,IAAkB7jC,IAAc6jC,EAAc/+B,IAAIR,EAAE5E,IAAU,KAC9DmF,EAAKiI,OACLjI,EAAKpB,EAAE09C,GAAoB3+B,IAC3BsP,GAAkBd,IAAI4S,EAAU58B,IAChC+5C,EAAU/5C,GAE1B,IAGS+5C,IACDnd,EAASxsB,GAAG4X,KAAKtoB,EAAE,CACf,SACA,eACF2C,KACFu6B,EAASxsB,GAAG4X,KAAKliB,OACjBglB,GAAkBd,IAAI4S,EAAU38B,KAG7BD,EACX,CAMA,SAASk7C,GAAsBte,GAC3B,OAAQA,EAASxsB,GAAGgc,OAAO5W,GAAGrD,IAAQzX,OAAS,CACnD,CAMA,SAASygD,GAAcve,GACnBA,EAASxsB,GAAGgc,OAAOtmB,OACnB5M,EAAe0jC,EAASxsB,GAAGgc,OAAO5W,GAAG,IAAM4X,IAAoBA,GACnE,CAMA,SAASguB,GAAcxe,GACnBA,EAASxsB,GAAGgc,OAAOhmB,MACvB,CASA,SAAS6kB,GAAUotB,EAAQC,GACvB,IAAIj4B,EAAIvJ,KACRuJ,EAAEjQ,GAAK,CACHmZ,MAAQ9uB,EAAE,IAAMyb,GAAgB,WAChCkW,OAAS3xB,EAAE,IAAM89C,GAAqB,WACtCvwB,KAAOhvB,IAGXqnB,EAAEg4B,OAASA,EAEXh4B,EAAE8L,UAAY,IAAI6rB,GAAsB33B,EAAEjQ,GAAGgc,QAG7CyuB,GAAgB/jC,MAMhBuJ,EAAEqJ,SAAW,WACT,OAAOzlB,EACf,EAKIoc,EAAErV,aAAe,WACb,OAAOkwC,GAAsBpkC,KACrC,EAQIuJ,EAAEnb,IAAM,SAAUtG,EAAMoO,EAAQiuC,GAC5BD,GAAalkC,KAAMlY,EAAMoO,EAAQiuC,EACzC,EAKI56B,EAAEkM,aAAe,WACb8tB,GAAsBvjC,KAC9B,EAKIuJ,EAAEva,KAAO,WACLq1C,GAAcrkC,KACtB,EAKIuJ,EAAEja,KAAO,WACLg1C,GAActkC,KACtB,EACQwhC,GAAQj4B,EAAEja,MAClB,CASA,SAAS+kB,GAASktB,EAAQC,GACtB,IAAIj4B,EAAIvJ,KACRuJ,EAAEjQ,GAAK,CACHmZ,MAAQ9uB,EAAE,IAAMyb,GAAgB,UAChCkW,OAAS3xB,EAAE,IAAM89C,GAAqB,UACtCvwB,KAAOhvB,IAGXqnB,EAAEg4B,OAASA,EAEXh4B,EAAE8L,UAAY,IAAI6rB,GAAsB33B,EAAEjQ,GAAGgc,QAG7CyuB,GAAgB/jC,MAMhBuJ,EAAEqJ,SAAW,WACT,OAAO3lB,EACf,EAKIsc,EAAErV,aAAe,WACb,OAAOkwC,GAAsBpkC,KACrC,EAQIuJ,EAAEnb,IAAM,SAAUtG,EAAMoO,EAAQiuC,GAC5BD,GAAalkC,KAAMlY,EAAMoO,EAAQiuC,EACzC,EAKK56B,EAAEkM,aAAe,WACd8tB,GAAsBvjC,KAC9B,EAKIuJ,EAAEva,KAAO,WACLq1C,GAAcrkC,KACtB,EAKIuJ,EAAEja,KAAO,WACLg1C,GAActkC,KACtB,EACQwhC,GAAQj4B,EAAEja,MAClB,CASA,SAASilB,GAASgtB,EAAQC,GACtB,IAAIj4B,EAAIvJ,KACRuJ,EAAEjQ,GAAK,CACHmZ,MAAQ9uB,EAAE,IAAMyb,GAAgB,UAChCkW,OAAS3xB,EAAE,IAAM89C,GAAqB,UACtCvwB,KAAOhvB,IAGXqnB,EAAEg4B,OAASA,EAEXh4B,EAAE8L,UAAY,IAAI6rB,GAAsB33B,EAAEjQ,GAAGgc,QAG7CyuB,GAAgB/jC,MAMhBuJ,EAAEqJ,SAAW,WACT,MAAO,YACf,EAKIrJ,EAAErV,aAAe,WACb,OAAOkwC,GAAsBpkC,KACrC,EAQIuJ,EAAEnb,IAAM,SAAUtG,EAAMoO,EAAQiuC,GAC5BD,GAAalkC,KAAMlY,EAAMoO,EAAQiuC,EACzC,EAKI56B,EAAEkM,aAAe,WACb8tB,GAAsBvjC,KAC9B,EAKIuJ,EAAEva,KAAO,WACLq1C,GAAcrkC,KACtB,EAKIuJ,EAAEja,KAAO,WACLg1C,GAActkC,KACtB,EACQwhC,GAAQj4B,EAAEja,MAClB,CASA,SAASmlB,GAAa8sB,EAAQC,GAC1B,IAAIj4B,EAAIvJ,KACRuJ,EAAEjQ,GAAK,CACHmZ,MAAQ9uB,EAAE,IAAMyb,GAAgB,cAChCkW,OAAS3xB,EAAE,IAAM89C,GAAqB,cACtCvwB,KAAOhvB,IAGXqnB,EAAEg4B,OAASA,EAEXh4B,EAAE8L,UAAY,IAAI6rB,GAAsB33B,EAAEjQ,GAAGgc,QAG7CyuB,GAAgB/jC,MAMhBuJ,EAAEqJ,SAAW,WACT,OAAOvlB,EACf,EAKIkc,EAAErV,aAAe,WACb,OAAOkwC,GAAsBpkC,KACrC,EAQIuJ,EAAEnb,IAAM,SAAUtG,EAAMoO,EAAQiuC,GAC5BD,GAAalkC,KAAMlY,EAAMoO,EAAQiuC,EACzC,EAKI56B,EAAEkM,aAAe,WACb8tB,GAAsBvjC,KAC9B,EAKIuJ,EAAEva,KAAO,WACLq1C,GAAcrkC,KACtB,EAKIuJ,EAAEja,KAAO,WACLg1C,GAActkC,KACtB,EACQwhC,GAAQj4B,EAAEja,MAClB,CASA,SAASqlB,GAAW4sB,EAAQC,GACxB,IAAIj4B,EAAIvJ,KACRuJ,EAAEjQ,GAAK,CACHmZ,MAAQ9uB,EAAE,IAAMyb,GAAgB,YAChCmlC,MAAQ5gD,EAAE,IAAM6gD,GAAgB,UAChClvB,OAAS3xB,EAAE,IAAM6gD,GAAgB,YAGrCj7B,EAAEg4B,OAASA,EAMXh4B,EAAEqJ,SAAW,WACT,MAAO,SACf,EAKIrJ,EAAErV,aAAe,WACb,OAAOkwC,GAAsBpkC,KACrC,EAMIuJ,EAAEnb,IAAM,SAAUtM,GACd,GAAIA,IAASI,IAAuB,MAATJ,GAAoC,IAApBA,EAAK6G,IAAI/E,OAChD,OAGJxB,EAAemnB,EAAEjQ,GAAGgc,OAAO5W,GAAG,IAAM4X,IAAoBA,IAGxD,IAAIiuB,EAAQriD,GACRgU,EAASpU,EAAK4E,EAAE,EAAG5E,EAAK8B,QAM5B,GALIsS,EAAOmD,GAAG,SACVkrC,EAAQ5gD,EAAE7B,GAAM6D,EAAEihC,IACb1wB,EAAOmD,GAAG,YACfkrC,EAAQ5gD,EAAE7B,GAAM8G,KAEhB27C,IAAUriD,GAAY,CACtB,IAAIuiD,EAAU9gD,EAAEu/C,GAAY,iBAAmBl9C,GAAQ2L,GAAQpO,EAAazB,KAAQ8E,IACpF29C,EAAQ15C,GAAUrF,GAAGA,GAAGi/C,EAAQ9+C,EAAE4yB,IAAmB7vB,IAC/CnF,EAAa2S,EAC/B,CACQ,IAAIof,EAAS/L,EAAEjQ,GAAGgc,OAAO5W,GAAGrD,GAASrV,GAAQ0+C,GAAe5iD,IAG5D,GAAsB,IAAlBwzB,EAAO1xB,OACP2lB,EAAEjQ,GAAGgc,OAAOrjB,GAAGpH,GAAUk2B,GAAYrvB,GAAOgzC,GAAe5iD,GAAOyiD,QAGjE,CAED,IAAII,EAAarvB,EAAOlG,QACxB7F,EAAEjQ,GAAGgc,OAAOrjB,GAAG0yC,GACf5iD,EAAY4iD,EAAYruB,IACxB1zB,EAAU0yB,EACtB,CAGQ,IAAIvuB,EAAOwiB,EAAEjQ,GAAGgc,OAAO5W,GAAGrD,GAASrV,GAAQ0+C,GAAe5iD,IAC1DC,EAAYgF,EAAMuvB,IAClBvvB,EAAKpB,EAAE09C,GAAoB3+B,IAC3B3d,EAAK4N,KAAKC,IAAG,WACTxL,EAAgBtH,UAETynB,EAAEg4B,OAAoB,gBAAM3qB,IAAcrN,EAAEg4B,OAAOrrB,eACtE,IAEQ3M,EAAEkM,cACV,EAKIlM,EAAEkM,aAAe,WACb8tB,GAAsBvjC,KAC9B,EAKIuJ,EAAEva,KAAO,WACLua,EAAEjQ,GAAGirC,MAAMv1C,OACXua,EAAEjQ,GAAGgc,OAAOtmB,OAEZ,IAAI41C,EAAUvpC,GAAS,IAAM0lB,GACzB8jB,EAAc,yBAE0C,IAAxDt7B,EAAEjQ,GAAGgc,OAAO5W,GAAGkmC,EAAU,KAAOC,GAAajhD,OAE7C2lB,EAAEjQ,GAAGgc,OAAO9jB,GAAGU,GAAS1M,GAAG,qBACvB,CAAC,QACD,eAAe+F,MAGdge,EAAEjQ,GAAGgc,OAAO5W,GAAGkmC,GAAShhD,OAAS,GAEtChB,EAAU2mB,EAAEjQ,GAAGgc,OAAO5W,GAAGmmC,GAErC,EAKIt7B,EAAEja,KAAO,WACLia,EAAEjQ,GAAGirC,MAAMj1C,OACXia,EAAEjQ,GAAGgc,OAAOhmB,MACpB,EACQkyC,GAAQj4B,EAAEja,MAClB,CASA,SAASw1C,GAAOrxB,EAAM8tB,GAClB,IAAIh4B,EAAIvJ,KACRuJ,EAAEjQ,GAAK3V,EAAE,IAAMohD,IACfx7B,EAAEy7B,OAAS9iD,GACXqnB,EAAE3G,QAAUzZ,GACZogB,EAAE07B,KAAO/iD,GACTqnB,EAAEznB,KAAO0D,GACT+jB,EAAE/a,QAAU,EACZ+a,EAAE27B,WAAazhC,GAAW,IAAM3U,GAChCya,EAAE47B,MAAQ,GACV57B,EAAEg4B,OAASA,EAGXh4B,EAAEkK,KAAOA,EACTlK,EAAEkK,KAAKoB,YAAY7U,KAAMuJ,EAAEjQ,IAE3BqH,GAAgB4I,EAAEjQ,IAElBiQ,EAAEnd,KAAO,WAmEL,SAASg5C,EAAgBt9C,EAAMm9C,EAAMnjD,EAAMyiD,GAEvC,GAAIh7B,EAAE47B,MAAME,SAASJ,EAAOnjD,GACxB,OACJynB,EAAE47B,MAAM/6C,KAAK66C,EAAOnjD,GAEpBynB,EAAE3G,QAAU1Z,GAGZqgB,EAAE/a,UACgB,IAAd+a,EAAE/a,UACF+a,EAAE07B,KAAOA,EACT17B,EAAEznB,KAAOA,GAIb,IAAIE,EAASoD,EAAyB6/C,GAAMxhC,IACxC6hC,EAAatjD,IAAWE,IAAcF,EAAO4B,OAAS,EAC1D2hD,EAAU/zC,GAAGU,GAAS1M,GAAG+Z,GAAgB,OAASgK,EAAE/a,QAE1CkK,GADL4sC,EACkBE,GACAC,GADgB,GAAI,GAAIr0C,IAEzCyH,GAAU/Q,IAIhB,IAAIf,EAAOw+C,EAAU3uC,EAAE,IAAM2I,GAAgB,OAASgK,EAAE/a,SACxDzH,EAAKpB,EAAE+/C,GAAYT,GACnBl+C,EAAKpB,EAAEggD,GAAY7jD,GACnBiF,EAAKpB,EAAEC,GAASkC,GAEhBf,EAAKpB,EAAE29C,GAAiBx0C,GAAQ,KAAOy1C,GACvCx9C,EAAK4N,KAAKC,IAAG,WACL0wC,EACA9jD,OAAO0sC,KAAK+W,EAAOnjD,EAAME,GAEzBunB,EAAEva,KAAKi2C,EAAMnjD,EACjC,IAEYvB,EAAI,iBAAmB0kD,EAAOnjD,EAC1C,CA1GQ,IAAI8jD,EAActgD,EAAqBugD,IACnCvwB,EAAS,KACTiwB,EAAYrjD,GAShB,GAPAqnB,EAAEy7B,OAASrhD,EAAEiX,GAAW5U,GAAQC,GAAQ4/C,KAExCp6C,GAAK+F,GAAGU,GAASoN,GAAa9Z,KAC9B+/C,EAAY5hD,EAAE,IAAM2b,IAIhBsmC,IAAgB1jD,IAA+D,OAAhDozB,EAASswB,EAAYvkD,EAAE,sBAA+B,CACrF,IAAIykD,EAAaF,EAAY9+C,GAAG,QAChC,IAAK,IAAIN,EAAI,EAAGA,EAAIs/C,EAAWliD,OAAQ4C,IAGnC,GAFA8uB,EAASwwB,EAAWt/C,GAAGnF,EAAE,gDAEX,MAAVi0B,EAAgB,CAChB,IAAI2vB,EAAO79C,EAAyBkuB,EAAO,IACvCxzB,EAAOoF,EAAkBouB,EAAO,IAChCxtB,EACAy8C,EACJa,EAFW9vB,EAAO,GAEI2vB,EAAMnjD,EADfwzB,EAAO1xB,OAAS,EAAK0xB,EAAO,GAAK9vB,GAElE,KAEqB,CACD,IAAIy/C,EAAO79C,EAAyB0+C,EAAWt/C,IAC3C1E,EAAOoF,EAAkB4+C,EAAWt/C,IACxC4+C,EAAgB,CAAC,OAAQ,oBAAoB75C,IACzC05C,EAAMnjD,EAAM0D,GACpC,CAEA,CAIQ,IAAIugD,EAAe,IAAI7R,OAAO,cAAgBplC,GAAO,KACrDnL,EAAE,IAAMqC,GAAQ2L,GAAQ4X,EAAE27B,WAAY,OAAO1hC,GAAE,WAC3C,IAAI7d,EAAIhC,EAAEqc,MACNte,EAAOiE,EAAEA,EAAEgM,IACXszC,EAAO79C,EAAyB1F,GAAMqG,EAAEg+C,EAAcvgD,IACtD1D,EAAOoF,EAAkBxF,IACzB2F,EAAqC49C,GAAMrhD,OAAS,GAAK9B,EAAK8B,OAAS,IACvEwhD,EAAgBz/C,EAAEiD,IAAKq8C,EAAMnjD,EAAM6D,EAAEA,EAAEC,KAE3CtD,EAAcqD,EAAGgM,IACjBhM,EAAEA,EAAE8d,GAAU3U,IACdnJ,EAAEgP,KAAKC,IAAG,WACN2U,EAAEva,KAAKi2C,EAAMnjD,EAC7B,GACA,IAEQynB,EAAEy8B,SAGFrlC,GAAgBhd,EAAE,IAAM2b,GAAc,KAAOC,GACvC,MAAQD,GAAc,KAAOC,GAAgB,SAEnDhf,EAAI,qBAkDZ,EAQIgpB,EAAEy8B,OAAS,SAAUriC,EAAQshC,EAAMnjD,GAE/B,GAAI6hB,IAAWD,GAAYC,QAAUshC,IAAS/iD,IACvCqnB,EAAE07B,OAAS/iD,GACd,OAEJ,IAAI+jD,EAAKzgD,GAGLme,IAAWzhB,KACX+jD,EAAK,OAAStiC,GAGdshC,IAAS/iD,KACT+iD,EAAO17B,EAAE07B,MAETnjD,IAASI,KACTJ,EAAO0D,IAEX+jB,EAAEy7B,OAAOr/C,EAAEmjB,GACPm8B,GAASA,EAAKz+C,EAAE,MAAQ,EAAK,IAAM,KACjC,oBACAy/C,EAAKnkD,EACnB,EAMIynB,EAAErI,SAAW,WACT,OAAOqI,EAAEjQ,GAAGhO,EAAE4sB,MAAe1X,EACrC,EAOI+I,EAAEva,KAAO,SAAUk3C,EAASpkD,UACjBynB,EAAEg4B,OAAoB,gBAAM3qB,IAAcrN,EAAEg4B,OAAOrrB,gBAE1D,IAAIiwB,EAAO9+C,EAAqC6+C,GAGhD38B,EAAEkK,KAAKzkB,OACPua,EAAEjQ,GAAGtK,OAGe,IAAhBm3C,EAAKviD,SACLuiD,EAAO58B,EAAE07B,KACTiB,EAAU38B,EAAE07B,MAII,IAAhBnjD,EAAK8B,QACFuiD,IAAS9+C,EAAqCD,EAAyBmiB,EAAEy7B,OAAOr/C,EAAEmjB,QAIrFq9B,IAAS58B,EAAE07B,KACX17B,EAAEy8B,OAAO9jD,GAAYA,GAAYJ,GAEjCynB,EAAEy8B,OAAO9jD,GAAYgkD,EAASpkD,GAC1C,EAKIynB,EAAEja,KAAO,WACLia,EAAEjQ,GAAGhK,OACLia,EAAEkK,KAAKnkB,MACf,EAQIia,EAAEvH,cAAgB,SAAUZ,EAAMI,EAAUhN,GACxC,GAAI+U,EAAEjQ,GAAG5C,WACL,OAEJ,IAAI2L,GAAU,EACd,OAAQjB,GACJ,KAAK,GACGmI,EAAErI,aACFqI,EAAEja,OACF+S,GAAU,GAEd,MAIJA,GACA7N,EAAM8N,gBAClB,CACA,CAOA,SAAS5P,KAkKL,SAAS0zC,EAAiBC,EAAKvhD,GAE5BuhD,EAAI1gD,EAAE8pB,GAAcsX,IACpBhlC,EAAYskD,EAAKrgC,IAGhB6gB,GAAuCwf,EAAKvhD,EACpD,CAMI,SAASwhD,EAAkBD,GACvB,IAAIvuC,EAAMuuC,EAAI1gD,EAAEmjB,IAEhBu9B,EAAIxH,KAAK3d,IAAS,WACM,CAEhB,IAAIqlB,EAAMF,EAAIz/C,IAAIgQ,EAAE8P,IAASlI,KACzB1D,EAAKurC,EAAIz/C,IAAIjB,EAAE4gB,IAEfggC,IAAQrkD,KACRqkD,EAAMF,EAAI1gD,EAAEmhC,IACZhsB,EAAKurC,EAAI1gD,EAAE4gB,KAGfua,GAAoBhmB,EAAI,MAClBzL,GAAY,CACV,SACA,wBACF9D,IAAa,MAAQg7C,EAC3C,CAEYC,EAAqB7iD,EAAEqc,MACnC,IAGQqmC,EAAI1gD,EAAEmjB,GAAOhR,EACrB,CAQI,SAAS2uC,EAAcjI,EAAQ18C,GAC3B,IAAI4kD,EAAW5kD,EAAK0E,EAAE,UAAY,EAC9BmgD,EAAW7kD,EAAK0E,EAAE,UAAY,EAC9BogD,EAAY9kD,EAAK0E,EAAE,WAAa,EACpC,OAAQkgD,GAAYC,GAAYC,CACxC,CAQI,SAASC,EAAarI,EAAQ18C,GAC1B,OAAOA,EAAK0E,EAAE,UAAY,CAClC,CASI,SAASsgD,EAAYr5B,EAAW3rB,EAAM08C,GAClC,IAAIta,EAAQhiC,GAEZ,GAAIJ,EAAK0E,EAAE,YAAc,EACrB09B,EAAQ/3B,QACP,GAAI+3B,IAAUhiC,IAAcJ,EAAK0E,EAAE,WAAa,EACjD09B,EAAQzzB,QACP,GAAIyzB,IAAUhiC,IAAcJ,EAAK0E,EAAE,UAAY,EAChD09B,EAAQp2B,OAEP,IAAIo2B,IAAUhiC,IAAcs8C,EAAc,QAAMt8C,GAGjD,OAFAgiC,EAAQsa,EAAc,KAEtB,CAEJ/wB,EAAUniB,EAAEupC,GAAa3Q,EACjC,CAOI,SAAS6iB,EAAiBx3B,EAAKivB,GAC3B,IAAIwI,EAAOxI,EAAa,KACpBwI,IAAS9kD,IAEbqtB,EAAI5pB,EAAEshD,GAAeD,EAC7B,CASI,SAASE,EAAgB33B,EAAKivB,EAAQ18C,EAAMgW,GACpC0mC,EAAO2I,MAAYjlD,KAGvBqtB,EAAI5pB,EAAEugB,GAAes4B,EAAO2I,KAGxBrvC,EAAItR,EAAE4gD,GAAa,IAAM,GACzBC,UAAU93B,EAAI,GAAI,CAEd+3B,YAAc,SAAU/3B,EAAKC,GACzB,IAAI+3B,EAAS5jD,EAAE6rB,GAEVi3B,EAAcjI,EAAQ18C,IACvB8qB,GAAqB26B,EAAQ77B,GAAQ07B,IAEzCI,GAAgCD,EAAO5hD,EAAEugB,IAAgBqhC,EAC7E,EAEgBE,OAAS,SAAUl4B,EAAKC,GACpBxuB,EAAM,mBAAoB2C,EAAE4rB,GAAK5pB,EAAEmjB,IACvD,IAGA,CAOI,SAAS4+B,EAAkBn4B,EAAKivB,GAE5B,GAAIA,EAAOmJ,MAAezlD,GAI1B,GAAIs8C,EAAOmJ,MAAevhC,GACtBmJ,EAAI5pB,EAAEwgB,GAAeC,QAGpB,CACDmJ,EAAI5pB,EAAEwgB,GAAeE,IAErB,IAAIvO,EAAMyX,EAAI5pB,EAAEmjB,IACZq9B,EAAO3+C,EAAesQ,GACtB8vC,EAAczgD,EAAyB2Q,GAEvC+vC,EAAUrJ,EAAOmJ,KAAcC,IAAgBpiD,GAAK,IAAMoiD,EAAepiD,KAErD,IAApBqiD,EAAQrhD,EAAE,OACVqhD,EAAU1B,EAAO0B,GAGrBt4B,EAAI5pB,EAAEmiD,GAAgBv4B,EAAI5pB,EAAEmjB,KAC5ByG,EAAI5pB,EAAEoiD,GAAeF,GAGjBrJ,EAAOwJ,MAAc9lD,IACrBqtB,EAAI5pB,EAAEsiD,GAAmBzJ,EAAOwJ,KAChCxJ,EAAO0J,MAAkBhmD,IACzBqtB,EAAI5pB,EAAEwiD,GAAkB3J,EAAO0J,IAC/C,CACA,CAOI,SAASE,EAAc74B,EAAKivB,GACxB,IAAI1mC,EAAMyX,EAAI5pB,EAAEmjB,IACZtO,EAASgkC,EAAOwJ,IAChBK,EAAa7J,EAAO0J,IAGpB1tC,IAAWtY,KACXsY,EAAS8tC,EAAiBxwC,EAAK0C,GAC/B+U,EAAI5pB,EAAEsiD,GAAmBztC,GAEzB+U,EAAI5pB,EAAEqiD,GAAUxtC,IAIhB6tC,IAAenmD,KACfmmD,EAAaC,EAAiB/4B,EAAI5pB,EAAEoiD,IAAgBM,GACpD94B,EAAI5pB,EAAEwiD,GAAkBE,GAEpC,CAOI,SAASE,EAAeh5B,EAAKztB,GAEzB,GAAIA,IAASI,KAAkC,IAApBJ,EAAK0E,EAAEgiD,IAC9B,OAGJ,IAAIC,EAAal5B,EAAIm5B,aAAajyC,IAAcpN,OAC5Co/C,EAAW7kD,OAAS,IACpB6kD,EAAW7hD,IAAI0E,EAAEq9C,GAAW72B,GAAe,IAAMtR,GAASooC,GAAcjnB,GAAY,KAAOinB,IAC3FH,EAAW7hD,IAAI0E,EAAEu9C,GAAaroC,IAC9BioC,EAAW7hD,IAAI0E,EAAEkO,GAAUoF,IAC3Btc,EAAcmmD,EAAW7hD,IAAKqnC,KAIlC,IAAI6a,EAAUv5B,EAAI5pB,EAAEmhC,IAChBiiB,EAAmBD,EACnBE,EAAYz5B,EAAI5pB,EAAEC,IAClBqjD,EAAW15B,EAAI3oB,IAAIsoB,IAGnB+5B,IAAa/mD,IAAc+mD,EAASrlD,OAAS,GACzCmB,EAAkBkkD,KAAcxyC,KAChCqyC,EAAUG,EAASzqC,KACnBuqC,EAAmBE,EAASrgD,IAC5BhG,EAAUqmD,IAIlB3mD,EAAcitB,EAAK3pB,IAEnB2pB,EAAI8R,GAAGnvB,GAAS1M,GAAG,gCACVwjD,IAAc9mD,GAAasD,GAAI0M,GAAS1M,GAAG,eAAgBwjD,KACzDF,IAAY5mD,GAAasD,GAAI0M,GAAS1M,GAAG,cAAesjD,OAIzC,IAAtBhnD,EAAK0E,EAAE,YAER+oB,EAAIzP,OAAM,WACL,IAAIC,EAAKpc,EAAEqc,MACPkpC,EAAOnpC,EAAGmP,IACd,GAAIg6B,EAAK59C,EAAE4sB,MAAe1X,GACtB,OAEJ,IAAIhE,EAAU1Z,EAAYid,EAAGzU,EAAEwT,KAC3BpC,EAAoB5Z,EAAYid,EAAGzU,EAAEqR,KAGzCusC,EAAK59C,EAAE0Y,GAASjE,EAAGjG,IAAgB,EAAV0C,GACzB,IAAIjW,EAAIzD,EAAYomD,EAAK59C,EAAEkO,KACvB2vC,EAAOppC,EAAGxZ,IAAgB,EAAViW,EACpB0sC,EAAK59C,EAAEiO,GAAOmD,EAAoBqD,EAAGuT,MAAMuR,IAAMskB,EAAO5iD,GAGxD2iD,EAAK59C,EAAEwC,GAAQiS,EAAGuT,MAAMC,MAGxB21B,EAAK59C,EAAE4sB,GAAWvB,GAClC,IAAe,SAAUniB,GACT,IAAIuL,EAAKpc,EAAEqc,MACPkpC,EAAOnpC,EAAGmP,IACTnT,GAAiBgE,EAAIvL,IACtB00C,EAAK59C,EAAE4sB,GAAW1X,GACtC,IAGY+O,EAAIL,IAAIpa,GAAGuL,IAAc,SAAU7L,GAC1BuH,GAAiBwT,EAAK/a,IACvB7Q,EAAEqc,MAAM1U,EAAE4sB,GAAW1X,GACzC,KAMQ4oC,KAGIJ,IAAc9mD,KACd8mD,EAAYxjD,IACZujD,IAAqB7mD,KACrB6mD,EAAmBvjD,IACvB,IAAI0Q,EAAS,YAAckzC,GACvB57B,EAAU3iB,GAAUrF,GAAGA,GAAG,CACtB,OACA,aACE+F,IAAa69C,GAAyB,KAAOJ,EACnDjjB,EAAgBijB,EAAYD,EAChCx5B,EAAI5pB,EAAE4gB,GAAMrQ,GACZqZ,EAAI5pB,EAAEihC,GAAapZ,GACnB7f,GAAWwG,OAAO/F,IAAIof,EAAStX,EAAQ6vB,EAC/C,CAMI,SAASygB,EAAqBxkD,GAG1BM,EAAcN,EAAQ8kC,IACtBxkC,EAAcN,EAAQ4D,IACtB7D,EAAYC,EAAQ,aAC5B,CAOI,SAASsmD,EAAiBxwC,EAAK0C,GAE3B,IAAI2rC,EAAO3+C,EAAesQ,GAI1B,GAAI,eAAeiwB,KAAKvtB,GAAS,CAC7B,IAAI6uC,EAAUvxC,EAAIpR,EAAE,EAAGoR,EAAItR,EAAE,IAAK,IAC9B8iD,EAAWD,EAAQ3iD,EAAE,EAAG2iD,EAAQ1hD,YAAY,MAC5CmW,EAASurC,EAAQ3iD,EAAE2iD,EAAQ1hD,YAAY,KAAM0hD,EAAQzlD,QAGzD4W,GADAA,EAASA,EAAOzS,EAAE,MAAOuhD,EAAW,MAAQxrC,EAAS,QACrC/V,EAAE,MAAOuhD,EAAW,MAAQxrC,EAAS,MACjE,MAMYtD,GADAA,EAASA,EAAO+uC,OAAO,IAAK,MAAO,QACnBA,OAAO,IAAK,MAAO,OAIvC,IAAIlW,EAAM74B,EAAO1T,GAAG,KAOpB,OANuB,IAAnBusC,EAAI,GAAG7sC,EAAE,OACTgU,EAAS2rC,EAAO3rC,GAEhB64B,EAAIzvC,OAAS,IAAwB,IAAnByvC,EAAI,GAAG7sC,EAAE,OAC3BgU,EAASA,EAAOzS,EAAE,OAAQ,OAASo+C,IAEhC3rC,CACf,CA1fO,IACC5O,EAAK,IAAIC,GAIbD,EAAGE,KAEHnI,EAAE,+BAA+B6f,GAAE,WAC/B7f,EAAEqc,MAAMhI,QAChB,IACIpM,EAAGS,GAAG,uBAINT,EAAGE,KAMH,IAAI09C,EAAWjoD,IAAiB8X,GAAG,QAC/BowC,EAAgBD,GAAY/1C,GAAIwD,QAAQC,SAAWzD,GAAIwD,QAAQ6O,OAC/D4jC,EAAWloD,OAAOC,SAASioD,SAC3BC,EAAUrkD,EAAqB,oBAC/BqkD,IAAYznD,IAAeynD,EAAQ18B,GAAG,OACtC08B,GAAW,KAEfhmD,EAAEO,GAAU,MAAQuW,GAAQ,IAAMvW,GAAU,sBAAwBggB,GAAQ,IAC1EhgB,GAAU,QAAUuW,GAAQ,kBAAoBA,GAAQ,mBAAqBA,GAAQ,kBAAoBA,GAAQ,oBAAoB+I,GAAE,WACrI,IAAI6iC,EAAM1iD,EAAEqc,MACRlI,EAAMuuC,EAAI1gD,EAAEmjB,IACZ8gC,EAAgB9xC,EAChB2V,EAAY44B,EAAIz/C,IAChB9B,EAAUC,EAAkBshD,GAE5B7H,EAASh5C,GACT1D,EAAO0D,GACPqkD,EAAa1gD,GAIjB,GAAI2O,IAAQ5V,GAAY,CAQpB,GANAs8C,EAASp5C,EAAyB4T,UAAUlB,IAC5ChW,EAAOoF,EAAkB4Q,GAEzBuuC,EAAI1gD,EAAE4gB,GAAM,YAAcujC,IAGtBL,IAAiBvgD,GAAO,CAExB,IAAI6gD,EAAWH,EAAcvoD,EAAE,uCAC3B2oD,EAAUD,GAAYA,EAAS,GAGnC,GAAe,MAAXC,GAAmBN,IAAaM,EAAS,CAGzC,IAAIC,EAAex2C,GAAIwD,QAAQ6O,SAAW0jC,GAAYG,IAAYznD,GAC9D+nD,IACAL,EAAgBD,EAAUC,EAC1BvD,EAAI1gD,EAAEmjB,GAAO8gC,IAIjB1C,EAAgBb,EAAK7H,EAAQ18C,EAAM8nD,GAG/BK,GACA5D,EAAI1gD,EAAEmjB,GAAOhR,EACrC,CACA,CAiBY,GAdA4vC,EAAkBrB,EAAK7H,GAGvB4J,EAAc/B,EAAK7H,GAGnB+J,EAAelC,EAAKvkD,GAGpBwkD,EAAkBD,GAElByD,KAGIrD,EAAcjI,EAAQ18C,GACtB,OAAOoH,GAGX2gD,EAAahD,EAAarI,EAAQ18C,GAC7B+nD,IAED9C,EAAiBV,EAAK7H,GAGtB/wB,EAAY44B,EAAIz/C,IAEqB,MAAjC7B,EAAkB0oB,KAClB44B,EAAI9f,KAAK,WAGT9Y,EAAY44B,EAAIz/C,KAIpBkgD,EAAYr5B,EAAW3rB,EAAM08C,GAE7C,CAGQ,IAAKqL,EAAY,CAGTj9B,GAAqBy5B,EADrBvuC,IAAQ5V,GACkBwpB,GAAQC,GAERD,GAAQ07B,IAEtCrgB,KAGAqf,EAAiBC,EAAKvhD,GAGtB2oB,EAAU9nB,EAAEsgB,GAAiBnhB,GAC7B/C,EAAY0rB,EAAWE,IAEvB,IAAIu8B,EAAU7D,EAAIz/C,IAAIA,SACNujD,IAAZD,GAAsE,IAA7CA,EAAQxrC,GAAG,cAAgBjE,IAAO7W,QAC3Di+B,GAAkBwkB,EAAKl5C,GACvC,CACA,IACIvB,EAAGS,GAAG,sBAINT,EAAGE,KAGC2H,GAAI6R,QAAQC,IAAM,GACfpf,EAAmB6hD,MAAcppC,IAChCjb,EAAE,IAAM+N,GAAOuU,GAAiBxL,IAAS/R,GAAM+R,IAAO+I,GAAE,WACpD,IAAI6iC,EAAM1iD,EAAEqc,OAC4B,IAApCqmC,EAAI1gD,EAAEmjB,IAAOtiB,EAAE4gD,GAAa,IACzBf,EAAI1gD,EAAEqiD,MAAc9lD,IACnBmkD,EAAI1gD,EAAEqiD,GAAU3B,EAAI1gD,EAAEmjB,IAAS,MAEvD,IAIIshC,GAA4BjhD,IAC5ByC,EAAGS,GAAG,sBAiWV,CAOA,SAASuf,GAAkBiD,EAAQra,GAC/B,IAAI1O,EAAUylB,GAA0B5lB,EAAEmjB,IAE1C,GAAI/F,GAAgC,CAChC,IAAIxI,EAAMgR,GAA0B5lB,EAAEmhC,IAClCyd,EAAQh5B,GAA0B5lB,EAAEC,IACxCE,EAAU,MAAQyU,IAAQrY,GAAaqY,EAAM/U,IACvC,KAAOM,GAAWy+C,IAAUriD,GAAa,KAAOqiD,EAAQ,IAAM/+C,IAAK,GACjF,CACIgjC,GAAc3Z,EAAQ/oB,EAASoD,GACnC,CAMA,SAASkhD,GAA4BC,GACjC,IAAI1mC,EAASD,GAAYC,OACrB2mC,EAAW3mC,IAAWpS,GAI1B5N,EAAE8W,GAAQzU,GAAQmgB,GAAe,UAAY,KAAOjC,GAAQle,GAAQmgB,GAAe,WAAW3C,GAAE,WAC5F,IAAI+L,EAAM5rB,EAAEqc,MACRlI,EAAMyX,EAAI5pB,EAAEmjB,IACZwhC,EAEI/6B,EAAI5pB,EAAEugB,MAAmBhkB,KAErB4V,IAAQ5V,IACRqtB,EAAI5pB,EAAEqiD,GAAUz4B,EAAI5pB,EAAEsiD,KAE1BlmD,EAAYwtB,EAAKg7B,MAIrBnoD,EAAemtB,EAAKg7B,IAChBzyC,IAAQ5V,IACRqtB,EAAI5pB,EAAEqiD,GAAUz4B,EAAI5pB,EAAEsiD,KAEtC,IAEItkD,EAAE8W,GAAQzU,GAAQmgB,GAAe,UAAU3C,GAAE,WACzC,IAAI+L,EAAM5rB,EAAEqc,MACZ5d,EAAemtB,EAAKg7B,IACpBh7B,EAAI5pB,EAAEmjB,GAAOyG,EAAI5pB,EAAE6kD,GAAY7mC,IAC/B4L,EAAI5pB,EAAEqiD,GAAUz4B,EAAI5pB,EAAE8kD,GAAe9mC,GAC7C,IAIIhgB,EAAE8W,GAAQzU,GAAQkgB,GAAe,QAC3B,IAAMzL,GAAQzU,GAAQkgB,GAAe,UACrC,IAAMzL,GAAQzU,GAAQkgB,GAAe,UACrC,IAAMhC,GAAQle,GAAQkgB,GAAe,QACrC,IAAMhC,GAAQle,GAAQkgB,GAAe,UACrC,IAAMhC,GAAQle,GAAQkgB,GAAe,WAAW1C,GAAE,WACpD,IAAI6iC,EAAM1iD,EAAEqc,MACR0qC,EAAOrE,EAAI1gD,EAAEugB,IAEbnhB,EAAkBshD,GAAKhtC,GAAG,MAAQgtC,EAAI1gD,EAAEmjB,IAAOtiB,EAAE4gD,GAAa,IAAM,EACpEI,GAAgCkD,EAAMrE,IAIlCqE,IAASlK,GACT6F,EAAI/6C,EAAEq/C,GAAU,2BAA6BtE,EAAIz/C,IAAI0E,EAAEmuC,IAAW,KAElE4M,EAAI/6C,EAAEq/C,GAAU,2BAA6BxvC,GAAS,QAAUuvC,EAAO,OAAS,KAEhFrE,EAAI1gD,EAAE8pB,MAAkBvtB,IACxBmkD,EAAI/6C,EAAEwmB,GAActR,IAEpC,IAKQ6pC,GAEA1mD,EAAE8W,GAAQzU,GAAQihD,GAAe,QAC3B,IAAMxsC,GAAQzU,GAAQihD,GAAe,UAAUzjC,GAAE,WACnD,IAAI+L,EAAM5rB,EAAEqc,MAERsqC,GACAloD,EAAemtB,EAAK,wBACpBntB,EAAemtB,EAAK,yBACpBntB,EAAemtB,EAAK,4BAGpBntB,EAAemtB,EAAK,uBACpBntB,EAAemtB,EAAK,wBACpBntB,EAAemtB,EAAK,+BACpBntB,EAAemtB,EAAK,yBACpBntB,EAAemtB,EAAK,iCAGxB,IAAIq7B,EAAWr7B,EAAI5pB,EAAEshD,IACjB4D,EAAat7B,EAAI5pB,EAAEwgB,MAAmBC,GAKlCrkB,EAAYwtB,EAHhBq7B,IAAaE,IAAUF,IAAaj0B,GAChC2zB,GAAYO,EAEK,cAAgBD,EAAW,IAAMjnC,EAAS,UAE1C,cAAgBinC,EAAW,IAAMjnC,EAIrC,kBAAoBA,EACrD,GAEA,CAOA,SAAS6jC,GAAgCkD,EAAMl7B,GAE3CA,EAAIlkB,EAAEq/C,GAAUnqC,IAEZkqC,IAASlK,GACThxB,EAAI5Y,EAAE,gCAAgCtL,EAAE67C,GAAQ33B,EAAI5oB,IAAI0E,EAAEmuC,KAE1DjqB,EAAI5Y,EAAE,gCAAgCtL,EAAE67C,GAAQhsC,GAAS,QAAUuvC,EAAK1jD,KAChF,CAIA,SAAS+I,KACL,IAAIwZ,EAAIvJ,KACRuJ,EAAEjQ,GAAK3V,EAAE,IAAMonD,IACfxhC,EAAE1Z,KAAO,CACLyJ,GAAK3V,EAAEqnD,IACP/sC,KAAOta,EAAEqnD,GAAgB,SACzB9sC,KAAOva,EAAEqnD,GAAgB,SACzB3sC,MAAQ1a,EAAE,4BAEd4lB,EAAEzjB,QAAUnC,EAAE,IAAMsnD,IACpB1hC,EAAE2hC,OAAS,EAEXvqC,GAAgB4I,EAAEzjB,QAAQ4Y,GAAGjE,GAAQ,KAAOyJ,KAG5CqF,EAAE1Z,KAAKoO,KAAKtJ,KAAKC,IAAG,WAChB2U,EAAE2gC,SACV,IACI3gC,EAAE1Z,KAAKqO,KAAKvJ,KAAKC,IAAG,WAChB2U,EAAE4hC,SACV,IACI5hC,EAAE1Z,KAAKwO,MAAM1J,KAAKC,IAAG,WACjB2U,EAAEja,MACV,IACIia,EAAEzjB,QAAQ6O,KAAKC,IAAG,WACd2U,EAAEja,MACV,IAKIia,EAAEvV,iBAAmB,WAEbP,GAAIC,OAAOC,QACX4V,EAAE1Z,KAAKoO,KAAKkB,KACZoK,EAAE1Z,KAAKqO,KAAKiB,OAIZoK,EAAE1Z,KAAKyJ,GAAGwG,OAAM,WACZnc,EAAEqc,MAAM1U,EAAE0lB,GAAa,mBACvC,IAAe,WACCrtB,EAAEqc,MAAM1U,EAAE0lB,GAAaxQ,GACvC,IAEY+I,EAAE1Z,KAAKyJ,GAAGxE,GAAGs2C,IAAa,WACtBznD,EAAEqc,MAAM1U,EAAE0lB,GAAaxQ,GACvC,IAEY+I,EAAE1Z,KAAKyJ,GAAGxE,GAAGiC,IAAW,WACpBpT,EAAEqc,MAAM1U,EAAE0lB,GAAa,mBACvC,IAEA,EAMIzH,EAAErI,SAAW,WACT,OAAOqI,EAAEjQ,GAAGhO,EAAE4sB,MAAe1X,EACrC,EAKI+I,EAAEva,KAAO,SAAUq3C,GACc,IAAzBtf,KAGJ5jB,KACAhB,GAAcjZ,GAEH,MAAPm9C,IACAA,EAAM1iD,EAAEqC,GAAQypB,GAAclG,EAAE2hC,UAGpC3hC,EAAE2hC,OAASpoD,EAAYujD,EAAI1gD,EAAE8pB,KAE7BlY,GAAUgS,EAAEjQ,IAEZiQ,EAAEjE,UACFiE,EAAE8hC,WACV,EAKI9hC,EAAEja,KAAO,WACLia,EAAEzjB,QAAQgqB,QACVnY,GAAU4R,EAAEjQ,IAEZgK,KACAnB,GAAchZ,EACtB,EAKIogB,EAAEjE,QAAU,WACR,IAAI+gC,EAAM1iD,EAAEqC,GAAQypB,GAAclG,EAAE2hC,SACpC3hC,EAAEzjB,QAAQgqB,QACVvG,EAAEzjB,QAAQkJ,OACVua,EAAEzjB,QAAQwF,EAAE0Y,GAASrgB,EAAEnC,QAAQsY,KAC1BxO,EAAEkO,GAAU7V,EAAEnC,QAAQ+E,KAE3B,IAAI+kD,EAASjF,EAAIj3B,QACjBk8B,EAAOhgD,EAAE8Y,GAAYzgB,EAAEnC,QAAQsY,IAAM,IAChCxO,EAAEigD,GAAa5nD,EAAEnC,QAAQ+E,IAAM,IAC/B+E,EAAEg6B,GAAgBC,IACvBxjC,EAAYupD,EAAQ,iBACpB3zC,GAAU2zC,GAGV1rC,GAAe0rC,GAGfA,EAAO32C,KAAKC,IAAG,WAEXxL,EAAgB,IAAMod,GAAY+C,EAAE2hC,QACpC3hC,EAAEja,MACd,IAEQia,EAAEzjB,QAAQ0L,GAAG85C,GACb/zC,GAAU+zC,EAClB,EAKI/hC,EAAE2gC,QAAU,WACJ3gC,EAAE2hC,OAAS,IACX3hC,EAAE2hC,SACF3hC,EAAEjE,UACFiE,EAAE8hC,WAEd,EAKI9hC,EAAE4hC,QAAU,WACJ5hC,EAAE2hC,OAASnkB,KACXxd,EAAE2hC,SACF3hC,EAAEjE,UACFiE,EAAE8hC,WAEd,EAKI9hC,EAAE8hC,SAAW,WACT,IAAIG,EAAU7nD,EAAE,IAAMonD,GAAY,UAE1BvsC,GAAG3T,GAAU,iBAAkBrF,GAAG+jB,EAAE2hC,OAAS,IAAMnkB,IACrDr+B,GAAM/E,EAAE,IAAM6iB,GAAY+C,EAAE2hC,OAAS,IAAMxkC,IAAS9d,KAG1D2gB,EAAE1Z,KAAKoO,KAAK3S,EAAEiO,IAAQgQ,EAAEjQ,GAAG/S,IAAMgjB,EAAE1Z,KAAKoO,KAAK1X,KAAO,GACpDgjB,EAAE1Z,KAAKqO,KAAK5S,EAAEiO,GAAOgQ,EAAE1Z,KAAKoO,KAAK3S,EAAEiO,KAGnCgQ,EAAE1Z,KAAKoO,KAAK3S,EAAEoM,GAAW,KACzB6R,EAAE1Z,KAAKqO,KAAK5S,EAAEoM,GAAW,KACrB6R,EAAE2hC,OAAS,GACX3hC,EAAE1Z,KAAKoO,KAAK3S,EAAEoM,GAAW,KAEzB6R,EAAE2hC,OAASnkB,IACXxd,EAAE1Z,KAAKqO,KAAK5S,EAAEoM,GAAW,IAErC,EAQI6R,EAAEvH,cAAgB,SAAUZ,EAAMI,EAAUhN,GACxC,GAAI1E,GAAQwJ,GAAG5C,WACX,OAEJ,IAAI2L,GAAU,EACd,OAAQjB,GACJ,KAAK,IACL,KAAK,GACDmI,EAAE2gC,UACF7nC,GAAU,EACV,MACJ,KAAK,IACL,KAAK,GACDkH,EAAE4hC,UACF9oC,GAAU,EACV,MACJ,KAAK,GACGkH,EAAErI,aACFqI,EAAEja,OACF+S,GAAU,GAEd,MAIJA,GACA7N,EAAM8N,gBAClB,CACA,CAgEA,SAASjL,KAsCL1T,EAAEO,GAAUwE,GAAMsS,GAAU,UAAYywC,GAAa,MAAMjoC,GAAE,WACzD,IAAIk1B,EAAYC,GACZC,EAAWrnC,GAGXwO,EAAMpc,EAAEqc,MACRsS,EAAUvS,EAAGpa,EAAEstB,IACfX,IAAYpwB,IAAcowB,EAAQjZ,GAAG,MACrCq/B,EAAYhE,GACZkE,EAAWnqB,IAGN1O,EAAG,GAAG2rC,gBACXhT,EAAY9D,IAKhB70B,EAAGymB,GAAG9tB,GAAamgC,GAAeH,EAAW,GAAI,GAAIE,EAAU,yBAC/Dh2C,EAAUmd,EAClB,GACA,CAKA,SAASzI,KAEL,IAAIq0C,EAAc,2DAElBhoD,EAAEgoD,GAAanoC,GAAE,WACb,IAAIxhB,EAAS2B,EAAEqc,MACfhe,EAAO4U,EAAE,0BAA0B4M,GAAE,WACjC,IAAIooC,EAASjoD,EAAEqc,MACfhe,EAAOsJ,EAAE0Y,GAAS4nC,EAAO9xC,KACpBxO,EAAEkO,GAAUoyC,EAAOrlD,KAExBvE,EAAO8/B,GAAG,cAAcx2B,EAAE0Y,GAASpF,IAC1BtT,EAAEkO,GAAUoF,GACjC,GACA,IAGI,IAAIitC,EAAW,kBACXC,EAAe,EACnBnoD,EAAEgoD,EAAc,qBAAuBznC,IAAOV,GAAE,WAC5CsoC,IACA,IAAIC,EAAUpoD,EAAEqc,MACZ5F,EAAU,2BAA6B0xC,EAE3CC,EAAQn1C,EAAE,sBAAwB5Q,GAAQugB,GAAMslC,EAAU,OAAOG,KAAK,KAAM5xC,GAE5E2xC,EAAQn1C,EAAE,iBAAmBi1C,EAAW,MAAMG,KAAK,OAAQ,QAAU5xC,EAAU,IACvF,IAGI,IAAI6xC,EAAc,6DAGlBtoD,EAAEsoD,GAAazoC,GAAE,WACb,IAAIxhB,EAAS2B,EAAEqc,MACXksC,EAAUlqD,EAAO2D,EAAEwhC,IAAWrgC,GAAG,OACjCqlD,EAAiBnqD,EAAOsJ,EAAE+3B,IAE9BrhC,EAAO2D,EAAEwhC,GACL+kB,EAAQ,GAAKxjD,GAAMwjD,EAAQ,GAAKxjD,GAAMwjD,EAAQ,GAAKxjD,IAChD5F,EAAYopD,EAAQ,IAAMppD,EAAYqpD,KAE7CpqD,EAAYC,EAAQ0tB,GAC5B,IAII/rB,EAAEsoD,EAAc,0BAA0BzoC,GAAE,WACxC,IAAI4oC,EAAQzoD,EAAEqc,MACVlY,EAAOskD,EAAMl9B,EAAEsxB,IAAQ9hC,KACvB2tC,EAAUvkD,EAAKc,IACfoiC,EAASxlC,GACb,MAAM8mD,EAAQ,UACVC,EAAS,WACTC,EAAS,SAGb,GALc,OAKJzkB,KAAKskB,GAAU,CACrB,IAAI9lD,EAAI6lD,EAAM7lD,IACVkmD,EAAQL,EAAMxlD,IAAI/B,GAAGimD,KAAWsB,EAAMvnD,GAAGimD,IAC7CsB,EAAMzmD,EAAE+mD,IAAOnmD,EAAI,IAAM,GACzB6lD,EAAMzmD,EAAEgnD,IAAOpmD,EAAI,IAAM,GACzB6lD,EAAMzmD,EAAE,IAAK7C,EAAYspD,EAAMzmD,EAAE,MAAQ,IACzCymD,EAAMzmD,EAAE6T,GAAUjT,EAAI,IACtBkmD,EAAK9mD,EAAE,KAAM7C,EAAY2pD,EAAK9mD,EAAE,OAAS,IACzC8mD,EAAK9mD,EAAE,KAAM7C,EAAY2pD,EAAK9mD,EAAE,OAAS,IACzC5D,EAAYqqD,EAAMvnD,GAAGimD,IAAS,iBAC9BhjD,EAAKc,EAAEoiC,EAASqhB,EAAQ3lD,EAAE,EAAG2lD,EAAQzoD,QACjD,MAEiB2oD,EAAOxkB,KAAKskB,IACjBtqD,EAAYqqD,EAAOQ,IACnB7qD,EAAYqqD,EAAMvnD,GAAGimD,IAAS8B,IAC9B7qD,EAAYqqD,EAAMzI,QAAQnD,IAAQ9hC,KAAMkuC,IACxC9kD,EAAKc,EAAEoiC,EAASqhB,EAAQ3lD,EAAE,EAAG2lD,EAAQzoD,UAGhC4oD,EAAOzkB,KAAKskB,IACjBtqD,EAAYqqD,EAAOS,IACnB9qD,EAAYqqD,EAAMzI,QAAQnD,IAAQ9hC,KAAMmuC,IACxC/kD,EAAKc,EAAEoiC,EAASqhB,EAAQ3lD,EAAE,EAAG2lD,EAAQzoD,UAGrCkE,EAAKc,EAAEoiC,EAASqhB,EAE5B,IAII1oD,EAAEsoD,EAAc,wBAAwBzoC,GAAE,WAEtClhB,EAAcqB,EAAEqc,MAAO8sC,GAC/B,IAIInpD,EAAEsoD,EAAc,uBAAuBzoC,GAAE,WACrC,IAAIupC,EAAWppD,EAAEqc,MACbgtC,EAAID,EAASnmD,IACbqmD,EAAUF,EAASnkD,IAGnBskD,EAAUC,GACVC,EAAcD,GACdE,EAAaC,GAEbL,IAAYnmB,IACZomB,EAAUK,GACVH,EAAcG,GACdF,EAAaG,IAGRP,IAAYxP,KACjByP,EAAUO,GACVL,EAAcK,GACdJ,EAAaK,IAGD,QAAZT,IAEAD,EAAEp2C,EAAE,oBAAoBtL,EAAEq9C,GAAWxB,GAAS,IAAM+F,EAAUtE,IAE9DoE,EAAEp2C,EAAE,iBAAiBtL,EAAEq9C,GAAWgF,GAAW,IAAMP,EAAcxE,IAEjEoE,EAAEp2C,EAAE,sCAAsCtL,EAAEq9C,GAAWxB,GAAS,IAAMkG,EAAazE,KAInFqE,IAAYnmB,GACZimB,EAASnkD,EAAE,CACP,KACA,QACF2C,KACe,QAAZ0hD,EACLF,EAASnkD,EAAE,CACP,KACA,QACF2C,KACG0hD,IAAYxP,GACjBsP,EAASnkD,EAAE,CACP,KACA,SACF2C,KACe,QAAZ0hD,GACLF,EAASnkD,EAAE,CACP,KACA,QACF2C,IACd,IAII5H,EAAEsoD,EAAc,wBAAwBzoC,GAAE,WAEtC,IAAIoqC,EAAgBjqD,EAAEqc,MACtB4tC,EAAchnD,IAAIjB,EAAEwe,GAAS,sBAG7B,IAAI0pC,EACAC,EADQF,EAAchnD,IAAIA,IAAIgQ,EAAE,aACnB,GAAGm3C,UACpBH,EAAcjoD,EAAE,IAAKmoD,EAAKnlD,EAAImlD,EAAKx9B,MAAQ,IAE3C,IAAI09B,EAAWJ,EAAchnD,IAAIsoB,IAC7B8+B,IAAa9rD,IAAc8rD,EAASroD,EAAE6F,MAAatJ,IAAc8rD,EAASroD,EAAE6F,IAAShF,EAAE,aAAe,GACtGwnD,EAASroD,EAAE,IAAKmoD,EAAKnlD,EAAImlD,EAAKx9B,MAAQ,GAElD,IAGI,IAAIW,EAAS3nB,EAAiB2kD,IAG9BtqD,EAAEsoD,EAAc,kBAAkBzoC,GAAE,WAChC7f,EAAEqc,MAAMra,EAAE+mD,GAAMz7B,GAChBttB,EAAEqc,MAAMra,EAAEgnD,GAAM17B,EACxB,GACA,CAmCA,SAAS/d,KAILvP,EAAE,OAAO6f,GAAE,WACP,IAAIzD,EAAKpc,EAAEqc,MACPlY,EACAwtB,EAC6C,OAA5CA,EAFMvV,EAAGnX,IAEKvH,EAAE6sD,MACjBC,GAAyBpuC,EAAIuV,EACzC,IAGI3xB,EAAE,qBAAqB6f,GAAE,WACrB,IAAIzD,EAAKpc,EAAEqc,MACPsV,EAAS,GACbA,EAAOlrB,KAAK,IACZkrB,EAAOlrB,KAAK2V,EAAGnX,KACfulD,GAAyBpuC,EAAGnZ,IAAK0uB,EACzC,IAKI3xB,EAAEO,GAAU,mCAAmCsf,GAAE,WAE7C,IAAIzD,EAAKpc,EAAEqc,MACPlY,EAAOiY,EAAGnX,IACVwlD,EAGAxf,GAA0B7uB,IACiB,OAAvCquC,EAAWtmD,EAAKzG,EAAEwtC,MAClBwf,GAAoBtuC,EAAGnZ,IAAIA,IAAKmZ,EAAIquC,EACpD,IAGIzqD,EAAEO,GAAU,QAAQsf,GAAE,WAClB,IAAIzD,EAAKpc,EAAEqc,MACPlY,EAAOiY,EAAGnX,IACVwlD,EACwC,OAAvCA,EAAWtmD,EAAKzG,EAAEwtC,MAEf/mC,IAASiY,EAAGnZ,IAAIgC,KAChB0lD,GAAyBvuC,EAAIquC,EAE7C,IAIIzqD,EAAEO,GAAU,4DAA4Dsf,GAAE,WACtE,IAAIzD,EAAKpc,EAAEqc,MACPlY,EACAsmD,EACqC,OAApCA,EAFMruC,EAAGnX,IAEOvH,EAAEstC,MACnB0f,GAAoBtuC,EAAGnZ,IAAIA,IAAIA,IAAKmZ,EAAGnZ,IAAKwnD,EAExD,IAGIzqD,EAAEO,GAAU,sBAAsBsf,GAAE,WAChC,IAAIzD,EAAKpc,EAAEqc,MACPlY,EAAOiY,EAAGnX,IACVwlD,EACqC,OAApCA,EAAWtmD,EAAKzG,EAAEstC,MAEf7mC,IAASiY,EAAGnZ,IAAIA,IAAIgC,KACpB0lD,GAAyBvuC,EAAGnZ,IAAKwnD,EAEjD,IAGIzqD,EAAE,aAAa6f,GAAE,WACb,IAAIzD,EAAKpc,EAAEqc,MAEXD,EAAGnJ,EAAE,yCAAyC4M,GAAE,WAC5ClhB,EAAcqB,EAAEqc,MAAOxU,GACnC,IAEQuU,EAAGnJ,EAAE,uBAAuB4M,GAAE,WAC1B7f,EAAEqc,MAAMxB,GAAGtE,GAAcq0C,GAAgB,GAAI,IAAM,CAAC,KAAM,QAAQhjD,IAC9E,IACQwU,EAAGnJ,EAAE,sBAAsB4M,GAAE,WACzB7f,EAAEqc,MAAMxB,GAAGtE,GAAcs0C,GAAe,GAAI,IAAM,CAAC,KAAM,OAAOjjD,IAC5E,IACQwU,EAAGnJ,EAAE,4BAA4B4M,GAAE,WAC/B7f,EAAEqc,MAAMxB,GAAGtE,GAAcu0C,GAAqB,GAAI,IAAM,CAAC,MAAO,aAAaljD,IACzF,IACQwU,EAAGnJ,EAAE,0BAA0B4M,GAAE,WAC7B7f,EAAEqc,MAAMxB,GAAGtE,GAAcw0C,GAAmB,GAAI,IAAM,CAAC,KAAM,WAAWnjD,IACpF,IACQwU,EAAGnJ,EAAE,0BAA0B4M,GAAE,WAC7B7f,EAAEqc,MAAMxB,GAAGtE,GAAcy0C,GAAmB,GAAI,IAAM,CAAC,KAAM,WAAWpjD,IACpF,GACA,GACA,CAYA,SAAS4iD,GAAyBnsD,EAAQszB,GACtC,IAAIs5B,EAASt5B,EAAO,GAAGvrB,GAAG,IAAKrB,IAC3BmmD,EAAcD,EAAO9nD,GAAG4B,IAAK9E,OAC7BkrD,EAAa9sD,EAAO6C,KACpBkqD,EAAYD,IAAe5sD,GAAasD,GAAIspD,EAAWlmD,IACvDomD,EAIAA,EADA,cAAcjnB,KAAKgnB,GACRA,EAAShnD,EAAE,gBAAiB,MAG5BgnD,EAASroD,EAAEqoD,EAASnrD,OAASirD,EAAaE,EAASnrD,QAGlE,IAAIqrD,EAAW,WAAaD,EACtB,iBAAmBJ,EACnB,aAAejvB,GAAS,eAC9BmvB,EAAWtwC,GAAGswC,EAAWtwC,KAAKzW,EAAE,IAAImsC,OAAOryB,OAAOqtC,GAAG,OAAOF,KAAaC,IAGzEH,EAAWl4C,EAAE,WAAWjC,KAAKC,IAAG,SAAUJ,GACtC26C,GAAyBH,EAAUJ,EAAQp6C,EACnD,IAEI5R,EAAUZ,EACd,CAQA,SAASmtD,GAAyBrnD,EAAM8mD,EAAQp6C,GAC5CA,EAAMi0B,kBAGN,IAAI2mB,EAAa,yDAEbC,EAAMD,EAAap2C,UAAUlR,GAE7B,mBAAmBigC,KAAK6mB,GACxBS,EAAMD,EAAap2C,UAAU41C,GAExB,mBAAmB7mB,KAAKjgC,KAC7BunD,EAAM,6BAA+Br2C,UAAUlR,IAEnDtG,OAAO0sC,KAAKmhB,EAAKvnD,EACrB,CAaA,SAASumD,GAAoB1gB,EAAO2hB,EAAWlB,GAG3C,IAAIr0C,EAAQw1C,GAAenB,EAAS,IAChCoB,EAAKC,GAAerB,GAAY,MAAQ5oD,GACxCkU,EAAM3U,EAAkB4oC,IAGxBj0B,EAAIL,GAAG,OAASK,EAAIL,GAAG,SAEvBzW,EAAU0sD,EAAU1oD,KAIpB7E,EAAY4rC,EAAO,OAAS5zB,EAAQy1C,GACpCztD,EAAY4rC,EAAM/2B,EAAE,KAAOvS,GAAe,IAAM+W,IAAW,SAAWrB,EAAQy1C;AAC9EztD,EAAY4rC,EAAM/2B,EAAE4N,IAAY,SAAWzK,EAAQy1C,GAE3D,CAOA,SAASD,GAAex1C,GAEpB,OAAIA,IAAU7X,GACHosC,GACJv0B,EAAM/S,GACjB,CASA,SAASsnD,GAAyBgB,EAAWlB,GA2DzC,SAASsB,EAAcC,GACnB,GAAIA,IAAQztD,GAAZ,CAIA,GAAI0tD,EAAO,CAEP,IAAIrL,EAAQsL,GAAc9nB,KAAKhuB,GAAS,SAAWvU,GACnDmqD,EAAIrkD,EAAEmuC,GAASt+B,GAAS,QAAUpB,EAAQwqC,GACzB,OAAVxqC,EAAiB,MAAQvU,KAC5C,KAEa,CACD,IAAIsqD,EAAOH,EAAI/4C,EAAEyE,IACG,IAAhBy0C,EAAKlsD,SACLksD,EAAOH,GACPG,IAAS5tD,KACT4tD,EAAKxkD,EAAE+F,GAAmBqoC,GAAmB,WACvC97B,GAAqBd,EAAgBtX,GAAG,OAAS,KACvDsqD,EAAKxkD,EAAE,kBAAmBk1C,IAC1BsP,EAAKxkD,EAAE,0BAA2Bk1C,IAClCsP,EAAKxkD,EAAE,QAAS,eAEhC,CAEYykD,EACAJ,EAAIhqD,EAAE4uC,GAAmB13B,GAAe9C,IAExC41C,EAAIhqD,EAAEqqD,GAAcnzC,GAAe9C,GA1BnC,CA2BZ,CAMI,SAASk2C,EAAmBN,GACpBA,IAAQztD,KAIR0tD,EACAD,EAAIrkD,EAAE4kD,GAAe/0C,GAAS,QAAUpB,GACvB,OAAVA,EAAiBvU,GAAI,SAI5BmqD,EAAIrkD,EAAE6kD,GAAezW,GAAmB,WAClC97B,GAAqBd,EAAgBtX,GAAG,OAAS,aAEnE,CAMI,SAAS4qD,EAAcT,GACfA,IAAQztD,KAIR0tD,EACAD,EAAIrkD,EAAEu9C,GAAa,eAAiB1tC,GAAS,QAAUpB,EAAQ,SAC9C,OAAVA,EAAiBvU,GAAI,QAAU,WAItCmqD,EAAIrkD,EAAEu9C,GAAaroC,IACnBmvC,EAAIrkD,EAAE+kD,GAAc7vC,IACpBmvC,EAAIrkD,EAAE+F,GAAmBqoC,GAAmB,WACtC97B,GAAqBd,EAAgB,QAAS,OAAS,MAEzE,CAMI,SAASwzC,EAAcX,GACfA,IAAQztD,KAIR0tD,EACAD,EAAIrkD,EAAE4wC,GAAmB/gC,GAAS,QAAUpB,EAAQ,SACnC,OAAVA,EAAiBvU,GAAI,SAI5BmqD,EAAIrkD,EAAE+F,GAAmBqoC,GAAmB,YACtC97B,GAAqBd,EAAgB,QAAS,OAAS,KAEjE6yC,EAAIhqD,EAAE2uC,GAAgBz3B,GAAe9C,IAC7C,CAtJI,IAAIA,EAAQw2C,GAAenC,EAAS,IAChCoC,EAAkBf,GAAerB,GACjCwB,EAAQ71C,EAAMnW,OAAS,EACvBkZ,EAAiB,GACjB2zC,EAAenB,EAAUzqD,KACzBkrD,EAAiB5mD,GAGhBqnD,GACEC,IAAiBvuD,IAAsC,IAAxBuuD,EAAa7sD,SAC3C6sD,EAAenB,EAAU1oD,IACzBmpD,EAAiB7mD,IAIzB,IAAIpE,EAAUC,EAAkB0rD,GAG3Bb,IACD9yC,EAAiBC,GAAiBhD,IAIlCg2C,IACAE,EAAmBQ,EAAa75C,EAAE,MAClCw5C,EAAcK,EAAa75C,EAAEywB,MAI5BmpB,GAcDC,EAAenB,EAAU1oD,IACzB9B,EAAUC,EAAkB0rD,GAEZ,OAAZ3rD,GAAgC,OAAZA,GACpBwrD,EAAcG,IAhBd3rD,IAAYuiC,GACZ+oB,EAAcK,IAIdf,EAAce,GACE,MAAZ3rD,GACAmrD,EAAmBQ,IAc/B7tD,EAAU0sD,EAmGd,CAcA,SAASt8C,KAEL,IAAI09C,EAAQvqD,EAAmB,OAC3BwqD,EAAUxqD,EAAmB,SAC7ByqD,EAAYzqD,EAAmB,WAC/BuqD,IAAUxuD,KACV2uD,GAAmBH,GACnBC,IAAYzuD,KACZ4uD,GAAqBH,GACrBC,IAAc1uD,KACd6uD,GAAuBH,EAC/B,CAQA,SAASI,GAAmBhvD,GACxB,IAAI8C,EACAmsD,EAAY,KAMhB,OAPclsD,EAAkB/C,KAGhBuZ,IACsC,OAA9C01C,EAAYjvD,EAAO4G,IAAIvH,EAAEwtC,MACzBjsC,EAAUZ,GAEXivD,CACX,CAOA,SAASC,GAAgBlvD,GACrB,IAAI8C,EACAmsD,EAAY,KAOhB,MALgB,OAHFlsD,EAAkB/C,IAIzBA,EAAO0c,GAAG,kBAAkB9a,OAAS,GACO,OAA3CqtD,EAAYjvD,EAAO4G,IAAIvH,EAAEstC,MACzB/rC,EAAUZ,GAEXivD,CACX,CAOA,SAASxB,GAAerB,GACpB,IAAIoB,EAAKpB,EAASA,EAASxqD,OAAS,GACpC,OAAQ4rD,IAAOttD,IAAqB,MAAPstD,CACjC,CAQA,SAAS2B,GAAwBp3C,EAAOy1C,EAAI4B,GACxC,OAAQr3C,IAAUq3C,EACZ5rD,GACA,KAAOqX,GAAe9C,GAASy1C,EAAK,IAC9C,CAOA,SAASv8C,KAcL,IAAIo+C,EAAW,EAEf1tD,EAAE,6BAA6B6f,GAAE,WAC7B,IAAIzD,EAAKpc,EAAEqc,MACPsxC,EAAWvxC,EAAGnX,IACd0sB,EAKuC,OAAtCA,EAASg8B,EAASjwD,EAAEkwD,KACrBC,GAAYzxC,EAAIuV,GAE6B,OAAvCA,EAASg8B,EAASjwD,EAAEowD,KAC1BC,GAAU3xC,EAAIuV,GAEgC,OAAxCA,EAASg8B,EAASjwD,EAAEswD,KAC1BC,GAAc7xC,EAAIuV,GAEwC,OAApDA,EAASg8B,EAASjwD,EAAEwwD,KAC1BC,GAA0B/xC,EAAIuV,IAG9B+7B,IACAtvD,EAAYge,EAAIP,GAAa,OAAS6xC,GACtCtxC,EAAGpL,KAAKC,IAAG,SAAUJ,GACZuL,EAAGlZ,GAAGkrD,KACPhwC,GAA+B5Y,IAEnC,IAAIrD,EAAUia,EAAGnX,IACbma,KACAjd,EAAU,IAAMA,EAAU,KAC9BisD,GAA6BhyC,EAC7ByoB,GAAczoB,EAAIja,EAASoD,GAC3C,IAEA,IAGIvF,EAAE,+DAA+D6f,GAAE,WAC/D,IAAIzD,EAAKpc,EAAEqc,MACPsV,EAAS,GACT08B,EAAMjyC,EAAGlb,KAGbkb,EAAGnZ,IAAI2/B,KAAK,iBACZxmB,EAAG/H,SAGHsd,EAAOlrB,KAAK,IACZkrB,EAAOlrB,KAAoB,IAAf4nD,EAAIpuD,OAAe4B,GAAIwsD,EAAIppD,KACvC0sB,EAAOlrB,KAAK2V,EAAGnX,KAGfgpD,GAAc7xC,EAAGnZ,IAAK0uB,EAC9B,IAGI3xB,EAAE,iEAAiE6f,GAAE,WACjE,IAAIzD,EAAKpc,EAAEqc,MACPiyC,EAASlyC,EAAGmP,IACZoG,EAAS,GAGbvV,EAAGnZ,IAAI2/B,KAAK,iBACZxmB,EAAG/H,SAEH,IAAIk6C,EAAQnyC,EAAGlb,KAAK+D,IAChBupD,EAASpyC,EAAGnX,IACZwpD,EAAU5sD,GACVT,EAAkBgb,KAAQ1E,IAC1B+2C,EAAUD,EACVA,EAASD,EACTA,EAAQ,IAGJD,EAAOruD,OAAS,IAChBwuD,EAAUH,EAAOrpD,KAKzB0sB,EAAOlrB,KAAK,IAQZkrB,EAAOlrB,KAAK8nD,GACZ58B,EAAOlrB,KAAK+nD,GAERC,EAAQxuD,OAAS,IACjB0xB,EAAOlrB,KAAK,IACZkrB,EAAOlrB,KAAKgoD,IAIhBZ,GAAYzxC,EAAGnZ,IAAK0uB,EAC5B,IAGI3xB,EAAE,sBAAsB6f,GAAE,WACtB,IAAIzD,EAAKpc,EAAEqc,MACPsxC,EAAWvxC,EAAGnX,IACd0sB,EAGJvV,EAAG/H,SAEsC,OAApCsd,EAASg8B,EAASjwD,EAAEgxD,MACrBX,GAAU3xC,EAAIuV,EAC1B,GACA,CAeA,SAASo8B,GAAU1vD,EAAQszB,GAqDvB,SAASg9B,IAEL,IAAIxsD,EAAU,IAAMyE,EAAqBmP,GAAO,IAOhD,OALIK,IAAU+2C,KACVhrD,GAAWqrD,GAAwBp3C,EAC9By1C,EAAG5rD,OAAS,EAAI,IAAM4B,GACvBqrD,KAED/qD,CACf,CA9DI,IAAI4T,EAAM4b,EAAO,GACbvb,EAAQw4C,KACR/C,EAAKhqD,GAETgtD,KAIA,IAAIpE,EAAW8C,GAAgBlvD,EAAOktB,KAGtB,MAAZk/B,IACDA,EAAW4C,GAAmBhvD,EAAOktB,MACxB,MAAZk/B,IACAr0C,EAAQw4C,GAAanE,EAAS,IAC9BoB,EAAKC,GAAerB,GAAY,MAAQ5oD,IAI5CxD,EAAO4G,EAAE8Q,GACT,IAAIk2C,EAAQ71C,EAAMnW,OAAS,EACvBkZ,EAAiB,GACjBhC,EAAK,OAAS03C,GACb5C,EAOD5tD,EAAO2D,EAAE6F,GAASiU,GAAS/W,GAAMqR,EAAQy1C,EAAK10C,IAN9CgC,EAAiBC,GAAiBhD,GAClC/X,EAAO2D,EAAE6F,GAASiU,GAAS/W,GAAMoU,EAAe,GAAK0yC,EAAK10C,GAC1D9Y,EAAOsJ,EAAEq9C,GAAWt3C,GAAoB,IAAMqoC,GAAmB,WAC3D97B,GAAqBd,EAAgBtX,GAAG,OAAS,IAAMojD,KAOjE5mD,EAAO2D,EAAEotC,GAAkBuf,KAC3BtwD,EAAO2D,EAAEqtC,GAAShxC,EAAO4G,KACzB5G,EAAO2S,KAAKC,IAAG,SAAUJ,GACrB,IAAIuL,EAAKpc,EAAEqc,MACPla,EAAUia,EAAGpa,EAAEqtC,IAEdjzB,EAAGlZ,GAAGkrD,KACPhwC,GAA+B5Y,IAE/B4Z,KACAjd,EAAU9D,EAAO2D,EAAEotC,KACvBgf,GAA6BhyC,EAC7ByoB,GAAczoB,EAAIja,EAASoD,GACnC,GAgBA,CAOA,SAASqpD,GAAax4C,EAAQ7X,IAE1B,OAAI6X,IAAU7X,GACH2uD,GACJ92C,EAAM/S,GACjB,CAeA,SAASwqD,GAAYxvD,EAAQszB,GAyFzB,SAASg9B,IAKL,IAAIxsD,EAAU,IAAM2sD,EACdloD,EAAqBmoD,IACnBC,IAAgBzwD,GAAcywD,EAAcntD,IAAK,IAOzD,OALIuU,IAAU+2C,KACVhrD,GAAWqrD,GAAwBp3C,EAC9By1C,EAAG5rD,OAAS,EAAI,IAAM4B,GACvBsrD,KAEDhrD,CACf,CAvGI,IAAIiU,EAAQw2C,GAAeruD,GAAYF,GACnCwtD,EAAKhqD,GACLitD,EAAYn9B,EAAO,GACnBo9B,EAAap9B,EAAO,GACpBq9B,EAAer9B,EAAO1xB,OAAS,EAAK0xB,EAAO,GAAKpzB,GAChD0wD,EAEJC,KAIA,IAAIzE,EAAW8C,GAAgBlvD,EAAOktB,KAGtB,MAAZk/B,IACDA,EAAW4C,GAAmBhvD,EAAOktB,MACxB,MAAZk/B,IACAr0C,EAAQw2C,GAAenC,EAAS,GAAIpsD,GACpCwtD,EAAKC,GAAerB,GAAY,MAAQ5oD,IAI5CxD,EAAOukC,KAAK,gBAAkB7mB,GAAehX,GAAMqR,EAAQ,OAAS84C,GAAc,aAElF,IAAIC,EAAQnvD,EAAE,IAAM+b,GAAe,OAASmzC,IACxCJ,EAAU7uD,OAAS,GACnBkvD,EAAM7gD,GAAGuJ,GAAW,GAAI,GAAIi3C,IAEhCK,EAAMn+C,KAAKC,IAAG,SAAUJ,GACpB,IAAIuL,EAAKpc,EAAEqc,MACPla,EAAUia,EAAGpa,EAAEqtC,IAGdjzB,EAAGlZ,GAAGkrD,KACPhwC,GAA+B5Y,IAE/B4Z,KACAjd,EAAUia,EAAGpa,EAAEotC,KACnBgf,GAA6BhyC,EAC7ByoB,GAAczoB,EAAIja,EAASoD,GACnC,IAGInH,EAAYC,EAAQ2d,GAAgB,OAASkzC,IAES,OAAjDD,EAASF,EAAWrxD,EAAE0xD,OACvBL,EAAaA,EAAW3qD,EAAE6qD,EAAO,GAAI/nD,GAAU,OAASkP,EAAOvU,GAAGotD,EAAO,MAC7E5wD,EAAOwc,GAAGk0C,GAENlD,EAAG5rD,OAAS,GACZ7B,EAAYC,EAAQ+X,GAGxB/X,EAAO2S,KAAKC,IAAG,SAAUJ,GACrB,IAAIuL,EAAKpc,EAAEqc,MACPiyC,EAASlyC,EAAGmP,IAChBluB,EAAM,IAAK+e,EAAGnX,KACd4/B,GAAczoB,EAAIA,EAAGnX,KACdqpD,EAAOruD,OAAS,EAAI8E,GAAMupD,EAAOrpD,IAAMpD,IAC1C2D,GACZ,IAGQwpD,IAAgBzwD,KAChBF,EAAOq/B,GAAGx2B,GAAU,qBAAuBgoD,GAAartD,GAAGmtD,IAC3D5wD,EAAYC,EAAO4E,IAAKosD,IACxBjxD,EAAYC,EAAQgxD,IAEpBhxD,EAAOktB,IAAIva,KAAKC,IAAG,SAAUJ,GACzB,IAAIuL,EAAKpc,EAAEqc,MACXwoB,GAAczoB,EAAIA,EAAGnX,IAAKO,GACtC,KAII2pD,EAAMntD,EAAEotC,GAAkBuf,KAE1B,IAAIW,EAAU,EACVC,EAAe1tD,GACnBstD,EAAMK,WAAW3vC,GAAE,WACfyvC,IACAC,IAAkBD,EAAU,EAAK,IAAMztD,IAAK7B,EAAEqc,MAAMpX,GAC5D,IACIkqD,EAAMntD,EAAEqtC,GAASkgB,EAqBrB,CAQA,SAAS3C,GAAex2C,EAAO/X,EAASE,IAEpC,GAAI6X,IAAU7X,GAAY,CAEtB,GAAIF,IAAWE,GAAY,CACvB,IAAI0E,EAAI5E,EAAO4E,IACX9B,EAAW8B,IAAM1E,GAAa6C,EAAkB6B,GAAK1E,GACzD,GAAI4C,IAAY5C,IACT4C,EAAQkC,MAAQ1C,IAA0B,UAAlBsC,EAAEA,IAAIjB,EAAE4gB,IAC/B,MAAO,IAC3B,CACQ,OAAOuqC,EACf,CACI,OAAO/2C,EAAM/S,GACjB,CAUA,SAASmM,KAELxP,EAAE,0BAA0B6f,GAAE,WAC1B,IAAIzD,EAAKpc,EAAEqc,MAAMpZ,IACbhF,EAAQme,EAAGnX,IAGf,GAAIhH,EAAMk3C,WAEN/4B,EAAGvB,GAAGhD,GAAWhW,GAAGA,GAAGA,IAAK5D,GAC5BwxD,GAAkBrzC,EAAIne,QAGrB,GAAkB,MAAdA,EAAMoF,KAA6B,MAAdpF,EAAMoF,IAAa,CAC7C,IAAIqsD,EAAWtzC,EAAGnZ,IAAIsoB,IACtB,GAAwB,IAApBmkC,EAASzvD,OACT,OAEJ,IAAI4E,EAAQ6qD,EAASz8C,EAAE,MAAMhT,OACzB0vD,EACAC,GADYF,EAASz8C,EAAE,qBAAqBhT,OACnB4E,EAAQ,KAAK+2B,QAAQ,GAE9Cg0B,GAAa,MACbA,EAAY,KAEhBxzC,EAAGvB,GAAGhD,GAAWhW,GAAGA,GAAGA,IAAK+tD,GAC5BH,GAAkBrzC,EAAIwzC,EAClC,CACA,GACA,CAOA,SAASH,GAAkBpxD,EAAQJ,GAE/B4xD,KACAzxD,EAAYC,EAAQ,cAAgBwxD,IAEpC,IAAI3F,EAAQ7rD,EAAO0c,GAAGjD,IAClB6U,EAAQu9B,EAAMv9B,QACdmjC,EAAe1wD,SAAS8qD,EAAMviD,EAAEooD,KAChCC,EAAY,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,MAC3CC,EAAS5xD,EAAO2D,EAAEqqD,IAClB6D,EAAaD,IAAW1xD,GACxB6X,EAAQvU,GACRsuD,EAAWtuD,GAEXuuD,EAAe,QAKXH,EAFJC,EACIjyD,EAAQ,EACC,KACJA,EAAQ,IACJ,KACM,IAAVA,EACI,KAEA+xD,EAAUxwD,KAAK6lB,MAAMpnB,EAAQ,KAIjCoyD,GAAqBJ,GAGlC75C,EAAQ,YAAc65C,EAAS,IAC/BE,EAAW,YAAcF,EAAS,SAG9BC,GACA7xD,EAAOsJ,EAAEmuC,GAAS1/B,GAEtB,IAAIk6C,EAAYryD,EAAQ,IAExB,GAAIqyD,EAAY,EAAG,CACf,IAAIC,EAAYD,EAAY,IAAM3jC,EAElCu9B,EAAMviD,EAAEu9C,GAAcqL,EAAYT,EAAgB,YAAc15C,GAChE8zC,EAAMviD,EAAE6oD,GAAeD,EAAY,EAE3C,MAES,GAAItyD,EAAQ,EAAG,CAChB,IAAIsyD,EAAYtyD,EAAQ,IAAM0uB,EAE9Bu9B,EAAMviD,EAAEu9C,GAAcqL,IAAcT,EAAgB,YAAc15C,GAClE8zC,EAAMviD,EAAEkoB,GAAcrwB,KAAKoS,IAAI2+C,IAC/Bn6C,EAAQ+5C,EACRC,EAAe,QACvB,CAGInyD,EAASA,EAAQ,IAAO,IAAOA,EAAQ,EAAI,EAAIA,EAC/CisD,EAAMviD,EAAEwmB,GAAc,GAAG4nB,aAA2B3/B,KAASnY,mBAAuBA,yBAEpFisD,EAAMviD,EAAE8oD,GAAgBL,EAE5B,CAOA,SAASC,GAAqBj6C,GAE1B,OAAIA,IAAU7X,GACHmyD,GACJt6C,EAAM/S,GACjB,CAaA,SAAS4qD,GAAc5vD,EAAQszB,GA6C3B,SAASg/B,EAAeC,EAAWx6C,GAC/B,IAAIvR,EAAQ,GACR8sB,EAASokB,GAAmB,YAE5B6a,GAAa,EACb/rD,EAAQ,EACH+rD,GAAa,GAClB/rD,EAAQ,EACH+rD,GAAa,KAClB/rD,EAAQ,IAEZ,IAAIywB,EAAO,IAAMzwB,EAEjB,IAAK,IAAIhC,EAAI,EAAGA,EAAIgC,EAAOhC,IAAK,CAC5B,IAAIguD,EAAQhuD,EAAIyyB,EACZw7B,EACAnpD,EAAK9E,EAAI,GAAM,EAAKuT,EAAQ26C,GAChCp/B,GAAUhqB,EAAI5C,GAAM8rD,EAAQ,MAAQlpD,EAAI5C,IAF9B8rD,EAAQv7B,GAEkC,IACpD3D,GAAW9uB,EAAIgC,EAAQ,EAAK,KAAO,GAC/C,CACQ,OAAO8sB,CACf,CAjEI,IAAI08B,EAAM,OACN2C,EAAar/B,EAAO,GACpBvb,EAAQ66C,GAAiB1yD,IAIzBksD,EAAW8C,GAAgBlvD,EAAOktB,KAGtB,MAAZk/B,IACDA,EAAW4C,GAAmBhvD,EAAOktB,MACxB,MAAZk/B,IACAr0C,EAAQ66C,GAAiBxG,EAAS,KACtCr0C,EAAQoB,GAAS,QAAUpB,GAGvBub,EAAO,KAAOpzB,IAAcozB,EAAO,KAAO9vB,KAC1CwsD,EAAM18B,EAAO,IAGjBu/B,KACA9yD,EAAYC,EAAQ+iB,GAAa,OAAS8vC,IAC1C7yD,EAAO2D,EAAEmvD,GAAkB9C,GAC3BhwD,EAAO2D,EAAEovD,GAAqBJ,GAC9B3yD,EAAO2D,EAAEsf,GAAqBme,IAK9BphC,EAAO4G,EAAEopD,GACThwD,EAAOsJ,EAAEwmB,GAAcwiC,EAAetC,EAAIpuD,OAAQmW,IAC7CzO,EAAE4kD,GAAen2C,GAGtB/X,EAAO2S,KAAKC,IAAG,SAAUJ,GACrBwgD,GAAerxD,EAAEqc,MAAOxL,EAChC,GA8BA,CAOA,SAASogD,GAAiB76C,GAEtB,OAAIA,IAAU7X,GACH6uD,GACJh3C,EAAM/S,GACjB,CAOA,SAASguD,GAAehzD,EAAQwS,GAc5B,SAASygD,IACL,OAAIzzD,OAAOg4B,aACAh4B,OAAOg4B,eAAeiG,WACtB/5B,SAASwvD,WAAyC,YAA5BxvD,SAASwvD,UAAUn6C,KACzCrV,SAASwvD,UAAUC,cAAcrtD,KAErCtC,EACf,CAnBQyvD,MAAwBzvD,KAGxBxD,EAAO2D,EAAEsf,IAAqB5L,GAAG,MACjC7E,EAAMi0B,kBACNvjB,GAAaljB,IAGbozD,GAAapzD,GAYrB,CAMA,SAASkjB,GAAaljB,GAElBD,EAAYC,EAAQqzD,IAGpBrzD,EAAO4G,EAAE5G,EAAO2D,EAAEovD,KAGlB/yD,EAAO2D,EAAEsf,GAAqBP,GAClC,CAMA,SAAS0wC,GAAapzD,GAElBI,EAAeJ,EAAQqzD,IAGvBrzD,EAAO4G,EAAE5G,EAAO2D,EAAEmvD,KAGlB9yD,EAAO2D,EAAEsf,GAAqBme,GAClC,CAYA,SAAS0uB,GAA0B9vD,EAAQszB,GACvC,IAAIxtB,EAAOwtB,EAAO,GACds5B,EAASt5B,EAAO,GAEpBtzB,EAAOq/B,GAAG,SAAWv5B,EACf,iBAAmB8mD,EACnB,aAAejvB,GAAS,gBAE9B39B,EAAOktB,IAAIxQ,GAAG,MAAM/J,KAAKC,IAAG,SAAUJ,GAClC26C,GAAyBrnD,EAAM8mD,EAAQp6C,EAC/C,IAEI5R,EAAUZ,EACd,CAOA,SAASszD,KACL,IAAI/Q,EAAQ9+C,IACR8vD,EAAOjwD,EAAqB,QAC5BkwD,EAASlwD,EAAqB,UAC9BmwD,GAAkBlR,IAAUriD,GAAagQ,GAAS1M,GAAGA,GAAG++C,GAAS/+C,KAC1D+vD,IAASrzD,GAAagQ,GAAS1M,GAAG,SAAU,KAAO+vD,EAAO,MAAQ/vD,KAClEgwD,IAAWtzD,GAAagQ,GAAS1M,GAAG,WAAYgwD,GAAUhwD,IACjEkwD,EAAcpwD,EAAqB,iBAQvC,OALIowD,IAAgBxzD,KAChBwzD,EAAcD,GAClBC,GAAeC,GAAOA,GAGfzjD,GAAS1M,GAAG,iBAEX0M,GAAS1M,GAAG2L,GAAYC,IACtBc,GAAS1M,GAAG2L,GAAYI,IAExBW,GAAS1M,GAAG,SAAUkwD,EAAY/sD,KAElCuJ,GAAS1M,GAAG,YAAa,cAGvC,CAKA,SAASowD,KACL,IAAIt8C,EAAK,+BA+JT,OA7JAA,GAAMa,GAAYxB,GACV,kvCAEFwB,GAAY07C,GACV,yfAEF17C,GAAY+Z,GACV,iaACF/Z,GAAY+Z,GAAqBvB,GAC/B,4VAEFxY,GAAYia,GACV,4ZACFja,GAAYia,GAAoBzB,GAC9B,0VAEFxY,GAAYma,GACV,oUACFna,GAAYma,GAAmB3B,GAC7B,gQAEFxY,GAAYqa,GACV,oaACFra,GAAYqa,GAAmB7B,GAC7B,mVAEFxY,GAAYua,GACV,8iBACFva,GAAYua,GAAuB/B,GACjC,oeAEFxY,GAAYya,GACV,iQACFza,GAAYya,GAAqBjC,GAC/B,gOAEFxY,GAAY6a,GACV,kXAGF7a,GAAYonB,GACV,gQAEFpnB,GAAY27C,GACV,2PAEF37C,GAAY47C,GACV,gLAEF57C,GAAYmoC,GACV,6KAEFnoC,GAAY67C,GACV,kMAEF77C,GAAY87C,GACV,ibAEF97C,GAAYsmC,GACV,gOAEFtmC,GAAY6lB,GACV,mjBAEF7lB,GAAY4lB,GACV,0cAEF5lB,GAAY+7C,GACV,wLAEF/7C,GAAYg8C,GACV,ilBAEFh8C,GAAYi8C,GACV,ysBAEFj8C,GAAYk8C,GACV,kmBAEFl8C,GAAYsrC,GACV,mQAEFtrC,GAAYqrC,GACV,gbAEFrrC,GAAY4zB,GACV,iFAEF5zB,GAAYm8C,GACV,oWAEFn8C,GAAYo8C,GACV,gTAEFp8C,GAAYq8C,GACV,qfAEFr8C,GAAYs8C,GACV,kuBAEFt8C,GAAYu8C,GACV,8SAEFv8C,GAAYqU,GACV,mQAEFrU,GAAYuU,GACV,yRAEFvU,GAAYwS,GACV,0TAEFxS,GAAYuS,GACV,8TAEFvS,GAAYw8C,GACV,qoBAEFx8C,GAAYy8C,GACV,kQAEFz8C,GAAY08C,GACV,gMAEF18C,GAAY28C,GACV,0FAEF38C,GAAY48C,GACV,iNAEF58C,GAAY0+B,GAAeF,GACzB,0UAEFx+B,GAAY0+B,GAAenE,GACzB,4QAEFv6B,GAAY0+B,GAAejE,GACzB,2dAEFz6B,GAAYqmB,GACV,0fAEFrmB,GAAYo0C,GACV,8LAEFp0C,GAAYq0C,GACV,kcAEFr0C,GAAYs0C,GACV,oTAEFt0C,GAAYu0C,GACV,uUAEFv0C,GAAYw0C,GACV,6WACN,SACKr1C,CACX,CAKA,SAAS09C,KAGL,IAAI19C,EAAKpH,GAAS1M,GAAGk0B,GAAa,iBAE1BxnB,GAAS1M,GAAGyxD,GAAS,cAAev+C,GAAam9C,GAAgB,GAAI,GAAIzkD,KAEvEc,GAAS1M,GAAGyxD,GAAS,WAAYv+C,GAAa+sC,GAAa,GAAI,GAAIr0C,KAEnEc,GAAS1M,GAAGyxD,GAAS,SAAUv+C,GAAa49C,GAAY,GAAI,GAAIllD,KAChEc,GAAS1M,GAAG,kBAEV0V,GAAU1V,GAAGyxD,GAAS,iBAAkBvlD,GAAOmoB,GAAgB,OAC3DnhB,GAAa09C,GAAmB,GAAI,GAAIhlD,KAE1C8J,GAAU1V,GAAGyxD,GAAS,aAAcvlD,GAAOmoB,GAAgB,OACzDnhB,GAAaw9C,GAAgB,GAAI,GAAI9kD,KAEvC8J,GAAU1V,GAAGyxD,GAAS,iBAAkBvlD,GAAOmoB,GAAgB,OAC7DnhB,GAAay9C,GAAmB,GAAI,GAAI/kD,MAG9Cc,GAAS1M,GAAGk0B,GAAa,aAK/Bw9B,EAAiB,gBAmBrB,OAlBA59C,GAAMpH,GAAS1M,GAAG+xB,GAAgB,iBAE1BrlB,GAAS1M,GAAG+xB,GAAgB,QACxB7e,GAAaq9C,GAAkB,GAAI,GAAI3kD,GAAS8lD,EAAiB,SAC/DhlD,GAAS1M,GAAG+xB,GAAgB,eAGhCrlB,GAAS1M,GAAG+xB,GAAgB,cAE5BrlB,GAAS1M,GAAG+xB,GAAgB,YAE5BrlB,GAAS1M,GAAG+xB,GAAgB,QAC1BrlB,GAAS1M,GAAG+xB,GAAgB,aAAc,QAExC7e,GAAaq9C,GAAkB,GAAI,GAAI3kD,GAAS8lD,EAAiB,YAIxE59C,CACX,CAKA,SAAS69C,KAGL,IAAIC,EAAuB3V,GAAqB,IAC5CnoC,EAAKpH,GAAS1M,GAAG,gBAAkBuxB,GAE/B7kB,GAAS1M,GAAG,sBAER0M,GAAS1M,GAAG,sBAEV0M,GAAS1M,GAAG,iBAEZ0M,GAAS1M,GAAG,sBAAuB,SAEnC0M,GAAS1M,GAAG,oBACV0V,GAAU1V,GAAG,qBAAsBkM,GAAOowC,GAAoB,yBAC5D5vC,GAAS1M,GAAG4xD,EAAuBrV,IACnC7vC,GAAS1M,GAAG4xD,EAAuBjqD,IACnC+E,GAAS1M,GAAG4xD,EAAuBnqD,IACnCiF,GAAS1M,GAAG4xD,EAAuBC,IACnCnlD,GAAS1M,GAAG4xD,EAAuB/pD,IACnC6E,GAAS1M,GAAG,yBAEpB0M,GAAS1M,GAAG,wBAOtB,OAFA8T,GAAMpH,GAAS1M,GAAG,gBAEX8T,CACX,CAKA,SAASg+C,KAGL,IAAIh+C,EAAKpH,GAAS1M,GAAG,cAAe0M,GAAS1M,GAAGA,KAI5C+xD,EAAoBh9B,GACpBi9B,EAAc,4CAClBl+C,GAAMpH,GAAS1M,GAAG,eACV0M,GAAS1M,GAAG+xD,EACRj9C,GAASigB,GAAkB,SAAU,aAAci9B,EAAc,eAAgBA,EAAc,sBAC7FtlD,GAAS1M,GAAG01B,GAAc,QACxBhpB,GAAS1M,GAAG8Y,GAAgBC,IAC1BrM,GAASipB,GAAiB31B,GAAG41B,MAGrClpB,GAAS1M,GAAG+xD,EACVj9C,GAASigB,GAAkB,QAAS,OAAQi9B,EAAc,cAAeA,EAAc,qBACrFtlD,GAAS1M,GAAG01B,GAAc,OACxBhpB,GAAS1M,GAAG8Y,GAAgBC,IAC1BrM,GAASipB,GAAiB31B,GAAG41B,MAGrClpB,GAAS1M,GAAG+xD,EACVj9C,GAASigB,GAAkB,QAAS,WAAYi9B,EAAc,cAAeA,EAAc,qBACzFtlD,GAAS1M,GAAG01B,GAAc,OACxBhpB,GAAS1M,GAAG8Y,GAAgBC,IAC1BrM,GAASipB,GAAiB31B,GAAGiyD,MAGrCvlD,GAAS1M,GAAG+xD,EACVj9C,GAASigB,GAAkB,SAAU,YAAai9B,EAAc,eAAgBA,EAAc,sBAC5FtlD,GAAS1M,GAAG01B,GAAc,QACxBhpB,GAAS1M,GAAG8Y,GAAgBC,IAC1BrM,GAASipB,GAAiB31B,GAAGiyD,MAGrCvlD,GAAS1M,GAAG,oBAAqB,0BAK3C8T,GAAMpH,GAAS1M,GAAGulD,GAAYriD,GAAM+X,GAC5BvO,GAAS1M,GAAGylD,IACV/4C,GAAS1M,GAAGulD,GAAY,UACxB74C,GAAS1M,GAAGulD,GAAY,aAAcryC,GAAao9C,GAAc,GAAI,GAAI1kD,KACzEc,GAAS1M,GAAGulD,GAAY,aAAcryC,GAAao9C,GAAc,GAAI,GAAI1kD,KACzEc,GAAS1M,GAAG,yBAA0BkT,GAAau9C,GAAY,GAAI,GAAI7kD,MAKjFkI,GAAMpH,GAAS1M,GAAGi5B,GACVvsB,GAAS1M,GAAGi5B,GAAgB,YAC1BvsB,GAAS1M,GAAGi5B,GAAgB,WAC5BvsB,GAAS1M,GAAGi5B,GAAgB,UAAW3lB,GAAOtT,GAAGA,GAAG,WACpDsT,GAAO,mBAKjB,IAAI4+C,EAAmBT,GAAS,aAChC39C,GAAMpH,GAAS1M,GAAG,sBAAwBuxB,GAClC7kB,GAAS1M,GAAGkyD,EAAmB,OAAQh/C,GAAaiU,GAAW,GAAI,GAAIvb,KACrEc,GAAS1M,GAAGkyD,EAAmB,qBAAsBh/C,GAAa69C,GAAsB,GAAI,GAAInlD,KAChGc,GAAS1M,GAAGkyD,EAAmB,cAAeh/C,GAAa89C,GAAa,GAAI,GAAIplD,KAChFc,GAAS1M,GAAGkyD,EAAmB,aAAch/C,GAAa+9C,GAAgB,GAAI,GAAIrlD,KAClFc,GAAS1M,GAAGkyD,EAAmB,aAAch/C,GAAag+C,GAAe,GAAI,GAAItlD,MAK3F,IAAIumD,EAAc,sBAAwB5gC,GAAeruB,GACzD4Q,GAAMpH,GAAS1M,GAAG,eACV0M,GAAS1M,GAAGmyD,EAAc,OAAQj/C,GAAa8V,GAAa,GAAI,GAAIC,KAClEvc,GAAS1M,GAAGmyD,EAAc,QAASj/C,GAAa+nC,GAAiB,GAAI,GAAIhyB,KACzEvc,GAAS1M,GAAG,cAKtB8T,GAAMpH,GAAS1M,GAAGy+B,IACZ/xB,GAAS1M,GAAGy/B,GAAcv8B,GAAMquB,IAItCzd,GAAMpH,GAAS1M,GAAGigC,GAAoB,gBAChCvzB,GAAS1M,GAAGigC,GAAoB,SAItC,IAAImyB,EAAkBvhB,GAAQ5P,KAAO/9B,GAyBrC,OAxBA4Q,GAAMpH,GAAS1M,GAAGoyD,EAAkB9pD,GAAS,MAAO6xB,IAC9CztB,GAAS1M,GAAGoyD,EAAkBnnD,GAAU,MAAOkvB,IAC/CztB,GAAS1M,GAAGoyD,EAAkB9pD,GAAS,QAAS6xB,IAChDztB,GAAS1M,GAAGoyD,EAAkBnnD,GAAU,QAASkvB,IAIvDrmB,GAAMpH,GAAS1M,GAAG26B,GAAmBz3B,GAAMquB,GACnC7kB,GAAS1M,GAAG26B,GAAmB,WAC7BjuB,GAAS1M,GAAG26B,GAAmB,QAC7BjuB,GAAS1M,GAAG26B,GAAmB,WACjCjuB,GAAS1M,GAAG26B,GAAmB,YAEnCjuB,GAAS1M,GAAGm5B,GAAej2B,GAAMquB,GAAe,mBAAqBtW,GACnEvO,GAAS1M,GAAGs5B,GAAY,aACtB5sB,GAAS1M,GAAGo6B,GAAiBlnB,GAAa29C,GAAgB,GAAI,GAAI5nC,KAClEvc,GAAS1M,GAAGq6B,GAAgBnnB,GAAaqnB,GAAe,GAAI,GAAItR,KAChEvc,GAAS1M,GAAGy6B,GAAkBvnB,GAAai+C,GAAc,GAAI,GAAIloC,MAK3EnV,GAAMoB,GAAYmO,IAClBvP,GAAMpH,GAAS1M,GAAGu/C,GAAYr8C,GAAMquB,GAAcrc,GAAYmrC,KACvDvsC,CACX,CAwGA,SAASu+C,KACLl0D,EAAE,mBAAmB09B,GAAGi0B,KAClBM,KACAoB,KACAG,KACAG,KACV,CAKA,SAASQ,KAuJL,SAASC,EAAOluC,EAAK4M,EAAU5L,GAC3B7hB,YAAW,WACP,IAAI4C,EAAK,IAAIC,GACbD,EAAGE,GAAG,eAAiB+d,EAAM,YAC7B,IAAqB+M,IAAcH,IACnC7qB,EAAGS,GAAGuF,GAClB,GAAWiZ,EACX,CA3JI5Z,GAAWnF,GAAG,mBACT2H,GAAIwD,QAAQ4O,QAAWpS,GAAIwD,QAAQ0O,MAASlS,GAAIwD,QAAQC,SAAYzD,GAAIwD,QAAQ6O,QAAWrS,GAAIukD,KAAKC,QACrG72D,EAAM,CACF,4CACA,oFACFmK,KAGN0F,GAAW5E,GAAGuF,IAIdZ,IAIA,IAAIknD,EAAY/xD,EAAmB,UACjB,UAAd+xD,GAAuC,QAAdA,EAEzBluD,EAAuB,CACnBikD,GACAkK,GACAC,GACAC,GACAC,IACDJ,GAEEA,IAAc13C,IAEnBxW,EAAuB,CACnBikD,GACAkK,GACAC,GACAC,GACAC,KAMRP,EAAO,8BAA8B,WACjCniD,IACR,GAAO,KAIHmiD,EAAO,iBAAiB,WACpBv/B,GAAapsB,MACrB,GAAO,KAIH6E,GAAWnF,GAAG,iBACd/J,EAAYiC,IAAW,6BACvBiN,GAAW5E,GAAGuF,IAIdmmD,EAAO,iBAAiB,WACpBx0C,IACR,GAAO,KAIHw0C,EAAO,UAAU,WACb/2C,IACR,GAAO,KAIH+2C,EAAO,WAAW,WACd3gD,IACR,GAAO,KAIH2gD,EAAO,gBAAgB,WACnBr0C,GAAYC,OAASra,EAAiByc,IAAkBpd,IACxD/H,EAAK,gBAAkB8iB,GAAYC,OAAS,MAC5CD,GAAYtX,OAEZ,IAAImsD,EAAcpyD,EAAmB,MACjCoyD,IAAgBnnD,IAAWmnD,IAAgBhnD,IAC3C3Q,EAAK,mBAAqB23D,EAAc,MACxC70C,GAAYrV,GAAGkqD,IAGV70C,GAAYC,SAAWpS,IAC5BmS,GAAYrV,GAAGqV,GAAYC,OACvC,GAAO,KAKHo0C,EAAO,oBAAoB,WACvB1sC,KACA2C,KAGI7nB,EAAmB,QAAU4G,IAC7Buf,IACZ,GAAO,KAIHyrC,EAAO,oBAAoB,WACvB,IAAIS,EAAWzvD,IACX5E,MAAgBjC,IAAes2D,IAC/B7qD,GAAWoG,QAAQwiB,mBAAqB,EACxC7gB,KACAE,KAEZ,GAAO,KAIHmiD,EAAO,eAAe,WAClBh5B,IACR,GAAO,KAKH9tB,GAAWnF,KACXlL,EAAK,wBAA0B0pB,GAAmB,KAClDE,KACAvZ,GAAW5E,GAAGsG,IAId8lD,GAAcxnD,GAAW6Y,OAAS,IAClClpB,EAAK,qCACLA,EAAK,kBAAoB63D,GAAc,OACvC73D,EAAK,kBAAoB83D,GAAS,OAClC93D,EAAK,mBAAqB63D,GAAcC,IAAU,OAK9CvzC,GAAgBszC,GAAcC,GAiBtC;AAlkeG,IAACC,GAAO,QACP1nD,GAAa,IAAIpF,GACjB3J,GACAgH,IAAQ,EACRC,IAAS,EACTuvD,GAAS,EACTD,GAAc,EACdzhD,GAAY,KAGZoC,GAAoB,KAEpB3N,GAAOvJ,GACPuoC,GAAcvoC,GACdkgC,GAASlgC,GAET+hB,GAAU,OACVze,GAAI,GACJkD,GAAM,IACNkJ,GAAWlJ,GAAIA,GAAIA,GAAIA,GACvBi/B,GAAa,WACb7R,GAAY,UACZgR,GAAQ,MACRzgB,GAAU,QACV4O,GAAU,QACVtZ,GAAU,QACVgP,GAAc,YACd/L,GAAS,OACT2+B,GAAa,WACbzrB,GAAe,aACfoqB,GAAoBpqB,GAAe,SACnCzgB,GAAoBygB,GAAe,SACnC8mC,GAAgB,gBAChB50C,GAAU,QACVI,GAAa,YACbL,GAAqB60C,GAAgB50C,GACrCK,GAAwBu0C,GAAgBx0C,GACxCuS,GAAU,QACVlgB,GAAe,aACfilB,GAAS,OACTpM,GAAW,SACX3S,GAAsB2S,GAAW,gBAEjC4gC,GAAgB5gC,GAAW,SAC3B6gC,GAAgB7gC,GAAW,SAC3BgW,GAAiBhW,GAAW,UAC5BtQ,GAAgBsQ,GAAW,SAC3BxB,GAAoBwB,GAAW,cAC/BvB,GAAmBuB,GAAW,aAC9Bnf,GAAW,SACX04C,GAAc,aACd8M,GAAO,OACPtwB,GAAW,SACXmjB,GAAS,OACTzG,GAAY,UACZ51C,GAAW,SACXw8C,GAAY,UACZ8C,GAAa,WACbx4B,GAAY,UACZN,GAAa,IAAMM,GACnBznB,GAAU,QACV2V,GAAU,QACVwH,GAAS,OACTtb,GAAc,YACdosC,GAAU,QACVvE,GAAY,UACZhvC,GAAY,UACZu4C,GAAa,WACbh0B,GAAW,SACX9X,GAAS,YACTmlB,GAAU,QACVvmB,GAAS,OACTo2C,GAAY,UACZO,GAAe,aACfrwB,GAAe,WACfkb,GAAmB,gBACnB5P,GAA0B,wBAC1BtJ,GAAiB,cACjB8M,GAAoB,cACpBmb,GAAqB,kBACrBx5B,GAAkB,eAClBmsB,GAAY,WACZnM,GAAsB,sBACtB2N,GAAgB,YAChBluB,GAAqB,kBACrB9B,GAAkB,SAClBgd,GAAwB,qBACxBxe,GAAsB,mBACtBqf,GAAoB,iBACpBtE,GAAgB,YAChBE,GAAe,WACfjQ,GAAe,YACfyX,GAAgB,aAChBkb,GAAe,WACfjR,GAAe,WACfgK,GAAiB,cACjB3M,GAAgB,YAChB8U,GAAkB,kBAClBn9B,GAAgB,YAChB+4B,GAAiB,aACjB+H,GAAgB,aAChB1uB,GAAkB,eAClBotB,GAAa,SACbjB,GAAgB,YAChBhyB,GAAa,SACbjM,GAAkB,gBAClB48B,GAAqB,kBAErBlB,GAAa,SACbuD,GAAa,SACb1J,GAAuB,qBACvByG,GAAY,QACZxU,GAAmB,gBACnBiU,GAAY,WACZ5N,GAAiB,eACjB0b,GAAe,YACfzb,GAAoB,kBACpB6G,GAAkB,eAClBW,GAAoB,kBACpByO,GAAY,SACZzC,GAAgB,aAChBD,GAAiB,cACjB2C,GAAe,YACftC,GAAmB,gBACnBF,GAAoB,iBACpB/R,GAAc,UACdtP,GAAc,UACdlO,GAAW,OACX0Y,GAAmB,gBACnBlrB,GAAgB,aAChBm4B,GAAc,UACdvlB,GAAc,WACdjG,GAAe,WACfkiC,GAAsB,mBACtBD,GAAmB,gBACnB7vC,GAAsB,mBACtBsD,GAAiB,cACjBmoB,GAAe,YACftjB,GAAa,UACbojB,GAAc,WACdxyB,GAAa,SACbmK,GAAQ,MACR7D,GAAY,UACZ0T,GAAa,WACbE,GAAY,UACZ5R,GAAQ,MACRhY,GAAW,UACXgR,GAAchR,GAAW,OACzBmD,GAAY,YACZmmB,GAAW,SACXlX,GAAY,UACZwM,GAAmB,gBACnBC,GAAkB,eAClBqyB,GAAY,UACZte,GAAU,QACVr9B,GAAW,YACXu/B,GAAU,QACV1X,GAAQ,MAGRve,GAAW,SACXg6C,GAAS,OACTwD,GAAW,SACXt3B,GAAU,SACVrG,GAAwB,qBACxB3oB,GAAegvB,GAAU,SACzBS,GAAU,QACVvV,GAAS,OACTrS,GAAc,aACdvH,GAAkB,iBAClB0e,GAAW,SACXuT,GAAa,WACbtyB,GAAO,KACPkV,GAAW,SACX5B,GAAW,SACXqI,GAAU,QACV+gC,GAAgB,eAChBrvC,GAAS,OACTknD,GAAQ,MACRC,GAAU,QACVvK,GAAiBsK,GAAQC,GAAU,OACnCtK,GAAgBqK,GAAQC,GAAU,MAClCrK,GAAsBoK,GAAQC,GAAU,YACxCpK,GAAoBmK,GAAQC,GAAU,UACtCnK,GAAoBkK,GAAQC,GAAU,UACtCjgB,GAAeggB,GAAQ,UACvB5C,GAAa4C,GAAQ,QACrBlsC,GAAYksC,GAAQ,OACpBnsC,GAAgBmsC,GAAQ,WACxB94B,GAAgB84B,GAAQ,WACxB9qB,GAAmB8qB,GAAQ,cAC3BpT,GAAcoT,GAAQ,SACtBrT,GAAiBqT,GAAQ,YACzB7C,GAAc6C,GAAQ,SACtBxC,GAAiBwC,GAAQ,YACzB9B,GAAiB8B,GAAQ,YACzB1C,GAAoB0C,GAAQ,eAC5B74B,GAAiB64B,GAAQ,YACzBr4B,GAAiBq4B,GAAQ,YACzBlC,GAAekC,GAAQ,UACvBt3B,GAAkBs3B,GAAQ,aAC1BhD,GAAiBgD,GAAQ,YACzBtC,GAAuBsC,GAAQ,kBAC/BzC,GAAoByC,GAAQ,eAC5BhC,GAAagC,GAAQ,QACrBnC,GAAgBmC,GAAQ,WACxBjC,GAAYiC,GAAQ,OACpB/C,GAAe+C,GAAQ,UACvB9C,GAAmB8C,GAAQ,cAC3BvC,GAAauC,GAAQ,QACrBpY,GAAkBoY,GAAQ,aAC1B7jC,GAAiB6jC,GAAQ,YACzB3C,GAAiB2C,GAAQ,YACzB/B,GAAY+B,GAAQ,OACpBrC,GAAcqC,GAAQ,SACtBvW,GAAiBuW,GAAQ,YACzBE,GAAcF,GAAQ,SACtB3kC,GAAqB6kC,GAAc,UACnCrkC,GAAuBqkC,GAAc,YACrC3kC,GAAoB2kC,GAAc,SAClCnkC,GAAqBmkC,GAAc,UACnCvkC,GAAmBukC,GAAc,QACjCzkC,GAAmBykC,GAAc,QACjCtC,GAAiBoC,GAAQ,YACzB9iD,GAAU,QACV4C,GAAakgD,GAAQ9iD,GACrByY,GAAcqqC,GAAQ,SACtBnqC,GAAemqC,GAAQ,UACvBtyC,GAAO,KACP4U,GAAkB,iBAClBvgB,GAAW,SACXH,GAAQ,MACRmuC,GAAc,eACd5tC,GAAU,QACVmd,GAAY,WACZ/R,GAAW,SACXwV,GAAW,SACXZ,GAAgB,IAAMY,GAAW,QACjCngB,GAAU,QACVytB,GAAS,OACT15B,GAAiB,gBACjB8rC,GAAS,QACTvQ,GAAc,cACdj9B,GAAS,OACTsD,GAAU,QACVZ,GAAgB,eAChBs6C,GAAS,OACTpR,GAAmB,kBACnBoF,GAAY,UACZrB,GAAS,OACTpuB,GAAW,SACX5e,GAAU,QACVivC,GAAgBrwB,GAAY,UAC5BmE,GAAenE,GAAW,IAAMvhB,GAChCqmD,GAAgB9kC,GAAW,IAAM5e,GACjC42B,GAAS,OACTthC,GAAS,OACTwlD,GAAc,aACd8L,GAAU,QACVxsB,GAAc,cACdjc,GAAQ,MACR7c,GAAS,OACT4nC,GAAa,YACbqf,GAAU,QACV5N,GAAc4N,GAAU,OACxBjiD,GAAYiiD,GAAU,KACtB94C,GAAe84C,GAAU,QACzB34C,GAAe24C,GAAU,QACzB/yD,GAAS,OACT4H,GAAc,aACd8qC,GAAO,KACPn4B,GAAS,OACTib,GAAW,SACXf,GAAkB,IAAMe,GAAW,IAAMA,GACzCd,GAAgB,IAAMc,GAAW,IAAMC,GACvCb,GAAe,IAAMY,GAAW,OAChCX,GAAe,IAAMW,GAAW,OAChCb,GAAkB,IAAMgB,GAAW,IAAMH,GACzCg8B,GAAc,aACd3qD,GAAQ,MACRC,GAAO,KACP2K,GAAY,UACZ6M,GAAS,OACT8wC,GAAW,SACXjf,GAAc,YACdge,GAAiB,gBAEjBV,GAAiB,gBACjB3vB,GAAa,WACbR,GAAcQ,GAAa,KAC3BP,GAAcO,GAAa,KAC3BpC,GAAY,UACZ0B,GAAkB1B,GAAY,UAC9B7iB,GAAgB6iB,GAAY,QAC5B5iB,GAAiB4iB,GAAY,SAC7BllB,GAAeklB,GAAY,OAC3BxyB,GAAiB,gBACjB8xC,GAAgB,cAChB9C,GAAY,UACZzW,GAAa,WACbjf,GAAQ,MACRk1B,GAAY,UACZpwB,GAAY,WACZ9d,GAAU,QACV2rB,GAAU,QACV6Z,GAAY,UACZyX,GAAO,KACPC,GAAO,KACPt/B,GAAa,WACbhS,GAAS,OACTE,GAAQ,MACR9O,GAAc,YACdqc,GAAQ,MACRk/B,GAAW,SACX2F,GAAW,SACXvyC,GAAW,SACX+I,GAAU,QACVD,GAAQ,MACRyH,GAAc,IAAMlR,GACpB2sC,GAAc,IAAMljC,GACpBM,GAAY,UACZwc,GAAa,WACb/zB,GAAU,QACV3C,GAAY,UACZmZ,GAAW,SACX+8B,GAAS,OACT3L,GAAc2L,GAAS,SACvBsM,GAAetM,GAAS,SACxB6P,GAAe7P,GAAS,UACxB/xB,GAAU,QACV7oB,GAAU,QACVg9C,GAAa,YACbM,GAAY,IAAMN,GAAa,KAAO/X,GACtC37B,GAAmB,kBACnBqK,GAAQ,MACRyX,GAAc,YACdF,GAAoBE,GAAc,UAClCtM,GAAS,OAETsuC,GAAW,SACXpe,GAAO,KACPxxB,GAAa,WACbtU,GAAQ,MACRmzC,GAAa,aACbh9C,GAAiB,kBACjBuhB,GAAY,YACZK,GAAc,cACdC,GAAc,cACdS,GAAY,YACZmB,GAAkB,kBAClBi2B,GAAkB,mBAClBkH,GAAgB,gBAChBh9B,GAAmB,mBACnB2kC,GAAeryC,GAAS,cACxBmyC,GAAkBnyC,GAAS,cAC3BuyC,GAAgBvyC,GAAS,cACzB4K,GAAmB,mBAEnB2uC,GAAWv5C,GAAS,UAEpBsyC,GAActyC,GAAS,aACvBgyC,GAAgBhyC,GAAS,aACzBoyC,GAAapyC,GAAS,aACtB+b,GAA2B,0BAC3BE,GAAsBjc,GAAS,oBAC/B89C,GAAQ,SACRhL,GAAUgL,GAAQ,IAClB1zB,GAAWpqB,GAAS8yC,IACpBqK,GAAUW,GAAQ,IAClBd,GAAUc,GAAQ,IAClBb,GAAUa,GAAQ,IAClBZ,GAAYY,GAAQ,MACpBze,GAAmBr/B,GAAS,qBAC5BkE,GAAe,eACfutC,GAAiB,kBACjBC,GAAiB,kBACjBjO,GAAsB,uBACtBn+B,GAAmB,mBACnBy4C,GAAW,WACXx5C,GAAew5C,GAAW,OAC1BlmB,GAAU,QACVrzB,GAAgBu5C,GAAWlmB,GAC3Bn8B,GAAsB,sBACtBogD,GAAS,QACT/3C,GAAmB,IAAM+3C,GAAS,MAAQA,GAAS,SACnDjrC,GAAkB,IAAMirC,GAAS,YACjCp3B,GAAiB,iBACjBnZ,GAAU,WACVC,GAAU,WACVgH,GAAsB,aACtB7J,GAAqB,oBACrByT,GAAgB,gBAChB+O,GAAoB,kBACpB7tB,GAAe,cACfG,GAAqBH,GAAe,WACpCiZ,GAAiB,iBACjBvf,GAAS,SACT2sB,GAAa3sB,GAAS,OACtB4yC,GAAY5yC,GAAS,MACrBoN,GAAgBwlC,GAAY,QAC5B5zC,GAAYgB,GAAS,QACrBswB,GAAa,WACbja,GAAY,YACZuO,GAAe,eACf/Q,GAAS,QACTilC,GAAgB,gBAChBF,GAAY/kC,GAAS,OACrBglC,GAAgB,IAAMD,GAAY,QAClCh1B,GAAiB,gBACjBmF,GAAc,cACduD,GAAgB,gBAChBngB,GAAiB,iBACjBic,GAAkB,mBAClB0K,GAAc,cACdzlB,GAAa,aACb0oB,GAAqB,aACrBzoB,GAAS,QACT+kC,GAAgB,gBAChBvgB,GAAc,cACdvK,GAAa,YACb6wB,GAAmB,oBACnBtqB,GAAmB,oBACnBE,GAAmB,oBACnBz0B,GAAW,SACXgkB,GAAqB,qBACrB+V,GAAoB,sBACpB0zB,GAAe,gBACfniC,GAAoBmiC,GAAe,QACnCriC,GAAoBqiC,GAAe,QACnC//B,GAAmB,oBACnBhL,GAAY,aACZrJ,GAAa,YACbq0C,GAAY,WACZjrB,GAAcirB,GAAY,KAC1B7c,GAAc6c,GAAY,KAC1Bh6C,GAAgB,gBAChBwgB,GAAkB,mBAClBpO,GAAqB,sBACrBmN,GAAe,eACfqP,GAAgB,gBAChBqI,GAAU,WACVM,GAAc,eACd0iB,GAAY,aACZ7d,GAAmB6d,GAAY,WAC/B5d,GAA0B4d,GAAY,mBACtCrf,GAAsBqf,GAAY,eAClC10C,GAAgB,IAAM00C,GAAY,QAClC31B,GAAqB21B,GAAY,aACjCC,GAAgB,iBAChBlxC,GAAsBkxC,GAAgB,SACtCtxC,GAAoBsxC,GAAgB,OACpCrxC,GAAkBqxC,GAAgB,KAElCpxC,GAAmBoxC,GAAgBjyB,GAEnChf,GAAkBixC,GAAgB,MAClCxuD,GAAyBwuD,GAAgB,cACzCzf,GAA0Byf,GAAgB,eAC1Cxf,GAA0Bwf,GAAgB,eAC1CtuD,GAAsBsuD,GAAgB,UACtCluD,GAAuBkuD,GAAgB,WACvCxkB,GAAgBukB,GAAY,QAC5BrkB,GAAoBqkB,GAAY,YAChC1Y,GAAoB,oBACpB/D,GAAgB,gBAChBoF,GAAe,gBACfP,GAAqB,sBACrB1gB,GAAa,aACbzK,GAAoByK,GAAa,WACjClgB,GAAmB,mBACnBi1B,GAAkB,iBAClBj6B,GAAU,QACVsrB,GAAY,UACZ1vB,GAAY,UACZD,GAAe,aACfuT,GAAS,OACTuC,GAAe,cACfppB,GAAU,SACVm5B,GAAU,QACVpG,GAAoB,QAAUG,GAAsB,WACpDsd,GAAQ,MACRhT,GAAW,UACX/B,GAAS,SACT9mB,GAAU8mB,GAASA,GACvB1uB,GAAWnF,KA6EXnI,EAAE41D,UAAU5zD,EAAI,SAAUuS,EAAKtW,GAC3B,OAAIA,IAAUM,GACH8d,KAAKgsC,KAAK9zC,GAEV8H,KAAKgsC,KAAK9zC,EAAKtW,EAC9B,EAGA+B,EAAE41D,UAAUjuD,EAAI,SAAU4M,EAAKtW,GAC3B,OAAIA,IAAUM,GACH8d,KAAKjC,IAAI7F,GAET8H,KAAKjC,IAAI7F,EAAKtW,EAC7B,EAGA+B,EAAE41D,UAAU3kD,GAAK,SAAU6hB,GACvBzW,KAAKw5C,MAAM/iC,EACf,EAGA9yB,EAAE41D,UAAU10D,GAAK,SAAUjD,GACvB,OAAOoe,KAAK/B,KAAKrc,EACrB,EAGA+B,EAAE41D,UAAUrqC,EAAI,SAAUttB,GACtB,OAAOoe,KAAK9B,KAAKtc,EACrB,EAGA+B,EAAE41D,UAAU76C,GAAK,SAAU9c,GACvB,OAAOoe,KAAKy5C,SAAS73D,EACzB,EAGA+B,EAAE41D,UAAU/1C,EAAI,SAAUiT,GACtBzW,KAAK05C,KAAKjjC,EACd,EAGA9yB,EAAE41D,UAAU3iD,EAAI,SAAUhV,GACtB,OAAOoe,KAAK25C,KAAK/3D,EACrB,EAGA+B,EAAE41D,UAAU/6C,GAAK,SAAU5c,GACvB,OAAIA,IAAUM,GACH8d,KAAK8nB,OAEL9nB,KAAK8nB,KAAKlmC,EACzB,EAGA+B,EAAE41D,UAAUz/C,EAAI,WACZ,OAAOkG,KAAKsQ,OAChB,EAEA3sB,EAAE41D,UAAU/0B,GAAK,WACb,OAAOxkB,KAAK45C,YAChB,EAEAj2D,EAAE41D,UAAUpgD,GAAK,SAAU0gD,GACvB,OAAIA,IAAW3wD,GACJ8W,KAAK85C,aAEL95C,KAAK85C,WAAW5wD,GAC/B,EAGAvF,EAAE41D,UAAUhzD,EAAI,WACZ,OAAOyZ,KAAKuQ,QAChB,EAEA5sB,EAAE41D,UAAU70B,GAAK,WACb,OAAO1kB,KAAK+5C,aAChB,EAGAp2D,EAAE41D,UAAUljD,EAAI,WACZ,OAAO2J,KAAK0N,QAChB,EAGA/pB,EAAE41D,UAAU38C,GAAK,WACb,OAAOoD,KAAK0N,SAAS6F,IACzB,EAGA5vB,EAAE41D,UAAUjjD,GAAK,WACb,OAAO0J,KAAK0N,SAASmX,GACzB,EAGAlhC,EAAE41D,UAAUjmC,IAAM,WACd,OAAOtT,KAAKg6C,UAChB,EAGAr2D,EAAE41D,UAAU3yD,EAAI,WACZ,OAAOoZ,KAAK6vB,QAChB,EAGAlsC,EAAE41D,UAAUz3B,GAAK,SAAUlgC,GACvB,OAAOoe,KAAKi6C,QAAQr4D,EACxB,EAGA+B,EAAE41D,UAAU/nD,GAAK,SAAU5P,GACvB,OAAOoe,KAAK8/B,OAAOl+C,EACvB,EAGA+B,EAAE41D,UAAUtnD,GAAK,SAAUrQ,GACvB,OAAOoe,KAAKk6C,QAAQt4D,EACxB,EAGA+B,EAAE41D,UAAUl4B,GAAK,SAAUz/B,GACvB,OAAOoe,KAAKm6C,MAAMv4D,EACtB,EAGA+B,EAAE41D,UAAU/yB,GAAK,SAAU5kC,GACvB,OAAOoe,KAAKo6C,OAAOx4D,EACvB,EAGA+B,EAAE41D,UAAUpjB,GAAK,SAAUv0C,GACvB,OAAOoe,KAAKq6C,YAAYz4D,EAC5B,EAGA+B,EAAE41D,UAAU3wD,EAAI,SAAUhH,GACtB,OAAIA,IAAUM,GACH8d,KAAKlY,OAELkY,KAAKlY,KAAKlG,EACzB,EAGA+B,EAAE41D,UAAUlrD,GAAK,SAAUzM,GACvBoe,KAAKs6C,OAAO14D,EAChB,EAGA+B,EAAE41D,UAAUziD,GAAK,SAAUlV,GACvBoe,KAAKu6C,QAAQ34D,EACjB,EAGA+B,EAAE41D,UAAU5kD,GAAK,WACb,OAAOqL,KAAKI,OAAOe,GACvB,EAGAxd,EAAE41D,UAAUp6C,GAAK,WACb,OAAOa,KAAKI,OAAOH,GACvB,EAKA4B,OAAO03C,UAAUl4D,EAAI,SAAUO,GAC3B,OAAOoe,KAAKw6C,MAAM54D,EACtB,EAGAigB,OAAO03C,UAAUxxD,EAAI,SAAU0yD,EAAaC,GACxC,OAAO16C,KAAK26C,QAAQF,EAAaC,EACrC,EAGA74C,OAAO03C,UAAUxvD,GAAK,SAAU6wD,EAAch5D,GAC1C,MAAMi5D,EAAK,IAAI3mB,OAAO0mB,EAAc,KACpC,OAAO56C,KAAK86C,WAAWD,EAAIj5D,EAC/B,EAGAigB,OAAO03C,UAAU9yB,GAAK,WAClB,OAAOzmB,KAAK86C,WAAW,MAAOt1D,GAClC,EAGAqc,OAAO03C,UAAU5wD,EAAI,WACjB,OAAOqX,KAAK+6C,MAChB,EAGAl5C,OAAO03C,UAAUlgD,GAAK,SAAUzX,GAC5B,OAAOoe,KAAKg7C,WAAWp5D,EAC3B,EAGAigB,OAAO03C,UAAUtsC,GAAK,SAAUrrB,GAC5B,OAAOoe,KAAKi7C,SAASr5D,EACzB,EAGAigB,OAAO03C,UAAU/yD,EAAI,SAAU5E,GAC3B,OAAOoe,KAAKk7C,QAAQt5D,EACxB,EAGAigB,OAAO03C,UAAUvyD,EAAI,WACjB,OAAOgZ,KAAKm7C,aAChB,EAGAt5C,OAAO03C,UAAU7yD,EAAI,SAAU8tD,EAAOC,GAClC,OAAOz0C,KAAKo7C,UAAU5G,EAAOC,EACjC,EAGA5yC,OAAO03C,UAAUzyD,GAAK,SAAUmsC,GAC5B,OAAOjzB,KAAK3C,MAAM41B,EACtB,EA6BA1yC,EAAI,uBAEJA,EAAI,QAAU86D,QAAU,UAAY,YAAe,QACnD96D,EAAI,iBACJA,EAAI,uBAEJK,EAAK,yBAGL,IAAIsN,GAAWhM,GACXyL,GAAazL,GACb6L,GAAc7L,GACdqN,GAAgBrN,GAChBoK,GAAapK,GACbwK,GAAgBxK,GAChB6J,GAAa7J,GACb4N,GAAU5N,GACVsL,GAAYtL,GACZ+N,GAAY/N,GAKZwB,GAAQxB,GAaR6B,GAAQ7B,GAeR+B,GAAQ/B,GAaRkC,GAAQlC,GAcRuC,GAASvC,GAoBT8C,GAAS9C,GAiBbyB,EAAE41D,UAAU7uB,QAAU,WAClB,YAAyB,IAAjB,IACZ,EAKA/mC,EAAE41D,UAAU7iD,SAAW,WACnB,IAAI6S,EAAIvJ,KACR,OAAOuJ,IAAMrnB,KACLqnB,EAAEje,EAAE4sB,MAAe1X,IAAU+I,EAAEje,EAAEkM,MAAkBI,IAA+B,MAAnB2R,EAAEje,EAAEoM,IAC/E,EAKA/T,EAAE41D,UAAUr4C,SAAW,WACnB,OAAQlB,KAAKtJ,UACjB,EAOA/S,EAAE41D,UAAU+B,SAAW,SAAU3xC,EAAK4xC,GAClCv7C,KAAKxB,GAAGmL,EAAM3J,KAAKxB,KAAO+8C,EAC9B,EAOA53D,EAAE41D,UAAU9oB,MAAQ,SAAUwC,EAAKrxC,GAC/Boe,KAAKxB,GAAGwB,KAAKxB,KAAKm8C,QAAQ1nB,EAAKrxC,GACnC,EAQAigB,OAAO03C,UAAUhQ,OAAS,SAAUnhD,EAAKozD,EAAUC,GAC/C,IAAIlyC,EAAIvJ,KACJxZ,EAAI+iB,EAAE/iB,EAAE4B,GACZ,GAAI5B,GAAK,EAAG,CACR,IAAImjB,EACA4xC,EACJ,OAFUhyC,EAAE7iB,EAAE,EAAGF,GACN+iB,EAAE7iB,EAAEF,EAAG+iB,EAAE3lB,QACFmE,EAAEyzD,EAAUC,EACtC,CACI,OAAOz7C,IACX,EAKA6B,OAAO03C,UAAUzgB,SAAW,WACxB,MAAO,uBAAuB/Q,KAAK/nB,KACvC,EAKA6B,OAAO03C,UAAUvgB,UAAY,WACzB,MAAO,wBAAwBjR,KAAK/nB,KACxC,EAKA6B,OAAO03C,UAAU3f,WAAa,WAC1B,MAAO,iCAAiC7R,KAAK/nB,KACjD,EAKA,MAAMvM,GAAM,CAyBRukD,KAAO,WACH,MAAM1xD,EAAIic,UAAUm5C,UACpB,MAAO,CACHC,QAASr1D,EAAEE,EAAE,YAAc,EAC3Bo1D,OAAQt1D,EAAEE,EAAE,WAAa,EACzByxD,OAAQ3xD,EAAEE,EAAE,gBAAkB,EAC9Bq1D,MAAOv1D,EAAEE,EAAE,UAAY,IAAuB,IAAlBF,EAAEE,EAAE,SAE5C,CARW,GAWPkN,OAAS,WACL,MAAMpN,EAAIic,UAAUm5C,UACpB,MAAO,CACH/nD,OAAQrN,EAAEE,EAAE,WAAa,EACzBif,IAAKnf,EAAEE,EAAE,WAAa,EACtBs1D,QAASx1D,EAAEE,EAAE,YAAc,GAAKF,EAAEE,EAAE,UAAY,EAChDu1D,OAAQz1D,EAAEE,EAAE,WAAa,EACzBw1D,KAAM11D,EAAEE,EAAE,SAAW,EAEjC,CATa,GAYTyQ,QAAU,WACN,MAAM3Q,EAAIic,UAAUm5C,UACpB,MAAO,CACH71C,OAASvf,EAAEE,EAAE,WAAa,GAAKF,EAAEE,EAAE,OAAS,GAAMF,EAAEE,EAAE,UAAY,EAClE0Q,QAAS5Q,EAAEE,EAAE,YAAc,GAAKF,EAAEE,EAAE,UAAY,EAChDsf,OAAQxf,EAAEE,EAAE,WAAa,IAAMF,EAAEE,EAAE,UAAY,GAAKF,EAAEE,EAAE,UAAY,GAAKF,EAAEE,EAAE,OAAS,GAAKF,EAAEE,EAAE,SAAW,GAC1Gmf,KAAMrf,EAAEE,EAAE,QAAU,EAEhC,CARc,GAWVof,WAAa,WACT,MAAMtf,EAAIic,UAAUm5C,UACpB,MAAO,CACH71C,OAAQvf,EAAEjF,EAAE,oBAAsBiF,EAAEjF,EAAE,oBAAoB,GAAGA,EAAE,OAAO,GAAK,IAC3E6V,QAAS5Q,EAAEjF,EAAE,qBAAuBiF,EAAEjF,EAAE,qBAAqB,GAAGA,EAAE,OAAO,GAAK,IAC9EykB,OAAQxf,EAAEjF,EAAE,qCAAuCiF,EAAEjF,EAAE,qCAAqC,GAAGA,EAAE,OAAO,GAAK,IAC7GskB,KAAMrf,EAAEjF,EAAE,iBAAmBiF,EAAEjF,EAAE,iBAAiB,GAAGA,EAAE,OAAO,GAAK,IAE/E,CARiB,GAWb8W,GAAK,WACD,MAAM7R,EAAIic,UAAUm5C,UACpB,MAAO,CACHl2C,QAAS,uBAAuBuiB,KAAKzhC,GACrC8R,MAAO,aAAa2vB,KAAKzhC,GACzBmf,IAAK,aAAasiB,KAAKzhC,GACvBof,MAAO,SAASqiB,KAAKzhC,GAEjC,CARS,GAWL2c,SAAW,WACP,MAAMgmB,EAAO1mB,UAAUU,SACvB,MAAO,CACHg5C,KAAMhzB,EAAKjiC,IACXkc,KAAM+lB,EAAKviC,EAAE,EAAG,GAChBw1D,OAAQjzB,EAAKviC,EAAE,EAAGuiC,EAAKrlC,QAEnC,CAPe,GAUX0hB,QACW,CACHC,IAAM/jB,OAAO26D,kBASrBljD,MAAQ,SAAUmjD,EAASjzD,IACvB,IAAItI,EAAO,0BACPkH,EAAIlH,EAqER,OApEKu7D,GAAQ77D,EAAIM,GAEjBA,EAAO,sBACD4S,GAAIwP,SAASC,MACZzP,GAAIwP,SAASi5C,OAAOt4D,OAAS,EAAI,IAAM6P,GAAIwP,SAASi5C,OAAS12D,IAC9D,OACNuC,GAAKlH,EACAu7D,GAAQ77D,EAAIM,GAEjBA,EAAO,uBACA4S,GAAIC,OAAOC,OAAS,SAAWnO,KAC/BiO,GAAIC,OAAO+R,IAAM,OAASjgB,KAC1BiO,GAAIC,OAAOooD,QAAU,WAAat2D,KAClCiO,GAAIC,OAAOqoD,OAAS,UAAYv2D,KAChCiO,GAAIC,OAAOsoD,KAAO,QAAUx2D,IAC7B,MACNuC,GAAKlH,EACAu7D,GAAQ77D,EAAIM,GAEjBA,EAAO,qBACF4S,GAAI0E,GAAGC,MAAQ,YACT3E,GAAI0E,GAAGqN,QAAU,cACb/R,GAAI0E,GAAGsN,IAAM,UACThS,GAAI0E,GAAGuN,MAAQ,UAAY,YACxC,KACN3d,GAAKlH,EACAu7D,GAAQ77D,EAAIM,GAEjBA,EAAO,uBACA4S,GAAIwD,QAAQ4O,OAAS,YAAcpS,GAAImS,WAAWC,OAASrgB,KAC3DiO,GAAIwD,QAAQC,QAAU,aAAezD,GAAImS,WAAW1O,QAAU1R,KAC9DiO,GAAIwD,QAAQ6O,OAAS,YAAcrS,GAAImS,WAAWE,OAAStgB,KAC3DiO,GAAIwD,QAAQ0O,KAAO,UAAYlS,GAAImS,WAAWD,KAAOngB,IACtD,OACNuC,GAAKlH,EACAu7D,GAAQ77D,EAAIM,GAEjBA,EAAO,uBACA4S,GAAIukD,KAAK6D,MAAQ,QAAUr2D,KAC3BiO,GAAIukD,KAAK4D,OAAS,SAAWp2D,KAC7BiO,GAAIukD,KAAK2D,QAAU,UAAYn2D,KAC/BiO,GAAIukD,KAAKC,OAAS,SAAWzyD,IAC9B,OACNuC,GAAKlH,EACAu7D,GAAQ77D,EAAIM,GAEjBA,EAAO,sBACD4S,GAAI6R,QAAQC,IACZ,OACNxd,GAAKlH,EACAu7D,GAAQ77D,EAAIM,GAEjBA,EAAO,sBACDiJ,IACA,OACN/B,GAAKlH,EACAu7D,GAAQ77D,EAAIM,GAEjBA,EAAO,sBACDiR,GACA,OACN/J,GAAKlH,EACAu7D,GAAQ77D,EAAIM,GAEjBA,EAAO0hB,UAAUm5C,UAAY,KAC7B3zD,GAAKlH,EACAu7D,GAAQ77D,EAAIM,GAEVkH,CACf,EAGIs0D,gBAAkB,WACd,IAAIx7D,EAAO,gDACwBy7D,GADxB,+BAEwBC,GAA+B,OAElE,OADAh8D,EAAIM,GACGA,CACf,EAKImO,KAAO,SAAU6f,GACb,IAAIhuB,EAAO4S,GAAIwF,QACTxF,GAAI4oD,kBACJ,oCACN77D,QAAQC,IAAII,GACZ2nC,GAAc3Z,EAAQhuB,EAAMsI,IAC5B/H,EAAMP,EACd,GAKA,IAAIkY,GAAQ4/C,GACRx3D,GAAcgyC,UACdrhC,GAAa,MACb3M,GAAe,GACfI,GAAgB,GAqYhB2F,GAAuB,IAAIgpC,OAAO,OAAS74B,GAAS,KAAOA,GAAS,aAAeA,GAAS,KAAOA,GAAS,IAAK7V,IACjH2F,GAAwB,IAAI+oC,OAAO,aAAe74B,GAAS,KAAOA,GAAS,IAAK7V,IA+gBhF+a,GAAc,EACdtB,GAAuB9V,GAy1BvBoC,GAAY,EAmBZ4W,GAAchZ,GAGdkM,GAA0B,EAC1BG,GAAuB,EA2BvBs0C,GAAoB,EACpB/iB,GAAuB,EACvBqiB,GAAyB,EACzBvjB,GAAsB,EACtBG,GAA0B,EAC1BgB,GAAsB,EACtB0X,GAA0B,EAC1BzX,GAAsB,EACtB2G,GAAwB,EAgBxB93B,GAAe0K,GA8Wf2I,GAAsB,GAoHtBe,GAAqB,kBACrBD,GAAiB/nB,GACjBioB,GAAqBjoB,GACrBkoB,GAAmBloB,GACnBmoB,GAAuBlhB,GACvBmhB,GAAmB,OA+HnBwB,GAAqB5pB,GACrB+pB,GAAuC/pB,GACvC6pB,GAAmC7pB,GACnCgqB,GAAkChqB,GAClCiqB,GAAiCjqB,GACjCkqB,GAAgClqB,GAChC6gB,GAAiC5Z,GAEjC4oD,GAA6B7vD,GAC7BqpB,GAA4BrpB,GAC5BspB,GAAkCtpB,GAyPlC+rB,GAAmB/rB,GACnBgsB,GAAsBhsB,GACtBisB,GAAmBjsB,GACnBmsB,GAAoBnsB,GAEpBqsB,GAAiB,IAEjB4B,GAAsB,EACtBC,GAAuB,EAw9B3BxiB,GAAUxB,KAAO,WAIb,GAAIX,GAAKi/B,UAEL,OADA98B,GAAU4uD,cACHrzD,GAIX,IAAIszD,EAAWhxD,GAAK2jB,QAUpB,GARA3jB,GAAK6D,OAELmtD,EAAS7lD,EAAE,mBAAmBjR,EAAE4gB,GAAMq8B,IACtCj1C,GAAWoG,QAAQuF,GAAG6C,KAAK3K,GAAGirD,GAE9BhyB,GAAc9mC,EAAE,IAAMi/C,IACtBn3C,GAAOg/B,GAAY7jC,IAEf6jC,GAAYC,UAEZ,OADA98B,GAAU4uD,cACHrzD,GAIXwE,GAAWY,OAAS,IAAIu2C,GAAO,IAAI74C,GAAO,UAAWE,IAAW6T,MAE5DlO,KAAeC,KAEkB,IAA7BpE,GAAWY,OAAO3K,OAClBxC,EAAMyC,GAAW,aACZsC,EAAmB2I,MAAWhC,IACnCa,GAAWY,OAAOnC,QAItBuB,GAAWY,OAAOqU,SAClB1U,GAAS2B,KAAKvB,IAAUhD,EAAE4sB,GAAW,QAGzC,IAAIwkC,EAASjyB,GAAY/rB,GAAG,0EACxBi+C,EAAeD,EAAO94D,OACtBg5D,EAAYz4D,MAAgBjC,GAChCw6D,EAAOl5C,GAAE,SAAUhd,GACf,IAAIuZ,EAAKpc,EAAEqc,OAE2B,IAAlCD,EAAGpa,EAAE6F,IAAShF,EAAE,aACZo2D,EACIp2D,EAAIm2D,EAAe,EACnBhvD,GAAWoG,QAAQ3F,IAAI2R,GAEvBnd,EAAUmd,GAGdpS,GAAWoG,QAAQ3F,IAAI2R,GAI3Bnd,EAAUmd,EACtB,IAGI,IAAI88C,EAAoB12D,EAAmB,OAQ3C,OAPA02D,EAAqBA,IAAsB36D,GAAcY,EAAY+5D,GAAqB,EACtFA,GAAqB,GAAKA,GAAoB,GAC9CpyB,GAAY/rB,GAAG,YAAcm+C,EAAoB72D,GAAQm8C,GAAY,KAAOn8C,GAAQo8C,GAAchf,KAAU5f,GAAE,WAC1G7V,GAAWoG,QAAQyuC,YAAY7+C,EAAEqc,MAAMra,EAAE4gB,IAAO,IAAKrd,GACjE,IAGWA,EACX,EAKA0E,GAAU4uD,YAAc,WACpB7uD,GAAW2B,OAEXtO,EAAM,CACF,0CACA,mIACFuK,IACN,EAkfAitB,GAAapsB,KAAO,WAChBmD,GAAgB,IAAIipB,GAAa,IAAIhsB,GAAW2C,KAEhDI,GAAcI,QAAUzB,GAGxBvK,EAAE,mBAAmBwvD,WAAWn7C,SAGhCrU,EAAE,4HAA4H6f,GAAE,WAC5H,IAAIzc,EAAOpD,EAAEqc,OAETjZ,EAAKF,GAAG,IAAM4Q,KACc,IAAxB1Q,EAAK2X,GAAG,KAAK9a,QAA4C,YAA5BmB,EAAkBgC,KACnDwI,GAAcnB,IAAIrH,GAGlBA,EAAK+N,GAAG,YAAY,WAGhBwkB,IAChB,IAEA,GACA,EAIA,IAAIC,GAA0B,EA0L9B7V,GAAYC,OAASvS,GACrBsS,GAAYE,kBAAoBxS,GAKhCsS,GAAYtX,KAAO,WAKf,SAAS0wD,IAELl6D,EAAUm6D,GACVr3D,SAASs3D,KAAKld,OAAOmd,EAC7B,CAGI,SAASC,IAELt6D,EAAUq6D,GACVv3D,SAASs3D,KAAKld,OAAOid,EAC7B,CAGI,SAASI,EAAaC,GACdA,EAAQC,SACRC,EAAap0D,IACbwa,GAAYrV,GAAGkD,MAGf+rD,EAAan0D,IACbua,GAAYrV,GAAG+C,IAE3B,CAGI,SAASksD,EAAapzD,GACdA,GACAgzD,IACAx5C,GAAYC,OAASpS,KAGrBurD,IACAp5C,GAAYC,OAASvS,IAEzB0uB,IACR,CAxCI,MAAMm9B,EAAcv3D,SAAS63D,cAAc,QAAU9rD,GAAYL,IAC3D2rD,EAAar3D,SAAS63D,cAAc,QAAU9rD,GAAYF,IA0C1DisD,EAAah8D,OAAOi8D,WAAW,+BACrCD,EAAWjpD,iBAAiB,SAAU4oD,GAGtCG,EAAaE,EAAWH,QAC5B,EAMA35C,GAAYrV,GAAK,SAAUsV,GACnBA,IAAWzhB,KACXyhB,EAAUD,GAAYC,SAAWvS,GAAWG,GAASH,IAEzDsS,GAAYC,OAASA,EACrB/iB,EAAK,uBAAyB8iB,GAAYC,OAAS,MAEnDD,GAAYG,UAERlW,GAAWY,OAAOqU,SAClBjV,GAAWY,OAAOy3C,OAAOtiC,GAAYC,QAEzC/iB,EAAK,YACT,EAKA8iB,GAAYG,QAAU,WAClBic,KAIA,IAAI49B,EAAK,QACLC,EAAO,KACPC,EAAQ,QACRC,EAAW,WACXC,EAAS,SACTC,EAAO,SAEPC,EAAQN,EAAK,KACbO,EAAWP,EAAK,KAChBQ,EAAWR,EAAK,KAChBS,EAAST,EAAK,KACdU,EAAUV,EAAK,KACfW,EAAYX,EAAK,KACjBY,EAAWZ,EAAK,KAChBa,EAASb,EAAK,KACdc,EAASd,EAAK,KACde,EAASf,EAAK,KACdgB,EAAShB,EAAK,KACdiB,EAAQjB,EAAK,KACbkB,EAAalB,EAAK,KAClBmB,EAASnB,EAAK,KACdoB,EAAWpB,EAAK,KAChBqB,EAASrB,EAAK,KACdsB,EAAStB,EAAK,KACduB,EAASvB,EAAK,KACdwB,EAAUxB,EAAK,KACfyB,EAASzB,EAAK,KACd0B,EAAU1B,EAAK,KACf2B,EAAW3B,EAAK,KAChB4B,EAAW5B,EAAK,KAEhB6B,EAAK,UAELC,EAAQD,EAAK,KACbE,EAAWF,EAAK,KAChBG,EAAWH,EAAK,KAChBI,EAAUJ,EAAK,KACfK,EAASL,EAAK,KACdM,EAASN,EAAK,KACdO,EAAWP,EAAK,KAChBQ,EAASR,EAAK,KACdS,EAAUT,EAAK,KACfU,EAASV,EAAK,KAEdW,EAAK,QAETl2D,EAAuB,CACnB,kBACA,sBACA,SACA,SAEA,WACA,WACA,WACA,SACA,iBACA,iBACA,iBACA,wBACA,wBACA,SACA,WAEA,cACA,cACA,cACA,kBACA,YACA,YACA,WACA,cACA,cACA,cACA,gBACA,oBACA,oBACA,QACA,iBACA,eACA,aACA,YACA,oBACA,mBACA,aACA,WACA,gBACA,eACA,eACA+zD,EAAO,UACPA,EAAO,cACPA,EAAO,aACPA,EAAO,OACPA,EAAO,QACPA,EAAO,KACPA,EAAO,SACPA,EAAO,OACPA,EAAO,QACPA,EAAO,QACPA,EAAO,UACPA,EAAO,UACPA,EAAO,OACPA,EAAO,QACPC,EACAA,EAAQL,EACRK,EAAQJ,EACRI,EAAQH,EACRG,EAAQF,EACRG,EACAA,EAAWN,EACXM,EAAWL,EACXK,EAAWJ,EACXI,EAAWH,EACXI,EACAA,EAAWP,EACXO,EAAWN,EACXM,EAAWL,EACXK,EAAWJ,EACXK,EACAA,EAASR,EACTQ,EAASP,EACTO,EAASN,EACTM,EAASL,EACTM,EACAA,EAAUT,EACVS,EAAUR,EACVQ,EAAUP,EACVO,EAAUN,EACVO,EACAA,EAAYV,EACZU,EAAYT,EACZS,EAAYR,EACZQ,EAAYP,EACZQ,EACAA,EAAWX,EACXW,EAAWV,EACXU,EAAWT,EACXS,EAAWR,EACXS,EACAA,EAASZ,EACTY,EAASX,EACTW,EAASV,EACTU,EAAST,EACTU,EACAA,EAASb,EACTa,EAASZ,EACTY,EAASX,EACTW,EAASV,EACTW,EACAA,EAASd,EACTc,EAASb,EACTa,EAASZ,EACTY,EAASX,EACTY,EACAA,EAASf,EACTe,EAASd,EACTc,EAASb,EACTa,EAASZ,EACTa,EACAA,EAAQhB,EACRgB,EAAQf,EACRe,EAAQd,EACRc,EAAQb,EACRc,EACAA,EAAajB,EACbiB,EAAahB,EACbgB,EAAaf,EACbe,EAAad,EACbe,EACAA,EAASlB,EACTkB,EAASjB,EACTiB,EAAShB,EACTgB,EAASf,EACTgB,EACAA,EAAWnB,EACXmB,EAAWlB,EACXkB,EAAWjB,EACXiB,EAAWhB,EACXiB,EACAA,EAASpB,EACToB,EAASnB,EACTmB,EAASlB,EACTkB,EAASjB,EACTkB,EACAA,EAASrB,EACTqB,EAASpB,EACToB,EAASnB,EACTmB,EAASlB,EACTmB,EACAA,EAAStB,EACTsB,EAASrB,EACTqB,EAASpB,EACToB,EAASnB,EACToB,EACAA,EAAUvB,EACVuB,EAAUtB,EACVsB,EAAUrB,EACVqB,EAAUpB,EACVqB,EACAA,EAASxB,EACTwB,EAASvB,EACTuB,EAAStB,EACTsB,EAASrB,EACTsB,EACAA,EAAUzB,EACVyB,EAAUxB,EACVwB,EAAUvB,EACVuB,EAAUtB,EACVuB,EACAA,EAAW1B,EACX0B,EAAWzB,EACXyB,EAAWxB,EACXwB,EAAWvB,EACXwB,EACAA,EAAW3B,EACX2B,EAAW1B,EACX0B,EAAWzB,EACXyB,EAAWxB,EACX0B,EACAA,EAAQ7B,EACR8B,EACAA,EAAW9B,EACX+B,EACAA,EAAW/B,EACXgC,EACAA,EAAUhC,EACViC,EACAA,EAASjC,EACTkC,EACAA,EAASlC,EACTmC,EACAA,EAAWnC,EACXoC,EACAA,EAASpC,EACTqC,EACAA,EAAUrC,EACVsC,EACAA,EAAStC,EACTuC,EAAK,UACLA,EAAK,WACLA,EAAK,aACLA,EAAK,aACLA,EAAK,MACLA,EAAK,YACLA,EAAK,oBACLA,EAAK,SACLA,EAAK,WACLA,EAAK,UACLA,EAAK,SACLA,EAAK,QACLA,EAAK,KACLA,EAAK,OACLA,EAAK,WACLA,EAAK,WACLA,EAAKn6D,GACLm6D,EAAK,UACLA,EAAK,UACLA,EAAK,OACLA,EAAK,UACLx8C,GAAYC,SAAWpS,GAAU,KAAO,MAG5C64C,GAA4BlhD,GAChC,EAKA,IAAIk0B,GAAiB,0CAgiBrBltB,GAAS9D,KAAO,WAEZ,IAAI+zD,EAAgBx8D,EAAE,IAAMgB,IAExBH,MAAoBtC,GACpBi+D,EAAc9d,aAAa79C,KAG3BR,IAAUwN,GAAG2uD,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"}