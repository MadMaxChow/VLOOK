/**************************************
 *
 * VLOOK CSS - Typora ç¼–è¾‘æ—¶å†…ç½®æ ·å¼
 * (é…åˆ base.less è¿›è¡Œä½¿ç”¨)
 *
 * V19.0
 * 2023-07-29
 * powered by MAXÂ°å­Ÿå…†
 *
 * QQ Group: 805502564
 * email: maxchow@qq.com
 *
 * https://github.com/MadMaxChow/VLOOK
 * https://gitee.com/madmaxchow/VLOOK
 *
 *************************************/

:root {
    --cm-keyword-lg: #770088;
    --cm-variable-lg: var(--d-f-c-lg);
    --cm-variable-2-lg: #0055AA;
    --cm-variable-3-lg: #008855;
    --cm-tag-lg: #9ab696;
    --cm-attribute-lg: #0000CC;
    // --cm-CodeMirror-cursor-lg: @docTextColorLightAlt;
    --cm-string-lg: #AA1111;
    --cm-string-2-lg: #FF5500;
    --cm-comment-lg: #AA5500;
    --cm-header-lg: #0000FF;
    --cm-quote-lg: #009900;
    --cm-hr-lg: #999999;
    --cm-link-lg: #0000CC;
    --cm-negative-lg: #DD4444;
    --cm-positive-lg: #229922;
    --cm-meta-lg: #555555;
    --cm-bulidin-lg: #3300AA;
    --cm-bracket-lg: #999977;
    --cm-atom-lg: #221199;
    --cm-number-lg: #116644;

    --cm-keyword-dk: #C88FD0;
    --cm-variable-dk: var(--d-f-c-dk);
    --cm-variable-2-dk: #9FBAD5;
    --cm-variable-3-dk: #1CC685;
    --cm-tag-dk: #7DF46A;
    --cm-attribute-dk: #7575E4;
    --cm-string-dk: #D26B6B;
    --cm-string-2-dk: #FF5500;
    --cm-comment-dk: #DA924A;
    --cm-header-dk: #8D8DF0;
    --cm-quote-dk: #57AC57;
    --cm-hr-dk: #D8D5D5;
    --cm-link-dk: #D3D3EF;
    --cm-negative-dk: #D95050;
    --cm-positive-dk: #50E650;
    --cm-meta-dk: #B7B3B3;
    --cm-bulidin-dk: #F3B3F8;
    --cm-bracket-dk: #999977;
    --cm-atom-dk: #84B6CB;
    --cm-number-dk: #64AB8F;

    --cm-keyword: var(--cm-keyword-lg);
    --cm-variable: var(--cm-variable-lg);
    --cm-variable-2: var(--cm-variable-2-lg);
    --cm-variable-3: var(--cm-variable-3-lg);
    --cm-tag: var(--cm-tag-lg);
    --cm-attribute: var(--cm-attribute-lg);
    --cm-CodeMirror-cursor: @aHoverColor;
    --cm-string: var(--cm-string-lg);
    --cm-string-2: var(--cm-string-2-lg);
    --cm-comment: var(--cm-comment-lg);
    --cm-header: var(--cm-header-lg);
    --cm-quote: var(--cm-quote-lg);
    --cm-hr: var(--cm-hr-lg);
    --cm-link: var(--cm-link-lg);
    --cm-negative: var(--cm-negative-lg);
    --cm-positive: var(--cm-positive-lg);
    --cm-meta: var(--cm-meta-lg);
    --cm-bulidin: var(--cm-bulidin-lg);
    --cm-bracket: var(--cm-bracket-lg);
    --cm-atom: var(--cm-atom-lg);
    --cm-number: var(--cm-number-lg);

    // --------------------
    // Typora UI é¢œè‰²å˜é‡
    --bg-color: var(--d-bc-lg); // æ›¿æ¢ä¸ºé€æ˜Žè‰²ï¼Œä»¥åœ¨ Typora ç¼–è¾‘æ—¶æ­£å¸¸æ˜¾ç¤ºèƒŒæ™¯å›¾ç‰‡
    --side-bar-bg-color: var(--d-bc-lg);
    --text-color: var(--d-f-c-lg);

    --border-color: var(--tbl-bd);

    // é€‰æ‹©çš„æ–‡æœ¬å‰æ™¯
    // --select-text-font-color: var(--d-f-c);
    // é€‰æ‹©çš„æ–‡æœ¬èƒŒæ™¯
    --select-text-bg-color: @selectionColor;

    --search-select-bg-color: @selectionColor;

    --control-text-color: var(--d-f-c-lg);
    --control-text-hover-color: var(--d-f-c-lg);
    --window-border: 1px solid var(--pn-c-lg);

    --active-file-bg-color:  var(--d-bc-lg);
    --active-file-bder: var(--select-text-bg-color);
    --active-file-text-color: var(--d-f-c-lg);

    --item-hover-bg-color: var(--d-f-c-alt);//var(--pn-c-lg);
    --item-hover-text-color: var(--d-bc);//var(--d-f-c-lg);

    --primary-color: @themeBgColor;

    --rawblock-edit-panel-bd: var(--pn-c);
}

// é€‰ä¸­å†…å®¹çš„æ ·å¼
::selection {
    // color: var(--d-f-c) !important;
    background: @selectionColor !important;
    fill: var(--d-f-c) !important; // for SVG text
}

// Typora å¯¼å‡ºæ—¶è‡ªå¸¦çš„ä¾§è¾¹æ 
.typora-export-sidebar {
    display: none !important;
}

// ä¿ç•™åŽŸå§‹ fa å›¾æ ‡å¼ºåˆ¶ä½¿ç”¨æŒ‡å®šçš„å­—ä½“
.fa {
    font-family: FontAwesome !important;
}

.md-toc-inner {
    text-decoration: none;
    box-shadow: none;
}

// å¤§çº² / æ–‡ä»¶é¢æ¿å›¾æ ‡
.ty-icon,
.file-node-icon,
.outline-expander::before,
.ion-ios7-search-strong::before,
#md-notification::before,
.ion-chevron-left:before,
.fa-code:before,
// #top-titlebar .ty-menu-btn-area-sub1,
// #top-titlebar .ty-menu-btn-area-sub2,
// #top-titlebar .ty-menu-btn-area-sub3,
#top-titlebar :is(.ty-menu-btn-area-sub1, .ty-menu-btn-area-sub2, .ty-menu-btn-area-sub3),
.fa-sort-desc:before,
.fa-sort-asc:before {
    color: var(--h-f);
}
.ion-folder:before {
    color: var(--d-f-c-lg);
}

#top-titlebar .ty-icon {
    color: var(--d-f-c);
}
.megamenu-opened #top-titlebar .ty-icon {
    color: var(--d-f-c-lg);
}

.ty-menu-btn-area>span {
    border-top-width: 2px;
}
.ty-sidebar-search-panel svg.icon {
    fill: var(--h-f);
}
.fa-folder::before,
.fa-caret-right::before {
    color: var(--d-f-c-alt);
}
.md-resize-table .ty-icon,
.md-align-gp .ty-icon {
    color: var(--a-color);
}
.ion-android-arrow-back:before {
    color: @buttonForeColor;
}

// è¡¨æ ¼ç¼–è¾‘æ 
.ty-table-edit {
    margin-left: 0;
    margin-top: -26px !important;
    background: var(--d-f-c);//var(--pn-c-alt);
    border-radius: var(--v-r-b) var(--v-r-b) @tableBorderRadius @tableBorderRadius;
    padding: 0 3px 2px 3px;
    width: auto !important;
}

// è¡¨æ ¼è¡Œåˆ—æ•°è°ƒæ•´é¢æ¿æ ·å¼
.md-resize-table-th .popover {
    width: max-content;
    padding-bottom: 10px !important;
}
.md-grid-board-wrap .popover-title {
    padding-top: 10px;
}
.ty-table-edit div {
    width: max-content;
    padding: 0 5px;
}
.md-grid-board {
    border-radius: 0 !important;
}
.md-grid-board a:hover,
.md-grid-board a.md-active {
    border-color: var(--ac-t1) !important;
    background: var(--ac-t1) !important;
    box-shadow: none !important;
}
.md-grid-board tr::before,
.md-grid-board tr:hover::before {
    content: "" !important;
}
.md-grid-board tr>:is(th, td),
.md-grid-board tr>:is(th, td):first-child {
    padding: 5px !important;
    background: var(--ac-t1) !important;
    box-shadow: none !important;
}

// è°ƒæ•´è¡¨æ ¼å¤§å°
.md-resize-table {
    margin-right: 50px;
}

// åˆ é™¤è¡¨æ ¼
.md-delete-table {
    margin-left: 50px;
}
.ty-icon.ty-delete {
// .md-delete-table .ty-icon {
    color: @aHoverColor;
    // color: var(--ac-rd-lg);
}

.md-notification-container {
    background: var(--d-bc) !important;
}

// å¯¼å‡ºæˆåŠŸåŽé€šçŸ¥æ å›¾æ ‡
#md-notification::before {
    top: 16px;
}

// å¯¼å‡ºæˆåŠŸåŽé€šçŸ¥æ é“¾æŽ¥å›¾æ ‡
#md-notification a {
    color: var(--a-color);
    text-decoration: none;
    font-weight: var(--v-f-w-bd);
}
// #md-notification a:hover,
// #md-notification a.default-btn:hover {
#md-notification :is(a:hover, a.default-btn:hover) {
    color: @aHoverColor;
    // box-shadow: 0 -.3em 0 0 fade(@aLineColor, 30%) inset;
}

#md-notification .btn {
    border-radius: var(--v-r-s);
    margin-left: 5px;
    color: @buttonForeColor !important;
    background: @buttonBgColor !important;
}
#md-notification .btn:hover {
    color: @buttonForeHoverColor !important;
    background: @aHoverColor !important;
}
#md-notification .btn-default {
    font-weight: var(--v-f-w-title);
}

// æ³¨é‡Š
.md-comment {
    color: var(--d-f-c-alt);
    font-family: inherit;
}

// for Win ä¸€ä½“åŒ–èœå•
// body.os-windows .megamenu-menu,
// body.os-windows .megamenu-menu-header-title-menu {
body.os-windows :is(.megamenu-menu, .megamenu-menu-header-title-menu) {
    background: @buttonBgColor;
    color: @buttonForeColor;
}
.megamenu-menu-header {
    border-bottom-color: @buttonForeColor;
}
#megamenu-back-btn {
    border-color: @buttonBgColor;
}
.megamenu-menu-panel {
    color: var(--d-f-c-alt-lg);
}

.megamenu-menu-list li a {
    color: @buttonForeColor;
}
.megamenu-menu-list li a.active {
    background: @aActiveColor !important;
    color: @buttonForeHoverColor;
}
.megamenu-menu-list:not(.saved) li a:hover {
    background: @aHoverColor !important;
    color: @buttonForeHoverColor;
}

// ç”¨äºŽåœ¨ Typora Windows ç‰ˆæœ¬çš„ä¸€ä½“åŒ–èœå•ä¸­ï¼Œè¿›è¡Œä¸»é¢˜é€‰æ‹©æ—¶çš„é¢„è§ˆæ•ˆæžœ
// body:not([class]) h1,
// body:not([class]) h2,
// body:not([class]) h3,
// body:not([class]) h4,
// body:not([class]) h5,
// body:not([class]) h6 {
body:not([class]) :is(h1,h2,h3,h4,h5,h6) {
    color: var(--h-f);
}

// è¡¨æ ¼å·¥å…·æ æŒ‰é’®ç»„ã€æŒ‰é’®
.btn-group .btn+.btn {
    margin-left: 0;
}
// .btn-default.active,
.btn.active {
    border-color: @buttonBgColor;
    background-color: @buttonBgColor;
}
// å½“å‰é€‰ä¸­çŠ¶æ€
.btn.active>.ty-icon::before {
    color: @buttonForeColor;
}

.btn,
.sidebar-footer-main-item-label {
    font-family: var(--v-f-fm-bd);
    background: none;
}

.btn,
.megamenu-content input {
    border-radius: var(--v-r-s);
    color: var(--d-f-c);
}
.megamenu-section input {
    background: var(--d-bc-lg);
    color: var(--d-f-c-lg);
}

.megamenu-content table {
    color: var(--d-f-c-lg);
}

// .megamenu-section .long-btn,
// .megamenu-section .btn {
.megamenu-section :is(.long-btn, .btn) {
    border-radius: var(--v-r-s);
    color: var(--d-f-c-lg);
}
// .megamenu-section .long-btn:hover,
// .megamenu-section .btn:hover {
.megamenu-section :is(.long-btn:hover, .btn:hover) {
    color: var(--d-f-c-lg) !important;
    background: var(--blockquote-bg-lg);
}

.megamenu-menu-header:focus,
.megamenu-menu-header:hover,
.megamenu-menu-header:hover #megamenu-menu-header-title {
    color: @buttonForeColor;
}

.btn-primary {
    color: @buttonForeColor;
    background: @buttonBgColor;
    font-weight: var(--v-f-w-title);
}
.btn-primary:hover {
    background: @aHoverColor;
}
.btn-primary:active {
    background: @aActiveColor;
}

// for Win å·¦ä¾§é¢æ¿æ ‡ç­¾åº•éƒ¨å½“å‰é€‰ä¸­çš„è¾¹æ¡†
body.os-windows .active-tab-files #info-panel-tab-file .info-panel-tab-border,
body.os-windows .active-tab-outline #info-panel-tab-outline .info-panel-tab-border {
    background: @buttonBgColor;
}

.md-image-src-span, // å›¾ç‰‡é“¾æŽ¥
.md-link .md-url { // é“¾æŽ¥
    color: var(--d-f-c-alt);
    font-family: var(--monospace);
    font-weight: var(--v-f-w-text);
    text-decoration: none;
}
kbd .md-image-src-span,
kbd .md-link .md-url {
    color: var(--pn-c);
}

// å›¾ç‰‡ç›¸å…³æŒ‰é’®
.md-image-btn {
    background: @buttonBgColor;
}
.md-image-btn:hover {
    background: @aHoverColor;
}
.md-image-input-src-btn {
    line-height: @defaultLineHeight;
    height: 30px;
    background: var(--pn-c);
    box-shadow: 0 0 0 1px @buttonBgColor inset;
    border-radius: var(--v-r-si) 0 0 var(--v-r-si);
}
.md-image-input-src-btn::before {
    color: var(--d-f-c-alt);
}
.md-image-input-src-btn.selected,
.md-image-input-src-btn:hover {
    background: none;
}
.md-image-pick-file-btn {
    line-height: @defaultLineHeight;
    height: 30px;
    border-left-color: var(--d-bc);
    border-radius: 0 var(--v-r-si) var(--v-r-si) 0;
}
// for Win
// body.os-windows .md-image-input-src-btn,
// body.os-windows .md-image-pick-file-btn {
body.os-windows :is(.md-image-input-src-btn, .md-image-pick-file-btn) {
    line-height: @paragraphInnerLineHeight;
}

// br å›žè½¦
.hide-br-and-line-break .md-expand .md-br-content,
.md-raw-inline {
    font-size: .75em;
    color: @buttonBgColor;
}

// HTML æ ‡ç­¾
.md-html-inline .md-meta {
    font-size: .75em;
    font-weight: normal;
    opacity: .5 !important;
}
.md-html-inline kbd .md-meta {
    font-size: 1em;
    opacity: 1 !important;
}

// å›¾ç‰‡é“¾æŽ¥
.md-image {
    font-size: 1em;
}
.md-image>.md-meta {
    color: var(--h-f);
}
kbd .md-image>.md-meta {
    color: @buttonForeColor;
    font-weight: normal;
}

// ç¼–è¾‘çŠ¶æ€æ—¶ï¼Œa å†…çš„ kbd èŽ·å¾—ç„¦ç‚¹
#write .md-focus a kbd:hover {
    background: var(--ac-t1) !important;
}

// å½“å‰ç„¦ç‚¹ã€ç„¦ç‚¹è¡Œ
.md-focus .md-expand {
    border-bottom: @focusStyle !important;
}
.md-focus-container::before {
    content: @focusCursor !important;
    position: absolute;
    left: -15px !important;
}
// #write h6+figure table .md-focus-container::before,
// #write li>figure table .md-focus-container::before {
#write :is(h6+figure, li>figure) table .md-focus-container::before {
    left: 1em !important;
}
// li>figure .md-focus-container::before,
// h6+figure .md-focus-container::before {
:is(li>figure, h6+figure) .md-focus-container::before {
    left: 10px;
}
// å½“å‰æ®µè½ï¼ˆä¸Žåˆ—è¡¨æ®µè½é…å¥—ï¼‰
p.md-focus::before {
    content: @focusCursor;
    position: absolute;
    left: -20px;
}
// å½“å‰åˆ—è¡¨æ®µè½
li.md-focus-container::before {
    content: "" !important;
    position: absolute;
}
li p.md-focus::before { // æ®µè½å¾®è°ƒ
    left: -30px;
}
li.md-task-list-item p.md-focus::before { // ä»»åŠ¡åˆ—è¡¨å¾®è°ƒ
    left: -50px;
}

// #write>h3.md-focus::before,
// #write>h4.md-focus::before,
// #write>h5.md-focus::before,
// #write>h6.md-focus::before,
// h3.md-focus::before,
// h4.md-focus::before,
// h5.md-focus::before,
// h6.md-focus::before {
// #write>:is(h3,h4,h5,h6).md-focus::before,
:is(h3,h4,h5,h6).md-focus::before {
    border: none;
    position: inherit;
    left: inherit;
    float: none;
    top: initial;
    font-size: inherit;
    vertical-align: inherit;
    font-weight: inherit;
    line-height: inherit;
}

// ä¿®æ­£èŽ·å–ç„¦ç‚¹æ—¶æŠ–åŠ¨
// h1.md-focus::before,
// h2.md-focus::before,
// h3.md-focus::before,
// h4.md-focus::before,
// h5.md-focus::before,
// h6.md-focus::before {
:is(h1,h2,h3,h4,h5,h6).md-focus::before {
    padding-left: 0;
    padding-right: 0;
}

// for Win
// body.os-windows header,
// body.os-windows .ty-footer {
body.os-windows :is(header, .ty-footer) {
    background: var(--d-bc) var(--d-bi);
}
// body.os-windows #top-titlebar, // æ ‡é¢˜æ 
// body.os-windows .ty-footer, // åº•éƒ¨æ 
// body.os-windows #typora-sidebar, // ä¾§è¾¹æ 
// body.os-windows #w-titlebar-left, // æ ‡é¢˜æ ä¸»èœå•å…¥å£
// body.os-windows #w-traffic-lgs { // æœ€å¤§åŒ–ã€æœ€å°åŒ–ã€å…³é—­
body.os-windows :is(#top-titlebar,
.ty-footer,
#typora-sidebar,
#w-titlebar-left,
#w-traffic-lgs) {
    background: transparent;
}
body.os-windows .ty-footer { // åº•æ 
    border-top-color: var(--d-bc);
}

#typora-sidebar { // ä¾§è¾¹æ 
    border-right: none;
}

.sidebar-tabs {
    border-bottom: none;
}

.sidebar-tab-btn {
    opacity: .4;
}

// ä¾§è¾¹æ 
.sidebar-content {
    padding: 0 10px 10px 10px;
    background: none;
}
// ä¾§è¾¹æ å½“å‰æ´»åŠ¨ tab
.sidebar-tab.active {
    font-family: var(--v-f-fm-title);
    font-weight: var(--v-f-w-title);
}
// ä¾§è¾¹æ  tab
.sidebar-tab.active::after {
    content: " ï½¥ VLOOK " @themeDesc;
    text-transform: none;
    white-space: pre;
}
// æ¸å˜è‰²
.sidebar-tabs>.sidebar-tab.active {
    background: @lgHeaderBg;
    background-clip: @lgHeaderBgClip;
    -webkit-background-clip: @lgHeaderBgClip;
    color: @lgHeaderColor;
}

sidebar-tabs
// for Win ä¾§è¾¹æ  tab
body.os-windows .info-panel-tab-title {
    white-space: pre;
    color: var(--h-f);
}
body.os-windows .info-panel-tab-title::after {
    content: " ï½¥ VLOOK " @themeDesc;
    text-transform: none;
    white-space: pre;
    font-size: .75em;
}

// å¤§çº²å†…å®¹ä¸ºç©º
#typora-sidebar .outline-content:empty {
    opacity: .4;
    border: 2px dashed var(--d-f-c-alt);
    border-radius: var(--v-r-b);
    background: none;
}

// æ–‡ä»¶åº“
.active-tab-files.use-file-tree-style .sidebar-content {
    bottom: 0;
}
#sidebar-content:hover #file-library {
    padding-bottom: 8px;
}
#typora-sidebar #file-library-tree {
    border-radius: var(--v-r-b);
    padding-top: 0;
    padding-left: 0;
}
#typora-sidebar #file-library-tree:not(:empty) {
    background: var(--pn-c);
}

// æ–‡ä»¶åº“å†…å®¹ä¸ºç©º
// #typora-sidebar #file-library-tree:empty,
// #typora-sidebar #file-library-list-children:empty {
#typora-sidebar :is(#file-library-tree, #file-library-list-children):empty {
    opacity: .4;
    border: 2px dashed var(--d-f-c-alt);
    border-radius: var(--v-r-b);
    background: none;
}

// for Win ç‰ˆæ ·å¼çš„å·®å¼‚è°ƒæ•´
body.os-windows #file-library-tree {
    height: 100%;
}

// å³è¾¹æµ®åŠ¨æ˜¾ç¤ºçš„ä¾§è¾¹æ 
#toc-dropmenu {
    border-radius: var(--v-r-b);
    box-shadow: var(--v-float-shadow), var(--v-float-inn-shadow);
    top: 30px !important;
    right: 20px !important;
}
#toc-dropmenu>.outline-content {
    background: none;
}

// å³ä¾§æµ®åŠ¨å¤§çº²
.outline-title-wrapper {
    color: var(--h-f);
    text-transform: uppercase;
    padding-top: 10px;
    padding-bottom: 10px;
}
.outline-title {
    font-weight: var(--v-f-w-title);
    font-size: 1.25em;
}
.outline-title::after {
    content: " ï½¥ VLOOK " @themeDesc;
}
#toc-dropmenu .divider {
    display: none;
}

// ----- è‡ªåŠ¨æ”¶èµ·æ¨¡å¼ -----
// å¤§çº²é¢æ¿çš„å°é¢ã€å°åº•æ¡ç›®
.outline-content>li:first-child.outline-h6>.outline-item, // å°é¢
.outline-content>.outline-h6:first-child ~ .outline-h1:last-child>.outline-item { // å°åº•
    color: var(--a-color);
    font-size: 14px;
    height: 40px;
    padding-left: 20px !important;
}

.outline-content>li:first-child.outline-h6>.outline-item .outline-label :is(sup, sub) {
    color: inherit !important;
    font-size: 1em !important;
    display: contents !important;
}
.outline-content>li:first-child.outline-h6>.outline-item code, // å°é¢
.outline-content>.outline-h6:first-child ~ .outline-h1:last-child>.outline-item code { // å°åº•
    color: inherit;
    background: none;
    font-family: var(--v-f-fm-tag);
    font-size: 1em;
    font-weight: inherit;
    padding: 0;
    box-shadow: none;
    display: inline;
    white-space: inherit;
}
.outline-content>li:first-child.outline-h6>.outline-item u, // å°é¢
.outline-content>.outline-h6:first-child ~ .outline-h1:last-child>.outline-item u { // å°åº•
    text-decoration: none;
}
// å¤§çº²é¢æ¿çš„å°é¢ã€å°åº•æ¡ç›®æ ‡è¯†
.outline-content>li:first-child.outline-h6>.outline-item::before, // å°é¢
.outline-content>.outline-h6:first-child ~ .outline-h1:last-child>.outline-item::before { // å°åº•
    content: "COVER";
    position: absolute;
    left: 20px;
    color: @aHoverColor;
    font-size: .75em;
    font-style: normal !important;
}
// å¤§çº²é¢æ¿çš„å°é¢é¡¹æ­¢ä¸‹çš„ outline-expander èŠ‚ç‚¹
.outline-content>li:first-child.outline-h6>.outline-item .outline-expander {
    height: 10px !important;
    display: block;
}
.outline-content>.outline-h6:first-child ~ .outline-h1:last-child>.outline-item .outline-expander {
    height: 15px !important;
    display: block;
}
// å¤§çº²é¢æ¿çš„å°é¢é¡¹ç›®ä¸‹çš„å†…å®¹èŠ‚ç‚¹
.outline-content>li:first-child.outline-h6>.outline-item .outline-label,
.outline-content>.outline-h6:first-child ~ .outline-h1:last-child>.outline-item .outline-label {
    display: block; // è°ƒæ•´ä¸ºè¯¥æ ·å¼åŽï¼Œæ‰èƒ½è§¦å‘å°é¢èŠ‚ç‚¹çš„çœç•¥æ˜¾ç¤º
    // height: 20px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}
.outline-content>li:first-child.outline-h6>.outline-item .outline-label::before,
.outline-content>.outline-h6:first-child ~ .outline-h1:last-child>.outline-item .outline-label::before {
    counter-increment: h6toc;
    content: "";
    position: absolute;
    display: block;
    background-color: var(--d-f-c-alt);
    left: 5px;
    top: 5px;
    width: 6px;
    height: 30px;
    border-radius: calc(var(--v-r-s) - 4px);
    opacity: .25;
}
.outline-content>li:first-child.outline-h6>.outline-item-active .outline-label::before,
.outline-content>.outline-h6:first-child ~ .outline-h1:last-child>.outline-item-active .outline-label::before {
    background-color: var(--a-color);
    width: 10px;
}

// å°åº•
.outline-content>.outline-h6:first-child ~ .outline-h1:last-child>.outline-item::before {
    content: "BACK COVER";
}
.outline-content>.outline-h6:first-child ~ .outline-h1:last-child .outline-label::before {
    content: "";
}
// ----- éžè‡ªåŠ¨æ”¶èµ·æ¨¡å¼ -----
.no-collapse-outline .outline-label {
    padding: 3px 6px !important;
}
// å¤§çº²é¢æ¿çš„å°åº•æ¡ç›®
.no-collapse-outline .outline-content .outline-h6:first-child>.outline-item {
    padding-top: 3px !important;
    padding-bottom: 3px !important;
}
.no-collapse-outline .outline-content .outline-h6:first-child>.outline-item::before,
.no-collapse-outline .outline-content>.outline-h6:first-child ~ .outline-h1:last-child>.outline-item::before {
    // left: 6px !important;
    top: 6px !important;
}
.no-collapse-outline .outline-content>.outline-h6:first-child ~ .outline-h1:last-child>.outline-item::before {
    left: 6px !important;
    top: 8px !important;
}

// å¤§çº²é¢æ¿
.outline-content {
    font-family: var(--v-f-fm-title);
    background: var(--pn-c);
    border-radius: var(--v-r-b);
    padding: 10px;
}
// å¤§çº²èŠ‚ç‚¹
.outline-item {
    line-height: 1;
    font-family: var(--v-f-fm-subtitle);
    font-weight: normal;
    padding-top: 5px;
    padding-right: 5px;
    padding-bottom: 5px;
}
// å½“å‰å¤§çº²èŠ‚ç‚¹
.pin-outline .outline-active,
.pin-outline .outline-active strong,
.pin-outline #outline-content .outline-active strong {
    font-weight: var(--v-f-w-title);
}
.outline-item-active {
    box-shadow: 0 0 0 2px fade(@headerColor, 50%) inset;
    border-radius: var(--v-r-s);
    // background: var(--blockquote-bg);
    margin-left: 0;
    border-left-width: 0;
    margin-right: 0;
    border-right-width: 0;
    font-weight: var(--v-f-w-title);
}
// å¤§çº²èŠ‚ç‚¹ hover
.outline-item:hover {
    background: var(--blockquote-bg);
    border-radius: var(--v-r-s);
    margin-left: 0;
    border-left-width: 0;
    margin-right: 0;
    border-right-width: 0;
}
// å¤§çº²èŠ‚ç‚¹ active
.outline-item:active,
.outline-item:active .outline-label,
.outline-item:active .outline-label::before,
.outline-label:active,
.file-library-file-node:active,
.file-library-file-node:active span {
    color: var(--d-bc);
    background: var(--d-f-c-alt);
}
.outline-item:active,
.file-library-file-node:active {
    box-shadow: @tocItemActive_boxShadow;//0 0 0 2px fade(@headerColor, 50%);//var(--pn-c);//var(--tbl-bd);
}
// for before content, COVER, BACK COVER etc.
.outline-item:active>.outline-expander::before,
.outline-item:active::before {
    color: var(--d-bc) !important;
}

.outline-label:hover {
    text-decoration: none;
}

// æœç´¢ã€æ›¿æ¢
#md-searchpanel .btn label {
    color: var(--d-f-c);
}
#md-searchpanel input {
    border-radius: var(--v-r-s);
    border-color: var(--tbl-bd);
}
.searchpanel-search-option-btn {
    color: @buttonBgColor;
}
.searchpanel-search-option-btn.active {
    color: @buttonForeColor;
}

// å¿«é€Ÿæ‰“å¼€
#typora-quick-open {
    font-family: var(--v-f-fm-tag);
    background: var(--pn-c);
    border-radius: var(--v-r-b);
    box-shadow: var(--v-float-shadow), var(--v-float-inn-shadow);
    border: none;
}
// å¿«é€Ÿæ‰“å¼€è¾“å…¥æ¡†
#typora-quick-open-input {
    padding: 5px;
    font-family: var(--v-f-fm-text);
}
#typora-quick-open-input input {
    border-radius: var(--v-r-s);
    max-height: 40px;
    border-color: var(--tbl-bd);
    font-size: 1.5em;
}
.ty-quick-open-category-title {
    color: var(--h-f);
}
// å¿«é€Ÿæ‰“å¼€æœç´¢ç»“æžœæ¡ç›®
.typora-quick-open-item {
    height: 40px;
    padding-left: 20px;
}
.typora-quick-open-item.active {
    border-radius: var(--v-r-s);
    background: var(--pn-c-alt);
    color: var(--d-f-c);
    margin-left: 5px;
    margin-right: 5px;
    padding-left: 15px;
}
.typora-quick-open-item-path {
    font-size: .625em;
}

// Typora ç¼–è¾‘æ—¶ UI ç›¸å…³å˜é‡
:root {
    --active-file-bder: var(--h-f);
    --primary-color: var(--h-f);
    --active-file-bg: var(--pn-c);
    --active-file-text-color: var(--d-f-c);
    --text-color: var(--d-f-c);
    --active-toggle-btn-color: @buttonBgColor;
    --monospace: var(--v-f-fm-code);
}

// ç›®å½•/æ–‡ä»¶èŠ‚ç‚¹
.file-tree-node {
    font-family: var(--v-f-fm-bd);
}
// ç›®å½•èŠ‚ç‚¹
.file-tree-node[data-has-sub=true] {
    font-weight: var(--v-f-w-title);
}
.file-tree-node[data-has-sub=false] {
    font-weight: normal;
}
// æ–‡ä»¶èŠ‚ç‚¹
.file-library-file-node {
    border-radius: var(--v-r-s);
}
.file-library-file-node:active {
    box-shadow: @tocItemActive_boxShadow;//0 0 0 2px fade(@headerColor, 50%) !important;
}
// å½“å‰èŠ‚ç‚¹
.file-library-file-node.active {
    box-shadow: @tocItemCurrent_boxShadow;//0 0 0 2px fade(@headerColor, 50%) inset;
    // box-shadow: 0 0 0 2px @aHoverColor;
}
// ç‚¹å‡»èŠ‚ç‚¹
// .file-library-file-node:active {
//     color: var(--d-bc);
//     background: var(--d-f-c-alt);
//     box-shadow: 0 0 0 2px var(--tbl-bd);
// }
// .file-library-file-node:active span {
//     color: var(--d-bc);
// }
// èŠ‚ç‚¹
.file-node-content {
    cursor: pointer;
}
// ç‚¹å‡»èŠ‚ç‚¹
.file-library-node:not(.file-node-root):focus>.file-node-content {
    outline: 0;
}
// æ–‡ä»¶åï¼ˆå«æ‰©å±•åï¼‰
// .file-node-title {
//     // margin-top: -4px;
// }
body.os-windows .file-node-title { // for Win
    margin-top: 0px;
}
// æ‰©å±•å
.file-node-title-ext-part {
    color: var(--d-f-c-alt);
}

// ----------------------------------------
// æºç æ¨¡å¼
#typora-source .CodeMirror {
    font-family: var(--monospace);
}
#typora-source .CodeMirror-lines {
    margin: 0 10px;
    max-width: 100%;
}
#typora-source .CodeMirror pre {
    font-family: var(--v-f-fm-text);
}
// é—ªåŠ¨å…‰æ ‡
#typora-source .CodeMirror-cursor {
    border-color: @aHoverColor;
}
// æ ‡é¢˜
#typora-source .cm-header {
    color: var(--h-f);
    font-family: var(--v-f-fm-title);
    font-weight: var(--v-f-w-title);
}
// é“¾æŽ¥
#typora-source .cm-link {
    color: @aHoverColor;
    font-family: var(--monospace);
    font-weight: normal;
    text-decoration: none;
}
// å›¾ç‰‡è¯­æ³•å†…é“¾æŽ¥
#typora-source .cm-string+.cm-link,
#typora-source .cm-tag+.cm-link,
#typora-source .cm-overlay+.cm-link {
    color: var(--d-f-c-alt);
}
// å›¾ç‰‡
#typora-source .cm-tag {
    color: @aColor;
    font-family: var(--monospace);
}
// é“¾æŽ¥å†…å®¹
#typora-source .cm-string {
    color: var(--d-f-c-alt);
    font-family: var(--monospace);
}
// å¼•ç”¨
#typora-source pre.cm-atom {
    background: var(--blockquote-bg);
}
#typora-source .cm-atom,
#typora-source .cm-atom .cm-number {
    color: var(--d-f-c);
}
// æ³¨é‡Šï¼ˆcodeï¼‰
#typora-source .cm-comment {
    font-size: .9em;
    font-family: var(--monospace);
    background: var(--code-bg);
    color: var(--code-t);
}
// ç²—ä½“
#typora-source .cm-strong {
    font-family: var(--v-f-fm-bd);
}
// åˆ é™¤
#typora-source .cm-del {
    color: var(--d-f-c-alt);
}
// è¡¨æ ¼è¡Œ
#typora-source pre.cm-table-row {
    font-family: var(--monospace);
}
// å½“å‰ç„¦ç‚¹è¡Œ
#typora-source .CodeMirror-activeline-background {
    border-bottom: @focusStyle;
}
// åˆ—è¡¨åºå·
#typora-source .cm-block-start.cm-variable-2 {
    color: var(--d-f-c-alt);
    font-family: var(--v-f-fm-num);
}

// #write sup.md-footnote {
//     color: var(--d-f-c-alt);
//     background: none;
//     padding: 0;
//     margin-left: .2em;
//     margin-right: .2em;
// }

.md-meta {
    color: var(--a-color);
}

// é’ˆå¯¹åœ¨ç¼–è¾‘æ¨¡å¼æ—¶æ— æ•ˆå›¾ç‰‡é“¾æŽ¥çš„æ ·å¼
.md-img-error>.md-meta {
    // background: var(--ac-rd-alt);
    color: var(--ac-rd-lg) !important;
    font-style: italic;
    border: 2px dashed var(--ac-rd-lg);
    border-radius: var(--v-r-b);
    line-height: @paragraphInnerLineHeight;
    padding: 1px;
}
// æŽ’é™¤å¤šåª’ä½“ç±»çš„
:is(.md-img-error[data-src$=".mp3"],
.md-img-error[data-src$=".m4a"],
.md-img-error[data-src$=".ogg"],
.md-img-error[data-src$=".wav"],
.md-img-error[data-src*=".mp3?"],
.md-img-error[data-src*=".m4a?"],
.md-img-error[data-src*=".ogg?"],
.md-img-error[data-src*=".wav?"],
.md-img-error[data-src$=".ogv"],
.md-img-error[data-src$=".mp4"],
.md-img-error[data-src$=".webm"],
.md-img-error[data-src*=".ogv"],
.md-img-error[data-src*=".mp4"],
.md-img-error[data-src*=".webm"])>.md-meta {
    // background: none;
    border: none;
    // background: var(--ac-t1-alt);
    color: var(--h-f) !important;
    border: inherit;
    padding: inherit;
    border-radius: inherit;
}
:is(.md-img-error[data-src$=".mp3"],
.md-img-error[data-src$=".m4a"],
.md-img-error[data-src$=".ogg"],
.md-img-error[data-src$=".wav"],
.md-img-error[data-src*=".mp3?"],
.md-img-error[data-src*=".m4a?"],
.md-img-error[data-src*=".ogg?"],
.md-img-error[data-src*=".wav?"])>.md-meta:first-of-type:before {
    content: "ðŸ”Š";
}
:is(.md-img-error[data-src$=".ogv"],
.md-img-error[data-src$=".mp4"],
.md-img-error[data-src$=".webm"],
.md-img-error[data-src*=".ogv"],
.md-img-error[data-src*=".mp4"],
.md-img-error[data-src*=".webm"])>.md-meta:first-of-type:before {
    content: "ðŸŽ¦";
}

// header é”šç‚¹å ä½
.md-header-anchor {
    margin: 0 !important;
    vertical-align: top !important;
}

// é‡æ–°å®šä¹‰ emoji ç¬¦å·åœ¨ç¼–è¾‘æ—¶çš„æŽ’ç‰ˆ
.md-emoji-span::before {
    vertical-align: baseline;
}

// è„šæ³¨è¡Œåºå·
.md-fn-count {
    font-family: var(--v-f-fm-bd);
    font-weight: normal;
}

.md-fn-count::before {
    content: "[";
}

.md-fn-count::after {
    content: "] ";
}

// YAML çš„æ ·å¼
#write>pre.md-meta-block {
    font-family: var(--monospace);
    font-weight: var(--v-f-w-text);
    font-size: .875em;
    line-height: @paragraphInnerLineHeight;
    border-radius: var(--v-r-b);
    padding: 30px 10px 5px 10px;
    color: @aColor;//var(--code-t);
    background: var(--code-bg);
    border: 2px dashed var(--std-code-shadow);
    // box-shadow: 0 0 0 2px var(--std-code-shadow) inset;
}
#write pre.md-meta-block:empty:before,
#write>pre.md-meta-block::before {
    content: "--- YAML Front Matter ---";
    position: absolute;
    font-size: 0.875em;
    font-style: italic;
    font-weight: bold;
    margin-top: -22px;
    color: var(--d-f-c);
    opacity: .5;
}
// YAML å†…å®¹ä¸ºç©ºæ—¶
#write>pre.md-meta-block:empty {
    padding: 5px 10px;
}
#write pre.md-meta-block:empty:before {
    content: "input your YAML Front Matter ...";
    font-style: normal;
    font-weight: normal;
    position: static;
    opacity: .2;
    // margin-top: 0;
}
// YAML / code èŽ·å¾—ç„¦ç‚¹
#write>pre.md-meta-block.md-focus, // YAML ç­‰èŽ·å¾—ç„¦ç‚¹
#write .md-expand code { // code èŽ·å¾—ç„¦ç‚¹
    // color: var(--d-f-c) !important;
    // background: var(--ac-t2-alt) !important;
    caret-color: @aHoverColor;//var(--d-bc);
}
#write>pre.md-meta-block:first-child {
    margin-top: 20px;
}
// æºç æ¨¡å¼ä¸‹çš„ YAML
#typora-source pre.cm-yaml {
    font-family: var(--monospace);
    font-weight: var(--v-f-w-text);
    font-size: .875em;
    background: var(--code-bg);
}

/**************************************
* Header Counters in TOC ç›®å½•ä¸­çš„æ ‡é¢˜åºå·æ ·å¼
**************************************/

/* No link underlines in TOC */

content #write>h1:first-of-type::before
content #write>#write>pre.md-meta-block+h1:first-of-type::before {
    content: "NO TOC";
}

content .md-toc::before {
    content: "â˜° Table of contents / ç›®å½• â˜°";
    font-size: .875em;
    font-weight: bold;
    font-style: italic;
    color: var(--d-f-c);
    padding-left: 35px;
    opacity: .5;
}

// ç›®å½•æ“ä½œæ 
#write div.md-toc-tooltip {
    background-color: var(--d-f-c);
    line-height: 1.5;
    color: var(--d-bc);
    border: none;
    margin-left: 30px;
    padding-left: 5px;
    width: 250px;
    border-radius: var(--v-r-b) var(--v-r-b) @tableBorderRadius @tableBorderRadius;
}
#write div.md-toc-tooltip > span {
    font-size: .875em;
}
#write div.md-toc-tooltip .btn {
    padding: 1px 6px;
    margin: 3px;
}
#write div.md-toc-tooltip .btn:hover {
    background-color: var(--item-hover-bg-color);
    color: var(--item-hover-text-color);
}


.md-toc:focus .md-toc-content {
    border-color: var(--border-color);
}

.md-toc-content,
.outline-content {
    counter-reset: h1;
    // counter-reset: h1toc;
}

.md-toc-h1 {
    margin-left: 0;
    padding-left: 5px;
    // counter-reset: h2toc;
}
.md-toc-h1,
.outline-h1 {
    counter-reset: h2;
    // counter-reset: h2toc;
}

.md-toc-h2 {
    margin-left: 0;
    padding-left: 15px;
    // counter-reset: h3toc;
}
.md-toc-h2,
.outline-h2 {
    counter-reset: h3;
    // counter-reset: h3toc;
}

.md-toc-h3 {
    margin-left: 0;
    padding-left: 25px;
    // counter-reset: h4toc;
}
.md-toc-h3,
.outline-h3 {
    counter-reset: h4;
    // counter-reset: h4toc;
}

.md-toc-h4 {
    margin-left: 0;
    padding-left: 35px;
    // counter-reset: h5toc;
}
.md-toc-h4,
.outline-h4 {
    counter-reset: h5;
    // counter-reset: h5toc;
}

.md-toc-h5 {
    margin-left: 0;
    padding-left: 45px;
    // counter-reset: h6toc;
}
.md-toc-h5,
.outline-h5 {
    counter-reset: h6toc;
}

.md-toc-h6,
.outline-h6 {
    counter-reset: h6toc;
    content: "";
    font-size: 12px;
    color: var(--d-f-c-alt);
}

// å¾®è°ƒå¤§çº²èŠ‚ç‚¹çš„ç¼©è¿›
.outline-h1>.outline-item {
	padding-left: .35em;
}
.outline-h2>.outline-item {
	padding-left: 1.35em;
}
.outline-h3>.outline-item {
	padding-left: 2.35em;
}
.outline-h4>.outline-item {
	padding-left: 3.35em;
}
.outline-h5>.outline-item {
	padding-left: 4.35em;
}
.outline-h6>.outline-item {
	padding-left: 6em;
}
.outline-h6>.outline-item>.outline-label::before {
    content: @h6BeforeContent;//"â– "; // â—Ž
    opacity: .5;
}

.md-toc-content>.md-toc-h6:first-child ~ .md-toc-h1:last-child, // æœ‰å°é¢çš„æƒ…å†µä¸‹ï¼Œæœ€åŽä¸€ä¸ª h1 ä¸ºå°åº•
.md-toc-h6 {
    display: none;
    margin-left: 0;
    padding-left: 50px;
}

.outline-label {
    word-break: break-word;
}

.outline-label::before {
    color: var(--d-f-c-alt);
}

.md-toc-h1::before,
.outline-h1 .outline-label::before {
    counter-increment: h1;
    // counter-increment: h1toc;
    content: @h1BeforeContent;//counter(h1toc) ".  ";
}

.md-toc-h1>.md-toc-inner {
    margin-left: 0;
    font-weight: var(--v-f-w-title);
}

.md-toc-h2::before,
.outline-h2 .outline-label::before {
    counter-increment: h2;
    // counter-increment: h2toc;
    content: @h2BeforeContent;//counter(h1toc) "." counter(h2toc) "  ";
}

.md-toc-h2>.md-toc-inner {
    margin-left: 0;
}

.md-toc-h3::before,
.outline-h3 .outline-label::before {
    counter-increment: h3;
    // counter-increment: h3toc;
    content: @h3BeforeContent;//counter(h1toc) "." counter(h2toc) "." counter(h3toc) "  ";
}

.md-toc-h3>.md-toc-inner {
    margin-left: 0;
}

.md-toc-h4::before,
.outline-h4 .outline-label::before {
    counter-increment: h4;
    // counter-increment: h4toc;
    content: @h4BeforeContent;//counter(h1toc) "." counter(h2toc) "." counter(h3toc) "." counter(h4toc) "  ";
}

.md-toc-h4>.md-toc-inner {
    margin-left: 0;
}

.md-toc-h5::before,
.outline-h5 .outline-label::before {
    counter-increment: h5;
    // counter-increment: h5toc;
    content: @h5BeforeContent;//counter(h1toc) "." counter(h2toc) "." counter(h3toc) "." counter(h4toc) "." counter(h5toc) "  ";
}

.md-toc-h5>.md-toc-inner {
    margin-left: 0;
}

.md-toc-h6::before,
.outline-h6 .outline-label::before {
    counter-increment: h6;
    // counter-increment: h6toc;
    content: "";
}

// å¯¼å‡º HTML åŽçš„ç›®å½•å¤§çº²å†…çš„è‡ªåŠ¨ç¼–ç å†…å®¹
// body.typora-export .md-toc-h1::before,
// body.typora-export .md-toc-h2::before,
// body.typora-export .md-toc-h3::before,
// body.typora-export .md-toc-h4::before,
// body.typora-export .md-toc-h5::before {
body.typora-export :is(.md-toc-h1, .md-toc-h2, .md-toc-h3, .md-toc-h4, .md-toc-h5)::before {
    content: attr(d-header-num) !important;
}

.typora-export-show-outline .typora-export-content {
    max-width: none;
    display: inherit;
}

// ====================
// ç¼–è¾‘æ—¶é¢„ç½®é¢œè‰²æ ‡è¯†çš„å…¬å…±æ ·å¼
content>#write blockquote p>sub:only-child, // å½©è™¹å¼•ç”¨
content>#write p>sub:first-child, // å½©è™¹æ–‡æœ¬ï¼ˆæ®µè½ï¼‰
content>#write table :is(th,td)>span>sub:first-child, // å•å…ƒæ ¼ï¼ˆæ®µè½ï¼‰
content>#write table :is(th,td)>span>sub:last-child,
content>#write span:is([md-inline="code"],[md-inline="strong"],[md-inline="em"],[md-inline="highlight"],[md-inline="underline"])+sub { // å½©è™¹æ–‡æœ¬ï¼ˆæŒ‡å®šæ ¼å¼ï¼‰
    color: var(--ac-t1-lg);//var(--d-f-c-alt);
    font-family: var(--v-f-fm-code);
    font-weight: bold;
    font-size: .5em;
    border-radius: var(--v-r-tag);
    padding-right: 2px;
    opacity: .5;
}
// é’ˆå¯¹ å½©è™¹æ ‡ç­¾/å½©è™¹å¾½ç«  çš„å¾®è°ƒ
// content>#write span[md-inline="code"]+sub {
//     border-top: 1px solid var(--ac-t1);
//     border-radius: 0;
// }
// é’ˆå¯¹ å½©è™¹å¼•ç”¨ çš„å¾®è°ƒ
content>#write blockquote p>sub:only-child {
    border: 1px solid var(--ac-t2);
}

// å‰ç¼€æç¤ºå…¬å…±æ ·å¼
content>#write blockquote p>sub:only-child::before,
content>#write p>sub:first-child::before,
content>#write table :is(th,td)>span>sub:first-child::before,
content>#write table :is(th,td)>span>sub:last-child::before,
content>#write span:is([md-inline="code"],[md-inline="strong"],[md-inline="em"],[md-inline="highlight"],[md-inline="underline"])+sub::before {
    font-size: .875em;
    color: var(--ac-t1-lg);//var(--d-f-c-alt);
}

// é’ˆå¯¹ å½©è™¹å¼•ç”¨ çš„å‰ç¼€æç¤ºæ ·å¼
content>#write blockquote p>sub:only-child::before {
    content: ">";
    color: var(--ac-t2);
    font-weight: bold;
    padding-left: 4px;
}
// é’ˆå¯¹ å½©è™¹æ–‡æœ¬/å•å…ƒæ ¼ï¼ˆæ®µè½ï¼‰ çš„å‰ç¼€æç¤ºæ ·å¼
content>#write p>sub:first-child::before,
content>#write table :is(th,td)>span>sub:first-child::before {
    content: "Â¶";
    color: var(--ac-t2);
}
// é’ˆå¯¹ å½©è™¹æ–‡æœ¬ï¼ˆæŒ‡å®šæ ¼å¼ï¼‰ çš„å‰ç¼€æç¤ºæ ·å¼
content>#write span:is([md-inline="code"],[md-inline="strong"],[md-inline="em"],[md-inline="highlight"],[md-inline="underline"])+sub::before {
    content: "";
}

// è¡¨æ ¼åˆ—æ ¼å¼
content>#write table th :is(strong, em, u, mark, del)::before,
content>#write table th[style*=":right"] span::before {
    content: "Col-Format / åˆ—æ ¼å¼";
    position: absolute;
    margin-top: -1em;
    font-size: 0.5em;
    font-weight: normal;
    opacity: .5;
}
// content>#write table th strong::before {
//     content: "** **";
// }
// content>#write table th em::before {
//     content: "* *";
// }
// content>#write table th u::before {
//     content: "<u> </u>";
// }
// content>#write table th mark::before {
//     content: "== ==";
// }
// content>#write table th del::before {
//     content: "~~ ~~";
// }

// æœ‰åºã€æ— åºåˆ—è¡¨ä¸‹çš„å›¾ç‰‡ã€éžå›¾ç‰‡æ®µè½
#write li .md-p>span:not([class*=md-image]) {
    margin-top: 0;
    margin-bottom: 0;
}
#write li .md-p>span[class*=md-image] {
    margin-bottom: @paragraphPadding;
}

// æœ‰åºåˆ—è¡¨ä¸‹çš„ä»»åŠ¡åˆ—è¡¨
#write ol>.md-task-list-item { // 1 çº§
    list-style-type: none !important;
}
#write ol>li>ol>.md-task-list-item { // 2 çº§
    list-style-type: none !important;
}
#write ol>li>ol>li>ol>.md-task-list-item { // 3 çº§
    list-style-type: none !important;
}
#write ol>li>ol>li>ol>li>ol>.md-task-list-item { // 4 çº§
    list-style-type: none !important;
}
#write ol>li>ol>li>ol>li>ol>li>ol>.md-task-list-item { // 5 çº§
    list-style-type: none !important;
}
#write ol>li>ol>li>ol>li>ol>li>ol>li>ol>.md-task-list-item { // 6 çº§
    list-style-type: none !important;
}

// æ— åºåˆ—è¡¨ä¸‹çš„ä»»åŠ¡åˆ—è¡¨
#write ul>.md-task-list-item { // 1 çº§
    list-style-type: none !important;
}
#write ul>li>ul>.md-task-list-item { // 2 çº§
    list-style-type: none !important;
}
#write ul>li>ul>li>ul>.md-task-list-item { // 3 çº§
    list-style-type: none !important;
}
#write ul>li>ul>li>ul>li>ul>.md-task-list-item { // 4 çº§
    list-style-type: none !important;
}
#write ul>li>ul>li>ul>li>ul>li>ul>.md-task-list-item { // 5 çº§
    list-style-type: none !important;
}
#write ul>li>ul>li>ul>li>ul>li>ul>li>ul>.md-task-list-item { // 6 çº§
    list-style-type: none !important;
}

// ä»»åŠ¡åˆ—è¡¨
.md-task-list-item {
    padding-left: 32px;
}
// ä»»åŠ¡åˆ—è¡¨å¤é€‰æ¡†
.md-task-list-item>input {
    margin-top: .5em !important;
    margin-left: -.5em !important;
}
.v-svg-input-checkbox {
    position: absolute;
    margin-top: .3125em !important;
    margin-left: -.5em !important;
    display: inline-block;
    vertical-align: middle;
}

// ä»»åŠ¡åˆ—è¡¨æ–‡æœ¬
.md-task-list-item>p {
    margin-left: .75em;// !important;
    margin-top: 0;
    margin-bottom: 0;
}

.md-diagram-panel-preview {
    padding-top: 0;
}

.md-diagram-panel {
    border-radius: var(--v-r-b);
    padding: 0;
}

.md-diagram-panel svg {
    width: auto;
}

// ====================
// æ¨¡æ‹Ÿ details + summary
// å¼•ç”¨å†…çš„ç¬¬ä¸€ä¸ªå¼•ç”¨ï¼Œä¸”æœ‰ h6 å­å…ƒç´ ï¼Œåˆ™ä½œä¸º details çš„ summary
#write blockquote>blockquote:has(>h6) {//:first-child {
    margin-top: 0;
    padding-left: 0;
    border-width: 0;
}

// ====================
// ç¬¬ 1 é¢˜æ³¨ï¼ˆç¼–è¾‘æ—¶æ ·å¼ï¼‰
// é«˜äº®å†…çš„æ–œä½“ï¼Œæˆ–æ–œä½“å†…çš„é«˜äº®
// é’ˆå¯¹é¢˜æ³¨ç®€åŒ–è¯­æ³•çš„æ ·å¼
// #write p>em>mark,
#write p>[md-inline="em"]>em>[md-inline="highlight"]>mark {
    font: normal .875em var(--v-f-fm-bd);
    color: var(--d-f-c);
    background-color: var(--tbl-td-bg);
    box-shadow: none;
    text-shadow: none;
    padding: 2px 10px;
    border-radius: var(--v-r-b) var(--v-r-b) 0 0;
    display: inline-block;
}
// #write li>p>em>mark,
#write li>p>[md-inline="em"]>em>[md-inline="highlight"]>mark {
    margin: 0; // åˆ—è¡¨ä¸‹çš„å¾®è°ƒ
}
// #write p>em>mark::before,
#write p>[md-inline="em"]>em>[md-inline="highlight"]>mark::before {
    content: "Caption/é¢˜æ³¨. ";
    color: var(--ac-t1-lg);//var(--d-f-c-alt);
    opacity: .5;
    font-size: .85em;
}
// --------------------
// ç¬¬ 2 é¢˜æ³¨ï¼ˆç¼–è¾‘æ—¶æ ·å¼ï¼‰
// #write p>em>mark>em,
#write p>[md-inline="em"]>em>[md-inline="highlight"]>mark>[md-inline="em"]>em {
    font-style: normal;
    // border-bottom: 0;
}
// #write p>em>mark>em::before,
#write p>[md-inline="em"]>em>[md-inline="highlight"]>mark>[md-inline="em"]>em::before {
    content: " â”‚ B.Caption/åº•éƒ¨é¢˜æ³¨. ";
    color: var(--ac-t1-lg);//var(--d-f-c-alt);
    opacity: .5;
    font-size: .85em;
}
.md-expand mark .md-meta {
    color: var(--a-color);
    opacity: 1 !important;
}

/**************************************
* é‡å®šä¹‰TyporaåŽŸç”Ÿæ ·å¼
**************************************/

// å¼ºåˆ¶æŒ‡å®šä½¿ç”¨è¢«ä¿®æ”¹è¿‡åŽçš„ --bg-colorï¼Œç¡®ä¿èƒŒæ™¯å›¾ç‰‡èƒ½åœ¨ Typora ç¼–è¾‘æ—¶æ­£å¸¸æ˜¾ç¤º
content>#write {
    background: var(--d-bc) var(--d-bi);
}

content>#write img {
    padding: 0;
    border: unset;
}
// å›¾ç‰‡å¸¦ srcset å‚æ•°çš„å¾®è°ƒ
content>#write span[md-inline="image"][data-src*="srcset="]::before,
content>#write span[md-inline="image"][data-src*="darksrc="]::before {
    content: "â—©";
    // content: "â—§ SrcSet / è®¾å¤‡é€‚é… ";
    color: var(--d-bc);
    font-size: .75em;
    font-style: italic;
    font-weight: bold;
    // border-radius: var(--v-r-b);
    word-break: initial;
    padding: 0 4px;
    margin: 5px 0 0 5px;
    position: absolute;
    opacity: .5;
    background: var(--d-f-c);
}
content>#write span[md-inline="image"][data-src*="mode=icon"]::before,
content>#write span[md-inline="image"][data-src*="#icon"]::before {
    content: "" !important;
}

#write {
    max-width: 100%;
    margin: 0 auto;
    padding: 10px 20px;
}

// #write>ul:first-child,
// #write>ol:first-child {
#write>:is(ul,ol):first-child {
    margin-top: 30px;
}

// ç¼–è¾‘æ—¶çš„ summary
content>#write blockquote>blockquote:first-child>h6 {
    padding: 0;
    border-radius: 0;
    border-bottom: 1px solid;
    border-color: var(--d-bc);
    padding-bottom: .3125em;
    margin-bottom: .3125em;
}
// ç¼–è¾‘æ—¶çš„ summary æŠ˜å å±•å¼€æ ·å¼
content>#write blockquote>blockquote:first-child>h6::before {
    content: "âŠ•â•±âŠ–" !important; // âŠ—
    // content: "Fold\aæŠ˜ å " !important; // âŠ—
    opacity: .5;
    color: var(--d-bc) !important;
    background: var(--ac-t1-lg) !important;
    font-size: .875em;
    width: auto;
    height: auto;
    border-radius: var(--v-r-tag);
    border: none;
    // font-weight: var(--v-f-w-bd);
    padding: 3px;
}

// å¤šè¡Œä»£ç æ ·å¼
.md-fences {
    color: var(--d-f-c);
    font-family: var(--v-f-fm-code);
    border-radius: var(--v-r-b);
    border: 2px solid var(--tbl-bd);
    margin: 0;
}

// ä»£ç å—ç›¸å…³æ ·å¼
#write pre.ty-contain-cm {
    padding: 0;
    border-radius: var(--v-r-b);
    width: 100%;
}
// ç¼–è¾‘æ—¶
content>#write pre.ty-contain-cm {
    margin-bottom: @scrollFix;
}

.CodeMirror-scroll {
    border-radius: var(--v-r-t);
}

.CodeMirror-sizer {
    background: var(--d-bc);
}

.CodeMirror pre {
    padding: 0 10px;
}

.CodeMirror-line:hover {
    background: var(--tbl-th-bg);
}

.CodeMirror.cm-s-inner {
    border-radius: var(--v-r-t);
}

.CodeMirror div.CodeMirror-cursor {
    border-left: 2px solid var(--cm-CodeMirror-cursor);
}

.CodeMirror-gutters {
    border-width: 0;
    background: var(--pn-c);
    border-right: 1px solid var(--pn-c);
    height: 100% !important; // é¿å…ä»£ç å—çš„é¢˜æ³¨ hover æ ·å¼çš„èƒŒæ™¯è‰²é€å‡º
}

.CodeMirror-linenumber {
    color: var(--h-f);
    font-family: var(--v-f-fm-num);
    min-width: fit-content !important; // é¿å…æŸäº›çª„å­—ä½“ï¼Œæ€»è¡Œæ•°ä¸º 11 è¡Œå·æ—¶ï¼Œç¬¬ 10 è¡Œä¼šé”™ä½
}

// .cm-s-inner .cm-variable,
// .cm-s-inner .cm-operator,
// .cm-s-inner .cm-property {
.cm-s-inner :is(.cm-variable, .cm-operator, .cm-property) {
    color: var(--cm-variable);
}

.cm-s-inner .cm-variable-2 {
    color: var(--cm-variable-2);
}

.cm-s-inner .cm-variable-3 {
    color: var(--cm-variable-3);
}

.cm-s-inner .cm-keyword {
    color: var(--cm-keyword);
}

.cm-s-inner .cm-tag {
    color: var(--cm-tag);
}

.cm-s-inner .cm-attribute {
    color: var(--cm-attribute);
}

.cm-s-inner .cm-string {
    color: var(--cm-string);
}

.cm-s-inner .cm-string-2 {
    color: var(--cm-string-2);
}

.cm-s-inner .cm-comment,
.cm-s-inner.cm-comment {
    color: var(--cm-comment);
}

// .cm-s-inner .cm-header,
// .cm-s-inner .cm-def,
.cm-s-inner :is(.cm-header, .cm-def),
.cm-s-inner.cm-header,
.cm-s-inner.cm-def {
    color: var(--cm-header);
}

.cm-s-inner .cm-quote,
.cm-s-inner.cm-quote {
    color: var(--cm-quote);
}

.cm-s-inner .cm-hr {
    color: var(--cm-hr);
}

.cm-s-inner .cm-link {
    color: var(--cm-link);
    text-decoration: none;
    border-bottom: 1px solid var(--cm-link);
}

.cm-s-inner .cm-negative {
    color: var(--cm-negative);
}

.cm-s-inner .cm-positive {
    color: var(--cm-positive);
}


// .cm-s-inner .cm-meta,
// .cm-s-inner .cm-qualifier {
.cm-s-inner :is(.cm-meta, .cm-qualifier) {
    color: var(--cm-meta);
}

.cm-s-inner .cm-builtin {
    color: var(--cm-bulidin);
}

.cm-s-inner .cm-bracket {
    color: var(--cm-bracket);
}

.cm-s-inner .cm-atom,
.cm-s-inner.cm-atom {
    color: var(--cm-atom);
}

.cm-s-inner .cm-number {
    color: var(--cm-number);
}

/* æ•°å­¦å…¬å¼ */
// .MathJax_SVG {
.MathJax_SVG_Display {
    border: none;
    overflow-x: auto;
    border: 2px solid var(--pn-c);
    border-radius: var(--v-r-b);
    padding: 10px;
    cursor: pointer;
}
// å…¬å¼ç¼–å·æ ‡ç­¾
.MathJax_SVG g[id^=mjx-eqn-] {
    fill: var(--d-f-c-alt);
}
.MathJax_SVG_Display:hover {
    border-color: @aLineColor;
}
.MathJax_SVG_Display:active {
    transform: scale(1.5);
    border: none;
}
.MathJax_SVG g text {
    color: var(--d-f-c);
}

// è¡Œé—´ï¼ˆç‹¬å ä¸€è¡Œï¼‰æ•°å­¦å…¬å¼
.md-math-container {
    font-size: 1.5em !important;
}

// è¡Œé—´å…¬å¼é¢„è§ˆ
#write .code-tooltip {
    // color: var(--d-f-c);
    background: var(--pn-c);
    // color: var(--d-bc);
    // background: var(--d-f-c);
    font-family: var(--v-f-fm-subtitle);
    font-weight: var(--v-f-w-title);
    border-radius: var(--v-r-si);
    box-shadow: none;
    padding: 0 2px;
}
#write .code-tooltip .ty-input:focus {
    // color: var(--d-f-c);
    // background: var(--d-bc);
    background: var(--pn-c);
    border-radius: var(--v-r-s);
}

// è¡Œå†…å…¬å¼é¢„è§ˆ
.code-tooltip.md-hover-tip,
.md-hover-tip .md-arrow:after {
    background: var(--pn-c);
}

// è¡Œå†…æ•°å­¦å…¬å¼
mjx-container {
    font-size: .875em;
}

// å…¬å¼é“¾æŽ¥
mjx-container[jax="SVG"]>svg a {
    fill: var(--a-color) !important;
    stroke: var(--a-color) !important;
    box-shadow: 0 -.3em 0 0 fade(@aLineColor, 30%) inset;
}
mjx-container[jax="SVG"]>svg a:hover {
    fill: @aHoverColor !important;
    stroke: @aHoverColor !important;
    box-shadow: 0 -.3em 0 0 fade(@aLineColor, 30%) inset;
}
mjx-container[jax="SVG"]>svg a:active {
    fill: @aHoverColor !important;
    stroke: @aHoverColor !important;
    box-shadow: 0 0 0 2px fade(@aHoverColor, 50%);
}
